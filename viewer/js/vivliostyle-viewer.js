/**
 * @vivliostyle/viewer v2.0.0-pre.6
 * Vivliostyle Viewer UI component, for rich paged viewing and printing in browser.
 *
 * @author Vivliostyle Foundation
 * @license AGPL-3.0
 * @preserve
 */
!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}var t,n,i=e((function(e,t){
/*!
	   * Knockout JavaScript library v3.5.1
	   * (c) The Knockout.js team - http://knockoutjs.com/
	   * License: MIT (http://www.opensource.org/licenses/mit-license.php)
	   */
!function(n){var i=this||(0,eval)("this"),o=i.document,s=i.navigator,r=i.jQuery,a=i.JSON;r||"undefined"==typeof jQuery||(r=jQuery),function(n){n(e.exports||t)}((function(e,t){function l(e,t){return(null===e||typeof e in S)&&e===t}function h(e,t){var i;return function(){i||(i=y.a.setTimeout((function(){i=n,e()}),t))}}function c(e,t){var n;return function(){clearTimeout(n),n=y.a.setTimeout(e,t)}}function u(e,t){t&&"change"!==t?"beforeChange"===t?this.pc(e):this.gb(e,t):this.qc(e)}function d(e,t){null!==t&&t.s&&t.s()}function p(e,t){var n=this.qd,i=n[x];i.ra||(this.Qb&&this.mb[t]?(n.uc(t,e,this.mb[t]),this.mb[t]=null,--this.Qb):i.I[t]||n.uc(t,e,i.J?{da:e}:n.$c(e)),e.Ja&&e.gd())}var f,g,m,b,w,E,y=void 0!==e?e:{};y.b=function(e,t){for(var n=e.split("."),i=y,o=0;o<n.length-1;o++)i=i[n[o]];i[n[n.length-1]]=t},y.L=function(e,t,n){e[t]=n},y.version="3.5.1",y.b("version",y.version),y.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1},y.a=function(){function e(e,t){for(var n in e)c.call(e,n)&&t(n,e[n])}function t(e,t){if(t)for(var n in t)c.call(t,n)&&(e[n]=t[n]);return e}function l(e,t){return e.__proto__=t,e}function h(e,t,n,i){var o=e[t].match(w)||[];y.a.D(n.match(w),(function(e){y.a.Na(o,e,i)})),e[t]=o.join(" ")}var c=Object.prototype.hasOwnProperty,u={__proto__:[]}instanceof Array,d="function"==typeof Symbol,p={},f={};p[s&&/Firefox\/2/i.test(s.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],p.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),e(p,(function(e,t){if(t.length)for(var n=0,i=t.length;n<i;n++)f[t[n]]=e}));var g,m={propertychange:!0},b=o&&function(){for(var e=3,t=o.createElement("div"),i=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",i[0];);return 4<e?e:n}(),w=/\S+/g;return{Jc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],D:function(e,t,n){for(var i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e)},A:"function"==typeof Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t)}:function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},Lb:function(e,t,i){for(var o=0,s=e.length;o<s;o++)if(t.call(i,e[o],o,e))return e[o];return n},Pa:function(e,t){var n=y.a.A(e,t);0<n?e.splice(n,1):0===n&&e.shift()},wc:function(e){var t=[];return e&&y.a.D(e,(function(e){0>y.a.A(t,e)&&t.push(e)})),t},Mb:function(e,t,n){var i=[];if(e)for(var o=0,s=e.length;o<s;o++)i.push(t.call(n,e[o],o));return i},jb:function(e,t,n){var i=[];if(e)for(var o=0,s=e.length;o<s;o++)t.call(n,e[o],o)&&i.push(e[o]);return i},Nb:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,i=t.length;n<i;n++)e.push(t[n]);return e},Na:function(e,t,n){var i=y.a.A(y.a.bc(e),t);0>i?n&&e.push(t):n||e.splice(i,1)},Ba:u,extend:t,setPrototypeOf:l,Ab:u?l:t,P:e,Ga:function(e,t,n){if(!e)return e;var i,o={};for(i in e)c.call(e,i)&&(o[i]=t.call(n,e[i],i,e));return o},Tb:function(e){for(;e.firstChild;)y.removeNode(e.firstChild)},Yb:function(e){for(var t=((e=y.a.la(e))[0]&&e[0].ownerDocument||o).createElement("div"),n=0,i=e.length;n<i;n++)t.appendChild(y.oa(e[n]));return t},Ca:function(e,t){for(var n=0,i=e.length,o=[];n<i;n++){var s=e[n].cloneNode(!0);o.push(t?y.oa(s):s)}return o},va:function(e,t){if(y.a.Tb(e),t)for(var n=0,i=t.length;n<i;n++)e.appendChild(t[n])},Xc:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var i=n[0],o=i.parentNode,s=0,r=t.length;s<r;s++)o.insertBefore(t[s],i);for(s=0,r=n.length;s<r;s++)y.removeNode(n[s])}},Ua:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==t;)e.length--;if(1<e.length){var n=e[0],i=e[e.length-1];for(e.length=0;n!==i;)e.push(n),n=n.nextSibling;e.push(i)}}return e},Zc:function(e,t){7>b?e.setAttribute("selected",t):e.selected=t},Db:function(e){return null===e||e===n?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ud:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},vd:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(1!==e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},Sb:function(e){return y.a.vd(e,e.ownerDocument.documentElement)},kd:function(e){return!!y.a.Lb(e,y.a.Sb)},R:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},Ac:function(e){return y.onError?function(){try{return e.apply(this,arguments)}catch(e){throw y.onError&&y.onError(e),e}}:e},setTimeout:function(e,t){return setTimeout(y.a.Ac(e),t)},Gc:function(e){setTimeout((function(){throw y.onError&&y.onError(e),e}),0)},B:function(e,t,n){var i=y.a.Ac(n);if(n=m[t],y.options.useOnlyNativeEvents||n||!r)if(n||"function"!=typeof e.addEventListener){if(void 0===e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var o=function(t){i.call(e,t)},s="on"+t;e.attachEvent(s,o),y.a.K.za(e,(function(){e.detachEvent(s,o)}))}else e.addEventListener(t,i,!1);else g||(g="function"==typeof r(e).on?"on":"bind"),r(e)[g](t,i)},Fb:function(e,t){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var n;if(n=!("input"!==y.a.R(e)||!e.type||"click"!=t.toLowerCase())&&("checkbox"==(n=e.type)||"radio"==n),y.options.useOnlyNativeEvents||!r||n)if("function"==typeof o.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(n=o.createEvent(f[t]||"HTMLEvents")).initEvent(t,!0,!0,i,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(n)}else if(n&&e.click)e.click();else{if(void 0===e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}else r(e).trigger(t)},f:function(e){return y.O(e)?e():e},bc:function(e){return y.O(e)?e.v():e},Eb:function(e,t,n){var i;t&&("object"==typeof e.classList?(i=e.classList[n?"add":"remove"],y.a.D(t.match(w),(function(t){i.call(e.classList,t)}))):"string"==typeof e.className.baseVal?h(e.className,"baseVal",t,n):h(e,"className",t,n))},Bb:function(e,t){var i=y.a.f(t);null!==i&&i!==n||(i="");var o=y.h.firstChild(e);!o||3!=o.nodeType||y.h.nextSibling(o)?y.h.va(e,[e.ownerDocument.createTextNode(i)]):o.data=i,y.a.Ad(e)},Yc:function(e,t){if(e.name=t,7>=b)try{var n=e.name.replace(/[&<>'"]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}));e.mergeAttributes(o.createElement("<input name='"+n+"'/>"),!1)}catch(e){}},Ad:function(e){9<=b&&(e=1==e.nodeType?e:e.parentNode).style&&(e.style.zoom=e.style.zoom)},wd:function(e){if(b){var t=e.style.width;e.style.width=0,e.style.width=t}},Pd:function(e,t){e=y.a.f(e),t=y.a.f(t);for(var n=[],i=e;i<=t;i++)n.push(i);return n},la:function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]);return t},Da:function(e){return d?Symbol(e):e},Zd:6===b,$d:7===b,W:b,Lc:function(e,t){for(var n=y.a.la(e.getElementsByTagName("input")).concat(y.a.la(e.getElementsByTagName("textarea"))),i="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},o=[],s=n.length-1;0<=s;s--)i(n[s])&&o.push(n[s]);return o},Nd:function(e){return"string"==typeof e&&(e=y.a.Db(e))?a&&a.parse?a.parse(e):new Function("return "+e)():null},hc:function(e,t,n){if(!a||!a.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return a.stringify(y.a.f(e),t,n)},Od:function(t,n,i){var s=(i=i||{}).params||{},r=i.includeFields||this.Jc,a=t;if("object"==typeof t&&"form"===y.a.R(t)){a=t.action;for(var l=r.length-1;0<=l;l--)for(var h=y.a.Lc(t,r[l]),c=h.length-1;0<=c;c--)s[h[c].name]=h[c].value}n=y.a.f(n);var u=o.createElement("form");for(var d in u.style.display="none",u.action=a,u.method="post",n)(t=o.createElement("input")).type="hidden",t.name=d,t.value=y.a.hc(y.a.f(n[d])),u.appendChild(t);e(s,(function(e,t){var n=o.createElement("input");n.type="hidden",n.name=e,n.value=t,u.appendChild(n)})),o.body.appendChild(u),i.submitter?i.submitter(u):u.submit(),setTimeout((function(){u.parentNode.removeChild(u)}),0)}}}(),y.b("utils",y.a),y.b("utils.arrayForEach",y.a.D),y.b("utils.arrayFirst",y.a.Lb),y.b("utils.arrayFilter",y.a.jb),y.b("utils.arrayGetDistinctValues",y.a.wc),y.b("utils.arrayIndexOf",y.a.A),y.b("utils.arrayMap",y.a.Mb),y.b("utils.arrayPushAll",y.a.Nb),y.b("utils.arrayRemoveItem",y.a.Pa),y.b("utils.cloneNodes",y.a.Ca),y.b("utils.createSymbolOrString",y.a.Da),y.b("utils.extend",y.a.extend),y.b("utils.fieldsIncludedWithJsonPost",y.a.Jc),y.b("utils.getFormFields",y.a.Lc),y.b("utils.objectMap",y.a.Ga),y.b("utils.peekObservable",y.a.bc),y.b("utils.postJson",y.a.Od),y.b("utils.parseJson",y.a.Nd),y.b("utils.registerEventHandler",y.a.B),y.b("utils.stringifyJson",y.a.hc),y.b("utils.range",y.a.Pd),y.b("utils.toggleDomNodeCssClass",y.a.Eb),y.b("utils.triggerEvent",y.a.Fb),y.b("utils.unwrapObservable",y.a.f),y.b("utils.objectForEach",y.a.P),y.b("utils.addOrRemoveItem",y.a.Na),y.b("utils.setTextContent",y.a.Bb),y.b("unwrap",y.a.f),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(1===arguments.length)return function(){return t.apply(e,arguments)};var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice(0);return i.push.apply(i,arguments),t.apply(e,i)}}),y.a.g=new function(){var e,t,i=0,o="__ko__"+(new Date).getTime(),s={};return y.a.W?(e=function(e,t){var r=e[o];if(!r||"null"===r||!s[r]){if(!t)return n;r=e[o]="ko"+i++,s[r]={}}return s[r]},t=function(e){var t=e[o];return!!t&&(delete s[t],e[o]=null,!0)}):(e=function(e,t){var n=e[o];return!n&&t&&(n=e[o]={}),n},t=function(e){return!!e[o]&&(delete e[o],!0)}),{get:function(t,n){var i=e(t,!1);return i&&i[n]},set:function(t,i,o){(t=e(t,o!==n))&&(t[i]=o)},Ub:function(t,n,i){return(t=e(t,!0))[n]||(t[n]=i)},clear:t,Z:function(){return i+++o}}},y.b("utils.domData",y.a.g),y.b("utils.domData.clear",y.a.g.clear),y.a.K=new function(){function e(e,t){var i=y.a.g.get(e,o);return i===n&&t&&(i=[],y.a.g.set(e,o,i)),i}function t(t){if(n=e(t,!1))for(var n=n.slice(0),o=0;o<n.length;o++)n[o](t);y.a.g.clear(t),y.a.K.cleanExternalData(t),a[t.nodeType]&&i(t.childNodes,!0)}function i(e,n){for(var i,o=[],s=0;s<e.length;s++)if((!n||8===e[s].nodeType)&&(t(o[o.length]=i=e[s]),e[s]!==i))for(;s--&&-1==y.a.A(o,e[s]););}var o=y.a.g.Z(),s={1:!0,8:!0,9:!0},a={1:!0,9:!0};return{za:function(t,n){if("function"!=typeof n)throw Error("Callback must be a function");e(t,!0).push(n)},yb:function(t,i){var s=e(t,!1);s&&(y.a.Pa(s,i),0==s.length&&y.a.g.set(t,o,n))},oa:function(e){return y.u.G((function(){s[e.nodeType]&&(t(e),a[e.nodeType]&&i(e.getElementsByTagName("*")))})),e},removeNode:function(e){y.oa(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){r&&"function"==typeof r.cleanData&&r.cleanData([e])}}},y.oa=y.a.K.oa,y.removeNode=y.a.K.removeNode,y.b("cleanNode",y.oa),y.b("removeNode",y.removeNode),y.b("utils.domNodeDisposal",y.a.K),y.b("utils.domNodeDisposal.addDisposeCallback",y.a.K.za),y.b("utils.domNodeDisposal.removeDisposeCallback",y.a.K.yb),f=[0,"",""],w={thead:g=[1,"<table>","</table>"],tbody:g,tfoot:g,tr:[2,"<table><tbody>","</tbody></table>"],td:m=[3,"<table><tbody><tr>","</tr></tbody></table>"],th:m,option:b=[1,"<select multiple='multiple'>","</select>"],optgroup:b},E=8>=y.a.W,y.a.ua=function(e,t){var n;if(r){if(r.parseHTML)n=r.parseHTML(e,t)||[];else if((n=r.clean([e],t))&&n[0]){for(var s=n[0];s.parentNode&&11!==s.parentNode.nodeType;)s=s.parentNode;s.parentNode&&s.parentNode.removeChild(s)}}else{(n=t)||(n=o),s=n.parentWindow||n.defaultView||i;var a,l=y.a.Db(e).toLowerCase(),h=n.createElement("div");for(a=(l=l.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&w[l[1]]||f,l=a[0],a="ignored<div>"+a[1]+e+a[2]+"</div>","function"==typeof s.innerShiv?h.appendChild(s.innerShiv(a)):(E&&n.body.appendChild(h),h.innerHTML=a,E&&h.parentNode.removeChild(h));l--;)h=h.lastChild;n=y.a.la(h.lastChild.childNodes)}return n},y.a.Md=function(e,t){var n=y.a.ua(e,t);return n.length&&n[0].parentElement||y.a.Yb(n)},y.a.fc=function(e,t){if(y.a.Tb(e),null!==(t=y.a.f(t))&&t!==n)if("string"!=typeof t&&(t=t.toString()),r)r(e).html(t);else for(var i=y.a.ua(t,e.ownerDocument),o=0;o<i.length;o++)e.appendChild(i[o])},y.b("utils.parseHtmlFragment",y.a.ua),y.b("utils.setHtml",y.a.fc),y.aa=function(){var e={};return{Xb:function(t){if("function"!=typeof t)throw Error("You can only pass a function to ko.memoization.memoize()");var n=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return e[n]=t,"\x3c!--[ko_memo:"+n+"]--\x3e"},bd:function(t,i){var o=e[t];if(o===n)throw Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return o.apply(null,i||[]),!0}finally{delete e[t]}},cd:function(e,t){var n=[];!function e(t,n){if(t)if(8==t.nodeType)null!=(i=y.aa.Uc(t.nodeValue))&&n.push({ud:t,Kd:i});else if(1==t.nodeType)for(var i=0,o=t.childNodes,s=o.length;i<s;i++)e(o[i],n)}(e,n);for(var i=0,o=n.length;i<o;i++){var s=n[i].ud,r=[s];t&&y.a.Nb(r,t),y.aa.bd(n[i].Kd,r),s.nodeValue="",s.parentNode&&s.parentNode.removeChild(s)}},Uc:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}(),y.b("memoization",y.aa),y.b("memoization.memoize",y.aa.Xb),y.b("memoization.unmemoize",y.aa.bd),y.b("memoization.parseMemoText",y.aa.Uc),y.b("memoization.unmemoizeDomNodeAndDescendants",y.aa.cd),y.na=function(){function e(){if(s)for(var e,t=s,i=0;a<s;)if(e=n[a++]){if(a>t){if(5e3<=++i){a=s,y.a.Gc(Error("'Too much recursion' after processing "+i+" task groups."));break}t=s}try{e()}catch(e){y.a.Gc(e)}}}function t(){e(),a=s=n.length=0}var n=[],s=0,r=1,a=0;return{scheduler:i.MutationObserver?function(e){var t=o.createElement("div");return new MutationObserver(e).observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}}(t):o&&"onreadystatechange"in o.createElement("script")?function(e){var t=o.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,o.documentElement.removeChild(t),t=null,e()},o.documentElement.appendChild(t)}:function(e){setTimeout(e,0)},zb:function(e){return s||y.na.scheduler(t),n[s++]=e,r++},cancel:function(e){(e-=r-s)>=a&&e<s&&(n[e]=null)},resetForTesting:function(){var e=s-a;return a=s=n.length=0,e},Sd:e}}(),y.b("tasks",y.na),y.b("tasks.schedule",y.na.zb),y.b("tasks.runEarly",y.na.Sd),y.Ta={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return y.$({read:e,write:function(i){clearTimeout(n),n=y.a.setTimeout((function(){e(i)}),t)}})},rateLimit:function(e,t){var n,i,o;"number"==typeof t?n=t:(n=t.timeout,i=t.method),e.Hb=!1,o="function"==typeof i?i:"notifyWhenChangesStop"==i?c:h,e.ub((function(e){return o(e,n,t)}))},deferred:function(e,t){if(!0!==t)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");e.Hb||(e.Hb=!0,e.ub((function(t){var i,o=!1;return function(){if(!o){y.na.cancel(i),i=y.na.zb(t);try{o=!0,e.notifySubscribers(n,"dirty")}finally{o=!1}}}})))},notify:function(e,t){e.equalityComparer="always"==t?null:l}};var S={undefined:1,boolean:1,number:1,string:1};y.b("extenders",y.Ta),y.ic=function(e,t,n){this.da=e,this.lc=t,this.mc=n,this.Ib=!1,this.fb=this.Jb=null,y.L(this,"dispose",this.s),y.L(this,"disposeWhenNodeIsRemoved",this.l)},y.ic.prototype.s=function(){this.Ib||(this.fb&&y.a.K.yb(this.Jb,this.fb),this.Ib=!0,this.mc(),this.da=this.lc=this.mc=this.Jb=this.fb=null)},y.ic.prototype.l=function(e){this.Jb=e,y.a.K.za(e,this.fb=this.s.bind(this))},y.T=function(){y.a.Ab(this,N),N.qb(this)};var N={qb:function(e){e.U={change:[]},e.sc=1},subscribe:function(e,t,n){var i=this;n=n||"change";var o=new y.ic(i,t?e.bind(t):e,(function(){y.a.Pa(i.U[n],o),i.hb&&i.hb(n)}));return i.Qa&&i.Qa(n),i.U[n]||(i.U[n]=[]),i.U[n].push(o),o},notifySubscribers:function(e,t){if("change"===(t=t||"change")&&this.Gb(),this.Wa(t)){var n="change"===t&&this.ed||this.U[t].slice(0);try{y.u.xc();for(var i,o=0;i=n[o];++o)i.Ib||i.lc(e)}finally{y.u.end()}}},ob:function(){return this.sc},Dd:function(e){return this.ob()!==e},Gb:function(){++this.sc},ub:function(e){var t,n,i,o,s,r=this,a=y.O(r);r.gb||(r.gb=r.notifySubscribers,r.notifySubscribers=u);var l=e((function(){r.Ja=!1,a&&o===r&&(o=r.nc?r.nc():r());var e=n||s&&r.sb(i,o);s=n=t=!1,e&&r.gb(i=o)}));r.qc=function(e,n){n&&r.Ja||(s=!n),r.ed=r.U.change.slice(0),r.Ja=t=!0,o=e,l()},r.pc=function(e){t||(i=e,r.gb(e,"beforeChange"))},r.rc=function(){s=!0},r.gd=function(){r.sb(i,r.v(!0))&&(n=!0)}},Wa:function(e){return this.U[e]&&this.U[e].length},Bd:function(e){if(e)return this.U[e]&&this.U[e].length||0;var t=0;return y.a.P(this.U,(function(e,n){"dirty"!==e&&(t+=n.length)})),t},sb:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},toString:function(){return"[object Object]"},extend:function(e){var t=this;return e&&y.a.P(e,(function(e,n){var i=y.Ta[e];"function"==typeof i&&(t=i(t,n)||t)})),t}};y.L(N,"init",N.qb),y.L(N,"subscribe",N.subscribe),y.L(N,"extend",N.extend),y.L(N,"getSubscriptionsCount",N.Bd),y.a.Ba&&y.a.setPrototypeOf(N,Function.prototype),y.T.fn=N,y.Qc=function(e){return null!=e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},y.b("subscribable",y.T),y.b("isSubscribable",y.Qc),y.S=y.u=function(){function e(e){i.push(n),n=e}function t(){n=i.pop()}var n,i=[],o=0;return{xc:e,end:t,cc:function(e){if(n){if(!y.Qc(e))throw Error("Only subscribable things can act as dependencies");n.od.call(n.pd,e,e.fd||(e.fd=++o))}},G:function(n,i,o){try{return e(),n.apply(i,o||[])}finally{t()}},qa:function(){if(n)return n.o.qa()},Va:function(){if(n)return n.o.Va()},Ya:function(){if(n)return n.Ya},o:function(){if(n)return n.o}}}(),y.b("computedContext",y.S),y.b("computedContext.getDependenciesCount",y.S.qa),y.b("computedContext.getDependencies",y.S.Va),y.b("computedContext.isInitial",y.S.Ya),y.b("computedContext.registerDependency",y.S.cc),y.b("ignoreDependencies",y.Yd=y.u.G);var v=y.a.Da("_latestValue");y.ta=function(e){function t(){return 0<arguments.length?(t.sb(t[v],arguments[0])&&(t.ya(),t[v]=arguments[0],t.xa()),this):(y.u.cc(t),t[v])}return t[v]=e,y.a.Ba||y.a.extend(t,y.T.fn),y.T.fn.qb(t),y.a.Ab(t,C),y.options.deferUpdates&&y.Ta.deferred(t,!0),t};var C={equalityComparer:l,v:function(){return this[v]},xa:function(){this.notifySubscribers(this[v],"spectate"),this.notifySubscribers(this[v])},ya:function(){this.notifySubscribers(this[v],"beforeChange")}};y.a.Ba&&y.a.setPrototypeOf(C,y.T.fn);var T=y.ta.Ma="__ko_proto__";C[T]=y.ta,y.O=function(e){if((e="function"==typeof e&&e[T])&&e!==C[T]&&e!==y.o.fn[T])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");return!!e},y.Za=function(e){return"function"==typeof e&&(e[T]===C[T]||e[T]===y.o.fn[T]&&e.Nc)},y.b("observable",y.ta),y.b("isObservable",y.O),y.b("isWriteableObservable",y.Za),y.b("isWritableObservable",y.Za),y.b("observable.fn",C),y.L(C,"peek",C.v),y.L(C,"valueHasMutated",C.xa),y.L(C,"valueWillMutate",C.ya),y.Ha=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=y.ta(e),y.a.Ab(e,y.Ha.fn),e.extend({trackArrayChanges:!0})},y.Ha.fn={remove:function(e){for(var t=this.v(),n=[],i="function"!=typeof e||y.O(e)?function(t){return t===e}:e,o=0;o<t.length;o++){var s=t[o];if(i(s)){if(0===n.length&&this.ya(),t[o]!==s)throw Error("Array modified during remove; cannot remove item");n.push(s),t.splice(o,1),o--}}return n.length&&this.xa(),n},removeAll:function(e){if(e===n){var t=this.v(),i=t.slice(0);return this.ya(),t.splice(0,t.length),this.xa(),i}return e?this.remove((function(t){return 0<=y.a.A(e,t)})):[]},destroy:function(e){var t=this.v(),n="function"!=typeof e||y.O(e)?function(t){return t===e}:e;this.ya();for(var i=t.length-1;0<=i;i--){var o=t[i];n(o)&&(o._destroy=!0)}this.xa()},destroyAll:function(e){return e===n?this.destroy((function(){return!0})):e?this.destroy((function(t){return 0<=y.a.A(e,t)})):[]},indexOf:function(e){var t=this();return y.a.A(t,e)},replace:function(e,t){var n=this.indexOf(e);0<=n&&(this.ya(),this.v()[n]=t,this.xa())},sorted:function(e){var t=this().slice(0);return e?t.sort(e):t.sort()},reversed:function(){return this().slice(0).reverse()}},y.a.Ba&&y.a.setPrototypeOf(y.Ha.fn,y.ta.fn),y.a.D("pop push reverse shift sort splice unshift".split(" "),(function(e){y.Ha.fn[e]=function(){var t=this.v();this.ya(),this.zc(t,e,arguments);var n=t[e].apply(t,arguments);return this.xa(),n===t?this:n}})),y.a.D(["slice"],(function(e){y.Ha.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}})),y.Pc=function(e){return y.O(e)&&"function"==typeof e.remove&&"function"==typeof e.push},y.b("observableArray",y.Ha),y.b("isObservableArray",y.Pc),y.Ta.trackArrayChanges=function(e,t){function i(){function t(){if(h){var t,n=[].concat(e.v()||[]);e.Wa("arrayChange")&&((!l||1<h)&&(l=y.a.Pb(r,n,e.Ob)),t=l),r=n,l=null,h=0,t&&t.length&&e.notifySubscribers(t,"arrayChange")}}a?t():(a=!0,s=e.subscribe((function(){++h}),null,"spectate"),r=[].concat(e.v()||[]),l=null,o=e.subscribe(t))}if(e.Ob={},t&&"object"==typeof t&&y.a.extend(e.Ob,t),e.Ob.sparse=!0,!e.zc){var o,s,r,a=!1,l=null,h=0,c=e.Qa,u=e.hb;e.Qa=function(t){c&&c.call(e,t),"arrayChange"===t&&i()},e.hb=function(t){u&&u.call(e,t),"arrayChange"!==t||e.Wa("arrayChange")||(o&&o.s(),s&&s.s(),s=o=null,a=!1,r=n)},e.zc=function(e,t,n){function i(e,t,n){return o[o.length]={status:e,value:t,index:n}}if(a&&!h){var o=[],s=e.length,r=n.length,c=0;switch(t){case"push":c=s;case"unshift":for(t=0;t<r;t++)i("added",n[t],c+t);break;case"pop":c=s-1;case"shift":s&&i("deleted",e[c],c);break;case"splice":t=Math.min(Math.max(0,0>n[0]?s+n[0]:n[0]),s),s=1===r?s:Math.min(t+(n[1]||0),s),r=t+r-2,c=Math.max(s,r);for(var u=[],d=[],p=2;t<c;++t,++p)t<s&&d.push(i("deleted",e[t],t)),t<r&&u.push(i("added",n[p],t));y.a.Kc(d,u);break;default:return}l=o}}}};var x=y.a.Da("_state");y.o=y.$=function(e,t,i){function o(){if(0<arguments.length){if("function"!=typeof s)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return s.apply(r.nb,arguments),this}return r.ra||y.u.cc(o),(r.ka||r.J&&o.Xa())&&o.ha(),r.X}if("object"==typeof e?i=e:(i=i||{},e&&(i.read=e)),"function"!=typeof i.read)throw Error("Pass a function that returns the value of the ko.computed");var s=i.write,r={X:n,sa:!0,ka:!0,rb:!1,jc:!1,ra:!1,wb:!1,J:!1,Wc:i.read,nb:t||i.owner,l:i.disposeWhenNodeIsRemoved||i.l||null,Sa:i.disposeWhen||i.Sa,Rb:null,I:{},V:0,Ic:null};return o[x]=r,o.Nc="function"==typeof s,y.a.Ba||y.a.extend(o,y.T.fn),y.T.fn.qb(o),y.a.Ab(o,I),i.pure?(r.wb=!0,r.J=!0,y.a.extend(o,P)):i.deferEvaluation&&y.a.extend(o,A),y.options.deferUpdates&&y.Ta.deferred(o,!0),r.l&&(r.jc=!0,r.l.nodeType||(r.l=null)),r.J||i.deferEvaluation||o.ha(),r.l&&o.ja()&&y.a.K.za(r.l,r.Rb=function(){o.s()}),o};var I={equalityComparer:l,qa:function(){return this[x].V},Va:function(){var e=[];return y.a.P(this[x].I,(function(t,n){e[n.Ka]=n.da})),e},Vb:function(e){if(!this[x].V)return!1;var t=this.Va();return-1!==y.a.A(t,e)||!!y.a.Lb(t,(function(t){return t.Vb&&t.Vb(e)}))},uc:function(e,t,n){if(this[x].wb&&t===this)throw Error("A 'pure' computed must not be called recursively");this[x].I[e]=n,n.Ka=this[x].V++,n.La=t.ob()},Xa:function(){var e,t,n=this[x].I;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&(t=n[e],this.Ia&&t.da.Ja||t.da.Dd(t.La)))return!0},Jd:function(){this.Ia&&!this[x].rb&&this.Ia(!1)},ja:function(){var e=this[x];return e.ka||0<e.V},Rd:function(){this.Ja?this[x].ka&&(this[x].sa=!0):this.Hc()},$c:function(e){if(e.Hb){var t=e.subscribe(this.Jd,this,"dirty"),n=e.subscribe(this.Rd,this);return{da:e,s:function(){t.s(),n.s()}}}return e.subscribe(this.Hc,this)},Hc:function(){var e=this,t=e.throttleEvaluation;t&&0<=t?(clearTimeout(this[x].Ic),this[x].Ic=y.a.setTimeout((function(){e.ha(!0)}),t)):e.Ia?e.Ia(!0):e.ha(!0)},ha:function(e){var t=this[x],n=t.Sa,i=!1;if(!t.rb&&!t.ra){if(t.l&&!y.a.Sb(t.l)||n&&n()){if(!t.jc)return void this.s()}else t.jc=!1;t.rb=!0;try{i=this.zd(e)}finally{t.rb=!1}return i}},zd:function(e){var t=this[x],i=!1,o=t.wb?n:!t.V;i={qd:this,mb:t.I,Qb:t.V},y.u.xc({pd:i,od:p,o:this,Ya:o}),t.I={},t.V=0;var s=this.yd(t,i);return t.V?i=this.sb(t.X,s):(this.s(),i=!0),i&&(t.J?this.Gb():this.notifySubscribers(t.X,"beforeChange"),t.X=s,this.notifySubscribers(t.X,"spectate"),!t.J&&e&&this.notifySubscribers(t.X),this.rc&&this.rc()),o&&this.notifySubscribers(t.X,"awake"),i},yd:function(e,t){try{var n=e.Wc;return e.nb?n.call(e.nb):n()}finally{y.u.end(),t.Qb&&!e.J&&y.a.P(t.mb,d),e.sa=e.ka=!1}},v:function(e){var t=this[x];return(t.ka&&(e||!t.V)||t.J&&this.Xa())&&this.ha(),t.X},ub:function(e){y.T.fn.ub.call(this,e),this.nc=function(){return this[x].J||(this[x].sa?this.ha():this[x].ka=!1),this[x].X},this.Ia=function(e){this.pc(this[x].X),this[x].ka=!0,e&&(this[x].sa=!0),this.qc(this,!e)}},s:function(){var e=this[x];!e.J&&e.I&&y.a.P(e.I,(function(e,t){t.s&&t.s()})),e.l&&e.Rb&&y.a.K.yb(e.l,e.Rb),e.I=n,e.V=0,e.ra=!0,e.sa=!1,e.ka=!1,e.J=!1,e.l=n,e.Sa=n,e.Wc=n,this.Nc||(e.nb=n)}},P={Qa:function(e){var t=this,n=t[x];if(!n.ra&&n.J&&"change"==e){if(n.J=!1,n.sa||t.Xa())n.I=null,n.V=0,t.ha()&&t.Gb();else{var i=[];y.a.P(n.I,(function(e,t){i[t.Ka]=e})),y.a.D(i,(function(e,i){var o=n.I[e],s=t.$c(o.da);s.Ka=i,s.La=o.La,n.I[e]=s})),t.Xa()&&t.ha()&&t.Gb()}n.ra||t.notifySubscribers(n.X,"awake")}},hb:function(e){var t=this[x];t.ra||"change"!=e||this.Wa("change")||(y.a.P(t.I,(function(e,n){n.s&&(t.I[e]={da:n.da,Ka:n.Ka,La:n.La},n.s())})),t.J=!0,this.notifySubscribers(n,"asleep"))},ob:function(){var e=this[x];return e.J&&(e.sa||this.Xa())&&this.ha(),y.T.fn.ob.call(this)}},A={Qa:function(e){"change"!=e&&"beforeChange"!=e||this.v()}};y.a.Ba&&y.a.setPrototypeOf(I,y.T.fn);var O=y.ta.Ma;I[O]=y.o,y.Oc=function(e){return"function"==typeof e&&e[O]===I[O]},y.Fd=function(e){return y.Oc(e)&&e[x]&&e[x].wb},y.b("computed",y.o),y.b("dependentObservable",y.o),y.b("isComputed",y.Oc),y.b("isPureComputed",y.Fd),y.b("computed.fn",I),y.L(I,"peek",I.v),y.L(I,"dispose",I.s),y.L(I,"isActive",I.ja),y.L(I,"getDependenciesCount",I.qa),y.L(I,"getDependencies",I.Va),y.xb=function(e,t){return"function"==typeof e?y.o(e,t,{pure:!0}):((e=y.a.extend({},e)).pure=!0,y.o(e,t))},y.b("pureComputed",y.xb),function(){function e(i,o,s){if(s=s||new t,"object"!=typeof(i=o(i))||null===i||i===n||i instanceof RegExp||i instanceof Date||i instanceof String||i instanceof Number||i instanceof Boolean)return i;var r=i instanceof Array?[]:{};return s.save(i,r),function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n)}(i,(function(t){var a=o(i[t]);switch(typeof a){case"boolean":case"number":case"string":case"function":r[t]=a;break;case"object":case"undefined":var l=s.get(a);r[t]=l!==n?l:e(a,o,s)}})),r}function t(){this.keys=[],this.values=[]}y.ad=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return e(t,(function(e){for(var t=0;y.O(e)&&10>t;t++)e=e();return e}))},y.toJSON=function(e,t,n){return e=y.ad(e),y.a.hc(e,t,n)},t.prototype={constructor:t,save:function(e,t){var n=y.a.A(this.keys,e);0<=n?this.values[n]=t:(this.keys.push(e),this.values.push(t))},get:function(e){return 0<=(e=y.a.A(this.keys,e))?this.values[e]:n}}}(),y.b("toJS",y.ad),y.b("toJSON",y.toJSON),y.Wd=function(e,t,n){function i(t){var i=y.xb(e,n).extend({ma:"always"}),o=i.subscribe((function(e){e&&(o.s(),t(e))}));return i.notifySubscribers(i.v()),o}return"function"!=typeof Promise||t?i(t.bind(n)):new Promise(i)},y.b("when",y.Wd),y.w={M:function(e){switch(y.a.R(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?y.a.g.get(e,y.c.options.$b):7>=y.a.W?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?y.w.M(e.options[e.selectedIndex]):n;default:return e.value}},cb:function(e,t,i){switch(y.a.R(e)){case"option":"string"==typeof t?(y.a.g.set(e,y.c.options.$b,n),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=t):(y.a.g.set(e,y.c.options.$b,t),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof t?t:"");break;case"select":""!==t&&null!==t||(t=n);for(var o,s=-1,r=0,a=e.options.length;r<a;++r)if((o=y.w.M(e.options[r]))==t||""===o&&t===n){s=r;break}(i||0<=s||t===n&&1<e.size)&&(e.selectedIndex=s,6===y.a.W&&y.a.setTimeout((function(){e.selectedIndex=s}),0));break;default:null!==t&&t!==n||(t=""),e.value=t}}},y.b("selectExtensions",y.w),y.b("selectExtensions.readValue",y.w.M),y.b("selectExtensions.writeValue",y.w.cb),y.m=function(){function e(e){123===(e=y.a.Db(e)).charCodeAt(0)&&(e=e.slice(1,-1));var t,n=[],r=(e+="\n,").match(i),a=[],l=0;if(1<r.length){for(var h,c=0;h=r[c];++c){var u=h.charCodeAt(0);if(44===u){if(0>=l){n.push(t&&a.length?{key:t,value:a.join("")}:{unknown:t||a.join("")}),t=l=0,a=[];continue}}else if(58===u){if(!l&&!t&&1===a.length){t=a.pop();continue}}else{if(47===u&&1<h.length&&(47===h.charCodeAt(1)||42===h.charCodeAt(1)))continue;47===u&&c&&1<h.length?(u=r[c-1].match(o))&&!s[u[0]]&&(r=(e=e.substr(e.indexOf(h)+1)).match(i),c=-1,h="/"):40===u||123===u||91===u?++l:41===u||125===u||93===u?--l:t||a.length||34!==u&&39!==u||(h=h.slice(1,-1))}a.push(h)}if(0<l)throw Error("Unbalanced parentheses, braces, or brackets")}return n}var t=["true","false","null","undefined"],n=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,i=RegExp("\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|`(?:\\\\.|[^`])*`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*\n|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,\"'`{}()/:[\\]]*[^\\s,\"'`{}()/:[\\]]|[^\\s]","g"),o=/[\])"'A-Za-z0-9_$]+$/,s={in:1,return:1,typeof:1},r={};return{Ra:[],wa:r,ac:e,vb:function(i,o){function s(e,i){var o;if(!c){var u=y.getBindingHandler(e);if(u&&u.preprocess&&!(i=u.preprocess(i,e,s)))return;(u=r[e])&&(o=i,0<=y.a.A(t,o)?o=!1:(u=o.match(n),o=null!==u&&(u[1]?"Object("+u[1]+")"+u[2]:o)),u=o),u&&l.push("'"+("string"==typeof r[e]?r[e]:e)+"':function(_z){"+o+"=_z}")}h&&(i="function(){return "+i+" }"),a.push("'"+e+"':"+i)}var a=[],l=[],h=(o=o||{}).valueAccessors,c=o.bindingParams,u="string"==typeof i?e(i):i;return y.a.D(u,(function(e){s(e.key||e.unknown,e.value)})),l.length&&s("_ko_property_writers","{"+l.join(",")+" }"),a.join(",")},Id:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},eb:function(e,t,n,i,o){e&&y.O(e)?!y.Za(e)||o&&e.v()===i||e(i):(e=t.get("_ko_property_writers"))&&e[n]&&e[n](i)}}}(),y.b("expressionRewriting",y.m),y.b("expressionRewriting.bindingRewriteValidators",y.m.Ra),y.b("expressionRewriting.parseObjectLiteral",y.m.ac),y.b("expressionRewriting.preProcessBindings",y.m.vb),y.b("expressionRewriting._twoWayBindings",y.m.wa),y.b("jsonExpressionRewriting",y.m),y.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",y.m.vb),function(){function e(e){return 8==e.nodeType&&r.test(s?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&a.test(s?e.text:e.nodeValue)}function n(n,i){for(var o=n,s=1,r=[];o=o.nextSibling;){if(t(o)&&(y.a.g.set(o,h,!0),0==--s))return r;r.push(o),e(o)&&s++}if(!i)throw Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function i(e,t){var i=n(e,t);return i?0<i.length?i[i.length-1].nextSibling:e.nextSibling:null}var s=o&&"\x3c!--test--\x3e"===o.createComment("test").text,r=s?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,a=s?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0},h="__ko_matchedEndComment__";y.h={ea:{},childNodes:function(t){return e(t)?n(t):t.childNodes},Ea:function(t){if(e(t))for(var n=0,i=(t=y.h.childNodes(t)).length;n<i;n++)y.removeNode(t[n]);else y.a.Tb(t)},va:function(t,n){if(e(t)){y.h.Ea(t);for(var i=t.nextSibling,o=0,s=n.length;o<s;o++)i.parentNode.insertBefore(n[o],i)}else y.a.va(t,n)},Vc:function(t,n){var i;e(t)?(i=t.nextSibling,t=t.parentNode):i=t.firstChild,i?n!==i&&t.insertBefore(n,i):t.appendChild(n)},Wb:function(t,n,i){i?(i=i.nextSibling,e(t)&&(t=t.parentNode),i?n!==i&&t.insertBefore(n,i):t.appendChild(n)):y.h.Vc(t,n)},firstChild:function(n){if(e(n))return!n.nextSibling||t(n.nextSibling)?null:n.nextSibling;if(n.firstChild&&t(n.firstChild))throw Error("Found invalid end comment, as the first child of "+n);return n.firstChild},nextSibling:function(n){if(e(n)&&(n=i(n)),n.nextSibling&&t(n.nextSibling)){var o=n.nextSibling;if(t(o)&&!y.a.g.get(o,h))throw Error("Found end comment without a matching opening comment, as child of "+n);return null}return n.nextSibling},Cd:e,Vd:function(e){return(e=(s?e.text:e.nodeValue).match(r))?e[1]:null},Sc:function(n){if(l[y.a.R(n)]){var o=n.firstChild;if(o)do{if(1===o.nodeType){var s,r=null;if(s=o.firstChild)do{if(r)r.push(s);else if(e(s)){var a=i(s,!0);a?s=a:r=[s]}else t(s)&&(r=[s])}while(s=s.nextSibling);if(s=r)for(r=o.nextSibling,a=0;a<s.length;a++)r?n.insertBefore(s[a],r):n.appendChild(s[a])}}while(o=o.nextSibling)}}}}(),y.b("virtualElements",y.h),y.b("virtualElements.allowedBindings",y.h.ea),y.b("virtualElements.emptyNode",y.h.Ea),y.b("virtualElements.insertAfter",y.h.Wb),y.b("virtualElements.prepend",y.h.Vc),y.b("virtualElements.setDomNodeChildren",y.h.va),y.ga=function(){this.nd={}},y.a.extend(y.ga.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||y.j.getComponentNameForNode(e);case 8:return y.h.Cd(e);default:return!1}},getBindings:function(e,t){var n=(n=this.getBindingsString(e,t))?this.parseBindingsString(n,t,e):null;return y.j.tc(n,e,t,!1)},getBindingAccessors:function(e,t){var n=(n=this.getBindingsString(e,t))?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null;return y.j.tc(n,e,t,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return y.h.Vd(e);default:return null}},parseBindingsString:function(e,t,n,i){try{var o,s=this.nd,r=e+(i&&i.valueAccessors||"");if(!(o=s[r])){var a,l="with($context){with($data||{}){return{"+y.m.vb(e,i)+"}}}";a=new Function("$context","$element",l),o=s[r]=a}return o(t,n)}catch(t){throw t.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+t.message,t}}}),y.ga.instance=new y.ga,y.b("bindingProvider",y.ga),function(){function e(e){var t=(e=y.a.g.get(e,S))&&e.N;t&&(e.N=null,t.Tc())}function t(t,n,i){this.node=t,this.yc=n,this.kb=[],this.H=!1,n.N||y.a.K.za(t,e),i&&i.N&&(i.N.kb.push(t),this.Kb=i)}function s(e){return function(){return e}}function a(e){return e()}function l(e){return y.a.Ga(y.u.G(e),(function(t,n){return function(){return e()[n]}}))}function h(e,t,n){return"function"==typeof e?l(e.bind(null,t,n)):y.a.Ga(e,s)}function c(e,t){return l(this.getBindings.bind(this,e,t))}function u(e,t){var n=y.h.firstChild(t);if(n){var i,o=y.ga.instance,s=o.preprocessNode;if(s){for(;i=n;)n=y.h.nextSibling(i),s.call(o,i);n=y.h.firstChild(t)}for(;i=n;)n=y.h.nextSibling(i),d(e,i)}y.i.ma(t,y.i.H)}function d(e,t){var n=e,i=1===t.nodeType;i&&y.h.Sc(t),(i||y.ga.instance.nodeHasBindings(t))&&(n=p(t,null,e).bindingContextForDescendants),n&&!w[y.a.R(t)]&&u(n,t)}function p(e,t,i){var o,s=y.a.g.Ub(e,S,{}),r=s.hd;if(!t){if(r)throw Error("You cannot apply bindings multiple times to the same element.");s.hd=!0}if(r||(s.context=i),s.Zb||(s.Zb={}),t&&"function"!=typeof t)o=t;else{var l=y.ga.instance,h=l.getBindingAccessors||c,u=y.$((function(){return(o=t?t(i,e):h.call(l,e,i))&&(i[g]&&i[g](),i[b]&&i[b]()),o}),null,{l:e});o&&u.ja()||(u=null)}var d,p=i;if(o){var f=function(){return y.a.Ga(u?u():o,a)},m=u?function(e){return function(){return a(u()[e])}}:function(e){return o[e]};f.get=function(e){return o[e]&&a(m(e))},f.has=function(e){return e in o},y.i.H in o&&y.i.subscribe(e,y.i.H,(function(){var t=(0,o[y.i.H])();if(t){var n=y.h.childNodes(e);n.length&&t(n,y.Ec(n[0]))}})),y.i.pa in o&&(p=y.i.Cb(e,i),y.i.subscribe(e,y.i.pa,(function(){var t=(0,o[y.i.pa])();t&&y.h.firstChild(e)&&t(e)}))),s=function(e){var t=[],n={},i=[];return y.a.P(e,(function o(s){if(!n[s]){var r=y.getBindingHandler(s);r&&(r.after&&(i.push(s),y.a.D(r.after,(function(t){if(e[t]){if(-1!==y.a.A(i,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+i.join(", "));o(t)}})),i.length--),t.push({key:s,Mc:r})),n[s]=!0}})),t}(o),y.a.D(s,(function(t){var i=t.Mc.init,s=t.Mc.update,r=t.key;if(8===e.nodeType&&!y.h.ea[r])throw Error("The binding '"+r+"' cannot be used with virtual elements");try{"function"==typeof i&&y.u.G((function(){var t=i(e,m(r),f,p.$data,p);if(t&&t.controlsDescendantBindings){if(d!==n)throw Error("Multiple bindings ("+d+" and "+r+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");d=r}})),"function"==typeof s&&y.$((function(){s(e,m(r),f,p.$data,p)}),null,{l:e})}catch(e){throw e.message='Unable to process binding "'+r+": "+o[r]+'"\nMessage: '+e.message,e}}))}return{shouldBindDescendants:s=d===n,bindingContextForDescendants:s&&p}}function f(e,t){return e&&e instanceof y.fa?e:new y.fa(e,n,n,t)}var g=y.a.Da("_subscribable"),m=y.a.Da("_ancestorBindingInfo"),b=y.a.Da("_dataDependency");y.c={};var w={script:!0,textarea:!0,template:!0};y.getBindingHandler=function(e){return y.c[e]};var E={};y.fa=function(e,t,i,o,s){function r(){var e=u?c():c,n=y.a.f(e);return t?(y.a.extend(l,t),m in t&&(l[m]=t[m])):(l.$parents=[],l.$root=n,l.ko=y),l[g]=a,h?n=l.$data:(l.$rawData=e,l.$data=n),i&&(l[i]=n),o&&o(l,t,n),t&&t[g]&&!y.S.o().Vb(t[g])&&t[g](),d&&(l[b]=d),l.$data}var a,l=this,h=e===E,c=h?n:e,u="function"==typeof c&&!y.O(c),d=s&&s.dataDependency;s&&s.exportDependencies?r():((a=y.xb(r)).v(),a.ja()?a.equalityComparer=null:l[g]=n)},y.fa.prototype.createChildContext=function(e,t,n,i){if(!i&&t&&"object"==typeof t&&(t=(i=t).as,n=i.extend),t&&i&&i.noChildContext){var o="function"==typeof e&&!y.O(e);return new y.fa(E,this,null,(function(i){n&&n(i),i[t]=o?e():e}),i)}return new y.fa(e,this,t,(function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)}),i)},y.fa.prototype.extend=function(e,t){return new y.fa(E,this,null,(function(t){y.a.extend(t,"function"==typeof e?e(t):e)}),t)};var S=y.a.g.Z();t.prototype.Tc=function(){this.Kb&&this.Kb.N&&this.Kb.N.sd(this.node)},t.prototype.sd=function(e){y.a.Pa(this.kb,e),!this.kb.length&&this.H&&this.Cc()},t.prototype.Cc=function(){this.H=!0,this.yc.N&&!this.kb.length&&(this.yc.N=null,y.a.K.yb(this.node,e),y.i.ma(this.node,y.i.pa),this.Tc())},y.i={H:"childrenComplete",pa:"descendantsComplete",subscribe:function(e,t,n,i,o){var s=y.a.g.Ub(e,S,{});return s.Fa||(s.Fa=new y.T),o&&o.notifyImmediately&&s.Zb[t]&&y.u.G(n,i,[e]),s.Fa.subscribe(n,i,t)},ma:function(e,t){var i=y.a.g.get(e,S);if(i&&(i.Zb[t]=!0,i.Fa&&i.Fa.notifySubscribers(e,t),t==y.i.H))if(i.N)i.N.Cc();else if(i.N===n&&i.Fa&&i.Fa.Wa(y.i.pa))throw Error("descendantsComplete event not supported for bindings on this node")},Cb:function(e,n){var i=y.a.g.Ub(e,S,{});return i.N||(i.N=new t(e,i,n[m])),n[m]==i?n:n.extend((function(e){e[m]=i}))}},y.Td=function(e){return(e=y.a.g.get(e,S))&&e.context},y.ib=function(e,t,n){return 1===e.nodeType&&y.h.Sc(e),p(e,t,f(n))},y.ld=function(e,t,n){return n=f(n),y.ib(e,h(t,n,e),n)},y.Oa=function(e,t){1!==t.nodeType&&8!==t.nodeType||u(f(e),t)},y.vc=function(e,t,n){if(!r&&i.jQuery&&(r=i.jQuery),2>arguments.length){if(!(t=o.body))throw Error("ko.applyBindings: could not find document.body; has the document been loaded?")}else if(!t||1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");d(f(e,n),t)},y.Dc=function(e){return!e||1!==e.nodeType&&8!==e.nodeType?n:y.Td(e)},y.Ec=function(e){return(e=y.Dc(e))?e.$data:n},y.b("bindingHandlers",y.c),y.b("bindingEvent",y.i),y.b("bindingEvent.subscribe",y.i.subscribe),y.b("bindingEvent.startPossiblyAsyncContentBinding",y.i.Cb),y.b("applyBindings",y.vc),y.b("applyBindingsToDescendants",y.Oa),y.b("applyBindingAccessorsToNode",y.ib),y.b("applyBindingsToNode",y.ld),y.b("contextFor",y.Dc),y.b("dataFor",y.Ec)}(),function(e){function t(t,i){var r,a=Object.prototype.hasOwnProperty.call(o,t)?o[t]:e;a?a.subscribe(i):((a=o[t]=new y.T).subscribe(i),n(t,(function(e,n){var i=!(!n||!n.synchronous);s[t]={definition:e,Gd:i},delete o[t],r||i?a.notifySubscribers(e):y.na.zb((function(){a.notifySubscribers(e)}))})),r=!0)}function n(e,t){i("getConfig",[e],(function(n){n?i("loadComponent",[e,n],(function(e){t(e,n)})):t(null,null)}))}function i(t,n,o,s){s||(s=y.j.loaders.slice(0));var r=s.shift();if(r){var a=r[t];if(a){var l=!1;if(a.apply(r,n.concat((function(e){l?o(null):null!==e?o(e):i(t,n,o,s)})))!==e&&(l=!0,!r.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else i(t,n,o,s)}else o(null)}var o={},s={};y.j={get:function(n,i){var o=Object.prototype.hasOwnProperty.call(s,n)?s[n]:e;o?o.Gd?y.u.G((function(){i(o.definition)})):y.na.zb((function(){i(o.definition)})):t(n,i)},Bc:function(e){delete s[e]},oc:i},y.j.loaders=[],y.b("components",y.j),y.b("components.get",y.j.get),y.b("components.clearCachedDefinition",y.j.Bc)}(),function(){function e(e,t,n,i){function o(){0==--a&&i(s)}var s={},a=2,l=n.template;n=n.viewModel,l?r(t,l,(function(t){y.j.oc("loadTemplate",[e,t],(function(e){s.template=e,o()}))})):o(),n?r(t,n,(function(t){y.j.oc("loadViewModel",[e,t],(function(e){s[h]=e,o()}))})):o()}function n(e){switch(y.a.R(e)){case"script":return y.a.ua(e.text);case"textarea":return y.a.ua(e.value);case"template":if(s(e.content))return y.a.Ca(e.content.childNodes)}return y.a.Ca(e.childNodes)}function s(e){return i.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function r(e,n,o){"string"==typeof n.require?t||i.require?(t||i.require)([n.require],(function(e){e&&"object"==typeof e&&e.Xd&&e.default&&(e=e.default),o(e)})):e("Uses require, but no AMD loader is present"):o(n)}function a(e){return function(t){throw Error("Component '"+e+"': "+t)}}var l={};y.j.register=function(e,t){if(!t)throw Error("Invalid configuration for "+e);if(y.j.tb(e))throw Error("Component "+e+" is already registered");l[e]=t},y.j.tb=function(e){return Object.prototype.hasOwnProperty.call(l,e)},y.j.unregister=function(e){delete l[e],y.j.Bc(e)},y.j.Fc={getConfig:function(e,t){t(y.j.tb(e)?l[e]:null)},loadComponent:function(t,n,i){var o=a(t);r(o,n,(function(n){e(t,o,n,i)}))},loadTemplate:function(e,t,r){if(e=a(e),"string"==typeof t)r(y.a.ua(t));else if(t instanceof Array)r(t);else if(s(t))r(y.a.la(t.childNodes));else if(t.element)if(t=t.element,i.HTMLElement?t instanceof HTMLElement:t&&t.tagName&&1===t.nodeType)r(n(t));else if("string"==typeof t){var l=o.getElementById(t);l?r(n(l)):e("Cannot find element with ID "+t)}else e("Unknown element type: "+t);else e("Unknown template value: "+t)},loadViewModel:function(e,t,n){!function e(t,n,i){if("function"==typeof n)i((function(e){return new n(e)}));else if("function"==typeof n[h])i(n[h]);else if("instance"in n){var o=n.instance;i((function(){return o}))}else"viewModel"in n?e(t,n.viewModel,i):t("Unknown viewModel value: "+n)}(a(e),t,n)}};var h="createViewModel";y.b("components.register",y.j.register),y.b("components.isRegistered",y.j.tb),y.b("components.unregister",y.j.unregister),y.b("components.defaultLoader",y.j.Fc),y.j.loaders.push(y.j.Fc),y.j.dd=l}(),function(){function e(e,n){if(i=e.getAttribute("params")){var i=t.parseBindingsString(i,n,e,{valueAccessors:!0,bindingParams:!0}),o=(i=y.a.Ga(i,(function(t){return y.o(t,null,{l:e})})),y.a.Ga(i,(function(t){var n=t.v();return t.ja()?y.o({read:function(){return y.a.f(t())},write:y.Za(n)&&function(e){t()(e)},l:e}):n})));return Object.prototype.hasOwnProperty.call(o,"$raw")||(o.$raw=i),o}return{$raw:{}}}y.j.getComponentNameForNode=function(e){var t=y.a.R(e);if(y.j.tb(t)&&(-1!=t.indexOf("-")||"[object HTMLUnknownElement]"==""+e||8>=y.a.W&&e.tagName===t))return t},y.j.tc=function(t,n,i,o){if(1===n.nodeType){var s=y.j.getComponentNameForNode(n);if(s){if((t=t||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var r={name:s,params:e(n,i)};t.component=o?function(){return r}:r}}return t};var t=new y.ga;9>y.a.W&&(y.j.register=function(e){return function(t){return e.apply(this,arguments)}}(y.j.register),o.createDocumentFragment=function(e){return function(){var t=e();return y.j.dd,t}}(o.createDocumentFragment))}(),function(){var e=0;y.c.component={init:function(t,n,i,o,s){function r(){var e=a&&a.dispose;"function"==typeof e&&e.call(a),h&&h.s(),l=a=h=null}var a,l,h,c=y.a.la(y.h.childNodes(t));return y.h.Ea(t),y.a.K.za(t,r),y.o((function(){var i,o,u=y.a.f(n());if("string"==typeof u?i=u:(i=y.a.f(u.name),o=y.a.f(u.params)),!i)throw Error("No component name specified");var d=y.i.Cb(t,s),p=l=++e;y.j.get(i,(function(e){if(l===p){if(r(),!e)throw Error("Unknown component '"+i+"'");!function(e,t,n){if(!(t=t.template))throw Error("Component '"+e+"' has no template");e=y.a.Ca(t),y.h.va(n,e)}(i,e,t);var n=function(e,t,n){var i=e.createViewModel;return i?i.call(e,t,n):t}(e,o,{element:t,templateNodes:c});e=d.createChildContext(n,{extend:function(e){e.$component=n,e.$componentTemplateNodes=c}}),n&&n.koDescendantsComplete&&(h=y.i.subscribe(t,y.i.pa,n.koDescendantsComplete,n)),a=n,y.Oa(e,t)}}))}),null,{l:t}),{controlsDescendantBindings:!0}}},y.h.ea.component=!0}();var R={class:"className",for:"htmlFor"};y.c.attr={update:function(e,t){var i=y.a.f(t())||{};y.a.P(i,(function(t,i){i=y.a.f(i);var o=t.indexOf(":"),s=(o="lookupNamespaceURI"in e&&0<o&&e.lookupNamespaceURI(t.substr(0,o)),!1===i||null===i||i===n);s?o?e.removeAttributeNS(o,t):e.removeAttribute(t):i=i.toString(),8>=y.a.W&&t in R?(t=R[t],s?e.removeAttribute(t):e[t]=i):s||(o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)),"name"===t&&y.a.Yc(e,s?"":i)}))}},y.c.checked={after:["value","attr"],init:function(e,t,i){function o(){var o=e.checked,l=s();if(!y.S.Ya()&&(o||!a&&!y.S.qa())){var u=y.u.G(t);if(h){var p=c?u.v():u,f=d;d=l,f!==l?o&&(y.a.Na(p,l,!0),y.a.Na(p,f,!1)):y.a.Na(p,l,o),c&&y.Za(u)&&u(p)}else r&&(l===n?l=o:o||(l=n)),y.m.eb(u,i,"checked",l,!0)}}var s=y.xb((function(){return i.has("checkedValue")?y.a.f(i.get("checkedValue")):u?i.has("value")?y.a.f(i.get("value")):e.value:void 0})),r="checkbox"==e.type,a="radio"==e.type;if(r||a){var l=t(),h=r&&y.a.f(l)instanceof Array,c=!(h&&l.push&&l.splice),u=a||h,d=h?s():n;a&&!e.name&&y.c.uniqueName.init(e,(function(){return!0})),y.o(o,null,{l:e}),y.a.B(e,"click",o),y.o((function(){var i=y.a.f(t()),o=s();h?(e.checked=0<=y.a.A(i,o),d=o):e.checked=r&&o===n?!!i:s()===i}),null,{l:e}),l=n}}},y.m.wa.checked=!0,y.c.checkedValue={update:function(e,t){e.value=y.a.f(t())}},y.c.class={update:function(e,t){var n=y.a.Db(y.a.f(t()));y.a.Eb(e,e.__ko__cssValue,!1),e.__ko__cssValue=n,y.a.Eb(e,n,!0)}},y.c.css={update:function(e,t){var n=y.a.f(t());null!==n&&"object"==typeof n?y.a.P(n,(function(t,n){n=y.a.f(n),y.a.Eb(e,t,n)})):y.c.class.update(e,t)}},y.c.enable={update:function(e,t){var n=y.a.f(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},y.c.disable={update:function(e,t){y.c.enable.update(e,(function(){return!y.a.f(t())}))}},y.c.event={init:function(e,t,n,i,o){var s=t()||{};y.a.P(s,(function(s){"string"==typeof s&&y.a.B(e,s,(function(e){var r,a=t()[s];if(a){try{var l=y.a.la(arguments);i=o.$data,l.unshift(i),r=a.apply(i,l)}finally{!0!==r&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===n.get(s+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}}))}))}},y.c.foreach={Rc:function(e){return function(){var t=e(),n=y.a.bc(t);return n&&"number"!=typeof n.length?(y.a.f(t),{foreach:n.data,as:n.as,noChildContext:n.noChildContext,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:y.ba.Ma}):{foreach:t,templateEngine:y.ba.Ma}}},init:function(e,t){return y.c.template.init(e,y.c.foreach.Rc(t))},update:function(e,t,n,i,o){return y.c.template.update(e,y.c.foreach.Rc(t),n,i,o)}},y.m.Ra.foreach=!1,y.h.ea.foreach=!0,y.c.hasfocus={init:function(e,t,n){function i(i){e.__ko_hasfocusUpdating=!0;var o=e.ownerDocument;if("activeElement"in o){var s;try{s=o.activeElement}catch(e){s=o.body}i=s===e}o=t(),y.m.eb(o,n,"hasfocus",i,!0),e.__ko_hasfocusLastValue=i,e.__ko_hasfocusUpdating=!1}var o=i.bind(null,!0),s=i.bind(null,!1);y.a.B(e,"focus",o),y.a.B(e,"focusin",o),y.a.B(e,"blur",s),y.a.B(e,"focusout",s),e.__ko_hasfocusLastValue=!1},update:function(e,t){var n=!!y.a.f(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===n||(n?e.focus():e.blur(),!n&&e.__ko_hasfocusLastValue&&e.ownerDocument.body.focus(),y.u.G(y.a.Fb,null,[e,n?"focusin":"focusout"]))}},y.m.wa.hasfocus=!0,y.c.hasFocus=y.c.hasfocus,y.m.wa.hasFocus="hasfocus",y.c.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){y.a.fc(e,t())}},function(){function e(e,t,n){y.c[e]={init:function(e,i,o,s,r){var a,l,h,c,u,d={};if(t){s=o.get("as");var p=o.get("noChildContext");d={as:s,noChildContext:p,exportDependencies:u=!(s&&p)}}return c=(h="render"==o.get("completeOn"))||o.has(y.i.pa),y.o((function(){var o,s=y.a.f(i()),p=!n!=!s,f=!l;(u||p!==a)&&(c&&(r=y.i.Cb(e,r)),p&&(t&&!u||(d.dataDependency=y.S.o()),o=t?r.createChildContext("function"==typeof s?s:i,d):y.S.qa()?r.extend(null,d):r),f&&y.S.qa()&&(l=y.a.Ca(y.h.childNodes(e),!0)),p?(f||y.h.va(e,y.a.Ca(l)),y.Oa(o,e)):(y.h.Ea(e),h||y.i.ma(e,y.i.H)),a=p)}),null,{l:e}),{controlsDescendantBindings:!0}}},y.m.Ra[e]=!1,y.h.ea[e]=!0}e("if"),e("ifnot",!1,!0),e("with",!0)}(),y.c.let={init:function(e,t,n,i,o){return t=o.extend(t),y.Oa(t,e),{controlsDescendantBindings:!0}}},y.h.ea.let=!0;var L={};y.c.options={init:function(e){if("select"!==y.a.R(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(e,t,i){function o(){return y.a.jb(e.options,(function(e){return e.selected}))}function s(e,t,n){var i=typeof t;return"function"==i?t(e):"string"==i?e[t]:n}function r(t,n){if(f&&c)y.i.ma(e,y.i.H);else if(p.length){var i=0<=y.a.A(p,y.w.M(n[0]));y.a.Zc(n[0],i),f&&!i&&y.u.G(y.a.Fb,null,[e,"change"])}}var a=e.multiple,l=0!=e.length&&a?e.scrollTop:null,h=y.a.f(t()),c=i.get("valueAllowUnset")&&i.has("value"),u=i.get("optionsIncludeDestroyed");t={};var d,p=[];c||(a?p=y.a.Mb(o(),y.w.M):0<=e.selectedIndex&&p.push(y.w.M(e.options[e.selectedIndex]))),h&&(void 0===h.length&&(h=[h]),d=y.a.jb(h,(function(e){return u||e===n||null===e||!y.a.f(e._destroy)})),i.has("optionsCaption")&&null!==(h=y.a.f(i.get("optionsCaption")))&&h!==n&&d.unshift(L));var f=!1;t.beforeRemove=function(t){e.removeChild(t)},h=r,i.has("optionsAfterRender")&&"function"==typeof i.get("optionsAfterRender")&&(h=function(e,t){r(0,t),y.u.G(i.get("optionsAfterRender"),null,[t[0],e!==L?e:n])}),y.a.ec(e,d,(function(t,o,r){return r.length&&(p=!c&&r[0].selected?[y.w.M(r[0])]:[],f=!0),o=e.ownerDocument.createElement("option"),t===L?(y.a.Bb(o,i.get("optionsCaption")),y.w.cb(o,n)):(r=s(t,i.get("optionsValue"),t),y.w.cb(o,y.a.f(r)),t=s(t,i.get("optionsText"),r),y.a.Bb(o,t)),[o]}),t,h),c||(a?p.length&&o().length<p.length:p.length&&0<=e.selectedIndex?y.w.M(e.options[e.selectedIndex])!==p[0]:p.length||0<=e.selectedIndex)&&y.u.G(y.a.Fb,null,[e,"change"]),(c||y.S.Ya())&&y.i.ma(e,y.i.H),y.a.wd(e),l&&20<Math.abs(l-e.scrollTop)&&(e.scrollTop=l)}},y.c.options.$b=y.a.g.Z(),y.c.selectedOptions={init:function(e,t,n){function i(){var i=t(),o=[];y.a.D(e.getElementsByTagName("option"),(function(e){e.selected&&o.push(y.w.M(e))})),y.m.eb(i,n,"selectedOptions",o)}function o(){var n=y.a.f(t()),i=e.scrollTop;n&&"number"==typeof n.length&&y.a.D(e.getElementsByTagName("option"),(function(e){var t=0<=y.a.A(n,y.w.M(e));e.selected!=t&&y.a.Zc(e,t)})),e.scrollTop=i}if("select"!=y.a.R(e))throw Error("selectedOptions binding applies only to SELECT elements");var s;y.i.subscribe(e,y.i.H,(function(){s?i():(y.a.B(e,"change",i),s=y.o(o,null,{l:e}))}),null,{notifyImmediately:!0})},update:function(){}},y.m.wa.selectedOptions=!0,y.c.style={update:function(e,t){var i=y.a.f(t()||{});y.a.P(i,(function(t,i){if(null!==(i=y.a.f(i))&&i!==n&&!1!==i||(i=""),r)r(e).css(t,i);else if(/^--/.test(t))e.style.setProperty(t,i);else{t=t.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}));var o=e.style[t];e.style[t]=i,i===o||e.style[t]!=o||isNaN(i)||(e.style[t]=i+"px")}}))}},y.c.submit={init:function(e,t,n,i,o){if("function"!=typeof t())throw Error("The value for a submit binding must be a function");y.a.B(e,"submit",(function(n){var i,s=t();try{i=s.call(o.$data,e)}finally{!0!==i&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}}))}},y.c.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){y.a.Bb(e,t())}},y.h.ea.text=!0,function(){if(i&&i.navigator){var e,t,o,s,r,a=function(e){if(e)return parseFloat(e[1])},l=i.navigator.userAgent;(e=i.opera&&i.opera.version&&parseInt(i.opera.version()))||(r=a(l.match(/Edge\/([^ ]+)$/)))||a(l.match(/Chrome\/([^ ]+)/))||(t=a(l.match(/Version\/([^ ]+) Safari/)))||(o=a(l.match(/Firefox\/([^ ]+)/)))||(s=y.a.W||a(l.match(/MSIE ([^ ]+)/)))||(s=a(l.match(/rv:([^ )]+)/)))}if(8<=s&&10>s)var h=y.a.g.Z(),c=y.a.g.Z(),u=function(e){var t=this.activeElement;(t=t&&y.a.g.get(t,c))&&t(e)},d=function(e,t){var n=e.ownerDocument;y.a.g.get(n,h)||(y.a.g.set(n,h,!0),y.a.B(n,"selectionchange",u)),y.a.g.set(e,c,t)};y.c.textInput={init:function(i,a,l){function h(e,t){y.a.B(i,e,t)}function c(){p||(f=i.value,p=y.a.setTimeout(u,4))}function u(){clearTimeout(p),f=p=n;var e=i.value;g!==e&&(g=e,y.m.eb(a(),l,"textInput",e))}var p,f,g=i.value,m=9==y.a.W?c:u,b=!1;s&&h("keypress",u),11>s&&h("propertychange",(function(e){b||"value"!==e.propertyName||m(e)})),8==s&&(h("keyup",u),h("keydown",u)),d&&(d(i,m),h("dragend",c)),(!s||9<=s)&&h("input",m),5>t&&"textarea"===y.a.R(i)?(h("keydown",c),h("paste",c),h("cut",c)):11>e?h("keydown",c):4>o?(h("DOMAutoComplete",u),h("dragdrop",u),h("drop",u)):r&&"number"===i.type&&h("keydown",c),h("change",u),h("blur",u),y.o((function e(){var t=y.a.f(a());null!==t&&t!==n||(t=""),f!==n&&t===f?y.a.setTimeout(e,4):i.value!==t&&(b=!0,i.value=t,b=!1,g=i.value)}),null,{l:i})}},y.m.wa.textInput=!0,y.c.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),y.c.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++y.c.uniqueName.rd;y.a.Yc(e,n)}}},y.c.uniqueName.rd=0,y.c.using={init:function(e,t,n,i,o){var s;return n.has("as")&&(s={as:n.get("as"),noChildContext:n.get("noChildContext")}),t=o.createChildContext(t,s),y.Oa(t,e),{controlsDescendantBindings:!0}}},y.h.ea.using=!0,y.c.value={init:function(e,t,i){var o=y.a.R(e),s="input"==o;if(!s||"checkbox"!=e.type&&"radio"!=e.type){var r=[],a=i.get("valueUpdate"),l=!1,h=null;a&&(r="string"==typeof a?[a]:y.a.wc(a),y.a.Pa(r,"change"));var c,u,d=function(){h=null,l=!1;var n=t(),o=y.w.M(e);y.m.eb(n,i,"value",o)};!y.a.W||!s||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=y.a.A(r,"propertychange")||(y.a.B(e,"propertychange",(function(){l=!0})),y.a.B(e,"focus",(function(){l=!1})),y.a.B(e,"blur",(function(){l&&d()}))),y.a.D(r,(function(t){var n=d;y.a.Ud(t,"after")&&(n=function(){h=y.w.M(e),y.a.setTimeout(d,0)},t=t.substring(5)),y.a.B(e,t,n)})),c=s&&"file"==e.type?function(){var i=y.a.f(t());null===i||i===n||""===i?e.value="":y.u.G(d)}:function(){var s=y.a.f(t()),r=y.w.M(e);null!==h&&s===h?y.a.setTimeout(c,0):s===r&&r!==n||("select"===o?(r=i.get("valueAllowUnset"),y.w.cb(e,s,r),r||s===y.w.M(e)||y.u.G(d)):y.w.cb(e,s))},"select"===o?y.i.subscribe(e,y.i.H,(function(){u?i.get("valueAllowUnset")?c():d():(y.a.B(e,"change",d),u=y.o(c,null,{l:e}))}),null,{notifyImmediately:!0}):(y.a.B(e,"change",d),y.o(c,null,{l:e}))}else y.ib(e,{checkedValue:t})},update:function(){}},y.m.wa.value=!0,y.c.visible={update:function(e,t){var n=y.a.f(t()),i="none"!=e.style.display;n&&!i?e.style.display="":!n&&i&&(e.style.display="none")}},y.c.hidden={update:function(e,t){y.c.visible.update(e,(function(){return!y.a.f(t())}))}},function(e){y.c[e]={init:function(t,n,i,o,s){return y.c.event.init.call(this,t,(function(){var t={};return t[e]=n(),t}),i,o,s)}}}("click"),y.ca=function(){},y.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},y.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},y.ca.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){var n=(t=t||o).getElementById(e);if(!n)throw Error("Cannot find template with ID "+e);return new y.C.F(n)}if(1==e.nodeType||8==e.nodeType)return new y.C.ia(e);throw Error("Unknown template type: "+e)},y.ca.prototype.renderTemplate=function(e,t,n,i){return e=this.makeTemplateSource(e,i),this.renderTemplateSource(e,t,n,i)},y.ca.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},y.ca.prototype.rewriteTemplate=function(e,t,n){t=t((e=this.makeTemplateSource(e,n)).text()),e.text(t),e.data("isRewritten",!0)},y.b("templateEngine",y.ca),y.kc=function(){function e(e,t,n,i){e=y.m.ac(e);for(var o=y.m.Ra,s=0;s<e.length;s++){var r=e[s].key;if(Object.prototype.hasOwnProperty.call(o,r)){var a=o[r];if("function"==typeof a){if(r=a(e[s].value))throw Error(r)}else if(!a)throw Error("This template engine does not support the '"+r+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+y.m.vb(e,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",i.createJavaScriptEvaluatorBlock(n)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{xd:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,(function(e){return y.kc.Ld(e,t)}),n)},Ld:function(i,o){return i.replace(t,(function(t,n,i,s,r){return e(r,n,i,o)})).replace(n,(function(t,n){return e(n,"\x3c!-- ko --\x3e","#comment",o)}))},md:function(e,t){return y.aa.Xb((function(n,i){var o=n.nextSibling;o&&o.nodeName.toLowerCase()===t&&y.ib(o,e,i)}))}}}(),y.b("__tr_ambtns",y.kc.md),function(){y.C={},y.C.F=function(e){if(this.F=e){var t=y.a.R(e);this.ab="script"===t?1:"textarea"===t?2:"template"==t&&e.content&&11===e.content.nodeType?3:4}},y.C.F.prototype.text=function(){var e=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.F[e];var t=arguments[0];"innerHTML"===e?y.a.fc(this.F,t):this.F[e]=t};var e=y.a.g.Z()+"_";y.C.F.prototype.data=function(t){if(1===arguments.length)return y.a.g.get(this.F,e+t);y.a.g.set(this.F,e+t,arguments[1])};var t=y.a.g.Z();y.C.F.prototype.nodes=function(){var e=this.F;if(0==arguments.length){var i=y.a.g.get(e,t)||{},o=i.lb||(3===this.ab?e.content:4===this.ab?e:n);if(!o||i.jd){var s=this.text();s&&s!==i.bb&&(o=y.a.Md(s,e.ownerDocument),y.a.g.set(e,t,{lb:o,bb:s,jd:!0}))}return o}i=arguments[0],this.ab!==n&&this.text(""),y.a.g.set(e,t,{lb:i})},y.C.ia=function(e){this.F=e},y.C.ia.prototype=new y.C.F,y.C.ia.prototype.constructor=y.C.ia,y.C.ia.prototype.text=function(){if(0==arguments.length){var e=y.a.g.get(this.F,t)||{};return e.bb===n&&e.lb&&(e.bb=e.lb.innerHTML),e.bb}y.a.g.set(this.F,t,{bb:arguments[0]})},y.b("templateSources",y.C),y.b("templateSources.domElement",y.C.F),y.b("templateSources.anonymousTemplate",y.C.ia)}(),function(){function e(e,t,n){var i;for(t=y.h.nextSibling(t);e&&(i=e)!==t;)n(i,e=y.h.nextSibling(i))}function t(t,n){if(t.length){var i=t[0],o=t[t.length-1],s=i.parentNode,r=y.ga.instance,a=r.preprocessNode;if(a){if(e(i,o,(function(e,t){var n=e.previousSibling,s=a.call(r,e);s&&(e===i&&(i=s[0]||t),e===o&&(o=s[s.length-1]||n))})),t.length=0,!i)return;i===o?t.push(i):(t.push(i,o),y.a.Ua(t,s))}e(i,o,(function(e){1!==e.nodeType&&8!==e.nodeType||y.vc(n,e)})),e(i,o,(function(e){1!==e.nodeType&&8!==e.nodeType||y.aa.cd(e,[n])})),y.a.Ua(t,s)}}function i(e){return e.nodeType?e:0<e.length?e[0]:null}function o(e,n,o,s,a){a=a||{};var l=(e&&i(e)||o||{}).ownerDocument,h=a.templateEngine||r;if(y.kc.xd(o,h,l),"number"!=typeof(o=h.renderTemplate(o,s,a,l)).length||0<o.length&&"number"!=typeof o[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(l=!1,n){case"replaceChildren":y.h.va(e,o),l=!0;break;case"replaceNode":y.a.Xc(e,o),l=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+n)}return l&&(t(o,s),a.afterRender&&y.u.G(a.afterRender,null,[o,s[a.as||"$data"]]),"replaceChildren"==n&&y.i.ma(e,y.i.H)),o}function s(e,t,n){return y.O(e)?e():"function"==typeof e?e(t,n):e}var r;y.gc=function(e){if(e!=n&&!(e instanceof y.ca))throw Error("templateEngine must inherit from ko.templateEngine");r=e},y.dc=function(e,t,a,l,h){if(((a=a||{}).templateEngine||r)==n)throw Error("Set a template engine before calling renderTemplate");if(h=h||"replaceChildren",l){var c=i(l);return y.$((function(){var n=t&&t instanceof y.fa?t:new y.fa(t,null,null,null,{exportDependencies:!0}),r=s(e,n.$data,n);n=o(l,h,r,n,a),"replaceNode"==h&&(c=i(l=n))}),null,{Sa:function(){return!c||!y.a.Sb(c)},l:c&&"replaceNode"==h?c.parentNode:c})}return y.aa.Xb((function(n){y.dc(e,t,a,n,"replaceNode")}))},y.Qd=function(e,i,r,a,l){function h(e,t){y.u.G(y.a.ec,null,[a,e,u,r,c,t]),y.i.ma(a,y.i.H)}function c(e,n){t(n,d),r.afterRender&&r.afterRender(n,e),d=null}function u(t,n){d=l.createChildContext(t,{as:p,noChildContext:r.noChildContext,extend:function(e){e.$index=n,p&&(e[p+"Index"]=n)}});var i=s(e,t,d);return o(a,"ignoreTargetNode",i,d,r)}var d,p=r.as,f=!1===r.includeDestroyed||y.options.foreachHidesDestroyed&&!r.includeDestroyed;if(f||r.beforeRemove||!y.Pc(i))return y.$((function(){var e=y.a.f(i)||[];void 0===e.length&&(e=[e]),f&&(e=y.a.jb(e,(function(e){return e===n||null===e||!y.a.f(e._destroy)}))),h(e)}),null,{l:a});h(i.v());var g=i.subscribe((function(e){h(i(),e)}),null,"arrayChange");return g.l(a),g};var a=y.a.g.Z(),l=y.a.g.Z();y.c.template={init:function(e,t){var n=y.a.f(t());if("string"==typeof n||"name"in n)y.h.Ea(e);else if("nodes"in n){if(n=n.nodes||[],y.O(n))throw Error('The "nodes" option must be a plain, non-observable array.');var i=n[0]&&n[0].parentNode;i&&y.a.g.get(i,l)||(i=y.a.Yb(n),y.a.g.set(i,l,!0)),new y.C.ia(e).nodes(i)}else{if(!(0<(n=y.h.childNodes(e)).length))throw Error("Anonymous template defined, but no template content was provided");i=y.a.Yb(n),new y.C.ia(e).nodes(i)}return{controlsDescendantBindings:!0}},update:function(e,t,i,o,s){var r=t();i=!0,o=null,"string"==typeof(t=y.a.f(r))?t={}:(r="name"in t?t.name:e,"if"in t&&(i=y.a.f(t.if)),i&&"ifnot"in t&&(i=!y.a.f(t.ifnot)),i&&!r&&(i=!1)),"foreach"in t?o=y.Qd(r,i&&t.foreach||[],t,e,s):i?(i=s,"data"in t&&(i=s.createChildContext(t.data,{as:t.as,noChildContext:t.noChildContext,exportDependencies:!0})),o=y.dc(r,i,t,e)):y.h.Ea(e),s=o,(t=y.a.g.get(e,a))&&"function"==typeof t.s&&t.s(),y.a.g.set(e,a,!s||s.ja&&!s.ja()?n:s)}},y.m.Ra.template=function(e){return 1==(e=y.m.ac(e)).length&&e[0].unknown||y.m.Id(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},y.h.ea.template=!0}(),y.b("setTemplateEngine",y.gc),y.b("renderTemplate",y.dc),y.a.Kc=function(e,t,n){var i,o,s,r,a;if(e.length&&t.length)for(i=o=0;(!n||i<n)&&(r=e[o]);++o){for(s=0;a=t[s];++s)if(r.value===a.value){r.moved=a.index,a.moved=r.index,t.splice(s,1),i=s=0;break}i+=s}},y.a.Pb=function(){function e(e,t,n,i,o){var s,r,a,l,h,c=Math.min,u=Math.max,d=[],p=e.length,f=t.length,g=f-p||1,m=p+f+1;for(s=0;s<=p;s++)for(l=a,d.push(a=[]),h=c(f,s+g),r=u(0,s-1);r<=h;r++)a[r]=r?s?e[s-1]===t[r-1]?l[r-1]:c(l[r]||m,a[r-1]||m)+1:r+1:s+1;for(c=[],u=[],g=[],s=p,r=f;s||r;)f=d[s][r]-1,r&&f===d[s][r-1]?u.push(c[c.length]={status:n,value:t[--r],index:r}):s&&f===d[s-1][r]?g.push(c[c.length]={status:i,value:e[--s],index:s}):(--r,--s,o.sparse||c.push({status:"retained",value:t[r]}));return y.a.Kc(g,u,!o.dontLimitMoves&&10*p),c.reverse()}return function(t,n,i){return i="boolean"==typeof i?{dontLimitMoves:i}:i||{},n=n||[],(t=t||[]).length<n.length?e(t,n,"added","deleted",i):e(n,t,"deleted","added",i)}}(),y.b("utils.compareArrays",y.a.Pb),function(){function e(e,t,i,o,s){var r=[],a=y.$((function(){var n=t(i,s,y.a.Ua(r,e))||[];0<r.length&&(y.a.Xc(r,n),o&&y.u.G(o,null,[i,n,s])),r.length=0,y.a.Nb(r,n)}),null,{l:e,Sa:function(){return!y.a.kd(r)}});return{Y:r,$:a.ja()?a:n}}var t=y.a.g.Z(),i=y.a.g.Z();y.a.ec=function(o,s,r,a,l,h){function c(e){p={Aa:e,pb:y.ta(N++)},E.push(p),w||I.push(p)}function u(e){p=b[e],N!==p.pb.v()&&x.push(p),p.pb(N++),y.a.Ua(p.Y,o),E.push(p)}function d(e,t){if(e)for(var n=0,i=t.length;n<i;n++)y.a.D(t[n].Y,(function(i){e(i,n,t[n].Aa)}))}void 0===(s=s||[]).length&&(s=[s]),a=a||{};var p,f,g,m,b=y.a.g.get(o,t),w=!b,E=[],S=0,N=0,v=[],C=[],T=[],x=[],I=[],P=0;if(w)y.a.D(s,c);else{if(!h||b&&b._countWaitingForRemove){var A=y.a.Mb(b,(function(e){return e.Aa}));h=y.a.Pb(A,s,{dontLimitMoves:a.dontLimitMoves,sparse:!0})}var O,R,L;for(A=0;O=h[A];A++)switch(R=O.moved,L=O.index,O.status){case"deleted":for(;S<L;)u(S++);R===n&&((p=b[S]).$&&(p.$.s(),p.$=n),y.a.Ua(p.Y,o).length&&(a.beforeRemove&&(E.push(p),P++,p.Aa===i?p=null:T.push(p)),p&&v.push.apply(v,p.Y))),S++;break;case"added":for(;N<L;)u(S++);R!==n?(C.push(E.length),u(R)):c(O.value)}for(;N<s.length;)u(S++);E._countWaitingForRemove=P}y.a.g.set(o,t,E),d(a.beforeMove,x),y.a.D(v,a.beforeRemove?y.oa:y.removeNode);try{m=o.ownerDocument.activeElement}catch(e){}if(C.length)for(;(A=C.shift())!=n;){for(p=E[A],f=n;A;)if((g=E[--A].Y)&&g.length){f=g[g.length-1];break}for(s=0;S=p.Y[s];f=S,s++)y.h.Wb(o,S,f)}for(A=0;p=E[A];A++){for(p.Y||y.a.extend(p,e(o,r,p.Aa,l,p.pb)),s=0;S=p.Y[s];f=S,s++)y.h.Wb(o,S,f);!p.Ed&&l&&(l(p.Aa,p.Y,p.pb),p.Ed=!0,f=p.Y[p.Y.length-1])}for(m&&o.ownerDocument.activeElement!=m&&m.focus(),d(a.beforeRemove,T),A=0;A<T.length;++A)T[A].Aa=i;d(a.afterMove,x),d(a.afterAdd,I)}}(),y.b("utils.setDomNodeChildrenFromArrayMapping",y.a.ec),y.ba=function(){this.allowTemplateRewriting=!1},y.ba.prototype=new y.ca,y.ba.prototype.constructor=y.ba,y.ba.prototype.renderTemplateSource=function(e,t,n,i){return(t=9>y.a.W||!e.nodes?null:e.nodes())?y.a.la(t.cloneNode(!0).childNodes):(e=e.text(),y.a.ua(e,i))},y.ba.Ma=new y.ba,y.gc(y.ba.Ma),y.b("nativeTemplateEngine",y.ba),function(){y.$a=function(){var e=this.Hd=function(){if(!r||!r.tmpl)return 0;try{if(0<=r.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(t,n,i,s){if(s=s||o,i=i||{},2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var a=t.data("precompiled");return a||(a=t.text()||"",a=r.template(null,"{{ko_with $item.koBindingContext}}"+a+"{{/ko_with}}"),t.data("precompiled",a)),t=[n.$data],n=r.extend({koBindingContext:n},i.templateOptions),(n=r.tmpl(a,t,n)).appendTo(s.createElement("div")),r.fragments={},n},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){o.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},0<e&&(r.tmpl.tag.ko_code={open:"__.push($1 || '');"},r.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},y.$a.prototype=new y.ca,y.$a.prototype.constructor=y.$a;var e=new y.$a;0<e.Hd&&y.gc(e),y.b("jqueryTmplTemplateEngine",y.$a)}()}))}()})),o=e((function(e,t){function n(e){t.isDebug=e}function i(e){switch(e){case"ltr":return t.PageProgression.LTR;case"rtl":return t.PageProgression.RTL;default:throw new Error(`unknown PageProgression: ${e}`)}}var o;Object.defineProperty(t,"__esModule",{value:!0}),t.isDebug=!1,(o=t.PageProgression||(t.PageProgression={})).LTR="ltr",o.RTL="rtl",function(e){e.LEFT="left",e.RIGHT="right"}(t.PageSide||(t.PageSide={})),function(e){e.LOADING="loading",e.INTERACTIVE="interactive",e.COMPLETE="complete"}(t.ReadyState||(t.ReadyState={}));const s={PageProgression:t.PageProgression,PageSide:t.PageSide,ReadyState:t.ReadyState};var r;!function(e){e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR"}(r||(r={}));function a(e){const t=Array.from(e);let n=null;return t[0]instanceof Error&&(n=t.shift()),{error:n,messages:t}}function l(e){const t=e.error,n=t&&(t.frameTrace||t.stack);let i=[].concat(e.messages);return t&&(i.length>0&&(i=i.concat(["\n"])),i=i.concat([t.toString()]),n&&(i=i.concat(["\n"]).concat(n))),i}const h=new class{constructor(e){this.opt_console=e,this.listeners={}}consoleDebug(e){this.opt_console?this.opt_console.debug?this.opt_console.debug(...e):this.opt_console.log(...e):console.debug(...e)}consoleInfo(e){this.opt_console?this.opt_console.info?this.opt_console.info(...e):this.opt_console.log(...e):console.info(...e)}consoleWarn(e){this.opt_console?this.opt_console.warn?this.opt_console.warn(...e):this.opt_console.log(...e):console.warn(...e)}consoleError(e){this.opt_console?this.opt_console.error?this.opt_console.error(...e):this.opt_console.log(...e):console.error(...e)}triggerListeners(e,t){const n=this.listeners[e];n&&n.forEach(e=>{e(t)})}addListener(e,t){let n=this.listeners[e];n||(n=this.listeners[e]=[]),n.push(t)}debug(...e){const t=a(arguments);this.consoleDebug(l(t)),this.triggerListeners(r.DEBUG,t)}info(...e){const t=a(arguments);this.consoleInfo(l(t)),this.triggerListeners(r.INFO,t)}warn(...e){const t=a(arguments);this.consoleWarn(l(t)),this.triggerListeners(r.WARN,t)}error(...e){const t=a(arguments);this.consoleError(l(t)),this.triggerListeners(r.ERROR,t)}};!function(e){e.SIMPLE_PROPERTY="SIMPLE_PROPERTY",e.PREPROCESS_SINGLE_DOCUMENT="PREPROCESS_SINGLE_DOCUMENT",e.PREPROCESS_TEXT_CONTENT="PREPROCESS_TEXT_CONTENT",e.PREPROCESS_ELEMENT_STYLE="PREPROCESS_ELEMENT_STYLE",e.POLYFILLED_INHERITED_PROPS="POLYFILLED_INHERITED_PROPS",e.CONFIGURATION="CONFIGURATION",e.RESOLVE_TEXT_NODE_BREAKER="RESOLVE_TEXT_NODE_BREAKER",e.RESOLVE_FORMATTING_CONTEXT="RESOLVE_FORMATTING_CONTEXT",e.RESOLVE_LAYOUT_PROCESSOR="RESOLVE_LAYOUT_PROCESSOR",e.POST_LAYOUT_BLOCK="POST_LAYOUT_BLOCK"}(t.HOOKS||(t.HOOKS={}));const c={};function u(e,n){if(t.HOOKS[e]){let t=c[e];t||(t=c[e]=[]),t.push(n)}else h.warn(new Error(`Skipping unknown plugin hook '${e}'.`))}function d(e,n){if(t.HOOKS[e]){const t=c[e];if(t){const e=t.indexOf(n);e>=0&&t.splice(e,1)}}else h.warn(new Error(`Ignoring unknown plugin hook '${e}'.`))}function p(e){return c[e]||[]}const f={registerHook:u,removeHook:d};class g{constructor(e){this.performanceInstance=e,this.timestamps={},this.registerTiming=m,this.registerStartTiming=this.registerStartTiming=m,this.registerEndTiming=this.registerEndTiming=m}forceRegisterStartTiming(e,t){b.call(this,e,"start",t)}forceRegisterEndTiming(e,t){b.call(this,e,"end",t)}printTimings(){const e=this.timestamps;let t="";Object.keys(e).forEach(n=>{const i=e[n],o=i.length;for(let e=0;e<o;e++){const s=i[e];t+=n,o>1&&(t+=`(${e})`),t+=` => start: ${s.start}, end: ${s.end}, duration: ${s.end-s.start}\n`}}),h.info(t)}disable(){this.registerTiming=m,this.registerStartTiming=this.registerStartTiming=m,this.registerEndTiming=this.registerEndTiming=m}enable(){this.registerTiming=b,this.registerStartTiming=this.registerStartTiming=w,this.registerEndTiming=this.registerEndTiming=E}isEnabled(){return this.registerStartTiming===w}}function m(){}function b(e,t,n){n||(n=this.performanceInstance.now());let i,o=this.timestamps[e];o||(o=this.timestamps[e]=[]);for(let e=o.length-1;e>=0&&(i=o[e],!i||i[t]);e--)i=null;i||(i={},o.push(i)),i[t]=n}function w(e,t){this.registerTiming(e,"start",t)}function E(e,t){this.registerTiming(e,"end",t)}const y={now:Date.now},S=new g(window&&window.performance||y);S.forceRegisterStartTiming("load_vivliostyle");const N={profiler:{registerStartTiming:S.registerStartTiming,registerEndTiming:S.registerEndTiming,printTimings:S.printTimings,disable:S.disable,enable:S.enable}};let v={};function C(e){return JSON.parse(e)}function T(e){const t=e.match(/^([^#]*)/);return t?t[1]:e}let x=window.location.href;function I(e){x=e}let P=window.location.href;function A(e){P=e}function O(e,t){if(t.startsWith("data:"))return e||t;if(!t||e.match(/^\w{2,}:/))return e.toLowerCase().match("^javascript:")?"#":(e.match(/^\w{2,}:\/\/[^\/]+$/)&&(e=`${e}/`),e);let n;if(t.match(/^\w{2,}:\/\/[^\/]+$/)&&(t=`${t}/`),e.match(/^\/\//))return n=t.match(/^(\w{2,}:)\/\//),n?n[1]+e:e;if(e.match(/^\//))return n=t.match(/^(\w{2,}:\/\/[^\/]+)\//),n?n[1]+e:e;if(e.match(/^\.(\/|$)/)&&(e=e.substr(2)),t=function(e){const t=e.match(/^([^#?]*)/);return t?t[1]:e}(t),e.match(/^#/))return t+e;let i=t.lastIndexOf("/");if(i<0)return e;if(i<t.length-1&&t.lastIndexOf(".")<i){if(""==e)return t;i=(t+="/").length-1}let o=t.substr(0,i+1)+e,s="";for(n=o.match(/^([^?#]*)([?#].*)$/),n&&(o=n[1],s=n[2]);i=o.indexOf("/../"),!(i<=0);){const e=o.lastIndexOf("/",i-1);if(e<=0)break;o=o.substr(0,e)+o.substr(i+3)}return o.replace(/\/(\.\/)+/g,"/")+s}function R(e){let t;return(t=/^(https?:)\/\/github\.com\/([^/]+\/[^/]+)\/(blob\/|tree\/|raw\/)?(.*)$/.exec(e))?e=`${t[1]}//raw.githubusercontent.com/${t[2]}/${t[3]?"":"master/"}${t[4]}`:(t=/^(https?:)\/\/www\.aozora\.gr\.jp\/(cards\/[^/]+\/files\/[^/.]+\.html)$/.exec(e))?e=`${t[1]}//raw.githubusercontent.com/aozorabunko/aozorabunko/master/${t[2]}`:(t=/^(https?:)\/\/gist\.github\.com\/([^/]+\/\w+)(\/|$)(raw(\/|$))?(.*)$/.exec(e))?e=`${t[1]}//gist.githubusercontent.com/${t[2]}/raw/${t[6]}`:(t=/^(https?:)\/\/(?:[^/.]+\.)?jsbin\.com\/(?!(?:blog|help)\b)(\w+)((\/\d+)?).*$/.exec(e))&&(e=`${t[1]}//output.jsbin.com/${t[2]}${t[3]}/`),e}var L;function k(e){return null==e?e:e.toString()}!function(e){e.FB2="http://www.gribuser.ru/xml/fictionbook/2.0",e.epub="http://www.idpf.org/2007/ops",e.EV="http://www.w3.org/2001/xml-events",e.MATHML="http://www.w3.org/1998/Math/MathML",e.XML="http://www.w3.org/XML/1998/namespace",e.XHTML="http://www.w3.org/1999/xhtml",e.XLINK="http://www.w3.org/1999/xlink",e.SHADOW="http://www.pyroxy.com/ns/shadow",e.SVG="http://www.w3.org/2000/svg",e.DC="http://purl.org/dc/elements/1.1/",e.NCX="http://www.daisy.org/z3986/2005/ncx/",e.SSE="http://example.com/sse"}(L||(L={}));class F{constructor(){this.queue=[null]}length(){return this.queue.length-1}add(e){let t=this.queue.length;for(;t>1;){const n=Math.floor(t/2),i=this.queue[n];if(i.compare(e)>0)return void(this.queue[t]=e);this.queue[t]=i,t=n}this.queue[1]=e}peek(){return this.queue[1]}remove(){const e=this.queue[1],t=this.queue.pop(),n=this.queue.length;if(n>1){let e=1;for(;;){let i=2*e;if(i>=n)break;if(this.queue[i].compare(t)>0)i+1<n&&this.queue[i+1].compare(this.queue[i])>0&&i++;else{if(!(i+1<n&&this.queue[i+1].compare(t)>0))break;i++}this.queue[e]=this.queue[i],e=i}this.queue[e]=t}return e}}const D=["","-webkit-","-moz-","-ms-","-o-","-epub-"],_={};function B(e,t){if("writing-mode"===t){const n=document.createElement("span");return"-ms-"===e?(n.style.setProperty(e+t,"tb-rl"),"tb-rl"===n.style["writing-mode"]):(n.style.setProperty(e+t,"vertical-rl"),"vertical-rl"===n.style[e+t])}return"string"==typeof document.documentElement.style[function(e,t){return e&&(t=`-${t}`,"moz"===(e=e.replace(/-/g,""))&&(e="Moz")),e+t.replace(/-[a-z]/g,e=>e.substr(1).toUpperCase())}(e,t)]}function M(e){let t=_[e];if(t||null===t)return t;switch(e){case"text-combine-upright":if(B("-webkit-","text-combine")&&!B("","text-combine-upright"))return _[e]=["-webkit-text-combine"],["-webkit-text-combine"];break;case"writing-mode":if(B("-ms-","writing-mode"))return _[e]=["-ms-writing-mode"],["-ms-writing-mode"];break;case"filter":if(B("-webkit-","filter"))return _[e]=["-webkit-filter"],["-webkit-filter"];break;case"clip-path":if(B("-webkit-","clip-path"))return _[e]=["-webkit-clip-path","clip-path"];break;case"margin-inline-start":if(B("-webkit-","margin-start"))return _[e]=["-webkit-margin-start"],["-webkit-margin-start"];break;case"margin-inline-end":if(B("-webkit-","margin-end"))return _[e]=["-webkit-margin-end"],["-webkit-margin-end"];break;case"padding-inline-start":if(B("-webkit-","padding-start"))return _[e]=["-webkit-padding-start"],["-webkit-padding-start"];break;case"padding-inline-end":if(B("-webkit-","padding-end"))return _[e]=["-webkit-padding-end"],["-webkit-padding-end"]}for(const n of D)if(B(n,e))return t=n+e,_[e]=[t],[t];return h.warn("Property not supported by the browser: ",e),_[e]=null,null}function U(e,t,n){try{const i=M(t);if(!i)return;i.forEach(t=>{if("-ms-writing-mode"===t)switch(n){case"horizontal-tb":n="lr-tb";break;case"vertical-rl":n="tb-rl";break;case"vertical-lr":n="tb-lr"}else if("-webkit-text-combine"===t)switch(n){case"all":n="horizontal"}e&&e.style&&e.style.setProperty(t,n)})}catch(e){h.warn(e)}}function z(e,t,n){try{const n=_[t];return e.style.getPropertyValue(n?n[0]:t)}catch(e){}return n||""}function V(e){let t=e.getAttributeNS(L.XML,"lang");return t||e.namespaceURI!=L.XHTML||(t=e.getAttribute("lang")),t}class H{constructor(){this.list=[]}append(e){return this.list.push(e),this}clear(){this.list=[]}toString(){const e=this.list.join("");return this.list=[e],e}}function G(e){return`\\${e.charCodeAt(0).toString(16)} `}function $(e){return e.replace(/[^-_a-zA-Z0-9\u0080-\uFFFF]/g,G)}function W(e){return e.replace(/[\u0000-\u001F"\\]/g,G)}function X(e){return e.replace(/[\s+&?=#\u007F-\uFFFF]+/g,encodeURIComponent)}function j(e){return!!e.match(/^[a-zA-Z\u009E\u009F\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u024F\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527]$/)}function K(e,t){return e.replace(/[^-a-zA-Z0-9_]/g,(function(e){return function(e,t){return(t="string"==typeof t?t:"\\u")+(65536|e.charCodeAt(0)).toString(16).substr(1)}(e,t)}))}function Y(e){return K(e)}function q(e,t){t="string"==typeof t?t:"\\u";const n=new RegExp(`${Y(t)}[0-9a-fA-F]{4}`,"g");return e.replace(n,(function(e){return function(e,t){return t="string"==typeof t?t:"\\u",0===e.indexOf(t)?String.fromCharCode(parseInt(e.substring(t.length),16)):e}(e,t)}))}function Z(e,t){let n=0,i=e;for(;;){if(0==n||t(n-1),i==e||t(i),n==i)return n;const o=n+i>>1;t(o)?i=o:n=o+1}}function Q(e,t){return e-t}function J(e,t){const n={};for(const i of e){const e=t(i);e&&!n[e]&&(n[e]=i)}return n}function ee(e,t){const n={};for(const i of e){const e=t(i);e&&(n[e]?n[e].push(i):n[e]=[i])}return n}class te{constructor(){this.listeners={}}dispatchEvent(e){const t=this.listeners[e.type];if(t){e.target=this,e.currentTarget=this;for(let n=0;n<t.length;n++)t[n](e)}}addEventListener(e,t,n){if(n)return;const i=this.listeners[e];i?i.push(t):this.listeners[e]=[t]}removeEventListener(e,t,n){if(n)return;const i=this.listeners[e];if(i){const e=i.indexOf(t);e>=0&&i.splice(e,1)}}}let ne=null;let ie=null;let oe=null;let se=null;function re(e){if(1==e.nodeType){const t=e.getAttribute("id");if(t&&t.match(/^[-a-zA-Z_0-9.\u007F-\uFFFF]+$/))return t}return null}function ae(e){return`^${e}`}function le(e){return e.replace(/[\[\]\(\),=;^]/g,ae)}function he(e){return e.substr(1)}function ce(e){return e?e.replace(/\^[\[\]\(\),=;^]/g,he):e}function ue(e){const t=[];do{const n=e.match(/^(\^,|[^,])*/),i=ce(n[0]);if(!(e=e.substr(n[0].length+1))&&!t.length)return i;t.push(i)}while(e);return t}function de(e){const t={};for(;e;){const n=e.match(/^;([^;=]+)=(([^;]|\^;)*)/);if(!n)return t;t[n[1]]=ue(n[2]),e=e.substr(n[0].length)}return t}class pe{appendTo(e){e.append("!")}applyTo(e){return!1}}class fe{constructor(e,t,n){this.index=e,this.id=t,this.sideBias=n}appendTo(e){e.append("/"),e.append(this.index.toString()),(this.id||this.sideBias)&&(e.append("["),this.id&&e.append(this.id),this.sideBias&&(e.append(";s="),e.append(this.sideBias)),e.append("]"))}applyTo(e){if(1!=e.node.nodeType)throw new Error("E_CFI_NOT_ELEMENT");const t=e.node,n=t.children,i=n.length;let o;const s=Math.floor(this.index/2)-1;if(s<0||0==i)o=t.firstChild,e.node=o||t;else{if(o=n[Math.min(s,i-1)],1&this.index){const t=o.nextSibling;t&&1!=t.nodeType?o=t:e.after=!0}e.node=o}if(this.id&&(e.after||this.id!=re(e.node)))throw new Error("E_CFI_ID_MISMATCH");return e.sideBias=this.sideBias,!0}}class ge{constructor(e,t,n,i){this.offset=e,this.textBefore=t,this.textAfter=n,this.sideBias=i}applyTo(e){if(this.offset>0&&!e.after){let t=this.offset,n=e.node;for(;;){const e=n.nodeType;if(1==e)break;const i=n.nextSibling;if(3<=e&&e<=5){const e=n.textContent.length;if(t<=e)break;if(!i){t=e;break}t-=e}if(!i){t=0;break}n=i}e.node=n,e.offset=t}return e.sideBias=this.sideBias,!0}appendTo(e){e.append(":"),e.append(this.offset.toString()),(this.textBefore||this.textAfter||this.sideBias)&&(e.append("["),(this.textBefore||this.textAfter)&&(this.textBefore&&e.append(le(this.textBefore)),e.append(","),this.textAfter&&e.append(le(this.textAfter))),this.sideBias&&(e.append(";s="),e.append(this.sideBias)),e.append("]"))}}class me{constructor(){this.steps=null}fromString(e){let t=e.match(/^#?epubcfi\((.*)\)$/);if(!t)throw new Error("E_CFI_NOT_CFI");const n=t[1];let i=0;const o=[];for(;;){let e;switch(n.charAt(i)){case"/":{if(i++,t=n.substr(i).match(/^(0|[1-9][0-9]*)(\[([-a-zA-Z_0-9.\u007F-\uFFFF]+)(;([^\]]|\^\])*)?\])?/),!t)throw new Error("E_CFI_NUMBER_EXPECTED");i+=t[0].length;const s=parseInt(t[1],10),r=t[3];e=de(t[4]),o.push(new fe(s,r,k(e.s)));break}case":":{if(i++,t=n.substr(i).match(/^(0|[1-9][0-9]*)(\[((([^\];,]|\^[\];,])*)(,(([^\];,]|\^[\];,])*))?)(;([^]]|\^\])*)?\])?/),!t)throw new Error("E_CFI_NUMBER_EXPECTED");i+=t[0].length;const s=parseInt(t[1],10);let r=t[4];r&&(r=ce(r));let a=t[7];a&&(a=ce(a)),e=de(t[10]),o.push(new ge(s,r,a,k(e.s)));break}case"!":i++,o.push(new pe);break;case"~":case"@":case"":return void(this.steps=o);default:throw new Error("E_CFI_PARSE_ERROR")}}}navigate(e){const t={node:e.documentElement,offset:0,after:!1,sideBias:null,ref:null};for(let e=0;e<this.steps.length;e++)if(!this.steps[e].applyTo(t)){t.ref=new me,t.ref.steps=this.steps.slice(e+1);break}return t}trim(e,t){return e.replace(/\s+/g," ").match(t?/^[ -\uD7FF\uE000-\uFFFF]{0,8}/:/[ -\uD7FF\uE000-\uFFFF]{0,8}$/)[0].replace(/^\s/,"").replace(/\s$/,"")}prependPathFromNode(e,t,n,i){const o=[];let s=e.parentNode,r="",a="";for(;e;){switch(e.nodeType){case 3:case 4:case 5:{const i=e.textContent,o=i.length;n?(t+=o,r||(r=i)):(t>o&&(t=o),n=!0,r=i.substr(0,t),a=i.substr(t)),e=e.previousSibling;continue}case 8:e=e.previousSibling;continue}break}for((t>0||r||a)&&(r=this.trim(r,!1),a=this.trim(a,!0),o.push(new ge(t,r,a,i)),i=null);s&&s&&9!=s.nodeType;){const t=n?null:re(e);let r=n?1:0;for(;e;)1==e.nodeType&&(r+=2),e=e.previousSibling;o.push(new fe(r,t,i)),i=null,e=s,s=s.parentNode,n=!1}o.reverse(),this.steps?(o.push(new pe),this.steps=o.concat(this.steps)):this.steps=o}toString(){if(!this.steps)return"";const e=new H;e.append("epubcfi(");for(let t=0;t<this.steps.length;t++)this.steps[t].appendTo(e);return e.append(")"),e.toString()}}function be(e){return{fontFamily:e.fontFamily,lineHeight:e.lineHeight,margin:e.margin,hyphenate:e.hyphenate,columnWidth:e.columnWidth,horizontal:e.horizontal,nightMode:e.nightMode,spreadView:e.spreadView,pageBorder:e.pageBorder,enabledMediaTypes:Object.assign({},e.enabledMediaTypes),defaultPaperSize:e.defaultPaperSize?Object.assign({},e.defaultPaperSize):void 0}}const we={fontFamily:"serif",lineHeight:1.25,margin:8,hyphenate:!1,columnWidth:25,horizontal:!1,nightMode:!1,spreadView:!1,pageBorder:1,enabledMediaTypes:{vivliostyle:!0,print:!0},defaultPaperSize:void 0},Ee={PENDING:{}};function ye(e,t,n,i){const o=Math.min((e-0)/n,(t-0)/i);return`matrix(${o},0,0,${o},0,0)`}function Se(e){return`"${W(`${e}`)}"`}function Ne(e){return $(`${e}`)}function ve(e,t){return e?`${$(e)}.${$(t)}`:$(t)}let Ce=0;class Te{constructor(e,t){if(this.parent=e,this.resolver=t,this.children=[],this.values={},this.funcs={},this.builtIns={},this.scopeKey=`S${Ce++}`,this.zero=new rt(this,0),this.one=new rt(this,1),this._true=new rt(this,!0),this._false=new rt(this,!1),e&&e.children.push(this),!e){const e=this.builtIns;e.floor=Math.floor,e.ceil=Math.ceil,e.round=Math.round,e.sqrt=Math.sqrt,e.min=Math.min,e.max=Math.max,e.letterbox=ye,e["css-string"]=Se,e["css-name"]=Ne,e.typeof=e=>typeof e,this.defineBuiltInName("page-width",(function(){return this.pageWidth()})),this.defineBuiltInName("page-height",(function(){return this.pageHeight()})),this.defineBuiltInName("pref-font-family",(function(){return this.pref.fontFamily})),this.defineBuiltInName("pref-night-mode",(function(){return this.pref.nightMode})),this.defineBuiltInName("pref-hyphenate",(function(){return this.pref.hyphenate})),this.defineBuiltInName("pref-margin",(function(){return this.pref.margin})),this.defineBuiltInName("pref-line-height",(function(){return this.pref.lineHeight})),this.defineBuiltInName("pref-column-width",(function(){return this.pref.columnWidth*this.fontSize})),this.defineBuiltInName("pref-horizontal",(function(){return this.pref.horizontal})),this.defineBuiltInName("pref-spread-view",(function(){return this.pref.spreadView})),this.defineBuiltInName("pub-title",(function(){return Se(this.pubTitle?this.pubTitle:"")})),this.defineBuiltInName("doc-title",(function(){return Se(this.docTitle?this.docTitle:"")}))}}defineBuiltInName(e,t){this.values[e]=new it(this,t,e)}defineName(e,t){this.values[e]=t}defineFunc(e,t){this.funcs[e]=t}defineBuiltIn(e,t){this.builtIns[e]=t}}function xe(e){switch(e.toLowerCase()){case"vw":case"vh":case"vi":case"vb":case"vmin":case"vmax":case"pvw":case"pvh":case"pvi":case"pvb":case"pvmin":case"pvmax":return!0;default:return!1}}const Ie={px:1,in:96,pt:4/3,pc:16,cm:96/2.54,mm:96/25.4,q:96/2.54/40,em:16,rem:16,ex:8,dppx:1,dpi:1/96,dpcm:2.54/96};function Pe(e){switch(e){case"q":case"rem":return!0;default:return!1}}class Ae{constructor(e,t,n,i){this.rootScope=e,this.viewportWidth=t,this.viewportHeight=n,this.actualPageWidth=null,this.actualPageHeight=null,this.rootFontSize=null,this.scopes={},this.pageAreaWidth=null,this.pageAreaHeight=null,this.pageVertical=null,this.pubTitle=null,this.docTitle=null,this.pageWidth=function(){return this.actualPageWidth?this.actualPageWidth:this.pref.spreadView?Math.floor(t/2)-this.pref.pageBorder:t},this.pageHeight=function(){return this.actualPageHeight?this.actualPageHeight:n},this.initialFontSize=i,this.fontSize=function(){return this.rootFontSize?this.rootFontSize:i},this.pref=we}getScopeContext(e){let t=this.scopes[e.scopeKey];return t||(t={},this.scopes[e.scopeKey]=t),t}clearScope(e){this.scopes[e.scopeKey]={};for(let t=0;t<e.children.length;t++)this.clearScope(e.children[t])}queryUnitSize(e,t){if(xe(e)){const t=this.pageWidth()/100,n=this.pageHeight()/100,i=null!=this.pageAreaWidth?this.pageAreaWidth/100:t,o=null!=this.pageAreaHeight?this.pageAreaHeight/100:n;switch(e){case"vw":return i;case"vh":return o;case"vi":return this.pageVertical?o:i;case"vb":return this.pageVertical?i:o;case"vmin":return i<o?i:o;case"vmax":return i>o?i:o;case"pvw":return t;case"pvh":return n;case"pvi":return this.pageVertical?n:t;case"pvb":return this.pageVertical?t:n;case"pvmin":return t<n?t:n;case"pvmax":return t>n?t:n}}return"em"==e||"rem"==e?t?this.initialFontSize:this.fontSize():"ex"==e?Ie.ex*(t?this.initialFontSize:this.fontSize())/Ie.em:Ie[e]}evalName(e,t){do{let n=e.values[t];if(n)return n;if(e.resolver&&(n=e.resolver.call(this,t,!1),n))return n;e=e.parent}while(e);throw new Error(`Name '${t}' is undefined`)}evalCall(e,t,n,i){do{let o=e.funcs[t];if(o)return o;if(e.resolver&&(o=e.resolver.call(this,t,!0),o))return o;const s=e.builtIns[t];if(s){if(i)return e.zero;const t=Array(n.length);for(let e=0;e<n.length;e++)t[e]=n[e].evaluate(this);return new rt(e,s.apply(this,t))}e=e.parent}while(e);throw new Error(`Function '${t}' is undefined`)}evalMediaName(e,t){const n="all"===e||!!this.pref.enabledMediaTypes[e];return t?!n:n}evalMediaTest(e,t){let n="";const i=e.match(/^(min|max)-(.*)$/);i&&(n=i[1],e=i[2]);let o=null,s=null;switch(e){case"width":case"height":case"device-width":case"device-height":case"color":t&&(o=t.evaluate(this))}switch(e){case"width":s=this.pageWidth();break;case"height":s=this.pageHeight();break;case"device-width":s=window.screen.availWidth;break;case"device-height":s=window.screen.availHeight;break;case"color":s=window.screen.pixelDepth}if(null!=s&&null!=o)switch(n){case"min":return s>=o;case"max":return s<=o;default:return s==o}else if(null!=s&&null==t)return 0!==s;return!1}queryVal(e,t){const n=this.scopes[e.scopeKey];return n?n[t]:void 0}storeVal(e,t,n){this.getScopeContext(e)[t]=n}}class Oe{constructor(e){this.scope=e,this.scope=e,this.key=`_${Ce++}`}toString(){const e=new H;return this.appendTo(e,0),e.toString()}appendTo(e,t){throw new Error("F_ABSTRACT")}evaluateCore(e){throw new Error("F_ABSTRACT")}expand(e,t){return this}dependCore(e,t,n){return e===this}dependOuter(e,t,n){const i=n[this.key];if(null!=i)return i!==Ee.PENDING&&i;{n[this.key]=Ee.PENDING;const i=this.dependCore(e,t,n);return n[this.key]=i,i}}depend(e,t){return this.dependOuter(e,t,{})}evaluate(e){let t=e.queryVal(this.scope,this.key);return void 0!==t?t:(t=this.evaluateCore(e),e.storeVal(this.scope,this.key,t),t)}isMediaName(){return!1}}class Re extends Oe{constructor(e,t){super(e),this.val=t}getOp(){throw new Error("F_ABSTRACT")}evalPrefix(e){throw new Error("F_ABSTRACT")}evaluateCore(e){const t=this.val.evaluate(e);return this.evalPrefix(t)}dependCore(e,t,n){return e===this||this.val.dependOuter(e,t,n)}appendTo(e,t){10<t&&e.append("("),e.append(this.getOp()),this.val.appendTo(e,10),10<t&&e.append(")")}expand(e,t){const n=this.val.expand(e,t);return n===this.val?this:new this.constructor(this.scope,n)}}class Le extends Oe{constructor(e,t,n){super(e),this.lhs=t,this.rhs=n}getPriority(){throw new Error("F_ABSTRACT")}getOp(){throw new Error("F_ABSTRACT")}evalInfix(e,t){throw new Error("F_ABSTRACT")}evaluateCore(e){const t=this.lhs.evaluate(e),n=this.rhs.evaluate(e);return this.evalInfix(t,n)}dependCore(e,t,n){return e===this||this.lhs.dependOuter(e,t,n)||this.rhs.dependOuter(e,t,n)}appendTo(e,t){const n=this.getPriority();n<=t&&e.append("("),this.lhs.appendTo(e,n),e.append(this.getOp()),this.rhs.appendTo(e,n),n<=t&&e.append(")")}expand(e,t){const n=this.lhs.expand(e,t),i=this.rhs.expand(e,t);return n===this.lhs&&i===this.rhs?this:new this.constructor(this.scope,n,i)}}class ke extends Le{constructor(e,t,n){super(e,t,n)}getPriority(){return 1}}class Fe extends Le{constructor(e,t,n){super(e,t,n)}getPriority(){return 2}}class De extends Le{constructor(e,t,n){super(e,t,n)}getPriority(){return 3}}class _e extends Le{constructor(e,t,n){super(e,t,n)}getPriority(){return 4}}class Be extends Re{constructor(e,t){super(e,t)}getOp(){return"!"}evalPrefix(e){return!e}}class Me extends Re{constructor(e,t){super(e,t)}getOp(){return"-"}evalPrefix(e){return-e}}class Ue extends ke{constructor(e,t,n){super(e,t,n)}getOp(){return"&&"}evaluateCore(e){return this.lhs.evaluate(e)&&this.rhs.evaluate(e)}}class ze extends Ue{constructor(e,t,n){super(e,t,n)}getOp(){return" and "}}class Ve extends ke{constructor(e,t,n){super(e,t,n)}getOp(){return"||"}evaluateCore(e){return this.lhs.evaluate(e)||this.rhs.evaluate(e)}}class He extends Ve{constructor(e,t,n){super(e,t,n)}getOp(){return", "}}class Ge extends Fe{constructor(e,t,n){super(e,t,n)}getOp(){return"<"}evalInfix(e,t){return e<t}}class $e extends Fe{constructor(e,t,n){super(e,t,n)}getOp(){return"<="}evalInfix(e,t){return e<=t}}class We extends Fe{constructor(e,t,n){super(e,t,n)}getOp(){return">"}evalInfix(e,t){return e>t}}class Xe extends Fe{constructor(e,t,n){super(e,t,n)}getOp(){return">="}evalInfix(e,t){return e>=t}}class je extends Fe{constructor(e,t,n){super(e,t,n)}getOp(){return"=="}evalInfix(e,t){return e==t}}class Ke extends Fe{constructor(e,t,n){super(e,t,n)}getOp(){return"!="}evalInfix(e,t){return e!=t}}class Ye extends De{constructor(e,t,n){super(e,t,n)}getOp(){return"+"}evalInfix(e,t){return e+t}}class qe extends De{constructor(e,t,n){super(e,t,n)}getOp(){return" - "}evalInfix(e,t){return e-t}}class Ze extends _e{constructor(e,t,n){super(e,t,n)}getOp(){return"*"}evalInfix(e,t){return e*t}}class Qe extends _e{constructor(e,t,n){super(e,t,n)}getOp(){return"/"}evalInfix(e,t){return e/t}}class Je extends _e{constructor(e,t,n){super(e,t,n)}getOp(){return"%"}evalInfix(e,t){return e%t}}class et extends Oe{constructor(e,t,n){super(e),this.num=t,this.unit=n.toLowerCase()}appendTo(e,t){e.append(this.num.toString()),e.append($(this.unit))}evaluateCore(e){return this.num*e.queryUnitSize(this.unit,!1)}}class tt extends Oe{constructor(e,t){super(e),this.qualifiedName=t}appendTo(e,t){e.append(this.qualifiedName)}evaluateCore(e){return e.evalName(this.scope,this.qualifiedName).evaluate(e)}dependCore(e,t,n){return e===this||t.evalName(this.scope,this.qualifiedName).dependOuter(e,t,n)}}class nt extends Oe{constructor(e,t,n){super(e),this.not=t,this.name=n}appendTo(e,t){this.not&&e.append("not "),e.append($(this.name))}evaluateCore(e){return e.evalMediaName(this.name,this.not)}dependCore(e,t,n){return e===this||this.value.dependOuter(e,t,n)}isMediaName(){return!0}}class it extends Oe{constructor(e,t,n){super(e),this.fn=t,this.str=n}appendTo(e,t){e.append(this.str)}evaluateCore(e){return this.fn.call(e)}}class ot extends Oe{constructor(e,t,n){super(e),this.qualifiedName=t,this.params=n}appendTo(e,t){e.append(this.qualifiedName),function(e,t){e.append("(");for(let n=0;n<t.length;n++)n&&e.append(","),t[n].appendTo(e,0);e.append(")")}(e,this.params)}evaluateCore(e){return e.evalCall(this.scope,this.qualifiedName,this.params,!1).expand(e,this.params).evaluate(e)}dependCore(e,t,n){if(e===this)return!0;for(let i=0;i<this.params.length;i++)if(this.params[i].dependOuter(e,t,n))return!0;return t.evalCall(this.scope,this.qualifiedName,this.params,!0).dependOuter(e,t,n)}expand(e,t){const n=function(e,t,n){let i=t;for(let o=0;o<t.length;o++){const s=t[o].expand(e,n);if(t!==i)i[o]=s;else if(s!==t[o]){i=Array(t.length);for(let e=0;e<o;e++)i[e]=t[e];i[o]=s}}return i}(e,this.params,t);return n===this.params?this:new ot(this.scope,this.qualifiedName,n)}}class st extends Oe{constructor(e,t,n,i){super(e),this.cond=t,this.ifTrue=n,this.ifFalse=i}appendTo(e,t){t>0&&e.append("("),this.cond.appendTo(e,0),e.append("?"),this.ifTrue.appendTo(e,0),e.append(":"),this.ifFalse.appendTo(e,0),t>0&&e.append(")")}evaluateCore(e){return this.cond.evaluate(e)?this.ifTrue.evaluate(e):this.ifFalse.evaluate(e)}dependCore(e,t,n){return e===this||this.cond.dependOuter(e,t,n)||this.ifTrue.dependOuter(e,t,n)||this.ifFalse.dependOuter(e,t,n)}expand(e,t){const n=this.cond.expand(e,t),i=this.ifTrue.expand(e,t),o=this.ifFalse.expand(e,t);return n===this.cond&&i===this.ifTrue&&o===this.ifFalse?this:new st(this.scope,n,i,o)}}class rt extends Oe{constructor(e,t){super(e),this.val=t}appendTo(e,t){switch(typeof this.val){case"number":case"boolean":e.append(this.val.toString());break;case"string":e.append('"'),e.append(W(this.val)),e.append('"');break;default:throw new Error("F_UNEXPECTED_STATE")}}evaluateCore(e){return this.val}}class at extends Oe{constructor(e,t,n){super(e),this.name=t,this.value=n}appendTo(e,t){e.append("("),e.append(W(this.name.name)),e.append(":"),this.value.appendTo(e,0),e.append(")")}evaluateCore(e){return e.evalMediaTest(this.name.name,this.value)}dependCore(e,t,n){return e===this||this.value.dependOuter(e,t,n)}expand(e,t){const n=this.value.expand(e,t);return n===this.value?this:new at(this.scope,this.name,n)}}class lt extends Oe{constructor(e,t){super(e),this.index=t}appendTo(e,t){e.append("$"),e.append(this.index.toString())}expand(e,t){const n=t[this.index];if(!n)throw new Error(`Parameter missing: ${this.index}`);return n}}function ht(e,t,n){return t===e._false||t===e.zero||n==e._false||n==e.zero?e._false:t===e._true||t===e.one?n:n===e._true||n===e.one?t:new Ue(e,t,n)}function ct(e,t,n){return t===e.zero?n:n===e.zero?t:new Ye(e,t,n)}function ut(e,t,n){return t===e.zero?new Me(e,n):n===e.zero?t:new qe(e,t,n)}function dt(e,t,n){return t===e.zero||n===e.zero?e.zero:t===e.one?n:n===e.one?t:new Ze(e,t,n)}function pt(e,t,n){return t===e.zero?e.zero:n===e.one?t:new Qe(e,t,n)}class ft{visitValues(e){for(let t=0;t<e.length;t++)e[t].visit(this)}visitEmpty(e){throw new Error("E_CSS_EMPTY_NOT_ALLOWED")}visitSlash(e){throw new Error("E_CSS_SLASH_NOT_ALLOWED")}visitStr(e){throw new Error("E_CSS_STR_NOT_ALLOWED")}visitIdent(e){throw new Error("E_CSS_IDENT_NOT_ALLOWED")}visitNumeric(e){throw new Error("E_CSS_NUMERIC_NOT_ALLOWED")}visitNum(e){throw new Error("E_CSS_NUM_NOT_ALLOWED")}visitInt(e){return this.visitNum(e)}visitColor(e){throw new Error("E_CSS_COLOR_NOT_ALLOWED")}visitURL(e){throw new Error("E_CSS_URL_NOT_ALLOWED")}visitSpaceList(e){throw new Error("E_CSS_LIST_NOT_ALLOWED")}visitCommaList(e){throw new Error("E_CSS_COMMA_NOT_ALLOWED")}visitFunc(e){throw new Error("E_CSS_FUNC_NOT_ALLOWED")}visitExpr(e){throw new Error("E_CSS_EXPR_NOT_ALLOWED")}}class gt extends ft{constructor(){super()}visitValues(e){let t=null;for(let n=0;n<e.length;n++){const i=e[n],o=i.visit(this);if(t)t[n]=o;else if(i!==o){t=new Array(e.length);for(let i=0;i<n;i++)t[i]=e[i];t[n]=o}}return t||e}visitStr(e){return e}visitIdent(e){return e}visitSlash(e){return e}visitNumeric(e){return e}visitNum(e){return e}visitInt(e){return e}visitColor(e){return e}visitURL(e){return e}visitSpaceList(e){const t=this.visitValues(e.values);return t===e.values?e:new Rt(t)}visitCommaList(e){const t=this.visitValues(e.values);return t===e.values?e:new Lt(t)}visitFunc(e){const t=this.visitValues(e.values);return t===e.values?e:new kt(e.name,t)}visitExpr(e){return e}}class mt{toString(){const e=new H;return this.appendTo(e,!0),e.toString()}stringValue(){const e=new H;return this.appendTo(e,!1),e.toString()}toExpr(e,t){throw new Error("F_ABSTRACT")}appendTo(e,t){e.append("[error]")}isExpr(){return!1}isNumeric(){return!1}isNum(){return!1}isIdent(){return!1}isSpaceList(){return!1}visit(e){throw new Error("F_ABSTRACT")}}class bt extends mt{constructor(){super()}static get instance(){return this.empty||(this.empty=new bt),this.empty}toExpr(e,t){return new rt(e,"")}appendTo(e,t){}visit(e){return e.visitEmpty(this)}}const wt=bt.instance;class Et extends mt{constructor(){super()}static get instance(){return this.slash||(this.slash=new Et),this.slash}toExpr(e,t){return new rt(e,"/")}appendTo(e,t){e.append("/")}visit(e){return e.visitSlash(this)}}const yt=Et.instance;class St extends mt{constructor(e){super(),this.str=e}toExpr(e,t){return new rt(e,this.str)}appendTo(e,t){t?(e.append('"'),e.append(W(this.str)),e.append('"')):e.append(this.str)}visit(e){return e.visitStr(this)}}const Nt={};class vt extends mt{constructor(e){if(super(),this.name=e,Nt[e])throw new Error("E_INVALID_CALL");Nt[e]=this}toExpr(e,t){return new rt(e,this.name)}appendTo(e,t){t?e.append($(this.name)):e.append(this.name)}visit(e){return e.visitIdent(this)}isIdent(){return!0}}function Ct(e){let t=Nt[e];return t||(t=new vt(e)),t}class Tt extends mt{constructor(e,t){super(),this.num=e,this.unit=t.toLowerCase()}toExpr(e,t){return 0==this.num?e.zero:t&&"%"==this.unit?100==this.num?t:new Ze(e,t,new rt(e,this.num/100)):new et(e,this.num,this.unit)}appendTo(e,t){e.append(this.num.toString()),e.append(this.unit)}visit(e){return e.visitNumeric(this)}isNumeric(){return!0}}class xt extends mt{constructor(e){super(),this.num=e}toExpr(e,t){return 0==this.num?e.zero:1==this.num?e.one:new rt(e,this.num)}appendTo(e,t){e.append(this.num.toString())}visit(e){return e.visitNum(this)}isNum(){return!0}}class It extends xt{constructor(e){super(e)}visit(e){return e.visitInt(this)}}class Pt extends mt{constructor(e){super(),this.rgb=e}appendTo(e,t){e.append("#");const n=this.rgb.toString(16);e.append("000000".substr(n.length)),e.append(n)}visit(e){return e.visitColor(this)}}class At extends mt{constructor(e){super(),this.url=e}appendTo(e,t){e.append('url("'),e.append(W(this.url)),e.append('")')}visit(e){return e.visitURL(this)}}function Ot(e,t,n,i){const o=t.length;t[0].appendTo(e,i);for(let s=1;s<o;s++)e.append(n),t[s].appendTo(e,i)}class Rt extends mt{constructor(e){super(),this.values=e}appendTo(e,t){Ot(e,this.values," ",t)}visit(e){return e.visitSpaceList(this)}isSpaceList(){return!0}}class Lt extends mt{constructor(e){super(),this.values=e}appendTo(e,t){Ot(e,this.values,",",t)}visit(e){return e.visitCommaList(this)}}class kt extends mt{constructor(e,t){super(),this.name=e,this.values=t}appendTo(e,t){e.append($(this.name)),e.append("("),Ot(e,this.values,",",t),e.append(")")}visit(e){return e.visitFunc(this)}}class Ft extends mt{constructor(e){super(),this.expr=e}toExpr(){return this.expr}appendTo(e,t){e.append("-epubx-expr("),this.expr.appendTo(e,0),e.append(")")}visit(e){return e.visitExpr(this)}isExpr(){return!0}}function Dt(e,t){if(e){if(e.isNumeric()){const n=e;return t.queryUnitSize(n.unit,!1)*n.num}if(e.isNum())return e.num}return 0}function _t(e,t){return new Tt(Dt(e,t),"px")}const Bt={absolute:Ct("absolute"),all:Ct("all"),always:Ct("always"),auto:Ct("auto"),avoid:Ct("avoid"),balance:Ct("balance"),balance_all:Ct("balance-all"),block:Ct("block"),block_end:Ct("block-end"),block_start:Ct("block-start"),both:Ct("both"),bottom:Ct("bottom"),border_box:Ct("border-box"),break_all:Ct("break-all"),break_word:Ct("break-word"),crop:Ct("crop"),cross:Ct("cross"),column:Ct("column"),exclusive:Ct("exclusive"),_false:Ct("false"),fixed:Ct("fixed"),flex:Ct("flex"),footnote:Ct("footnote"),footer:Ct("footer"),header:Ct("header"),hidden:Ct("hidden"),horizontal_tb:Ct("horizontal-tb"),inherit:Ct("inherit"),inline:Ct("inline"),inline_block:Ct("inline-block"),inline_end:Ct("inline-end"),inline_start:Ct("inline-start"),landscape:Ct("landscape"),left:Ct("left"),line:Ct("line"),list_item:Ct("list-item"),ltr:Ct("ltr"),manual:Ct("manual"),none:Ct("none"),normal:Ct("normal"),oeb_page_foot:Ct("oeb-page-foot"),oeb_page_head:Ct("oeb-page-head"),page:Ct("page"),relative:Ct("relative"),right:Ct("right"),same:Ct("same"),scale:Ct("scale"),snap_block:Ct("snap-block"),spread:Ct("spread"),_static:Ct("static"),rtl:Ct("rtl"),table:Ct("table"),table_caption:Ct("table-caption"),table_cell:Ct("table-cell"),table_footer_group:Ct("table-footer-group"),table_header_group:Ct("table-header-group"),table_row:Ct("table-row"),top:Ct("top"),transparent:Ct("transparent"),vertical_lr:Ct("vertical-lr"),vertical_rl:Ct("vertical-rl"),visible:Ct("visible"),_true:Ct("true")},Mt=new Tt(100,"%"),Ut=new Tt(100,"pvw"),zt=new Tt(100,"pvh"),Vt=new Tt(0,"px"),Ht={"font-size":1,color:2};function Gt(e,t){return(Ht[e]||Number.MAX_VALUE)-(Ht[t]||Number.MAX_VALUE)}class $t{constructor(e,t,n,i){this.x1=e,this.y1=t,this.x2=n,this.y2=i}}class Wt{constructor(e,t){this.x=e,this.y=t}}class Xt{constructor(e,t,n,i){this.left=e,this.top=t,this.right=n,this.bottom=i}}class jt{constructor(e,t,n,i){this.low=e,this.high=t,this.winding=n,this.shapeId=i}}class Kt{constructor(e,t,n,i){this.y1=e,this.y2=t,this.x1=n,this.x2=i,this.left=null,this.right=null}}function Yt(e,t){return e.low.y-t.low.y||e.low.x-t.low.x}class qt{constructor(e){this.points=e}addSegments(e,t){const n=this.points,i=n.length;let o=n[i-1];for(let s=0;s<i;s++){const i=n[s];let r;r=o.y<i.y?new jt(o,i,1,t):new jt(i,o,-1,t),e.push(r),o=i}}withOffset(e,t){const n=[];for(const i of this.points)n.push(new Wt(i.x+e,i.y+t));return new qt(n)}}function Zt(e,t,n,i){const o=[];for(let s=0;s<20;s++){const r=2*s*Math.PI/20;o.push(new Wt(e+n*Math.sin(r),t+i*Math.cos(r)))}return new qt(o)}function Qt(e,t,n,i){return new qt([new Wt(e,t),new Wt(n,t),new Wt(n,i),new Wt(e,i)])}class Jt{constructor(e,t,n,i){this.x=e,this.winding=t,this.shapeId=n,this.lowOrHigh=i}}function en(e,t){const n=e.low.x+(e.high.x-e.low.x)*(t-e.low.y)/(e.high.y-e.low.y);if(isNaN(n))throw new Error("Bad intersection");return n}function tn(e,t,n,i){let o,s,r,a;t.high.y<n&&h.warn("Error: inconsistent segment (1)"),t.low.y<=n?(o=en(t,n),s=t.winding):(o=t.low.x,s=0),t.high.y>=i?(r=en(t,i),a=t.winding):(r=t.high.x,a=0),o<r?(e.push(new Jt(o,s,t.shapeId,-1)),e.push(new Jt(r,a,t.shapeId,1))):(e.push(new Jt(r,a,t.shapeId,-1)),e.push(new Jt(o,s,t.shapeId,1)))}function nn(e,t,n){const i=t+n,o=Array(i),s=Array(i);let r;for(r=0;r<=i;r++)o[r]=0,s[r]=0;const a=[];let l=!1;const h=e.length;for(let n=0;n<h;n++){const h=e[n];o[h.shapeId]+=h.winding,s[h.shapeId]+=h.lowOrHigh;let c=!1;for(r=0;r<t;r++)if(o[r]&&!s[r]){c=!0;break}if(c)for(r=t;r<=i;r++)if(o[r]||s[r]){c=!1;break}l!=c&&(a.push(h.x),l=c)}return a}function on(e,t){return t?Math.ceil(e/t)*t:e}function sn(e,t){return t?Math.floor(e/t)*t:e}function rn(e){return new $t(e.y1,-e.x2,e.y2,-e.x1)}function an(e){return new $t(-e.y2,e.x1,-e.y1,e.x2)}function ln(e){return new qt(e.points.map(e=>(function(e){return new Wt(e.y,-e.x)})(e)))}function hn(e,t){let n=t.length-1,i=new Kt(e.y2,e.y2,e.x1,e.x2);for(;n>=0;){const e=i;i=t[n],(i.y2-i.y1<1||i.x1==e.x1&&i.x2==e.x2)&&(e.y1=i.y1,t.splice(n,1),i=e),n--}}function cn(e,t){let n=0,i=e.length;for(;n<i;){const o=Math.floor((n+i)/2);t>=e[o].y2?n=o+1:i=o}return n}function un(e,t){if(!e.length)return t;let n,i,o=t.y1;for(i=0;i<e.length&&(n=e[i],!(n.y2>t.y1&&n.x1-.1<=t.x1&&n.x2+.1>=t.x2));i++)o=Math.max(o,n.y2);let s=o;for(;i<e.length&&(n=e[i],!(n.y1>=t.y2||n.x1-.1>t.x1||n.x2+.1<t.x2));i++)s=n.y2;return s=i===e.length?t.y2:Math.min(s,t.y2),s<=o?null:new $t(t.x1,o,t.x2,s)}function dn(e,t){if(!e.length)return t;let n,i,o=t.y2;for(i=e.length-1;i>=0&&(n=e[i],!(i===e.length-1&&n.y2<t.y2))&&!(n.y1<t.y2&&n.x1-.1<=t.x1&&n.x2+.1>=t.x2);i--)o=Math.min(o,n.y1);let s=Math.min(o,n.y2);for(;i>=0&&(n=e[i],!(n.y2<=t.y1||n.x1-.1>t.x1||n.x2+.1<t.x2));i--)s=n.y1;return s=Math.max(s,t.y1),o<=s?null:new $t(t.x1,s,t.x2,o)}class pn extends ft{constructor(){super(),this.propSet={}}visitIdent(e){return this.propSet[e.name]=!0,e}visitSpaceList(e){return this.visitValues(e.values),e}}class fn extends ft{constructor(e){super(),this.value=e}visitInt(e){return this.value=e.num,e}}function gn(e,t){if(e){const n=new fn(t);try{return e.visit(n),n.value}catch(e){h.warn(e,"toInt: ")}}return t}class mn extends ft{constructor(){super(),this.collect=!1,this.coords=[],this.name=null}visitNumeric(e){return this.collect&&this.coords.push(e),null}visitNum(e){return this.collect&&0==e.num&&this.coords.push(new Tt(0,"px")),null}visitSpaceList(e){return this.visitValues(e.values),null}visitFunc(e){return this.collect||(this.collect=!0,this.visitValues(e.values),this.collect=!1,this.name=e.name.toLowerCase()),null}getShape(e,t,n,i,o){if(this.coords.length>0){const s=[];switch(this.coords.forEach((e,t)=>{if("%"==e.unit){let o=t%2==0?n:i;3==t&&"circle"==this.name&&(o=Math.sqrt((n*n+i*i)/2)),s.push(e.num*o/100)}else s.push(e.num*o.queryUnitSize(e.unit,!1))}),this.name){case"polygon":if(s.length%2==0){const n=[];for(let i=0;i<s.length;i+=2)n.push(new Wt(e+s[i],t+s[i+1]));return new qt(n)}break;case"rectangle":if(4==s.length)return Qt(e+s[0],t+s[1],e+s[0]+s[2],t+s[1]+s[3]);break;case"ellipse":if(4==s.length)return Zt(e+s[0],t+s[1],s[2],s[3]);break;case"circle":if(3==s.length)return Zt(e+s[0],t+s[1],s[2],s[2])}}return null}}function bn(e,t,n,i,o,s){if(e){const r=new mn;try{return e.visit(r),r.getShape(t,n,i,o,s)}catch(e){h.warn(e,"toShape:")}}return Qt(t,n,t+i,n+o)}class wn extends ft{constructor(e){super(),this.reset=e,this.counters={},this.name=null}visitIdent(e){return this.name=e.toString(),this.reset?this.counters[this.name]=0:this.counters[this.name]=(this.counters[this.name]||0)+1,e}visitInt(e){return this.name&&(this.counters[this.name]+=e.num-(this.reset?0:1)),e}visitSpaceList(e){return this.visitValues(e.values),e}}function En(e,t){const n=new wn(t);try{e.visit(n)}catch(e){h.warn(e,"toCounters:")}return n.counters}class yn extends gt{constructor(e,t){super(),this.baseUrl=e,this.transformer=t}visitURL(e){return new At(this.transformer.transformURL(e.url,this.baseUrl))}}function Sn(e){const t={};return Object.keys(e).forEach(n=>{t[n]=Array.from(e[n])}),t}class Nn{constructor(e,t){this.targetId=e,this.resolved=t,this.pageCounters=null,this.spineIndex=-1,this.pageIndex=-1}equals(e){return this===e||!!e&&this.targetId===e.targetId&&this.resolved===e.resolved&&this.spineIndex===e.spineIndex&&this.pageIndex===e.pageIndex}isResolved(){return this.resolved}resolve(){this.resolved=!0}unresolve(){this.resolved=!1}}class vn{constructor(e,t){this.counterStore=e,this.baseURL=t}countersOfId(e,t){e=this.counterStore.documentURLTransformer.transformFragment(e,this.baseURL),this.counterStore.countersById[e]=t}getExprContentListener(){return this.counterStore.getExprContentListener()}}class Cn{constructor(e,t,n,i){this.counterStore=e,this.baseURL=t,this.rootScope=n,this.pageScope=i,this.styler=null}setStyler(e){this.styler=e}getFragment(e){const t=e.match(/^[^#]*#(.*)$/);return t?t[1]:null}getTransformedId(e){let t=this.counterStore.documentURLTransformer.transformURL(O(e,this.baseURL),this.baseURL);return"#"===t.charAt(0)&&(t=t.substring(1)),t}getPageCounterVal(e,t){const n=this,i=new it(this.pageScope,()=>t(function(){const t=n.counterStore.currentPageCounters[e];return t&&t.length?t[t.length-1]:null}()),`page-counter-${e}`);return this.counterStore.registerPageCounterExpr(e,(function(e){return t(e[0])}),i),i}getPageCountersVal(e,t){const n=this,i=new it(this.pageScope,()=>t(n.counterStore.currentPageCounters[e]||[]),`page-counters-${e}`);return this.counterStore.registerPageCounterExpr(e,t,i),i}getTargetCounters(e,t,n){let i=this.counterStore.countersById[t];return!i&&n&&e&&(this.styler.styleUntilIdIsReached(e),i=this.counterStore.countersById[t]),i||null}getTargetPageCounters(e){return this.counterStore.currentPage.elementsById[e]?this.counterStore.currentPageCounters:this.counterStore.pageCountersById[e]||null}getTargetCounterVal(e,t,n){const i=this.getFragment(e),o=this.getTransformedId(e);let s=this.getTargetCounters(i,o,!1);if(s&&s[t]){const e=s[t];return new rt(this.rootScope,n(e[e.length-1]||null))}const r=this;return new it(this.pageScope,()=>{if(s=r.getTargetCounters(i,o,!0),s){if(s[t]){const e=s[t];return n(e[e.length-1]||null)}{const e=r.getTargetPageCounters(o);if(e){if(r.counterStore.resolveReference(o),e[t]){const i=e[t];return n(i[i.length-1]||null)}return n(0)}return r.counterStore.saveReferenceOfCurrentPage(o,!1),"??"}}return r.counterStore.saveReferenceOfCurrentPage(o,!1),"??"},`target-counter-${t}-of-${e}`)}getTargetCountersVal(e,t,n){const i=this.getFragment(e),o=this.getTransformedId(e),s=this;return new it(this.pageScope,()=>{const e=s.getTargetPageCounters(o);if(e){s.counterStore.resolveReference(o);const r=e[t]||[],a=s.getTargetCounters(i,o,!0)[t]||[];return n(r.concat(a))}return s.counterStore.saveReferenceOfCurrentPage(o,!1),"??"},`target-counters-${t}-of-${e}`)}}class Tn{constructor(e){this.documentURLTransformer=e,this.countersById={},this.pageCountersById={},this.currentPageCounters={},this.previousPageCounters={},this.currentPageCountersStack=[],this.pageIndicesById={},this.currentPage=null,this.newReferencesOfCurrentPage=[],this.referencesToSolve=[],this.referencesToSolveStack=[],this.unresolvedReferences={},this.resolvedReferences={},this.pagesCounterExprs=[],this.currentPageCounters.page=[0]}createCounterListener(e){return new vn(this,e)}createCounterResolver(e,t,n){return new Cn(this,e,t,n)}setCurrentPage(e){this.currentPage=e}definePageCounter(e,t){this.currentPageCounters[e]?this.currentPageCounters[e].push(t):this.currentPageCounters[e]=[t]}forceSetPageCounter(e){const t=this.currentPageCounters.page;t&&t.length?t[t.length-1]=e:this.currentPageCounters.page=[e]}updatePageCounters(e,t){let n;this.previousPageCounters=Sn(this.currentPageCounters);const i=e["counter-reset"];if(i){const e=i.evaluate(t);e&&(n=En(e,!0))}if(n)for(const e in n)this.definePageCounter(e,n[e]);let o;const s=e["counter-increment"];if(s){const e=s.evaluate(t);e&&(o=En(e,!1))}o?"page"in o||(o.page=1):(o={},o.page=1);for(const e in o){this.currentPageCounters[e]||this.definePageCounter(e,0);const t=this.currentPageCounters[e];t[t.length-1]+=o[e]}}pushPageCounters(e){this.currentPageCountersStack.push(this.currentPageCounters),this.currentPageCounters=Sn(e)}popPageCounters(){this.currentPageCounters=this.currentPageCountersStack.pop()}resolveReference(e){const t=this.unresolvedReferences[e];let n=this.resolvedReferences[e];n||(n=this.resolvedReferences[e]=[]);let i=!1;for(let o=0;o<this.referencesToSolve.length;){const s=this.referencesToSolve[o];if(s.targetId===e){if(s.resolve(),this.referencesToSolve.splice(o,1),t){const e=t.indexOf(s);e>=0&&t.splice(e,1)}n.push(s),i=!0}else o++}i||this.saveReferenceOfCurrentPage(e,!0)}saveReferenceOfCurrentPage(e,t){if(!this.newReferencesOfCurrentPage.some(t=>t.targetId===e)){const n=new Nn(e,t);this.newReferencesOfCurrentPage.push(n)}}finishPage(e,t){const n=Object.keys(this.currentPage.elementsById);if(n.length>0){const i=Sn(this.currentPageCounters);n.forEach(n=>{this.pageCountersById[n]=i;const o=this.pageIndicesById[n];if(o&&o.pageIndex<t){const e=this.resolvedReferences[n];if(e){let t,i=this.unresolvedReferences[n];for(i||(i=this.unresolvedReferences[n]=[]);t=e.shift();)t.unresolve(),i.push(t)}}this.pageIndicesById[n]={spineIndex:e,pageIndex:t}})}const i=this.previousPageCounters;let o;for(;o=this.newReferencesOfCurrentPage.shift();){let n;o.pageCounters=i,o.spineIndex=e,o.pageIndex=t,o.isResolved()?(n=this.resolvedReferences[o.targetId],n||(n=this.resolvedReferences[o.targetId]=[])):(n=this.unresolvedReferences[o.targetId],n||(n=this.unresolvedReferences[o.targetId]=[])),n.every(e=>!o.equals(e))&&n.push(o)}this.currentPage=null}getUnresolvedRefsToPage(e){let t=[];Object.keys(e.elementsById).forEach(e=>{const n=this.unresolvedReferences[e];n&&(t=t.concat(n))}),t.sort((e,t)=>e.spineIndex-t.spineIndex||e.pageIndex-t.pageIndex);const n=[];let i=null;return t.forEach(e=>{i&&i.spineIndex===e.spineIndex&&i.pageIndex===e.pageIndex?i.refs.push(e):(i={spineIndex:e.spineIndex,pageIndex:e.pageIndex,pageCounters:e.pageCounters,refs:[e]},n.push(i))}),n}pushReferencesToSolve(e){this.referencesToSolveStack.push(this.referencesToSolve),this.referencesToSolve=e}popReferencesToSolve(){this.referencesToSolve=this.referencesToSolveStack.pop()}registerPageCounterExpr(e,t,n){"pages"===e&&this.pagesCounterExprs.push({expr:n,format:t})}getExprContentListener(){return this.exprContentListener.bind(this)}exprContentListener(e,t,n){if(this.pagesCounterExprs.findIndex(t=>t.expr===e)>=0){const i=n.createElement("span");return i.textContent=t,i.setAttribute(xn,e.key),i}return null}finishLastPage(e){const t=e.root.querySelectorAll(`[${xn}]`),n=this.currentPageCounters.page[0];Array.from(t).forEach(e=>{const t=e.getAttribute(xn),i=this.pagesCounterExprs.findIndex(e=>e.expr.key===t);e.textContent=this.pagesCounterExprs[i].format([n])})}createLayoutConstraint(e){return new In(this,e)}}const xn="data-vivliostyle-pages-counter";class In{constructor(e,t){this.counterStore=e,this.pageIndex=t}allowLayout(e){if(!e||e.after)return!0;const t=e.viewNode;if(!t||1!==t.nodeType)return!0;const n=t.getAttribute("id")||t.getAttribute("name");if(!n)return!0;if(!this.counterStore.resolvedReferences[n]&&!this.counterStore.unresolvedReferences[n])return!0;const i=this.counterStore.pageIndicesById[n];return!i||this.pageIndex>=i.pageIndex}}function Pn(e){if((e=e.substr(1)).match(/^[^0-9a-fA-F\n\r]$/))return e;const t=parseInt(e,16);return isNaN(t)?"":t<=65535?String.fromCharCode(t):t<=1114111?String.fromCharCode(55296|t>>10&1023,56320|1023&t):""}function An(e){return e.replace(/\\([0-9a-fA-F]{0,6}(\r\n|[ \n\r\t\f])?|[^0-9a-fA-F\n\r])/g,Pn)}var On,Rn;!function(e){e[e.EOF=0]="EOF",e[e.IDENT=1]="IDENT",e[e.STR=2]="STR",e[e.NUMERIC=3]="NUMERIC",e[e.NUM=4]="NUM",e[e.INT=5]="INT",e[e.FUNC=6]="FUNC",e[e.HASH=7]="HASH",e[e.URL=8]="URL",e[e.CLASS=9]="CLASS",e[e.O_PAR=10]="O_PAR",e[e.C_PAR=11]="C_PAR",e[e.O_BRC=12]="O_BRC",e[e.C_BRC=13]="C_BRC",e[e.O_BRK=14]="O_BRK",e[e.C_BRK=15]="C_BRK",e[e.COMMA=16]="COMMA",e[e.SEMICOL=17]="SEMICOL",e[e.COLON=18]="COLON",e[e.SLASH=19]="SLASH",e[e.AT=20]="AT",e[e.PERCENT=21]="PERCENT",e[e.QMARK=22]="QMARK",e[e.PLUS=23]="PLUS",e[e.MINUS=24]="MINUS",e[e.BAR_BAR=25]="BAR_BAR",e[e.AMP_AMP=26]="AMP_AMP",e[e.BANG=31]="BANG",e[e.DOLLAR=32]="DOLLAR",e[e.HAT=33]="HAT",e[e.BAR=34]="BAR",e[e.TILDE=35]="TILDE",e[e.STAR=36]="STAR",e[e.GT=37]="GT",e[e.LT=38]="LT",e[e.EQ=39]="EQ",e[e.BANG_EQ=41]="BANG_EQ",e[e.DOLLAR_EQ=42]="DOLLAR_EQ",e[e.HAT_EQ=43]="HAT_EQ",e[e.BAR_EQ=44]="BAR_EQ",e[e.TILDE_EQ=45]="TILDE_EQ",e[e.STAR_EQ=46]="STAR_EQ",e[e.GT_EQ=47]="GT_EQ",e[e.LT_EQ=48]="LT_EQ",e[e.EQ_EQ=49]="EQ_EQ",e[e.COL_COL=50]="COL_COL",e[e.INVALID=51]="INVALID",e[e.LAST=51]="LAST"}(On||(On={}));class Ln{constructor(){this.precededBySpace=!1,this.num=0,this.text="",this.position=0,this.type=On.EOF}}function kn(e,t){const n=Array(128);let i;for(i=0;i<128;i++)n[i]=e;for(n.NaN=e==Rn.END?Rn.END:Rn.INVALID,i=0;i<t.length;i+=2)n[t[i]]=t[i+1];return n}!function(e){e[e.SPACE=1]="SPACE",e[e.INT=2]="INT",e[e.IDENT=3]="IDENT",e[e.BANG=4]="BANG",e[e.HASH=6]="HASH",e[e.DOLLAR=7]="DOLLAR",e[e.PERCENT=8]="PERCENT",e[e.AMP=9]="AMP",e[e.O_PAR=10]="O_PAR",e[e.C_PAR=11]="C_PAR",e[e.STAR=12]="STAR",e[e.PLUS=13]="PLUS",e[e.COMMA=14]="COMMA",e[e.MINUS=15]="MINUS",e[e.DOT=16]="DOT",e[e.SLASH=17]="SLASH",e[e.COLON=18]="COLON",e[e.SEMICOL=19]="SEMICOL",e[e.LT=20]="LT",e[e.EQ=21]="EQ",e[e.GT=22]="GT",e[e.QMARK=23]="QMARK",e[e.AT=24]="AT",e[e.O_BRK=25]="O_BRK",e[e.C_BRK=26]="C_BRK",e[e.O_BRC=27]="O_BRC",e[e.C_BRC=28]="C_BRC",e[e.BSLASH=29]="BSLASH",e[e.HAT=30]="HAT",e[e.BAR=31]="BAR",e[e.TILDE=32]="TILDE",e[e.STR1=33]="STR1",e[e.STR2=34]="STR2",e[e.END=35]="END",e[e.EQTAIL=36]="EQTAIL",e[e.ENDINT=37]="ENDINT",e[e.ENDNUM=38]="ENDNUM",e[e.CONT=39]="CONT",e[e.UNIT=40]="UNIT",e[e.PCUNIT=41]="PCUNIT",e[e.NUMBER=42]="NUMBER",e[e.ENDIDNT=43]="ENDIDNT",e[e.IDNTESC=44]="IDNTESC",e[e.ENDIDES=45]="ENDIDES",e[e.ENDSTR=46]="ENDSTR",e[e.ENDESTR=47]="ENDESTR",e[e.STR1ESC=48]="STR1ESC",e[e.STR2ESC=49]="STR2ESC",e[e.BAR_BAR=50]="BAR_BAR",e[e.AMP_AMP=51]="AMP_AMP",e[e.FUNC=52]="FUNC",e[e.FUNCES=53]="FUNCES",e[e.COMMENT=54]="COMMENT",e[e.COMMST=55]="COMMST",e[e.ENDNOTK=56]="ENDNOTK",e[e.MINMIN=57]="MINMIN",e[e.TOINT=58]="TOINT",e[e.TONUM=59]="TONUM",e[e.TOIDENT=60]="TOIDENT",e[e.TOIDES=61]="TOIDES",e[e.KILL1=62]="KILL1",e[e.KILL2=63]="KILL2",e[e.URL=64]="URL",e[e.URL1=65]="URL1",e[e.URL2=66]="URL2",e[e.ENDURL=67]="ENDURL",e[e.TERMURL=68]="TERMURL",e[e.FINURL=69]="FINURL",e[e.LT_BG=70]="LT_BG",e[e.LT_BG_M=71]="LT_BG_M",e[e.INVALID=72]="INVALID",e[e.CHKPOSS=73]="CHKPOSS",e[e.CHKPOSN=74]="CHKPOSN",e[e.URLESC=75]="URLESC",e[e.IDESCH=76]="IDESCH",e[e.COL_COL=77]="COL_COL",e[e.TOCLASS=78]="TOCLASS",e[e.CHKSP=79]="CHKSP",e[e.EOF=80]="EOF"}(Rn||(Rn={}));const Fn=[Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.SPACE,Rn.SPACE,Rn.INVALID,Rn.SPACE,Rn.SPACE,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.SPACE,Rn.BANG,Rn.STR2,Rn.HASH,Rn.DOLLAR,Rn.PERCENT,Rn.AMP,Rn.STR1,Rn.O_PAR,Rn.C_PAR,Rn.STAR,Rn.PLUS,Rn.COMMA,Rn.MINUS,Rn.DOT,Rn.SLASH,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.COLON,Rn.SEMICOL,Rn.LT,Rn.EQ,Rn.GT,Rn.QMARK,Rn.AT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.O_BRK,Rn.BSLASH,Rn.C_BRK,Rn.HAT,Rn.IDENT,Rn.INVALID,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.O_BRC,Rn.BAR,Rn.C_BRC,Rn.TILDE,Rn.INVALID];Fn.NaN=Rn.EOF;const Dn=[Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.FUNC,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.CONT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDNT,Rn.IDNTESC,Rn.ENDIDNT,Rn.ENDIDNT,Rn.CONT,Rn.ENDIDNT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT];Dn.NaN=Rn.ENDIDNT;const _n=[Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.TOCLASS,Rn.TONUM,Rn.INVALID,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.INVALID,Rn.TOIDES,Rn.INVALID,Rn.INVALID,Rn.TOCLASS,Rn.INVALID,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID];Dn.NaN=Rn.ENDIDNT;const Bn=[Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.MINMIN,Rn.TONUM,Rn.END,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.END,Rn.TOIDES,Rn.END,Rn.END,Rn.TOIDENT,Rn.END,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END];Bn.NaN=Rn.END;const Mn=[Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.CHKPOSS,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.CHKPOSS,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.FUNCES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDES,Rn.IDNTESC,Rn.ENDIDES,Rn.ENDIDES,Rn.CONT,Rn.ENDIDES,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES];Mn.NaN=Rn.ENDIDES;const Un=[Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.PCUNIT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.NUMBER,Rn.ENDINT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.UNIT,Rn.ENDINT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT];Un.NaN=Rn.ENDINT;const zn=[Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.PCUNIT,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.UNIT,Rn.ENDNUM,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM];zn.NaN=Rn.ENDNUM;const Vn=kn(Rn.END,[61,Rn.EQTAIL]),Hn=kn(Rn.END,[58,Rn.COL_COL]),Gn=kn(Rn.END,[61,Rn.EQTAIL,124,Rn.BAR_BAR]),$n=kn(Rn.END,[38,Rn.AMP_AMP]),Wn=kn(Rn.END,[42,Rn.COMMENT]),Xn=kn(Rn.CONT,[42,Rn.COMMST]),jn=kn(Rn.COMMENT,[42,Rn.COMMST,47,Rn.ENDNOTK]),Kn=kn(Rn.KILL1,[62,Rn.ENDNOTK]),Yn=kn(Rn.END,[61,Rn.EQTAIL,33/*!*/,Rn.LT_BG]),qn=kn(Rn.KILL1,[45,Rn.LT_BG_M]),Zn=kn(Rn.KILL2,[45,Rn.ENDNOTK]),Qn=kn(Rn.IDESCH,[9,Rn.INVALID,10,Rn.INVALID,13,Rn.INVALID,32,Rn.INVALID]),Jn=kn(Rn.CONT,[39,Rn.ENDSTR,10,Rn.INVALID,13,Rn.INVALID,92,Rn.STR1ESC]),ei=kn(Rn.CONT,[34,Rn.ENDSTR,10,Rn.INVALID,13,Rn.INVALID,92,Rn.STR2ESC]),ti=kn(Rn.CONT,[39,Rn.ENDESTR,10,Rn.CHKPOSN,13,Rn.CHKPOSN,92,Rn.STR1ESC]),ni=kn(Rn.CONT,[34,Rn.ENDESTR,10,Rn.CHKPOSN,13,Rn.CHKPOSN,92,Rn.STR2ESC]),ii=kn(Rn.URL,[9,Rn.CONT,32,Rn.CONT,34,Rn.URL2,39,Rn.URL1,41,Rn.INVALID,10,Rn.CONT,13,Rn.CONT]),oi=kn(Rn.CONT,[41,Rn.ENDURL,9,Rn.CHKSP,10,Rn.CHKSP,13,Rn.CHKSP,32,Rn.CHKSP,92,Rn.URLESC,40,Rn.INVALID,91,Rn.INVALID,93,Rn.INVALID,123,Rn.INVALID,125,Rn.INVALID,NaN,Rn.ENDURL]),si=kn(Rn.CONT,[39,Rn.TERMURL,10,Rn.CHKPOSN,13,Rn.CHKPOSN,92,Rn.URLESC,NaN,Rn.ENDURL]),ri=kn(Rn.CONT,[34,Rn.TERMURL,10,Rn.CHKPOSN,13,Rn.CHKPOSN,92,Rn.URLESC,NaN,Rn.ENDURL]),ai=kn(Rn.INVALID,[9,Rn.CONT,10,Rn.CONT,13,Rn.CONT,32,Rn.CONT,41,Rn.FINURL]),li=15;class hi{constructor(e,t){this.input=e,this.handler=t,this.head=-1,this.tail=0,this.curr=0,this.position=0,this.indexMask=li,this.buffer=Array(this.indexMask+1);for(let e=0;e<=this.indexMask;e++)this.buffer[e]=new Ln}token(){return this.tail==this.curr&&this.fillBuffer(),this.buffer[this.curr]}nthToken(e){return(this.tail-this.curr&this.indexMask)<=e&&this.fillBuffer(),this.buffer[this.curr+e&this.indexMask]}consume(){this.curr=this.curr+1&this.indexMask}mark(){if(this.head>=0)throw new Error("F_CSSTOK_BAD_CALL mark");this.head=this.curr}reset(){if(this.head<0)throw new Error("F_CSSTOK_BAD_CALL reset");this.curr=this.head,this.head=-1}unmark(){this.head=-1}hasMark(){return this.head>=0}reallocate(){const e=2*(this.indexMask+1)-1,t=Array(e+1);let n=this.head,i=0;for(;n!=this.tail;)t[i]=this.buffer[n],n==this.curr&&(this.curr=i),n=n+1&this.indexMask,i++;for(this.head=0,this.tail=i,this.indexMask=e,this.buffer=t;i<=e;)t[i++]=new Ln}error(e,t,n){this.handler&&this.handler.error(n,t)}fillBuffer(){let e=this.tail,t=this.head>=0?this.head:this.curr,n=this.indexMask;if(e>=t?t+=n:t--,t==e){if(this.head<0)throw new Error("F_CSSTOK_INTERNAL");this.reallocate(),e=this.tail,n=this.indexMask,t=n}let i=Fn;const o=this.input;let s=this.position;const r=this.buffer;let a=On.EOF,l=0,h="",c=0,u=!1,d=r[e],p=-9;for(;;){const f=o.charCodeAt(s);switch(i[f]||i[65]){case Rn.INVALID:a=On.INVALID,h=isNaN(f)?"E_CSS_UNEXPECTED_EOF":"E_CSS_UNEXPECTED_CHAR",i=Fn,s++;break;case Rn.SPACE:s++,u=!0;continue;case Rn.INT:l=s++,i=Un;continue;case Rn.IDENT:a=On.IDENT,l=s++,i=Dn;continue;case Rn.BANG:l=s++,a=On.BANG,i=Vn;continue;case Rn.STR1:a=On.STR,l=++s,i=Jn;continue;case Rn.STR2:a=On.STR,l=++s,i=ei;continue;case Rn.HASH:l=++s,a=On.HASH,i=Dn;continue;case Rn.DOLLAR:l=s++,a=On.DOLLAR,i=Vn;continue;case Rn.PERCENT:l=s++,a=On.PERCENT;break;case Rn.AMP:l=s++,a=On.DOLLAR,i=$n;continue;case Rn.O_PAR:l=s++,a=On.O_PAR;break;case Rn.C_PAR:l=s++,a=On.C_PAR;break;case Rn.STAR:l=s++,a=On.STAR,i=Vn;continue;case Rn.PLUS:l=s++,a=On.PLUS;break;case Rn.COMMA:l=s++,a=On.COMMA;break;case Rn.MINUS:a=On.MINUS,l=s++,i=Bn;continue;case Rn.DOT:l=s++,i=_n;continue;case Rn.TOCLASS:l=s++,a=On.CLASS,i=Dn;continue;case Rn.SLASH:l=s++,a=On.SLASH,i=Wn;continue;case Rn.COLON:l=s++,a=On.COLON,i=Hn;continue;case Rn.COL_COL:s++,a=On.COL_COL;break;case Rn.SEMICOL:l=s++,a=On.SEMICOL;break;case Rn.LT:l=s++,a=On.LT,i=Yn;continue;case Rn.EQ:l=s++,a=On.EQ,i=Vn;continue;case Rn.GT:l=s++,a=On.GT,i=Vn;continue;case Rn.QMARK:l=s++,a=On.QMARK;break;case Rn.AT:l=++s,a=On.AT,i=Dn;continue;case Rn.O_BRK:l=s++,a=On.O_BRK;break;case Rn.C_BRK:l=s++,a=On.C_BRK;break;case Rn.O_BRC:l=s++,a=On.O_BRC;break;case Rn.C_BRC:l=s++,a=On.C_BRC;break;case Rn.BSLASH:l=s++,p=l,a=On.IDENT,i=Qn;continue;case Rn.HAT:l=s++,a=On.HAT,i=Vn;continue;case Rn.BAR:l=s++,a=On.BAR,i=Gn;continue;case Rn.TILDE:l=s++,a=On.TILDE,i=Vn;continue;case Rn.END:break;case Rn.EQTAIL:s++,a=a+On.BANG_EQ-On.BANG;break;case Rn.ENDINT:a=On.INT,c=parseInt(o.substring(l,s),10);break;case Rn.ENDNUM:a=On.NUM,c=parseFloat(o.substring(l,s));break;case Rn.CONT:s++;continue;case Rn.UNIT:a=On.NUMERIC,c=parseFloat(o.substring(l,s)),l=s++,i=Dn;continue;case Rn.PCUNIT:a=On.NUMERIC,c=parseFloat(o.substring(l,s)),h="%",l=s++;break;case Rn.NUMBER:s++,i=zn;continue;case Rn.ENDIDNT:h=o.substring(l,s);break;case Rn.IDNTESC:p=s++,i=Qn;continue;case Rn.ENDIDES:h=An(o.substring(l,s));break;case Rn.ENDSTR:h=o.substring(l,s),s++;break;case Rn.ENDESTR:h=An(o.substring(l,s)),s++;break;case Rn.STR1ESC:p=s,s+=2,i=ti;continue;case Rn.STR2ESC:p=s,s+=2,i=ni;continue;case Rn.BAR_BAR:s++,a=On.BAR_BAR;break;case Rn.AMP_AMP:s++,a=On.AMP_AMP;break;case Rn.FUNC:if(h=o.substring(l,s),a==On.IDENT){if(s++,"url"==h.toLowerCase()){i=ii;continue}a=On.FUNC}break;case Rn.FUNCES:if(h=An(o.substring(l,s)),a==On.IDENT){if(s++,"url"==h.toLowerCase()){i=ii;continue}a=On.FUNC}break;case Rn.COMMENT:i=Xn,s++;continue;case Rn.COMMST:i=jn,s++;continue;case Rn.ENDNOTK:i=Fn,s++;continue;case Rn.MINMIN:i=Kn,s++;continue;case Rn.TOINT:a=On.INT,i=Un,s++;continue;case Rn.TONUM:a=On.NUM,i=zn,s++;continue;case Rn.TOIDENT:a=On.IDENT,i=Dn,s++;continue;case Rn.TOIDES:a=On.IDENT,i=Qn,p=s++;continue;case Rn.KILL1:s--;break;case Rn.KILL2:s-=2;break;case Rn.URL:l=s++,i=oi;continue;case Rn.URL1:l=++s,i=si;continue;case Rn.URL2:l=++s,i=ri;continue;case Rn.ENDURL:a=On.URL,h=An(o.substring(l,s)),s++;break;case Rn.FINURL:s++;break;case Rn.LT_BG:i=qn,s++;continue;case Rn.LT_BG_M:i=Zn,s++;continue;case Rn.CHKSP:if(s-p<8&&o.substring(p+1,s+1).match(/^[0-9a-fA-F]{0,6}(\r\n|[\n\r])|[ \t]$/)){s++;continue}case Rn.TERMURL:a=On.URL,h=An(o.substring(l,s)),s++,i=ai;continue;case Rn.CHKPOSN:if(s++,s-p<9&&o.substring(p+1,s).match(/^[0-9a-fA-F]{0,6}(\r\n|[\n\r])$/))continue;a=On.INVALID,h="E_CSS_UNEXPECTED_NEWLINE",i=Fn;break;case Rn.CHKPOSS:if(s-p<9&&o.substring(p+1,s+1).match(/^[0-9a-fA-F]{0,6}[ \t]$/)){s++;continue}h=An(o.substring(l,s));break;case Rn.URLESC:p=s++;continue;case Rn.IDESCH:s++,i=Mn;continue;default:if(i!==Fn){a=On.INVALID,h="E_CSS_UNEXPECTED_STATE";break}l=s,a=On.EOF}if(d.type=a,d.precededBySpace=u,d.num=c,d.text=h,d.position=l,e++,e>=t)break;i=Fn,u=!1,d=r[e&n]}this.position=s,this.tail=e&n}}let ci=null,ui=null;function di(){return ci}function pi(e){if(!ci)throw new Error("E_TASK_NO_CONTEXT");ci.name||(ci.name=e);const t=ci,n=new Ci(t,t.top,e);return t.top=n,n.state=bi.ACTIVE,n}function fi(e){return new Ni(e)}function gi(e,t,n){const i=pi(e);i.handler=n;try{t(i)}catch(e){i.task.raise(e,i)}return i.result()}function mi(e,t){return(ci?ci.getScheduler():ui||function(e){return new Ei(e||new wi)}()).run(e,t)}var bi;!function(e){e[e.INIT=0]="INIT",e[e.ACTIVE=1]="ACTIVE",e[e.FINISHED=2]="FINISHED",e[e.DEAD=3]="DEAD"}(bi||(bi={}));class wi{currentTime(){return(new Date).valueOf()}setTimeout(e,t){return setTimeout(e,t)}clearTimeout(e){clearTimeout(e)}}class Ei{constructor(e){this.timer=e,this.timeout=1,this.slice=25,this.sliceOverTime=0,this.wakeupTime=null,this.timeoutToken=null,this.inTimeSlice=!1,this.order=0,this.queue=new F,ui||(ui=this)}setSlice(e){this.slice=e}setTimeout(e){this.timeout=e}isTimeSliceOver(){return this.timer.currentTime()>=this.sliceOverTime}arm(){if(this.inTimeSlice)return;const e=this.queue.peek().scheduledTime,t=this.timer.currentTime();if(null!=this.timeoutToken){if(t+this.timeout>this.wakeupTime)return;this.timer.clearTimeout(this.timeoutToken)}let n=e-t;n<=this.timeout&&(n=this.timeout),this.wakeupTime=t+n;const i=this;this.timeoutToken=this.timer.setTimeout(()=>{i.timeoutToken=null,i.doTimeSlice()},n)}schedule(e,t){const n=e,i=this.timer.currentTime();n.order=this.order++,n.scheduledTime=i+(t||0),this.queue.add(n),this.arm()}doTimeSlice(){null!=this.timeoutToken&&(this.timer.clearTimeout(this.timeoutToken),this.timeoutToken=null),this.inTimeSlice=!0;try{let e=this.timer.currentTime();for(this.sliceOverTime=e+this.slice;this.queue.length();){const t=this.queue.peek();if(t.scheduledTime>e)break;if(this.queue.remove(),t.canceled||t.resumeInternal(),e=this.timer.currentTime(),e>=this.sliceOverTime)break}}catch(e){h.error(e)}this.inTimeSlice=!1,this.queue.length()&&this.arm()}run(e,t){const n=new Si(this,t||"");n.top=new Ci(n,null,"bootstrap"),n.top.state=bi.ACTIVE,n.top.then(()=>{const t=()=>{n.running=!1;for(const e of n.callbacks)try{e()}catch(e){h.error(e)}};try{e().then(e=>{n.result=e,t()})}catch(e){n.raise(e),t()}});const i=ci;return ci=n,this.schedule(n.top.suspend("bootstrap")),ci=i,n}}class yi{constructor(e){this.task=e,this.scheduledTime=0,this.order=0,this.result=null,this.canceled=!1}compare(e){const t=e;return t.scheduledTime-this.scheduledTime||t.order-this.order}getTask(){return this.task}schedule(e,t){this.result=e,this.task.scheduler.schedule(this,t)}resumeInternal(){const e=this.task;if(this.task=null,e&&e.continuation==this){e.continuation=null;const t=ci;return ci=e,e.top.finish(this.result),ci=t,!0}return!1}cancel(){this.canceled=!0}}class Si{constructor(e,t){this.scheduler=e,this.name=t,this.callbacks=[],this.exception=null,this.running=!0,this.result=null,this.waitTarget=null,this.top=null,this.continuation=null}getName(){return this.name}interrupt(e){if(this.raise(e||new Error("E_TASK_INTERRUPT")),this!==ci&&this.continuation){this.continuation.cancel();const e=new yi(this);this.waitTarget="interrupt",this.continuation=e,this.scheduler.schedule(e)}}getScheduler(){return this.scheduler}isRunning(){return this.running}whenDone(e){this.callbacks.push(e)}join(){const e=pi("Task.join");if(this.running){const t=e.suspend(this),n=this;this.whenDone(()=>{t.schedule(n.result)})}else e.finish(this.result);return e.result()}unwind(){for(;this.top&&!this.top.handler;)this.top=this.top.parent;if(this.top&&this.top.handler&&this.exception){const e=this.exception;this.exception=null,this.top.handler(this.top,e)}else this.exception&&h.error(this.exception,"Unhandled exception in task",this.name)}raise(e,t){if(this.fillStack(e),t){let e=this.top;for(;e&&e!=t;)e=e.parent;e==t&&(this.top=e)}this.exception=e,this.unwind()}fillStack(e){let t=e.frameTrace;if(!t){t=e.stack?`${e.stack}\n\t---- async ---\n`:"";for(let e=this.top;e;e=e.parent)t+="\t",t+=e.getName(),t+="\n";e.frameTrace=t}}}class Ni{constructor(e){this.value=e}then(e){e(this.value)}thenAsync(e){return e(this.value)}thenReturn(e){return new Ni(e)}thenFinish(e){e.finish(this.value)}isPending(){return!1}get(){return this.value}}class vi{constructor(e){this.frame=e}then(e){this.frame.then(e)}thenAsync(e){if(this.isPending()){const t=new Ci(this.frame.task,this.frame.parent,"AsyncResult.thenAsync");return t.state=bi.ACTIVE,this.frame.parent=t,this.frame.then(n=>{e(n).then(e=>{t.finish(e)})}),t.result()}return e(this.frame.res)}thenReturn(e){return this.isPending()?this.thenAsync(()=>new Ni(e)):new Ni(e)}thenFinish(e){this.isPending()?this.then(t=>{e.finish(t)}):e.finish(this.frame.res)}isPending(){return this.frame.state==bi.ACTIVE}get(){if(this.isPending())throw new Error("Result is pending");return this.frame.res}}class Ci{constructor(e,t,n){this.task=e,this.parent=t,this.name=n,this.res=null,this.callback=null,this.handler=null,this.state=bi.INIT}checkEnvironment(){if(!ci)throw new Error("F_TASK_NO_CONTEXT");if(this!==ci.top)throw new Error("F_TASK_NOT_TOP_FRAME")}result(){return new vi(this)}finish(e){this.checkEnvironment(),ci&&!ci.exception&&(this.res=e),this.state=bi.FINISHED;const t=this.parent;if(ci&&(ci.top=t),this.callback){try{this.callback(e)}catch(e){this.task.raise(e,t)}this.state=bi.DEAD}}getTask(){return this.task}getName(){return this.name}getScheduler(){return this.task.scheduler}then(e){switch(this.state){case bi.ACTIVE:if(this.callback)throw new Error("F_TASK_FRAME_ALREADY_HAS_CALLBACK");this.callback=e;break;case bi.FINISHED:{const t=this.task,n=this.parent;try{e(this.res),this.state=bi.DEAD}catch(e){this.state=bi.DEAD,t.raise(e,n)}break}case bi.DEAD:throw new Error("F_TASK_DEAD_FRAME");default:throw new Error(`F_TASK_UNEXPECTED_FRAME_STATE ${this.state}`)}}timeSlice(){const e=pi("Frame.timeSlice");return e.getScheduler().isTimeSliceOver()?(h.debug("-- time slice --"),e.suspend().schedule(!0)):e.finish(!0),e.result()}sleep(e){const t=pi("Frame.sleep");return t.suspend().schedule(!0,e),t.result()}loop(e){const t=pi("Frame.loop"),n=i=>{try{for(;i;){const t=e();if(t.isPending())return void t.then(n);t.then(e=>{i=e})}t.finish(!0)}catch(e){t.task.raise(e,t)}};return n(!0),t.result()}loopWithFrame(e){const t=ci;if(!t)throw new Error("E_TASK_NO_CONTEXT");return this.loop(()=>{let n;do{const i=new Ti(t,t.top);t.top=i,i.state=bi.ACTIVE,e(i),n=i.result()}while(!n.isPending()&&n.get());return n})}suspend(e){if(this.checkEnvironment(),this.task.continuation)throw new Error("E_TASK_ALREADY_SUSPENDED");const t=new yi(this.task);return this.task.continuation=t,ci=null,this.task.waitTarget=e||null,t}}class Ti extends Ci{constructor(e,t){super(e,t,"loop")}continueLoop(){this.finish(!0)}breakLoop(){this.finish(!1)}}class xi{constructor(e,t){this.fetch=e,this.arrived=!1,this.resource=null,this.task=null,this.piggybacks=[],this.name=t}start(){if(!this.task){const e=this;this.task=di().getScheduler().run(()=>{const t=pi("Fetcher.run");return e.fetch().then(n=>{const i=e.piggybacks;if(e.arrived=!0,e.resource=n,e.task=null,e.piggybacks=[],i)for(let e=0;e<i.length;e++)try{i[e](n)}catch(e){h.error(e,"Error:")}t.finish(n)}),t.result()},this.name)}}piggyback(e){this.arrived?e(this.resource):this.piggybacks.push(e)}get(){return this.arrived?fi(this.resource):(this.start(),this.task.join())}hasArrived(){return this.arrived}}const Ii=e=>{if(0==e.length)return fi(!0);if(1==e.length)return e[0].get().thenReturn(!0);const t=pi("waitForFetches");let n=0;return t.loop(()=>{for(;n<e.length;){const t=e[n++];if(!t.hasArrived())return t.get().thenReturn(!0)}return fi(!1)}).then(()=>{t.finish(!0)}),t.result()};function Pi(e,t){let n=null,i=null;"img"==e.localName&&(n=e.getAttribute("width"),i=e.getAttribute("height"));const o=new xi(()=>{const o=pi("loadImage"),s=o.suspend(e);let r=!1;const a=t=>{r||(r=!0,"img"==e.localName&&(n||e.removeAttribute("width"),i||e.removeAttribute("height")),s.schedule(t?t.type:"timeout"))};return e.addEventListener("load",a,!1),e.addEventListener("error",a,!1),e.addEventListener("abort",a,!1),e.namespaceURI==L.SVG?(e.setAttributeNS(L.XLINK,"xlink:href",t),setTimeout(a,300)):e.src=t,o.result()},`loadElement ${t}`);return o.start(),o}var Ai,Oi='<!DOCTYPE html>\n<html xmlns="http://www.w3.org/1999/xhtml" xmlns:s="http://www.pyroxy.com/ns/shadow">\n<head>\n<style><![CDATA[\n\n.footnote-content {\n  float: footnote;\n}\n\n.table-cell-container {\n  display: block;\n}\n\n]]></style>\n</head>\n<body>\n\n<s:template id="footnote"><s:content/><s:include class="footnote-content"/></s:template>\n\n<s:template id="table-cell"><div data-vivliostyle-flow-root="true" class="table-cell-container"><s:content/></div></s:template>\n\n</body>\n</html>\n';function Ri(e,t,n,i,o){const s=pi("ajax"),r=new XMLHttpRequest,a=s.suspend(r),l={status:0,statusText:"",url:e,contentType:null,responseText:null,responseXML:null,responseBlob:null};r.open(n||"GET",e,!0),t&&(r.responseType=t),r.onreadystatechange=()=>{if(4===r.readyState){if(l.status=r.status,l.statusText=r.statusText||404==r.status&&"Not Found"||"",200==l.status||0==l.status)if(t&&t!==Ai.DOCUMENT||!r.responseXML||"parsererror"==r.responseXML.documentElement.localName)if((!t||t===Ai.DOCUMENT)&&r.response instanceof HTMLDocument)l.responseXML=r.response,l.contentType=r.response.contentType;else{const n=r.response;t&&t!==Ai.TEXT||"string"!=typeof n?n?l.responseBlob="string"==typeof n?Li([n]):n:h.warn("Unexpected empty success response for",e):l.responseText=n;const i=r.getResponseHeader("Content-Type");i&&(l.contentType=i.replace(/(.*);.*$/,"$1"))}else l.responseXML=r.responseXML,l.contentType=r.responseXML.contentType;a.schedule(l)}};try{i?(r.setRequestHeader("Content-Type",o||"text/plain; charset=UTF-8"),r.send(i)):(/^file:|^https?:\/\/[^/]+\.githubusercontent\.com|\.opf$/.test(e)?/\/aozorabunko\/[^/]+\/cards\/[^/]+\/files\/[^/.]+\.html$/.test(e)?r.overrideMimeType("text/html; charset=Shift_JIS"):/\.(html|htm)$/.test(e)?r.overrideMimeType("text/html; charset=UTF-8"):/\.(xhtml|xht|xml|opf)$/.test(e)?r.overrideMimeType("application/xml; charset=UTF-8"):/\.(txt|css)$/.test(e)?r.overrideMimeType("text/plain; charset=UTF-8"):r.overrideMimeType("text/html; charset=UTF-8"):/^data:,(<|%3C|%3c)/.test(e)?r.overrideMimeType("text/html; charset=UTF-8"):/^data:,/.test(e)&&r.overrideMimeType("text/plain; charset=UTF-8"),r.send(null))}catch(t){h.warn(t,`Error fetching ${e}`),a.schedule(l)}return s.result()}function Li(e,t){const n=t||"application/octet-stream",i=window.WebKitBlobBuilder||window.MSBlobBuilder;if(i){const t=new i;for(let n=0;n<e.length;n++)t.append(e[n]);return t.getBlob(n)}return new Blob(e,{type:n})}!function(e){e.DEFAULT="",e.ARRAYBUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(Ai||(Ai={}));class ki{constructor(e,t){this.parser=e,this.type=t,this.resources={},this.fetchers={}}load(e,t,n){e=T(e);const i=this.resources[e];return void 0!==i?fi(i):this.fetch(e,t,n).get()}fetchInner(e,t,n){const i=this,o=pi("fetch"),s=e.endsWith("?viv-toc-box");s&&(e=e.replace("?viv-toc-box",""));const r=O("user-agent.xml",P),a=!s&&e===r;return a&&(e=`data:application/xml,${encodeURIComponent(Oi)}`),Ri(e,i.type).then(l=>{if(l.status>=400&&t)throw new Error((n||`Failed to fetch required resource: ${e}`)+` (${l.status}${l.statusText?" "+l.statusText:""})`);s?(e+="?viv-toc-box",l.url+="?viv-toc-box"):a&&(l.url=e=r),i.parser(l,i).then(t=>{delete i.fetchers[e],i.resources[e]=t,o.finish(t)})}),o.result()}fetch(e,t,n){if(e=T(e),this.resources[e])return null;let i=this.fetchers[e];if(!i){const o=this;i=new xi(()=>o.fetchInner(e,t,n),`Fetch ${e}`),o.fetchers[e]=i,i.start()}return i}get(e){return this.resources[T(e)]}delete(e){delete this.resources[T(e)]}}function Fi(e,t){const n=e.responseText;return fi(n?C(n):null)}const Di=0,_i=16777216,Bi=33554432,Mi=50331648,Ui=67108864,zi=83886080,Vi=100663296;var Hi;function Gi(e){let t=parseInt(e,16);if(isNaN(t))throw new Error("E_CSS_COLOR");if(6==e.length)return new Pt(t);if(3==e.length)return t=15&t|(15&t)<<4|(240&t)<<4|(240&t)<<8|(3840&t)<<8|(3840&t)<<12,new Pt(t);throw new Error("E_CSS_COLOR")}!function(e){e.USER_AGENT="UA",e.USER="User",e.AUTHOR="Author"}(Hi||(Hi={}));class $i{constructor(e){this.scope=e,this.flavor=Hi.AUTHOR}getCurrentToken(){return null}getScope(){return this.scope}error(e,t){}startStylesheet(e){this.flavor=e}tagSelector(e,t){}classSelector(e){}pseudoclassSelector(e,t){}pseudoelementSelector(e,t){}idSelector(e){}attributeSelector(e,t,n,i){}descendantSelector(){}childSelector(){}adjacentSiblingSelector(){}followingSiblingSelector(){}nextSelector(){}startSelectorRule(){}startFontFaceRule(){}startFootnoteRule(e){}startViewportRule(){}startDefineRule(){}startRegionRule(){}startPageRule(){}startPageMarginBoxRule(e){}startWhenRule(e){}startMediaRule(e){this.startWhenRule(e)}startFlowRule(e){}startPageTemplateRule(){}startPageMasterRule(e,t,n){}startPartitionRule(e,t,n){}startPartitionGroupRule(e,t,n){}startRuleBody(){}property(e,t,n){}endRule(){}startFuncWithSelector(e){}endFuncWithSelector(){}getImportantSpecificity(){switch(this.flavor){case Hi.USER_AGENT:return Di;case Hi.USER:return Vi;default:return zi}}getBaseSpecificity(){switch(this.flavor){case Hi.USER_AGENT:return Di;case Hi.USER:return _i;default:return Bi}}}class Wi extends $i{constructor(){super(null),this.stack=[],this.tokenizer=null,this.slave=null}pushHandler(e){this.stack.push(this.slave),this.slave=e}popHandler(){this.slave=this.stack.pop()}getCurrentToken(){return this.tokenizer?this.tokenizer.token():null}getScope(){return this.slave.getScope()}error(e,t){this.slave.error(e,t)}errorMsg(e,t){h.warn(e)}startStylesheet(e){super.startStylesheet(e),this.stack.length>0&&(this.slave=this.stack[0],this.stack=[]),this.slave.startStylesheet(e)}tagSelector(e,t){this.slave.tagSelector(e,t)}classSelector(e){this.slave.classSelector(e)}pseudoclassSelector(e,t){this.slave.pseudoclassSelector(e,t)}pseudoelementSelector(e,t){this.slave.pseudoelementSelector(e,t)}idSelector(e){this.slave.idSelector(e)}attributeSelector(e,t,n,i){this.slave.attributeSelector(e,t,n,i)}descendantSelector(){this.slave.descendantSelector()}childSelector(){this.slave.childSelector()}adjacentSiblingSelector(){this.slave.adjacentSiblingSelector()}followingSiblingSelector(){this.slave.followingSiblingSelector()}nextSelector(){this.slave.nextSelector()}startSelectorRule(){this.slave.startSelectorRule()}startFontFaceRule(){this.slave.startFontFaceRule()}startFootnoteRule(e){this.slave.startFootnoteRule(e)}startViewportRule(){this.slave.startViewportRule()}startDefineRule(){this.slave.startDefineRule()}startRegionRule(){this.slave.startRegionRule()}startPageRule(){this.slave.startPageRule()}startPageMarginBoxRule(e){this.slave.startPageMarginBoxRule(e)}startWhenRule(e){this.slave.startWhenRule(e)}startFlowRule(e){this.slave.startFlowRule(e)}startPageTemplateRule(){this.slave.startPageTemplateRule()}startPageMasterRule(e,t,n){this.slave.startPageMasterRule(e,t,n)}startPartitionRule(e,t,n){this.slave.startPartitionRule(e,t,n)}startPartitionGroupRule(e,t,n){this.slave.startPartitionGroupRule(e,t,n)}startRuleBody(){this.slave.startRuleBody()}property(e,t,n){this.slave.property(e,t,n)}endRule(){this.slave.endRule()}startFuncWithSelector(e){this.slave.startFuncWithSelector(e)}endFuncWithSelector(){this.slave.endFuncWithSelector()}}class Xi extends $i{constructor(e,t,n){super(e),this.owner=t,this.topLevel=n,this.depth=0,t&&(this.flavor=t.flavor)}getCurrentToken(){return this.owner.getCurrentToken()}error(e,t){this.owner.errorMsg(e,t)}startRuleBody(){this.depth++}endRule(){0!=--this.depth||this.topLevel||this.owner.popHandler()}}class ji extends Xi{constructor(e,t,n){super(e,t,n)}report(e){this.error(e,this.getCurrentToken())}reportAndSkip(e){this.report(e),this.owner.pushHandler(new Xi(this.scope,this.owner,!1))}startSelectorRule(){this.reportAndSkip("E_CSS_UNEXPECTED_SELECTOR")}startFontFaceRule(){this.reportAndSkip("E_CSS_UNEXPECTED_FONT_FACE")}startFootnoteRule(e){this.reportAndSkip("E_CSS_UNEXPECTED_FOOTNOTE")}startViewportRule(){this.reportAndSkip("E_CSS_UNEXPECTED_VIEWPORT")}startDefineRule(){this.reportAndSkip("E_CSS_UNEXPECTED_DEFINE")}startRegionRule(){this.reportAndSkip("E_CSS_UNEXPECTED_REGION")}startPageRule(){this.reportAndSkip("E_CSS_UNEXPECTED_PAGE")}startWhenRule(e){this.reportAndSkip("E_CSS_UNEXPECTED_WHEN")}startFlowRule(e){this.reportAndSkip("E_CSS_UNEXPECTED_FLOW")}startPageTemplateRule(){this.reportAndSkip("E_CSS_UNEXPECTED_PAGE_TEMPLATE")}startPageMasterRule(e,t,n){this.reportAndSkip("E_CSS_UNEXPECTED_PAGE_MASTER")}startPartitionRule(e,t,n){this.reportAndSkip("E_CSS_UNEXPECTED_PARTITION")}startPartitionGroupRule(e,t,n){this.reportAndSkip("E_CSS_UNEXPECTED_PARTITION_GROUP")}startFuncWithSelector(e){this.reportAndSkip("E_CSS_UNEXPECTED_SELECTOR_FUNC")}endFuncWithSelector(){this.reportAndSkip("E_CSS_UNEXPECTED_END_SELECTOR_FUNC")}property(e,t,n){this.error("E_CSS_UNEXPECTED_PROPERTY",this.getCurrentToken())}}const Ki=[],Yi=[],qi=[],Zi=[],Qi=[],Ji=[],eo=[],to=[],no=[],io=[],oo=[],so=[],ro=[];var ao;!function(e){e[e.SELECTOR_NAME_1=1]="SELECTOR_NAME_1",e[e.SELECTOR_NAME=2]="SELECTOR_NAME",e[e.SELECTOR_ANY_1=3]="SELECTOR_ANY_1",e[e.SELECTOR_ANY=4]="SELECTOR_ANY",e[e.SELECTOR_ID_1=5]="SELECTOR_ID_1",e[e.SELECTOR_ID=6]="SELECTOR_ID",e[e.SELECTOR_CLASS_1=7]="SELECTOR_CLASS_1",e[e.SELECTOR_CLASS=8]="SELECTOR_CLASS",e[e.SELECTOR_ATTR_1=9]="SELECTOR_ATTR_1",e[e.SELECTOR_ATTR=10]="SELECTOR_ATTR",e[e.SELECTOR_CHILD=11]="SELECTOR_CHILD",e[e.SELECTOR_SIBLING=12]="SELECTOR_SIBLING",e[e.SELECTOR_BODY=13]="SELECTOR_BODY",e[e.SELECTOR_PSEUDOCLASS=14]="SELECTOR_PSEUDOCLASS",e[e.VAL_IDENT=15]="VAL_IDENT",e[e.VAL_HASH=16]="VAL_HASH",e[e.VAL_NUM=17]="VAL_NUM",e[e.VAL_INT=18]="VAL_INT",e[e.VAL_NUMERIC=19]="VAL_NUMERIC",e[e.VAL_STR=20]="VAL_STR",e[e.VAL_URL=21]="VAL_URL",e[e.VAL_COMMA=22]="VAL_COMMA",e[e.VAL_SLASH=23]="VAL_SLASH",e[e.VAL_FUNC=24]="VAL_FUNC",e[e.VAL_C_PAR=25]="VAL_C_PAR",e[e.VAL_END=26]="VAL_END",e[e.RULE_END=27]="RULE_END",e[e.IDENT=28]="IDENT",e[e.SELECTOR_START=29]="SELECTOR_START",e[e.AT=30]="AT",e[e.EXPR_IDENT=31]="EXPR_IDENT",e[e.EXPR_NUM=32]="EXPR_NUM",e[e.EXPR_NUMERIC=33]="EXPR_NUMERIC",e[e.EXPR_STR=34]="EXPR_STR",e[e.EXPR_PARAM=35]="EXPR_PARAM",e[e.EXPR_PREFIX=36]="EXPR_PREFIX",e[e.EXPR_INFIX=37]="EXPR_INFIX",e[e.EXPR_FUNC=38]="EXPR_FUNC",e[e.EXPR_C_PAR=39]="EXPR_C_PAR",e[e.EXPR_O_PAR=40]="EXPR_O_PAR",e[e.SELECTOR_NEXT=41]="SELECTOR_NEXT",e[e.SELECTOR_PSEUDOELEM=42]="SELECTOR_PSEUDOELEM",e[e.EXPR_O_BRC=43]="EXPR_O_BRC",e[e.VAL_FINISH=44]="VAL_FINISH",e[e.EXPR_INFIX_NAME=45]="EXPR_INFIX_NAME",e[e.PROP=46]="PROP",e[e.VAL_BANG=47]="VAL_BANG",e[e.VAL_BRC=48]="VAL_BRC",e[e.EXPR_SEMICOL=49]="EXPR_SEMICOL",e[e.ERROR_PUSH=50]="ERROR_PUSH",e[e.ERROR_POP=51]="ERROR_POP",e[e.ERROR_POP_DECL=52]="ERROR_POP_DECL",e[e.ERROR_SEMICOL=53]="ERROR_SEMICOL",e[e.VAL_PLUS=54]="VAL_PLUS",e[e.SELECTOR_PSEUDOCLASS_1=55]="SELECTOR_PSEUDOCLASS_1",e[e.SELECTOR_FOLLOWING_SIBLING=56]="SELECTOR_FOLLOWING_SIBLING",e[e.DONE=200]="DONE"}(ao||(ao={}));const lo=On.LAST+1;var ho;Ki[On.IDENT]=ao.IDENT,Ki[On.STAR]=ao.SELECTOR_START,Ki[On.HASH]=ao.SELECTOR_START,Ki[On.CLASS]=ao.SELECTOR_START,Ki[On.O_BRK]=ao.SELECTOR_START,Ki[On.COLON]=ao.SELECTOR_START,Ki[On.AT]=ao.AT,Ki[On.C_BRC]=ao.RULE_END,Ki[On.EOF]=ao.DONE,Yi[On.IDENT]=ao.PROP,Yi[On.EOF]=ao.DONE,Ji[On.IDENT]=ao.SELECTOR_NAME,Ji[On.STAR]=ao.SELECTOR_ANY,Ji[On.HASH]=ao.SELECTOR_ID,Ji[On.CLASS]=ao.SELECTOR_CLASS,Ji[On.O_BRK]=ao.SELECTOR_ATTR,Ji[On.COLON]=ao.SELECTOR_PSEUDOCLASS,qi[On.GT]=ao.SELECTOR_CHILD,qi[On.PLUS]=ao.SELECTOR_SIBLING,qi[On.TILDE]=ao.SELECTOR_FOLLOWING_SIBLING,qi[On.IDENT]=ao.SELECTOR_NAME_1,qi[On.STAR]=ao.SELECTOR_ANY_1,qi[On.HASH]=ao.SELECTOR_ID_1,qi[On.CLASS]=ao.SELECTOR_CLASS_1,qi[On.O_BRK]=ao.SELECTOR_ATTR_1,qi[On.O_BRC]=ao.SELECTOR_BODY,qi[On.COLON]=ao.SELECTOR_PSEUDOCLASS_1,qi[On.COL_COL]=ao.SELECTOR_PSEUDOELEM,qi[On.COMMA]=ao.SELECTOR_NEXT,Zi[On.IDENT]=ao.SELECTOR_NAME_1,Zi[On.STAR]=ao.SELECTOR_ANY_1,Zi[On.HASH]=ao.SELECTOR_ID_1,Zi[On.CLASS]=ao.SELECTOR_CLASS_1,Zi[On.O_BRK]=ao.SELECTOR_ATTR_1,Zi[On.C_PAR]=ao.DONE,Zi[On.COLON]=ao.SELECTOR_PSEUDOCLASS_1,Qi[On.IDENT]=ao.SELECTOR_NAME,Qi[On.STAR]=ao.SELECTOR_ANY,Qi[On.HASH]=ao.SELECTOR_ID,Qi[On.CLASS]=ao.SELECTOR_CLASS,Qi[On.COLON]=ao.SELECTOR_PSEUDOCLASS,Qi[On.COL_COL]=ao.SELECTOR_PSEUDOELEM,Qi[On.O_BRK]=ao.SELECTOR_ATTR,Qi[On.O_BRC]=ao.SELECTOR_BODY,eo[On.IDENT]=ao.VAL_IDENT,eo[On.HASH]=ao.VAL_HASH,eo[On.NUM]=ao.VAL_NUM,eo[On.INT]=ao.VAL_INT,eo[On.NUMERIC]=ao.VAL_NUMERIC,eo[On.STR]=ao.VAL_STR,eo[On.URL]=ao.VAL_URL,eo[On.COMMA]=ao.VAL_COMMA,eo[On.SLASH]=ao.VAL_SLASH,eo[On.FUNC]=ao.VAL_FUNC,eo[On.C_PAR]=ao.VAL_C_PAR,eo[On.SEMICOL]=ao.VAL_END,eo[On.C_BRC]=ao.VAL_BRC,eo[On.BANG]=ao.VAL_BANG,eo[On.PLUS]=ao.VAL_PLUS,eo[On.EOF]=ao.VAL_FINISH,to[On.IDENT]=ao.EXPR_IDENT,to[On.NUM]=ao.EXPR_NUM,to[On.INT]=ao.EXPR_NUM,to[On.NUMERIC]=ao.EXPR_NUMERIC,to[On.STR]=ao.EXPR_STR,to[On.O_PAR]=ao.EXPR_O_PAR,to[On.FUNC]=ao.EXPR_FUNC,to[On.BANG]=ao.EXPR_PREFIX,to[On.MINUS]=ao.EXPR_PREFIX,to[On.DOLLAR]=ao.EXPR_PARAM,no[On.IDENT]=ao.EXPR_INFIX_NAME,no[On.COMMA]=ao.EXPR_INFIX,no[On.GT]=ao.EXPR_INFIX,no[On.LT]=ao.EXPR_INFIX,no[On.GT_EQ]=ao.EXPR_INFIX,no[On.LT_EQ]=ao.EXPR_INFIX,no[On.EQ]=ao.EXPR_INFIX,no[On.EQ_EQ]=ao.EXPR_INFIX,no[On.BANG_EQ]=ao.EXPR_INFIX,no[On.AMP_AMP]=ao.EXPR_INFIX,no[On.BAR_BAR]=ao.EXPR_INFIX,no[On.PLUS]=ao.EXPR_INFIX,no[On.MINUS]=ao.EXPR_INFIX,no[On.SLASH]=ao.EXPR_INFIX,no[On.PERCENT]=ao.EXPR_INFIX,no[On.STAR]=ao.EXPR_INFIX,no[On.COLON]=ao.EXPR_INFIX,no[On.QMARK]=ao.EXPR_INFIX,no[On.C_PAR]=ao.EXPR_C_PAR,no[On.O_BRC]=ao.EXPR_O_BRC,no[On.SEMICOL]=ao.EXPR_SEMICOL,io[On.EOF]=ao.DONE,io[On.O_BRC]=ao.ERROR_PUSH,io[On.C_BRC]=ao.ERROR_POP,io[On.O_BRK]=ao.ERROR_PUSH,io[On.C_BRK]=ao.ERROR_POP,io[On.O_PAR]=ao.ERROR_PUSH,io[On.C_PAR]=ao.ERROR_POP,io[On.SEMICOL]=ao.ERROR_SEMICOL,oo[On.EOF]=ao.DONE,oo[On.O_BRC]=ao.ERROR_PUSH,oo[On.C_BRC]=ao.ERROR_POP_DECL,oo[On.O_BRK]=ao.ERROR_PUSH,oo[On.C_BRK]=ao.ERROR_POP,oo[On.O_PAR]=ao.ERROR_PUSH,oo[On.C_PAR]=ao.ERROR_POP,oo[On.SEMICOL]=ao.ERROR_SEMICOL,so[On.EOF]=ao.DONE,so[On.O_BRC]=ao.ERROR_PUSH,so[On.C_BRC]=ao.ERROR_POP,so[On.O_BRK]=ao.ERROR_PUSH,so[On.C_BRK]=ao.ERROR_POP,so[On.O_PAR]=ao.ERROR_PUSH,so[On.C_PAR]=ao.ERROR_POP,ro[On.C_PAR]=0,ro[On.COMMA]=0,ro[On.QMARK]=1,ro[On.COLON]=1,ro[On.AMP_AMP]=2,ro[On.BAR_BAR]=2,ro[On.LT]=3,ro[On.GT]=3,ro[On.LT_EQ]=3,ro[On.GT_EQ]=3,ro[On.EQ]=3,ro[On.EQ_EQ]=3,ro[On.BANG_EQ]=3,ro[On.PLUS]=4,ro[On.MINUS]=4,ro[On.STAR]=5,ro[On.SLASH]=5,ro[On.PERCENT]=5,ro[On.EOF]=6,ro[lo]=2,function(e){e[e.PROP=0]="PROP",e[e.WHEN=1]="WHEN",e[e.MEDIA=2]="MEDIA",e[e.IMPORT=3]="IMPORT"}(ho||(ho={}));class co{constructor(e,t,n,i){this.actions=e,this.tokenizer=t,this.handler=n,this.baseURL=i,this.valStack=[],this.namespacePrefixToURI={},this.defaultNamespaceURI=null,this.propName=null,this.propImportant=!1,this.result=null,this.importReady=!1,this.importURL=null,this.importCondition=null,this.errorBrackets=[],this.ruleStack=[],this.regionRule=!1,this.pageRule=!1,this.exprContext=ho.MEDIA}extractVals(e,t){const n=[],i=this.valStack;for(;n.push(i[t++]),t!=i.length;)if(i[t++]!=e)throw new Error("Unexpected state");return n}valStackReduce(e,t){const n=this.valStack;let i,o=n.length;do{i=n[--o]}while(void 0!==i&&"string"!=typeof i);let s=n.length-(o+1);if(s>1&&n.splice(o+1,s,new Rt(n.slice(o+1,n.length))),","==e)return null;o++;do{i=n[--o]}while(void 0!==i&&("string"!=typeof i||","==i));if(s=n.length-(o+1),"("==i){if(")"!=e)return this.handler.error("E_CSS_MISMATCHED_C_PAR",t),this.actions=oo,null;const i=new kt(n[o-1],this.extractVals(",",o+1));return n.splice(o-1,s+2,i),null}return";"!=e||o>=0?(this.handler.error("E_CSS_UNEXPECTED_VAL_END",t),this.actions=oo,null):s>1?new Lt(this.extractVals(",",o+1)):n[0]}exprError(e,t){this.actions=this.propName?oo:io,this.handler.error(e,t)}exprStackReduce(e,t){const n=this.valStack,i=this.handler;let o,s=n.pop();for(;;){let r=n.pop();if(e==On.C_PAR){const t=[s];for(;r==On.COMMA;)t.unshift(n.pop()),r=n.pop();if("string"==typeof r){if("{"==r){for(;t.length>=2;){const e=t.shift(),n=t.shift(),o=new He(i.getScope(),e,n);t.unshift(o)}return n.push(new Ft(t[0])),!0}if("("==r){const o=n.pop(),r=n.pop();s=new ot(i.getScope(),ve(r,o),t),e=On.EOF;continue}}if(r==On.O_PAR){s.isMediaName()&&(s=new at(i.getScope(),s,null)),e=On.EOF;continue}}else if("string"==typeof r){n.push(r);break}if(r<0)if(r==-On.BANG)s=new Be(i.getScope(),s);else{if(r!=-On.MINUS)return this.exprError("F_UNEXPECTED_STATE",t),!1;s=new Me(i.getScope(),s)}else{if(ro[e]>ro[r]){n.push(r);break}switch(o=n.pop(),r){case On.AMP_AMP:s=new Ue(i.getScope(),o,s);break;case lo:s=new ze(i.getScope(),o,s);break;case On.BAR_BAR:s=new Ve(i.getScope(),o,s);break;case On.LT:s=new Ge(i.getScope(),o,s);break;case On.GT:s=new We(i.getScope(),o,s);break;case On.LT_EQ:s=new $e(i.getScope(),o,s);break;case On.GT_EQ:s=new Xe(i.getScope(),o,s);break;case On.EQ:case On.EQ_EQ:s=new je(i.getScope(),o,s);break;case On.BANG_EQ:s=new Ke(i.getScope(),o,s);break;case On.PLUS:s=new Ye(i.getScope(),o,s);break;case On.MINUS:s=new qe(i.getScope(),o,s);break;case On.STAR:s=new Ze(i.getScope(),o,s);break;case On.SLASH:s=new Qe(i.getScope(),o,s);break;case On.PERCENT:s=new Je(i.getScope(),o,s);break;case On.COLON:if(!(n.length>1))return this.exprError("E_CSS_EXPR_COND",t),!1;switch(n[n.length-1]){case On.QMARK:n.pop(),s=new st(i.getScope(),n.pop(),o,s);break;case On.O_PAR:if(!o.isMediaName())return this.exprError("E_CSS_MEDIA_TEST",t),!1;s=new at(i.getScope(),o,s)}break;case On.QMARK:if(e!=On.COLON)return this.exprError("E_CSS_EXPR_COND",t),!1;case On.O_PAR:return n.push(o),n.push(r),n.push(s),!1;default:return this.exprError("F_UNEXPECTED_STATE",t),!1}}}return n.push(s),!1}readPseudoParams(){const e=[];for(;;){const t=this.tokenizer.token();switch(t.type){case On.IDENT:e.push(t.text);break;case On.PLUS:e.push("+");break;case On.NUM:case On.INT:e.push(t.num);break;default:return e}this.tokenizer.consume()}}readNthPseudoParams(){let e=!1,t=this.tokenizer.token();if(t.type===On.PLUS)e=!0,this.tokenizer.consume(),t=this.tokenizer.token();else if(t.type===On.IDENT&&("even"===t.text||"odd"===t.text))return this.tokenizer.consume(),[2,"odd"===t.text?1:0];switch(t.type){case On.NUMERIC:if(e&&t.num<0)return null;case On.IDENT:if(e&&"-"===t.text.charAt(0))return null;if("n"===t.text||"-n"===t.text){if(e&&t.precededBySpace)return null;let n="-n"===t.text?-1:1;t.type===On.NUMERIC&&(n=t.num);let i=0;this.tokenizer.consume(),t=this.tokenizer.token();const o=t.type===On.MINUS,s=t.type===On.PLUS||o;if(s&&(this.tokenizer.consume(),t=this.tokenizer.token()),t.type===On.INT){if(i=t.num,1/i==-1/0){if(i=0,s)return null}else if(i<0){if(s)return null}else if(i>=0&&!s)return null;this.tokenizer.consume()}else if(s)return null;return[n,o&&i>0?-i:i]}if("n-"===t.text||"-n-"===t.text){if(e&&t.precededBySpace)return null;let n="-n-"===t.text?-1:1;if(t.type===On.NUMERIC&&(n=t.num),this.tokenizer.consume(),t=this.tokenizer.token(),t.type===On.INT)return t.num<0||1/t.num==-1/0?null:(this.tokenizer.consume(),[n,t.num])}else{let n=t.text.match(/^n(-[0-9]+)$/);if(n)return e&&t.precededBySpace?null:(this.tokenizer.consume(),[t.type===On.NUMERIC?t.num:1,parseInt(n[1],10)]);if(n=t.text.match(/^-n(-[0-9]+)$/),n)return this.tokenizer.consume(),[-1,parseInt(n[1],10)]}return null;case On.INT:return e&&(t.precededBySpace||t.num<0)?null:(this.tokenizer.consume(),[0,t.num])}return null}makeCondition(e,t){const n=this.handler.getScope();if(!n)return null;if(t=t||n._true,e){const i=e.split(/\s+/);for(const e of i)switch(e){case"vertical":t=ht(n,t,new Be(n,new tt(n,"pref-horizontal")));break;case"horizontal":t=ht(n,t,new tt(n,"pref-horizontal"));break;case"day":t=ht(n,t,new Be(n,new tt(n,"pref-night-mode")));break;case"night":t=ht(n,t,new tt(n,"pref-night-mode"));break;default:t=n._false}}return t===n._true?null:new Ft(t)}isInsidePropertyOnlyRule(){switch(this.ruleStack[this.ruleStack.length-1]){case"[selector]":case"font-face":case"-epubx-flow":case"-epubx-viewport":case"-epubx-define":case"-adapt-footnote-area":return!0}return!1}runParser(e,t,n,i,o){const s=this.handler,r=this.tokenizer,a=this.valStack;let l,h,c,u,d,p,f;i&&(this.exprContext=ho.MEDIA,this.valStack.push("{"));e:for(;e>0;--e)switch(l=r.token(),this.actions[l.type]){case ao.IDENT:if(r.nthToken(1).type!=On.COLON){this.isInsidePropertyOnlyRule()?(s.error("E_CSS_COLON_EXPECTED",r.nthToken(1)),this.actions=oo):(this.actions=Ji,s.startSelectorRule());continue}h=r.nthToken(2),h.precededBySpace||h.type!=On.IDENT&&h.type!=On.FUNC||r.mark(),this.propName=l.text,this.propImportant=!1,r.consume(),r.consume(),this.actions=eo,a.splice(0,a.length);continue;case ao.PROP:if(r.nthToken(1).type!=On.COLON){this.actions=oo,s.error("E_CSS_COLON_EXPECTED",r.nthToken(1));continue}this.propName=l.text,this.propImportant=!1,r.consume(),r.consume(),this.actions=eo,a.splice(0,a.length);continue;case ao.SELECTOR_START:this.actions=Ji,s.startSelectorRule();continue;case ao.SELECTOR_NAME_1:if(!l.precededBySpace){this.actions=so,s.error("E_CSS_SPACE_EXPECTED",l);continue}s.descendantSelector();case ao.SELECTOR_NAME:if(r.nthToken(1).type==On.BAR)if(r.consume(),r.consume(),c=this.namespacePrefixToURI[l.text],null!=c)switch(l=r.token(),l.type){case On.IDENT:s.tagSelector(c,l.text),this.actions=o?Zi:qi,r.consume();break;case On.STAR:s.tagSelector(c,null),this.actions=o?Zi:qi,r.consume();break;default:this.actions=io,s.error("E_CSS_NAMESPACE",l)}else this.actions=io,s.error("E_CSS_UNDECLARED_PREFIX",l);else s.tagSelector(this.defaultNamespaceURI,l.text),this.actions=o?Zi:qi,r.consume();continue;case ao.SELECTOR_ANY_1:if(!l.precededBySpace){this.actions=so,s.error("E_CSS_SPACE_EXPECTED",l);continue}s.descendantSelector();case ao.SELECTOR_ANY:if(r.nthToken(1).type==On.BAR)switch(r.consume(),r.consume(),l=r.token(),l.type){case On.IDENT:s.tagSelector(null,l.text),this.actions=o?Zi:qi,r.consume();break;case On.STAR:s.tagSelector(null,null),this.actions=o?Zi:qi,r.consume();break;default:this.actions=io,s.error("E_CSS_NAMESPACE",l)}else s.tagSelector(this.defaultNamespaceURI,null),this.actions=o?Zi:qi,r.consume();continue;case ao.SELECTOR_ID_1:l.precededBySpace&&s.descendantSelector();case ao.SELECTOR_ID:s.idSelector(l.text),this.actions=o?Zi:qi,r.consume();continue;case ao.SELECTOR_CLASS_1:l.precededBySpace&&s.descendantSelector();case ao.SELECTOR_CLASS:s.classSelector(l.text),this.actions=o?Zi:qi,r.consume();continue;case ao.SELECTOR_PSEUDOCLASS_1:l.precededBySpace&&s.descendantSelector();case ao.SELECTOR_PSEUDOCLASS:r.consume(),l=r.token();t:switch(l.type){case On.IDENT:s.pseudoclassSelector(l.text,null),r.consume(),this.actions=o?Zi:qi;continue;case On.FUNC:switch(u=l.text,r.consume(),u){case"not":this.actions=Ji,s.startFuncWithSelector("not"),this.runParser(Number.POSITIVE_INFINITY,!1,!1,!1,!0)?this.actions=qi:this.actions=so;break e;case"lang":case"href-epub-type":if(l=r.token(),l.type===On.IDENT){f=[l.text],r.consume();break}break t;case"nth-child":case"nth-of-type":case"nth-last-child":case"nth-last-of-type":if(f=this.readNthPseudoParams(),f)break;break t;default:f=this.readPseudoParams()}if(l=r.token(),l.type==On.C_PAR){s.pseudoclassSelector(u,f),r.consume(),this.actions=o?Zi:qi;continue}}s.error("E_CSS_PSEUDOCLASS_SYNTAX",l),this.actions=io;continue;case ao.SELECTOR_PSEUDOELEM:switch(r.consume(),l=r.token(),l.type){case On.IDENT:s.pseudoelementSelector(l.text,null),this.actions=o?Zi:qi,r.consume();continue;case On.FUNC:if(u=l.text,r.consume(),"nth-fragment"==u){if(f=this.readNthPseudoParams(),null===f)break}else f=this.readPseudoParams();if(l=r.token(),l.type==On.C_PAR){s.pseudoelementSelector(u,f),this.actions=o?Zi:qi,r.consume();continue}}s.error("E_CSS_PSEUDOELEM_SYNTAX",l),this.actions=io;continue;case ao.SELECTOR_ATTR_1:l.precededBySpace&&s.descendantSelector();case ao.SELECTOR_ATTR:if(r.consume(),l=r.token(),l.type==On.IDENT)u=l.text,r.consume();else if(l.type==On.STAR)u=null,r.consume();else{if(l.type!=On.BAR){this.actions=so,s.error("E_CSS_ATTR",l),r.consume();continue}u=""}if(l=r.token(),l.type==On.BAR){if(c=u?this.namespacePrefixToURI[u]:u,null==c){this.actions=so,s.error("E_CSS_UNDECLARED_PREFIX",l),r.consume();continue}if(r.consume(),l=r.token(),l.type!=On.IDENT){this.actions=so,s.error("E_CSS_ATTR_NAME_EXPECTED",l);continue}u=l.text,r.consume(),l=r.token()}else c="";switch(l.type){case On.EQ:case On.TILDE_EQ:case On.BAR_EQ:case On.HAT_EQ:case On.DOLLAR_EQ:case On.STAR_EQ:case On.COL_COL:d=l.type,r.consume(),l=r.token();break;case On.C_BRK:s.attributeSelector(c,u,On.EOF,null),this.actions=o?Zi:qi,r.consume();continue;default:this.actions=so,s.error("E_CSS_ATTR_OP_EXPECTED",l);continue}switch(l.type){case On.IDENT:case On.STR:s.attributeSelector(c,u,d,l.text),r.consume(),l=r.token();break;default:this.actions=so,s.error("E_CSS_ATTR_VAL_EXPECTED",l);continue}if(l.type!=On.C_BRK){this.actions=so,s.error("E_CSS_ATTR",l);continue}this.actions=o?Zi:qi,r.consume();continue;case ao.SELECTOR_CHILD:s.childSelector(),this.actions=Qi,r.consume();continue;case ao.SELECTOR_SIBLING:s.adjacentSiblingSelector(),this.actions=Qi,r.consume();continue;case ao.SELECTOR_FOLLOWING_SIBLING:s.followingSiblingSelector(),this.actions=Qi,r.consume();continue;case ao.SELECTOR_BODY:this.regionRule?(this.ruleStack.push("-epubx-region"),this.regionRule=!1):this.pageRule?(this.ruleStack.push("page"),this.pageRule=!1):this.ruleStack.push("[selector]"),s.startRuleBody(),this.actions=Ki,r.consume();continue;case ao.SELECTOR_NEXT:s.nextSelector(),this.actions=Ji,r.consume();continue;case ao.VAL_IDENT:a.push(Ct(l.text)),r.consume();continue;case ao.VAL_HASH:d=parseInt(l.text,16);try{a.push(Gi(l.text))}catch(e){s.error("E_CSS_COLOR",l),this.actions=io}r.consume();continue;case ao.VAL_NUM:a.push(new xt(l.num)),r.consume();continue;case ao.VAL_INT:a.push(new It(l.num)),r.consume();continue;case ao.VAL_NUMERIC:xe(l.text)?a.push(new Ft(new et(s.getScope(),l.num,l.text))):a.push(new Tt(l.num,l.text)),r.consume();continue;case ao.VAL_STR:a.push(new St(l.text)),r.consume();continue;case ao.VAL_URL:a.push(new At(O(l.text,this.baseURL))),r.consume();continue;case ao.VAL_COMMA:this.valStackReduce(",",l),a.push(","),r.consume();continue;case ao.VAL_SLASH:a.push(yt),r.consume();continue;case ao.VAL_FUNC:u=l.text.toLowerCase(),"-epubx-expr"==u||"calc"==u||"env"==u?(this.actions=to,this.exprContext=ho.PROP,a.push("{")):(a.push(u),a.push("(")),r.consume();continue;case ao.VAL_C_PAR:this.valStackReduce(")",l),r.consume();continue;case ao.VAL_BANG:if(r.consume(),l=r.token(),h=r.nthToken(1),l.type==On.IDENT&&"important"==l.text.toLowerCase()&&(h.type==On.SEMICOL||h.type==On.EOF||h.type==On.C_BRC)){r.consume(),this.propImportant=!0;continue}this.exprError("E_CSS_SYNTAX",l);continue;case ao.VAL_PLUS:switch(h=r.nthToken(1),h.type){case On.NUM:case On.NUMERIC:case On.INT:if(!h.precededBySpace){r.consume();continue}}if(this.actions===eo&&r.hasMark()){r.reset(),this.actions=Ji,s.startSelectorRule();continue}this.exprError("E_CSS_UNEXPECTED_PLUS",l);continue;case ao.VAL_END:r.consume();case ao.VAL_BRC:r.unmark(),p=this.valStackReduce(";",l),p&&this.propName&&s.property(this.propName,p,this.propImportant),this.actions=n?Yi:Ki;continue;case ao.VAL_FINISH:if(r.consume(),r.unmark(),p=this.valStackReduce(";",l),t)return this.result=p,!0;if(this.propName&&p&&s.property(this.propName,p,this.propImportant),n)return!0;this.exprError("E_CSS_SYNTAX",l);continue;case ao.EXPR_IDENT:h=r.nthToken(1),h.type==On.CLASS?(r.nthToken(2).type!=On.O_PAR||r.nthToken(2).precededBySpace?(a.push(new tt(s.getScope(),ve(l.text,h.text))),this.actions=no):(a.push(l.text,h.text,"("),r.consume()),r.consume()):(this.exprContext==ho.MEDIA||this.exprContext==ho.IMPORT?"not"==l.text.toLowerCase()?(r.consume(),a.push(new nt(s.getScope(),!0,h.text))):("only"==l.text.toLowerCase()&&(r.consume(),l=h),a.push(new nt(s.getScope(),!1,l.text))):a.push(new tt(s.getScope(),l.text)),this.actions=no),r.consume();continue;case ao.EXPR_FUNC:a.push(null,l.text,"("),r.consume();continue;case ao.EXPR_NUM:a.push(new rt(s.getScope(),l.num)),r.consume(),this.actions=no;continue;case ao.EXPR_NUMERIC:u=l.text,"%"==u&&(u=this.propName&&this.propName.match(/height|^(top|bottom)$/)?"vh":"vw"),a.push(new et(s.getScope(),l.num,u)),r.consume(),this.actions=no;continue;case ao.EXPR_STR:a.push(new rt(s.getScope(),l.text)),r.consume(),this.actions=no;continue;case ao.EXPR_PARAM:r.consume(),l=r.token(),l.type!=On.INT||l.precededBySpace?this.exprError("E_CSS_SYNTAX",l):(a.push(new lt(s.getScope(),l.num)),r.consume(),this.actions=no);continue;case ao.EXPR_PREFIX:a.push(-l.type),r.consume();continue;case ao.EXPR_INFIX:this.actions=to,this.exprStackReduce(l.type,l),a.push(l.type),r.consume();continue;case ao.EXPR_INFIX_NAME:"and"==l.text.toLowerCase()?(this.actions=to,this.exprStackReduce(lo,l),a.push(lo),r.consume()):this.exprError("E_CSS_SYNTAX",l);continue;case ao.EXPR_C_PAR:this.exprStackReduce(l.type,l)&&(this.propName?this.actions=eo:this.exprError("E_CSS_UNBALANCED_PAR",l)),r.consume();continue;case ao.EXPR_O_BRC:this.exprStackReduce(On.C_PAR,l)&&(this.propName||this.exprContext==ho.IMPORT?this.exprError("E_CSS_UNEXPECTED_BRC",l):(this.exprContext==ho.WHEN?s.startWhenRule(a.pop()):s.startMediaRule(a.pop()),this.ruleStack.push("media"),s.startRuleBody(),this.actions=Ki)),r.consume();continue;case ao.EXPR_SEMICOL:if(this.exprStackReduce(On.C_PAR,l)){if(!this.propName&&this.exprContext==ho.IMPORT)return this.importCondition=a.pop(),this.importReady=!0,this.actions=Ki,r.consume(),!1;this.exprError("E_CSS_UNEXPECTED_SEMICOL",l)}r.consume();continue;case ao.EXPR_O_PAR:a.push(l.type),r.consume();continue;case ao.RULE_END:this.actions=Ki,r.consume(),s.endRule(),this.ruleStack.length&&this.ruleStack.pop();continue;case ao.AT:switch(u=l.text.toLowerCase(),u){case"import":if(r.consume(),l=r.token(),l.type==On.STR||l.type==On.URL){if(this.importURL=l.text,r.consume(),l=r.token(),l.type==On.SEMICOL||l.type==On.EOF)return this.importReady=!0,r.consume(),!1;this.propName=null,this.exprContext=ho.IMPORT,this.actions=to,a.push("{");continue}s.error("E_CSS_IMPORT_SYNTAX",l),this.actions=io;continue;case"namespace":switch(r.consume(),l=r.token(),l.type){case On.IDENT:if(u=l.text,r.consume(),l=r.token(),(l.type==On.STR||l.type==On.URL)&&r.nthToken(1).type==On.SEMICOL){this.namespacePrefixToURI[u]=l.text,r.consume(),r.consume();continue}break;case On.STR:case On.URL:if(r.nthToken(1).type==On.SEMICOL){this.defaultNamespaceURI=l.text,r.consume(),r.consume();continue}}s.error("E_CSS_NAMESPACE_SYNTAX",l),this.actions=io;continue;case"charset":if(r.consume(),l=r.token(),l.type==On.STR&&r.nthToken(1).type==On.SEMICOL){u=l.text.toLowerCase(),"utf-8"!=u&&"utf-16"!=u&&s.error(`E_CSS_UNEXPECTED_CHARSET ${u}`,l),r.consume(),r.consume();continue}s.error("E_CSS_CHARSET_SYNTAX",l),this.actions=io;continue;case"font-face":case"-epubx-page-template":case"-epubx-define":case"-epubx-viewport":if(r.nthToken(1).type==On.O_BRC){switch(r.consume(),r.consume(),u){case"font-face":s.startFontFaceRule();break;case"-epubx-page-template":s.startPageTemplateRule();break;case"-epubx-define":s.startDefineRule();break;case"-epubx-viewport":s.startViewportRule()}this.ruleStack.push(u),s.startRuleBody();continue}break;case"-adapt-footnote-area":switch(r.consume(),l=r.token(),l.type){case On.O_BRC:r.consume(),s.startFootnoteRule(null),this.ruleStack.push(u),s.startRuleBody();continue;case On.COL_COL:if(r.consume(),l=r.token(),l.type==On.IDENT&&r.nthToken(1).type==On.O_BRC){u=l.text,r.consume(),r.consume(),s.startFootnoteRule(u),this.ruleStack.push("-adapt-footnote-area"),s.startRuleBody();continue}}break;case"-epubx-region":r.consume(),s.startRegionRule(),this.regionRule=!0,this.actions=Ji;continue;case"page":r.consume(),s.startPageRule(),this.pageRule=!0,this.actions=Qi;continue;case"top-left-corner":case"top-left":case"top-center":case"top-right":case"top-right-corner":case"right-top":case"right-middle":case"right-bottom":case"bottom-right-corner":case"bottom-right":case"bottom-center":case"bottom-left":case"bottom-left-corner":case"left-bottom":case"left-middle":case"left-top":if(r.consume(),l=r.token(),l.type==On.O_BRC){r.consume(),s.startPageMarginBoxRule(u),this.ruleStack.push(u),s.startRuleBody();continue}break;case"-epubx-when":r.consume(),this.propName=null,this.exprContext=ho.WHEN,this.actions=to,a.push("{");continue;case"media":r.consume(),this.propName=null,this.exprContext=ho.MEDIA,this.actions=to,a.push("{");continue;case"-epubx-flow":if(r.nthToken(1).type==On.IDENT&&r.nthToken(2).type==On.O_BRC){s.startFlowRule(r.nthToken(1).text),r.consume(),r.consume(),r.consume(),this.ruleStack.push(u),s.startRuleBody();continue}break;case"-epubx-page-master":case"-epubx-partition":case"-epubx-partition-group":{r.consume(),l=r.token();let e=null,t=null;const n=[];for(l.type==On.IDENT&&(e=l.text,r.consume(),l=r.token()),l.type==On.COLON&&r.nthToken(1).type==On.IDENT&&(t=r.nthToken(1).text,r.consume(),r.consume(),l=r.token());l.type==On.FUNC&&"class"==l.text.toLowerCase()&&r.nthToken(1).type==On.IDENT&&r.nthToken(2).type==On.C_PAR;)n.push(r.nthToken(1).text),r.consume(),r.consume(),r.consume(),l=r.token();if(l.type==On.O_BRC){switch(r.consume(),u){case"-epubx-page-master":s.startPageMasterRule(e,t,n);break;case"-epubx-partition":s.startPartitionRule(e,t,n);break;case"-epubx-partition-group":s.startPartitionGroupRule(e,t,n)}this.ruleStack.push(u),s.startRuleBody();continue}break}case"":s.error(`E_CSS_UNEXPECTED_AT${u}`,l),this.actions=so;continue;default:s.error(`E_CSS_AT_UNKNOWN ${u}`,l),this.actions=io;continue}s.error(`E_CSS_AT_SYNTAX ${u}`,l),this.actions=io;continue;case ao.ERROR_PUSH:if(t||n)return!0;this.errorBrackets.push(l.type+1),r.consume();continue;case ao.ERROR_POP_DECL:if(t||n)return!0;if(0==this.errorBrackets.length){this.actions=Ki;continue}case ao.ERROR_POP:this.errorBrackets.length>0&&this.errorBrackets[this.errorBrackets.length-1]==l.type&&this.errorBrackets.pop(),0==this.errorBrackets.length&&l.type==On.C_BRC&&(this.actions=Ki),r.consume();continue;case ao.ERROR_SEMICOL:if(t||n)return!0;0==this.errorBrackets.length&&(this.actions=Ki),r.consume();continue;case ao.DONE:return o&&(r.consume(),s.endFuncWithSelector()),!0;default:if(t||n)return!0;if(i)return!!this.exprStackReduce(On.C_PAR,l)&&(this.result=a.pop(),!0);if(o)return l.type==On.INVALID?s.error(l.text,l):s.error("E_CSS_SYNTAX",l),!1;if(this.actions===eo&&r.hasMark()){r.reset(),this.actions=Ji,s.startSelectorRule();continue}if(this.actions!==io&&this.actions!==so&&this.actions!==oo){l.type==On.INVALID?s.error(l.text,l):s.error("E_CSS_SYNTAX",l),this.isInsidePropertyOnlyRule()?this.actions=oo:this.actions=so;continue}r.consume();continue}return!1}}class uo extends $i{constructor(e){super(null),this.scope=e}error(e,t){throw new Error(e)}getScope(){return this.scope}}function po(e,t,n,i,o){const s=pi("parseStylesheet"),r=new co(Ki,e,t,n);let a=null;return o&&(a=function(e,t,n){const i=new co(to,e,t,n);return i.runParser(Number.POSITIVE_INFINITY,!1,!1,!0,!1),i.result}(new hi(o,t),t,n)),a=r.makeCondition(i,a&&a.toExpr()),a&&(t.startMediaRule(a),t.startRuleBody()),s.loop(()=>{for(;!r.runParser(100,!1,!1,!1,!1);){if(r.importReady){const e=O(r.importURL,n);r.importCondition&&(t.startMediaRule(r.importCondition),t.startRuleBody());const i=pi("parseStylesheet.import");return go(e,t,null,null).then(()=>{r.importCondition&&t.endRule(),r.importReady=!1,r.importURL=null,r.importCondition=null,i.finish(!0)}),i.result()}const e=s.timeSlice();if(e.isPending)return e}return fi(!1)}).then(()=>{a&&t.endRule(),s.finish(!0)}),s.result()}function fo(e,t,n,i,o){return gi("parseStylesheetFromText",s=>{po(new hi(e,t),t,n,i,o).thenFinish(s)},(t,n)=>{h.warn(n,`Failed to parse stylesheet text: ${e}`),t.finish(!1)})}function go(e,t,n,i){return gi("parseStylesheetFromURL",o=>{Ri(e).then(s=>{s.responseText?fo(s.responseText,t,e,n,i).then(t=>{t||h.warn(`Failed to parse stylesheet from ${e}`),o.finish(!0)}):o.finish(!0)})},(t,n)=>{h.warn(n,"Exception while fetching and parsing:",e),t.finish(!0)})}function mo(e,t,n){const i=new co(eo,t,new uo(e),n);return i.runParser(Number.POSITIVE_INFINITY,!0,!1,!1,!1),i.result}const bo={"z-index":!0,"column-count":!0,"flow-linger":!0,opacity:!0,page:!0,"flow-priority":!0,utilization:!0};function wo(e,t,n){const i=t.evaluate(e);switch(typeof i){case"number":return function(e){return!!bo[e]}(n)?i==Math.round(i)?new It(i):new xt(i):new Tt(i,"px");case"string":return i?mo(t.scope,new hi(i,null),""):wt;case"boolean":return i?Bt._true:Bt._false;case"undefined":return wt}throw new Error("E_UNEXPECTED")}function Eo(e,t,n){return t.isExpr()?wo(e,t.expr,n):t}function yo(e,t,n){return e-=n,0===t?0===e:e%t==0&&e/t>=0}class So{constructor(e){this.matchers=e}matches(){return this.matchers.some(e=>e.matches())}}class No{constructor(e){this.matchers=e}matches(){return this.matchers.every(e=>e.matches())}}class vo{constructor(e,t,n){this.elementOffset=e,this.a=t,this.b=n}static registerFragmentIndex(e,t,n){const i=vo.fragmentIndices;(!i[e]||i[e].priority<=n)&&(i[e]={fragmentIndex:t,priority:n})}static clearFragmentIndices(){vo.fragmentIndices={}}matches(){const e=vo.fragmentIndices[this.elementOffset];return null!=e&&null!=e.fragmentIndex&&yo(e.fragmentIndex,this.a,this.b)}}vo.fragmentIndices={};class Co{static buildViewConditionMatcher(e,t){const n=t.split("_");return"NFS"==n[0]?new vo(e,parseInt(n[1],10),parseInt(n[2],10)):null}static buildAllMatcher(e){return new No(e)}static buildAnyMatcher(e){return new So(e)}}const To={azimuth:!0,"border-collapse":!0,"border-spacing":!0,"caption-side":!0,"clip-rule":!0,color:!0,"color-interpolation":!0,"color-rendering":!0,cursor:!0,direction:!0,elevation:!0,"empty-cells":!0,fill:!0,"fill-opacity":!0,"fill-rule":!0,"font-kerning":!0,"font-size":!0,"font-size-adjust":!0,"font-family":!0,"font-feature-settings":!0,"font-style":!0,"font-stretch":!0,"font-variant":!0,"font-weight":!0,"glyph-orientation-vertical":!0,hyphens:!0,"hyphenate-character":!0,"hyphenate-limit-chars":!0,"hyphenate-limit-last":!0,"image-rendering":!0,"image-resolution":!0,"letter-spacing":!0,"line-break":!0,"line-height":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,marker:!0,"marker-end":!0,"marker-mid":!0,"marker-start":!0,orphans:!0,"overflow-wrap":!0,"paint-order":!0,"pointer-events":!0,"pitch-range":!0,quotes:!0,richness:!0,"ruby-align":!0,"ruby-position":!0,"speak-header":!0,"speak-numeral":!0,"speak-punctuation":!0,"speech-rate":!0,"shape-rendering":!0,stress:!0,stroke:!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-miterlimit":!0,"stroke-opacity":!0,"stroke-width":!0,"tab-size":!0,"text-align":!0,"text-align-last":!0,"text-anchor":!0,"text-decoration-skip":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-combine-upright":!0,"text-indent":!0,"text-justify":!0,"text-rendering":!0,"text-size-adjust":!0,"text-transform":!0,"text-underline-position":!0,visibility:!0,"voice-family":!0,volume:!0,"white-space":!0,widows:!0,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"writing-mode":!0},xo=["box-decoration-break","image-resolution","orphans","widows"];const Io={"http://www.idpf.org/2007/ops":!0,"http://www.w3.org/1999/xhtml":!0,"http://www.w3.org/2000/svg":!0},Po=["margin-%","padding-%","border-%-width","border-%-style","border-%-color","%"],Ao=["max-%","min-%","%"],Oo=(()=>{const e=["left","right","top","bottom"],t={width:!0,height:!0,"max-width":!0,"max-height":!0,"min-width":!0,"min-height":!0};for(let n=0;n<Po.length;n++)for(let i=0;i<e.length;i++)t[Po[n].replace("%",e[i])]=!0;return t})();function Ro(e,t){const n={};for(const t of Po)for(const i in e){const o=t.replace("%",i),s=t.replace("%",e[i]);n[o]=s,n[s]=o}for(const e of Ao)for(const i in t){const o=e.replace("%",i),s=e.replace("%",t[i]);n[o]=s,n[s]=o}return n}const Lo=Ro({"block-start":"right","block-end":"left","inline-start":"top","inline-end":"bottom"},{"block-size":"width","inline-size":"height"}),ko=Ro({"block-start":"top","block-end":"bottom","inline-start":"left","inline-end":"right"},{"block-size":"height","inline-size":"width"}),Fo=Ro({"block-start":"right","block-end":"left","inline-start":"bottom","inline-end":"top"},{"block-size":"width","inline-size":"height"}),Do=Ro({"block-start":"top","block-end":"bottom","inline-start":"right","inline-end":"left"},{"block-size":"height","inline-size":"width"});class _o{constructor(e,t){this.value=e,this.priority=t}getBaseValue(){return this}filterValue(e){const t=this.value.visit(e);return t===this.value?this:new _o(t,this.priority)}increaseSpecificity(e){return 0==e?this:new _o(this.value,this.priority+e)}evaluate(e,t){return Eo(e,this.value,t)}isEnabled(e){return!0}}class Bo extends _o{constructor(e,t,n){super(e,t),this.condition=n}getBaseValue(){return new _o(this.value,this.priority)}filterValue(e){const t=this.value.visit(e);return t===this.value?this:new Bo(t,this.priority,this.condition)}increaseSpecificity(e){return 0==e?this:new Bo(this.value,this.priority+e,this.condition)}isEnabled(e){return!!this.condition.evaluate(e)}}function Mo(e,t,n){return(null==t||n.priority>t.priority)&&n.isEnabled(e)?n.getBaseValue():t}const Uo={"region-id":!0,"fragment-selector-id":!0};function zo(e){return!!Uo[e]}function Vo(e){return"_"==e.charAt(0)}function Ho(e){return"_"!=e.charAt(0)&&!Uo[e]}function Go(e){return!!To[e]}function $o(e,t){return e[t]}function Wo(e,t,n){n?e[t]=n:delete e[t]}function Xo(e,t){return e[t]}function jo(e,t){let n=e[t];return n||(n={},e[t]=n),n}const Ko=e=>{let t=e._viewConditionalStyles;return t||(t=[],e._viewConditionalStyles=t),t};function Yo(e,t){return e[t]}function qo(e,t){let n=e[t];return n||(n=[],e[t]=n),n}function Zo(e,t,n,i,o,s,r){if([{id:o,styleKey:"_pseudos"},{id:s,styleKey:"_regions"}].forEach(e=>{if(e.id){const n=jo(t,e.styleKey);(t=n[e.id])||(t={},n[e.id]=t)}}),r){const e=Ko(t);t={},e.push({styles:t,matcher:r})}for(const o in n)if(!Vo(o))if(zo(o)){const e=Yo(n,o),i=qo(t,o);Array.prototype.push.apply(i,e)}else{const s=$o(n,o).increaseSpecificity(i),r=$o(t,o);Wo(t,o,Mo(e,r,s))}}function Qo(e,t){if(e.length>0){e.sort((e,t)=>t.getPriority()-e.getPriority());let n=null;for(let i=e.length-1;i>=0;i--)n=e[i],n.chained=t,t=n;return n}return t}class Jo extends gt{constructor(e,t){super(),this.props=e,this.context=t,this.propName=""}setPropName(e){this.propName=e}getFontSize(){const e=$o(this.props,"font-size").value;if(!function(e){switch(e.toLowerCase()){case"px":case"in":case"pt":case"pc":case"cm":case"mm":case"q":return!0;default:return!1}}(e.unit))throw new Error("Unexpected state");return e.num*Ie[e.unit]}visitNumeric(e){if(this.context,"font-size"===this.propName)return function(e,t,n){const i=(e=es(e,t,n)).unit,o=e.num;return"px"===i?e:new Tt("%"===i?o/100*t:o*n.queryUnitSize(i,!1),"px")}(e,this.getFontSize(),this.context);if("em"==e.unit||"ex"==e.unit||"rem"==e.unit)return es(e,this.getFontSize(),this.context);if("%"==e.unit){if("line-height"===this.propName)return e;const t=this.propName.match(/height|^(top|bottom)$/)?"vh":"vw";return new Tt(e.num,t)}return e}visitExpr(e){return"font-size"==this.propName?Eo(this.context,e,this.propName).visit(this):e}}function es(e,t,n){const i=e.unit,o=e.num;if("em"===i||"ex"===i){const e=Ie[i]/Ie.em;return new Tt(o*e*t,"px")}return"rem"===i?new Tt(o*n.fontSize(),"px"):e}class ts{apply(e){}mergeWith(e){return new is([this,e])}clone(){return this}}class ns extends ts{constructor(e){super(),this.conditionItem=e}apply(e){e.pushConditionItem(this.conditionItem.fresh(e))}}class is extends ts{constructor(e){super(),this.list=e}apply(e){for(let t=0;t<this.list.length;t++)this.list[t].apply(e)}mergeWith(e){return this.list.push(e),this}clone(){return new is([].concat(this.list))}}class os extends ts{constructor(e,t,n,i,o){super(),this.style=e,this.specificity=t,this.pseudoelement=n,this.regionId=i,this.viewConditionId=o}apply(e){Zo(e.context,e.currentStyle,this.style,this.specificity,this.pseudoelement,this.regionId,e.buildViewConditionMatcher(this.viewConditionId))}}class ss extends ts{constructor(){super(),this.chained=null}apply(e){this.chained.apply(e)}getPriority(){return 0}makePrimary(e){return!1}}class rs extends ss{constructor(e){super(),this.className=e}apply(e){e.currentClassNames.includes(this.className)&&this.chained.apply(e)}getPriority(){return 10}makePrimary(e){return this.chained&&e.insertInTable(e.classes,this.className,this.chained),!0}}class as extends ss{constructor(e){super(),this.id=e}apply(e){e.currentId!=this.id&&e.currentXmlId!=this.id||this.chained.apply(e)}getPriority(){return 11}makePrimary(e){return this.chained&&e.insertInTable(e.ids,this.id,this.chained),!0}}class ls extends ss{constructor(e){super(),this.localName=e}apply(e){e.currentLocalName==this.localName&&this.chained.apply(e)}getPriority(){return 8}makePrimary(e){return this.chained&&e.insertInTable(e.tags,this.localName,this.chained),!0}}class hs extends ss{constructor(e,t){super(),this.ns=e,this.localName=t}apply(e){e.currentLocalName==this.localName&&e.currentNamespace==this.ns&&this.chained.apply(e)}getPriority(){return 8}makePrimary(e){if(this.chained){let t=e.nsPrefix[this.ns];t||(t=`ns${e.nsCount++}:`,e.nsPrefix[this.ns]=t);const n=t+this.localName;e.insertInTable(e.nstags,n,this.chained)}return!0}}class cs extends ss{constructor(e){super(),this.epubTypePatt=e}apply(e){const t=e.currentElement;if(t&&"a"==e.currentLocalName){const n=t.getAttribute("href");if(n&&n.match(/^#/)){const i=n.substring(1),o=t.ownerDocument.getElementById(i);if(o){const t=o.getAttributeNS(L.epub,"type");t&&t.match(this.epubTypePatt)&&this.chained.apply(e)}}}}}class us extends ss{constructor(e){super(),this.ns=e}apply(e){e.currentNamespace==this.ns&&this.chained.apply(e)}}class ds extends ss{constructor(e,t){super(),this.ns=e,this.name=t}apply(e){e.currentElement&&e.currentElement.hasAttributeNS(this.ns,this.name)&&this.chained.apply(e)}}class ps extends ss{constructor(e,t,n){super(),this.ns=e,this.name=t,this.value=n}apply(e){e.currentElement&&e.currentElement.getAttributeNS(this.ns,this.name)==this.value&&this.chained.apply(e)}getPriority(){return"type"==this.name&&this.ns==L.epub?9:0}makePrimary(e){return"type"==this.name&&this.ns==L.epub&&(this.chained&&e.insertInTable(e.epubtypes,this.value,this.chained),!0)}}class fs extends ss{constructor(e,t){super(),this.ns=e,this.name=t}apply(e){if(e.currentElement){const t=e.currentElement.getAttributeNS(this.ns,this.name);t&&Io[t]&&this.chained.apply(e)}}getPriority(){return 0}makePrimary(e){return!1}}class gs extends ss{constructor(e,t,n){super(),this.ns=e,this.name=t,this.regexp=n}apply(e){if(e.currentElement){const t=e.currentElement.getAttributeNS(this.ns,this.name);t&&t.match(this.regexp)&&this.chained.apply(e)}}}class ms extends ss{constructor(e){super(),this.langRegExp=e}apply(e){e.lang.match(this.langRegExp)&&this.chained.apply(e)}}class bs extends ss{constructor(){super()}apply(e){e.isFirst&&this.chained.apply(e)}getPriority(){return 6}}class ws extends ss{constructor(){super()}apply(e){e.isRoot&&this.chained.apply(e)}getPriority(){return 12}}class Es extends ss{constructor(e,t){super(),this.a=e,this.b=t}matchANPlusB(e){return yo(e,this.a,this.b)}}class ys extends Es{constructor(e,t){super(e,t)}apply(e){const t=e.currentSiblingTypeCounts[e.currentNamespace][e.currentLocalName];this.matchANPlusB(t)&&this.chained.apply(e)}getPriority(){return 5}}class Ss extends Es{constructor(e,t){super(e,t)}apply(e){let t=e.currentFollowingSiblingOrder;null===t&&(t=e.currentFollowingSiblingOrder=e.currentElement.parentNode.childElementCount-e.currentSiblingOrder+1),this.matchANPlusB(t)&&this.chained.apply(e)}getPriority(){return 4}}class Ns extends Es{constructor(e,t){super(e,t)}apply(e){const t=e.currentFollowingSiblingTypeCounts;if(!t[e.currentNamespace]){let n=e.currentElement;do{const e=n.namespaceURI,i=n.localName;let o=t[e];o||(o=t[e]={}),o[i]=(o[i]||0)+1}while(n=n.nextElementSibling)}this.matchANPlusB(t[e.currentNamespace][e.currentLocalName])&&this.chained.apply(e)}getPriority(){return 4}}class vs extends ss{constructor(){super()}apply(e){let t=e.currentElement.firstChild;for(;t;){switch(t.nodeType){case Node.ELEMENT_NODE:return;case Node.TEXT_NODE:if(t.length>0)return}t=t.nextSibling}this.chained.apply(e)}getPriority(){return 4}}class Cs extends ss{constructor(){super()}apply(e){!1===e.currentElement.disabled&&this.chained.apply(e)}getPriority(){return 5}}class Ts extends ss{constructor(){super()}apply(e){!0===e.currentElement.disabled&&this.chained.apply(e)}getPriority(){return 5}}class xs extends ss{constructor(){super()}apply(e){const t=e.currentElement;!0!==t.selected&&!0!==t.checked||this.chained.apply(e)}getPriority(){return 5}}class Is extends ss{constructor(e){super(),this.condition=e}apply(e){if(e.conditions[this.condition])try{e.dependentConditions.push(this.condition),this.chained.apply(e)}finally{e.dependentConditions.pop()}}getPriority(){return 5}}class Ps extends ts{constructor(){super(),this.applied=!1}apply(e){this.applied=!0}clone(){const e=new Ps;return e.applied=this.applied,e}}class As extends ss{constructor(e){super(),this.checkAppliedAction=new Ps,this.firstAction=Qo(e,this.checkAppliedAction)}apply(e){this.firstAction.apply(e),this.checkAppliedAction.applied||this.chained.apply(e),this.checkAppliedAction.applied=!1}getPriority(){return this.firstAction.getPriority()}}class Os{constructor(e,t,n){this.condition=e,this.viewConditionId=t,this.viewCondition=n}increment(e){e.increment(this.condition,this.viewCondition)}decrement(e){e.decrement(this.condition,this.viewCondition)}buildViewConditionMatcher(e){return e.buildViewConditionMatcher(this.viewConditionId)}}class Rs extends Os{constructor(e,t,n){super(e,t,n)}fresh(e){return new Rs(this.condition,this.viewConditionId,this.buildViewConditionMatcher(e))}push(e,t){return 0==t&&this.increment(e),!1}pop(e,t){return 0==t&&(this.decrement(e),!0)}}class Ls extends Os{constructor(e,t,n){super(e,t,n)}fresh(e){return new Ls(this.condition,this.viewConditionId,this.buildViewConditionMatcher(e))}push(e,t){return 0==t?this.increment(e):1==t&&this.decrement(e),!1}pop(e,t){return 0==t?(this.decrement(e),!0):(1==t&&this.increment(e),!1)}}class ks extends Os{constructor(e,t,n){super(e,t,n),this.fired=!1}fresh(e){return new ks(this.condition,this.viewConditionId,this.buildViewConditionMatcher(e))}push(e,t){return!!this.fired&&(this.decrement(e),!0)}pop(e,t){return this.fired?(this.decrement(e),!0):(0==t&&(this.fired=!0,this.increment(e)),!1)}}class Fs extends Os{constructor(e,t,n){super(e,t,n),this.fired=!1}fresh(e){return new Fs(this.condition,this.viewConditionId,this.buildViewConditionMatcher(e))}push(e,t){return this.fired&&(-1==t?this.increment(e):0==t&&this.decrement(e)),!1}pop(e,t){if(this.fired){if(-1==t)return this.decrement(e),!0;0==t&&this.increment(e)}else 0==t&&(this.fired=!0,this.increment(e));return!1}}class Ds{constructor(e,t){this.afterprop=e,this.element=t}fresh(e){return this}push(e,t){return!1}pop(e,t){return 0==t&&(e.processPseudoelementProps(this.afterprop,this.element),!0)}}class _s{constructor(e){this.lang=e}fresh(e){return this}push(e,t){return!1}pop(e,t){return 0==t&&(e.lang=this.lang,!0)}}class Bs{constructor(e){this.oldQuotes=e}fresh(e){return this}push(e,t){return!1}pop(e,t){return 0==t&&(e.quotes=this.oldQuotes,!0)}}class Ms extends gt{constructor(e){super(),this.element=e}createValueFromString(e,t){switch(t){case"url":return new At(e||"about:invalid");case"string":default:return new St(e||"")}}visitFunc(e){if("attr"!==e.name)return super.visitFunc(e);let t="string",n=null,i=null;if(e.values[0]instanceof Rt){const i=e.values[0].values;i.length>=2&&(t=i[1].stringValue()),n=i[0].stringValue()}else n=e.values[0].stringValue();return i=e.values.length>1?this.createValueFromString(e.values[1].stringValue(),t):this.createValueFromString(null,t),this.element&&this.element.hasAttribute(n)?this.createValueFromString(this.element.getAttribute(n),t):i}}class Us extends gt{constructor(e,t,n){super(),this.cascade=e,this.element=t,this.counterResolver=n}visitIdent(e){const t=this.cascade,n=t.quotes,i=Math.floor(n.length/2)-1;switch(e.name){case"open-quote":{const e=n[2*Math.min(i,t.quoteDepth)];return t.quoteDepth++,e}case"close-quote":return t.quoteDepth>0&&t.quoteDepth--,n[2*Math.min(i,t.quoteDepth)+1];case"no-open-quote":return t.quoteDepth++,new St("");case"no-close-quote":return t.quoteDepth>0&&t.quoteDepth--,new St("")}return e}format(e,t){let n,i=!1,o=!1;null!=(n=t.match(/^upper-(.*)/))?(i=!0,t=n[1]):null!=(n=t.match(/^lower-(.*)/))&&(o=!0,t=n[1]);let s="";return zs[t]?s=function(e,t){if(t>e[0]||t<=0||t!=Math.round(t))return"";let n="";for(let i=1;i<e.length;i+=2){const o=e[i];let s=Math.floor(t/o);if(s>20)return"";for(t-=s*o;s>0;)n+=e[i+1],s--}return n}(zs[t],e):Vs[t]?s=function(e,t){if(t<=0||t!=Math.round(t))return"";const n=function(e){const t=[];let n=0;for(;n<e.length;)if("-"==e.substr(n+1,1)){const i=e.charCodeAt(n),o=e.charCodeAt(n+2);n+=3;for(let e=i;e<=o;e++)t.push(String.fromCharCode(e))}else t.push(e.substr(n++,1));return t}(e);let i="";do{const e=--t%n.length;i=n[e]+i,t=(t-e)/n.length}while(t>0);return i}(Vs[t],e):null!=Hs[t]?s=Hs[t]:"decimal-leading-zero"==t?(s=`${e}`,1==s.length&&(s=`0${s}`)):s="cjk-ideographic"==t||"trad-chinese-informal"==t?function(e,t){if(e>9999||e<-9999)return`${e}`;if(0==e)return t.digits.charAt(0);const n=new H;if(e<0&&(n.append(t.negative),e=-e),e<10)n.append(t.digits.charAt(e));else if(!t.formal&&e<=19)n.append(t.markers.charAt(0)),0!=e&&n.append(t.digits.charAt(e-10));else{const i=Math.floor(e/1e3);i&&(n.append(t.digits.charAt(i)),n.append(t.markers.charAt(2)));const o=Math.floor(e/100)%10;o&&(n.append(t.digits.charAt(o)),n.append(t.markers.charAt(1)));const s=Math.floor(e/10)%10;s&&(n.append(t.digits.charAt(s)),n.append(t.markers.charAt(0)));const r=e%10;r&&n.append(t.digits.charAt(r))}return n.toString()}(e,Gs):`${e}`,i?s.toUpperCase():o?s.toLowerCase():s}visitFuncCounter(e){const t=e[0].toString(),n=e.length>1?e[1].stringValue():"decimal",i=this.cascade.counters[t];if(i&&i.length){const e=i&&i.length&&i[i.length-1]||0;return new St(this.format(e,n))}{const e=this,i=new Ft(this.counterResolver.getPageCounterVal(t,t=>e.format(t||0,n)));return new Rt([i])}}visitFuncCounters(e){const t=e[0].toString(),n=e[1].stringValue(),i=e.length>2?e[2].stringValue():"decimal",o=this.cascade.counters[t],s=new H;if(o&&o.length)for(let e=0;e<o.length;e++)e>0&&s.append(n),s.append(this.format(o[e],i));const r=this,a=new Ft(this.counterResolver.getPageCountersVal(t,e=>{const t=[];if(e.length)for(let n=0;n<e.length;n++)t.push(r.format(e[n],i));const o=s.toString();return o.length&&t.push(o),t.length?t.join(n):r.format(0,i)}));return new Rt([a])}visitFuncTargetCounter(e){const t=e[0];let n;n=t instanceof At?t.url:t.stringValue();const i=e[1].toString(),o=e.length>2?e[2].stringValue():"decimal",s=this,r=new Ft(this.counterResolver.getTargetCounterVal(n,i,e=>s.format(e||0,o)));return new Rt([r])}visitFuncTargetCounters(e){const t=e[0];let n;n=t instanceof At?t.url:t.stringValue();const i=e[1].toString(),o=e[2].stringValue(),s=e.length>3?e[3].stringValue():"decimal",r=this,a=new Ft(this.counterResolver.getTargetCountersVal(n,i,e=>{const t=e.map(e=>r.format(e,s));return t.length?t.join(o):r.format(0,s)}));return new Rt([a])}visitFunc(e){switch(e.name){case"counter":if(e.values.length<=2)return this.visitFuncCounter(e.values);break;case"counters":if(e.values.length<=3)return this.visitFuncCounters(e.values);break;case"target-counter":if(e.values.length<=3)return this.visitFuncTargetCounter(e.values);break;case"target-counters":if(e.values.length<=4)return this.visitFuncTargetCounters(e.values)}return h.warn("E_CSS_CONTENT_PROP:",e.toString()),new St("")}}const zs={roman:[4999,1e3,"M",900,"CM",500,"D",400,"CD",100,"C",90,"XC",50,"L",40,"XL",10,"X",9,"IX",5,"V",4,"IV",1,"I"],armenian:[9999,9e3,"",8e3,"",7e3,"",6e3,"",5e3,"",4e3,"",3e3,"",2e3,"",1e3,"",900,"",800,"",700,"",600,"",500,"",400,"",300,"",200,"",100,"",90,"",80,"",70,"",60,"",50,"",40,"",30,"",20,"",10,"",9,"",8,"",7,"",6,"",5,"",4,"",3,"",2,"",1,""],georgian:[19999,1e4,"",9e3,"",8e3,"",7e3,"",6e3,"",5e3,"",4e3,"",3e3,"",2e3,"",1e3,"",900,"",800,"",700,"",600,"",500,"",400,"",300,"",200,"",100,"",90,"",80,"",70,"",60,"",50,"",40,"",30,"",20,"",10,"",9,"",8,"",7,"",6,"",5,"",4,"",3,"",2,"",1,""],hebrew:[999,400,"",300,"",200,"",100,"",90,"",80,"",70,"",60,"",50,"",40,"",30,"",20,"",19,"",18,"",17,"",16,"",15,"",10,"",9,"",8,"",7,"",6,"",5,"",4,"",3,"",2,"",1,""]},Vs={latin:"a-z",alpha:"a-z",greek:"--",russian:"---"},Hs={square:"",disc:"",circle:"",none:""};const Gs={formal:!1,digits:"",markers:"",negative:""};const $s=1/1048576;function Ws(e,t){for(const n in e)t[n]=e[n].clone()}class Xs{constructor(){this.nsCount=0,this.nsPrefix={},this.tags={},this.nstags={},this.epubtypes={},this.classes={},this.ids={},this.pagetypes={},this.order=0}clone(){const e=new Xs;e.nsCount=this.nsCount;for(const t in this.nsPrefix)e.nsPrefix[t]=this.nsPrefix[t];return Ws(this.tags,e.tags),Ws(this.nstags,e.nstags),Ws(this.epubtypes,e.epubtypes),Ws(this.classes,e.classes),Ws(this.ids,e.ids),Ws(this.pagetypes,e.pagetypes),e.order=this.order,e}insertInTable(e,t,n){const i=e[t];i&&(n=i.mergeWith(n)),e[t]=n}createInstance(e,t,n,i){return new js(this,e,t,n,i)}nextOrder(){return this.order+=$s}}class js{constructor(e,t,n,i,o){this.context=t,this.counterListener=n,this.counterResolver=i,this.stack=[[],[]],this.conditions={},this.currentElement=null,this.currentElementOffset=null,this.currentStyle=null,this.currentClassNames=null,this.currentLocalName="",this.currentNamespace="",this.currentId="",this.currentXmlId="",this.currentNSTag="",this.currentEpubTypes=null,this.currentPageType=null,this.isFirst=!0,this.isRoot=!0,this.counters={},this.counterScoping=[{}],this.quoteDepth=0,this.lang="",this.siblingOrderStack=[0],this.currentSiblingOrder=0,this.siblingTypeCountsStack=[{}],this.currentFollowingSiblingOrder=null,this.followingSiblingTypeCountsStack=[{}],this.viewConditions={},this.dependentConditions=[],this.code=e,this.quotes=[new St(""),new St(""),new St(""),new St("")],this.currentSiblingTypeCounts=this.siblingTypeCountsStack[0],this.followingSiblingOrderStack=[this.currentFollowingSiblingOrder],this.currentFollowingSiblingTypeCounts=this.siblingTypeCountsStack[0]}pushConditionItem(e){this.stack[this.stack.length-1].push(e)}increment(e,t){this.conditions[e]=(this.conditions[e]||0)+1,t&&(this.viewConditions[e]?this.viewConditions[e].push(t):this.viewConditions[e]=[t])}decrement(e,t){this.conditions[e]--,this.viewConditions[e]&&(this.viewConditions[e]=this.viewConditions[e].filter(e=>e!==t),0===this.viewConditions[e].length&&delete this.viewConditions[e])}buildViewConditionMatcher(e){let t=null;e&&(this.currentElementOffset,t=Co.buildViewConditionMatcher(this.currentElementOffset,e));const n=this.dependentConditions.map(e=>{const t=this.viewConditions[e];return t&&t.length>0?1===t.length?t[0]:Co.buildAnyMatcher([].concat(t)):null}).filter(e=>e);return n.length<=0?t:null===t?1===n.length?n[0]:Co.buildAllMatcher(n):Co.buildAllMatcher([t].concat(n))}applyAction(e,t){const n=e[t];n&&n.apply(this)}pushRule(e,t,n){this.currentElement=null,this.currentElementOffset=null,this.currentStyle=n,this.currentNamespace="",this.currentLocalName="",this.currentId="",this.currentXmlId="",this.currentClassNames=e,this.currentNSTag="",this.currentEpubTypes=Ks,this.currentPageType=t,this.applyActions()}defineCounter(e,t){this.counters[e]?this.counters[e].push(t):this.counters[e]=[t];let n=this.counterScoping[this.counterScoping.length-1];n||(n={},this.counterScoping[this.counterScoping.length-1]=n),n[e]=!0}pushCounters(e){let t=Bt.inline;const n=e.display;n&&(t=n.evaluate(this.context));let i=null,o=null,s=null;const r=e["counter-reset"];if(r){const e=r.evaluate(this.context);e&&(i=En(e,!0))}const a=e["counter-set"];if(a){const e=a.evaluate(this.context);e&&(s=En(e,!1))}const l=e["counter-increment"];if(l){const e=l.evaluate(this.context);e&&(o=En(e,!1))}if("ol"!=this.currentLocalName&&"ul"!=this.currentLocalName||this.currentNamespace!=L.XHTML||(i||(i={}),i["ua-list-item"]=0),t===Bt.list_item&&(o||(o={}),o["ua-list-item"]=1),i)for(const e in i)this.defineCounter(e,i[e]);if(s)for(const e in s)if(this.counters[e]){const t=this.counters[e];t[t.length-1]=s[e]}else this.defineCounter(e,s[e]);if(o)for(const e in o){this.counters[e]||this.defineCounter(e,0);const t=this.counters[e];t[t.length-1]+=o[e]}if(t===Bt.list_item){const t=this.counters["ua-list-item"],n=t[t.length-1];e["ua-list-item-count"]=new _o(new xt(n),0)}this.counterScoping.push(null)}popCounters(){const e=this.counterScoping.pop();if(e)for(const t in e){const e=this.counters[t];e&&(1==e.length?delete this.counters[t]:e.pop())}}processPseudoelementProps(e,t){this.pushCounters(e),e.content&&(e.content=e.content.filterValue(new Us(this,t,this.counterResolver))),this.popCounters()}pushElement(e,t,n){this.currentPageType=null,this.currentElement=e,this.currentElementOffset=n,this.currentStyle=t,this.currentNamespace=e.namespaceURI,this.currentLocalName=e.localName;const i=this.code.nsPrefix[this.currentNamespace];this.currentNSTag=i?i+this.currentLocalName:"",this.currentId=e.getAttribute("id"),this.currentXmlId=e.getAttributeNS(L.XML,"id");const o=e.getAttribute("class");this.currentClassNames=o?o.split(/\s+/):Ks;const s=e.getAttributeNS(L.epub,"type");if(this.currentEpubTypes=s?s.split(/\s+/):Ks,"style"==this.currentLocalName&&this.currentNamespace==L.FB2){const t=e.getAttribute("name")||"";this.currentClassNames=[t]}const r=V(e);r&&(this.stack[this.stack.length-1].push(new _s(this.lang)),this.lang=r.toLowerCase());const a=this.isRoot,l=this.siblingOrderStack;this.currentSiblingOrder=++l[l.length-1],l.push(0);const h=this.siblingTypeCountsStack,c=this.currentSiblingTypeCounts=h[h.length-1];let u=c[this.currentNamespace];u||(u=c[this.currentNamespace]={}),u[this.currentLocalName]=(u[this.currentLocalName]||0)+1,h.push({});const d=this.followingSiblingOrderStack;null!==d[d.length-1]?this.currentFollowingSiblingOrder=--d[d.length-1]:this.currentFollowingSiblingOrder=null,d.push(null);const p=this.followingSiblingTypeCountsStack,f=this.currentFollowingSiblingTypeCounts=p[p.length-1];f&&f[this.currentNamespace]&&f[this.currentNamespace][this.currentLocalName]--,p.push({}),this.applyActions(),this.applyAttrFilter(e);const g=t.quotes;let m=null;if(g){const e=g.evaluate(this.context);e&&(m=new Bs(this.quotes),e===Bt.none?this.quotes=[new St(""),new St("")]:e instanceof Rt&&(this.quotes=e.values))}this.pushCounters(this.currentStyle);const b=this.currentId||this.currentXmlId||e.getAttribute("name")||"";if(a||b){const e={};Object.keys(this.counters).forEach(t=>{e[t]=Array.from(this.counters[t])}),this.counterListener.countersOfId(b,e)}const w=Xo(this.currentStyle,"_pseudos");if(w){let t=!0;for(const n of Ys){n||(t=!1);const i=w[n];i&&(t?this.processPseudoelementProps(i,e):this.stack[this.stack.length-2].push(new Ds(i,e)))}}m&&this.stack[this.stack.length-2].push(m)}applyAttrFilterInner(e,t){for(const n in t)Ho(n)&&(t[n]=t[n].filterValue(e))}applyAttrFilter(e){const t=new Ms(e),n=this.currentStyle,i=Xo(n,"_pseudos");for(const e in i)this.applyAttrFilterInner(t,i[e]);this.applyAttrFilterInner(t,n)}applyActions(){let e;for(e=0;e<this.currentClassNames.length;e++)this.applyAction(this.code.classes,this.currentClassNames[e]);for(e=0;e<this.currentEpubTypes.length;e++)this.applyAction(this.code.epubtypes,this.currentEpubTypes[e]);this.applyAction(this.code.ids,this.currentId),this.applyAction(this.code.tags,this.currentLocalName),""!=this.currentLocalName&&this.applyAction(this.code.tags,"*"),this.applyAction(this.code.nstags,this.currentNSTag),null!==this.currentPageType&&(this.applyAction(this.code.pagetypes,this.currentPageType),this.applyAction(this.code.pagetypes,"*")),this.currentElement=null,this.currentDoc=null,this.stack.push([]);for(let t=1;t>=-1;--t){const n=this.stack[this.stack.length-t-2];for(e=0;e<n.length;)n[e].push(this,t)?n.splice(e,1):e++}this.isFirst=!0,this.isRoot=!1}pop(){for(let e=1;e>=-1;--e){const t=this.stack[this.stack.length-e-2];let n=0;for(;n<t.length;)t[n].pop(this,e)?t.splice(n,1):n++}this.stack.pop(),this.isFirst=!1}popRule(){this.pop()}popElement(e){this.siblingOrderStack.pop(),this.siblingTypeCountsStack.pop(),this.followingSiblingOrderStack.pop(),this.followingSiblingTypeCountsStack.pop(),this.pop(),this.popCounters()}}const Ks=[],Ys=["before","transclusion-before","footnote-call","footnote-marker","inner","first-letter","first-line","","transclusion-after","after"];var qs;!function(e){e[e.TOP=0]="TOP",e[e.SELECTOR=1]="SELECTOR",e[e.RULE=2]="RULE"}(qs||(qs={}));let Zs=null;class Qs extends ji{constructor(e,t,n,i,o,s,r){super(e,t,r),this.condition=n,this.regionId=o,this.validatorSet=s,this.chain=null,this.specificity=0,this.elementStyle=null,this.conditionCount=0,this.pseudoelement=null,this.footnoteContent=!1,this.viewConditionId=null,this.cascade=i?i.cascade:Zs?Zs.clone():new Xs,this.state=qs.TOP}insertNonPrimary(e){this.cascade.insertInTable(this.cascade.tags,"*",e)}processChain(e){const t=Qo(this.chain,e);t!==e&&t.makePrimary(this.cascade)||this.insertNonPrimary(t)}isInsideSelectorRule(e){return this.state!=qs.TOP&&(this.reportAndSkip(e),!0)}tagSelector(e,t){(t||e)&&(this.specificity+=1,t&&e?this.chain.push(new hs(e,t.toLowerCase())):t?this.chain.push(new ls(t.toLowerCase())):this.chain.push(new us(e)))}classSelector(e){if(this.pseudoelement)return h.warn(`::${this.pseudoelement}`,`followed by .${e}`),void this.chain.push(new Is(""));this.specificity+=256,this.chain.push(new rs(e))}pseudoclassSelector(e,t){if(this.pseudoelement)return h.warn(`::${this.pseudoelement}`,`followed by :${e}`),void this.chain.push(new Is(""));switch(e.toLowerCase()){case"enabled":this.chain.push(new Cs);break;case"disabled":this.chain.push(new Ts);break;case"checked":this.chain.push(new xs);break;case"root":this.chain.push(new ws);break;case"link":this.chain.push(new ls("a")),this.chain.push(new ds("","href"));break;case"-adapt-href-epub-type":case"href-epub-type":if(t&&1==t.length&&"string"==typeof t[0]){const e=t[0],n=new RegExp(`(^|s)${Y(e)}($|s)`);this.chain.push(new cs(n))}else this.chain.push(new Is(""));break;case"-adapt-footnote-content":case"footnote-content":this.footnoteContent=!0;break;case"visited":case"active":case"hover":case"focus":this.chain.push(new Is(""));break;case"lang":if(t&&1==t.length&&"string"==typeof t[0]){const e=t[0];this.chain.push(new ms(new RegExp(`^${Y(e.toLowerCase())}($|-)`)))}else this.chain.push(new Is(""));break;case"nth-child":case"nth-last-child":case"nth-of-type":case"nth-last-of-type":{const n=Js[e.toLowerCase()];t&&2==t.length?this.chain.push(new n(t[0],t[1])):this.chain.push(new Is(""));break}case"first-child":this.chain.push(new bs);break;case"last-child":this.chain.push(new Ss(0,1));break;case"first-of-type":this.chain.push(new ys(0,1));break;case"last-of-type":this.chain.push(new Ns(0,1));break;case"only-child":this.chain.push(new bs),this.chain.push(new Ss(0,1));break;case"only-of-type":this.chain.push(new ys(0,1)),this.chain.push(new Ns(0,1));break;case"empty":this.chain.push(new vs);break;case"before":case"after":case"first-line":case"first-letter":return void this.pseudoelementSelector(e,t);default:h.warn(`unknown pseudo-class selector: ${e}`),this.chain.push(new Is(""))}this.specificity+=256}pseudoelementSelector(e,t){switch(e){case"before":case"after":case"first-line":case"first-letter":case"footnote-call":case"footnote-marker":case"inner":case"after-if-continues":this.pseudoelement?(h.warn(`Double pseudoelement ::${this.pseudoelement}::${e}`),this.chain.push(new Is(""))):this.pseudoelement=e;break;case"first-n-lines":if(t&&1==t.length&&"number"==typeof t[0]){const n=Math.round(t[0]);if(n>0&&n==t[0]){this.pseudoelement?(h.warn(`Double pseudoelement ::${this.pseudoelement}::${e}`),this.chain.push(new Is(""))):this.pseudoelement=`first-${n}-lines`;break}}this.chain.push(new Is(""));break;case"nth-fragment":t&&2==t.length?this.viewConditionId=`NFS_${t[0]}_${t[1]}`:this.chain.push(new Is(""));break;default:h.warn(`Unrecognized pseudoelement: ::${e}`),this.chain.push(new Is(""))}this.specificity+=1}idSelector(e){this.specificity+=65536,this.chain.push(new as(e))}attributeSelector(e,t,n,i){let o;switch(this.specificity+=256,t=t.toLowerCase(),i=i||"",n){case On.EOF:o=new ds(e,t);break;case On.EQ:o=new ps(e,t,i);break;case On.TILDE_EQ:o=!i||i.match(/\s/)?new Is(""):new gs(e,t,new RegExp(`(^|\\s)${Y(i)}($|\\s)`));break;case On.BAR_EQ:o=new gs(e,t,new RegExp(`^${Y(i)}($|-)`));break;case On.HAT_EQ:o=i?new gs(e,t,new RegExp(`^${Y(i)}`)):new Is("");break;case On.DOLLAR_EQ:o=i?new gs(e,t,new RegExp(`${Y(i)}$`)):new Is("");break;case On.STAR_EQ:o=i?new gs(e,t,new RegExp(Y(i))):new Is("");break;case On.COL_COL:"supported"==i?o=new fs(e,t):(h.warn("Unsupported :: attr selector op:",i),o=new Is(""));break;default:h.warn("Unsupported attr selector:",n),o=new Is("")}this.chain.push(o)}descendantSelector(){const e=`d${er++}`;this.processChain(new ns(new Rs(e,this.viewConditionId,null))),this.chain=[new Is(e)],this.viewConditionId=null}childSelector(){const e=`c${er++}`;this.processChain(new ns(new Ls(e,this.viewConditionId,null))),this.chain=[new Is(e)],this.viewConditionId=null}adjacentSiblingSelector(){const e=`a${er++}`;this.processChain(new ns(new ks(e,this.viewConditionId,null))),this.chain=[new Is(e)],this.viewConditionId=null}followingSiblingSelector(){const e=`f${er++}`;this.processChain(new ns(new Fs(e,this.viewConditionId,null))),this.chain=[new Is(e)],this.viewConditionId=null}nextSelector(){this.finishChain(),this.pseudoelement=null,this.footnoteContent=!1,this.specificity=0,this.chain=[]}startSelectorRule(){this.isInsideSelectorRule("E_CSS_UNEXPECTED_SELECTOR")||(this.state=qs.SELECTOR,this.elementStyle={},this.pseudoelement=null,this.specificity=0,this.footnoteContent=!1,this.chain=[])}error(e,t){super.error(e,t),this.state==qs.SELECTOR&&(this.state=qs.TOP)}startStylesheet(e){super.startStylesheet(e),this.state=qs.TOP}startRuleBody(){this.finishChain(),super.startRuleBody(),this.state==qs.SELECTOR&&(this.state=qs.TOP)}endRule(){super.endRule(),this.insideSelectorRule=qs.TOP}finishChain(){if(this.chain){const e=this.specificity+this.cascade.nextOrder();this.processChain(this.makeApplyRuleAction(e)),this.chain=null,this.pseudoelement=null,this.viewConditionId=null,this.footnoteContent=!1,this.specificity=0}}makeApplyRuleAction(e){let t=this.regionId;return this.footnoteContent&&(t=t?"xxx-bogus-xxx":"footnote"),new os(this.elementStyle,e,this.pseudoelement,t,this.viewConditionId)}special(e,t){let n;n=this.condition?new Bo(t,0,this.condition):new _o(t,0),qo(this.elementStyle,e).push(n)}property(e,t,n){this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)}invalidPropertyValue(e,t){this.report(`E_INVALID_PROPERTY_VALUE ${e}: ${t.toString()}`)}unknownProperty(e,t){this.report(`E_INVALID_PROPERTY ${e}: ${t.toString()}`)}simpleProperty(e,t,n){"display"!=e||t!==Bt.oeb_page_head&&t!==Bt.oeb_page_foot||(this.simpleProperty("flow-options",new Rt([Bt.exclusive,Bt._static]),n),this.simpleProperty("flow-into",t,n),t=Bt.block),p("SIMPLE_PROPERTY").forEach(i=>{const o=i({name:e,value:t,important:n});e=o.name,t=o.value,n=o.important});const i=n?this.getImportantSpecificity():this.getBaseSpecificity(),o=this.condition?new Bo(t,i,this.condition):new _o(t,i);Wo(this.elementStyle,e,o)}finish(){return this.cascade}startFuncWithSelector(e){switch(e){case"not":{const e=new tr(this);e.startSelectorRule(),this.owner.pushHandler(e);break}}}}const Js={"nth-child":class extends Es{constructor(e,t){super(e,t)}apply(e){this.matchANPlusB(e.currentSiblingOrder)&&this.chained.apply(e)}getPriority(){return 5}},"nth-of-type":ys,"nth-last-child":Ss,"nth-last-of-type":Ns};let er=0;class tr extends Qs{constructor(e){super(e.scope,e.owner,e.condition,e,e.regionId,e.validatorSet,!1),this.parent=e,this.parentChain=e.chain}startFuncWithSelector(e){"not"==e&&this.reportAndSkip("E_CSS_UNEXPECTED_NOT")}startRuleBody(){this.reportAndSkip("E_CSS_UNEXPECTED_RULE_BODY")}nextSelector(){this.reportAndSkip("E_CSS_UNEXPECTED_NEXT_SELECTOR")}endFuncWithSelector(){this.chain&&this.chain.length>0&&this.parentChain.push(new As(this.chain)),this.parent.specificity+=this.specificity,this.owner.popHandler()}error(e,t){super.error(e,t),this.owner.popHandler()}}class nr extends ji{constructor(e,t){super(e,t,!1)}property(e,t,n){if(this.scope.values[e])this.error(`E_CSS_NAME_REDEFINED ${e}`,this.getCurrentToken());else{const n=e.match(/height|^(top|bottom)$/)?"vh":"vw",i=new et(this.scope,100,n);this.scope.defineName(e,t.toExpr(this.scope,i))}}}class ir extends ji{constructor(e,t,n,i,o){super(e,t,!1),this.condition=n,this.elementStyle=i,this.validatorSet=o,this.order=0}property(e,t,n){n?h.warn("E_IMPORTANT_NOT_ALLOWED"):this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)}invalidPropertyValue(e,t){h.warn("E_INVALID_PROPERTY_VALUE",`${e}:`,t.toString())}unknownProperty(e,t){h.warn("E_INVALID_PROPERTY",`${e}:`,t.toString())}simpleProperty(e,t,n){let i=n?this.getImportantSpecificity():this.getBaseSpecificity();i+=this.order,this.order+=$s;const o=this.condition?new Bo(t,i,this.condition):new _o(t,i);Wo(this.elementStyle,e,o)}}class or extends uo{constructor(e,t){super(e),this.validatorSet=t,this.elementStyle={},this.order=0}property(e,t,n){this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)}invalidPropertyValue(e,t){h.warn("E_INVALID_PROPERTY_VALUE",`${e}:`,t.toString())}unknownProperty(e,t){h.warn("E_INVALID_PROPERTY",`${e}:`,t.toString())}simpleProperty(e,t,n){let i=n?Ui:Mi;i+=this.order,this.order+=$s;const o=new _o(t,i);Wo(this.elementStyle,e,o)}}function sr(e,t){const n=Ko(e);n&&n.forEach(e=>{e.matcher.matches()&&t(e.styles)})}function rr(e,t,n){sr(n,n=>{dr(e,n,t)})}function ar(e,t,n,i){const o=new or(e,t),s=new hi(i,o);try{!function(e,t,n){new co(Yi,e,t,n).runParser(Number.POSITIVE_INFINITY,!1,!0,!1,!1)}(s,o,n)}catch(e){h.warn(e,"Style attribute parse error:")}return o.elementStyle}function lr(e,t,n){const i=e["writing-mode"];if(i){const e=i.evaluate(t,"writing-mode");if(e&&e!==Bt.inherit)return e===Bt.vertical_rl}return n}function hr(e,t,n){const i=e.direction;if(i){const e=i.evaluate(t,"direction");if(e&&e!==Bt.inherit)return e===Bt.rtl}return n}function cr(e,t,n,i,o){const s={};for(const t in e)Ho(t)&&(s[t]=$o(e,t));return rr(s,t,e),ur(e,n,i,(e,n)=>{dr(s,n,t),rr(s,t,n)}),s}function ur(e,t,n,i){const o=Xo(e,"_regions");if((t||n)&&o){if(n){const e=["footnote"];t=t?t.concat(e):e}for(const e of t){const t=o[e];t&&i(e,t)}}}function dr(e,t,n){for(const i in t)if(Ho(i)){const o=$o(t,i),s=e[i];e[i]=Mo(n,s,o)}}const pr=(e,t,n,i,o)=>{const s=n?i?Fo:Lo:i?Do:ko;for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];if(!i)continue;const r=s[n];let a;if(r){const t=e[r];if(t&&t.priority>i.priority)continue;a=Oo[r]?r:n}else a=n;t[a]=o(n,i)}};function fr(e,t){const n={};return Object.keys(e).forEach(i=>{const o=n[i]={},s=e[i];Object.keys(s).forEach(e=>{o[e]=s[e].map(e=>{const n=t?e.logical:e.physical,i=t?e.physical:e.logical;return{regexp:new RegExp(`(-?)${n}(-?)`),to:`$1${i}$2`}})})}),n}function gr(e,t,n,i){const o=i[t];if(!o)throw new Error(`unknown writing-mode: ${t}`);const s=o[n||"ltr"];if(!s)throw new Error(`unknown direction: ${n}`);for(const t of s){const n=e.replace(t.regexp,t.to);if(n!==e)return n}return e}const mr={"horizontal-tb":{ltr:[{logical:"inline-start",physical:"left"},{logical:"inline-end",physical:"right"},{logical:"block-start",physical:"top"},{logical:"block-end",physical:"bottom"},{logical:"inline-size",physical:"width"},{logical:"block-size",physical:"height"}],rtl:[{logical:"inline-start",physical:"right"},{logical:"inline-end",physical:"left"},{logical:"block-start",physical:"top"},{logical:"block-end",physical:"bottom"},{logical:"inline-size",physical:"width"},{logical:"block-size",physical:"height"}]},"vertical-rl":{ltr:[{logical:"inline-start",physical:"top"},{logical:"inline-end",physical:"bottom"},{logical:"block-start",physical:"right"},{logical:"block-end",physical:"left"},{logical:"inline-size",physical:"height"},{logical:"block-size",physical:"width"}],rtl:[{logical:"inline-start",physical:"bottom"},{logical:"inline-end",physical:"top"},{logical:"block-start",physical:"right"},{logical:"block-end",physical:"left"},{logical:"inline-size",physical:"height"},{logical:"block-size",physical:"width"}]},"vertical-lr":{ltr:[{logical:"inline-start",physical:"top"},{logical:"inline-end",physical:"bottom"},{logical:"block-start",physical:"left"},{logical:"block-end",physical:"right"},{logical:"inline-size",physical:"height"},{logical:"block-size",physical:"width"}],rtl:[{logical:"inline-start",physical:"bottom"},{logical:"inline-end",physical:"top"},{logical:"block-start",physical:"left"},{logical:"block-end",physical:"right"},{logical:"inline-size",physical:"height"},{logical:"block-size",physical:"width"}]}},br=fr(mr,!0);const wr=fr(mr,!1);var Er;function yr(e,t,n){const i={display:t.style.display,position:t.style.position,width:t.style.width,maxWidth:t.style.maxWidth,minWidth:t.style.minWidth,height:t.style.height,maxHeight:t.style.maxHeight,minHeight:t.style.minHeight},o=t.ownerDocument,s=t.parentNode,r=o.createElement("div");function a(n){return e.getElementComputedStyle(t).getPropertyValue(n)}U(r,"position",i.position),s.insertBefore(r,t),r.appendChild(t),U(t,"width","auto"),U(t,"max-width","none"),U(t,"min-width","0"),U(t,"height","auto"),U(t,"max-height","none"),U(t,"min-height","0");const l=M("writing-mode"),h=(l?a(l[0]):null)||a("writing-mode"),c="vertical-rl"===h||"tb-rl"===h||"vertical-lr"===h||"tb-lr"===h,u=c?"height":"width",d=c?"width":"height";function p(){return U(t,"display","block"),U(t,"position","static"),a(u)}function f(){U(t,"display","inline-block"),U(r,u,"99999999px");const e=a(u);return U(r,u,""),e}function g(){U(t,"display","inline-block"),U(r,u,"0");const e=a(u);return U(r,u,""),e}function m(){const e=p(),t=g(),n=parseFloat(e);if(n<=parseFloat(t))return t;{const t=f();return n<=parseFloat(t)?e:t}}function b(){return a(d)}function w(){throw new Error("Getting fill-available block size is not implemented")}const E={};return n.forEach(e=>{let n;switch(e){case Er.FILL_AVAILABLE_INLINE_SIZE:n=p();break;case Er.MAX_CONTENT_INLINE_SIZE:n=f();break;case Er.MIN_CONTENT_INLINE_SIZE:n=g();break;case Er.FIT_CONTENT_INLINE_SIZE:n=m();break;case Er.FILL_AVAILABLE_BLOCK_SIZE:n=w();break;case Er.MAX_CONTENT_BLOCK_SIZE:case Er.MIN_CONTENT_BLOCK_SIZE:case Er.FIT_CONTENT_BLOCK_SIZE:n=b();break;case Er.FILL_AVAILABLE_WIDTH:n=c?w():p();break;case Er.FILL_AVAILABLE_HEIGHT:n=c?p():w();break;case Er.MAX_CONTENT_WIDTH:n=c?b():f();break;case Er.MAX_CONTENT_HEIGHT:n=c?f():b();break;case Er.MIN_CONTENT_WIDTH:n=c?b():g();break;case Er.MIN_CONTENT_HEIGHT:n=c?g():b();break;case Er.FIT_CONTENT_WIDTH:n=c?b():m();break;case Er.FIT_CONTENT_HEIGHT:n=c?m():b()}E[e]=parseFloat(n),U(t,"position",i.position),U(t,"display",i.display)}),U(t,"width",i.width),U(t,"max-width",i.maxWidth),U(t,"min-width",i.minWidth),U(t,"height",i.height),U(t,"max-height",i.maxHeight),U(t,"min-height",i.minHeight),s.insertBefore(t,r),s.removeChild(r),E}!function(e){e.FILL_AVAILABLE_INLINE_SIZE="fill-available inline size",e.FILL_AVAILABLE_BLOCK_SIZE="fill-available block size",e.FILL_AVAILABLE_WIDTH="fill-available width",e.FILL_AVAILABLE_HEIGHT="fill-available height",e.MAX_CONTENT_INLINE_SIZE="max-content inline size",e.MAX_CONTENT_BLOCK_SIZE="max-content block size",e.MAX_CONTENT_WIDTH="max-content width",e.MAX_CONTENT_HEIGHT="max-content height",e.MIN_CONTENT_INLINE_SIZE="min-content inline size",e.MIN_CONTENT_BLOCK_SIZE="min-content block size",e.MIN_CONTENT_WIDTH="min-content width",e.MIN_CONTENT_HEIGHT="min-content height",e.FIT_CONTENT_INLINE_SIZE="fit-content inline size",e.FIT_CONTENT_BLOCK_SIZE="fit-content block size",e.FIT_CONTENT_WIDTH="fit-content width",e.FIT_CONTENT_HEIGHT="fit-content height"}(Er||(Er={}));var Sr=-1,Nr=1,vr=0;function Cr(e,t,n,i){if(e===t)return e?[[vr,e]]:[];if(null!=n){var o=function(e,t,n){var i="number"==typeof n?{index:n,length:0}:n.oldRange,o="number"==typeof n?null:n.newRange,s=e.length,r=t.length;if(0===i.length&&(null===o||0===o.length)){var a=i.index,l=e.slice(0,a),h=e.slice(a),c=o?o.index:null,u=a+r-s;if((null===c||c===u)&&!(u<0||u>r)){var d=t.slice(0,u);if((g=t.slice(u))===h){var p=Math.min(a,u);if((b=l.slice(0,p))===(E=d.slice(0,p)))return Lr(b,l.slice(p),d.slice(p),h)}}if(null===c||c===a){var f=a,g=(d=t.slice(0,f),t.slice(f));if(d===l){var m=Math.min(s-f,r-f);if((w=h.slice(h.length-m))===(y=g.slice(g.length-m)))return Lr(l,h.slice(0,h.length-m),g.slice(0,g.length-m),w)}}}if(i.length>0&&o&&0===o.length){var b=e.slice(0,i.index),w=e.slice(i.index+i.length);if(!(r<(p=b.length)+(m=w.length))){var E=t.slice(0,p),y=t.slice(r-m);if(b===E&&w===y)return Lr(b,e.slice(p,s-m),t.slice(p,r-m),w)}}return null}(e,t,n);if(o)return o}var s=xr(e,t),r=e.substring(0,s);s=Ir(e=e.substring(s),t=t.substring(s));var a=e.substring(e.length-s),l=function(e,t){var n;if(!e)return[[Nr,t]];if(!t)return[[Sr,e]];var i=e.length>t.length?e:t,o=e.length>t.length?t:e,s=i.indexOf(o);if(-1!==s)return n=[[Nr,i.substring(0,s)],[vr,o],[Nr,i.substring(s+o.length)]],e.length>t.length&&(n[0][0]=n[2][0]=Sr),n;if(1===o.length)return[[Sr,e],[Nr,t]];var r=function(e,t){var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;function o(e,t,n){for(var i,o,s,r,a=e.substring(n,n+Math.floor(e.length/4)),l=-1,h="";-1!==(l=t.indexOf(a,l+1));){var c=xr(e.substring(n),t.substring(l)),u=Ir(e.substring(0,n),t.substring(0,l));h.length<u+c&&(h=t.substring(l-u,l)+t.substring(l,l+c),i=e.substring(0,n-u),o=e.substring(n+c),s=t.substring(0,l-u),r=t.substring(l+c))}return 2*h.length>=e.length?[i,o,s,r,h]:null}var s,r,a,l,h,c=o(n,i,Math.ceil(n.length/4)),u=o(n,i,Math.ceil(n.length/2));return c||u?(s=u?c&&c[4].length>u[4].length?c:u:c,e.length>t.length?(r=s[0],a=s[1],l=s[2],h=s[3]):(l=s[0],h=s[1],r=s[2],a=s[3]),[r,a,l,h,s[4]]):null}(e,t);if(r){var a=r[0],l=r[1],h=r[2],c=r[3],u=r[4],d=Cr(a,h),p=Cr(l,c);return d.concat([[vr,u]],p)}return function(e,t){for(var n=e.length,i=t.length,o=Math.ceil((n+i)/2),s=o,r=2*o,a=new Array(r),l=new Array(r),h=0;h<r;h++)a[h]=-1,l[h]=-1;a[s+1]=0,l[s+1]=0;for(var c=n-i,u=c%2!=0,d=0,p=0,f=0,g=0,m=0;m<o;m++){for(var b=-m+d;b<=m-p;b+=2){for(var w=s+b,E=(C=b===-m||b!==m&&a[w-1]<a[w+1]?a[w+1]:a[w-1]+1)-b;C<n&&E<i&&e.charAt(C)===t.charAt(E);)C++,E++;if(a[w]=C,C>n)p+=2;else if(E>i)d+=2;else if(u&&(N=s+c-b)>=0&&N<r&&-1!==l[N]&&C>=(S=n-l[N]))return Tr(e,t,C,E)}for(var y=-m+f;y<=m-g;y+=2){for(var S,N=s+y,v=(S=y===-m||y!==m&&l[N-1]<l[N+1]?l[N+1]:l[N-1]+1)-y;S<n&&v<i&&e.charAt(n-S-1)===t.charAt(i-v-1);)S++,v++;if(l[N]=S,S>n)g+=2;else if(v>i)f+=2;else if(!u){var C;if((w=s+c-y)>=0&&w<r&&-1!==a[w])if(E=s+(C=a[w])-w,C>=(S=n-S))return Tr(e,t,C,E)}}}return[[Sr,e],[Nr,t]]}(e,t)}(e=e.substring(0,e.length-s),t=t.substring(0,t.length-s));return r&&l.unshift([vr,r]),a&&l.push([vr,a]),function e(t,n){t.push([vr,""]);for(var i,o=0,s=0,r=0,a="",l="";o<t.length;)if(o<t.length-1&&!t[o][1])t.splice(o,1);else switch(t[o][0]){case Nr:r++,l+=t[o][1],o++;break;case Sr:s++,a+=t[o][1],o++;break;case vr:var h=o-r-s-1;if(n){if(h>=0&&Rr(t[h][1])){var c=t[h][1].slice(-1);if(t[h][1]=t[h][1].slice(0,-1),a=c+a,l=c+l,!t[h][1]){t.splice(h,1),o--;var u=h-1;t[u]&&t[u][0]===Nr&&(r++,l=t[u][1]+l,u--),t[u]&&t[u][0]===Sr&&(s++,a=t[u][1]+a,u--),h=u}}Or(t[o][1])&&(c=t[o][1].charAt(0),t[o][1]=t[o][1].slice(1),a+=c,l+=c)}if(o<t.length-1&&!t[o][1]){t.splice(o,1);break}if(a.length>0||l.length>0){a.length>0&&l.length>0&&(0!==(i=xr(l,a))&&(h>=0?t[h][1]+=l.substring(0,i):(t.splice(0,0,[vr,l.substring(0,i)]),o++),l=l.substring(i),a=a.substring(i)),0!==(i=Ir(l,a))&&(t[o][1]=l.substring(l.length-i)+t[o][1],l=l.substring(0,l.length-i),a=a.substring(0,a.length-i)));var d=r+s;0===a.length&&0===l.length?(t.splice(o-d,d),o-=d):0===a.length?(t.splice(o-d,d,[Nr,l]),o=o-d+1):0===l.length?(t.splice(o-d,d,[Sr,a]),o=o-d+1):(t.splice(o-d,d,[Sr,a],[Nr,l]),o=o-d+2)}0!==o&&t[o-1][0]===vr?(t[o-1][1]+=t[o][1],t.splice(o,1)):o++,r=0,s=0,a="",l=""}""===t[t.length-1][1]&&t.pop();var p=!1;for(o=1;o<t.length-1;)t[o-1][0]===vr&&t[o+1][0]===vr&&(t[o][1].substring(t[o][1].length-t[o-1][1].length)===t[o-1][1]?(t[o][1]=t[o-1][1]+t[o][1].substring(0,t[o][1].length-t[o-1][1].length),t[o+1][1]=t[o-1][1]+t[o+1][1],t.splice(o-1,1),p=!0):t[o][1].substring(0,t[o+1][1].length)==t[o+1][1]&&(t[o-1][1]+=t[o+1][1],t[o][1]=t[o][1].substring(t[o+1][1].length)+t[o+1][1],t.splice(o+1,1),p=!0)),o++;p&&e(t,n)}(l,i),l}function Tr(e,t,n,i){var o=e.substring(0,n),s=t.substring(0,i),r=e.substring(n),a=t.substring(i),l=Cr(o,s),h=Cr(r,a);return l.concat(h)}function xr(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),o=i,s=0;n<o;)e.substring(s,o)==t.substring(s,o)?s=n=o:i=o,o=Math.floor((i-n)/2+n);return Pr(e.charCodeAt(o-1))&&o--,o}function Ir(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,i=Math.min(e.length,t.length),o=i,s=0;n<o;)e.substring(e.length-o,e.length-s)==t.substring(t.length-o,t.length-s)?s=n=o:i=o,o=Math.floor((i-n)/2+n);return Ar(e.charCodeAt(e.length-o))&&o--,o}function Pr(e){return e>=55296&&e<=56319}function Ar(e){return e>=56320&&e<=57343}function Or(e){return Ar(e.charCodeAt(0))}function Rr(e){return Pr(e.charCodeAt(e.length-1))}function Lr(e,t,n,i){return Rr(e)||Or(i)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[vr,e],[Sr,t],[Nr,n],[vr,i]])}function kr(e,t,n){return Cr(e,t,n,!0)}kr.INSERT=Nr,kr.DELETE=Sr,kr.EQUAL=vr;var Fr,Dr,_r,Br,Mr,Ur,zr=kr;function Vr(e){return e.reduce((e,t)=>t[0]===zr.DELETE?e:e+t[1],"")}function Hr(e,t){return Gr(e,t,-1)}function Gr(e,t,n){let i=0,o=0;return e.some(e=>{for(let s=0;s<e[1].length;s++){switch(e[0]*n){case zr.INSERT:i++;break;case zr.DELETE:i--,o++;break;case zr.EQUAL:o++}if(o>t)return!0}return!1}),Math.max(Math.min(t,o-1)+i,0)}!function(e){e.isInstanceOfBlockFormattingContext=function(e){return e&&"Block"===e.formattingContextType}}(Fr||(Fr={})),function(e){let t;!function(e){e.INLINE="inline",e.COLUMN="column",e.REGION="region",e.PAGE="page"}(t=e.FloatReference||(e.FloatReference={}))}(Dr||(Dr={})),function(e){e.isInstanceOfAfterIfContinuesLayoutConstraint=function(e){return e&&"AfterIfContinue"==e.flagmentLayoutConstraintType}}(_r||(_r={})),function(e){e.isInstanceOfRepetitiveElementsOwnerFormattingContext=function(e){return!!e&&("RepetitiveElementsOwner"===e.formattingContextType||Mr.isInstanceOfTableFormattingContext(e))},e.isInstanceOfRepetitiveElementsOwnerLayoutConstraint=function(e){return!!e&&("RepetitiveElementsOwner"===e.flagmentLayoutConstraintType||Mr.isInstanceOfTableRowLayoutConstraint(e))}}(Br||(Br={})),function(e){e.isInstanceOfTableFormattingContext=function(e){return e&&"Table"===e.formattingContextType},e.isInstanceOfTableRowLayoutConstraint=function(e){return e&&"TableRow"===e.flagmentLayoutConstraintType}}(Mr||(Mr={})),function(e){let t,n;!function(e){e[e.IGNORE=0]="IGNORE",e[e.NEWLINE=1]="NEWLINE",e[e.PRESERVE=2]="PRESERVE"}(t=e.Whitespace||(e.Whitespace={})),function(e){e[e.NONE=0]="NONE",e[e.CONTENT=1]="CONTENT",e[e.ROOTLESS=2]="ROOTLESS",e[e.ROOTED=3]="ROOTED"}(n=e.ShadowType||(e.ShadowType={}))}(Ur||(Ur={}));const $r={transform:!0,"transform-origin":!0},Wr={top:!0,bottom:!0,left:!0,right:!0};class Xr{constructor(e,t,n){this.target=e,this.name=t,this.value=n}}const jr={show:function(e){e.style.visibility="visible"},hide:function(e){e.style.visibility="hidden"},play:function(e){e.currentTime=0,e.play()},pause:function(e){e.pause()},resume:function(e){e.play()},mute:function(e){e.muted=!0},unmute:function(e){e.muted=!1}};function Kr(e,t){const n=jr[t];return n?()=>{for(let t=0;t<e.length;t++)try{n(e[t])}catch(e){}}:null}class Yr extends te{constructor(e,t){super(),this.container=e,this.bleedBox=t,this.pageAreaElement=null,this.delayedItems=[],this.elementsById={},this.dimensions={width:0,height:0},this.isFirstPage=!1,this.isLastPage=!1,this.isAutoPageWidth=!0,this.isAutoPageHeight=!0,this.spineIndex=0,this.position=null,this.offset=-1,this.side=null,this.fetchers=[],this.marginBoxes={top:{},bottom:{},left:{},right:{}};const n=this;this.hrefHandler=e=>{const t=e.currentTarget,i=t.getAttribute("href")||t.getAttributeNS(L.XLINK,"href");if(i){const o={type:"hyperlink",target:null,currentTarget:null,anchorElement:t,href:i,preventDefault(){e.preventDefault()}};n.dispatchEvent(o)}}}setAutoPageWidth(e){this.isAutoPageWidth=e,e?this.container.setAttribute(Yr.AUTO_PAGE_WIDTH_ATTRIBUTE,"true"):this.container.removeAttribute(Yr.AUTO_PAGE_WIDTH_ATTRIBUTE)}setAutoPageHeight(e){this.isAutoPageHeight=e,e?this.container.setAttribute(Yr.AUTO_PAGE_HEIGHT_ATTRIBUTE,"true"):this.container.removeAttribute(Yr.AUTO_PAGE_HEIGHT_ATTRIBUTE)}registerElementWithId(e,t){const n=this.elementsById[t];n?n.push(e):this.elementsById[t]=[e]}finish(e,t){Object.keys(this.elementsById).forEach(e=>{const t=this.elementsById[e];for(let e=0;e<t.length;)this.container.contains(t[e])?e++:t.splice(e,1);0===t.length&&delete this.elementsById[e]});const n=this.delayedItems;for(let e=0;e<n.length;e++){const t=n[e];(t.target!==this.container||"transform"!==t.name||this.isAutoPageWidth||this.isAutoPageHeight)&&U(t.target,t.name,t.value.toString())}const i=t.getElementClientRect(this.container);this.dimensions.width=i.width,this.dimensions.height=i.height;for(let t=0;t<e.length;t++){const n=e[t],i=this.elementsById[n.ref],o=this.elementsById[n.observer];if(i&&o){const e=Kr(i,n.action);if(e)for(let t=0;t<o.length;t++)o[t].addEventListener(n.event,e,!1)}}}zoom(e){U(this.container,"transform",`scale(${e})`)}getPageAreaElement(){return this.pageAreaElement||this.container}}Yr.AUTO_PAGE_WIDTH_ATTRIBUTE="data-vivliostyle-auto-page-width",Yr.AUTO_PAGE_HEIGHT_ATTRIBUTE="data-vivliostyle-auto-page-height";const qr="data-adapt-spec",Zr=Ur.Whitespace;function Qr(e){switch(e){case"normal":case"nowrap":return Zr.IGNORE;case"pre-line":return Zr.NEWLINE;case"pre":case"pre-wrap":return Zr.PRESERVE;default:return null}}function Jr(e,t){if(1==e.nodeType)return!1;const n=e.textContent;switch(t){case Zr.IGNORE:return!!n.match(/^\s*$/);case Zr.NEWLINE:return!!n.match(/^[ \t\f]*$/);case Zr.PRESERVE:return 0==n.length}throw new Error(`Unexpected whitespace: ${t}`)}class ea{constructor(e,t){this.flowName=e,this.parentFlowName=t,this.forcedBreakOffsets=[],this.formattingContext=null}}class ta{constructor(e,t,n,i,o,s,r,a,l){this.flowName=e,this.element=t,this.startOffset=n,this.priority=i,this.linger=o,this.exclusive=s,this.repeated=r,this.last=a,this.breakBefore=l,this.startPage=-1}isBetter(e){return!!this.exclusive&&(!e.exclusive||this.priority>e.priority||this.last)}}function na(e,t){return e.top-t.top}function ia(e,t){return t.right-e.right}function oa(e,t){return e===t||!(!e||!t)&&e.node===t.node&&e.shadowType===t.shadowType&&ca(e.shadowContext,t.shadowContext)&&ca(e.nodeShadow,t.nodeShadow)&&oa(e.shadowSibling,t.shadowSibling)}function sa(e,t){if(e===t)return!0;if(!e||!t)return!1;if(e.offsetInNode!==t.offsetInNode||e.after!==t.after||e.steps.length!==t.steps.length)return!1;for(let n=0;n<e.steps.length;n++)if(!oa(e.steps[n],t.steps[n]))return!1;return!0}function ra(e,t){return{steps:[{node:e.sourceNode,shadowType:la.NONE,shadowContext:e.shadowContext,nodeShadow:null,shadowSibling:null,formattingContext:null,fragmentIndex:null!=t?t:e.fragmentIndex}],offsetInNode:0,after:!1,preprocessedTextContent:e.preprocessedTextContent}}function aa(e,t){const n=new da(e.node,t,0);return n.shadowType=e.shadowType,n.shadowContext=e.shadowContext,n.nodeShadow=e.nodeShadow,n.shadowSibling=e.shadowSibling?aa(e.shadowSibling,t.copy()):null,n.formattingContext=e.formattingContext,n.fragmentIndex=e.fragmentIndex+1,n}const la=Ur.ShadowType;class ha{constructor(e,t,n,i,o,s,r){this.owner=e,this.root=t,this.xmldoc=n,this.parentShadow=i,this.type=s,this.styler=r,this.subShadow=null,o&&(o.subShadow=this)}equals(e){return!!e&&this.owner===e.owner&&this.xmldoc===e.xmldoc&&this.type===e.type&&ca(this.parentShadow,e.parentShadow)}}function ca(e,t){return e===t||!!e&&!!t&&e.equals(t)}class ua{constructor(e,t){this.outer=e,this.count=t}}class da{constructor(e,t,n){this.sourceNode=e,this.parent=t,this.boxOffset=n,this.offsetInNode=0,this.after=!1,this.nodeShadow=null,this.shadowSibling=null,this.shared=!1,this.inline=!0,this.overflow=!1,this.display=null,this.floatSide=null,this.clearSide=null,this.floatMinWrapBlock=null,this.columnSpan=null,this.verticalAlign="baseline",this.captionSide="top",this.inlineBorderSpacing=0,this.blockBorderSpacing=0,this.flexContainer=!1,this.establishesBFC=!1,this.containingBlockForAbsolute=!1,this.breakBefore=null,this.breakAfter=null,this.viewNode=null,this.clearSpacer=null,this.lang=null,this.preprocessedTextContent=null,this.repeatOnBreak=null,this.pluginProps={},this.fragmentIndex=1,this.afterIfContinues=null,this.footnotePolicy=null,this.shadowType=la.NONE,this.shadowContext=t?t.shadowContext:null,this.breakPenalty=t?t.breakPenalty:0,this.floatReference=Dr.FloatReference.INLINE,this.whitespace=t?t.whitespace:Zr.IGNORE,this.hyphenateCharacter=t?t.hyphenateCharacter:null,this.breakWord=!!t&&t.breakWord,this.inheritedProps=t?t.inheritedProps:{},this.vertical=!!t&&t.vertical,this.direction=t?t.direction:"ltr",this.firstPseudo=t?t.firstPseudo:null,this.formattingContext=t?t.formattingContext:null}resetView(){this.inline=!0,this.breakPenalty=this.parent?this.parent.breakPenalty:0,this.viewNode=null,this.clearSpacer=null,this.offsetInNode=0,this.after=!1,this.display=null,this.floatReference=Dr.FloatReference.INLINE,this.floatSide=null,this.clearSide=null,this.floatMinWrapBlock=null,this.columnSpan=null,this.verticalAlign="baseline",this.flexContainer=!1,this.whitespace=this.parent?this.parent.whitespace:Zr.IGNORE,this.hyphenateCharacter=this.parent?this.parent.hyphenateCharacter:null,this.breakWord=!!this.parent&&this.parent.breakWord,this.breakBefore=null,this.breakAfter=null,this.nodeShadow=null,this.establishesBFC=!1,this.containingBlockForAbsolute=!1,this.vertical=!!this.parent&&this.parent.vertical,this.nodeShadow=null,this.preprocessedTextContent=null,this.formattingContext=this.parent?this.parent.formattingContext:null,this.repeatOnBreak=null,this.pluginProps={},this.fragmentIndex=1,this.afterIfContinues=null,this.footnotePolicy=null}cloneItem(){const e=new da(this.sourceNode,this.parent,this.boxOffset);return e.offsetInNode=this.offsetInNode,e.after=this.after,e.nodeShadow=this.nodeShadow,e.shadowType=this.shadowType,e.shadowContext=this.shadowContext,e.shadowSibling=this.shadowSibling,e.inline=this.inline,e.breakPenalty=this.breakPenalty,e.display=this.display,e.floatReference=this.floatReference,e.floatSide=this.floatSide,e.clearSide=this.clearSide,e.floatMinWrapBlock=this.floatMinWrapBlock,e.columnSpan=this.columnSpan,e.verticalAlign=this.verticalAlign,e.captionSide=this.captionSide,e.inlineBorderSpacing=this.inlineBorderSpacing,e.blockBorderSpacing=this.blockBorderSpacing,e.establishesBFC=this.establishesBFC,e.containingBlockForAbsolute=this.containingBlockForAbsolute,e.flexContainer=this.flexContainer,e.whitespace=this.whitespace,e.hyphenateCharacter=this.hyphenateCharacter,e.breakWord=this.breakWord,e.breakBefore=this.breakBefore,e.breakAfter=this.breakAfter,e.viewNode=this.viewNode,e.clearSpacer=this.clearSpacer,e.firstPseudo=this.firstPseudo,e.vertical=this.vertical,e.overflow=this.overflow,e.preprocessedTextContent=this.preprocessedTextContent,e.formattingContext=this.formattingContext,e.repeatOnBreak=this.repeatOnBreak,e.pluginProps=Object.create(this.pluginProps),e.fragmentIndex=this.fragmentIndex,e.afterIfContinues=this.afterIfContinues,e.footnotePolicy=this.footnotePolicy,e}modify(){return this.shared?this.cloneItem():this}copy(){let e=this;do{if(e.shared)break;e.shared=!0,e=e.parent}while(e);return this}clone(){const e=this.cloneItem();let t,n=e;for(;null!=(t=n.parent);)t=t.cloneItem(),n.parent=t,n=t;return e}toNodePositionStep(){return{node:this.sourceNode,shadowType:this.shadowType,shadowContext:this.shadowContext,nodeShadow:this.nodeShadow,shadowSibling:this.shadowSibling?this.shadowSibling.toNodePositionStep():null,formattingContext:this.formattingContext,fragmentIndex:this.fragmentIndex}}toNodePosition(){let e=this;const t=[];do{e.firstPseudo&&e.parent&&e.parent.firstPseudo!==e.firstPseudo||t.push(e.toNodePositionStep()),e=e.parent}while(e);return{steps:t,offsetInNode:this.preprocessedTextContent?Hr(this.preprocessedTextContent,this.offsetInNode):this.offsetInNode,after:this.after,preprocessedTextContent:this.preprocessedTextContent}}isInsideBFC(){let e=this.parent;for(;e;){if(e.establishesBFC)return!0;e=e.parent}return!1}getContainingBlockForAbsolute(){let e=this.parent;for(;e;){if(e.containingBlockForAbsolute)return e;e=e.parent}return null}walkUpBlocks(e){let t=this;for(;t;)t.inline||e(t),t=t.parent}belongsTo(e){return this.formattingContext===e&&!!this.parent&&this.parent.formattingContext===e}}class pa{constructor(e){this.primary=e,this.floats=null}clone(){const e=new pa(this.primary);if(this.floats){e.floats=[];for(let t=0;t<this.floats.length;++t)e.floats[t]=this.floats[t]}return e}isSamePosition(e){if(!e)return!1;if(this===e)return!0;if(!sa(this.primary,e.primary))return!1;if(this.floats){if(!e.floats||this.floats.length!==e.floats.length)return!1;for(let t=0;t<this.floats.length;t++)if(!sa(this.floats[t],e.floats[t]))return!1}else if(e.floats)return!1;return!0}}class fa{constructor(e,t){this.chunkPosition=e,this.flowChunk=t}clone(){return new fa(this.chunkPosition.clone(),this.flowChunk)}isSamePosition(e){return!!e&&(this===e||this.chunkPosition.isSamePosition(e.chunkPosition))}}class ga{constructor(){this.positions=[],this.startSide="any",this.breakAfter=null}clone(){const e=new ga,t=this.positions,n=e.positions;for(let e=0;e<t.length;e++)n[e]=t[e].clone();return e.startSide=this.startSide,e.breakAfter=this.breakAfter,e}isSamePosition(e){if(this===e)return!0;if(!e||this.positions.length!==e.positions.length)return!1;for(let t=0;t<this.positions.length;t++)if(!this.positions[t].isSamePosition(e.positions[t]))return!1;return!0}hasContent(e){return this.positions.length>0&&this.positions[0].flowChunk.startOffset<=e}}class ma{constructor(){this.page=0,this.flows={},this.flowPositions={},this.highestSeenOffset=0}clone(){const e=new ma;e.page=this.page,e.highestSeenNode=this.highestSeenNode,e.highestSeenOffset=this.highestSeenOffset,e.lookupPositionOffset=this.lookupPositionOffset,e.flows=this.flows;for(const t in this.flowPositions)e.flowPositions[t]=this.flowPositions[t].clone();return e}isSamePosition(e){if(this===e)return!0;if(!e||this.page!==e.page||this.highestSeenOffset!==e.highestSeenOffset)return!1;const t=Object.keys(this.flowPositions),n=Object.keys(e.flowPositions);if(t.length!==n.length)return!1;for(const n of t)if(!this.flowPositions[n].isSamePosition(e.flowPositions[n]))return!1;return!0}hasContent(e,t){const n=this.flowPositions[e];return!!n&&n.hasContent(t)}startSideOfFlow(e){const t=this.flowPositions[e];return t?t.startSide:"any"}firstFlowChunkOfFlow(e){const t=this.flowPositions[e];if(!t)return null;const n=t.positions[0];return n?n.flowChunk:null}}class ba{constructor(e){this.element=e,this.left=0,this.top=0,this.marginLeft=0,this.marginRight=0,this.marginTop=0,this.marginBottom=0,this.borderLeft=0,this.borderRight=0,this.borderTop=0,this.borderBottom=0,this.paddingLeft=0,this.paddingRight=0,this.paddingTop=0,this.paddingBottom=0,this.width=0,this.height=0,this.originX=0,this.originY=0,this.exclusions=null,this.innerShape=null,this.computedBlockSize=0,this.snapWidth=0,this.snapHeight=0,this.snapOffsetX=0,this.snapOffsetY=0,this.vertical=!1}getInsetTop(){return this.marginTop+this.borderTop+this.paddingTop}getInsetBottom(){return this.marginBottom+this.borderBottom+this.paddingBottom}getInsetLeft(){return this.marginLeft+this.borderLeft+this.paddingLeft}getInsetRight(){return this.marginRight+this.borderRight+this.paddingRight}getInsetBefore(){return this.vertical?this.getInsetRight():this.getInsetTop()}getInsetAfter(){return this.vertical?this.getInsetLeft():this.getInsetBottom()}getInsetStart(){return this.vertical?this.getInsetTop():this.getInsetLeft()}getInsetEnd(){return this.vertical?this.getInsetBottom():this.getInsetRight()}getBeforeEdge(e){return this.vertical?e.right:e.top}getAfterEdge(e){return this.vertical?e.left:e.bottom}getStartEdge(e){return this.vertical?e.top:e.left}getEndEdge(e){return this.vertical?e.bottom:e.right}getInlineSize(e){return this.vertical?e.bottom-e.top:e.right-e.left}getBoxSize(e){return this.vertical?e.right-e.left:e.bottom-e.top}getBoxDir(){return this.vertical?-1:1}getInlineDir(){return 1}copyFrom(e){this.element=e.element,this.left=e.left,this.top=e.top,this.marginLeft=e.marginLeft,this.marginRight=e.marginRight,this.marginTop=e.marginTop,this.marginBottom=e.marginBottom,this.borderLeft=e.borderLeft,this.borderRight=e.borderRight,this.borderTop=e.borderTop,this.borderBottom=e.borderBottom,this.paddingLeft=e.paddingLeft,this.paddingRight=e.paddingRight,this.paddingTop=e.paddingTop,this.paddingBottom=e.paddingBottom,this.width=e.width,this.height=e.height,this.originX=e.originX,this.originY=e.originY,this.innerShape=e.innerShape,this.exclusions=e.exclusions,this.computedBlockSize=e.computedBlockSize,this.snapWidth=e.snapWidth,this.snapHeight=e.snapHeight,this.vertical=e.vertical}setVerticalPosition(e,t){this.top=e,this.height=t,U(this.element,"top",`${e}px`),U(this.element,"height",`${t}px`)}setHorizontalPosition(e,t){this.left=e,this.width=t,U(this.element,"left",`${e}px`),U(this.element,"width",`${t}px`)}setBlockPosition(e,t){this.vertical?this.setHorizontalPosition(e+t*this.getBoxDir(),t):this.setVerticalPosition(e,t)}setInlinePosition(e,t){this.vertical?this.setVerticalPosition(e,t):this.setHorizontalPosition(e,t)}clear(){const e=this.element;let t;for(;t=e.lastChild;)e.removeChild(t)}getInnerShape(){const e=this.getInnerRect();return this.innerShape?this.innerShape.withOffset(e.x1,e.y1):Qt(e.x1,e.y1,e.x2,e.y2)}getInnerRect(){const e=this.originX+this.left+this.getInsetLeft(),t=this.originY+this.top+this.getInsetTop();return new $t(e,t,e+this.width,t+this.height)}getPaddingRect(){const e=this.originX+this.left+this.marginLeft+this.borderLeft,t=this.originY+this.top+this.marginTop+this.borderTop,n=this.paddingLeft+this.width+this.paddingRight,i=this.paddingTop+this.height+this.paddingBottom;return new $t(e,t,e+n,t+i)}getOuterShape(e,t){const n=this.getOuterRect();return bn(e,n.x1,n.y1,n.x2-n.x1,n.y2-n.y1,t)}getOuterRect(){const e=this.originX+this.left,t=this.originY+this.top,n=this.getInsetLeft()+this.width+this.getInsetRight(),i=this.getInsetTop()+this.height+this.getInsetBottom();return new $t(e,t,e+n,t+i)}}class wa extends ft{constructor(e,t,n,i){super(),this.elem=e,this.context=t,this.rootContentValue=n,this.exprContentListener=i}visitStrInner(e,t){t||(t=this.elem.ownerDocument.createTextNode(e)),this.elem.appendChild(t)}visitStr(e){return this.visitStrInner(e.str),null}visitURL(e){if(this.rootContentValue.url)this.elem.setAttribute("src",e.url);else{const t=this.elem.ownerDocument.createElementNS(L.XHTML,"img");t.setAttribute("src",e.url),this.elem.appendChild(t)}return null}visitSpaceList(e){return this.visitValues(e.values),null}visitExpr(e){const t=e.toExpr();let n=t.evaluate(this.context);if("string"==typeof n){t instanceof tt&&(n=mo(t.scope,new hi(n,null),"").stringValue()),this.elem.ownerDocument;const e=this.exprContentListener(t,n,this.elem.ownerDocument);this.visitStrInner(n,e)}return null}}function Ea(e){return null!=e&&e!==Bt.normal&&e!==Bt.none&&e!==Bt.inherit}const ya=Dr.FloatReference;function Sa(e){switch(e){case ya.INLINE:return!1;case ya.COLUMN:case ya.REGION:case ya.PAGE:return!0;default:throw new Error(`Unknown float-reference: ${e}`)}}class Na{constructor(e,t,n,i,o,s){this.nodePosition=e,this.floatReference=t,this.floatSide=n,this.clearSide=i,this.flowName=o,this.floatMinWrapBlock=s,this.order=null,this.id=null}getOrder(){if(null===this.order)throw new Error("The page float is not yet added");return this.order}getId(){if(!this.id)throw new Error("The page float is not yet added");return this.id}isAllowedOnContext(e){return e.isAnchorAlreadyAppeared(this.getId())}isAllowedToPrecede(e){return!1}}class va{constructor(){this.floats=[],this.nextPageFloatIndex=0}nextOrder(){return this.nextPageFloatIndex++}createPageFloatId(e){return`pf${e}`}addPageFloat(e){if(this.floats.findIndex(t=>sa(t.nodePosition,e.nodePosition))>=0)throw new Error("A page float with the same source node is already registered");{const t=e.order=this.nextOrder();e.id=this.createPageFloatId(t),this.floats.push(e)}}findPageFloatByNodePosition(e){const t=this.floats.findIndex(t=>sa(t.nodePosition,e));return t>=0?this.floats[t]:null}findPageFloatById(e){const t=this.floats.findIndex(t=>t.id===e);return t>=0?this.floats[t]:null}}class Ca{constructor(e,t,n,i,o){this.floatReference=e,this.floatSide=t,this.continuations=n,this.area=i,this.continues=o}hasFloat(e){return this.continuations.some(t=>t.float===e)}findNotAllowedFloat(e){for(let t=this.continuations.length-1;t>=0;t--){const n=this.continuations[t].float;if(!n.isAllowedOnContext(e))return n}return null}getOuterShape(){return this.area.getOuterShape(null,null)}getOuterRect(){return this.area.getOuterRect()}getOrder(){const e=this.continuations.map(e=>e.float);return Math.min.apply(null,e.map(e=>e.getOrder()))}shouldBeStashedBefore(e){return this.getOrder()<e.getOrder()}addContinuations(e){e.forEach(e=>{this.continuations.push(e)})}getFlowName(){const e=this.continuations[0].float.flowName;return this.continuations.every(t=>t.float.flowName===e),e}}class Ta{constructor(e,t){this.float=e,this.nodePosition=t}equals(e){return!!e&&(this===e||this.float===e.float&&sa(this.nodePosition,e.nodePosition))}}class xa{constructor(e,t,n,i,o,s,r){this.parent=e,this.floatReference=t,this.container=n,this.flowName=i,this.generatingNodePosition=o,this.children=[],this.invalidated=!1,this.forbiddenFloats=[],this.floatFragments=[],this.stashedFloatFragments=[],this.floatAnchors={},this.floatsDeferredToNext=[],this.layoutConstraints=[],this.locked=!1,e&&e.children.push(this),this.writingMode=s||e&&e.writingMode||Bt.horizontal_tb,this.direction=r||e&&e.direction||Bt.ltr,this.floatStore=e?e.floatStore:new va;const a=this.getPreviousSibling();this.floatsDeferredFromPrevious=a?[].concat(a.floatsDeferredToNext):[]}getParent(e){if(!this.parent)throw new Error(`No PageFloatLayoutContext for ${e}`);return this.parent}getPreviousSiblingOf(e,t,n,i){let o=this.children.indexOf(e);o<0&&(o=this.children.length);for(let e=o-1;e>=0;e--){let o=this.children[e];if(o.floatReference===t&&o.flowName===n&&sa(o.generatingNodePosition,i))return o;if(o=o.getPreviousSiblingOf(null,t,n,i),o)return o}return null}getPreviousSibling(){let e,t=this,n=this.parent;for(;n;){if(e=n.getPreviousSiblingOf(t,this.floatReference,this.flowName,this.generatingNodePosition),e)return e;t=n,n=n.parent}return null}getContainer(e){return e&&e!==this.floatReference?this.getParent(e).getContainer(e):this.container}setContainer(e){this.container=e,this.reattachFloatFragments()}addPageFloat(e){this.floatStore.addPageFloat(e)}getPageFloatLayoutContext(e){return e===this.floatReference?this:this.getParent(e).getPageFloatLayoutContext(e)}findPageFloatByNodePosition(e){return this.floatStore.findPageFloatByNodePosition(e)}forbid(e){const t=e.getId(),n=e.floatReference;n===this.floatReference?this.forbiddenFloats.includes(t)||(this.forbiddenFloats.push(t),(new Pa).findByFloat(e).forbid(e,this)):this.getParent(n).forbid(e)}isForbidden(e){const t=e.getId(),n=e.floatReference;return n===this.floatReference?this.forbiddenFloats.includes(t):this.getParent(n).isForbidden(e)}addPageFloatFragment(e,t){const n=e.floatReference;n!==this.floatReference?this.getParent(n).addPageFloatFragment(e,t):this.floatFragments.includes(e)||(this.floatFragments.push(e),this.floatFragments.sort((e,t)=>e.getOrder()-t.getOrder())),t||this.invalidate()}removePageFloatFragment(e,t){const n=e.floatReference;if(n!==this.floatReference)this.getParent(n).removePageFloatFragment(e,t);else{const n=this.floatFragments.indexOf(e);if(n>=0){const e=this.floatFragments.splice(n,1)[0],i=e.area&&e.area.element;i&&i.parentNode&&i.parentNode.removeChild(i),t||this.invalidate()}}}findPageFloatFragment(e){if(e.floatReference!==this.floatReference)return this.getParent(e.floatReference).findPageFloatFragment(e);const t=this.floatFragments.findIndex(t=>t.hasFloat(e));return t>=0?this.floatFragments[t]:null}hasFloatFragments(e){return!(!(this.floatFragments.length>0)||e&&!this.floatFragments.some(e))||!!this.parent&&this.parent.hasFloatFragments(e)}hasContinuingFloatFragmentsInFlow(e){return this.hasFloatFragments(t=>t.continues&&t.getFlowName()===e)}registerPageFloatAnchor(e,t){this.floatAnchors[e.getId()]=t}collectPageFloatAnchors(){const e=Object.assign({},this.floatAnchors);return this.children.reduce((e,t)=>Object.assign(e,t.collectPageFloatAnchors()),e)}isAnchorAlreadyAppeared(e){if(this.getDeferredPageFloatContinuations().some(t=>t.float.getId()===e))return!0;const t=this.collectPageFloatAnchors()[e];return!!t&&!(!this.container||!this.container.element)&&this.container.element.contains(t)}deferPageFloat(e){const t=e.float;if(t.floatReference===this.floatReference){const n=this.floatsDeferredToNext.findIndex(e=>e.float===t);n>=0?this.floatsDeferredToNext.splice(n,1,e):this.floatsDeferredToNext.push(e)}else this.getParent(t.floatReference).deferPageFloat(e)}hasPrecedingFloatsDeferredToNext(e,t){if(!t&&e.floatReference!==this.floatReference)return this.getParent(e.floatReference).hasPrecedingFloatsDeferredToNext(e,!1);const n=e.getOrder();return!!this.floatsDeferredToNext.some(t=>t.float.getOrder()<n&&!e.isAllowedToPrecede(t.float))||!!this.parent&&this.parent.hasPrecedingFloatsDeferredToNext(e,!0)}getLastFollowingFloatInFragments(e){const t=e.getOrder();let n=null;if(this.floatFragments.forEach(e=>{e.continuations.forEach(e=>{const i=e.float,o=i.getOrder();o>t&&(!n||o>n.getOrder())&&(n=i)})}),this.parent){const t=this.parent.getLastFollowingFloatInFragments(e);t&&(!n||t.getOrder()>n.getOrder())&&(n=t)}return n}getDeferredPageFloatContinuations(e){e=e||this.flowName;let t=this.floatsDeferredFromPrevious.filter(t=>!e||t.float.flowName===e);return this.parent&&(t=this.parent.getDeferredPageFloatContinuations(e).concat(t)),t.sort((e,t)=>e.float.getOrder()-t.float.getOrder())}getPageFloatContinuationsDeferredToNext(e){e=e||this.flowName;const t=this.floatsDeferredToNext.filter(t=>!e||t.float.flowName===e);return this.parent?this.parent.getPageFloatContinuationsDeferredToNext(e).concat(t):t}getFloatsDeferredToNextInChildContexts(){let e=[];const t=[];for(let n=this.children.length-1;n>=0;n--){const i=this.children[n];t.includes(i.flowName)||(t.push(i.flowName),e=e.concat(i.floatsDeferredToNext.map(e=>e.float)),e=e.concat(i.getFloatsDeferredToNextInChildContexts()))}return e}checkAndForbidNotAllowedFloat(){if(this.checkAndForbidFloatFollowingDeferredFloat())return!0;for(let e=this.floatFragments.length-1;e>=0;e--){const t=this.floatFragments[e],n=t.findNotAllowedFloat(this);if(n)return this.locked?this.invalidate():(this.removePageFloatFragment(t),this.forbid(n),this.removeEndFloatFragments(t.floatSide)),!0}return!(this.floatReference!==ya.REGION||!this.parent.locked)&&this.parent.checkAndForbidNotAllowedFloat()}checkAndForbidFloatFollowingDeferredFloat(){const e=this.getFloatsDeferredToNextInChildContexts(),t=this.floatFragments.reduce((e,t)=>e.concat(t.continuations.map(e=>e.float)),[]);t.sort((e,t)=>t.getOrder()-e.getOrder());for(const n of t){const t=n.getOrder();if(e.some(e=>!n.isAllowedToPrecede(e)&&t>e.getOrder())){if(this.locked)this.invalidate();else{this.forbid(n);const e=this.findPageFloatFragment(n);this.removePageFloatFragment(e)}return!0}}return!1}finish(){if(!this.checkAndForbidNotAllowedFloat()){for(let e=this.floatsDeferredToNext.length-1;e>=0;e--)if(!this.floatsDeferredToNext[e].float.isAllowedOnContext(this)){if(this.locked)return void this.invalidate();this.floatsDeferredToNext.splice(e,1)}this.floatsDeferredFromPrevious.forEach(e=>{this.floatsDeferredToNext.findIndex(t=>e.equals(t))>=0||this.floatFragments.some(t=>t.hasFloat(e.float))||this.floatsDeferredToNext.push(e)})}}hasSameContainerAs(e){return!!this.container&&!!e.container&&this.container.element===e.container.element}invalidate(){this.invalidated=!0,this.locked||(this.container&&(this.children.forEach(e=>{this.hasSameContainerAs(e)&&e.floatFragments.forEach(e=>{const t=e.area.element;t&&t.parentNode&&t.parentNode.removeChild(t)})}),this.container.clear()),this.children.forEach(e=>{e.layoutConstraints.splice(0)}),this.children.splice(0),Object.keys(this.floatAnchors).forEach(e=>{delete this.floatAnchors[e]}))}detachChildren(){const e=this.children.splice(0);return e.forEach(e=>{e.floatFragments.forEach(e=>{const t=e.area.element;t&&t.parentNode&&t.parentNode.removeChild(t)})}),e}attachChildren(e){e.forEach(e=>{this.children.push(e),e.reattachFloatFragments()})}isInvalidated(){return this.invalidated||!!this.parent&&this.parent.isInvalidated()}validate(){this.invalidated=!1}toLogical(e){return function(e,t,n){return gr(e,t,n||null,wr)}(e,this.writingMode.toString(),this.direction.toString())}toPhysical(e){return function(e,t,n){return gr(e,t,n||null,br)}(e,this.writingMode.toString(),this.direction.toString())}removeEndFloatFragments(e){const t=this.toLogical(e);if("block-end"===t||"inline-end"===t){let e=0;for(;e<this.floatFragments.length;){const n=this.floatFragments[e];this.toLogical(n.floatSide)===t?this.removePageFloatFragment(n):e++}}}stashEndFloatFragments(e){const t=e.floatReference;if(t!==this.floatReference)return void this.getParent(t).stashEndFloatFragments(e);const n=this.toLogical(e.floatSide);if("block-end"===n||"snap-block"===n||"inline-end"===n){let t=0;for(;t<this.floatFragments.length;){const i=this.floatFragments[t],o=this.toLogical(i.floatSide);(o===n||"snap-block"===n&&"block-end"===o)&&i.shouldBeStashedBefore(e)?(this.stashedFloatFragments.push(i),this.floatFragments.splice(t,1)):t++}}}restoreStashedFragments(e){e===this.floatReference?(this.stashedFloatFragments.forEach(e=>{this.addPageFloatFragment(e,!0)}),this.stashedFloatFragments.splice(0)):this.getParent(e).restoreStashedFragments(e)}discardStashedFragments(e){e===this.floatReference?this.stashedFloatFragments.splice(0):this.getParent(e).discardStashedFragments(e)}getStashedFloatFragments(e){return e===this.floatReference?this.stashedFloatFragments.concat().sort((e,t)=>t.getOrder()-e.getOrder()):this.getParent(e).getStashedFloatFragments(e)}getLimitValue(e,t,n,i){this.container;const o=this.toLogical(e),s=this.toPhysical(e),r=this.getLimitValueInner(o,t,n,i);if(this.parent&&this.parent.container){const e=this.parent.getLimitValue(s,t,n,i);switch(s){case"top":case"left":return Math.max(r,e);case"bottom":case"right":return Math.min(r,e)}}return r}getLimitValueInner(e,t,n,i){this.container;const o=this.getLimitValuesInner(t,n,i);switch(e){case"block-start":return this.container.vertical?o.right:o.top;case"block-end":return this.container.vertical?o.left:o.bottom;case"inline-start":return this.container.vertical?o.top:o.left;case"inline-end":return this.container.vertical?o.bottom:o.right;default:throw new Error(`Unknown logical side: ${e}`)}}getLimitValuesInner(e,t,n){this.container;const i=this.container.originX,o=this.container.originY,s=this.container.getPaddingRect();let r={top:s.y1-o,left:s.x1-i,bottom:s.y2-o,right:s.x2-i,floatMinWrapBlockStart:0,floatMinWrapBlockEnd:0};function a(n,i,o){return"%"===n.unit?o*n.num/100:e.convertLengthToPx(n,i,t)}const l=this.floatFragments;return l.length>0&&(r=l.reduce((e,t)=>{if(n&&!n(t,this))return e;const i=this.toLogical(t.floatSide),o=t.area,r=t.continuations[0].float.floatMinWrapBlock;let l=e.top,h=e.left,c=e.bottom,u=e.right,d=e.floatMinWrapBlockStart,p=e.floatMinWrapBlockEnd;switch(i){case"inline-start":o.vertical?l=Math.max(l,o.top+o.height):h=Math.max(h,o.left+o.width);break;case"block-start":o.vertical?(r&&o.left<u&&(d=a(r,o.rootViewNodes[0],s.x2-s.x1)),u=Math.min(u,o.left)):(r&&o.top+o.height>l&&(d=a(r,o.rootViewNodes[0],s.y2-s.y1)),l=Math.max(l,o.top+o.height));break;case"inline-end":o.vertical?c=Math.min(c,o.top):u=Math.min(u,o.left);break;case"block-end":o.vertical?(r&&o.left+o.width>h&&(p=a(r,o.rootViewNodes[0],s.x2-s.x1)),h=Math.max(h,o.left+o.width)):(r&&o.top<c&&(p=a(r,o.rootViewNodes[0],s.y2-s.y1)),c=Math.min(c,o.top));break;default:throw new Error(`Unknown logical float side: ${i}`)}return{top:l,left:h,bottom:c,right:u,floatMinWrapBlockStart:d,floatMinWrapBlockEnd:p}},r)),r.left+=i,r.right+=i,r.top+=o,r.bottom+=o,r}setFloatAreaDimensions(e,t,n,i,o,s,r){if(t!==this.floatReference)return this.getParent(t).setFloatAreaDimensions(e,t,n,i,o,s,r);let a=this.toLogical(n);if("snap-block"===a){if(!r["block-start"]&&!r["block-end"])return null}else if(!r[a])return null;e.clientLayout;let l=this.getLimitValue("block-start",e.layoutContext,e.clientLayout),h=this.getLimitValue("block-end",e.layoutContext,e.clientLayout),c=this.getLimitValue("inline-start",e.layoutContext,e.clientLayout),u=this.getLimitValue("inline-end",e.layoutContext,e.clientLayout);const d=e.vertical?e.originX:e.originY,p=e.vertical?e.originY:e.originX;function f(t,n){let i=t(e.bands,n);return i?(e.vertical&&(i=an(i)),l=e.vertical?Math.min(l,i.x2):Math.max(l,i.y1),h=e.vertical?Math.max(h,i.x1):Math.min(h,i.y2),!0):s}let g,m,b,w;if(l=e.vertical?Math.min(l,e.left+e.getInsetLeft()+e.width+e.getInsetRight()+d):Math.max(l,e.top+d),h=e.vertical?Math.max(h,e.left+d):Math.min(h,e.top+e.getInsetTop()+e.height+e.getInsetBottom()+d),o){const t=e.vertical?rn(new $t(h,c,l,u)):new $t(c,l,u,h);if(("block-start"===a||"snap-block"===a||"inline-start"===a)&&!f(un,t))return null;if(("block-end"===a||"snap-block"===a||"inline-end"===a)&&!f(dn,t))return null;if(b=(h-l)*e.getBoxDir(),g=b-e.getInsetBefore()-e.getInsetAfter(),w=u-c,m=w-e.getInsetStart()-e.getInsetEnd(),!s&&(g<=0||m<=0))return null}else{g=e.computedBlockSize,b=g+e.getInsetBefore()+e.getInsetAfter();const t=(h-l)*e.getBoxDir();if("snap-block"===a){if(null===i)a="block-start";else{const e=this.container.getPaddingRect();a=this.container.getBoxDir()*(i-(this.container.vertical?e.x2:e.y1))<=this.container.getBoxDir()*((this.container.vertical?e.x1:e.y2)-i-b)?"block-start":"block-end"}if(!r[a]){if(!r["block-end"])return null;a="block-end"}}if(!s&&t<b)return null;m="inline-start"===a||"inline-end"===a?yr(e.clientLayout,e.element,[Er.FIT_CONTENT_INLINE_SIZE])[Er.FIT_CONTENT_INLINE_SIZE]:e.adjustContentRelativeSize?e.getContentInlineSize():e.vertical?e.height:e.width,w=m+e.getInsetStart()+e.getInsetEnd();const n=u-c;if(!s&&n<w)return null}switch(l-=d,h-=d,c-=p,u-=p,a){case"inline-start":case"block-start":case"snap-block":e.setInlinePosition(c,m),e.setBlockPosition(l,g);break;case"inline-end":case"block-end":e.setInlinePosition(u-w,m),e.setBlockPosition(h-b*e.getBoxDir(),g);break;default:throw new Error(`unknown float direction: ${n}`)}return a}getFloatFragmentExclusions(){const e=this.floatFragments.map(e=>e.getOuterShape());return this.parent?this.parent.getFloatFragmentExclusions().concat(e):e}reattachFloatFragments(){const e=this.container.element&&this.container.element.parentNode;e&&this.floatFragments.forEach(t=>{e.appendChild(t.area.element)})}getMaxReachedAfterEdge(){const e=this.getContainer().vertical;return this.floatFragments.reduce((t,n)=>{const i=n.getOuterRect();return e?Math.min(t,i.x1):Math.max(t,i.y2)},e?1/0:0)}getBlockStartEdgeOfBlockEndFloats(){const e=this.getContainer().vertical;return this.floatFragments.filter(e=>"block-end"===e.floatSide).reduce((t,n)=>{const i=n.getOuterRect();return e?Math.max(t,i.x2):Math.min(t,i.y1)},e?0:1/0)}getPageFloatClearEdge(e,t){function n(e){return t=>e.isAnchorAlreadyAppeared(t.float.getId())}function i(e,t){return e.continuations.some(n(t))}const o=t.getPaddingRect(),s=t.vertical?o.x1:o.y2;let r=this;for(;r;){if(r.floatsDeferredToNext.some(n(r)))return s;r=r.parent}t.clientLayout;const a=this.getLimitValue("block-start",t.layoutContext,t.clientLayout,i);return this.getLimitValue("block-end",t.layoutContext,t.clientLayout,i)*t.getBoxDir()<s*t.getBoxDir()?s:a}getPageFloatPlacementCondition(e,t,n){if(e.floatReference!==this.floatReference)return this.getParent(e.floatReference).getPageFloatPlacementCondition(e,t,n);const i={"block-start":!0,"block-end":!0,"inline-start":!0,"inline-end":!0};if(!n)return i;const o=this.toLogical(t),s=this.toLogical(n);let r;r="all"===s?["block-start","block-end","inline-start","inline-end"]:"both"===s?["inline-start","inline-end"]:"same"===s?"snap-block"===o?["block-start","block-end"]:[o]:[s];const a=e.getOrder();function l(e){return t=>t.floatSide===e&&t.getOrder()<a}return r.forEach(e=>{switch(e){case"block-start":case"inline-start":i[e]=!function e(t,n){return t.children.some(t=>t.floatFragments.some(l(n))||e(t,n))}(this,e);break;case"block-end":case"inline-end":i[e]=!function e(t,n){const i=t.parent;return!!i&&(i.floatFragments.some(l(n))||e(i,n))}(this,e);break;default:throw new Error(`Unexpected side: ${e}`)}}),i}getLayoutConstraints(){return(this.parent?this.parent.getLayoutConstraints():[]).concat(this.layoutConstraints)}addLayoutConstraint(e,t){t===this.floatReference?this.layoutConstraints.push(e):this.getParent(t).addLayoutConstraint(e,t)}isColumnFullWithPageFloats(e){const t=e.layoutContext,n=e.clientLayout;let i=this,o=null;for(;i&&i.container;){const s=i.getLimitValuesInner(t,n);o?e.vertical?(s.right<o.right&&(o.right=s.right,o.floatMinWrapBlockStart=s.floatMinWrapBlockStart),s.left>o.left&&(o.left=s.left,o.floatMinWrapBlockEnd=s.floatMinWrapBlockEnd)):(s.top>o.top&&(o.top=s.top,o.floatMinWrapBlockStart=s.floatMinWrapBlockStart),s.bottom<o.bottom&&(o.bottom=s.bottom,o.floatMinWrapBlockEnd=s.floatMinWrapBlockEnd)):o=s,i=i.parent}const s=Math.max(o.floatMinWrapBlockStart,o.floatMinWrapBlockEnd);return(e.vertical?o.right-o.left:o.bottom-o.top)<=s}getMaxBlockSizeOfPageFloats(){const e=this.getContainer().vertical;return this.floatFragments.length?Math.max.apply(null,this.floatFragments.map(t=>{const n=t.area;return e?n.width:n.height})):0}lock(){this.locked=!0}unlock(){this.locked=!1}isLocked(){return this.locked}}const Ia=[];class Pa{static register(e){Ia.push(e)}findByNodeContext(e){for(let t=Ia.length-1;t>=0;t--){const n=Ia[t];if(n.appliesToNodeContext(e))return n}throw new Error(`No PageFloatLayoutStrategy found for ${e}`)}findByFloat(e){for(let t=Ia.length-1;t>=0;t--){const n=Ia[t];if(n.appliesToFloat(e))return n}throw new Error(`No PageFloatLayoutStrategy found for ${e}`)}}Pa.register(new class{appliesToNodeContext(e){return Sa(e.floatReference)}appliesToFloat(e){return!0}createPageFloat(e,t,n){let i=e.floatReference;e.floatSide;const o=e.floatSide,s=e.toNodePosition();return n.resolveFloatReferenceFromColumnSpan(i,e.columnSpan,e).thenAsync(n=>{i=n,t.flowName;const r=new Na(s,i,o,e.clearSide,t.flowName,e.floatMinWrapBlock);return t.addPageFloat(r),fi(r)})}createPageFloatFragment(e,t,n,i){const o=e[0].float;return new Ca(o.floatReference,t,e,n,i)}findPageFloatFragment(e,t){return t.findPageFloatFragment(e)}adjustPageFloatArea(e,t,n){}forbid(e,t){}});const Aa=Ca;class Oa extends Na{constructor(e,t,n,i,o){super(e,t,"block-end",null,n,o),this.footnotePolicy=i}isAllowedToPrecede(e){return!(e instanceof Oa)}}class Ra extends Aa{constructor(e,t,n,i){super(e,"block-end",t,n,i)}getOrder(){return 1/0}shouldBeStashedBefore(e){return e instanceof Oa||this.getOrder()<e.getOrder()}}class La{constructor(e){this.footnote=e}allowLayout(e){return!sa(e.toNodePosition(),this.footnote.nodePosition)}}Pa.register(new class{appliesToNodeContext(e){return"footnote"===e.floatSide}appliesToFloat(e){return e instanceof Oa}createPageFloat(e,t,n){let i=ya.REGION;const o=t.getPageFloatLayoutContext(i);t.getPageFloatLayoutContext(ya.PAGE).hasSameContainerAs(o)&&(i=ya.PAGE);const s=e.toNodePosition();t.flowName;const r=new Oa(s,i,t.flowName,e.footnotePolicy,e.floatMinWrapBlock);return t.addPageFloat(r),fi(r)}createPageFloatFragment(e,t,n,i){const o=e[0].float;return new Ra(o.floatReference,e,n,i)}findPageFloatFragment(e,t){const n=t.getPageFloatLayoutContext(e.floatReference).floatFragments.filter(e=>e instanceof Ra);return n.length,n[0]||null}adjustPageFloatArea(e,t,n){e.isFootnote=!0,e.adjustContentRelativeSize=!1;const i=e.element;e.vertical=n.layoutContext.applyFootnoteStyle(t.vertical,n.layoutContext.nodeContext&&"rtl"===n.layoutContext.nodeContext.direction,i),e.convertPercentageSizesToPx(i),n.setComputedInsets(i,e),n.setComputedWidthAndHeight(i,e)}forbid(e,t){const n=e;switch(n.footnotePolicy){case Bt.line:{const e=new La(n);t.addLayoutConstraint(e,n.floatReference);break}}}});const ka={page:!0,left:!0,right:!0,recto:!0,verso:!0,column:!0,region:!0};function Fa(e){return!!ka[e]}const Da={avoid:!0,"avoid-page":!0,"avoid-column":!0,"avoid-region":!0};function _a(e){return!!Da[e]}function Ba(e,t){if(!e)return t;if(!t)return e;{const n=Fa(e),i=Fa(t);if(!n||!i)return i?t:n?e:_a(t)?t:_a(e)?e:t;switch(t){case"column":return e;case"region":return"column"===e?t:e;default:return t}}}function Ma(e){switch(e){case"left":case"right":case"recto":case"verso":return e;default:return"any"}}function Ua(e){switch(e){case"left":case"right":case"recto":case"verso":return e;default:return null}}function za(e,t,n,i){const o=e.viewNode;if(!o)return NaN;if(1==o.nodeType){if(e.after||!e.inline){const n=t.getElementClientRect(o);if(n.right>=n.left&&n.bottom>=n.top)return e.after?i?n.left:n.bottom:i?n.right:n.top}return NaN}{let s=NaN;const r=o.ownerDocument.createRange(),a=o.textContent.length;if(!a)return NaN;e.after&&(n+=a),n>=a&&(n=a-1),r.setStart(o,n),r.setEnd(o,n+1);let l=t.getRangeClientRects(r);i&&function(e){if(null==ne){const t=e.ownerDocument,n=t.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.width="100px",n.style.height="100px",n.style.overflow="hidden",n.style.lineHeight="16px",n.style.fontSize="16px",U(n,"writing-mode","vertical-rl"),e.appendChild(n);const i=t.createTextNode("a a a a a a a a a a a a a a a a");n.appendChild(i);const o=t.createRange();o.setStart(i,0),o.setEnd(i,1);const s=o.getBoundingClientRect();ne=s.right-s.left<10,e.removeChild(n)}return ne}(document.body)&&(l=function(e,t,n){const i=n.ownerDocument.createRange();i.setStart(n,0),i.setEnd(n,n.textContent.length);const o=e.getRangeClientRects(i),s=[];for(const e of t){let t;for(t=0;t<o.length;t++){const n=o[t];if(e.top>=n.top&&e.bottom<=n.bottom&&Math.abs(e.left-n.left)<1){s.push({top:e.top,left:n.left,bottom:e.bottom,right:n.right});break}}t==o.length&&(h.warn("Could not fix character box"),s.push(e))}return s}(t,l,o));let c=0;for(const e of l){const t=i?e.bottom-e.top:e.right-e.left;e.right>e.left&&e.bottom>e.top&&(isNaN(s)||t>c)&&(s=i?e.left:e.bottom,c=t)}return s}}function Va(e,t,n){const i=t.clientLayout.getElementClientRect(e),o=t.getComputedMargin(e);return n?i.width+o.left+o.right:i.height+o.top+o.bottom}function Ha(e){for(;e;){if(e.parentNode===e.ownerDocument)return!1;e=e.parentNode}return!0}function Ga(e,t){if(!e)return;let n;for(;(n=e.lastChild)!=t;)e.removeChild(n)}function $a(e){return!!e.getAttribute(qr)}function Wa(e){if(!e)return!1;const t=e.viewNode;return!(!t||1!==t.nodeType)&&$a(t)}u("SIMPLE_PROPERTY",(function(e){const t=e.name,n=e.value;switch(t){case"page-break-before":case"page-break-after":case"page-break-inside":return{name:t.replace(/^page-/,""),value:n===Bt.always?Bt.page:n,important:e.important};default:return e}}));class Xa{calculateOffset(e){return ja(this.getNodeContext(),e.collectElementsOffset())}breakPositionChosen(e){}getNodeContext(){return null}}function ja(e,t){return{current:t.reduce((t,n)=>t+n.calculateOffset(e),0),minimum:t.reduce((t,n)=>t+n.calculateMinimumOffset(e),0)}}class Ka extends Xa{constructor(e,t,n,i){super(),this.position=e,this.breakOnEdge=t,this.overflows=n,this.computedBlockSize=i,this.isEdgeUpdated=!1,this.edge=0,this.overflowIfRepetitiveElementsDropped=n}findAcceptableBreak(e,t){return this.updateOverflows(e),t<this.getMinBreakPenalty()?null:e.findEdgeBreakPosition(this)}getMinBreakPenalty(){if(!this.isEdgeUpdated)throw new Error("EdgeBreakPosition.prototype.updateEdge not called");const e=this.isFirstContentOfRepetitiveElementsOwner()&&!this.overflowIfRepetitiveElementsDropped;return(_a(this.breakOnEdge)?1:0)+(this.overflows&&!e?3:0)+(this.position.parent?this.position.parent.breakPenalty:0)}updateEdge(e){const t=e.calculateClonedPaddingBorder(this.position);this.edge=za(this.position,e.clientLayout,0,e.vertical)+t,this.isEdgeUpdated=!0}updateOverflows(e){this.isEdgeUpdated||this.updateEdge(e);const t=this.edge,n=this.calculateOffset(e);this.overflowIfRepetitiveElementsDropped=e.isOverflown(t+(e.vertical?-1:1)*n.minimum),this.overflows=this.position.overflow=e.isOverflown(t+(e.vertical?-1:1)*n.current)}getNodeContext(){return this.position}isFirstContentOfRepetitiveElementsOwner(){const e=this.getNodeContext();if(!e||!e.parent)return!1;const{formattingContext:t}=e.parent;if(!Br.isInstanceOfRepetitiveElementsOwnerFormattingContext(t))return!1;const n=t.getRepetitiveElements();return!!n&&n.isFirstContentNode(e)}}const Ya="data-vivliostyle-flow-root";function qa(e){const t=e.toString();let n;switch(t){case"inline-flex":n="flex";break;case"inline-grid":n="grid";break;case"inline-table":n="table";break;case"inline":case"table-row-group":case"table-column":case"table-column-group":case"table-header-group":case"table-footer-group":case"table-row":case"table-cell":case"table-caption":case"inline-block":n="block";break;default:n=t}return Ct(n)}function Za(e){return e===Bt.absolute||e===Bt.fixed}function Qa(e,t,n,i){return e===Bt.none||(Za(t)?(n=Bt.none,e=qa(e)):(n&&n!==Bt.none||i)&&(e=qa(e))),{display:e,position:t,float:n}}function Ja(e,t,n,i){return Qa(e,t,n,i).display===Bt.block}function el(e){switch(e.toString()){case"inline":case"inline-block":case"inline-list-item":case"inline-flex":case"inline-grid":case"ruby":case"inline-table":return!0;default:return!1}}class tl{find(e){const n=p(t.HOOKS.RESOLVE_LAYOUT_PROCESSOR);for(let t=0;t<n.length;t++){const i=n[t](e);if(i)return i}throw new Error(`No processor found for a formatting context: ${e.getName()}`)}}class nl{layout(e,t,n){return t.isFloatNodeContext(e)?t.layoutFloatOrFootnote(e):t.isBreakable(e)?t.layoutBreakableBlock(e):t.layoutUnbreakable(e)}createEdgeBreakPosition(e,t,n,i){return new Ka(e.copy(),t,n,i)}startNonInlineElementNode(e){return!1}afterNonInlineElementNode(e,t){return!1}clearOverflownViewNodes(e,t,n,i){if(!n.viewNode)return;if(!n.viewNode.parentNode)return;const o=n.viewNode.parentNode;Ga(o,n.viewNode),i&&o.removeChild(n.viewNode)}finishBreak(e,t,n,i){const o=n||null!=t.viewNode&&1==t.viewNode.nodeType&&!t.after;return e.clearOverflownViewNodes(t,o),i&&(e.fixJustificationIfNeeded(t,!0),e.layoutContext.processFragmentedBlockEdge(o?t:t.parent)),fi(!0)}}class il{constructor(e){this.parent=e,this.formattingContextType="Block"}getName(){return"Block formatting context (BlockFormattingContext)"}isFirstTime(e,t){return t}getParent(){return this.parent}saveState(){}restoreState(e){}}const ol=new nl,sl=Fr.isInstanceOfBlockFormattingContext;u(t.HOOKS.RESOLVE_FORMATTING_CONTEXT,(e,t,n,i,o,s)=>{const r=e.parent;return!r&&e.formattingContext?null:r&&e.formattingContext!==r.formattingContext?null:e.establishesBFC||!e.formattingContext&&Ja(n,i,o,s)?new il(r?r.formattingContext:null):null}),u(t.HOOKS.RESOLVE_LAYOUT_PROCESSOR,e=>e instanceof il?ol:null);class rl{constructor(){this.initialBreakPositions=null,this.initialStateOfFormattingContext=null}layout(e,t){return this.prepareLayout(e,t),this.tryLayout(e,t)}tryLayout(e,t){const n=pi("AbstractLayoutRetryer.tryLayout");this.saveState(e,t);const i=this.resolveLayoutMode(e);return i.doLayout(e,t).then(o=>{let s=i.accept(o,t);s=i.postLayout(o,this.initialPosition,t,s),s?n.finish(o):(this.initialPosition,this.clearNodes(this.initialPosition),this.restoreState(e,t),this.tryLayout(this.initialPosition,t).thenFinish(n))}),n.result()}prepareLayout(e,t){}clearNodes(e){const t=e.viewNode||e.parent.viewNode;let n,i;for(;n=t.lastChild;)t.removeChild(n);for(;i=t.nextSibling;)i.parentNode.removeChild(i)}saveState(e,t){this.initialPosition=e.copy(),this.initialBreakPositions=[].concat(t.breakPositions),this.initialFragmentLayoutConstraints=[].concat(t.fragmentLayoutConstraints),e.formattingContext&&(this.initialStateOfFormattingContext=e.formattingContext.saveState())}restoreState(e,t){t.breakPositions=this.initialBreakPositions,t.fragmentLayoutConstraints=this.initialFragmentLayoutConstraints,e.formattingContext&&e.formattingContext.restoreState(this.initialStateOfFormattingContext)}}class al{initialState(e){return{nodeContext:e,atUnforcedBreak:!1,break:!1}}startNonDisplayableNode(e){}afterNonDisplayableNode(e){}startIgnoredTextNode(e){}afterIgnoredTextNode(e){}startNonElementNode(e){}afterNonElementNode(e){}startInlineElementNode(e){}afterInlineElementNode(e){}startNonInlineElementNode(e){}afterNonInlineElementNode(e){}finish(e){}}class ll{constructor(e,t){this.strategy=e,this.layoutContext=t}iterate(e){const t=this.strategy,n=t.initialState(e),i=pi("LayoutIterator");return i.loopWithFrame(e=>{let i;for(;n.nodeContext;){i=n.nodeContext.viewNode?1!==n.nodeContext.viewNode.nodeType?Jr(n.nodeContext.viewNode,n.nodeContext.whitespace)?n.nodeContext.after?t.afterIgnoredTextNode(n):t.startIgnoredTextNode(n):n.nodeContext.after?t.afterNonElementNode(n):t.startNonElementNode(n):n.nodeContext.inline?n.nodeContext.after?t.afterInlineElementNode(n):t.startInlineElementNode(n):n.nodeContext.after?t.afterNonInlineElementNode(n):t.startNonInlineElementNode(n):n.nodeContext.after?t.afterNonDisplayableNode(n):t.startNonDisplayableNode(n);const o=(i&&i.isPending()?i:fi(!0)).thenAsync(()=>n.break?fi(null):this.layoutContext.nextInTree(n.nodeContext,n.atUnforcedBreak));if(o.isPending())return void o.then(t=>{n.break?e.breakLoop():(n.nodeContext=t,e.continueLoop())});if(n.break)return void e.breakLoop();n.nodeContext=o.get()}t.finish(n),e.breakLoop()}).then(()=>{i.finish(n.nodeContext)}),i.result()}}class hl extends al{constructor(e){super(),this.leadingEdge=e}startNonInlineBox(e){}endEmptyNonInlineBox(e){}endNonInlineBox(e){}initialState(e){return{nodeContext:e,atUnforcedBreak:!!this.leadingEdge&&e.after,break:!1,leadingEdge:this.leadingEdge,breakAtTheEdge:null,onStartEdges:!1,leadingEdgeContexts:[],lastAfterNodeContext:null}}processForcedBreak(e,t){const n=!e.leadingEdge&&Fa(e.breakAtTheEdge);if(n){const n=e.nodeContext=e.leadingEdgeContexts[0]||e.nodeContext;n.viewNode.parentNode.removeChild(n.viewNode),t.pageBreakType=e.breakAtTheEdge}return n}saveEdgeAndProcessOverflow(e,t){const n=t.checkOverflowAndSaveEdgeAndBreakPosition(e.lastAfterNodeContext,null,!0,e.breakAtTheEdge);return n&&(e.nodeContext=(e.lastAfterNodeContext||e.nodeContext).modify(),e.nodeContext.overflow=!0),n}processLayoutConstraint(e,t,n){let i=e.nodeContext;const o=!t.allowLayout(i);return o&&(n.checkOverflowAndSaveEdgeAndBreakPosition(e.lastAfterNodeContext,null,!1,e.breakAtTheEdge),i=e.nodeContext=i.modify(),i.overflow=!0),o}startNonElementNode(e){e.onStartEdges=!1}startNonInlineElementNode(e){return e.leadingEdgeContexts.push(e.nodeContext.copy()),e.breakAtTheEdge=Ba(e.breakAtTheEdge,e.nodeContext.breakBefore),e.onStartEdges=!0,this.startNonInlineBox(e)}afterNonInlineElementNode(e){let t,n;return e.onStartEdges?(t=this.endEmptyNonInlineBox(e),n=t&&t.isPending()?t:fi(!0),n=n.thenAsync(()=>(e.break||(e.leadingEdgeContexts=[],e.leadingEdge=!1,e.atUnforcedBreak=!1,e.breakAtTheEdge=null),fi(!0)))):(t=this.endNonInlineBox(e),n=t&&t.isPending()?t:fi(!0)),n.thenAsync(()=>(e.break||(e.onStartEdges=!1,e.lastAfterNodeContext=e.nodeContext.copy(),e.breakAtTheEdge=Ba(e.breakAtTheEdge,e.nodeContext.breakAfter)),fi(!0)))}}let cl=[];const ul=(new DOMParser).parseFromString(`<root xmlns="${L.SHADOW}"/>`,"text/xml"),dl=["footnote-marker","first-5-lines","first-4-lines","first-3-lines","first-2-lines","first-line","first-letter","before","","after"],pl="data-adapt-pseudo";function fl(e){return e.getAttribute(pl)||""}function gl(e,t){e.setAttribute(pl,t)}class ml{constructor(e,t,n,i,o){this.element=e,this.style=t,this.styler=n,this.context=i,this.exprContentListener=o,this.contentProcessed={}}getStyle(e,t){const n=fl(e);this.styler&&n&&n.match(/after$/)&&(this.style=this.styler.getStyle(this.element,!0),this.styler=null);const i=Xo(this.style,"_pseudos")[n]||{};if(n.match(/^first-/)&&!i["x-first-pseudo"]){let e,t=1;"first-letter"==n?t=0:null!=(e=n.match(/^first-([0-9]+)-lines$/))&&(t=e[1]-0),i["x-first-pseudo"]=new _o(new It(t),0)}return i}processContent(e,t){const n=fl(e);if(!this.contentProcessed[n]){this.contentProcessed[n]=!0;const i=t.content;i&&Ea(i)&&i.visit(new wa(e,this.context,i,this.exprContentListener))}}}_r.isInstanceOfAfterIfContinuesLayoutConstraint;const bl=vo.registerFragmentIndex;class wl{constructor(e,t){this.sourceNode=e,this.styler=t}createElement(e,t){const n=t.viewNode.ownerDocument.createElement("div"),i=new Pl(e,n,t),o=i.getColumn().pageBreakType;return i.getColumn().pageBreakType=null,i.layout(this.createNodePositionForPseudoElement(),!0).thenAsync(()=>{this.styler.contentProcessed["after-if-continues"]=!1,i.getColumn().pageBreakType=o;const e=n.firstChild;return U(e,"display","block"),fi(e)})}createNodePositionForPseudoElement(){const e=ul.createElementNS(L.XHTML,"div");gl(e,"after-if-continues");const t=this.createShadowContext(e),n={node:e,shadowType:t.type,shadowContext:t,nodeShadow:null,shadowSibling:null};return new pa({steps:[n],offsetInNode:0,after:!1,preprocessedTextContent:null})}createShadowContext(e){return new ha(this.sourceNode,e,null,null,null,Ur.ShadowType.ROOTED,this.styler)}}class El{constructor(e,t,n){this.nodeContext=e,this.afterIfContinues=t,this.pseudoElementHeight=n,this.flagmentLayoutConstraintType="AfterIfContinue"}allowLayout(e,t,n){return!(t&&!e||e&&e.overflow)}nextCandidate(e){return!1}postLayout(e,t,n,i){}finishBreak(e,t){return this.getRepetitiveElements().affectTo(e)?this.afterIfContinues.createElement(t,this.nodeContext).thenAsync(e=>(this.nodeContext.viewNode.appendChild(e),fi(!0))):fi(!0)}getRepetitiveElements(){return new yl(this.nodeContext,this.pseudoElementHeight)}equalsTo(e){return e instanceof El&&this.afterIfContinues==e.afterIfContinues}getPriorityOfFinishBreak(){return 9}}class yl{constructor(e,t){this.nodeContext=e,this.pseudoElementHeight=t}calculateOffset(e){return this.affectTo(e)?this.pseudoElementHeight:0}calculateMinimumOffset(e){return this.calculateOffset(e)}affectTo(e){if(!e)return!1;const t=e.shadowContext?e.shadowContext.owner:e.sourceNode;if(t===this.nodeContext.sourceNode)return!!e.after;for(let e=t.parentNode;e;e=e.parentNode)if(e===this.nodeContext.sourceNode)return!0;return!1}}function Sl(e,t){if(!e||!e.afterIfContinues||e.after||t.isFloatNodeContext(e))return fi(e);const n=e.afterIfContinues;return n.createElement(t,e).thenAsync(i=>{const o=function(e,t,n){const i=e.viewNode;i.appendChild(n);const o=Va(n,t,e.vertical);return i.removeChild(n),o}(e,t,i);return t.fragmentLayoutConstraints.push(new El(e,n,o)),fi(e)})}function Nl(e,t){return e.thenAsync(e=>Sl(e,t))}const vl={img:!0,svg:!0,audio:!0,video:!0};class Cl{constructor(e){this.constraints=e}allowLayout(e){return this.constraints.every(t=>t.allowLayout(e))}}class Tl extends Xa{constructor(e,t){super(),this.checkPoints=e,this.penalty=t,this.alreadyEvaluated=!1,this.breakNodeContext=null}findAcceptableBreak(e,t){return t<this.getMinBreakPenalty()?null:(this.alreadyEvaluated||(this.breakNodeContext=e.findBoxBreakPosition(this,t>0),this.alreadyEvaluated=!0),this.breakNodeContext)}getMinBreakPenalty(){return this.penalty}getNodeContext(){return this.alreadyEvaluated?this.breakNodeContext:this.checkPoints[this.checkPoints.length-1]}}function xl(e){switch(e){case"ruby":case"inline-block":case"inline-flex":case"inline-grid":case"inline-list-item":case"inline-table":return!0}return!1}class Il extends ba{constructor(e,t,n,i,o){super(e),this.layoutContext=t,this.clientLayout=n,this.layoutConstraint=i,this.pageFloatLayoutContext=o,this.flowRootFormattingContext=null,this.isFloat=!1,this.isFootnote=!1,this.startEdge=0,this.endEdge=0,this.beforeEdge=0,this.afterEdge=0,this.footnoteEdge=0,this.box=null,this.chunkPositions=null,this.bands=null,this.overflown=!1,this.breakPositions=null,this.pageBreakType=null,this.forceNonfitting=!0,this.leftFloatEdge=0,this.rightFloatEdge=0,this.bottommostFloatTop=0,this.stopAtOverflow=!0,this.lastAfterPosition=null,this.fragmentLayoutConstraints=[],this.pseudoParent=null,this.nodeContextOverflowingDueToRepetitiveElements=null,this.blockDistanceToBlockEndFloats=NaN,this.last=e.lastChild,this.viewDocument=e.ownerDocument,o.setContainer(this)}getTopEdge(){return this.vertical?this.startEdge:this.beforeEdge}getBottomEdge(){return this.vertical?this.endEdge:this.afterEdge}getLeftEdge(){return this.vertical?this.afterEdge:this.startEdge}getRightEdge(){return this.vertical?this.beforeEdge:this.endEdge}isFloatNodeContext(e){return!(!e.floatSide||this.isFloat&&!e.parent)}stopByOverflow(e){return this.stopAtOverflow&&!!e&&e.overflow}isOverflown(e){return this.vertical?e<this.footnoteEdge:e>this.footnoteEdge}getExclusions(){const e=this.pageFloatLayoutContext.getFloatFragmentExclusions();return this.exclusions.concat(e)}openAllViews(e){const t=this,n=pi("openAllViews"),i=e.steps;t.layoutContext.setViewRoot(t.element,t.isFootnote);let o=i.length-1,s=null;return n.loop(()=>{for(;o>=0;){const n=s,r=i[o];if(s=aa(r,n),o!==i.length-1||s.formattingContext||(s.formattingContext=t.flowRootFormattingContext),0==o&&(s.offsetInNode=t.calculateOffsetInNodeForNodeContext(e),s.after=e.after,s.preprocessedTextContent=e.preprocessedTextContent,s.after))break;const a=t.layoutContext.setCurrent(s,0==o&&0==s.offsetInNode);if(o--,a.isPending())return a}return fi(!1)}).then(()=>{n.finish(s)}),n.result()}calculateOffsetInNodeForNodeContext(e){return e.preprocessedTextContent?function(e,t){return Gr(e,t,1)}(e.preprocessedTextContent,e.offsetInNode):e.offsetInNode}maybePeelOff(e,t){if(e.firstPseudo&&e.inline&&!e.after&&0==e.firstPseudo.count&&1!=e.viewNode.nodeType){const t=e.viewNode.textContent.match(Al);return this.layoutContext.peelOff(e,t[0].length)}return fi(e)}buildViewToNextBlockEdge(e,t){const n=this;let i=!1;const o=pi("buildViewToNextBlockEdge");return o.loopWithFrame(o=>{e.viewNode&&!Wa(e)&&t.push(e.copy()),n.maybePeelOff(e,0).then(s=>{s!==e&&(Wa(e=s)||t.push(e.copy())),n.nextInTree(e).then(t=>{(e=t)?(!i&&n.layoutConstraint.allowLayout(e)||(i=!0,(e=e.modify()).overflow=!0),n.isFloatNodeContext(e)&&!n.vertical?n.layoutFloatOrFootnote(e).then(t=>{e=t,n.pageFloatLayoutContext.isInvalidated()&&(e=null),e?o.continueLoop():o.breakLoop()}):e.inline?o.continueLoop():o.breakLoop()):o.breakLoop()})})}).then(()=>{o.finish(e)}),o.result()}nextInTree(e,t){return Nl(this.layoutContext.nextInTree(e,t),this)}buildDeepElementView(e){if(!e.viewNode)return fi(e);let t=[];const n=e.sourceNode,i=this,o=pi("buildDeepElementView");return o.loopWithFrame(o=>{e.viewNode&&e.inline&&!Wa(e)?t.push(e.copy()):(t.length>0&&i.postLayoutBlock(e,t),t=[]),i.maybePeelOff(e,0).then(s=>{const r=s;if(r!==e){let i=r;for(;i&&i.sourceNode!=n;)i=i.parent;if(null==i)return e=r,void o.breakLoop();Wa(r)||t.push(r.copy())}i.nextInTree(r).then(t=>{(e=t)&&e.sourceNode!=n?i.layoutConstraint.allowLayout(e)?o.continueLoop():((e=e.modify()).overflow=!0,i.stopAtOverflow?o.breakLoop():o.continueLoop()):o.breakLoop()})})}).then(()=>{t.length>0&&i.postLayoutBlock(e,t),o.finish(e)}),o.result()}createFloat(e,t,n,i){const o=this.viewDocument.createElement("div");return this.vertical?(i>=this.height&&(i-=.1),U(o,"height",`${n}px`),U(o,"width",`${i}px`)):(n>=this.width&&(n-=.1),U(o,"width",`${n}px`),U(o,"height",`${i}px`)),U(o,"float",t),U(o,"clear",t),this.element.insertBefore(o,e),o}killFloats(){let e=this.element.firstChild;for(;e;){const t=e.nextSibling;if(1==e.nodeType){const t=e,n=t.style.cssFloat;if("left"!=n&&"right"!=n)break;this.element.removeChild(t)}e=t}}createFloats(){const e=this.element.firstChild,t=this.bands,n=this.vertical?this.getTopEdge():this.getLeftEdge(),i=this.vertical?this.getBottomEdge():this.getRightEdge();for(const o of t){const t=o.y2-o.y1;o.left=this.createFloat(e,"left",o.x1-n,t),o.right=this.createFloat(e,"right",i-o.x2,t)}}calculateEdge(e,t,n,i){let o;if(e&&Ha(e.viewNode))return NaN;if(e&&e.after&&!e.inline&&(o=za(e,this.clientLayout,0,this.vertical),!isNaN(o)))return o;let s=i-(e=t[n]).boxOffset;for(;;){if(o=za(e,this.clientLayout,s,this.vertical),!isNaN(o))return o;if(s>0)s--;else{if(--n<0)return this.beforeEdge;1!=(e=t[n]).viewNode.nodeType&&(s=e.viewNode.textContent.length)}}}parseComputedLength(e){if("number"==typeof e)return e;const t=e.match(/^(-?[0-9]*(\.[0-9]*)?)px$/);return t?parseFloat(t[0]):0}getComputedMargin(e){const t=this.clientLayout.getElementComputedStyle(e),n=new Xt(0,0,0,0);return t&&(n.left=this.parseComputedLength(t.marginLeft),n.top=this.parseComputedLength(t.marginTop),n.right=this.parseComputedLength(t.marginRight),n.bottom=this.parseComputedLength(t.marginBottom)),n}getComputedPaddingBorder(e){const t=this.clientLayout.getElementComputedStyle(e),n=new Xt(0,0,0,0);return t&&(n.left=this.parseComputedLength(t.borderLeftWidth)+this.parseComputedLength(t.paddingLeft),n.top=this.parseComputedLength(t.borderTopWidth)+this.parseComputedLength(t.paddingTop),n.right=this.parseComputedLength(t.borderRightWidth)+this.parseComputedLength(t.paddingRight),n.bottom=this.parseComputedLength(t.borderBottomWidth)+this.parseComputedLength(t.paddingBottom)),n}getComputedInsets(e){const t=this.clientLayout.getElementComputedStyle(e),n=new Xt(0,0,0,0);if(t){if("border-box"==t.boxSizing)return this.getComputedMargin(e);n.left=this.parseComputedLength(t.marginLeft)+this.parseComputedLength(t.borderLeftWidth)+this.parseComputedLength(t.paddingLeft),n.top=this.parseComputedLength(t.marginTop)+this.parseComputedLength(t.borderTopWidth)+this.parseComputedLength(t.paddingTop),n.right=this.parseComputedLength(t.marginRight)+this.parseComputedLength(t.borderRightWidth)+this.parseComputedLength(t.paddingRight),n.bottom=this.parseComputedLength(t.marginBottom)+this.parseComputedLength(t.borderBottomWidth)+this.parseComputedLength(t.paddingBottom)}return n}setComputedInsets(e,t){const n=this.clientLayout.getElementComputedStyle(e);n&&(t.marginLeft=this.parseComputedLength(n.marginLeft),t.borderLeft=this.parseComputedLength(n.borderLeftWidth),t.paddingLeft=this.parseComputedLength(n.paddingLeft),t.marginTop=this.parseComputedLength(n.marginTop),t.borderTop=this.parseComputedLength(n.borderTopWidth),t.paddingTop=this.parseComputedLength(n.paddingTop),t.marginRight=this.parseComputedLength(n.marginRight),t.borderRight=this.parseComputedLength(n.borderRightWidth),t.paddingRight=this.parseComputedLength(n.paddingRight),t.marginBottom=this.parseComputedLength(n.marginBottom),t.borderBottom=this.parseComputedLength(n.borderBottomWidth),t.paddingBottom=this.parseComputedLength(n.paddingBottom))}setComputedWidthAndHeight(e,t){const n=this.clientLayout.getElementComputedStyle(e);n&&(t.width=this.parseComputedLength(n.width),t.height=this.parseComputedLength(n.height))}layoutUnbreakable(e){return this.buildDeepElementView(e)}layoutFloat(e){const t=this,n=pi("layoutFloat"),i=e.viewNode,o=e.floatSide;return U(i,"float","none"),U(i,"display","inline-block"),U(i,"vertical-align","top"),t.buildDeepElementView(e).then(s=>{const r=t.clientLayout.getElementClientRect(i),a=t.getComputedMargin(i);let l=new $t(r.left-a.left,r.top-a.top,r.right+a.right,r.bottom+a.bottom),h=t.startEdge,c=t.endEdge,u=e.parent;for(;u&&u.inline;)u=u.parent;if(u){const n=u.viewNode.ownerDocument.createElement("div");n.style.left="0px",n.style.top="0px",t.vertical?(n.style.bottom="0px",n.style.width="1px"):(n.style.right="0px",n.style.height="1px"),u.viewNode.appendChild(n);const i=t.clientLayout.getElementClientRect(n);h=Math.max(t.getStartEdge(i),h),c=Math.min(t.getEndEdge(i),c),u.viewNode.removeChild(n);const s=t.vertical?l.y2-l.y1:l.x2-l.x1;"left"==o?c=Math.max(c,h+s):h=Math.min(h,c-s),u.viewNode.appendChild(e.viewNode)}let d=new $t(h,t.getBoxDir()*t.beforeEdge,c,t.getBoxDir()*t.afterEdge),p=l;t.vertical&&(p=rn(l));const f=t.getBoxDir();if(p.y1<t.bottommostFloatTop*f){const e=p.y2-p.y1;p.y1=t.bottommostFloatTop*f,p.y2=p.y1+e}(function(e,t,n,i){let o=n.y1;const s=n.x2-n.x1,r=n.y2-n.y1;let a=cn(t,o);for(;;){const l=o+r;if(l>e.y2)return!1;let h=e.x1,c=e.x2;for(let e=a;e<t.length&&t[e].y1<l;e++){const n=t[e];n.x1>h&&(h=n.x1),n.x2<c&&(c=n.x2)}if(h+s<=c||a>=t.length)return"left"==i?(n.x1=h,n.x2=h+s):(n.x1=c-s,n.x2=c),n.y2+=o-n.y1,n.y1=o,!0;o=t[a].y2,a++}})(d,t.bands,p,o),t.vertical&&(l=an(p));const g=t.getComputedInsets(i);let m;U(i,"width",`${l.x2-l.x1-g.left-g.right}px`),U(i,"height",`${l.y2-l.y1-g.top-g.bottom}px`),U(i,"position","absolute"),e.display,U(i,"display",e.display);let b=null;if(u&&(b=u.containingBlockForAbsolute?u:u.getContainingBlockForAbsolute()),b){const e=b.viewNode.ownerDocument.createElement("div");e.style.position="absolute",b.vertical?e.style.right="0":e.style.left="0",e.style.top="0",b.viewNode.appendChild(e),m=t.clientLayout.getElementClientRect(e),b.viewNode.removeChild(e)}else m={left:t.getLeftEdge()-t.paddingLeft,right:t.getRightEdge()+t.paddingRight,top:t.getTopEdge()-t.paddingTop};(b?b.vertical:t.vertical)?U(i,"right",`${m.right-l.x2}px`):U(i,"left",`${l.x1-m.left}px`),U(i,"top",`${l.y1-m.top}px`),e.clearSpacer&&(e.clearSpacer.parentNode.removeChild(e.clearSpacer),e.clearSpacer=null);const w=t.vertical?l.x1:l.y2,E=t.vertical?l.x2:l.y1;t.isOverflown(w)&&0!=t.breakPositions.length?((e=e.modify()).overflow=!0,n.finish(e)):(t.killFloats(),d=new $t(t.getLeftEdge(),t.getTopEdge(),t.getRightEdge(),t.getBottomEdge()),t.vertical&&(d=rn(d)),function(e,t,n,i,o){for(i||(i=[new Kt(n.y1,n.y2,n.x1,n.x2)]);i.length>0&&i[0].y2<=e.y1;)i.shift();if(0==i.length)return;let s;i[0].y1<e.y1&&(i[0].y1=e.y1);const r=0==t.length?e.y1:t[t.length-1].y2;r<e.y2&&t.push(new Kt(r,e.y2,e.x1,e.x2));let a=cn(t,i[0].y1);for(const n of i){if(a==t.length)break;for(t[a].y1<n.y1&&(s=t[a],a++,t.splice(a,0,new Kt(n.y1,s.y2,s.x1,s.x2)),s.y2=n.y1);a<t.length&&(s=t[a++],s.y2>n.y2&&(t.splice(a,0,new Kt(n.y2,s.y2,s.x1,s.x2)),s.y2=n.y2),n.x1!=n.x2&&("left"==o?s.x1=Math.min(n.x2,e.x2):s.x2=Math.max(n.x1,e.x1)),s.y2!=n.y2););}hn(e,t)}(d,t.bands,p,null,o),t.createFloats(),"left"==o?t.leftFloatEdge=w:t.rightFloatEdge=w,t.bottommostFloatTop=E,t.updateMaxReachedAfterEdge(w),n.finish(s))}),n.result()}setupFloatArea(e,t,n,i,o,s){const r=this.pageFloatLayoutContext,a=r.getContainer(t),l=e.element;a.element.parentNode.appendChild(l),e.isFloat=!0,e.originX=a.originX,e.originY=a.originY,e.vertical=a.vertical,e.marginLeft=e.marginRight=e.marginTop=e.marginBottom=0,e.borderLeft=e.borderRight=e.borderTop=e.borderBottom=0,e.paddingLeft=e.paddingRight=e.paddingTop=e.paddingBottom=0,e.exclusions=(a.exclusions||[]).concat(),e.forceNonfitting=!r.hasFloatFragments(),e.innerShape=null;const h=a.getPaddingRect();e.setHorizontalPosition(h.x1-a.originX,h.x2-h.x1),e.setVerticalPosition(h.y1-a.originY,h.y2-h.y1),o.adjustPageFloatArea(e,a,this),e.init();const c=!!r.setFloatAreaDimensions(e,t,n,i,!0,!r.hasFloatFragments(),s);return c?(e.killFloats(),e.init()):a.element.parentNode.removeChild(l),c}createPageFloatArea(e,t,n,i,o){const s=this.element.ownerDocument.createElement("div");U(s,"position","absolute");const r=this.pageFloatLayoutContext.getPageFloatLayoutContext(e.floatReference),a=new xa(null,ya.COLUMN,null,this.pageFloatLayoutContext.flowName,e.nodePosition,null,null),l=r.getContainer(),h=new Fl(t,s,this.layoutContext.clone(),this.clientLayout,this.layoutConstraint,a,l);return a.setContainer(h),this.setupFloatArea(h,e.floatReference,t,n,i,o)?h:null}layoutSinglePageFloatFragment(e,t,n,i,o,s,r){const a=this.pageFloatLayoutContext,l=r?r.continuations:[],h=(e=l.concat(e))[0].float,c=a.getPageFloatPlacementCondition(h,t,n),u=this.createPageFloatArea(h,t,s,o,c),d={floatArea:u,pageFloatFragment:null,newPosition:null};if(!u)return fi(d);const p=pi("layoutSinglePageFloatFragment");let f=!1,g=0;return p.loopWithFrame(t=>{if(g>=e.length)return void t.breakLoop();const n=e[g],o=new pa(n.nodePosition);u.layout(o,!0).then(e=>{d.newPosition=e,!e||i?(g++,t.continueLoop()):(f=!0,t.breakLoop())})}).then(()=>{if(!f){const n=a.setFloatAreaDimensions(u,h.floatReference,t,s,!1,i,c);if(n){const t=o.createPageFloatFragment(e,n,u,!!d.newPosition);a.addPageFloatFragment(t,!0),d.pageFloatFragment=t}else f=!0}p.finish(d)}),p.result()}layoutPageFloatInner(e,t,n,i){const o=this.pageFloatLayoutContext,s=e.float;function r(t,n){n?o.removePageFloatFragment(n,!0):t&&t.element.parentNode.removeChild(t.element),o.restoreStashedFragments(s.floatReference),o.deferPageFloat(e)}o.stashEndFloatFragments(s);const a=pi("layoutPageFloatInner"),l=this;return this.layoutSinglePageFloatFragment([e],s.floatSide,s.clearSide,!o.hasFloatFragments(),t,n,i).then(e=>{const t=e.floatArea,n=e.pageFloatFragment,h=e.newPosition;n?l.layoutStashedPageFloats(s.floatReference,[i]).then(e=>{if(e){if(o.addPageFloatFragment(n),o.discardStashedFragments(s.floatReference),h){const e=new Ta(s,h.primary);o.deferPageFloat(e)}a.finish(!0)}else r(t,n),a.finish(!1)}):(r(t,n),a.finish(!1))}),a.result()}layoutStashedPageFloats(e,t){const n=this.pageFloatLayoutContext,i=n.getStashedFloatFragments(e),o=[],s=[];let r=!1;const a=pi("layoutStashedPageFloats"),l=this;let h=0;return a.loopWithFrame(e=>{if(h>=i.length)return void e.breakLoop();const n=i[h];if(t.includes(n))return h++,void e.continueLoop();const a=(new Pa).findByFloat(n.continuations[0].float);l.layoutSinglePageFloatFragment(n.continuations,n.floatSide,null,!1,a,null).then(t=>{const n=t.floatArea;n&&o.push(n);const i=t.pageFloatFragment;i?(s.push(i),h++,e.continueLoop()):(r=!0,e.breakLoop())})}).then(()=>{r?(s.forEach(e=>{n.removePageFloatFragment(e,!0)}),o.forEach(e=>{const t=e.element;t&&t.parentNode&&t.parentNode.removeChild(t)})):i.forEach(e=>{const t=e.area.element;t&&t.parentNode&&t.parentNode.removeChild(t)}),a.finish(!r)}),a.result()}setFloatAnchorViewNode(e){const t=e.viewNode.parentNode,n=t.ownerDocument.createElement("span");n.setAttribute(qr,"1"),"footnote"===e.floatSide&&this.layoutContext.applyPseudoelementStyle(e,"footnote-call",n),t.appendChild(n),t.removeChild(e.viewNode);const i=e.modify();return i.after=!0,i.viewNode=n,i}resolveFloatReferenceFromColumnSpan(e,t,n){const i=this,o=pi("resolveFloatReferenceFromColumnSpan"),s=this.pageFloatLayoutContext,r=s.getPageFloatLayoutContext(ya.REGION);return s.getContainer().width<r.getContainer().width&&e===ya.COLUMN?t===Bt.auto?this.buildDeepElementView(n.copy()).then(t=>{const n=t.viewNode;let s=yr(i.clientLayout,n,[Er.MIN_CONTENT_INLINE_SIZE])[Er.MIN_CONTENT_INLINE_SIZE];const r=i.getComputedMargin(n);i.vertical?s+=r.top+r.bottom:s+=r.left+r.right,s>i.width?o.finish(ya.REGION):o.finish(e)}):t===Bt.all?o.finish(ya.REGION):o.finish(e):o.finish(e),o.result()}layoutPageFloat(e){const t=this,n=this.pageFloatLayoutContext,i=(new Pa).findByNodeContext(e);let o;const s=n.findPageFloatByNodePosition(e.toNodePosition());return o=s?fi(s):i.createPageFloat(e,n,this),o.thenAsync(o=>{const s=ra(e,0),r=t.setFloatAnchorViewNode(e),a=i.findPageFloatFragment(o,n),l=new Ta(o,s);if(a&&a.hasFloat(o))return n.registerPageFloatAnchor(o,r.viewNode),fi(r);if(n.isForbidden(o)||n.hasPrecedingFloatsDeferredToNext(o))return n.deferPageFloat(l),n.registerPageFloatAnchor(o,r.viewNode),fi(r);if(t.nodeContextOverflowingDueToRepetitiveElements)return fi(null);{const e=za(r,t.clientLayout,0,t.vertical);return t.isOverflown(e)?fi(r):t.layoutPageFloatInner(l,i,e,a).thenAsync(e=>e?fi(null):(n.registerPageFloatAnchor(o,r.viewNode),fi(r)))}})}createJustificationAdjustmentElement(e,t,n,i){const o=t.createElement("span");o.style.visibility="hidden",o.style.verticalAlign="top",o.setAttribute(qr,"1");const s=t.createElement("span");s.style.fontSize="0",s.style.lineHeight="0",s.textContent=" #",o.appendChild(s),o.style.display="block",o.style.textIndent="0",o.style.textAlign="left",n.insertBefore(o,e);const r=this.clientLayout.getElementClientRect(s);o.style.textAlign="right";const a=this.clientLayout.getElementClientRect(s);o.style.textAlign="",function(e){if(null===ie){const t=e.ownerDocument,n=t.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.width="30px",n.style.height="100px",n.style.lineHeight="16px",n.style.fontSize="16px",n.style.textAlign="justify",e.appendChild(n);const i=t.createTextNode("a | ");n.appendChild(i);const o=t.createElement("span");o.style.display="inline-block",o.style.width="30px",n.appendChild(o);const s=t.createRange();s.setStart(i,0),s.setEnd(i,3);const r=s.getBoundingClientRect();ie=r.right<27,e.removeChild(n)}return ie}(document.body)?o.style.display="inline":o.style.display="inline-block";const l=i?a.top-r.top:a.left-r.left,h=l>=1?`${l-1}px`:"100%";return i?o.style.paddingTop=h:o.style.paddingLeft=h,o}addAndAdjustJustificationElement(e,t,n,i,o,s){return function(e,t,n,i){if(function(e){if(null===oe){const t=e.ownerDocument,n=t.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.width="40px",n.style.height="100px",n.style.lineHeight="16px",n.style.fontSize="16px",n.style.textAlign="justify",e.appendChild(n);const i=t.createTextNode("a a-");n.appendChild(i);const o=t.createElement("span");o.style.display="inline-block",o.style.width="40px",n.appendChild(o);const s=t.createRange();s.setStart(i,2),s.setEnd(i,4);const r=s.getBoundingClientRect();oe=r.right<37,e.removeChild(n)}return oe}(document.body)){const o=Rl(e),s=t?n:n.previousSibling,r=s?s.textContent:"";if(r.charAt(r.length-1)===o){const e=n.ownerDocument,t=n.parentNode;!function(e){if(null===se){const t=e.ownerDocument,n=t.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.width="40px",n.style.height="100px",n.style.lineHeight="16px",n.style.fontSize="16px",n.style.textAlign="justify",e.appendChild(n);const i=t.createTextNode("a a-");n.appendChild(i),n.appendChild(t.createElement("wbr"));const o=t.createElement("span");o.style.display="inline-block",o.style.width="40px",n.appendChild(o);const s=t.createRange();s.setStart(i,2),s.setEnd(i,4);const r=s.getBoundingClientRect();se=r.right<37,e.removeChild(n)}return se}(document.body)?t.insertBefore(e.createElement("wbr"),i):t.insertBefore(e.createTextNode(" "),i)}}}(e,t,n,i),this.createJustificationAdjustmentElement(i,o,s,e.vertical)}compensateJustificationLineHeight(e,t,n){const i=this.clientLayout.getElementClientRect(e),o=this.clientLayout.getElementClientRect(t);n.vertical?(t.style.marginRight=`${o.right-i.right}px`,t.style.width="0px"):(t.style.marginTop=`${i.top-o.top}px`,t.style.height="0px"),t.setAttribute(qr,"1")}fixJustificationIfNeeded(e,t){if(e.after&&!e.inline)return;if(t){let t="";for(let n=e.parent;n&&!t;n=n.parent)!n.inline&&n.viewNode&&(t=n.viewNode.style.textAlign);if("justify"!==t)return}const n=e.viewNode,i=n.ownerDocument,o=t&&(e.after||1!=n.nodeType);let s=o?n.nextSibling:n;s&&!s.parentNode&&(s=null);const r=n.parentNode||e.parent&&e.parent.viewNode;if(!r)return;const a=this.addAndAdjustJustificationElement(e,o,n,s,i,r);if(!t){const t=i.createElement("div");r.insertBefore(t,s),this.compensateJustificationLineHeight(a,t,e)}}processLineStyling(e,t,n){const i=this,o=pi("processLineStyling");let s=n.concat([]);n.splice(0,n.length);let r=0,a=e.firstPseudo;return 0==a.count&&(a=a.outer),o.loopWithFrame(n=>{if(!a)return void n.breakLoop();const o=i.findLinePositions(s),l=a.count-r;if(o.length<=l)return void n.breakLoop();const h=i.findAcceptableBreakInside(s,o[l-1],!0);null!=h?i.finishBreak(h,!1,!1).then(()=>{r+=l,i.layoutContext.peelOff(h,0).then(o=>{e=o,i.fixJustificationIfNeeded(e,!1),a=e.firstPseudo,s=[],i.buildViewToNextBlockEdge(e,s).then(e=>{t=e,n.continueLoop()})})}):n.breakLoop()}).then(()=>{Array.prototype.push.apply(n,s),o.finish(t)}),o.result()}isLoneImage(e){return!(2!=e.length&&this.breakPositions.length>0)&&e[0].sourceNode==e[1].sourceNode&&vl[e[0].sourceNode.localName]}getTrailingMarginEdgeAdjustment(e){let t=0,n=0;for(let i=e.length-1;i>=0;i--){const o=e[i];if(!o.after||!o.viewNode||1!=o.viewNode.nodeType)break;const s=this.getComputedMargin(o.viewNode),r=this.vertical?-s.left:s.bottom;r>0?t=Math.max(t,r):n=Math.min(n,r)}return t-n}layoutBreakableBlock(e){const t=this,n=pi("layoutBreakableBlock"),i=[];return t.buildViewToNextBlockEdge(e,i).then(o=>{const s=i.length-1;if(s<0)return void n.finish(o);let r,a=t.calculateEdge(o,i,s,i[s].boxOffset),l=!1;if(!o||!Ha(o.viewNode)){const e=ja(o,t.collectElementsOffset());l=t.isOverflown(a+(t.vertical?-1:1)*e.minimum),t.isOverflown(a+(t.vertical?-1:1)*e.current)&&!t.nodeContextOverflowingDueToRepetitiveElements&&(t.nodeContextOverflowingDueToRepetitiveElements=o)}null==o&&(a+=t.getTrailingMarginEdgeAdjustment(i)),t.updateMaxReachedAfterEdge(a),r=e.firstPseudo?t.processLineStyling(e,o,i):fi(o),r.then(e=>{t.postLayoutBlock(e,i),i.length>0&&(t.saveBoxBreakPosition(i),l&&!t.isLoneImage(i)&&e&&((e=e.modify()).overflow=!0)),n.finish(e)})}),n.result()}postLayoutBlock(e,n){p(t.HOOKS.POST_LAYOUT_BLOCK).forEach(t=>{t(e,n,this)})}findEndOfLine(e,t,n){const i=this.vertical?e-1:e+1;let o,s=0,r=t[0].boxOffset,a=s,l=t.length-1,h=t[l].boxOffset;for(;r<h;){o=r+Math.ceil((h-r)/2),a=s;let e=l;for(;a<e;){const n=a+Math.ceil((e-a)/2);t[n].boxOffset>o?e=n-1:a=n}const c=this.calculateEdge(null,t,a,o);if(this.vertical?c<=i:c>=i){for(h=o-1;t[a].boxOffset==o;)a--;l=a}else n&&this.updateMaxReachedAfterEdge(c),r=o,s=a}return{nodeContext:t[a],index:r,checkPointIndex:a}}findAcceptableBreakInside(e,t,n){const i=this.findEndOfLine(t,e,!0);let o=i.nodeContext;const s=o.viewNode;if(1!=s.nodeType){const t=s;o=this.resolveTextNodeBreaker(o).breakTextNode(t,o,i.index,e,i.checkPointIndex,n)}return this.clearOverflownViewNodes(o,!1),o}resolveTextNodeBreaker(e){return p(t.HOOKS.RESOLVE_TEXT_NODE_BREAKER).reduce((t,n)=>n(e)||t,Ol.instance)}getRangeBoxes(e,t){const n=[],i=e.ownerDocument.createRange();let o=!1,s=e,r=null,a=!1,l=!0;for(;l;){let e=!0;do{let n=null;s==t&&(l=1===t.nodeType&&!(!t.firstChild||o)),1!=s.nodeType?(a||(i.setStartBefore(s),a=!0),r=s):o?o=!1:$a(s)?e=!a:"ruby"==s.localName||xl(this.clientLayout.getElementComputedStyle(s).display)?(e=!a,e&&(i.setStartBefore(s),a=!0,r=s),s.contains(t)&&(l=!1)):n=s.firstChild,n||(n=s.nextSibling,n||(o=!0,n=s.parentNode)),s=n}while(e&&l);if(a){i.setEndAfter(r);const e=this.clientLayout.getRangeClientRects(i);for(let t=0;t<e.length;t++)n.push(e[t]);a=!1}}return n}findLinePositions(e){const t=[],n=this.getRangeBoxes(e[0].viewNode,e[e.length-1].viewNode);n.sort(this.vertical?ia:na);let i=0,o=0,s=0,r=0,a=0;const l=this.getBoxDir();for(;;){if(a<n.length){const e=n[a];let t=1;if(r>0){const n=Math.max(this.getBoxSize(e),1);t=l*this.getBeforeEdge(e)<l*i?l*(this.getAfterEdge(e)-i)/n:l*this.getAfterEdge(e)>l*o?l*(o-this.getBeforeEdge(e))/n:1}if(0==r||t>=.6||t>=.2&&this.getStartEdge(e)>=s-1){s=this.getEndEdge(e),this.vertical?(i=0==r?e.right:Math.max(i,e.right),o=0==r?e.left:Math.min(o,e.left)):(i=0==r?e.top:Math.min(i,e.top),o=0==r?e.bottom:Math.max(o,e.bottom)),r++,a++;continue}}if(r>0&&(t.push(o),r=0),a>=n.length)break}return t.sort(Q),this.vertical&&t.reverse(),t}calculateClonedPaddingBorder(e){let t=0;return e.walkUpBlocks(e=>{if("clone"===e.inheritedProps["box-decoration-break"]){e.viewNode,Element;const n=this.getComputedPaddingBorder(e.viewNode);t+=e.vertical?-n.left:n.bottom,"table"===e.display&&(t+=e.blockBorderSpacing)}}),t}getOffsetByRepetitiveElements(e){let t;return t=e?e.calculateOffset(this):ja(null,this.collectElementsOffset()),t.current}findBoxBreakPosition(e,t){const n=this,i=e.checkPoints;let o,s,r=i[0];for(;r.parent&&r.inline;)r=r.parent;t?(o=1,s=1):(o=Math.max((r.inheritedProps.widows||2)-0,1),s=Math.max((r.inheritedProps.orphans||2)-0,1));const a=n.calculateClonedPaddingBorder(r),l=this.findLinePositions(i);let h=this.footnoteEdge-a;const c=this.getBoxDir(),u=this.getOffsetByRepetitiveElements(e);h-=c*u;const d=this.findFirstOverflowingEdgeAndCheckPoint(i);isNaN(d.edge)&&(d.edge=c*(1/0));let p=Z(l.length,e=>{const t=l[e];return n.vertical?t<h||t<=d.edge:t>h||t>=d.edge});const f=p<=0;if(f&&(p=Z(l.length,e=>n.vertical?l[e]<h:l[e]>h)),p=Math.min(l.length-o,p),p<s)return null;let g;if(h=l[p-1],g=f?d.checkPoint:this.findAcceptableBreakInside(e.checkPoints,h,t),g){const e=this.getAfterEdgeOfBlockContainer(g);!isNaN(e)&&e<h&&(h=e),this.computedBlockSize=c*(h-this.beforeEdge)+u}return g}getAfterEdgeOfBlockContainer(e){let t=e;do{t=t.parent}while(t&&t.inline);return t?(t=t.copy().modify(),t.after=!0,za(t,this.clientLayout,0,this.vertical)):NaN}findFirstOverflowingEdgeAndCheckPoint(e){const t=e.findIndex(e=>e.overflow);if(t<0)return{edge:NaN,checkPoint:null};const n=e[t];return{edge:this.calculateEdge(null,e,t,n.boxOffset),checkPoint:n}}findEdgeBreakPosition(e){return this.computedBlockSize=e.computedBlockSize+this.getOffsetByRepetitiveElements(e),e.position}finishBreak(e,t,n){e.formattingContext;let i=(new tl).find(e.formattingContext).finishBreak(this,e,t,n);return i||(i=ol.finishBreak(this,e,t,n)),i}findAcceptableBreakPosition(){let e=null,t=null,n=0,i=0;do{n=i,i=Number.MAX_VALUE;for(let o=this.breakPositions.length-1;o>=0&&!t;--o){e=this.breakPositions[o],t=e.findAcceptableBreak(this,n);const s=e.getMinBreakPenalty();s>n&&(i=Math.min(i,s))}}while(i>n&&!t&&this.forceNonfitting);return{breakPosition:t?e:null,nodeContext:t}}doFinishBreak(e,t,n,i){if(this.pageFloatLayoutContext.isInvalidated()||this.pageBreakType||!t)return fi(e);const o=this,s=pi("doFinishBreak");let r=!1;if(!e){if(this.forceNonfitting)return h.warn("Could not find any page breaks?!!"),o.skipTailEdges(t).then(e=>{e?((e=e.modify()).overflow=!1,o.finishBreak(e,r,!0).then(()=>{s.finish(e)})):s.finish(e)}),s.result();e=n,r=!0,o.computedBlockSize=i}return this.finishBreak(e,r,!0).then(()=>{s.finish(e)}),s.result()}isBreakable(e){if(e.after)return!0;switch(e.sourceNode.namespaceURI){case L.SVG:return!1}return!e.flexContainer}zeroIndent(e){const t=e.toString();return""==t||"auto"==t||!!t.match(/^0+(.0*)?[^0-9]/)}checkOverflowAndSaveEdge(e,t){if(!e)return!1;if(Ha(e.viewNode))return!1;let n=za(e,this.clientLayout,0,this.vertical);const i=ja(e,this.collectElementsOffset()),o=this.isOverflown(n+(this.vertical?-1:1)*i.minimum);if(this.isOverflown(n+(this.vertical?-1:1)*i.current)&&!this.nodeContextOverflowingDueToRepetitiveElements)this.nodeContextOverflowingDueToRepetitiveElements=e;else if(t){const e=n+this.getTrailingMarginEdgeAdjustment(t),o=this.footnoteEdge-this.getBoxDir()*i.current;n=this.vertical?Math.min(n,Math.max(e,o)):Math.max(n,Math.min(e,o))}return this.updateMaxReachedAfterEdge(n),o}checkOverflowAndSaveEdgeAndBreakPosition(e,t,n,i){if(!e)return!1;if(Ha(e.viewNode))return!1;const o=this.checkOverflowAndSaveEdge(e,t);return!n&&o||this.saveEdgeBreakPosition(e,i,o),o}applyClearance(e){if(!e.viewNode.parentNode)return!1;const t=this.getComputedMargin(e.viewNode),n=e.viewNode.ownerDocument.createElement("div");this.vertical?(n.style.bottom="0px",n.style.width="1px",n.style.marginRight=`${t.right}px`):(n.style.right="0px",n.style.height="1px",n.style.marginTop=`${t.top}px`),e.viewNode.parentNode.insertBefore(n,e.viewNode);let i=this.clientLayout.getElementClientRect(n);const o=this.getBeforeEdge(i),s=this.getBoxDir(),r=e.clearSide;let a=-this.getBoxDir()*(1/0);switch("all"===r&&(a=this.pageFloatLayoutContext.getPageFloatClearEdge(r,this)),r){case"left":a=s*Math.max(a*s,this.leftFloatEdge*s);break;case"right":a=s*Math.max(a*s,this.rightFloatEdge*s);break;default:a=s*Math.max(a*s,Math.max(this.rightFloatEdge*s,this.leftFloatEdge*s))}if(o*s>=a*s)return e.viewNode.parentNode.removeChild(n),!1;{const r=Math.max(1,(a-o)*s);this.vertical?n.style.width=`${r}px`:n.style.height=`${r}px`,i=this.clientLayout.getElementClientRect(n);const l=this.getAfterEdge(i);if(this.vertical){let e=l+t.right-a;e>0==t.right>=0&&(e+=t.right),n.style.marginLeft=`${e}px`}else{let e=a-(l+t.top);e>0==t.top>=0&&(e+=t.top),n.style.marginBottom=`${e}px`}return e.clearSpacer=n,!0}}isBFC(e){return!!sl(e)||!!Br.isInstanceOfRepetitiveElementsOwnerFormattingContext(e)}skipEdges(e,t,n){const i=e.after?e.parent&&e.parent.formattingContext:e.formattingContext;if(i&&!this.isBFC(i))return fi(e);const o=this,s=pi("skipEdges");let r=!n&&t&&e&&e.after,a=n,l=null,h=[],c=[],u=!1;function d(){return!!n||!t&&Fa(a)}function p(){(e=h[0]||e).viewNode.parentNode.removeChild(e.viewNode),o.pageBreakType=a}return s.loopWithFrame(n=>{for(;e;){e.formattingContext;const i=(new tl).find(e.formattingContext);do{if(!e.viewNode)break;if(e.inline&&1!=e.viewNode.nodeType){if(Jr(e.viewNode,e.whitespace))break;if(!e.after)return d()?p():o.checkOverflowAndSaveEdgeAndBreakPosition(l,null,!0,a)?(e=(o.stopAtOverflow&&l||e).modify()).overflow=!0:(e=e.modify()).breakBefore=a,void n.breakLoop()}if(!e.after){if(i&&i.startNonInlineElementNode(e))break;if(e.clearSide&&o.applyClearance(e)&&t&&0===o.breakPositions.length&&o.saveEdgeBreakPosition(e.copy(),a,!1),!o.isBFC(e.formattingContext)||Br.isInstanceOfRepetitiveElementsOwnerFormattingContext(e.formattingContext)||o.isFloatNodeContext(e)||e.flexContainer)return h.push(e.copy()),a=Ba(a,e.breakBefore),d()?p():!o.checkOverflowAndSaveEdgeAndBreakPosition(l,null,!0,a)&&o.layoutConstraint.allowLayout(e)||((e=(o.stopAtOverflow&&l||e).modify()).overflow=!0),void n.breakLoop()}if(1!=e.viewNode.nodeType)break;const s=e.viewNode.style;if(e.after){if(e.inline)break;if(i&&i.afterNonInlineElementNode(e,o.stopAtOverflow))break;if(u){if(d())return p(),void n.breakLoop();h=[],t=!1,r=!1,a=null}u=!1,l=e.copy(),c.push(l),a=Ba(a,e.breakAfter),!s||o.zeroIndent(s.paddingBottom)&&o.zeroIndent(s.borderBottomWidth)||(c=[l])}else{if(h.push(e.copy()),a=Ba(a,e.breakBefore),!o.layoutConstraint.allowLayout(e)&&(o.checkOverflowAndSaveEdgeAndBreakPosition(l,null,!o.stopAtOverflow,a),(e=e.modify()).overflow=!0,o.stopAtOverflow))return void n.breakLoop();const t=e.viewNode.localName;if(vl[t])return d()?p():o.checkOverflowAndSaveEdgeAndBreakPosition(l,null,!0,a)&&((e=(o.stopAtOverflow&&l||e).modify()).overflow=!0),void n.breakLoop();!s||o.zeroIndent(s.paddingTop)&&o.zeroIndent(s.borderTopWidth)||(r=!1,c=[]),u=!0}}while(0);const s=o.nextInTree(e,r);if(s.isPending())return void s.then(t=>{e=t,n.continueLoop()});e=s.get()}o.checkOverflowAndSaveEdgeAndBreakPosition(l,c,!o.stopAtOverflow,a)?l&&o.stopAtOverflow&&((e=l.modify()).overflow=!0):Fa(a)&&(o.pageBreakType=a),n.breakLoop()}).then(()=>{l&&(o.lastAfterPosition=l.toNodePosition()),s.finish(e)}),s.result()}skipTailEdges(e){let t=e.copy();const n=this,i=pi("skipEdges");let o=null,s=!1;return i.loopWithFrame(i=>{for(;e;){do{if(!e.viewNode)break;if(e.inline&&1!=e.viewNode.nodeType){if(Jr(e.viewNode,e.whitespace))break;if(!e.after)return Fa(o)&&(n.pageBreakType=o),void i.breakLoop()}if(!e.after&&(n.isFloatNodeContext(e)||e.flexContainer))return o=Ba(o,e.breakBefore),Fa(o)&&(n.pageBreakType=o),void i.breakLoop();if(1!=e.viewNode.nodeType)break;const t=e.viewNode.style;if(e.after){if(s){if(Fa(o))return n.pageBreakType=o,void i.breakLoop();o=null}s=!1,o=Ba(o,e.breakAfter)}else{o=Ba(o,e.breakBefore);const s=e.viewNode.localName;if(vl[s])return Fa(o)&&(n.pageBreakType=o),void i.breakLoop();if(t&&(!n.zeroIndent(t.paddingTop)||!n.zeroIndent(t.borderTopWidth)))return void i.breakLoop()}s=!0}while(0);const t=n.layoutContext.nextInTree(e);if(t.isPending())return void t.then(t=>{e=t,i.continueLoop()});e=t.get()}t=null,i.breakLoop()}).then(()=>{i.finish(t)}),i.result()}layoutFloatOrFootnote(e){return Sa(e.floatReference)||"footnote"===e.floatSide?this.layoutPageFloat(e):this.layoutFloat(e)}layoutNext(e,t,n){const i=this,o=pi("layoutNext");return this.skipEdges(e,t,n||null).then(n=>{if(!(e=n)||i.pageBreakType||i.stopByOverflow(e))o.finish(e);else{const n=e.formattingContext;(new tl).find(n).layout(e,i,t).thenFinish(o)}}),o.result()}clearOverflownViewNodes(e,t){if(e)for(let n=e.parent;e;e=n,n=n?n.parent:null){const i=(n||e).formattingContext;(new tl).find(i).clearOverflownViewNodes(this,n,e,t),t=!1}}initGeom(){const e=this.element.ownerDocument.createElement("div");e.style.position="absolute",e.style.top=`${this.paddingTop}px`,e.style.right=`${this.paddingRight}px`,e.style.bottom=`${this.paddingBottom}px`,e.style.left=`${this.paddingLeft}px`,this.element.appendChild(e);const t=this.clientLayout.getElementClientRect(e);this.element.removeChild(e);const n=this.originX+this.left+this.getInsetLeft(),i=this.originY+this.top+this.getInsetTop();this.box=new $t(n,i,n+this.width,i+this.height),this.startEdge=t?this.vertical?t.top:t.left:0,this.endEdge=t?this.vertical?t.bottom:t.right:0,this.beforeEdge=t?this.vertical?t.right:t.top:0,this.afterEdge=t?this.vertical?t.left:t.bottom:0,this.leftFloatEdge=this.beforeEdge,this.rightFloatEdge=this.beforeEdge,this.bottommostFloatTop=this.beforeEdge,this.footnoteEdge=this.afterEdge,this.bands=function(e,t,n,i,o,s){s&&(e=rn(e),t=t.map(e=>ln(e)),n=n.map(e=>ln(e)));const r=t.length,a=n?n.length:0,l=[],h=[];let c,u,d;for(c=0;c<r;c++)t[c].addSegments(h,c);for(c=0;c<a;c++)n[c].addSegments(h,c+r);const p=h.length;h.sort(Yt);let f=0;for(;h[f].shapeId>=r;)f++;let g=h[f].low.y;g>e.y1&&l.push(new Kt(e.y1,g,e.x2,e.x2));let m=0;const b=[];for(;m<p&&(d=h[m]).low.y<g;)d.high.y>g&&b.push(d),m++;for(;m<p||b.length>0;){let t=e.y2;const n=Math.min(on(Math.ceil(g+i),o),e.y2);for(u=0;u<b.length&&t>n;u++)d=b[u],d.low.x==d.high.x?d.high.y<t&&(t=Math.max(sn(d.high.y,o),n)):d.low.x!=d.high.x&&(t=n);for(t>e.y2&&(t=e.y2);m<p&&(d=h[m]).low.y<t;)if(d.high.y<g)m++;else{if(!(d.low.y<n)){const e=sn(d.low.y,o);e<t&&(t=e);break}d.low.y==d.high.y&&d.low.y==g||(b.push(d),t=n),m++}const s=[];for(u=0;u<b.length;u++)tn(s,b[u],g,t);s.sort((e,t)=>e.x-t.x||e.lowOrHigh-t.lowOrHigh);const c=nn(s,r,a);if(0==c.length)l.push(new Kt(g,t,e.x2,e.x2));else{let n=0,i=e.x1;for(u=0;u<c.length;u+=2){const t=Math.max(e.x1,c[u]),o=Math.min(e.x2,c[u+1])-t;o>n&&(n=o,i=t)}0==n?l.push(new Kt(g,t,e.x2,e.x2)):l.push(new Kt(g,t,Math.max(i,e.x1),Math.min(i+n,e.x2)))}if(t==e.y2)break;for(g=t,u=b.length-1;u>=0;u--)b[u].high.y<=t&&b.splice(u,1)}return hn(e,l),l}(this.box,[this.getInnerShape()],this.getExclusions(),8,this.snapHeight,this.vertical),this.createFloats()}init(){this.chunkPositions=[],U(this.element,"width",`${this.width}px`),U(this.element,"height",`${this.height}px`),this.initGeom(),this.computedBlockSize=0,this.overflown=!1,this.pageBreakType=null,this.lastAfterPosition=null}saveEdgeBreakPosition(e,t,n){e.formattingContext;const i=e.copy(),o=(new tl).find(e.formattingContext),s=this.calculateClonedPaddingBorder(i),r=o.createEdgeBreakPosition(i,t,n,this.computedBlockSize+s);this.breakPositions.push(r)}saveBoxBreakPosition(e){const t=e[0].breakPenalty,n=new Tl(e,t);this.breakPositions.push(n)}updateMaxReachedAfterEdge(e){if(!isNaN(e)){const t=this.getBoxDir()*(e-this.beforeEdge);this.computedBlockSize=Math.max(t,this.computedBlockSize)}}layout(e,t,n){if(this.chunkPositions.push(e),e.primary.after&&(this.lastAfterPosition=e.primary),this.stopAtOverflow&&this.overflown)return fi(e);if(this.isFullWithPageFloats())return e.primary.after&&1===e.primary.steps.length?fi(null):fi(e);const i=this,o=pi("layout");return i.openAllViews(e.primary).then(e=>{let s=null;if(e.viewNode)s=e.copy();else{const e=t=>{t.nodeContext.viewNode&&(s=t.nodeContext,i.layoutContext.removeEventListener("nextInTree",e))};i.layoutContext.addEventListener("nextInTree",e)}const r=new Ll(t,n);r.layout(e,i).then(e=>{i.doFinishBreak(e,r.context.overflownNodeContext,s,r.initialComputedBlockSize).then(e=>{let t=null;t=i.pseudoParent?fi(null):i.doFinishBreakOfFragmentLayoutConstraints(e),t.then(()=>{if(i.pageFloatLayoutContext.isInvalidated())o.finish(null);else if(e){i.overflown=!0;const t=new pa(e.toNodePosition());o.finish(t)}else o.finish(null)})})})}),o.result()}isFullWithPageFloats(){return this.pageFloatLayoutContext.isColumnFullWithPageFloats(this)}getMaxBlockSizeOfPageFloats(){return this.pageFloatLayoutContext.getMaxBlockSizeOfPageFloats()}doFinishBreakOfFragmentLayoutConstraints(e){const t=pi("doFinishBreakOfFragmentLayoutConstraints"),n=[].concat(this.fragmentLayoutConstraints);n.sort((e,t)=>e.getPriorityOfFinishBreak()-t.getPriorityOfFinishBreak());let i=0;return t.loop(()=>i<n.length?n[i++].finishBreak(e,this).thenReturn(!0):fi(!1)).then(()=>{t.finish(!0)}),t.result()}doLayout(e,t,n){const i=this,o=pi("doLayout");let s=null;return i.breakPositions=[],i.nodeContextOverflowingDueToRepetitiveElements=null,o.loopWithFrame(o=>{for(;e;){let r=!0;if(i.layoutNext(e,t,n||null).then(a=>{if(t=!1,n=null,i.nodeContextOverflowingDueToRepetitiveElements&&i.stopAtOverflow?(i.pageBreakType=null,(e=i.nodeContextOverflowingDueToRepetitiveElements).overflow=!0):e=a,i.pageFloatLayoutContext.isInvalidated())o.breakLoop();else if(i.pageBreakType)o.breakLoop();else if(e&&i.stopByOverflow(e)){s=e;const t=i.findAcceptableBreakPosition();e=t.nodeContext,t.breakPosition&&t.breakPosition.breakPositionChosen(i),o.breakLoop()}else r?r=!1:o.continueLoop()}),r)return void(r=!1)}i.computedBlockSize+=i.getOffsetByRepetitiveElements(),o.breakLoop()}).then(()=>{o.finish({nodeContext:e,overflownNodeContext:s})}),o.result()}redoLayout(){const e=this.chunkPositions;let t=this.element.lastChild;for(;t!=this.last;){const e=t.previousSibling;this.element===t.parentNode&&this.layoutContext.isPseudoelement(t)||this.element.removeChild(t),t=e}this.killFloats(),this.init();const n=this,i=pi("redoLayout");let o=0,s=null,r=!0;return i.loopWithFrame(t=>{if(o<e.length){const i=e[o++];n.layout(i,r).then(e=>{r=!1,e?(s=e,t.breakLoop()):t.continueLoop()})}else t.breakLoop()}).then(()=>{i.finish(s)}),i.result()}saveDistanceToBlockEndFloats(){const e=this.pageFloatLayoutContext.getBlockStartEdgeOfBlockEndFloats();e>0&&isFinite(e)&&(this.blockDistanceToBlockEndFloats=this.getBoxDir()*(e-this.beforeEdge-this.computedBlockSize))}collectElementsOffset(){const e=[];for(let t=this;t;t=t.pseudoParent)t.fragmentLayoutConstraints.forEach(t=>{if(Br.isInstanceOfRepetitiveElementsOwnerLayoutConstraint(t)){const n=t.getRepetitiveElements();e.push(n)}if(_r.isInstanceOfAfterIfContinuesLayoutConstraint(t)){const n=t.getRepetitiveElements();e.push(n)}Mr.isInstanceOfTableRowLayoutConstraint(t)&&t.getElementsOffsetsForTableCell(this).forEach(t=>{e.push(t)})});return e}}class Pl{constructor(e,t,n){this.startNodeContexts=[],this.column=Object.create(e),this.column.element=t,this.column.layoutContext=e.layoutContext.clone(),this.column.stopAtOverflow=!1,this.column.flowRootFormattingContext=n.formattingContext,this.column.pseudoParent=e;const i=this.column.calculateClonedPaddingBorder(n);this.column.footnoteEdge=this.column.footnoteEdge-i;const o=this;this.column.openAllViews=function(e){return Il.prototype.openAllViews.call(this,e).thenAsync(e=>(o.startNodeContexts.push(e.copy()),fi(e)))}}layout(e,t){return this.column.layout(e,t)}findAcceptableBreakPosition(e){const t=this.column.findAcceptableBreakPosition();if(e){const e=this.startNodeContexts[0].copy(),n=new Ka(e,null,e.overflow,0);if(n.findAcceptableBreak(this.column,0),!t.nodeContext)return{breakPosition:n,nodeContext:e}}return t}finishBreak(e,t,n){return this.column.finishBreak(e,t,n)}doFinishBreakOfFragmentLayoutConstraints(e){this.column.doFinishBreakOfFragmentLayoutConstraints(e)}isStartNodeContext(e){const t=this.startNodeContexts[0];return t.viewNode===e.viewNode&&t.after===e.after&&t.offsetInNode===e.offsetInNode}isLastAfterNodeContext(e){return sa(e.toNodePosition(),this.column.lastAfterPosition)}getColumnElement(){return this.column.element}getColumn(){return this.column}}const Al=/^[^A-Za-z0-9_\u009E\u009F\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02AF\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527]*([A-Za-z0-9_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02AF\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527][^A-Za-z0-9_\u009E\u009F\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02AF\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527]*)?/;class Ol{breakTextNode(e,t,n,i,o,s){if(t.after)t.offsetInNode=e.length;else{let i=n-t.boxOffset;const o=e.data;i=173==o.charCodeAt(i)?this.breakAfterSoftHyphen(e,o,i,t):this.breakAfterOtherCharacter(e,o,i,t),i>0&&(t=this.updateNodeContext(t,i,e))}return t}breakAfterSoftHyphen(e,t,n,i){return e.replaceData(n,t.length-n,i.breakWord?"":Rl(i)),n+1}breakAfterOtherCharacter(e,t,n,i){const o=t.charAt(n);n++;const s=t.charAt(n);return e.replaceData(n,t.length-n,!i.breakWord&&j(o)&&j(s)?Rl(i):""),n}updateNodeContext(e,t,n){return(e=e.modify()).offsetInNode+=t,e.breakBefore=null,e}}function Rl(e){return e.hyphenateCharacter||e.parent&&e.parent.hyphenateCharacter||"-"}Ol.instance=new Ol;class Ll extends rl{constructor(e,t){super(),this.leadingEdge=e,this.initialPageBreakType=null,this.initialComputedBlockSize=0,this.initialOverflown=!1,this.context={overflownNodeContext:null},this.breakAfter=t||null}resolveLayoutMode(e){return new kl(this.leadingEdge,this.breakAfter,this.context)}prepareLayout(e,t){t.fragmentLayoutConstraints=[],t.pseudoParent||(cl=[])}clearNodes(e){super.clearNodes(e);let t=e;for(;t;){const e=t.viewNode;e&&Ga(e.parentNode,e),t=t.parent}}saveState(e,t){super.saveState(e,t),this.initialPageBreakType=t.pageBreakType,this.initialComputedBlockSize=t.computedBlockSize,this.initialOverflown=t.overflown}restoreState(e,t){super.restoreState(e,t),t.pageBreakType=this.initialPageBreakType,t.computedBlockSize=this.initialComputedBlockSize,t.overflown=this.initialOverflown}}class kl{constructor(e,t,n){this.leadingEdge=e,this.breakAfter=t,this.context=n}doLayout(e,t){const n=pi("DefaultLayoutMode.doLayout");return function(e,t){const n=pi("processAfterIfContinuesOfAncestors");let i=e;return n.loop(()=>{if(null!==i){const e=Sl(i,t);return i=i.parent,e.thenReturn(!0)}return fi(!1)}).then(()=>{n.finish(!0)}),n.result()}(e,t).then(()=>{t.doLayout(e,this.leadingEdge,this.breakAfter).then(e=>{this.context.overflownNodeContext=e.overflownNodeContext,n.finish(e.nodeContext)})}),n.result()}accept(e,t){return!(!t.pageFloatLayoutContext.isInvalidated()&&!t.pageBreakType)||t.fragmentLayoutConstraints.length<=0||t.fragmentLayoutConstraints.every(n=>n.allowLayout(e,this.context.overflownNodeContext,t))}postLayout(e,t,n,i){if(!i){const t=n.fragmentLayoutConstraints.some(t=>t.nextCandidate(e));i=!t}return n.fragmentLayoutConstraints.forEach(o=>{o.postLayout(i,e,t,n)}),i}}class Fl extends Il{constructor(e,t,n,i,o,s,r){super(t,n,i,o,s),this.floatSide=e,this.parentContainer=r,this.rootViewNodes=[],this.floatMargins=[],this.adjustContentRelativeSize=!0}openAllViews(e){return super.openAllViews(e).thenAsync(e=>(e&&this.fixFloatSizeAndPosition(e),fi(e)))}convertPercentageSizesToPx(e){const t=this.parentContainer.getPaddingRect(),n=t.x2-t.x1,i=t.y2-t.y1;function o(t,n){t.forEach(t=>{const i=z(e,t);if(i&&"%"===i.charAt(i.length-1)){const o=parseFloat(i);U(e,t,`${n*o/100}px`)}})}o(["width","max-width","min-width"],n),o(["height","max-height","min-height"],i),o(["margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left"],this.vertical?i:n),["margin-top","margin-right","margin-bottom","margin-left"].forEach(t=>{"auto"===z(e,t)&&U(e,t,"0")})}fixFloatSizeAndPosition(e){for(;e.parent;)e=e.parent;e.viewNode.nodeType;const t=e.viewNode;if(this.rootViewNodes.push(t),this.adjustContentRelativeSize&&this.convertPercentageSizesToPx(t),this.floatMargins.push(this.getComputedMargin(t)),this.adjustContentRelativeSize){const e=this.floatSide;if(this.parentContainer.vertical){if("block-end"===e||"left"===e){const e=z(t,"height");""!==e&&"auto"!==e&&U(t,"margin-top","auto")}}else if("block-end"===e||"bottom"===e){const e=z(t,"width");""!==e&&"auto"!==e&&U(t,"margin-left","auto")}}}getContentInlineSize(){return Math.max.apply(null,this.rootViewNodes.map((e,t)=>{const n=this.clientLayout.getElementClientRect(e),i=this.floatMargins[t];return this.vertical?i.top+n.height+i.bottom:i.left+n.width+i.right}))}}class Dl{constructor(e,t){this.parent=e,this.rootSourceNode=t,this.formattingContextType="RepetitiveElementsOwner",this.isRoot=!1,this.repetitiveElements=null}getName(){return"Repetitive elements owner formatting context (RepetitiveElementsOwnerFormattingContext)"}isFirstTime(e,t){return t}getParent(){return this.parent}getRepetitiveElements(){return this.repetitiveElements}getRootViewNode(e){const t=this.getRootNodeContext(e);return t?t.viewNode:null}getRootNodeContext(e){do{if(!e.belongsTo(this)&&e.sourceNode===this.rootSourceNode)return e}while(e=e.parent);return null}initializeRepetitiveElements(e){this.repetitiveElements||cl.some(e=>e.root===this.rootSourceNode&&(this.repetitiveElements=e.elements,!0))||(this.repetitiveElements=new _l(e,this.rootSourceNode),cl.push({root:this.rootSourceNode,elements:this.repetitiveElements}))}saveState(){}restoreState(e){}}class _l{constructor(e,t){this.vertical=e,this.ownerSourceNode=t,this.headerSourceNode=null,this.footerSourceNode=null,this.headerViewNode=null,this.footerViewNode=null,this.headerNodePosition=null,this.footerNodePosition=null,this.headerHeight=0,this.footerHeight=0,this.isSkipHeader=!1,this.isSkipFooter=!1,this.enableSkippingFooter=!0,this.enableSkippingHeader=!0,this.doneInitialLayout=!1,this.firstContentSourceNode=null,this.lastContentSourceNode=null,this.affectedNodeCache=[],this.afterLastContentNodeCache=[],this.allowInsert=!1}setHeaderNodeContext(e){this.headerNodePosition||(this.headerNodePosition=ra(e,0),this.headerSourceNode=e.sourceNode,this.headerViewNode=e.viewNode)}setFooterNodeContext(e){this.footerNodePosition||(this.footerNodePosition=ra(e,0),this.footerSourceNode=e.sourceNode,this.footerViewNode=e.viewNode)}updateHeight(e){this.headerViewNode&&(this.headerHeight=Va(this.headerViewNode,e,this.vertical),this.headerViewNode=null),this.footerViewNode&&(this.footerHeight=Va(this.footerViewNode,e,this.vertical),this.footerViewNode=null)}prepareLayoutFragment(){this.isSkipHeader=this.isSkipFooter=!1,this.enableSkippingFooter=!0,this.enableSkippingHeader=!0}appendHeaderToFragment(e,t,n){return!this.headerNodePosition||this.isSkipHeader?fi(!0):this.appendElementToFragment(this.headerNodePosition,e,t,n)}appendFooterToFragment(e,t,n){return!this.footerNodePosition||this.isSkipFooter?fi(!0):this.appendElementToFragment(this.footerNodePosition,e,t,n)}appendElementToFragment(e,t,n,i){const o=t.viewNode.ownerDocument,s=t.viewNode,r=o.createElement("div");s.appendChild(r);const a=new Pl(i,r,t),l=a.getColumn().pageBreakType;return a.getColumn().pageBreakType=null,this.allowInsertRepeatitiveElements=!0,a.layout(new pa(e),!0).thenAsync(()=>(this.allowInsertRepeatitiveElements=!1,s.removeChild(r),this.moveChildren(r,s,n),a.getColumn().pageBreakType=l,fi(!0)))}moveChildren(e,t,n){if(t)for(;e.firstChild;){const i=e.firstChild;e.removeChild(i),i.setAttribute(qr,"1"),n?t.insertBefore(i,n):t.appendChild(i)}}calculateOffset(e){let t=0;return e&&!this.affectTo(e)?t:((!this.isSkipFooter||e&&this.isAfterLastContent(e))&&(t+=this.footerHeight),this.isSkipHeader||(t+=this.headerHeight),t)}calculateMinimumOffset(e){let t=0;return e&&!this.affectTo(e)?t:(e&&this.isAfterLastContent(e)&&(t+=this.footerHeight),this.enableSkippingHeader||(t+=this.headerHeight),t)}isAfterLastContent(e){return this.findResultFromCache(e,this.afterLastContentNodeCache,t=>this.isAfterNodeContextOf(this.lastContentSourceNode,e,!1))}affectTo(e){return this.findResultFromCache(e,this.affectedNodeCache,t=>this.isAfterNodeContextOf(this.ownerSourceNode,e,!0))}findResultFromCache(e,t,n){const i=t.filter(t=>t.nodeContext.sourceNode===e.sourceNode&&t.nodeContext.after===e.after);if(i.length>0)return i[0].result;{const i=n(e);return t.push({nodeContext:e,result:i}),i}}isAfterNodeContextOf(e,t,n){const i=[];for(let n=e;n;n=n.parentNode){if(t.sourceNode===n)return t.after;i.push(n)}for(let e=t.sourceNode;e;e=e.parentNode){const t=i.indexOf(e);if(t>=0)return!!n&&0===t;for(let t=e;t;t=t.previousElementSibling)if(i.includes(t))return!0}return t.after}isFirstContentNode(e){return e&&this.firstContentSourceNode===e.sourceNode}isEnableToUpdateState(){return!!(!this.isSkipFooter&&this.enableSkippingFooter&&this.footerNodePosition||!this.isSkipHeader&&this.enableSkippingHeader&&this.headerNodePosition)}updateState(){!this.isSkipFooter&&this.enableSkippingFooter&&this.footerNodePosition?this.isSkipFooter=!0:!this.isSkipHeader&&this.enableSkippingHeader&&this.headerNodePosition&&(this.isSkipHeader=!0)}preventSkippingHeader(){this.isSkipHeader=!1,this.enableSkippingHeader=!1}preventSkippingFooter(){this.isSkipFooter=!1,this.enableSkippingFooter=!1}isHeaderRegistered(){return!!this.headerNodePosition}isFooterRegistered(){return!!this.footerNodePosition}isHeaderSourceNode(e){return this.headerSourceNode===e}isFooterSourceNode(e){return this.footerSourceNode===e}}class Bl{constructor(e){this.formattingContext=e}accept(e,t){return!!e}postLayout(e,t,n,i){const o=this.formattingContext.getRepetitiveElements();return o&&(n.clientLayout,o.doneInitialLayout||(o.updateHeight(n),o.doneInitialLayout=!0)),i}}class Ml{constructor(e){this.formattingContext=e}accept(e,t){return!0}postLayout(e,t,n,i){return i}}class Ul extends Bl{constructor(e,t){super(e),this.processor=t}doLayout(e,t){return this.processor.doInitialLayout(e,t)}accept(e,t){return!1}}class zl extends Ml{constructor(e,t){super(e),this.processor=t}doLayout(e,t){return e.belongsTo(this.formattingContext)||e.after||t.fragmentLayoutConstraints.unshift(new Vl(e)),this.processor.doLayout(e,t)}}class Vl{constructor(e){this.flagmentLayoutConstraintType="RepetitiveElementsOwner";const t=e.formattingContext;this.nodeContext=t.getRootNodeContext(e)}allowLayout(e,t,n){const i=this.getRepetitiveElements();return!(i&&!Ha(this.nodeContext.viewNode)&&i.isEnableToUpdateState()&&(t&&!e||e&&e.overflow))}nextCandidate(e){const t=this.getRepetitiveElements();return!!t&&!!t.isEnableToUpdateState()&&(t.updateState(),!0)}postLayout(e,t,n,i){const o=this.getRepetitiveElements();o&&e&&i.stopAtOverflow&&(null==t||o.isAfterLastContent(t))&&o.preventSkippingFooter()}finishBreak(e,t){const n=this.nodeContext.formattingContext,i=this.getRepetitiveElements();if(!i)return fi(!0);const o=this.nodeContext;return function(e,t,n){const i=e.getRepetitiveElements();if(i){const o=e.getRootNodeContext(t);if(o.viewNode){const e=o.viewNode.firstChild;return i.appendHeaderToFragment(o,e,n)}}return fi(!0)}(n,o,t).thenAsync(()=>(function(e,t,n){const i=e.getRepetitiveElements();if(i&&!i.isSkipFooter){const o=e.getRootNodeContext(t);if(o.viewNode)return i.appendFooterToFragment(o,null,n)}return fi(!0)})(n,o,t).thenAsync(()=>(i.prepareLayoutFragment(),fi(!0))))}getRepetitiveElements(){return this.nodeContext.formattingContext.getRepetitiveElements()}equalsTo(e){return e instanceof Vl&&this.nodeContext.formattingContext===e.nodeContext.formattingContext}getPriorityOfFinishBreak(){return 10}}class Hl extends rl{constructor(e,t){super(),this.formattingContext=e,this.processor=t}resolveLayoutMode(e){const t=this.formattingContext.getRepetitiveElements();return e.belongsTo(this.formattingContext)||t.doneInitialLayout?(e.belongsTo(this.formattingContext)||e.after||t&&t.preventSkippingHeader(),new zl(this.formattingContext,this.processor)):new Ul(this.formattingContext,this.processor)}}class Gl extends hl{constructor(e,t){super(),this.formattingContext=e,this.column=t}startNonInlineElementNode(e){const t=this.formattingContext,n=e.nodeContext,i=t.getRepetitiveElements();if(n.parent&&t.rootSourceNode===n.parent.sourceNode){switch(n.repeatOnBreak){case"header":if(!i.isHeaderRegistered())return i.setHeaderNodeContext(n),fi(!0);n.repeatOnBreak="none";break;case"footer":if(!i.isFooterRegistered())return i.setFooterNodeContext(n),fi(!0);n.repeatOnBreak="none"}i.firstContentSourceNode||(i.firstContentSourceNode=n.sourceNode)}return hl.prototype.startNonInlineElementNode.call(this,e)}afterNonInlineElementNode(e){const t=this.formattingContext,n=e.nodeContext;return n.sourceNode===t.rootSourceNode&&(t.getRepetitiveElements().lastContentSourceNode=e.lastAfterNodeContext&&e.lastAfterNodeContext.sourceNode,e.break=!0),"header"===n.repeatOnBreak||"footer"===n.repeatOnBreak?fi(!0):hl.prototype.afterNonInlineElementNode.call(this,e)}}function $l(e,t){e&&function(e,t){for(let n=e;n;n=n.parent){const e=n.formattingContext;e&&e instanceof Dl&&!n.belongsTo(e)&&t(e,n)}}(e.after?e.parent:e,(e,n)=>{Mr.isInstanceOfTableFormattingContext(e)||t.fragmentLayoutConstraints.push(new Vl(n))})}const Wl=new class extends nl{layout(e,t,n){if(t.isFloatNodeContext(e))return t.layoutFloatOrFootnote(e);const i=e.formattingContext;return i.getRootViewNode(e)?(n&&$l(e.parent,t),e.belongsTo(i)?nl.prototype.layout.call(this,e,t,n):new Hl(i,this).layout(e,t)):t.buildDeepElementView(e)}startNonInlineElementNode(e){const t=function(e){const t=e.formattingContext;return t&&t instanceof Dl?t:null}(e).getRepetitiveElements();return!!t&&(t.allowInsertRepeatitiveElements||!t.isHeaderSourceNode(e.sourceNode)&&!t.isFooterSourceNode(e.sourceNode)||e.viewNode.parentNode.removeChild(e.viewNode),!1)}doInitialLayout(e,t){e.formattingContext;const n=pi("BlockLayoutProcessor.doInitialLayout");return this.layoutEntireBlock(e,t).thenFinish(n),n.result()}layoutEntireBlock(e,t){const n=e.formattingContext,i=new Gl(n,t);return new ll(i,t.layoutContext).iterate(e)}doLayout(e,t){const n=e.formattingContext,i=pi("doLayout");return Nl(t.layoutContext.nextInTree(e,!1),t).then(e=>{let o=e;i.loopWithFrame(e=>{for(;o;){let i=!0;if(t.layoutNext(o,!1).then(s=>{o=s,t.pageFloatLayoutContext.isInvalidated()?e.breakLoop():t.pageBreakType?e.breakLoop():o&&t.stopByOverflow(o)?e.breakLoop():o&&o.after&&o.sourceNode==n.rootSourceNode?e.breakLoop():i?i=!1:e.continueLoop()}),i)return void(i=!1)}e.breakLoop()}).then(()=>{i.finish(o)})}),i.result()}finishBreak(e,t,n,i){return nl.prototype.finishBreak.call(this,e,t,n,i)}clearOverflownViewNodes(e,t,n,i){nl.prototype.clearOverflownViewNodes(e,t,n,i)}};u(t.HOOKS.RESOLVE_LAYOUT_PROCESSOR,e=>e instanceof Dl&&!Mr.isInstanceOfTableFormattingContext(e)?Wl:null);class Xl{constructor(e,t){this.rowIndex=e,this.sourceNode=t,this.cells=[]}addCell(e){this.cells.push(e)}getMinimumHeight(){return Math.min.apply(null,this.cells.map(e=>e.height))}}class jl{constructor(e,t,n){this.rowIndex=e,this.columnIndex=t,this.height=0,this.anchorSlot=null,this.viewElement=n,this.colSpan=n.colSpan||1,this.rowSpan=n.rowSpan||1}setHeight(e){this.height=e}setAnchorSlot(e){this.anchorSlot=e}}class Kl{constructor(e,t,n){this.rowIndex=e,this.columnIndex=t,this.cell=n}}class Yl{constructor(e,t,n){this.column=e,this.cellNodeContext=n,this.empty=!1,this.pseudoColumn=new Pl(e,t,n)}findAcceptableBreakPosition(){const e=this.cellNodeContext.viewNode,t=this.cellNodeContext.verticalAlign;"middle"!==t&&"bottom"!==t||U(e,"vertical-align","top");const n=this.pseudoColumn.findAcceptableBreakPosition(!0);return U(e,"vertical-align",t),n}}class ql{constructor(e,t){this.viewNode=e,this.side=t}}class Zl extends Ka{constructor(e,t,n,i){super(e,t,n,i),this.acceptableCellBreakPositions=null,this.rowIndex=null,this.formattingContext=e.formattingContext}findAcceptableBreak(e,t){const n=super.findAcceptableBreak(e,t);return t<this.getMinBreakPenalty()?null:this.getAcceptableCellBreakPositions().every(e=>!!e.nodeContext)?n:null}getMinBreakPenalty(){let e=super.getMinBreakPenalty();return this.getAcceptableCellBreakPositions().forEach(t=>{e+=t.breakPosition.getMinBreakPenalty()}),e}getAcceptableCellBreakPositions(){if(!this.acceptableCellBreakPositions){this.formattingContext;const e=this.getCellFragments();this.acceptableCellBreakPositions=e.map(e=>e.findAcceptableBreakPosition())}return this.acceptableCellBreakPositions}getRowIndex(){return null!=this.rowIndex?this.rowIndex:this.rowIndex=this.formattingContext.findRowIndexBySourceNode(this.position.sourceNode)}getCellFragments(){return this.formattingContext.getRowSpanningCellsOverflowingTheRow(this.getRowIndex()).map(this.formattingContext.getCellFragmentOfCell,this.formattingContext)}}class Ql extends Xa{constructor(e,t,n){super(),this.rowIndex=e,this.beforeNodeContext=t,this.formattingContext=n,this.acceptableCellBreakPositions=null}findAcceptableBreak(e,t){if(t<this.getMinBreakPenalty())return null;const n=this.getCellFragments(),i=this.getAcceptableCellBreakPositions(),o=i.every(e=>!!e.nodeContext)&&i.some((e,t)=>{const i=n[t].pseudoColumn,o=e.nodeContext;return!i.isStartNodeContext(o)&&!i.isLastAfterNodeContext(o)});return this.beforeNodeContext.overflow=i.some(e=>e.nodeContext&&e.nodeContext.overflow),o?this.beforeNodeContext:null}getMinBreakPenalty(){const e=this.formattingContext,t=e.getRowByIndex(this.rowIndex);let n=0;return e.isFreelyFragmentableRow(t)||(n+=10),this.getAcceptableCellBreakPositions().forEach(e=>{n+=e.breakPosition.getMinBreakPenalty()}),n}getAcceptableCellBreakPositions(){if(!this.acceptableCellBreakPositions){const e=this.getCellFragments();this.acceptableCellBreakPositions=e.map(e=>e.findAcceptableBreakPosition())}return this.acceptableCellBreakPositions}getCellFragments(){return this.formattingContext.getCellsFallingOnRow(this.rowIndex).map(this.formattingContext.getCellFragmentOfCell,this.formattingContext)}}class Jl extends Dl{constructor(e,t){super(e,t),this.tableSourceNode=t,this.formattingContextType="Table",this.vertical=!1,this.columnCount=-1,this.tableWidth=0,this.captions=[],this.colGroups=null,this.colWidths=null,this.inlineBorderSpacing=0,this.rows=[],this.slots=[],this.cellFragments=[],this.lastRowViewNode=null,this.cellBreakPositions=[],this.repetitiveElements=null}getName(){return"Table formatting context (Table.TableFormattingContext)"}isFirstTime(e,t){if(!t)return t;switch(e.display){case"table-row":return 0===this.cellBreakPositions.length;case"table-cell":return!this.cellBreakPositions.some(t=>t.cellNodePosition.steps[0].node===e.sourceNode);default:return t}}getParent(){return this.parent}finishFragment(){this.cellFragments=[]}addRow(e,t){this.rows[e]=t}getRowSlots(e){let t=this.slots[e];return t||(t=this.slots[e]=[]),t}addCell(e,t){let n=this.rows[e];n||(this.addRow(e,new Xl(e,null)),n=this.rows[e]),n.addCell(t);const i=e+t.rowSpan;let o=this.getRowSlots(e),s=0;for(;o[s];)s++;for(;e<i;e++){o=this.getRowSlots(e);for(let n=s;n<s+t.colSpan;n++){const i=o[n]=new Kl(e,n,t);t.anchorSlot||t.setAnchorSlot(i)}}}getRowByIndex(e){return this.rows[e]}findRowIndexBySourceNode(e){return this.rows.findIndex(t=>e===t.sourceNode)}addCellFragment(e,t,n){let i=this.cellFragments[e];i||(i=this.cellFragments[e]=[]),i[t]=n}getCellsFallingOnRow(e){return this.getRowSlots(e).reduce((e,t)=>t.cell!==e[e.length-1]?e.concat(t.cell):e,[])}getRowSpanningCellsOverflowingTheRow(e){return this.getCellsFallingOnRow(e).filter(t=>t.rowIndex+t.rowSpan-1>e)}getCellFragmentOfCell(e){return this.cellFragments[e.rowIndex]&&this.cellFragments[e.rowIndex][e.columnIndex]}isFreelyFragmentableRow(e){return e.getMinimumHeight()>this.tableWidth/2}getColumnCount(){return this.columnCount<0&&(this.columnCount=Math.max.apply(null,this.rows.map(e=>e.cells.reduce((e,t)=>e+t.colSpan,0)))),this.columnCount}updateCellSizes(e){this.rows.forEach(t=>{t.cells.forEach(t=>{const n=e.getElementClientRect(t.viewElement);t.viewElement=null,t.setHeight(this.vertical?n.width:n.height)})})}findCellFromColumn(e){if(!e)return null;let t=null,n=0,i=0;e:for(n=0;n<this.cellFragments.length;n++)if(this.cellFragments[n])for(i=0;i<this.cellFragments[n].length;i++)if(this.cellFragments[n][i]&&e===this.cellFragments[n][i].pseudoColumn.getColumn()){t=this.rows[n].cells[i];break e}if(!t)return null;for(;n<this.slots.length;n++)for(;i<this.slots[n].length;i++){const e=this.slots[n][i];if(e.cell===t)return{rowIndex:e.rowIndex,columnIndex:e.columnIndex}}return null}collectElementsOffsetOfUpperCells(e){const t=[];return this.slots.reduce((n,i,o)=>{if(o>=e.rowIndex)return n;const s=this.getCellFragmentOfCell(i[e.columnIndex].cell);return!s||t.includes(s)?n:(this.collectElementsOffsetFromColumn(s.pseudoColumn.getColumn(),n),t.push(s),n)},[])}collectElementsOffsetOfHighestColumn(){const e=[];return this.rows.forEach(t=>{t.cells.forEach((t,n)=>{e[n]||(e[n]={collected:[],elements:[]});const i=e[n],o=this.getCellFragmentOfCell(t);o&&!i.collected.includes(o)&&(this.collectElementsOffsetFromColumn(o.pseudoColumn.getColumn(),i.elements),i.collected.push(o))})}),[new eh(e.map(e=>e.elements))]}collectElementsOffsetFromColumn(e,t){e.fragmentLayoutConstraints.forEach(e=>{if(Br.isInstanceOfRepetitiveElementsOwnerLayoutConstraint(e)){const n=e.getRepetitiveElements();t.push(n)}Mr.isInstanceOfTableRowLayoutConstraint(e)&&e.getElementsOffsetsForTableCell(null).forEach(e=>{t.push(e)})})}saveState(){return[].concat(this.cellBreakPositions)}restoreState(e){this.cellBreakPositions=e}}class eh{constructor(e){this.repeatitiveElementsInColumns=e}calculateOffset(e){return this.calculateMaxOffsetOfColumn(e,e=>e.current)}calculateMinimumOffset(e){return this.calculateMaxOffsetOfColumn(e,e=>e.minimum)}calculateMaxOffsetOfColumn(e,t){let n=0;return this.repeatitiveElementsInColumns.forEach(i=>{const o=ja(e,i);n=Math.max(n,t(o))}),n}}function th(e){return function(e){return"table-row-group"===e||"table-header-group"===e||"table-footer-group"===e}(e)||function(e){return"table"===e||"inline-table"===e}(e)}function nh(e,t,n){const i=e.nodeContext,o=i.display,s=i.parent?i.parent.display:null;let r=!1;if("inline-table"===s&&!(i.formattingContext instanceof Jl))for(let e=i.parent;e;e=e.parent)if(e.formattingContext instanceof Jl){r=e.formattingContext===t;break}return r||"table-row"===o&&!th(s)||"table-cell"===o&&"table-row"!==s&&!th(s)||i.formattingContext instanceof Jl&&i.formattingContext!==t?n.buildDeepElementView(i).thenAsync(t=>(e.nodeContext=t,fi(!0))):null}class ih extends hl{constructor(e,t){super(),this.formattingContext=e,this.column=t,this.rowIndex=-1,this.columnIndex=0,this.inRow=!1,this.checkPoints=[],this.inHeaderOrFooter=!1}startNonInlineElementNode(e){const t=this.formattingContext,n=nh(e,t,this.column);if(n)return n;this.postLayoutBlockContents(e);const i=e.nodeContext,o=i.display,s=t.getRepetitiveElements();switch(o){case"table":t.inlineBorderSpacing=i.inlineBorderSpacing;break;case"table-caption":{const e=new ql(i.viewNode,i.captionSide);t.captions.push(e);break}case"table-header-group":return s.isHeaderRegistered()||(this.inHeaderOrFooter=!0,s.setHeaderNodeContext(i)),fi(!0);case"table-footer-group":return s.isFooterRegistered()||(this.inHeaderOrFooter=!0,s.setFooterNodeContext(i)),fi(!0);case"table-row":this.inHeaderOrFooter||(this.inRow=!0,this.rowIndex++,i.sourceNode,this.columnIndex=0,t.addRow(this.rowIndex,new Xl(this.rowIndex,i.sourceNode)),s.firstContentSourceNode||(s.firstContentSourceNode=i.sourceNode))}return super.startNonInlineElementNode(e)}afterNonInlineElementNode(e){const t=this.formattingContext,n=e.nodeContext,i=n.display,o=this.column.clientLayout;if(this.postLayoutBlockContents(e),n.sourceNode===t.tableSourceNode){const i=o.getElementComputedStyle(t.getRootViewNode(n));t.tableWidth=parseFloat(i[t.vertical?"height":"width"]),t.getRepetitiveElements().lastContentSourceNode=e.lastAfterNodeContext&&e.lastAfterNodeContext.sourceNode,e.break=!0}else switch(i){case"table-header-group":case"table-footer-group":if(this.inHeaderOrFooter)return this.inHeaderOrFooter=!1,fi(!0);break;case"table-row":this.inHeaderOrFooter||(t.lastRowViewNode=n.viewNode,this.inRow=!1);break;case"table-cell":if(!this.inHeaderOrFooter){this.inRow||(this.rowIndex++,this.columnIndex=0,this.inRow=!0);const e=n.viewNode;t.addCell(this.rowIndex,new jl(this.rowIndex,this.columnIndex,e)),this.columnIndex++}}return super.afterNonInlineElementNode(e)}startNonElementNode(e){this.registerCheckPoint(e)}afterNonElementNode(e){this.registerCheckPoint(e)}startInlineElementNode(e){this.registerCheckPoint(e)}afterInlineElementNode(e){this.registerCheckPoint(e)}registerCheckPoint(e){const t=e.nodeContext;t&&t.viewNode&&!Wa(t)&&this.checkPoints.push(t.clone())}postLayoutBlockContents(e){this.checkPoints.length>0&&this.column.postLayoutBlock(e.nodeContext,this.checkPoints),this.checkPoints=[]}}class oh extends hl{constructor(e,t){super(!0),this.formattingContext=e,this.column=t,this.inRow=!1,this.currentRowIndex=-1,this.currentColumnIndex=0,this.originalStopAtOverflow=t.stopAtOverflow,t.stopAtOverflow=!1}resetColumn(){this.column.stopAtOverflow=this.originalStopAtOverflow}getColSpanningCellWidth(e){const t=this.formattingContext.colWidths;let n=0;for(let i=0;i<e.colSpan;i++)n+=t[e.anchorSlot.columnIndex+i];return n+=this.formattingContext.inlineBorderSpacing*(e.colSpan-1),n}layoutCell(e,t,n){const i=e.rowIndex,o=e.columnIndex,s=e.colSpan,r=t.viewNode;t.verticalAlign,s>1&&(U(r,"box-sizing","border-box"),U(r,this.formattingContext.vertical?"height":"width",`${this.getColSpanningCellWidth(e)}px`));const a=r.ownerDocument.createElement("div");r.appendChild(a);const l=new Yl(this.column,a,t);return this.formattingContext.addCellFragment(i,o,l),1===n.primary.steps.length&&n.primary.after&&(l.empty=!0),l.pseudoColumn.layout(n,!0).thenReturn(!0)}hasBrokenCellAtSlot(e){const t=this.formattingContext.cellBreakPositions[0];return!!t&&t.cell.anchorSlot.columnIndex===e}extractRowSpanningCellBreakPositions(){const e=this.formattingContext.cellBreakPositions;if(0===e.length)return[];const t=[];let n=0;do{const i=e[n],o=i.cell.rowIndex;if(o<this.currentRowIndex){let s=t[o];s||(s=t[o]=[]),s.push(i),e.splice(n,1)}else n++}while(n<e.length);return t}layoutRowSpanningCellsFromPreviousFragment(e){const t=this.formattingContext,n=this.extractRowSpanningCellBreakPositions(),i=n.reduce(e=>e+1,0);if(0===i)return fi(!0);const o=this.column.layoutContext,s=e.nodeContext;s.viewNode.parentNode.removeChild(s.viewNode);const r=pi("layoutRowSpanningCellsFromPreviousFragment");let a=fi(!0),l=0;const h=[];return n.forEach(e=>{a=a.thenAsync(()=>{const n=aa(e[0].cellNodePosition.steps[1],s.parent);return o.setCurrent(n,!1).thenAsync(()=>{let s=fi(!0),r=0;function a(e){for(;r<e;){if(!h.includes(r)){const e=n.viewNode.ownerDocument.createElement("td");U(e,"padding","0"),n.viewNode.appendChild(e)}r++}}return e.forEach(e=>{s=s.thenAsync(()=>{const t=e.cell;a(t.anchorSlot.columnIndex);const s=e.cellNodePosition,c=aa(s.steps[0],n);return c.offsetInNode=s.offsetInNode,c.after=s.after,c.fragmentIndex=s.steps[0].fragmentIndex+1,o.setCurrent(c,!1).thenAsync(()=>{const n=e.breakChunkPosition;for(let e=0;e<t.colSpan;e++)h.push(r+e);return r+=t.colSpan,this.layoutCell(t,c,n).thenAsync(()=>(c.viewNode.rowSpan=t.rowIndex+t.rowSpan-this.currentRowIndex+i-l,fi(!0)))})})}),s.thenAsync(()=>(a(t.getColumnCount()),l++,fi(!0)))})})}),a.then(()=>{o.setCurrent(s,!0,e.atUnforcedBreak).then(()=>{r.finish(!0)})}),r.result()}startTableRow(e){if(this.inHeader||this.inFooter)return fi(!0);const t=e.nodeContext,n=this.formattingContext;return this.currentRowIndex<0?(t.sourceNode,this.currentRowIndex=n.findRowIndexBySourceNode(t.sourceNode)):this.currentRowIndex++,this.currentColumnIndex=0,this.inRow=!0,this.layoutRowSpanningCellsFromPreviousFragment(e).thenAsync(()=>(this.registerCellFragmentIndex(),this.column.checkOverflowAndSaveEdgeAndBreakPosition(e.lastAfterNodeContext,null,!0,e.breakAtTheEdge)&&0===n.getRowSpanningCellsOverflowingTheRow(this.currentRowIndex-1).length&&(this.resetColumn(),t.overflow=!0,e.break=!0),fi(!0)))}registerCellFragmentIndex(){this.formattingContext.getRowByIndex(this.currentRowIndex).cells.forEach(e=>{const t=this.formattingContext.cellBreakPositions[e.columnIndex];if(t&&t.cell.anchorSlot.columnIndex==e.anchorSlot.columnIndex){const e=t.cellNodePosition.steps[0],n=this.column.layoutContext.xmldoc.getElementOffset(e.node);bl(n,e.fragmentIndex+1,1)}})}startTableCell(e){if(this.inHeader||this.inFooter)return fi(!0);const t=e.nodeContext;this.inRow||(this.currentRowIndex<0?this.currentRowIndex=0:this.currentRowIndex++,this.currentColumnIndex=0,this.inRow=!0);const n=this.formattingContext.getRowByIndex(this.currentRowIndex).cells[this.currentColumnIndex],i=t.copy().modify();i.after=!0,e.nodeContext=i;const o=pi("startTableCell");let s;if(this.hasBrokenCellAtSlot(n.anchorSlot.columnIndex)){const e=this.formattingContext.cellBreakPositions.shift();t.fragmentIndex=e.cellNodePosition.steps[0].fragmentIndex+1,s=fi(e.breakChunkPosition)}else s=this.column.nextInTree(t,e.atUnforcedBreak).thenAsync(e=>{e.viewNode&&t.viewNode.removeChild(e.viewNode);const n=ra(e,0);return fi(new pa(n))});return s.then(i=>{this.layoutCell(n,t,i).then(()=>{this.afterNonInlineElementNode(e),this.currentColumnIndex++,o.finish(!0)})}),o.result()}startNonInlineBox(e){const t=nh(e,this.formattingContext,this.column);if(t)return t;const n=e.nodeContext,i=this.formattingContext.getRepetitiveElements(),o=n.display;return"table-header-group"===o&&i&&i.isHeaderSourceNode(n.sourceNode)?(this.inHeader=!0,fi(!0)):"table-footer-group"===o&&i&&i.isFooterSourceNode(n.sourceNode)?(this.inFooter=!0,fi(!0)):"table-row"===o?this.startTableRow(e):"table-cell"===o?this.startTableCell(e):fi(!0)}endNonInlineBox(e){const t=e.nodeContext;if("table-row"===t.display&&(this.inRow=!1,!this.inHeader&&!this.inFooter)){const e=t.copy().modify();e.after=!1;const n=new Ql(this.currentRowIndex,e,this.formattingContext);this.column.breakPositions.push(n)}return fi(!0)}afterNonInlineElementNode(e){const t=e.nodeContext,n=this.formattingContext.getRepetitiveElements(),i=t.display;if("table-header-group"===i?n&&!n.allowInsertRepeatitiveElements&&n.isHeaderSourceNode(t.sourceNode)?(this.inHeader=!1,t.viewNode.parentNode.removeChild(t.viewNode)):U(t.viewNode,"display","table-row-group"):"table-footer-group"===i&&(n&&!n.allowInsertRepeatitiveElements&&n.isFooterSourceNode(t.sourceNode)?(this.inFooter=!1,t.viewNode.parentNode.removeChild(t.viewNode)):U(t.viewNode,"display","table-row-group")),i&&oh.ignoreList[i])t.viewNode.parentNode.removeChild(t.viewNode);else{if(t.sourceNode!==this.formattingContext.tableSourceNode)return super.afterNonInlineElementNode(e);t.overflow=this.column.checkOverflowAndSaveEdge(t,null),this.resetColumn(),e.break=!0}return fi(!0)}}oh.ignoreList={"table-caption":!0,"table-column-group":!0,"table-column":!0};const sh=[];class rh{layoutEntireTable(e,t){const n=e.formattingContext,i=new ih(n,t);return new ll(i,t.layoutContext).iterate(e)}getColumnWidths(e,t,n,i){const o=e.ownerDocument,s=o.createElement("tr"),r=[];for(let e=0;e<t;e++){const e=o.createElement("td");s.appendChild(e),r.push(e)}e.parentNode.insertBefore(s,e.nextSibling);const a=r.map(e=>{const t=i.getElementClientRect(e);return n?t.height:t.width});return e.parentNode.removeChild(s),a}getColGroupElements(e){const t=[];let n=e.firstElementChild;for(;n;)"colgroup"===n.localName&&t.push(n),n=n.nextElementSibling;return t}normalizeAndGetColElements(e){const t=[];return e.forEach(e=>{let n=e.span;e.removeAttribute("span");let i=e.firstElementChild;for(;i;){if("col"===i.localName){let o=i.span;for(i.removeAttribute("span"),n-=o;o-- >1;){const n=i.cloneNode(!0);e.insertBefore(n,i),t.push(n)}t.push(i)}i=i.nextElementSibling}for(;n-- >0;)i=e.ownerDocument.createElement("col"),e.appendChild(i),t.push(i)}),t}addMissingColElements(e,t,n,i){if(e.length<n){const o=i.ownerDocument.createElement("colgroup");t.push(o);for(let t=e.length;t<n;t++){const t=i.ownerDocument.createElement("col");o.appendChild(t),e.push(t)}}}normalizeColGroups(e,t,n){const i=e.vertical,o=e.lastRowViewNode;if(!o)return;e.lastRowViewNode=null;const s=o.ownerDocument.createDocumentFragment(),r=e.getColumnCount();if(!(r>0))return void(e.colGroups=s);const a=e.colWidths=this.getColumnWidths(o,r,i,n.clientLayout),l=this.getColGroupElements(t),h=this.normalizeAndGetColElements(l);this.addMissingColElements(h,l,r,t),h.forEach((e,t)=>{U(e,i?"height":"width",`${a[t]}px`)}),l.forEach(e=>{s.appendChild(e.cloneNode(!0))}),e.colGroups=s}doInitialLayout(e,t){const n=e.formattingContext;n.vertical=e.vertical,n.initializeRepetitiveElements(e.vertical),e.sourceNode;const i=function(e){const t=sh.findIndex(t=>t.root===e),n=sh[t];return n?n.tableLayoutOption:null}(e.sourceNode);!function(e){const t=sh.findIndex(t=>t.root===e);t>=0&&sh.splice(t,1)}(e.sourceNode);const o=pi("TableLayoutProcessor.doInitialLayout"),s=e.copy();return this.layoutEntireTable(e,t).then(r=>{const a=r.viewNode,l=t.clientLayout.getElementClientRect(a);let h=t.vertical?l.left:l.bottom;if(h+=(t.vertical?-1:1)*ja(e,t.collectElementsOffset()).current,!(t.isOverflown(h)||i&&i.calculateBreakPositionsInside))return t.breakPositions.push(new hh(s)),void o.finish(r);this.normalizeColGroups(n,a,t),n.updateCellSizes(t.clientLayout),o.finish(null)}),o.result()}addCaptions(e,t,n){const i=e.captions;i.forEach((e,o)=>{e&&(t.insertBefore(e.viewNode,n),"top"===e.side&&(i[o]=null))})}addColGroups(e,t,n){e.colGroups&&0===this.getColGroupElements(t).length&&t.insertBefore(e.colGroups.cloneNode(!0),n)}removeColGroups(e,t){if(e.colGroups&&t){const e=this.getColGroupElements(t);e&&e.forEach(e=>{t.removeChild(e)})}}doLayout(e,t){const n=e.formattingContext,i=n.getRootViewNode(e),o=i.firstChild;this.addCaptions(n,i,o),this.addColGroups(n,i,o);const s=new oh(n,t),r=new ll(s,t.layoutContext),a=pi("TableFormattingContext.doLayout");return r.iterate(e).thenFinish(a),a.result()}layout(e,t,n){const i=e.formattingContext;return i.getRootViewNode(e)?(n&&$l(e.parent,t),new ah(i,this).layout(e,t)):t.buildDeepElementView(e)}createEdgeBreakPosition(e,t,n,i){return new Zl(e,t,n,i)}startNonInlineElementNode(e){return!1}afterNonInlineElementNode(e,t){return!1}finishBreak(e,t,n,i){const o=t.formattingContext;if("table-row"===t.display){t.sourceNode;const n=o.findRowIndexBySourceNode(t.sourceNode);let i;if(o.cellBreakPositions=[],i=t.after?o.getRowSpanningCellsOverflowingTheRow(n):o.getCellsFallingOnRow(n),i.length){const s=pi("TableLayoutProcessor.finishBreak");let r=0;return s.loopWithFrame(e=>{if(r===i.length)return void e.breakLoop();const t=i[r++],s=o.getCellFragmentOfCell(t),a=s.findAcceptableBreakPosition().nodeContext,l=s.cellNodeContext,h=l.toNodePosition(),c=new pa(a.toNodePosition());o.cellBreakPositions.push({cellNodePosition:h,breakChunkPosition:c,cell:t});const u=l.viewNode;s.column.layoutContext.processFragmentedBlockEdge(s.cellNodeContext),n<t.rowIndex+t.rowSpan-1&&(u.rowSpan=n-t.rowIndex+1),s.empty?e.continueLoop():s.pseudoColumn.finishBreak(a,!1,!0).then(()=>{(function(e,t,n){const i=t.getRepetitiveElements();if(!i)return;const o=t.vertical,s=e.column,r=e.pseudoColumn.getColumnElement(),a=e.cellNodeContext.viewNode,l=s.clientLayout.getElementClientRect(a),h=s.getComputedPaddingBorder(a);o?U(r,"max-width",`${l.right-s.footnoteEdge-i.calculateOffset(n)-h.right}px`):U(r,"max-height",`${s.footnoteEdge-i.calculateOffset(n)-l.top-h.top}px`);U(r,"overflow","hidden")})(s,o,a),e.continueLoop()})}).then(()=>{e.clearOverflownViewNodes(t,!1),e.layoutContext.processFragmentedBlockEdge(t),o.finishFragment(),s.finish(!0)}),s.result()}}return o.finishFragment(),ol.finishBreak(e,t,n,i)}clearOverflownViewNodes(e,t,n,i){nl.prototype.clearOverflownViewNodes(e,t,n,i)}}class ah extends rl{constructor(e,t){super(),this.tableFormattingContext=e,this.processor=t}resolveLayoutMode(e){const t=this.tableFormattingContext.getRepetitiveElements();return t&&t.doneInitialLayout?(e.sourceNode!==this.tableFormattingContext.tableSourceNode||e.after||t&&t.preventSkippingHeader(),new uh(this.tableFormattingContext,this.processor)):new lh(this.tableFormattingContext,this.processor)}clearNodes(e){super.clearNodes(e);const t=this.tableFormattingContext.getRootViewNode(e);this.processor.removeColGroups(this.tableFormattingContext,t)}restoreState(e,t){super.restoreState(e,t),this.tableFormattingContext.finishFragment()}}class lh extends Bl{constructor(e,t){super(e),this.processor=t}doLayout(e,t){return this.processor.doInitialLayout(e,t)}}class hh extends Ka{constructor(e){super(e,null,e.overflow,0)}getMinBreakPenalty(){if(!this.isEdgeUpdated)throw new Error("EdgeBreakPosition.prototype.updateEdge not called");return(this.overflows?3:0)+(this.position.parent?this.position.parent.breakPenalty:0)}breakPositionChosen(e){e.fragmentLayoutConstraints.push(new ch(this.position.sourceNode))}}class ch{constructor(e){this.tableRootNode=e,this.flagmentLayoutConstraintType="EntireTable"}allowLayout(e,t,n){return e.overflow,!1}nextCandidate(e){return!0}postLayout(e,t,n,i){t.sourceNode,sh.push({root:t.sourceNode,tableLayoutOption:{calculateBreakPositionsInside:!0}})}finishBreak(e,t){return fi(!0)}equalsTo(e){return e instanceof ch&&e.tableRootNode===this.tableRootNode}getPriorityOfFinishBreak(){return 0}}class uh extends Ml{constructor(e,t){super(e),this.processor=t}doLayout(e,t){const n=this.formattingContext.getRepetitiveElements();if(n&&!n.isAfterLastContent(e)){const n=new dh(e);t.fragmentLayoutConstraints.some(e=>n.equalsTo(e))||t.fragmentLayoutConstraints.unshift(n)}return this.processor.doLayout(e,t)}}class dh extends Vl{constructor(e){super(e),this.flagmentLayoutConstraintType="TableRow",this.cellFragmentLayoutConstraints=[]}allowLayout(e,t,n){const i=this.getRepetitiveElements();return!(i&&!n.pseudoParent&&!Ha(this.nodeContext.viewNode)&&i.isEnableToUpdateState()&&(t&&!e||e&&e.overflow))}nextCandidate(e){const t=this.nodeContext.formattingContext;return!!this.collectCellFragmentLayoutConstraints(e,t).some(t=>t.constraints.some(t=>t.nextCandidate(e)))||super.nextCandidate(e)}postLayout(e,t,n,i){const o=this.nodeContext.formattingContext;if(this.cellFragmentLayoutConstraints=this.collectCellFragmentLayoutConstraints(t,o),this.cellFragmentLayoutConstraints.forEach(t=>{t.constraints.forEach(o=>{o.postLayout(e,t.breakPosition,n,i)})}),!e){const e=o.getRootViewNode(this.nodeContext);(new rh).removeColGroups(o,e),this.removeDummyRowNodes(n)}super.postLayout(e,t,n,i)}finishBreak(e,t){this.nodeContext.formattingContext;const n=pi("finishBreak"),i=this.cellFragmentLayoutConstraints.reduce((e,t)=>e.concat(t.constraints.map(e=>({constraint:e,breakPosition:t.breakPosition}))),[]);let o=0;return n.loop(()=>{if(o<i.length){const e=i[o++];return e.constraint.finishBreak(e.breakPosition,t).thenReturn(!0)}return fi(!1)}).then(()=>{n.finish(!0)}),n.result().thenAsync(()=>super.finishBreak(e,t))}removeDummyRowNodes(e){if(e&&"table-row"===e.display&&e.viewNode)for(;e.viewNode.previousElementSibling;){const t=e.viewNode.previousElementSibling;t.parentNode&&t.parentNode.removeChild(t)}}collectCellFragmentLayoutConstraints(e,t){return this.getCellFragemnts(e,t).map(e=>({constraints:e.fragment.pseudoColumn.getColumn().fragmentLayoutConstraints,breakPosition:e.breakPosition}))}getCellFragemnts(e,t){let n=Number.MAX_VALUE;e&&"table-row"===e.display&&(e.sourceNode,n=t.findRowIndexBySourceNode(e.sourceNode)+1),n=Math.min(t.cellFragments.length,n);const i=[];for(let e=0;e<n;e++)t.cellFragments[e]&&t.cellFragments[e].forEach(e=>{e&&i.push({fragment:e,breakPosition:e.findAcceptableBreakPosition().nodeContext})});return i}getElementsOffsetsForTableCell(e){const t=this.nodeContext.formattingContext,n=t.findCellFromColumn(e);return n?t.collectElementsOffsetOfUpperCells(n):t.collectElementsOffsetOfHighestColumn()}equalsTo(e){return e instanceof dh&&this.nodeContext.formattingContext===e.nodeContext.formattingContext}}const ph=new rh;function fh(e){return e.reduce((e,t)=>e+t,0)/e.length}u(t.HOOKS.RESOLVE_FORMATTING_CONTEXT,(function(e,t,n,i,o,s){if(!t)return null;if(n===Bt.table){const t=e.parent;return new Jl(t?t.formattingContext:null,e.sourceNode)}return null})),u(t.HOOKS.RESOLVE_LAYOUT_PROCESSOR,(function(e){return e instanceof Jl?ph:null}));class gh{constructor(e,t){this.layoutResult=e,this.penalty=t}}function mh(e){return e.vertical?e.width:e.height}function bh(e,t){e.vertical?e.width=t:e.height=t}class wh{constructor(e,t,n){this.layoutContainer=e,this.columnGenerator=t,this.regionPageFloatLayoutContext=n,this.originalContainerBlockSize=mh(e)}balanceColumns(e){const t=this,n=pi("ColumnBalancer#balanceColumns");t.preBalance(e),t.savePageFloatLayoutContexts(e),t.layoutContainer.clear();const i=[t.createTrialResult(e)];return n.loopWithFrame(e=>{t.hasNextCandidate(i)?(t.updateCondition(i),t.columnGenerator().then(n=>{t.savePageFloatLayoutContexts(n),t.layoutContainer.clear(),n?(i.push(t.createTrialResult(n)),e.continueLoop()):e.breakLoop()})):e.breakLoop()}).then(()=>{const e=i.reduce((e,t)=>t.penalty<e.penalty?t:e,i[0]);t.restoreContents(e.layoutResult),t.postBalance(),n.finish(e.layoutResult)}),n.result()}createTrialResult(e){const t=this.calculatePenalty(e);return new gh(e,t)}preBalance(e){}postBalance(){bh(this.layoutContainer,this.originalContainerBlockSize)}savePageFloatLayoutContexts(e){const t=this.regionPageFloatLayoutContext.detachChildren();e&&(e.columnPageFloatLayoutContexts=t)}restoreContents(e){const t=this.layoutContainer.element;e.columns.forEach(e=>{t.appendChild(e.element)}),e.columnPageFloatLayoutContexts,this.regionPageFloatLayoutContext.attachChildren(e.columnPageFloatLayoutContexts)}}const Eh=1;function yh(e){const t=e[e.length-1];if(0===t.penalty)return!1;const n=e[e.length-2];if(n&&t.penalty>=n.penalty)return!1;const i=t.layoutResult.columns;return Math.max.apply(null,i.map(e=>e.computedBlockSize))>Math.max.apply(null,i.map(e=>e.getMaxBlockSizeOfPageFloats()))+Eh}function Sh(e,t){const n=e[e.length-1].layoutResult.columns,i=Math.max.apply(null,n.map(e=>isNaN(e.blockDistanceToBlockEndFloats)?e.computedBlockSize:e.computedBlockSize-e.blockDistanceToBlockEndFloats+Eh))-Eh;i<mh(t)?bh(t,i):bh(t,mh(t)-1)}class Nh extends wh{constructor(e,t,n,i){super(n,e,t),this.columnCount=i,this.originalPosition=null,this.foundUpperBound=!1}preBalance(e){const t=e.columns.reduce((e,t)=>e+t.computedBlockSize,0);bh(this.layoutContainer,t/this.columnCount),this.originalPosition=e.position}checkPosition(e){return this.originalPosition?this.originalPosition.isSamePosition(e):null===e}calculatePenalty(e){if(!this.checkPosition(e.position))return 1/0;const t=e.columns;return vh(t)?1/0:Math.max.apply(null,t.map(e=>e.computedBlockSize))}hasNextCandidate(e){if(1===e.length)return!0;if(this.foundUpperBound)return yh(e);{const t=e[e.length-1];return this.checkPosition(t.layoutResult.position)&&!vh(t.layoutResult.columns)?(this.foundUpperBound=!0,!0):mh(this.layoutContainer)<this.originalContainerBlockSize}}updateCondition(e){if(this.foundUpperBound)Sh(e,this.layoutContainer);else{const e=Math.min(this.originalContainerBlockSize,mh(this.layoutContainer)+.1*this.originalContainerBlockSize);bh(this.layoutContainer,e)}}}function vh(e){if(e.length<=1)return!1;const t=e[e.length-1].computedBlockSize;return e.slice(0,e.length-1).every(e=>t>e.computedBlockSize)}class Ch extends wh{constructor(e,t,n){super(n,e,t)}calculatePenalty(e){return e.columns.every(e=>0===e.computedBlockSize)?1/0:function(e){const t=fh(e);return fh(e.map(e=>{const n=e-t;return n*n}))}(e.columns.filter(e=>!e.pageBreakType).map(e=>e.computedBlockSize))}hasNextCandidate(e){return yh(e)}updateCondition(e){Sh(e,this.layoutContainer)}}class Th{constructor(e,t,n){this.endStuckFixed=e,this.endFixed=t,this.endSlipped=n}}class xh{constructor(){this.map=[]}getMaxFixed(){return 0==this.map.length?0:this.map[this.map.length-1].endFixed}getMaxSlipped(){return 0==this.map.length?0:this.map[this.map.length-1].endSlipped}addStuckRange(e){if(0==this.map.length)this.map.push(new Th(e,e,e));else{const t=this.map[this.map.length-1],n=t.endSlipped+e-t.endFixed;t.endFixed==t.endStuckFixed?(t.endFixed=e,t.endStuckFixed=e,t.endSlipped=n):this.map.push(new Th(e,e,n))}}addSlippedRange(e){0==this.map.length?this.map.push(new Th(e,0,0)):this.map[this.map.length-1].endFixed=e}slippedByFixed(e){const t=this,n=Z(this.map.length,n=>e<=t.map[n].endFixed),i=this.map[n];return i.endSlipped-Math.max(0,i.endStuckFixed-e)}fixedBySlipped(e){const t=this,n=Z(this.map.length,n=>e<=t.map[n].endSlipped),i=this.map[n];return i.endStuckFixed-(i.endSlipped-e)}}class Ih{constructor(e,t,n,i,o,s,r,a){if(this.context=e,this.style=t,this.offset=n,this.isRoot=i,this.flowChunk=o,this.atBlockStart=s,this.atFlowStart=r,this.isParentBoxDisplayed=a,this.isBlockValue=null,this.hasBoxValue=null,this.styleValues={},this.beforeBox=null,this.afterBox=null,this.breakBefore=null,this.flowName=o.flowName,this.hasBox()){const i=t._pseudos;if(i&&i.before){const t=new Ih(e,i.before,n,!1,o,this.isBlock(),r,!0);Ea(t.styleValue("content"))&&(this.beforeBox=t,this.breakBefore=t.breakBefore)}}this.breakBefore=Ba(this.getBreakValue("before"),this.breakBefore),this.atFlowStart&&Fa(this.breakBefore)&&(o.breakBefore=Ba(o.breakBefore,this.breakBefore))}buildAfterPseudoElementBox(e,t,n){if(this.hasBox()){const i=this.style._pseudos;if(i&&i.after){const o=new Ih(this.context,i.after,e,!1,this.flowChunk,t,n,!0);Ea(o.styleValue("content"))&&(this.afterBox=o)}}}styleValue(e,t){if(!(e in this.styleValues)){const n=this.style[e];this.styleValues[e]=n?n.evaluate(this.context,e):t||null}return this.styleValues[e]}displayValue(){return this.styleValue("display",Bt.inline)}isBlock(){if(null===this.isBlockValue){const e=this.displayValue(),t=this.styleValue("position"),n=this.styleValue("float");this.isBlockValue=Ja(e,t,n,this.isRoot)}return this.isBlockValue}hasBox(){return null===this.hasBoxValue&&(this.hasBoxValue=this.isParentBoxDisplayed&&this.displayValue()!==Bt.none),this.hasBoxValue}getBreakValue(e){let t=null;if(this.isBlock()){const n=this.styleValue(`break-${e}`);n&&(t=n.toString())}return t}}class Ph{constructor(e){this.context=e,this.stack=[],this.atBlockStart=!0,this.atFlowStart=!0,this.atStartStack=[]}empty(){return 0===this.stack.length}lastBox(){return this.stack[this.stack.length-1]}lastFlowName(){const e=this.lastBox();return e?e.flowChunk.flowName:null}isCurrentBoxDisplayed(){return this.stack.every(e=>e.displayValue()!==Bt.none)}push(e,t,n,i){const o=this.lastBox();i&&o&&i.flowName!==o.flowName&&this.atStartStack.push({atBlockStart:this.atBlockStart,atFlowStart:this.atFlowStart});const s=i||o.flowChunk,r=this.atFlowStart||!!i,a=this.isCurrentBoxDisplayed(),l=new Ih(this.context,e,t,n,s,r||this.atBlockStart,r,a);return this.stack.push(l),this.atBlockStart=l.hasBox()?!l.beforeBox&&l.isBlock():this.atBlockStart,this.atFlowStart=l.hasBox()?!l.beforeBox&&r:this.atFlowStart,l}encounteredTextNode(e){const t=this.lastBox();(this.atBlockStart||this.atFlowStart)&&t.hasBox()&&(Jr(e,Qr(t.styleValue("white-space",Bt.normal).toString()))||(this.atBlockStart=!1,this.atFlowStart=!1))}pop(e){const t=this.stack.pop();if(t.buildAfterPseudoElementBox(e,this.atBlockStart,this.atFlowStart),this.atFlowStart&&t.afterBox){const e=t.afterBox.getBreakValue("before");t.flowChunk.breakBefore=Ba(t.flowChunk.breakBefore,e)}const n=this.lastBox();if(n)if(n.flowName===t.flowName)t.hasBox()&&(this.atBlockStart=this.atFlowStart=!1);else{const e=this.atStartStack.pop();this.atBlockStart=e.atBlockStart,this.atFlowStart=e.atFlowStart}return t}nearestBlockStartOffset(e){if(!e.atBlockStart)return e.offset;let t=this.stack.length-1,n=this.stack[t];for(n===e&&(t--,n=this.stack[t]);t>=0;){if(n.flowName!==e.flowName)return e.offset;if(!n.atBlockStart)return n.offset;if(n.isRoot)return n.offset;e=n,n=this.stack[--t]}throw new Error("No block start offset found!")}}class Ah{constructor(e,t,n,i,o,s,r,a){this.xmldoc=e,this.scope=n,this.context=i,this.primaryFlows=o,this.validatorSet=s,this.counterListener=r,this.rootStyle={},this.styleMap={},this.flows={},this.flowChunks=[],this.flowListener=null,this.flowToReach=null,this.idToReach=null,this.primary=!0,this.primaryStack=[],this.rootBackgroundAssigned=!1,this.rootLayoutAssigned=!1,this.breakBeforeValues={},this.bodyReached=!0,this.root=e.root,this.cascadeHolder=t,this.last=this.root,this.cascade=t.createInstance(i,r,a,e.lang),this.offsetMap=new xh;const l=e.getElementOffset(this.root);this.lastOffset=l,this.boxStack=new Ph(i),this.offsetMap.addStuckRange(l);const h=this.getAttrStyle(this.root);switch(this.cascade.pushElement(this.root,h,l),this.postprocessTopStyle(h,!1),this.root.namespaceURI){case L.XHTML:case L.FB2:this.bodyReached=!1}this.primaryStack.push(!0),this.styleMap={},this.styleMap[`e${l}`]=h,this.lastOffset++,this.replayFlowElementsFromOffset(-1)}hasProp(e,t,n){const i=e[n];return i&&i.evaluate(this.context)!==t[n]}transferPropsToRoot(e,t){for(const n in t){const i=e[n];if(i)this.rootStyle[n]=i,delete e[n];else{const e=t[n];e&&(this.rootStyle[n]=new _o(e,Bi))}}}postprocessTopStyle(e,t){if(["writing-mode","direction"].forEach(n=>{!e[n]||t&&this.rootStyle[n]||(this.rootStyle[n]=e[n])}),!this.rootBackgroundAssigned){const t=this.hasProp(e,this.validatorSet.backgroundProps,"background-color")?e["background-color"].evaluate(this.context):null,n=this.hasProp(e,this.validatorSet.backgroundProps,"background-image")?e["background-image"].evaluate(this.context):null;(t&&t!==Bt.inherit||n&&n!==Bt.inherit)&&(this.transferPropsToRoot(e,this.validatorSet.backgroundProps),this.rootBackgroundAssigned=!0)}if(!this.rootLayoutAssigned)for(let t=0;t<Oh.length;t++)if(this.hasProp(e,this.validatorSet.layoutProps,Oh[t])){this.transferPropsToRoot(e,this.validatorSet.layoutProps),this.rootLayoutAssigned=!0;break}if(!t){const t=e["font-size"];if(t){const e=t.evaluate(this.context);let n=e.num;switch(e.unit){case"em":case"rem":n*=this.context.initialFontSize;break;case"ex":n*=this.context.initialFontSize*Ie.ex/Ie.em;break;case"%":n*=this.context.initialFontSize/100;break;default:{const t=Ie[e.unit];t&&(n*=t)}}this.context.rootFontSize=n}}}getTopContainerStyle(){let e=0;for(;!this.bodyReached&&(e+=5e3,this.styleUntil(e,0)!=Number.POSITIVE_INFINITY););return this.rootStyle}getAttrStyle(e){if(e.style instanceof CSSStyleDeclaration){const t=e.getAttribute("style");if(t)return ar(this.scope,this.validatorSet,this.xmldoc.url,t)}return{}}getReachedOffset(){return this.lastOffset}replayFlowElementsFromOffset(e){if(e>=this.lastOffset)return;const t=this.context,n=this.xmldoc.getElementOffset(this.root);if(e<n){const e=this.getStyle(this.root,!1),i=$o(e,"flow-into"),o=i?i.evaluate(t,"flow-into").toString():"body",s=this.encounteredFlowElement(o,e,this.root,n);this.boxStack.empty()&&this.boxStack.push(e,n,!0,s)}let i=this.xmldoc.getNodeByOffset(e),o=this.xmldoc.getNodeOffset(i,0,!1);if(!(o>=this.lastOffset))for(;;){if(1!=i.nodeType)o+=i.textContent.length;else{const e=i,n=this.getStyle(e,!1),s=n["flow-into"];if(s){const i=s.evaluate(t,"flow-into").toString();this.encounteredFlowElement(i,n,e,o)}o++}if(o>=this.lastOffset)break;let e=i.firstChild;if(null==e)for(;e=i.nextSibling,!e;)if(i=i.parentNode,i===this.root)return;i=e}}resetFlowChunkStream(e){this.flowListener=e;for(let e=0;e<this.flowChunks.length;e++)this.flowListener.encounteredFlowChunk(this.flowChunks[e],this.flows[this.flowChunks[e].flowName])}styleUntilFlowIsReached(e){this.flowToReach=e;let t=0;for(;null!=this.flowToReach&&(t+=5e3,this.styleUntil(t,0)!=Number.POSITIVE_INFINITY););}styleUntilIdIsReached(e){if(!e)return;this.idToReach=e;let t=0;for(;this.idToReach&&(t+=5e3,this.styleUntil(t,0)!==Number.POSITIVE_INFINITY););this.idToReach=null}encounteredFlowElement(e,t,n,i){let o=0,s=Number.POSITIVE_INFINITY,r=!1,a=!1,l=!1;const c=t["flow-options"];if(c){const e=function(e){if(e){const t=new pn;try{return e.visit(t),t.propSet}catch(e){h.warn(e,"toSet:")}}return{}}(c.evaluate(this.context,"flow-options"));r=!!e.exclusive,a=!!e.static,l=!!e.last}const u=t["flow-linger"];u&&(s=gn(u.evaluate(this.context,"flow-linger"),Number.POSITIVE_INFINITY));const d=t["flow-priority"];d&&(o=gn(d.evaluate(this.context,"flow-priority"),0));const p=this.breakBeforeValues[i]||null;let f=this.flows[e];if(!f){const t=this.boxStack.lastFlowName();f=this.flows[e]=new ea(e,t)}const g=new ta(e,n,i,o,s,r,a,l,p);return this.flowChunks.push(g),this.flowToReach==e&&(this.flowToReach=null),this.flowListener&&this.flowListener.encounteredFlowChunk(g,f),g}registerForcedBreakOffset(e,t,n){if(Fa(e)){const e=this.flows[n].forcedBreakOffsets;(0===e.length||e[e.length-1]<t)&&e.push(t)}const i=this.breakBeforeValues[t];this.breakBeforeValues[t]=Ba(i,e)}styleUntil(e,t){let n,i=-1;if(e<=this.lastOffset&&(n=this.offsetMap.slippedByFixed(e),i=n+t,i<this.offsetMap.getMaxSlipped()))return this.offsetMap.fixedBySlipped(i);if(null==this.last)return Number.POSITIVE_INFINITY;const o=this.context;for(;;){let s=this.last.firstChild;if(null==s)for(;;){if(1==this.last.nodeType){this.cascade.popElement(this.last),this.primary=this.primaryStack.pop();const e=this.boxStack.pop(this.lastOffset);let t=null;if(e.afterBox){const n=e.afterBox.getBreakValue("before");this.registerForcedBreakOffset(n,e.afterBox.atBlockStart?this.boxStack.nearestBlockStartOffset(e):e.afterBox.offset,e.flowName),t=e.afterBox.getBreakValue("after")}t=Ba(t,e.getBreakValue("after")),this.registerForcedBreakOffset(t,this.lastOffset,e.flowName)}if(s=this.last.nextSibling,s)break;if(this.last=this.last.parentNode,this.last===this.root)return this.last=null,e<this.lastOffset&&(i<0&&(n=this.offsetMap.slippedByFixed(e),i=n+t),i<=this.offsetMap.getMaxSlipped())?this.offsetMap.fixedBySlipped(i):Number.POSITIVE_INFINITY}if(this.last=s,1!=this.last.nodeType)this.lastOffset+=this.last.textContent.length,this.boxStack.encounteredTextNode(this.last),this.primary?this.offsetMap.addStuckRange(this.lastOffset):this.offsetMap.addSlippedRange(this.lastOffset);else{const s=this.last,r=this.getAttrStyle(s);this.primaryStack.push(this.primary),this.cascade.pushElement(s,r,this.lastOffset);const a=s.getAttribute("id")||s.getAttributeNS(L.XML,"id");let l;a&&a===this.idToReach&&(this.idToReach=null),this.bodyReached||"body"!=s.localName||s.parentNode!=this.root||(this.postprocessTopStyle(r,!0),this.bodyReached=!0);const h=r["flow-into"];if(h){const e=h.evaluate(o,"flow-into").toString(),t=this.encounteredFlowElement(e,r,s,this.lastOffset);this.primary=!!this.primaryFlows[e],l=this.boxStack.push(r,this.lastOffset,s===this.root,t)}else l=this.boxStack.push(r,this.lastOffset,s===this.root);const c=this.boxStack.nearestBlockStartOffset(l);if(this.registerForcedBreakOffset(l.breakBefore,c,l.flowName),l.beforeBox){const e=l.beforeBox.getBreakValue("after");this.registerForcedBreakOffset(e,l.beforeBox.atBlockStart?c:l.offset,l.flowName)}if(this.primary&&l.displayValue()===Bt.none&&(this.primary=!1),this.styleMap[`e${this.lastOffset}`]=r,this.lastOffset++,this.primary?this.offsetMap.addStuckRange(this.lastOffset):this.offsetMap.addSlippedRange(this.lastOffset),e<this.lastOffset&&(i<0&&(n=this.offsetMap.slippedByFixed(e),i=n+t),i<=this.offsetMap.getMaxSlipped()))return this.offsetMap.fixedBySlipped(i)}}}getStyle(e,t){let n=this.xmldoc.getElementOffset(e);const i=`e${n}`;return t&&(n=this.xmldoc.getNodeOffset(e,0,!0)),this.lastOffset<=n&&this.styleUntil(n,0),this.styleMap[i]}processContent(e,t){}}const Oh=["column-count","column-width","column-fill"];var Rh,Lh="/*\n * Copyright 2013 Google, Inc.\n * Copyright 2015 Trim-marks Inc.\n * Copyright 2019 Vivliostyle Foundation\n *\n * CSS property validation.\n */\nNUM = POS_NUM | ZERO | NEGATIVE;\nNNEG_NUM = POS_NUM | ZERO;\nINT = POS_INT | ZERO | NEGATIVE;\nNNEG_INT = POS_INT | ZERO;\nPERCENTAGE = POS_PERCENTAGE | ZERO | NEGATIVE;\nSTRICT_PERCENTAGE = POS_PERCENTAGE | ZERO_PERCENTAGE | NEGATIVE;\nNNEG_PERCENTAGE = POS_PERCENTAGE | ZERO;\nLENGTH = POS_LENGTH | ZERO | NEGATIVE;\nNNEG_LENGTH = POS_LENGTH | ZERO | NEGATIVE;\nPLENGTH = LENGTH | PERCENTAGE;\nPPLENGTH = POS_LENGTH | ZERO | POS_PERCENTAGE;\nALENGTH = LENGTH | auto;\nAPLENGTH = PLENGTH | auto;\nPAPLENGTH = PPLENGTH | auto;\nANGLE = POS_ANGLE | ZERO | NEGATIVE;\nLENGTH_OR_NUM = LENGTH | NUM;\nANGLE_OR_NUM = ANGLE | NUM;\nSCOLOR = HASHCOLOR | aliceblue: #F0F8FF | antiquewhite: #FAEBD7 | aqua: #00FFFF | aquamarine: #7FFFD4 | azure: #F0FFFF |\n    beige: #F5F5DC | bisque: #FFE4C4 | black: #000000 | blanchedalmond: #FFEBCD | blue: #0000FF | blueviolet: #8A2BE2 | brown: #A52A2A |\n    burlywood: #DEB887 | cadetblue: #5F9EA0 | chartreuse: #7FFF00 | chocolate: #D2691E | coral: #FF7F50 | cornflowerblue: #6495ED |\n    cornsilk: #FFF8DC | crimson: #DC143C | cyan: #00FFFF | darkblue: #00008B | darkcyan: #008B8B | darkgoldenrod: #B8860B |\n    darkgray: #A9A9A9 | darkgreen: #006400 | darkgrey: #A9A9A9 | darkkhaki: #BDB76B | darkmagenta: #8B008B | darkolivegreen: #556B2F |\n    darkorange: #FF8C00 | darkorchid: #9932CC | darkred: #8B0000 | darksalmon: #E9967A | darkseagreen: #8FBC8F | darkslateblue: #483D8B |\n    darkslategray: #2F4F4F | darkslategrey: #2F4F4F | darkturquoise: #00CED1 | darkviolet: #9400D3 | deeppink: #FF1493 |\n    deepskyblue: #00BFFF | dimgray: #696969 | dimgrey: #696969 | dodgerblue: #1E90FF | firebrick: #B22222 | floralwhite: #FFFAF0 |\n    forestgreen: #228B22 | fuchsia: #FF00FF | gainsboro: #DCDCDC | ghostwhite: #F8F8FF | gold: #FFD700 | goldenrod: #DAA520 |\n    gray: #808080 | green: #008000 | greenyellow: #ADFF2F | grey: #808080 | honeydew: #F0FFF0 | hotpink: #FF69B4 | indianred: #CD5C5C |\n    indigo: #4B0082 | ivory: #FFFFF0 | khaki: #F0E68C | lavender: #E6E6FA | lavenderblush: #FFF0F5 | lawngreen: #7CFC00 |\n    lemonchiffon: #FFFACD | lightblue: #ADD8E6 | lightcoral: #F08080 | lightcyan: #E0FFFF | lightgoldenrodyellow: #FAFAD2 |\n    lightgray: #D3D3D3 | lightgreen: #90EE90 | lightgrey: #D3D3D3 | lightpink: #FFB6C1 | lightsalmon: #FFA07A | lightseagreen: #20B2AA |\n    lightskyblue: #87CEFA | lightslategray: #778899 | lightslategrey: #778899 | lightsteelblue: #B0C4DE | lightyellow: #FFFFE0 |\n    lime: #00FF00 | limegreen: #32CD32 | linen: #FAF0E6 | magenta: #FF00FF | maroon: #800000 | mediumaquamarine: #66CDAA |\n    mediumblue: #0000CD | mediumorchid: #BA55D3 | mediumpurple: #9370DB | mediumseagreen: #3CB371 | mediumslateblue: #7B68EE |\n    mediumspringgreen: #00FA9A | mediumturquoise: #48D1CC | mediumvioletred: #C71585 | midnightblue: #191970 | mintcream: #F5FFFA |\n    mistyrose: #FFE4E1 | moccasin: #FFE4B5 | navajowhite: #FFDEAD | navy: #000080 | oldlace: #FDF5E6 | olive: #808000 |\n    olivedrab: #6B8E23 | orange: #FFA500 | orangered: #FF4500 | orchid: #DA70D6 | palegoldenrod: #EEE8AA | palegreen: #98FB98 |\n    paleturquoise: #AFEEEE | palevioletred: #DB7093 | papayawhip: #FFEFD5 | peachpuff: #FFDAB9 | peru: #CD853F | pink: #FFC0CB |\n    plum: #DDA0DD | powderblue: #B0E0E6 | purple: #800080 | rebeccapurple: #663399 | red: #FF0000 | rosybrown: #BC8F8F | royalblue: #4169E1 |\n    saddlebrown: #8B4513 | salmon: #FA8072 | sandybrown: #F4A460 | seagreen: #2E8B57 | seashell: #FFF5EE | sienna: #A0522D |\n    silver: #C0C0C0 | skyblue: #87CEEB | slateblue: #6A5ACD | slategray: #708090 | slategrey: #708090 | snow: #FFFAFA |\n    springgreen: #00FF7F | steelblue: #4682B4 | tan: #D2B48C | teal: #008080 | thistle: #D8BFD8 | tomato: #FF6347 |\n    turquoise: #40E0D0 | violet: #EE82EE | wheat: #F5DEB3 | white: #FFFFFF | whitesmoke: #F5F5F5 | yellow: #FFFF00 |\n    yellowgreen: #9ACD32 | transparent | currentcolor;\nRGBCOLOR = rgb(INT{3}) | rgb(STRICT_PERCENTAGE{3});\nRGBACOLOR = rgba(NUM{4}) | rgba(STRICT_PERCENTAGE{3} NUM);\nHSLCOLOR = hsl(NUM PERCENTAGE{2});\nHSLACOLOR = hsl(NUM PERCENTAGE{2} NUM);\nCOLOR = SCOLOR | RGBCOLOR | RGBACOLOR | HSLCOLOR | HSLACOLOR;\nBG_POSITION_TERM = PLENGTH | left | center | right | top | bottom;\nSIDE_OR_CORNER =  [left | right] || [top | bottom];\nCOLOR_STOP = SPACE(COLOR [PERCENTAGE | LENGTH]?);\nLINEAR_GRADIENT = linear-gradient([ANGLE | SPACE(to SIDE_OR_CORNER)]? COLOR_STOP+) |\n                  repeating-linear-gradient([ANGLE | SPACE(to SIDE_OR_CORNER)]? COLOR_STOP+) |;\nGRADIENT_EXTENT = closest-corner | closest-side | farthest-corner | farthest-side;\nGRADIENT_POSITION = at BG_POSITION_TERM{1,4};\nGRADIENT_SHAPE = SPACE(circle LENGTH? GRADIENT_POSITION?) | SPACE(ellipse PLENGTH{2}? GRADIENT_POSITION?)| SPACE([circle | ellipse] GRADIENT_EXTENT? GRADIENT_POSITION?);\nRADIAL_GRADIENT = radial-gradient([GRADIENT_SHAPE | SPACE(GRADIENT_POSITION)]? COLOR_STOP+) |\n                  repeating-radial-gradient([GRADIENT_SHAPE | SPACE(GRADIENT_POSITION)]? COLOR_STOP+);\nURI_OR_NONE = URI | none;\nIMAGE =  URI | LINEAR_GRADIENT | RADIAL_GRADIENT | none;\nazimuth = ANGLE | [[ left-side | far-left | left | center-left | center | center-right | right | far-right | right-side ] || behind ] | leftwards | rightwards;\nbackground-attachment = COMMA( [scroll | fixed | local]+ );\nbackground-color = COLOR;\nbackground-image = COMMA( IMAGE+ );\nbackground-position = COMMA( SPACE(BG_POSITION_TERM{1,4})+ ); /* relaxed */\nbackground-repeat = COMMA( [repeat | repeat-x | repeat-y | no-repeat]+ );\nborder-collapse = collapse | separate;\nBORDER_SIDE_COLOR = COLOR;\nBORDER_SIDE_STYLE = none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset;\nBORDER_SIDE_WIDTH = thin: 1px | medium: 3px | thick: 5px | NNEG_LENGTH;\nborder-spacing = LENGTH LENGTH?;\nborder-top-color = BORDER_SIDE_COLOR;\nborder-right-color = BORDER_SIDE_COLOR;\nborder-bottom-color = BORDER_SIDE_COLOR;\nborder-left-color = BORDER_SIDE_COLOR;\nborder-top-style = BORDER_SIDE_STYLE;\nborder-right-style = BORDER_SIDE_STYLE;\nborder-bottom-style = BORDER_SIDE_STYLE;\nborder-left-style = BORDER_SIDE_STYLE;\nborder-top-width = BORDER_SIDE_WIDTH;\nborder-right-width = BORDER_SIDE_WIDTH;\nborder-bottom-width = BORDER_SIDE_WIDTH;\nborder-left-width = BORDER_SIDE_WIDTH;\nBORDER_RADIUS = PLENGTH{1,2};\nborder-top-left-radius = BORDER_RADIUS;\nborder-top-right-radius = BORDER_RADIUS;\nborder-bottom-right-radius = BORDER_RADIUS;\nborder-bottom-left-radius = BORDER_RADIUS;\nborder-image-source = IMAGE;\nborder-image-slice = [NUM | PERCENTAGE]{1,4} || fill; /* relaxed */\nborder-image-width = [NUM | PLENGTH | auto]{1,4};\nborder-image-outset = [NUM | LENGTH]{1,4};\nborder-image-repeat = [ stretch | repeat | round | space ]{1,2};\nbottom = APLENGTH;\ncaption-side = top | bottom;\nclear = none | left | right | top | bottom | both | all | same;\nclip = rect(ALENGTH{4}) | rect(SPACE(ALENGTH{4})) | auto;\ncolor = COLOR;\nLIST_STYLE_TYPE = disc | circle | square | decimal | decimal-leading-zero | lower-roman |\n    upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha |\n    upper-alpha | russian | upper-russian | lower-russian | cjk-ideographic | trad-chinese-informal |\n    hebrew | none;\nTYPE_OR_UNIT_IN_ATTR = string | color | url | integer | number | length | angle | time | frequency;\nATTR = attr(SPACE(IDENT TYPE_OR_UNIT_IN_ATTR?) [ STRING | IDENT | COLOR | INT | NUM | PLENGTH | ANGLE | POS_TIME | FREQUENCY]?);\nCONTENT = normal | none |\n    [ STRING | URI | counter(IDENT LIST_STYLE_TYPE?) |\n    counters(IDENT STRING LIST_STYLE_TYPE?) | ATTR |\n    target-counter([ STRING | URI ] IDENT LIST_STYLE_TYPE?) |\n    target-counter(ATTR IDENT LIST_STYLE_TYPE?) |\n    target-counters([ STRING | URI ] IDENT STRING LIST_STYLE_TYPE?) |\n    target-counters(ATTR IDENT STRING LIST_STYLE_TYPE?) |\n    open-quote | close-quote | no-open-quote | no-close-quote ]+;\ncontent = CONTENT;\nCOUNTER = [ IDENT INT? ]+ | none;\ncounter-increment = COUNTER;\ncounter-reset = COUNTER;\ncounter-set = COUNTER;\ncue-after = URI_OR_NONE;\ncue-before = URI_OR_NONE;\ncursor = COMMA(URI* [ auto | crosshair | default | pointer | move | e-resize | ne-resize | nw-resize |\n    n-resize | se-resize | sw-resize | s-resize | w-resize | text | wait | help | progress ]);\ndirection = ltr | rtl;\ndisplay = inline | block | list-item | inline-block | table | inline-table | table-row-group |\n    table-header-group | table-footer-group | table-row | table-column-group | table-column |\n    table-cell | table-caption | none | oeb-page-head | oeb-page-foot | flex | inline-flex |\n    ruby | ruby-base | ruby-text | ruby-base-container | ruby-text-container | run-in | compact | marker;\nelevation = ANGLE | below | level | above | higher | lower;\nempty-cells = show | hide;\nFAMILY = SPACE(IDENT+) | STRING;\nFAMILY_LIST = COMMA( FAMILY+ );\nfont-family = FAMILY_LIST;\nfont-size = xx-small | x-small | small | medium | large | x-large | xx-large | larger | smaller | PPLENGTH | POS_NUM;\nfont-style = normal | italic | oblique;\nfont-variant = normal | small-caps;\nfont-weight = normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900;\nheight = PAPLENGTH | POS_NUM ;\nleft = APLENGTH;\nletter-spacing = normal | LENGTH_OR_NUM;\nline-height = normal | POS_NUM | PPLENGTH;\nlist-style-image = IMAGE;\nlist-style-position = inside | outside;\nlist-style-type = LIST_STYLE_TYPE;\nmargin-right = APLENGTH;\nmargin-left = APLENGTH;\nmargin-top = APLENGTH;\nmargin-bottom = APLENGTH;\nNPLENGTH = none | PLENGTH;\nmax-height = NPLENGTH;\nmax-width = NPLENGTH;\nmin-height = auto | PLENGTH;\nmin-width = auto | PLENGTH;\norphans = POS_INT;\noutline-offset = LENGTH;\noutline-color = COLOR | invert;\noutline-style = BORDER_SIDE_STYLE;\noutline-width = BORDER_SIDE_WIDTH;\noverflow = visible | hidden | scroll | auto;\npadding-right = PPLENGTH;\npadding-left = PPLENGTH;\npadding-top = PPLENGTH;\npadding-bottom = PPLENGTH;\nPAGE_BREAK = auto | always | avoid | left | right | recto | verso;\npage-break-after = PAGE_BREAK;\npage-break-before = PAGE_BREAK;\npage-break-inside = avoid | auto;\nPAUSE = POS_TIME | ZERO | POS_PERCENTAGE;\npause-after = PAUSE;\npause-before = PAUSE;\npitch-range = NUM;\npitch = FREQUENCY | x-low | low | medium | high | x-high;\nplay-during = [URI [ mix || repeat ]?] | auto | none;\nposition = static | relative | absolute | fixed;\nquotes = [STRING STRING]+ | none;\nrichness = NUM;\nright = APLENGTH;\nspeak-header = once | always;\nspeak-numeral = digits | continuous;\nspeak-punctuation = code | none;\nspeech-rate = NUM | x-slow | slow | medium | fast | x-fast | faster | slower;\nstress = NUM;\ntable-layout = auto | fixed;\ntext-align = left | right | center | justify | start | end;\ntext-decoration = none | [ underline || overline || line-through || blink ];\ntext-indent = PLENGTH;\ntext-transform = capitalize | uppercase | lowercase | none;\ntop = APLENGTH;\nvertical-align = baseline | sub | super | top | text-top | middle | bottom | text-bottom | PLENGTH;\nvisibility = visible | hidden | collapse;\nvoice-family = FAMILY_LIST;\nvolume = NUM | PERCENTAGE | silent | x-soft | soft | medium | loud | x-loud;\nwhite-space = normal | pre | nowrap | pre-wrap | pre-line;\nwidows = POS_INT;\nwidth = PAPLENGTH | POS_NUM ;\nword-spacing = normal | LENGTH_OR_NUM;\nz-index = auto | INT;\n\n[epub,moz,ms,webkit]hyphens = auto | manual | none;\n[webkit]hyphenate-character = auto | STRING;\n\n/* css-logical */\nmargin-block-start = APLENGTH;\nmargin-block-end = APLENGTH;\nmargin-inline-start = APLENGTH;\nmargin-inline-end = APLENGTH;\npadding-block-start = APLENGTH;\npadding-block-end = APLENGTH;\npadding-inline-start = APLENGTH;\npadding-inline-end = APLENGTH;\nborder-block-start-color = BORDER_SIDE_COLOR;\nborder-block-end-color = BORDER_SIDE_COLOR;\nborder-inline-start-color = BORDER_SIDE_COLOR;\nborder-inline-end-color = BORDER_SIDE_COLOR;\nborder-block-start-style = BORDER_SIDE_STYLE;\nborder-block-end-style = BORDER_SIDE_STYLE;\nborder-inline-start-style = BORDER_SIDE_STYLE;\nborder-inline-end-style = BORDER_SIDE_STYLE;\nborder-block-start-width = BORDER_SIDE_WIDTH;\nborder-block-end-width = BORDER_SIDE_WIDTH;\nborder-inline-start-width = BORDER_SIDE_WIDTH;\nborder-inline-end-width = BORDER_SIDE_WIDTH;\nblock-start = APLENGTH;\nblock-end = APLENGTH;\ninline-start = APLENGTH;\ninline-end = APLENGTH;\nblock-size = PAPLENGTH | POS_NUM;\ninline-size = PAPLENGTH | POS_NUM;\nmax-block-size = NPLENGTH;\nmax-inline-size = NPLENGTH;\nmin-block-size = auto | PLENGTH;\nmin-inline-size = auto | PLENGTH;\n\nSHAPE = auto | rectangle( PLENGTH{4} ) |  ellipse( PLENGTH{4} ) |  circle( PLENGTH{3} ) |\n    polygon( SPACE(PLENGTH+)+ );\n[epubx]shape-inside = SHAPE;\n[epubx,webkit]shape-outside = SHAPE;\n[epubx,ms]wrap-flow = auto | both | start | end | maximum | clear | around /* epub al */;\n\nTRANSFORM_FUNCTION = matrix(NUM{6}) | translate(PLENGTH{1,2}) | translateX(PLENGTH) | translateY(PLENGTH) |\n scale(NUM{1,2}) | scaleX(NUM) | scaleY(NUM) | rotate(ANGLE) | skewX(ANGLE) | skewY(ANGLE);\n[epub,ms]transform = none | TRANSFORM_FUNCTION+;\n[epub,ms]transform-origin = [[[ top | bottom | left | right] PLENGTH?] | center | PLENGTH]{1,2}; /* relaxed */\n\nBOX = border-box | padding-box | content-box;\nSHADOW = SPACE(inset || LENGTH{2,4} || COLOR); /* relaxed */\n[webkit]background-size = COMMA( SPACE( [PLENGTH | auto ]{1,2} | cover | contain)+ );\n[webkit]background-origin = COMMA( BOX+ );\n[webkit]background-clip = COMMA( BOX+ );\n[webkit]box-shadow = none | COMMA( SHADOW+ );\ntext-shadow = none |  COMMA( SHADOW+ );\n[webkit]box-decoration-break = slice | clone;\nFILTER_FUNCTION = blur(LENGTH) | brightness(NUM | PERCENTAGE) | contrast(NUM | PERCENTAGE) | drop-shadow(SPACE(LENGTH{2,3} COLOR?))\n                | grayscale(NUM | PERCENTAGE) | hue-rotate(ANGLE) | invert(NUM | PERCENTAGE) | opacity(NUM | PERCENTAGE)\n                | saturate(NUM | PERCENTAGE) | sepia(NUM | PERCENTAGE);\nFILTER_FUNCTION_LIST = FILTER_FUNCTION+;\n[webkit]filter = none | FILTER_FUNCTION_LIST;\n\nopacity = NUM;\n\n[moz,webkit]column-width = LENGTH | auto;\n[moz,webkit]column-count = INT | auto;\n[moz,webkit]column-gap = LENGTH | normal;\n[moz,webkit]column-rule-color = COLOR;\n[moz,webkit]column-rule-style = BORDER_SIDE_STYLE;\n[moz,webkit]column-rule-width = BORDER_SIDE_WIDTH;\nBREAK = auto | avoid | avoid-page | page | left | right | recto | verso | avoid-column | column | avoid-region | region;\nbreak-before = BREAK;\nbreak-after = BREAK;\nbreak-inside = auto | avoid | avoid-page | avoid-column | avoid-region;\n[webkit]column-span = none | auto | all;\n[moz]column-fill = auto | balance | balance-all;\n\nsrc = COMMA([SPACE(URI format(STRING+)?) | local(FAMILY)]+); /* for font-face */\n\n[epubx,webkit]flow-from = IDENT;\n[epubx,webkit]flow-into = IDENT;\n[epubx]flow-linger = INT | none;\n[epubx]flow-priority = INT;\n[epubx]flow-options = none | [ exclusive || last || static ];\n[epubx]page = INT | auto;\n[epubx]min-page-width = LENGTH;\n[epubx]min-page-height = LENGTH;\n[epubx]required = true | false;\n[epubx]enabled = true | false;\n[epubx]conflicting-partitions = COMMA(IDENT+);\n[epubx]required-partitions = COMMA(IDENT+);\n[epubx]snap-height = LENGTH | none;\n[epubx]snap-width = LENGTH | none;\n[epubx]flow-consume = all | some;\n[epubx]utilization = NUM;\n[epubx]text-zoom = font-size | scale;\n\n[adapt]template = URI_OR_NONE;\n[adapt]behavior = IDENT;\n\n/* CSS Fonts */\nfont-size-adjust = none | NNEG_NUM;\n[webkit]font-kerning = auto | normal | none;\nfont-variant-east-asian = normal | [[ jis78 | jis83 | jis90 | jis04 | simplified | traditional ] || [ full-width | proportional-width ] || ruby];\nfont-feature-settings = COMMA( SPACE( STRING [ on | off | INT ]? )+ );\nfont-stretch = normal | wider | narrower | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded;\n\n/* CSS Images */\nimage-resolution = RESOLUTION;\nobject-fit = fill | contain | cover | none | scale-down;\nobject-position = COMMA( SPACE(BG_POSITION_TERM{1,4})+ ); /* relaxed */\n\n/* CSS Paged Media */\nPAGE_SIZE = a5 | a4 | a3 | b5 | b4 | jis-b5 | jis-b4 | letter | legal | ledger;\nbleed = auto | LENGTH;\nmarks = none | [ crop || cross ];\nsize = POS_LENGTH{1,2} | auto | [ PAGE_SIZE || [ portrait | landscape ] ];\n\n/* CSS Page Floats */\nfloat-reference = inline | column | region | page;\nfloat = block-start | block-end | inline-start | inline-end | snap-block | snap-inline | left | right | top | bottom | none | footnote;\nfloat-min-wrap-block = PPLENGTH;\n\n/* CSS Ruby */\nruby-align = start | center | space-between | space-around;\nruby-position = over | under | inter-character;\n\n/* CSS Size Adjust */\n[moz,ms]text-size-adjust = auto | none | POS_PERCENTAGE;\n\n/* CSS Text */\n[ms,webkit]line-break = auto | loose | normal | strict;\noverflow-wrap = normal | break-word;\n[moz]tab-size = NNEG_INT | NNEG_LENGTH;\n[moz,ms]text-align-last = auto | start | end | left | right | center | justify;\n[ms]text-justify = auto | none | inter-word | inter-character | inter-ideograph /* specified in UA stylesheet for IE */;\n[ms]word-break = normal | keep-all | break-all | break-word;\n[ms]word-wrap = normal | break-word;\n\n/* CSS Text Decoration */\n[webkit]text-decoration-color = COLOR;\n[webkit]text-decoration-line = none | [ underline || overline || line-through || blink ];\n[webkit]text-decoration-skip = none | [ objects || spaces || ink || edges || box-decoration ];\n[webkit]text-decoration-style = solid | double | dotted | dashed | wavy;\n[epub,webkit]text-emphasis-color = COLOR;\n[webkit]text-emphasis-position = [ over | under ] [ right | left ];\n[epub,webkit]text-emphasis-style = none | [[ filled | open ] || [ dot | circle | double-circle | triangle | sesame ]] | STRING;\n[ms,webkit]text-underline-position = auto | [ under || [ left | right ]];\n\n/* CSS Transforms */\n[ms,webkit]backface-visibility = visible | hidden;\n\n/* CSS UI */\nbox-sizing = content-box | padding-box | border-box;\n[ms]text-overflow = [clip | ellipsis | STRING]{1,2};\n\n/* CSS Writing Modes */\n[webkit]text-combine = none | horizontal;\n[epub,ms]text-combine-horizontal = none | all | [ digits POS_INT? ]; /* relaxed */\ntext-combine-upright = none | all | [ digits POS_INT? ]; /* relaxed */\n[epub,webkit]text-orientation = mixed | upright | sideways-right | sideways-left | sideways | use-glyph-orientation /* the following values are kept for backward-compatibility */ | vertical-right | rotate-right | rotate-left | rotate-normal | auto;\nunicode-bidi = normal | embed | isolate | bidi-override | isolate-override | plaintext;\n[epub,webkit]writing-mode = horizontal-tb | vertical-rl | lr-tb | rl-tb | tb-rl | lr | rl | tb;\n\n/* CSS Flex box */\nFLEX_BASIS = content | PAPLENGTH;\nflex-direction = row | row-reverse | column | column-reverse;\nflex-wrap = nowrap | wrap | wrap-reverse;\norder = INT;\nflex-grow = NNEG_NUM;\nflex-shrink = NNEG_NUM;\nflex-basis = FLEX_BASIS;\nflex = none | [ [ NNEG_NUM NNEG_NUM? ] || FLEX_BASIS ];\njustify-content = flex-start | flex-end | center | space-between | space-around;\nalign-items = flex-start | flex-end | center | baseline | stretch;\nalign-self = auto | flex-start | flex-end | center | baseline | stretch;\nalign-content = flex-start | flex-end | center | space-between | space-around | stretch;\n\n/* Pointer Events */\n[ms]touch-action = auto | none | [ pan-x || pan-y ] | manipulation;\n\n/* SVG 2 */\nOPACITY_VALUE = NUM | PERCENTAGE;\nDASH_ARRAY = COMMA( SPACE( [ LENGTH | PERCENTAGE | NUM ]+ )+ );\nPAINT = none | child | child(INT) | COLOR | SPACE( URI [none | COLOR]? ) | context-fill | context-stroke;\ncolor-interpolation = auto | sRGB | linearRGB;\ncolor-rendering = auto | optimizeSpeed | optimizeQuality;\nfill = PAINT;\nfill-opacity = OPACITY_VALUE;\nfill-rule = nonzero | evenodd;\nglyph-orientation-vertical = auto | NUM | ANGLE;\nimage-rendering = auto | optimizeSpeed | optimizeQuality | crisp-edges | pixelated;\nmarker-start = none | URI;\nmarker-mid = none | URI;\nmarker-end = none | URI;\npointer-events = bounding-box | visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all | none;\npaint-order = normal | [ fill || stroke || markers ];\nshape-rendering = auto | optimizeSpeed | crispEdges | geometricPrecision;\nstop-color = COLOR;\nstop-opacity = OPACITY_VALUE;\nstroke = PAINT;\nstroke-dasharray = none | DASH_ARRAY;\nstroke-dashoffset = PERCENTAGE | LENGTH_OR_NUM;\nstroke-linecap = butt | round | square;\nstroke-linejoin = miter | round | bevel;\nstroke-miterlimit = NUM;\nstroke-opacity = OPACITY_VALUE;\nstroke-width = PERCENTAGE | LENGTH_OR_NUM;\ntext-anchor = start | middle | end;\ntext-rendering = auto | optimizeSpeed | optimizeLegibility | geometricPrecision;\nvector-effect = none | SPACE( [ non-scaling-stroke | non-scaling-size | non-rotation | fixed-position ]+ [ viewport | screen ]? );\n\n/* SVG 1.1 */\nalignment-baseline = auto | baseline | before-edge | text-before-edge | middle | central | after-edge | text-after-edge | ideographic | alphabetic | hanging | mathematical;\nbaseline-shift = baseline | sub | super | PERCENTAGE | LENGTH_OR_NUM;\ndominant-baseline = auto | use-script | no-change | reset-size | ideographic | alphabetic | hanging | mathematical | central | middle | text-after-edge | text-before-edge;\nmask = none | URI;\n\n/* css-masking-1 */\nSHAPE_RADIUS = PLENGTH | closest-side | farthest-side;\nFILL_RULE = nonzero | evenodd;\nSHAPE_BOX = BOX | margin-box;\nGEOMETRY_BOX = SHAPE_BOX | fill-box | stroke-box | view-box;\nBASIC_SHAPE =\n    inset( SPACE( PLENGTH{1,4} [ round PLENGTH{1,4} [ SLASH PLENGTH{1,4} ]? ]? ) )\n  | circle(  SPACE( [SHAPE_RADIUS]?    [at BG_POSITION_TERM{1,4}]? ) )\n  | ellipse( SPACE( SHAPE_RADIUS{2}? [at BG_POSITION_TERM{1,4}]? ) )\n  | polygon( FILL_RULE? COMMA( SPACE( PLENGTH{2} )+ )+ );\n[webkit]clip-path = none | URI | [ BASIC_SHAPE || GEOMETRY_BOX ];\nclip-rule = nonzero | evenodd;\n\n/* filters */\nflood-color = COLOR;\nflood-opacity = OPACITY_VALUE;\nlighting-color = COLOR;\n\n/* compositing-1 */\nBLEND_MODE = normal | multiply | screen | overlay | darken | lighten | color-dodge | color-burn | hard-light | soft-light | difference | exclusion | hue | saturation | color | luminosity;\nmix-blend-mode = BLEND_MODE;\nisolation = auto | isolate;\nbackground-blend-mode = COMMA( BLEND_MODE+ );\n\n/* CSS GCPM */\nfootnote-policy = auto | line;\n\n[viv]repeat-on-break = auto | none | header | footer;\n\nDEFAULTS\n\nbackground-attachment: scroll;\nbackground-color: transparent;\nbackground-image: none;\nbackground-repeat: repeat;\nbackground-position: 0% 0%;\nbackground-clip: border-box;\nbackground-origin: padding-box;\nbackground-size: auto;\nborder-top-color: currentColor;\nborder-right-color: currentColor;\nborder-bottom-color: currentColor;\nborder-left-color: currentColor;\nborder-top-style: none;\nborder-right-style: none;\nborder-bottom-style: none;\nborder-left-style: none;\nborder-top-width: 3px;\nborder-right-width: 3px;\nborder-bottom-width: 3px;\nborder-left-width: 3px;\nborder-top-left-radius: 0;\nborder-top-right-radius: 0;\nborder-bottom-right-radius: 0;\nborder-bottom-left-radius: 0;\nborder-image-source: none;\nborder-image-slice: 100%;\nborder-image-width: 1;\nborder-image-outset: 0;\nborder-image-repeat: stretch;\ncolumn-count: auto;\ncolumn-gap: normal;\ncolumn-width: auto;\ncolumn-rule-color: currentColor;\ncolumn-rule-style: none;\ncolumn-rule-width: 3px;\ncolumn-fill: balance;\noutline-color: currentColor;\noutline-style: none;\noutline-width: 3px;\nflex-direction: row;\nflex-wrap: nowrap;\nfont-family: serif;\nfont-style: normal;\nfont-size: medium;\nfont-variant: normal;\nfont-weight: normal;\nfont-stretch: normal;\nline-height: normal;\nlist-style-image: none;\nlist-style-position: outside;\nlist-style-type: disc;\nmargin-bottom: auto;\nmargin-left: auto;\nmargin-right: auto;\nmargin-top: auto;\npadding-bottom: auto;\npadding-left: auto;\npadding-right: auto;\npadding-top: auto;\ntext-emphasis-color: currentColor;\ntext-emphasis-style: none;\nmarker-start: none;\nmarker-mid: none;\nmarker-end: none;\n\n/* css-logical */\nborder-block-start-color: currentColor;\nborder-block-end-color: currentColor;\nborder-inline-start-color: currentColor;\nborder-inline-end-color: currentColor;\nborder-block-start-style: none;\nborder-block-end-style: none;\nborder-inline-start-style: none;\nborder-inline-end-style: none;\nborder-block-start-width: 3px;\nborder-block-end-width: 3px;\nborder-inline-start-width: 3px;\nborder-inline-end-width: 3px;\n\nSHORTHANDS\n\nbackground = COMMA background-image [background-position [ / background-size ]] background-repeat\n     background-attachment [background-origin background-clip] background-color; /* background-color is a special case, see the code */\nborder-top = border-top-width border-top-style border-top-color;\nborder-right = border-right-width border-right-style border-right-color;\nborder-bottom = border-bottom-width border-bottom-style border-bottom-color;\nborder-left = border-left-width border-left-style border-left-color;\nborder-width = INSETS border-top-width border-right-width border-bottom-width border-left-width;\nborder-style = INSETS border-top-style border-right-style border-bottom-style border-left-style;\nborder-color = INSETS border-top-color border-right-color border-bottom-color border-left-color;\nborder = border-width border-style border-color;\nborder-image = border-image-source border-image-slice [ / border-image-width [ / border-image-outset ] ]\n     border-image-repeat;\nborder-radius = INSETS_SLASH border-top-left-radius border-top-right-radius\n     border-bottom-right-radius border-bottom-left-radius;\n[moz,webkit]columns = column-width column-count;\n[moz,webkit]column-rule = column-rule-width column-rule-style column-rule-color;\nflex-flow = flex-direction flex-wrap;\noeb-column-number = column-count;\noutline = outline-width outline-style outline-color;\nlist-style = list-style-type list-style-position list-style-image;\nmargin = INSETS margin-top margin-right margin-bottom margin-left;\npadding = INSETS padding-top padding-right padding-bottom padding-left;\npause = INSETS pause-before pause-after;\nfont = FONT font-style font-variant font-weight font-stretch /* font-size line-height font-family are special-cased */;\n[epub,webkit]text-emphasis = text-emphasis-style text-emphasis-color;\nmarker = INSETS marker-start marker-mid marker-end;\n\n/* css-logical */\nmargin-block = INSETS margin-block-start margin-block-end;\nmargin-inline = INSETS margin-inline-start margin-inline-end;\npadding-block = INSETS padding-block-start padding-block-end;\npadding-inline = INSETS padding-inline-start padding-inline-end;\nborder-block-width = INSETS border-block-start-width border-block-end-width;\nborder-block-style = INSETS border-block-start-style border-block-end-style;\nborder-block-color = INSETS border-block-start-color border-block-end-color;\nborder-inline-width = INSETS border-inline-start-width border-inline-end-width;\nborder-inline-style = INSETS border-inline-start-style border-inline-end-style;\nborder-inline-color = INSETS border-inline-start-color border-inline-end-color;\nborder-block = border-block-width border-block-style border-block-color;\nborder-inline = border-inline-width border-inline-style border-inline-color;\nborder-block-start = border-block-start-width border-block-start-style border-block-start-color;\nborder-block-end = border-block-end-width border-block-end-style border-block-end-color;\nborder-inline-start = border-inline-start-width border-inline-start-style border-inline-start-color;\nborder-inline-end = border-inline-end-width border-inline-end-style border-inline-end-color;\ninset-block-start = block-start;\ninset-block-end = block-end;\ninset-inline-start = inline-start;\ninset-inline-end = inline-end;\ninset-block = INSETS block-start block-end;\ninset-inline = INSETS inline-start inline-end;\n\n/* old names  */\n[adapt,webkit]margin-before = margin-block-start;\n[adapt,webkit]margin-after = margin-block-end;\n[adapt,webkit]margin-start = margin-inline-start;\n[adapt,webkit]margin-end = margin-inline-end;\n[adapt,webkit]padding-before = padding-block-start;\n[adapt,webkit]padding-after = padding-block-end;\n[adapt,webkit]padding-start = padding-inline-start;\n[adapt,webkit]padding-end = padding-inline-end;\n[adapt,webkit]border-before-color = border-block-start-color;\n[adapt,webkit]border-after-color = border-block-end-color;\n[adapt,webkit]border-start-color = border-inline-start-color;\n[adapt,webkit]border-end-color = border-inline-end-color;\n[adapt,webkit]border-before-style = border-block-start-style;\n[adapt,webkit]border-after-style = border-block-end-style;\n[adapt,webkit]border-start-style = border-inline-start-style;\n[adapt,webkit]border-end-style = border-inline-end-style;\n[adapt,webkit]border-before-width = border-block-start-width;\n[adapt,webkit]border-after-width = border-block-end-width;\n[adapt,webkit]border-start-width = border-inline-start-width;\n[adapt,webkit]border-end-width = border-inline-end-width;\n[adapt,webkit]before = block-start;\n[adapt,webkit]after = block-end;\n[adapt,webkit]start = inline-start;\n[adapt,webkit]end = inline-end;\n";class kh{constructor(e){this.validator=e,this.success=null,this.failure=null,this.code=0}isSpecial(){return 0!=this.code}markAsStartGroup(){this.code=-1}isStartGroup(){return-1==this.code}markAsEndGroup(){this.code=-2}isEndGroup(){return-2==this.code}markAsStartAlternate(e){this.code=2*e+1}isStartAlternate(){return this.code>0&&this.code%2!=0}markAsEndAlternate(e){this.code=2*e+2}isEndAlternate(){return this.code>0&&this.code%2==0}getAlternate(){return Math.floor((this.code-1)/2)}}class Fh{constructor(e,t){this.where=e,this.success=t,this.what=-1}}!function(e){e[e.FOLLOW=1]="FOLLOW",e[e.OPTIONAL=2]="OPTIONAL",e[e.REPEATED=3]="REPEATED",e[e.ALTERNATE=4]="ALTERNATE"}(Rh||(Rh={}));class Dh{constructor(){this.nodes=[],this.connections=[],this.match=[],this.nomatch=[],this.error=[],this.emptyHead=!0}connect(e,t){for(let n=0;n<e.length;n++)this.connections[e[n]].what=t;e.splice(0,e.length)}clone(){const e=new Dh;for(let t=0;t<this.nodes.length;t++){const n=this.nodes[t],i=new kh(n.validator);i.code=n.code,e.nodes.push(i)}for(let t=0;t<this.connections.length;t++){const n=this.connections[t],i=new Fh(n.where,n.success);i.what=n.what,e.connections.push(i)}return e.match.push(...this.match),e.nomatch.push(...this.nomatch),e.error.push(...this.error),e}addSpecialToArr(e,t,n){const i=this.nodes.length,o=new kh(Zh);n>=0?t?o.markAsStartAlternate(n):o.markAsEndAlternate(n):t?o.markAsStartGroup():o.markAsEndGroup(),this.nodes.push(o),this.connect(e,i);const s=new Fh(i,!0),r=new Fh(i,!1);e.push(this.connections.length),this.connections.push(r),e.push(this.connections.length),this.connections.push(s)}endSpecialGroup(){const e=[this.match,this.nomatch,this.error];for(let t=0;t<e.length;t++)this.addSpecialToArr(e[t],!1,-1)}startSpecialGroup(){if(this.nodes.length)throw new Error("invalid call");this.addSpecialToArr(this.match,!0,-1)}endClause(e){this.addSpecialToArr(this.match,!1,e)}startClause(e){if(this.nodes.length)throw new Error("invalid call");const t=new kh(Zh);t.markAsStartAlternate(e),this.nodes.push(t);const n=new Fh(0,!0),i=new Fh(0,!1);this.nomatch.push(this.connections.length),this.connections.push(i),this.match.push(this.connections.length),this.connections.push(n)}addPrimitive(e){const t=this.nodes.length;this.nodes.push(new kh(e));const n=new Fh(t,!0),i=new Fh(t,!1);this.connect(this.match,t),this.emptyHead?(this.nomatch.push(this.connections.length),this.emptyHead=!1):this.error.push(this.connections.length),this.connections.push(i),this.match.push(this.connections.length),this.connections.push(n)}isSimple(){return 1==this.nodes.length&&!this.nodes[0].isSpecial()}isPrimitive(){return this.isSimple()&&this.nodes[0].validator instanceof Yh}addGroup(e,t){if(0==e.nodes.length)return;const n=this.nodes.length;if(t==Rh.ALTERNATE&&1==n&&e.isPrimitive()&&this.isPrimitive())return void(this.nodes[0].validator=this.nodes[0].validator.combine(e.nodes[0].validator));for(let t=0;t<e.nodes.length;t++)this.nodes.push(e.nodes[t]);t==Rh.ALTERNATE?(this.emptyHead=!0,this.connect(this.nomatch,n)):this.connect(this.match,n);const i=this.connections.length;for(let t=0;t<e.connections.length;t++){const i=e.connections[t];i.where+=n,i.what>=0&&(i.what+=n),this.connections.push(i)}for(let t=0;t<e.match.length;t++)this.match.push(e.match[t]+i);if(t==Rh.REPEATED&&this.connect(this.match,n),t==Rh.OPTIONAL||t==Rh.REPEATED)for(let t=0;t<e.nomatch.length;t++)this.match.push(e.nomatch[t]+i);else if(this.emptyHead){for(let t=0;t<e.nomatch.length;t++)this.nomatch.push(e.nomatch[t]+i);this.emptyHead=e.emptyHead}else for(let t=0;t<e.nomatch.length;t++)this.error.push(e.nomatch[t]+i);for(let t=0;t<e.error.length;t++)this.error.push(e.error[t]+i);e.nodes=null,e.connections=null}finish(e,t){const n=this.nodes.length;this.nodes.push(e),this.nodes.push(t),this.connect(this.match,n),this.connect(this.nomatch,n+1),this.connect(this.error,n+1);for(const e of this.connections)e.success?this.nodes[e.where].success=this.nodes[e.what]:this.nodes[e.where].failure=this.nodes[e.what];for(let e=0;e<n;e++)if(null==this.nodes[e].failure||null==this.nodes[e].success)throw new Error("Invalid validator state");return this.nodes[0]}}const _h=1,Bh=2,Mh=4,Uh=8,zh=16,Vh=32,Hh=64,Gh=128,$h=256,Wh=512,Xh=1024,jh=2048;class Kh extends ft{constructor(){super()}validateForShorthand(e,t){const n=e[t].visit(this);return n?[n]:null}}class Yh extends Kh{constructor(e,t,n){super(),this.allowed=e,this.idents=t,this.units=n}visitEmpty(e){return this.allowed&_h?e:null}visitSlash(e){return this.allowed&jh?e:null}visitStr(e){return this.allowed&Bh?e:null}visitIdent(e){return this.idents[e.name.toLowerCase()]||(this.allowed&Mh?e:null)}visitNumeric(e){return 0!=e.num||this.allowed&Wh?e.num<0&&!(this.allowed&$h)?null:this.units[e.unit]?e:null:"%"==e.unit&&this.allowed&Xh?e:null}visitNum(e){return 0==e.num?this.allowed&Wh?e:null:e.num<=0&&!(this.allowed&$h)?null:this.allowed&zh?e:null}visitInt(e){if(0==e.num)return this.allowed&Wh?e:null;if(e.num<=0&&!(this.allowed&$h))return null;if(this.allowed&(Vh|zh))return e;return this.idents[`${e.num}`]||null}visitColor(e){return this.allowed&Hh?e:null}visitURL(e){return this.allowed&Gh?e:null}visitSpaceList(e){return null}visitCommaList(e){return null}visitFunc(e){return null}visitExpr(e){return 2046&this.allowed?e:null}combine(e){const t={},n={};for(const e in this.idents)t[e]=this.idents[e];for(const n in e.idents)t[n]=e.idents[n];for(const e in this.units)n[e]=this.units[e];for(const t in e.units)n[t]=e.units[t];return new Yh(this.allowed|e.allowed,t,n)}}const qh={},Zh=new Yh(0,qh,qh);class Qh extends Kh{constructor(e){super(),this.successTerminal=new kh(null),this.failureTerminal=new kh(null),this.first=e.finish(this.successTerminal,this.failureTerminal)}validateList(e,t,n){let i=t?[]:e,o=this.first,s=n,r=null,a=null;for(;o!==this.successTerminal&&o!==this.failureTerminal;){if(s>=e.length){o=o.failure;continue}const l=e[s];let h=l;if(o.isSpecial()){let e=!0;o.isStartGroup()?(r?r.push(a):r=[a],a=[]):o.isEndGroup()?a=r.length>0?r.pop():null:o.isEndAlternate()?a[o.getAlternate()]="taken":e=null==a[o.getAlternate()],o=e?o.success:o.failure}else{if(0==s&&!t&&o.validator instanceof Jh&&this instanceof Jh){if(h=new Rt(e).visit(o.validator),h){s=e.length,o=o.success;continue}}else if(0==s&&!t&&o.validator instanceof ec&&this instanceof Jh){if(h=new Lt(e).visit(o.validator),h){s=e.length,o=o.success;continue}}else h=l.visit(o.validator);if(!h){o=o.failure;continue}if(h!==l&&e===i){i=[];for(let t=0;t<s;t++)i[t]=e[t]}e!==i&&(i[s-n]=h),s++,o=o.success}}return o===this.successTerminal&&(t?i.length>0:s==e.length)?i:null}validateSingle(e){let t=null,n=this.first;for(;n!==this.successTerminal&&n!==this.failureTerminal;)e?n.isSpecial()?n=n.success:(t=e.visit(n.validator),t?(e=null,n=n.success):n=n.failure):n=n.failure;return n===this.successTerminal?t:null}visitEmpty(e){return this.validateSingle(e)}visitSlash(e){return this.validateSingle(e)}visitStr(e){return this.validateSingle(e)}visitIdent(e){return this.validateSingle(e)}visitNumeric(e){return this.validateSingle(e)}visitNum(e){return this.validateSingle(e)}visitInt(e){return this.validateSingle(e)}visitColor(e){return this.validateSingle(e)}visitURL(e){return this.validateSingle(e)}visitSpaceList(e){return null}visitCommaList(e){return null}visitFunc(e){return this.validateSingle(e)}visitExpr(e){return null}}class Jh extends Qh{constructor(e){super(e)}visitSpaceList(e){const t=this.validateList(e.values,!1,0);return t===e.values?e:t?new Rt(t):null}visitCommaList(e){let t=this.first,n=!1;for(;t;){if(t.validator instanceof ec){n=!0;break}t=t.failure}if(n){const t=this.validateList(e.values,!1,0);return t===e.values?e:t?new Lt(t):null}return null}validateForShorthand(e,t){return this.validateList(e,!0,t)}}class ec extends Qh{constructor(e){super(e)}visitSpaceList(e){return this.validateSingle(e)}visitCommaList(e){const t=this.validateList(e.values,!1,0);return t===e.values?e:t?new Lt(t):null}validateForShorthand(e,t){let n,i=this.first;for(;i!==this.failureTerminal;){if(n=i.validator.validateForShorthand(e,t),n)return n;i=i.failure}return null}}class tc extends Qh{constructor(e,t){super(t),this.name=e}validateSingle(e){return null}visitFunc(e){if(e.name.toLowerCase()!=this.name)return null;const t=this.validateList(e.values,!1,0);return t===e.values?e:t?new kt(e.name,t):null}}class nc{tryParse(e,t,n){return t}success(e,t){}}class ic extends nc{constructor(e,t){super(),this.name=t,this.validator=e.validators[this.name]}tryParse(e,t,n){if(n.values[this.name])return t;const i=this.validator.validateForShorthand(e,t);if(i){const e=i.length,o=e>1?new Rt(i):i[0];return this.success(o,n),t+e}return t}success(e,t){t.values[this.name]=e}}class oc extends ic{constructor(e,t){super(e,t[0]),this.names=t}success(e,t){for(let n=0;n<this.names.length;n++)t.values[this.names[n]]=e}}class sc extends nc{constructor(e,t){super(),this.nodes=e,this.slash=t}tryParse(e,t,n){const i=t;if(this.slash){if(e[t]!=yt)return i;if(++t==e.length)return i}let o=this.nodes[0].tryParse(e,t,n);if(o==t)return i;t=o;for(let i=1;i<this.nodes.length&&t<e.length&&(o=this.nodes[i].tryParse(e,t,n),o!=t);i++)t=o;return t}}class rc extends ft{constructor(){super(...arguments),this.syntax=null,this.propList=null,this.error=!1,this.values={},this.validatorSet=null}setOwner(e){this.validatorSet=e}syntaxNodeForProperty(e){return new ic(this.validatorSet,e)}clone(){const e=new this.constructor;return e.syntax=this.syntax,e.propList=this.propList,e.validatorSet=this.validatorSet,e}init(e,t){this.syntax=e,this.propList=t}finish(e,t){if(!this.error){for(const n of this.propList)t.simpleProperty(n,this.values[n]||this.validatorSet.defaultValues[n],e);return!0}return!1}propagateInherit(e,t){for(const n of this.propList)t.simpleProperty(n,Bt.inherit,e)}validateList(e){return this.error=!0,0}validateSingle(e){return this.validateList([e]),null}visitEmpty(e){return this.validateSingle(e)}visitStr(e){return this.validateSingle(e)}visitIdent(e){return this.validateSingle(e)}visitNumeric(e){return this.validateSingle(e)}visitNum(e){return this.validateSingle(e)}visitInt(e){return this.validateSingle(e)}visitColor(e){return this.validateSingle(e)}visitURL(e){return this.validateSingle(e)}visitSpaceList(e){return this.validateList(e.values),null}visitCommaList(e){return this.error=!0,null}visitFunc(e){return this.validateSingle(e)}visitExpr(e){return this.error=!0,null}}class ac extends rc{constructor(){super()}validateList(e){let t=0,n=0;for(;t<e.length;){const i=this.syntax[n].tryParse(e,t,this);if(i>t)t=i,n=0;else if(++n==this.syntax.length){this.error=!0;break}}return t}}class lc extends rc{constructor(){super()}validateList(e){if(e.length>this.syntax.length||0==e.length)return this.error=!0,0;for(let t=0;t<this.syntax.length;t++){let n=t;for(;n>=e.length;)n=1==n?0:n-2;if(this.syntax[t].tryParse(e,n,this)!=n+1)return this.error=!0,0}return e.length}createSyntaxNode(){return new oc(this.validatorSet,this.propList)}}const hc={SIMPLE:ac,INSETS:lc,INSETS_SLASH:class extends rc{constructor(){super()}validateList(e){let t=e.length;for(let n=0;n<e.length;n++)if(e[n]===yt){t=n;break}if(t>this.syntax.length||0==e.length)return this.error=!0,0;for(let n=0;n<this.syntax.length;n++){let i,o=n;for(;o>=t;)o=1==o?0:o-2;if(t+1<e.length)for(i=t+n+1;i>=e.length;)i-=i==t+2?1:2;else i=o;const s=[e[o],e[i]];if(2!=this.syntax[n].tryParse(s,0,this))return this.error=!0,0}return e.length}},COMMA:class extends ac{constructor(){super()}mergeIn(e,t){for(const n of this.propList){const i=t[n]||this.validatorSet.defaultValues[n];let o=e[n];o||(o=[],e[n]=o),o.push(i)}}visitCommaList(e){const t={};for(let n=0;n<e.values.length;n++)if(this.values={},e.values[n]instanceof Lt?this.error=!0:(e.values[n].visit(this),this.mergeIn(t,this.values),this.values["background-color"]&&n!=e.values.length-1&&(this.error=!0)),this.error)return null;this.values={};for(const e in t)this.values[e]="background-color"==e?t[e].pop():new Lt(t[e]);return null}},FONT:class extends ac{constructor(){super()}init(e,t){super.init(e,t),this.propList.push("font-family","line-height","font-size")}validateList(e){let t=super.validateList(e);if(t+2>e.length)return this.error=!0,t;this.error=!1;const n=this.validatorSet.validators;if(!e[t].visit(n["font-size"]))return this.error=!0,t;if(this.values["font-size"]=e[t++],e[t]===yt){if(t++,t+2>e.length)return this.error=!0,t;if(!e[t].visit(n["line-height"]))return this.error=!0,t;this.values["line-height"]=e[t++]}const i=t==e.length-1?e[t]:new Rt(e.slice(t,e.length));return i.visit(n["font-family"])?(this.values["font-family"]=i,e.length):(this.error=!0,t)}visitCommaList(e){if(e.values[0].visit(this),this.error)return null;const t=[this.values["font-family"]];for(let n=1;n<e.values.length;n++)t.push(e.values[n]);const n=new Lt(t);return n.visit(this.validatorSet.validators["font-family"])?this.values["font-family"]=n:this.error=!0,null}visitIdent(e){const t=this.validatorSet.systemFonts[e.name];if(t)for(const e in t)this.values[e]=t[e];else this.error=!0;return null}}};class cc{constructor(){this.validators={},this.prefixes={},this.defaultValues={},this.namedValidators={},this.systemFonts={},this.shorthands={},this.layoutProps={},this.backgroundProps={}}addReplacement(e,t){let n;if(t.type==On.NUMERIC)n=new Tt(t.num,t.text);else if(t.type==On.HASH)n=Gi(t.text);else{if(t.type!=On.IDENT)throw new Error("unexpected replacement");n=Ct(t.text)}if(e.isPrimitive()){const t=e.nodes[0].validator.idents;for(const e in t)t[e]=n;return e}throw new Error("unexpected replacement")}newGroup(e,t){const n=new Dh;if("||"==e){for(let e=0;e<t.length;e++){const i=new Dh;i.startClause(e),i.addGroup(t[e],Rh.FOLLOW),i.endClause(e),n.addGroup(i,0==e?Rh.FOLLOW:Rh.ALTERNATE)}const e=new Dh;return e.startSpecialGroup(),e.addGroup(n,Rh.REPEATED),e.endSpecialGroup(),e}{let i;switch(e){case" ":i=Rh.FOLLOW;break;case"|":case"||":i=Rh.ALTERNATE;break;default:throw new Error("unexpected op")}for(let e=0;e<t.length;e++)n.addGroup(t[e],0==e?Rh.FOLLOW:i);return n}}addCounts(e,t,n){const i=new Dh;for(let n=0;n<t;n++)i.addGroup(e.clone(),Rh.FOLLOW);if(n==Number.POSITIVE_INFINITY)i.addGroup(e,Rh.REPEATED);else for(let o=t;o<n;o++)i.addGroup(e.clone(),Rh.OPTIONAL);return i}primitive(e){const t=new Dh;return t.addPrimitive(e),t}newFunc(e,t){let n;switch(e){case"COMMA":n=new ec(t);break;case"SPACE":n=new Jh(t);break;default:n=new tc(e.toLowerCase(),t)}return this.primitive(n)}initBuiltInValidators(){this.namedValidators.HASHCOLOR=this.primitive(new Yh(Hh,qh,qh)),this.namedValidators.POS_INT=this.primitive(new Yh(Vh,qh,qh)),this.namedValidators.POS_NUM=this.primitive(new Yh(zh,qh,qh)),this.namedValidators.POS_PERCENTAGE=this.primitive(new Yh(Uh,qh,{"%":wt})),this.namedValidators.NEGATIVE=this.primitive(new Yh($h,qh,qh)),this.namedValidators.ZERO=this.primitive(new Yh(Wh,qh,qh)),this.namedValidators.ZERO_PERCENTAGE=this.primitive(new Yh(Xh,qh,qh)),this.namedValidators.POS_LENGTH=this.primitive(new Yh(Uh,qh,{em:wt,ex:wt,ch:wt,rem:wt,vw:wt,vh:wt,vi:wt,vb:wt,vmin:wt,vmax:wt,pvw:wt,pvh:wt,pvi:wt,pvb:wt,pvmin:wt,pvmax:wt,cm:wt,mm:wt,in:wt,px:wt,pt:wt,pc:wt,q:wt})),this.namedValidators.POS_ANGLE=this.primitive(new Yh(Uh,qh,{deg:wt,grad:wt,rad:wt,turn:wt})),this.namedValidators.POS_TIME=this.primitive(new Yh(Uh,qh,{s:wt,ms:wt})),this.namedValidators.FREQUENCY=this.primitive(new Yh(Uh,qh,{Hz:wt,kHz:wt})),this.namedValidators.RESOLUTION=this.primitive(new Yh(Uh,qh,{dpi:wt,dpcm:wt,dppx:wt})),this.namedValidators.URI=this.primitive(new Yh(Gh,qh,qh)),this.namedValidators.IDENT=this.primitive(new Yh(Mh,qh,qh)),this.namedValidators.STRING=this.primitive(new Yh(Bh,qh,qh)),this.namedValidators.SLASH=this.primitive(new Yh(jh,qh,qh));const e={"font-family":Ct("sans-serif")};this.systemFonts.caption=e,this.systemFonts.icon=e,this.systemFonts.menu=e,this.systemFonts["message-box"]=e,this.systemFonts["small-caption"]=e,this.systemFonts["status-bar"]=e}isBuiltIn(e){return!!e.match(/^[A-Z_0-9]+$/)}readNameAndPrefixes(e,t){let n=e.token();if(n.type==On.EOF)return null;const i={"":!0};if(n.type==On.O_BRK){do{if(e.consume(),n=e.token(),n.type!=On.IDENT)throw new Error("Prefix name expected");i[n.text]=!0,e.consume(),n=e.token()}while(n.type==On.COMMA);if(n.type!=On.C_BRK)throw new Error("']' expected");e.consume(),n=e.token()}if(n.type!=On.IDENT)throw new Error("Property name expected");if(2==t?"SHORTHANDS"==n.text:"DEFAULTS"==n.text)return e.consume(),null;const o=n.text;if(e.consume(),2!=t){if(e.token().type!=On.EQ)throw new Error("'=' expected");this.isBuiltIn(o)||(this.prefixes[o]=i)}else if(e.token().type!=On.COLON)throw new Error("':' expected");return o}parseValidators(e){for(;;){const t=this.readNameAndPrefixes(e,1);if(!t)return;let n=[];const i=[];let o,s="",r=!0;const a=this,l=()=>{if(0==n.length)throw new Error("No values");return 1==n.length?n[0]:a.newGroup(s,n)},h=e=>{if(r)throw new Error(`'${e}': unexpected`);if(s&&s!=e)throw new Error(`mixed operators: '${e}' and '${s}'`);s=e,r=!0};let c=null;for(;!c;){e.consume();let t=e.token();switch(t.type){case On.IDENT:if(r||h(" "),this.isBuiltIn(t.text)){const e=this.namedValidators[t.text];if(!e)throw new Error(`'${t.text}' unexpected`);n.push(e.clone())}else{const e={};e[t.text.toLowerCase()]=Ct(t.text),n.push(this.primitive(new Yh(0,e,qh)))}r=!1;break;case On.INT:{const e={};e[`${t.num}`]=new It(t.num),n.push(this.primitive(new Yh(0,e,qh))),r=!1;break}case On.BAR:h("|");break;case On.BAR_BAR:h("||");break;case On.O_BRK:r||h(" "),i.push({vals:n,op:s,b:"["}),s="",n=[],r=!0;break;case On.FUNC:r||h(" "),i.push({vals:n,op:s,b:"(",fn:t.text}),s="",n=[],r=!0;break;case On.C_BRK:{o=l();const e=i.pop();if("["!=e.b)throw new Error("']' unexpected");n=e.vals,n.push(o),s=e.op,r=!1;break}case On.C_PAR:{o=l();const e=i.pop();if("("!=e.b)throw new Error("')' unexpected");n=e.vals,n.push(this.newFunc(e.fn,o)),s=e.op,r=!1;break}case On.COLON:if(r)throw new Error("':' unexpected");e.consume(),n.push(this.addReplacement(n.pop(),e.token()));break;case On.QMARK:if(r)throw new Error("'?' unexpected");n.push(this.addCounts(n.pop(),0,1));break;case On.STAR:if(r)throw new Error("'*' unexpected");n.push(this.addCounts(n.pop(),0,Number.POSITIVE_INFINITY));break;case On.PLUS:if(r)throw new Error("'+' unexpected");n.push(this.addCounts(n.pop(),1,Number.POSITIVE_INFINITY));break;case On.O_BRC:{if(e.consume(),t=e.token(),t.type!=On.INT)throw new Error("<int> expected");const i=t.num;let o=i;if(e.consume(),t=e.token(),t.type==On.COMMA){if(e.consume(),t=e.token(),t.type!=On.INT)throw new Error("<int> expected");o=t.num,e.consume(),t=e.token()}if(t.type!=On.C_BRC)throw new Error("'}' expected");n.push(this.addCounts(n.pop(),i,o));break}case On.SEMICOL:if(c=l(),i.length>0)throw new Error(`unclosed '${i.pop().b}'`);break;default:throw new Error("unexpected token")}}e.consume(),this.isBuiltIn(t)?this.namedValidators[t]=c:c.isSimple()?this.validators[t]=c.nodes[0].validator:this.validators[t]=new Jh(c)}}parseDefaults(e){for(;;){const t=this.readNameAndPrefixes(e,2);if(!t)return;const n=[];for(;;){e.consume();const t=e.token();if(t.type==On.SEMICOL){e.consume();break}switch(t.type){case On.IDENT:n.push(Ct(t.text));break;case On.NUM:n.push(new xt(t.num));break;case On.INT:n.push(new It(t.num));break;case On.NUMERIC:n.push(new Tt(t.num,t.text));break;default:throw new Error("unexpected token")}}this.defaultValues[t]=n.length>1?new Rt(n):n[0]}}parseShorthands(e){for(;;){const t=this.readNameAndPrefixes(e,3);if(!t)return;let n,i=e.nthToken(1);i.type==On.IDENT&&hc[i.text]?(n=new hc[i.text],e.consume()):n=new ac,n.setOwner(this);let o=!1,s=[],r=!1;const a=[],l=[];for(;!o;)switch(e.consume(),i=e.token(),i.type){case On.IDENT:if(this.validators[i.text])s.push(n.syntaxNodeForProperty(i.text)),l.push(i.text);else{if(!(this.shorthands[i.text]instanceof lc))throw new Error(`'${i.text}' is neither a simple property nor an inset shorthand`);{const e=this.shorthands[i.text];s.push(e.createSyntaxNode()),l.push(...e.propList)}}break;case On.SLASH:if(s.length>0||r)throw new Error("unexpected slash");r=!0;break;case On.O_BRK:a.push({slash:r,syntax:s}),s=[],r=!1;break;case On.C_BRK:{const e=new sc(s,r),t=a.pop();s=t.syntax,r=t.slash,s.push(e);break}case On.SEMICOL:o=!0,e.consume();break;default:throw new Error("unexpected token")}n.init(s,l),this.shorthands[t]=n}}parse(e){const t=new hi(e,null);this.parseValidators(t),this.parseDefaults(t),this.parseShorthands(t),this.backgroundProps=this.makePropSet(["background"]),this.layoutProps=this.makePropSet(["margin","border","padding","columns","column-gap","column-rule","column-fill"])}makePropSet(e){const t={};for(const n of e){const e=this.shorthands[n],i=e?e.propList:[n];for(const e of i){const n=this.defaultValues[e];n?t[e]=n:h.warn("Unknown property in makePropSet:",e)}}return t}validatePropertyAndHandleShorthand(e,t,n,i){let o="";const s=e,r=(e=e.toLowerCase()).match(/^-([a-z]+)-([-a-z0-9]+)$/);r&&(o=r[1],e=r[2]);const a=this.prefixes[e];if(!a||!a[o])return void i.unknownProperty(s,t);const l=this.validators[e];if(l){const o=t===Bt.inherit||t.isExpr()?t:t.visit(l);o?i.simpleProperty(e,o,n):i.invalidPropertyValue(s,t)}else{const o=this.shorthands[e].clone();t===Bt.inherit?o.propagateInherit(n,i):(t.visit(o),o.finish(n,i)||i.invalidPropertyValue(s,t))}}}function uc(){const e=new cc;return e.initBuiltInValidators(),e.parse(Lh),e}const dc={"font-style":Bt.normal,"font-variant":Bt.normal,"font-weight":Bt.normal},pc=`OTTO${(new Date).valueOf()}`;let fc=1;function gc(e,t){const n={};for(const i in e)n[i]=$o(e,i).evaluate(t,i);return function(e){for(const t in dc)e[t]||(e[t]=dc[t])}(n),n}class mc{constructor(e){this.properties=e,this.blobURLs=[],this.blobs=[],this.fontTraitKey=function(e){const t=new H;for(const n in dc)t.append(" "),t.append(e[n].toString());return t.toString()}(this.properties),this.src=this.properties.src?this.properties.src.toString():null;const t=this.properties["font-family"];this.family=t?t.stringValue():null}traitsEqual(e){return this.fontTraitKey==e.fontTraitKey}makeAtRule(e,t){const n=new H;n.append("@font-face {\n  font-family: "),n.append(this.family),n.append(";\n  ");for(const e in dc)n.append(e),n.append(": "),this.properties[e].appendTo(n,!0),n.append(";\n  ");if(t){n.append('src: url("');const e=function(e){return(window.URL||window.webkitURL).createObjectURL(e)}(t);n.append(e),this.blobURLs.push(e),this.blobs.push(t),n.append('")')}else n.append("src: "),n.append(e);return n.append(";\n}\n"),n.toString()}}class bc{constructor(e){this.deobfuscator=e,this.familyMap={}}registerFamily(e,t){const n=e.family,i=this.familyMap[n],o=t.family;if(i){if(i!=o)throw new Error(`E_FONT_FAMILY_INCONSISTENT ${e.family}`)}else this.familyMap[n]=o}filterFontFamily(e){if(e instanceof Lt){const t=e.values,n=[];for(const e of t){const t=this.familyMap[e.stringValue()];t&&n.push(Ct(t)),n.push(e)}return new Lt(n)}{const t=this.familyMap[e.stringValue()];return t?new Lt([Ct(t),e]):e}}}class wc{constructor(e,t,n){this.head=e,this.body=t,this.srcURLMap={},this.familyCounter=0,this.familyPrefix=n||"Fnt_"}getViewFontFamily(e,t){const n=e.family;let i=t.familyMap[n];return i||(i=this.familyPrefix+ ++this.familyCounter,t.familyMap[n]=i,i)}initFont(e,t,n){const i=pi("initFont"),o=this,s=e.src,r={};for(const t in dc)r[t]=e.properties[t];const a=o.getViewFontFamily(e,n);r["font-family"]=Ct(a);const l=new mc(r),c=o.body.ownerDocument.createElement("span");c.textContent="M";const u=(new Date).valueOf()+1e3,d=o.head.ownerDocument.createElement("style"),p=pc+fc++;d.textContent=l.makeAtRule("",Li([p])),o.head.appendChild(d),o.body.appendChild(c),c.style.visibility="hidden",c.style.fontFamily=a;for(const e in dc)U(c,e,r[e].toString());const f=c.getBoundingClientRect(),g=f.right-f.left,m=f.bottom-f.top;d.textContent=l.makeAtRule(s,t),h.info("Starting to load font:",s);let b=!1;return i.loop(()=>{const e=c.getBoundingClientRect(),t=e.right-e.left,n=e.bottom-e.top;return g!=t||m!=n?(b=!0,fi(!1)):(new Date).valueOf()>u?fi(!1):i.sleep(10)}).then(()=>{b?h.info("Loaded font:",s):h.warn("Failed to load font:",s),o.body.removeChild(c),i.finish(l)}),i.result()}loadFont(e,t){const n=e.src;let i=this.srcURLMap[n];const o=this;return i?i.piggyback(i=>{const o=i;o.traitsEqual(e)?(t.registerFamily(e,o),h.warn("Found already-loaded font:",n)):h.warn("E_FONT_FACE_INCOMPATIBLE",e.src)}):(i=new xi(()=>{const i=pi("loadFont"),s=t.deobfuscator?t.deobfuscator(n):null;return s?Ri(n,Ai.BLOB).then(n=>{n.responseBlob?s(n.responseBlob).then(n=>{o.initFont(e,n,t).thenFinish(i)}):i.finish(null)}):o.initFont(e,null,t).thenFinish(i),i.result()},`loadFont ${n}`),this.srcURLMap[n]=i,i.start()),i}findOrLoadFonts(e,t){const n=[];for(const i of e)i.src&&i.family?n.push(this.loadFont(i,t)):h.warn("E_FONT_FACE_INVALID");return Ii(n)}}let Ec=1;class yc{constructor(e,t,n,i,o){this.name=t,this.pseudoName=n,this.classes=i,this.parent=o,this.specified={},this.children=[],this.pageMaster=null,this.index=0,this._scope=e,this.key=`p${Ec++}`,o&&(this.index=o.children.length,o.children.push(this))}get scope(){return this._scope}createInstance(e){throw new Error("E_UNEXPECTED_CALL")}clone(e){throw new Error("E_UNEXPECTED_CALL")}copySpecified(e){const t=this.specified,n=e.specified;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}cloneChildren(e){for(let t=0;t<this.children.length;t++)this.children[t].clone({parent:e})}}class Sc extends yc{constructor(e){super(e,null,null,[],null),this.specified.width=new _o(Ut,0),this.specified.height=new _o(zt,0)}}class Nc extends Te{constructor(e,t){super(e,(function(e,t){const i=e.match(/^([^.]+)\.([^.]+)$/);if(i){const e=n.pageMaster.keyMap[i[1]];if(e){const n=this.lookupInstance(e);if(n)return t?n.resolveFunc(i[2]):n.resolveName(i[2])}}return null})),this.pageMaster=t;const n=this}}class vc extends yc{constructor(e,t,n,i,o,s,r){super(e,t,n,i,o),this.condition=s,this.specificity=r,this.keyMap={},e instanceof Nc||(this._scope=new Nc(e,this)),this.pageMaster=this,this.specified.width=new _o(Ut,0),this.specified.height=new _o(zt,0),this.specified["wrap-flow"]=new _o(Bt.auto,0),this.specified.position=new _o(Bt.relative,0),this.specified.overflow=new _o(Bt.visible,0)}createInstance(e){return new Uc(e,this)}clone(e){const t=new vc(this.scope,this.name,e.pseudoName||this.pseudoName,this.classes,this.parent,this.condition,this.specificity);return this.copySpecified(t),this.cloneChildren(t),t}resetScope(){this.scope.pageMaster=this}}class Cc extends yc{constructor(e,t,n,i,o){super(e,t,n,i,o),this.pageMaster=o.pageMaster,t&&(this.pageMaster.keyMap[t]=this.key),this.specified["wrap-flow"]=new _o(Bt.auto,0)}createInstance(e){return new zc(e,this)}clone(e){const t=new Cc(e.parent.scope,this.name,this.pseudoName,this.classes,e.parent);return this.copySpecified(t),this.cloneChildren(t),t}}class Tc extends yc{constructor(e,t,n,i,o){super(e,t,n,i,o),this.pageMaster=o.pageMaster,t&&(this.pageMaster.keyMap[t]=this.key)}createInstance(e){return new Vc(e,this)}clone(e){const t=new Tc(e.parent.scope,this.name,this.pseudoName,this.classes,e.parent);return this.copySpecified(t),this.cloneChildren(t),t}}function xc(e,t,n){return t&&t!==Bt.auto?t.toExpr(e,n):null}function Ic(e,t,n){return t&&t!==Bt.auto?t.toExpr(e,n):e.zero}function Pc(e,t,n){return t?t===Bt.auto?null:t.toExpr(e,n):e.zero}function Ac(e,t,n,i){return t&&n!==Bt.none?t.toExpr(e,i):e.zero}function Oc(e,t,n){return t?t===Bt._true?e._true:t===Bt._false?e._false:t.toExpr(e,e.zero):n}class Rc{constructor(e,t){this.parentInstance=e,this.pageBox=t,this.cascaded={},this.style={},this.autoWidth=null,this.autoHeight=null,this.children=[],this.isAutoWidth=!1,this.isAutoHeight=!1,this.isTopDependentOnAutoHeight=!1,this.isRightDependentOnAutoWidth=!1,this.calculatedWidth=0,this.calculatedHeight=0,this.pageMasterInstance=null,this.namedValues={},this.namedFuncs={},this.vertical=!1,this.rtl=!1,this.suppressEmptyBoxGeneration=!1,e&&e.children.push(this)}reset(){this.calculatedWidth=0,this.calculatedHeight=0}addNamedValues(e,t){const n=this.resolveName(e),i=this.resolveName(t);if(!n||!i)throw new Error("E_INTERNAL");return ct(this.pageBox.scope,n,i)}resolveName(e){let t=this.namedValues[e];if(t)return t;const n=this.style[e];switch(n&&(t=n.toExpr(this.pageBox.scope,this.pageBox.scope.zero)),e){case"margin-left-edge":t=this.resolveName("left");break;case"margin-top-edge":t=this.resolveName("top");break;case"margin-right-edge":t=this.addNamedValues("border-right-edge","margin-right");break;case"margin-bottom-edge":t=this.addNamedValues("border-bottom-edge","margin-bottom");break;case"border-left-edge":t=this.addNamedValues("margin-left-edge","margin-left");break;case"border-top-edge":t=this.addNamedValues("margin-top-edge","margin-top");break;case"border-right-edge":t=this.addNamedValues("padding-right-edge","border-right-width");break;case"border-bottom-edge":t=this.addNamedValues("padding-bottom-edge","border-bottom-width");break;case"padding-left-edge":t=this.addNamedValues("border-left-edge","border-left-width");break;case"padding-top-edge":t=this.addNamedValues("border-top-edge","border-top-width");break;case"padding-right-edge":t=this.addNamedValues("right-edge","padding-right");break;case"padding-bottom-edge":t=this.addNamedValues("bottom-edge","padding-bottom");break;case"left-edge":t=this.addNamedValues("padding-left-edge","padding-left");break;case"top-edge":t=this.addNamedValues("padding-top-edge","padding-top");break;case"right-edge":t=this.addNamedValues("left-edge","width");break;case"bottom-edge":t=this.addNamedValues("top-edge","height")}if(!t){let n;if("extent"==e)n=this.vertical?"width":"height";else if("measure"==e)n=this.vertical?"height":"width";else{const t=this.vertical?Lo:ko;n=e;for(const e in t)n=n.replace(e,t[e])}n!=e&&(t=this.resolveName(n))}return t&&(this.namedValues[e]=t),t}resolveFunc(e){let t=this.namedFuncs[e];if(t)return t;switch(e){case"columns":{const e=this.pageBox.scope,n=new lt(e,0),i=this.resolveName("column-count"),o=this.resolveName("column-width"),s=this.resolveName("column-gap");t=ut(e,dt(e,new ot(e,"min",[n,i]),ct(e,o,s)),s);break}}return t&&(this.namedFuncs[e]=t),t}initEnabled(){const e=this.pageBox.scope,t=this.style;let n=Oc(e,t.enabled,e._true);const i=xc(e,t.page,e.zero);if(i){const t=new tt(e,"page-number");n=ht(e,n,new je(e,i,t))}const o=xc(e,t["min-page-width"],e.zero);o&&(n=ht(e,n,new Xe(e,new tt(e,"page-width"),o)));const s=xc(e,t["min-page-height"],e.zero);s&&(n=ht(e,n,new Xe(e,new tt(e,"page-height"),s))),n=this.boxSpecificEnabled(n),t.enabled=new Ft(n)}boxSpecificEnabled(e){return e}initHorizontal(){const e=this.pageBox.scope,t=this.style,n=this.parentInstance?this.parentInstance.style.width.toExpr(e,null):null;let i=xc(e,t.left,n),o=xc(e,t["margin-left"],n);const s=Ac(e,t["border-left-width"],t["border-left-style"],n),r=Ic(e,t["padding-left"],n);let a=xc(e,t.width,n),l=xc(e,t["max-width"],n);const h=Ic(e,t["padding-right"],n),c=Ac(e,t["border-right-width"],t["border-right-style"],n);let u=xc(e,t["margin-right"],n),d=xc(e,t.right,n);const p=ct(e,s,r),f=ct(e,s,h);if(i&&d&&a){let t=ut(e,n,ct(e,a,ct(e,ct(e,i,p),f)));o?u?d=ut(e,t,u):u=ut(e,t,ct(e,d,o)):(t=ut(e,t,d),u?o=ut(e,t,u):(o=dt(e,t,new rt(e,.5)),u=o))}else{o||(o=e.zero),u||(u=e.zero),i||d||a||(i=e.zero),i||a?i||d?a||d||(a=this.autoWidth,this.isAutoWidth=!0):i=e.zero:(a=this.autoWidth,this.isAutoWidth=!0);const s=ut(e,n,ct(e,ct(e,o,p),ct(e,u,f)));this.isAutoWidth&&(l||(l=ut(e,s,i||d)),this.vertical||!xc(e,t["column-width"],null)&&!xc(e,t["column-count"],null)||(a=l,this.isAutoWidth=!1)),i?a?d||(d=ut(e,s,ct(e,i,a))):a=ut(e,s,ct(e,i,d)):i=ut(e,s,ct(e,d,a))}const g=Ic(e,t["snap-width"]||(this.parentInstance?this.parentInstance.style["snap-width"]:null),n);t.left=new Ft(i),t["margin-left"]=new Ft(o),t["border-left-width"]=new Ft(s),t["padding-left"]=new Ft(r),t.width=new Ft(a),t["max-width"]=new Ft(l||a),t["padding-right"]=new Ft(h),t["border-right-width"]=new Ft(c),t["margin-right"]=new Ft(u),t.right=new Ft(d),t["snap-width"]=new Ft(g)}initVertical(){const e=this.pageBox.scope,t=this.style,n=this.parentInstance?this.parentInstance.style.width.toExpr(e,null):null,i=this.parentInstance?this.parentInstance.style.height.toExpr(e,null):null;let o=xc(e,t.top,i),s=xc(e,t["margin-top"],n);const r=Ac(e,t["border-top-width"],t["border-top-style"],n),a=Ic(e,t["padding-top"],n);let l=xc(e,t.height,i),h=xc(e,t["max-height"],i);const c=Ic(e,t["padding-bottom"],n),u=Ac(e,t["border-bottom-width"],t["border-bottom-style"],n);let d=xc(e,t["margin-bottom"],n),p=xc(e,t.bottom,i);const f=ct(e,r,a),g=ct(e,u,c);if(o&&p&&l){let t=ut(e,i,ct(e,l,ct(e,ct(e,o,f),g)));s?d?p=ut(e,t,s):d=ut(e,t,ct(e,p,s)):(t=ut(e,t,p),d?s=ut(e,t,d):(s=dt(e,t,new rt(e,.5)),d=s))}else{s||(s=e.zero),d||(d=e.zero),o||p||l||(o=e.zero),o||l?o||p?l||p||(l=this.autoHeight,this.isAutoHeight=!0):o=e.zero:(l=this.autoHeight,this.isAutoHeight=!0);const n=ut(e,i,ct(e,ct(e,s,f),ct(e,d,g)));this.isAutoHeight&&(h||(h=ut(e,n,o||p)),this.vertical&&(xc(e,t["column-width"],null)||xc(e,t["column-count"],null))&&(l=h,this.isAutoHeight=!1)),o?l?p||(p=ut(e,n,ct(e,o,l))):l=ut(e,n,ct(e,p,o)):o=ut(e,n,ct(e,p,l))}const m=Ic(e,t["snap-height"]||(this.parentInstance?this.parentInstance.style["snap-height"]:null),n);t.top=new Ft(o),t["margin-top"]=new Ft(s),t["border-top-width"]=new Ft(r),t["padding-top"]=new Ft(a),t.height=new Ft(l),t["max-height"]=new Ft(h||l),t["padding-bottom"]=new Ft(c),t["border-bottom-width"]=new Ft(u),t["margin-bottom"]=new Ft(d),t.bottom=new Ft(p),t["snap-height"]=new Ft(m)}initColumns(){const e=this.pageBox.scope,t=this.style,n=xc(e,t[this.vertical?"height":"width"],null);let i=xc(e,t["column-width"],n),o=xc(e,t["column-count"],null),s=function(e,t,n){return t&&t!==Bt.normal?t.toExpr(e,n):null}(e,t["column-gap"],null);s||(s=new et(e,1,"em")),i&&!o&&(o=new ot(e,"floor",[pt(e,ct(e,n,s),ct(e,i,s))]),o=new ot(e,"max",[e.one,o])),o||(o=e.one),i=ut(e,pt(e,ct(e,n,s),o),s),t["column-width"]=new Ft(i),t["column-count"]=new Ft(o),t["column-gap"]=new Ft(s)}depends(e,t,n){return this.style[e].toExpr(this.pageBox.scope,null).depend(t,n)}init(e){e.registerInstance(this.pageBox.key,this);const t=this.pageBox.scope,n=this.style,i=this,o=this.parentInstance?this.parentInstance.getActiveRegions(e):null,s=cr(this.cascaded,e,o,!1);this.vertical=lr(s,e,!!this.parentInstance&&this.parentInstance.vertical),this.rtl=hr(s,e,!!this.parentInstance&&this.parentInstance.rtl),pr(s,n,this.vertical,this.rtl,(e,t)=>t.value),this.autoWidth=new it(t,()=>i.calculatedWidth,"autoWidth"),this.autoHeight=new it(t,()=>i.calculatedHeight,"autoHeight"),this.initHorizontal(),this.initVertical(),this.initColumns(),this.initEnabled()}getProp(e,t){let n=this.style[t];return n&&(n=Eo(e,n,t)),n}getPropAsNumber(e,t){let n=this.style[t];return n&&(n=Eo(e,n,t)),Dt(n,e)}getSpecial(e,t){const n=Yo(this.cascaded,t);if(n){const t=[];for(let i=0;i<n.length;i++){const o=n[i].evaluate(e,"");o&&o!==wt&&t.push(o)}if(t.length)return t}return null}getActiveRegions(e){const t=this.getSpecial(e,"region-id");if(t){const e=[];for(let n=0;n<t.length;n++)e[n]=t[n].toString();return e}return null}propagateProperty(e,t,n,i){this.propagatePropertyToElement(e,t.element,n,i)}propagatePropertyToElement(e,t,n,i){let o=this.getProp(e,n);o&&(o.isNumeric()&&Pe(o.unit)&&(o=_t(o,e)),"font-family"===n&&(o=i.filterFontFamily(o)),U(t,n,o.toString()))}propagateDelayedProperty(e,t,n,i){const o=this.getProp(e,n);o&&i.push(new Xr(t.element,n,o))}assignLeftPosition(e,t){const n=this.getPropAsNumber(e,"left"),i=this.getPropAsNumber(e,"margin-left"),o=this.getPropAsNumber(e,"padding-left"),s=this.getPropAsNumber(e,"border-left-width"),r=this.getPropAsNumber(e,"width");t.setHorizontalPosition(n,r),U(t.element,"margin-left",`${i}px`),U(t.element,"padding-left",`${o}px`),U(t.element,"border-left-width",`${s}px`),t.marginLeft=i,t.borderLeft=s,t.paddingLeft=o}assignRightPosition(e,t){const n=this.getPropAsNumber(e,"right"),i=this.getPropAsNumber(e,"snap-height"),o=this.getPropAsNumber(e,"margin-right");let s=this.getPropAsNumber(e,"padding-right");const r=this.getPropAsNumber(e,"border-right-width");if(U(t.element,"margin-right",`${o}px`),U(t.element,"padding-right",`${s}px`),U(t.element,"border-right-width",`${r}px`),t.marginRight=o,t.borderRight=r,this.vertical&&i>0){const e=n+t.getInsetRight(),o=e-Math.floor(e/i)*i;o>0&&(t.snapOffsetX=i-o,s+=t.snapOffsetX)}t.paddingRight=s,t.snapWidth=i}assignTopPosition(e,t){const n=this.getPropAsNumber(e,"snap-height"),i=this.getPropAsNumber(e,"top"),o=this.getPropAsNumber(e,"margin-top");let s=this.getPropAsNumber(e,"padding-top");const r=this.getPropAsNumber(e,"border-top-width");if(t.top=i,t.marginTop=o,t.borderTop=r,t.snapHeight=n,!this.vertical&&n>0){const e=i+t.getInsetTop(),o=e-Math.floor(e/n)*n;o>0&&(t.snapOffsetY=n-o,s+=t.snapOffsetY)}t.paddingTop=s,U(t.element,"top",`${i}px`),U(t.element,"margin-top",`${o}px`),U(t.element,"padding-top",`${s}px`),U(t.element,"border-top-width",`${r}px`)}assignBottomPosition(e,t){const n=this.getPropAsNumber(e,"margin-bottom"),i=this.getPropAsNumber(e,"padding-bottom"),o=this.getPropAsNumber(e,"border-bottom-width"),s=this.getPropAsNumber(e,"height")-t.snapOffsetY;U(t.element,"height",`${s}px`),U(t.element,"margin-bottom",`${n}px`),U(t.element,"padding-bottom",`${i}px`),U(t.element,"border-bottom-width",`${o}px`),t.height=s-t.snapOffsetY,t.marginBottom=n,t.borderBottom=o,t.paddingBottom=i}assignBeforePosition(e,t){this.vertical?this.assignRightPosition(e,t):this.assignTopPosition(e,t)}assignAfterPosition(e,t){this.vertical?this.assignLeftPosition(e,t):this.assignBottomPosition(e,t)}assignStartEndPosition(e,t){this.vertical?(this.assignTopPosition(e,t),this.assignBottomPosition(e,t)):(this.assignRightPosition(e,t),this.assignLeftPosition(e,t))}sizeWithMaxHeight(e,t){U(t.element,"border-top-width","0px");let n=this.getPropAsNumber(e,"max-height");this.isTopDependentOnAutoHeight?t.setVerticalPosition(0,n):(this.assignTopPosition(e,t),n-=t.snapOffsetY,t.height=n,U(t.element,"height",`${n}px`))}sizeWithMaxWidth(e,t){U(t.element,"border-left-width","0px");let n=this.getPropAsNumber(e,"max-width");if(this.isRightDependentOnAutoWidth)t.setHorizontalPosition(0,n);else{this.assignRightPosition(e,t),n-=t.snapOffsetX,t.width=n;const i=this.getPropAsNumber(e,"right");U(t.element,"right",`${i}px`),U(t.element,"width",`${n}px`)}}prepareContainer(e,t,n,i,o){this.parentInstance&&this.vertical==this.parentInstance.vertical||U(t.element,"writing-mode",this.vertical?"vertical-rl":"horizontal-tb"),(this.vertical?this.isAutoWidth:this.isAutoHeight)?this.vertical?this.sizeWithMaxWidth(e,t):this.sizeWithMaxHeight(e,t):(this.assignBeforePosition(e,t),this.assignAfterPosition(e,t)),(this.vertical?this.isAutoHeight:this.isAutoWidth)?this.vertical?this.sizeWithMaxHeight(e,t):this.sizeWithMaxWidth(e,t):this.assignStartEndPosition(e,t);for(let n=0;n<Lc.length;n++)this.propagateProperty(e,t,Lc[n],i)}transferContentProps(e,t,n,i){for(let n=0;n<Fc.length;n++)this.propagateProperty(e,t,Fc[n],i)}transferSinglUriContentProps(e,t,n){for(let i=0;i<Dc.length;i++)this.propagatePropertyToElement(e,t,Dc[i],n)}finishContainer(e,t,n,i,o,s,r){this.vertical?this.calculatedWidth=t.computedBlockSize+t.snapOffsetX:this.calculatedHeight=t.computedBlockSize+t.snapOffsetY;const a=(this.vertical||!i)&&this.isAutoHeight,l=(!this.vertical||!i)&&this.isAutoWidth;let h=null;if((l||a)&&(l&&U(t.element,"width","auto"),a&&U(t.element,"height","auto"),h=s.getElementClientRect(i?i.element:t.element),l&&(this.calculatedWidth=Math.ceil(h.right-h.left-t.paddingLeft-t.borderLeft-t.paddingRight-t.borderRight),this.vertical&&(this.calculatedWidth+=t.snapOffsetX)),a&&(this.calculatedHeight=h.bottom-h.top-t.paddingTop-t.borderTop-t.paddingBottom-t.borderBottom,this.vertical||(this.calculatedHeight+=t.snapOffsetY))),(this.vertical?this.isAutoHeight:this.isAutoWidth)&&this.assignStartEndPosition(e,t),(this.vertical?this.isAutoWidth:this.isAutoHeight)&&((this.vertical?this.isRightDependentOnAutoWidth:this.isTopDependentOnAutoHeight)&&this.assignBeforePosition(e,t),this.assignAfterPosition(e,t)),o>1){const n=this.getPropAsNumber(e,"column-rule-width"),i=this.getProp(e,"column-rule-style"),s=this.getProp(e,"column-rule-color");if(n>0&&i&&i!=Bt.none&&s!=Bt.transparent){const r=this.getPropAsNumber(e,"column-gap"),a=this.vertical?t.height:t.width,l=this.vertical?"border-top":"border-left";for(let e=1;e<o;e++){const h=(a+r)*e/o-r/2+t.paddingLeft-n/2,c=t.height+t.paddingTop+t.paddingBottom,u=t.element.ownerDocument.createElement("div");U(u,"position","absolute"),U(u,this.vertical?"left":"top","0px"),U(u,this.vertical?"top":"left",`${h}px`),U(u,this.vertical?"height":"width","0px"),U(u,this.vertical?"width":"height",`${c}px`),U(u,l,`${n}px ${i.toString()}${s?` ${s.toString()}`:""}`),t.element.insertBefore(u,t.element.firstChild)}}}for(let n=0;n<kc.length;n++)this.propagateProperty(e,t,kc[n],r);for(let i=0;i<_c.length;i++)this.propagateDelayedProperty(e,t,_c[i],n.delayedItems)}applyCascadeAndInit(e,t){const n=this.cascaded,i=this.pageBox.specified;for(const e in i)Ho(e)&&Wo(n,e,$o(i,e));if(this.pageBox.pseudoName==Bc)for(const e in t)(e.match(/^background-/)||"writing-mode"==e)&&(n[e]=t[e]);if("layout-host"==this.pageBox.pseudoName)for(const e in t)e.match(/^background-/)||"writing-mode"==e||(n[e]=t[e]);e.pushRule(this.pageBox.classes,null,n),n.content&&(n.content=n.content.filterValue(new Us(e,null,e.counterResolver))),this.init(e.context);for(const n of this.pageBox.children)n.createInstance(this).applyCascadeAndInit(e,t);e.popRule()}resolveAutoSizing(e){this.isAutoWidth&&(this.isRightDependentOnAutoWidth=this.depends("right",this.autoWidth,e)||this.depends("margin-right",this.autoWidth,e)||this.depends("border-right-width",this.autoWidth,e)||this.depends("padding-right",this.autoWidth,e)),this.isAutoHeight&&(this.isTopDependentOnAutoHeight=this.depends("top",this.autoHeight,e)||this.depends("margin-top",this.autoHeight,e)||this.depends("border-top-width",this.autoHeight,e)||this.depends("padding-top",this.autoHeight,e));for(const t of this.children)t.resolveAutoSizing(e)}}const Lc=["border-left-style","border-right-style","border-top-style","border-bottom-style","border-left-color","border-right-color","border-top-color","border-bottom-color","outline-style","outline-color","outline-width","overflow","visibility"],kc=["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius","border-image-source","border-image-slice","border-image-width","border-image-outset","border-image-repeat","background-attachment","background-color","background-image","background-repeat","background-position","background-clip","background-origin","background-size","opacity","z-index","background-blend-mode","isolation","mix-blend-mode","filter"],Fc=["color","font-family","font-size","font-style","font-weight","font-variant","line-height","letter-spacing","text-align","text-decoration","text-indent","text-transform","white-space","word-spacing","font-feature-settings","font-kerning","font-size-adjust","font-variant-east-asian","font-stretch","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-shadow","text-underline-position"],Dc=["width","height","image-resolution","object-fit","object-position"],_c=["transform","transform-origin"],Bc="background-host";class Mc extends Rc{constructor(e){super(null,e)}applyCascadeAndInit(e,t){super.applyCascadeAndInit(e,t),this.children.sort((e,t)=>t.pageBox.specificity-e.pageBox.specificity||e.pageBox.index-t.pageBox.index)}}class Uc extends Rc{constructor(e,t){super(e,t),this.pageMasterInstance=this}boxSpecificEnabled(e){const t=this.pageBox.pageMaster;return t.condition&&(e=ht(t.scope,e,t.condition)),e}adjustPageLayout(e,t,n){}}class zc extends Rc{constructor(e,t){super(e,t),this.pageMasterInstance=e.pageMasterInstance}}class Vc extends Rc{constructor(e,t){super(e,t),this.pageMasterInstance=e.pageMasterInstance}processPartitionList(e,t,n){let i=null;if(t instanceof vt&&(i=[t]),t instanceof Lt&&(i=t.values),i){const t=this.pageBox.scope;for(let o=0;o<i.length;o++)if(i[o]instanceof vt){const s=ve(i[o].name,"enabled");let r=new tt(t,s);n&&(r=new Be(t,r)),e=ht(t,e,r)}}return e}boxSpecificEnabled(e){const t=this.pageBox.scope,n=this.style,i=Oc(t,n.required,t._false)!==t._false;if(i||this.isAutoHeight){const i=function(e,t,n){return t?t.toExpr(e,e.zero):new rt(e,n)}(t,n["flow-from"],"body");e=ht(t,e,new ot(t,"has-content",[i]))}if(e=this.processPartitionList(e,n["required-partitions"],!1),e=this.processPartitionList(e,n["conflicting-partitions"],!0),i){const n=this.pageMasterInstance.style.enabled;let i=n?n.toExpr(t,null):t._true;i=ht(t,i,e),this.pageMasterInstance.style.enabled=new Ft(i)}return e}prepareContainer(e,t,n,i,o){U(t.element,"overflow","hidden"),super.prepareContainer(e,t,n,i,o)}}class Hc extends ji{constructor(e,t,n,i){super(e,t,!1),this.target=n,this.validatorSet=i}property(e,t,n){this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)}unknownProperty(e,t){this.report(`E_INVALID_PROPERTY ${e}: ${t.toString()}`)}invalidPropertyValue(e,t){this.report(`E_INVALID_PROPERTY_VALUE ${e}: ${t.toString()}`)}simpleProperty(e,t,n){this.target.specified[e]=new _o(t,n?Mi:Ui)}}class Gc extends Hc{constructor(e,t,n,i){super(e,t,n,i)}}class $c extends Hc{constructor(e,t,n,i){super(e,t,n,i),n.specified.width=new _o(Mt,0),n.specified.height=new _o(Mt,0)}startPartitionRule(e,t,n){const i=new Tc(this.scope,e,t,n,this.target),o=new Gc(this.scope,this.owner,i,this.validatorSet);this.owner.pushHandler(o)}startPartitionGroupRule(e,t,n){const i=new Cc(this.scope,e,t,n,this.target),o=new $c(this.scope,this.owner,i,this.validatorSet);this.owner.pushHandler(o)}}class Wc extends Hc{constructor(e,t,n,i){super(e,t,n,i)}startPartitionRule(e,t,n){const i=new Tc(this.scope,e,t,n,this.target),o=new Gc(this.scope,this.owner,i,this.validatorSet);this.owner.pushHandler(o)}startPartitionGroupRule(e,t,n){const i=new Cc(this.scope,e,t,n,this.target),o=new $c(this.scope,this.owner,i,this.validatorSet);this.owner.pushHandler(o)}}function Xc(e){let n=e["writing-mode"];n=n&&n.value;let i=e.direction;return i=i&&i.value,n===Bt.vertical_lr||n!==Bt.vertical_rl&&i!==Bt.rtl?t.PageProgression.LTR:t.PageProgression.RTL}const jc={a5:{width:new Tt(148,"mm"),height:new Tt(210,"mm")},a4:{width:new Tt(210,"mm"),height:new Tt(297,"mm")},a3:{width:new Tt(297,"mm"),height:new Tt(420,"mm")},b5:{width:new Tt(176,"mm"),height:new Tt(250,"mm")},b4:{width:new Tt(250,"mm"),height:new Tt(353,"mm")},"jis-b5":{width:new Tt(182,"mm"),height:new Tt(257,"mm")},"jis-b4":{width:new Tt(257,"mm"),height:new Tt(364,"mm")},letter:{width:new Tt(8.5,"in"),height:new Tt(11,"in")},legal:{width:new Tt(8.5,"in"),height:new Tt(14,"in")},ledger:{width:new Tt(11,"in"),height:new Tt(17,"in")}},Kc=new Tt(.24,"pt"),Yc=new Tt(3,"mm"),qc=new Tt(10,"mm"),Zc=new Tt(13,"mm");function Qc(e){const t={width:Ut,height:zt,bleed:Vt,bleedOffset:Vt},n=e.size;if(n&&n.value!==Bt.auto){const e=n.value;let i,o;if(e.isSpaceList()?(i=e.values[0],o=e.values[1]):(i=e,o=null),i.isNumeric())t.width=i,t.height=o||i;else{const e=i.name&&jc[i.name.toLowerCase()];e&&(o&&o===Bt.landscape?(t.width=e.height,t.height=e.width):(t.width=e.width,t.height=e.height))}}const i=e.marks;i&&i.value!==Bt.none&&(t.bleedOffset=Zc);const o=e.bleed;if(o&&o.value!==Bt.auto)o.value&&o.value.isNumeric()&&(t.bleed=o.value);else if(i){let e=!1;e=i.value.isSpaceList()?i.value.values.some(e=>e===Bt.crop):i.value===Bt.crop,e&&(t.bleed=new Tt(6,"pt"))}return t}function Jc(e,t){const n={},i=e.bleed.num*t.queryUnitSize(e.bleed.unit,!1),o=e.bleedOffset.num*t.queryUnitSize(e.bleedOffset.unit,!1),s=i+o,r=e.width;r===Ut?t.pref.defaultPaperSize?n.pageWidth=t.pref.defaultPaperSize.width*t.queryUnitSize("px",!1):n.pageWidth=(t.pref.spreadView?Math.floor(t.viewportWidth/2)-t.pref.pageBorder:t.viewportWidth)-2*s:n.pageWidth=r.num*t.queryUnitSize(r.unit,!1);const a=e.height;return a===zt?t.pref.defaultPaperSize?n.pageHeight=t.pref.defaultPaperSize.height*t.queryUnitSize("px",!1):n.pageHeight=t.viewportHeight-2*s:n.pageHeight=a.num*t.queryUnitSize(a.unit,!1),n.bleed=i,n.bleedOffset=o,n.cropOffset=s,n}function eu(e,t,n){const i=e.createElementNS(L.SVG,"svg");return i.setAttribute("width",t),i.setAttribute("height",n),i.style.position="absolute",i}function tu(e,t,n){n=n||"polyline";const i=e.createElementNS(L.SVG,n);return i.setAttribute("stroke","black"),i.setAttribute("stroke-width",t),i.setAttribute("fill","none"),i}var nu,iu;function ou(e,t,n,i){let o=!1,s=!1;const r=e.marks;if(r){const e=r.value;e.isSpaceList()?e.values.forEach(e=>{e===Bt.crop?o=!0:e===Bt.cross&&(s=!0)}):e===Bt.crop?o=!0:e===Bt.cross&&(s=!0)}if(!o&&!s)return;const a=n.container,l=a.ownerDocument,h=t.bleed,c=Dt(Kc,i),u=Dt(Yc,i),d=Dt(qc,i);if(h){const t=e["background-color"];t&&t.value&&(n.bleedBox.style.backgroundColor=t.value.stringValue())}o&&Object.keys(nu).forEach(e=>{const t=nu[e],n=function(e,t,n,i,o,s){let r=i;r<=o+2*Ie.mm&&(r=o+i/2);const a=Math.max(i,r),l=o+a+n/2,h=eu(e,l,l);let c=[[0,o+i],[i,o+i],[i,o+i-r]],u=c.map(e=>[e[1],e[0]]);t!==nu.TOP_RIGHT&&t!==nu.BOTTOM_RIGHT||(c=c.map(e=>[o+a-e[0],e[1]]),u=u.map(e=>[o+a-e[0],e[1]])),t!==nu.BOTTOM_LEFT&&t!==nu.BOTTOM_RIGHT||(c=c.map(e=>[e[0],o+a-e[1]]),u=u.map(e=>[e[0],o+a-e[1]]));const d=tu(e,n);d.setAttribute("points",c.map(e=>e.join(",")).join(" ")),h.appendChild(d);const p=tu(e,n);return p.setAttribute("points",u.map(e=>e.join(",")).join(" ")),h.appendChild(p),t.split(" ").forEach(e=>{h.style[e]=`${s}px`}),h}(l,t,c,d,h,u);a.appendChild(n)}),s&&Object.keys(iu).forEach(e=>{const t=iu[e],n=function(e,t,n,i,o){const s=2*i;let r,a;t===iu.TOP||t===iu.BOTTOM?(r=s,a=i):(r=i,a=s);const l=eu(e,r,a),h=tu(e,n);h.setAttribute("points",`0,${a/2} ${r},${a/2}`),l.appendChild(h);const c=tu(e,n);c.setAttribute("points",`${r/2},0 ${r/2},${a}`),l.appendChild(c);const u=tu(e,n,"circle");let d;switch(u.setAttribute("cx",r/2),u.setAttribute("cy",a/2),u.setAttribute("r",i/4),l.appendChild(u),t){case iu.TOP:d=iu.BOTTOM;break;case iu.BOTTOM:d=iu.TOP;break;case iu.LEFT:d=iu.RIGHT;break;case iu.RIGHT:d=iu.LEFT}return Object.keys(iu).forEach(e=>{const n=iu[e];n===t?l.style[n]=`${o}px`:n!==d&&(l.style[n]="0",l.style[`margin-${n}`]="auto")}),l}(l,t,c,d,u);a.appendChild(n)})}!function(e){e.TOP_LEFT="top left",e.TOP_RIGHT="top right",e.BOTTOM_LEFT="bottom left",e.BOTTOM_RIGHT="bottom right"}(nu||(nu={})),function(e){e.TOP="top",e.BOTTOM="bottom",e.LEFT="left",e.RIGHT="right"}(iu||(iu={}));const su=(()=>{const e={width:!0,height:!0,"block-size":!0,"inline-size":!0,margin:!0,padding:!0,border:!0,outline:!0,"outline-width":!0,"outline-style":!0,"outline-color":!0};return["left","right","top","bottom","before","after","start","end","block-start","block-end","inline-start","inline-end"].forEach(t=>{e[`margin-${t}`]=!0,e[`padding-${t}`]=!0,e[`border-${t}-width`]=!0,e[`border-${t}-style`]=!0,e[`border-${t}-color`]=!0}),e})();var ru;!function(e){e.START="start",e.CENTER="center",e.END="end"}(ru||(ru={}));const au={"top-left-corner":{order:1,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!0,isInRightColumn:!0,positionAlongVariableDimension:null},"top-left":{order:2,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:ru.START},"top-center":{order:3,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:ru.CENTER},"top-right":{order:4,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:ru.END},"top-right-corner":{order:5,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:null},"right-top":{order:6,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:ru.START},"right-middle":{order:7,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:ru.CENTER},"right-bottom":{order:8,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:ru.END},"bottom-right-corner":{order:9,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:null},"bottom-right":{order:10,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:ru.END},"bottom-center":{order:11,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:ru.CENTER},"bottom-left":{order:12,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:ru.START},"bottom-left-corner":{order:13,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!0,isInRightColumn:!1,positionAlongVariableDimension:null},"left-bottom":{order:14,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!0,isInRightColumn:!1,positionAlongVariableDimension:ru.END},"left-middle":{order:15,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!0,isInRightColumn:!1,positionAlongVariableDimension:ru.CENTER},"left-top":{order:16,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!0,isInRightColumn:!1,positionAlongVariableDimension:ru.START}},lu=(()=>{const e=au;return Object.keys(e).sort((t,n)=>e[t].order-e[n].order)})(),hu="vivliostyle-page-rule-master",cu="_marginBoxes";class uu extends vc{constructor(e,t,n){super(e,null,hu,[],t,null,0),this.pageMarginBoxes={};const i=Qc(n),o=new du(this.scope,this,n,i);this.bodyPartitionKey=o.key,this.createPageMarginBoxes(n),this.applySpecified(n,i)}createPageMarginBoxes(e){const t=e[cu];if(t){const n=this;lu.forEach(i=>{t[i]&&(n.pageMarginBoxes[i]=new pu(n.scope,n,i,e))})}}applySpecified(e,t){this.specified.position=new _o(Bt.relative,0),this.specified.width=new _o(t.width,0),this.specified.height=new _o(t.height,0);for(const t in e)su[t]||"background-clip"===t||(this.specified[t]=e[t])}createInstance(e){return new fu(e,this)}}class du extends Tc{constructor(e,t,n,i){super(e,null,null,[],t),this.pageSize=i,this.specified["z-index"]=new _o(new It(0),0),this.applySpecified(n)}applySpecified(e){this.specified["flow-from"]=new _o(Ct("body"),0),this.specified.position=new _o(Bt.absolute,0),this.specified.overflow=new _o(Bt.visible,0);for(const t in su)su.hasOwnProperty(t)&&(this.specified[t]=e[t])}createInstance(e){return new wu(e,this)}}class pu extends Tc{constructor(e,t,n,i){super(e,null,null,[],t),this.marginBoxName=n,this.applySpecified(i)}applySpecified(e){const t=e[cu][this.marginBoxName];for(const n in e){const i=e[n],o=t[n];(To[n]||o&&o.value===Bt.inherit)&&(this.specified[n]=i)}for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];n&&n.value!==Bt.inherit&&(this.specified[e]=n)}}createInstance(e){return new Eu(e,this)}}class fu extends Uc{constructor(e,t){super(e,t),this.pageAreaDimension=null,this.pageMarginBoxInstances={}}applyCascadeAndInit(e,t){const n=this.cascaded;for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(e){case"writing-mode":case"direction":n[e]=t[e]}super.applyCascadeAndInit(e,t)}initHorizontal(){const e=this.style;e.left=Vt,e["margin-left"]=Vt,e["border-left-width"]=Vt,e["padding-left"]=Vt,e["padding-right"]=Vt,e["border-right-width"]=Vt,e["margin-right"]=Vt,e.right=Vt}initVertical(){const e=this.style;e.top=Vt,e["margin-top"]=Vt,e["border-top-width"]=Vt,e["padding-top"]=Vt,e["padding-bottom"]=Vt,e["border-bottom-width"]=Vt,e["margin-bottom"]=Vt,e.bottom=Vt}setPageAreaDimension(e){this.pageAreaDimension=e;const t=this.style;t.width=new Ft(e.borderBoxWidth),t.height=new Ft(e.borderBoxHeight),t["padding-left"]=new Ft(e.marginLeft),t["padding-right"]=new Ft(e.marginRight),t["padding-top"]=new Ft(e.marginTop),t["padding-bottom"]=new Ft(e.marginBottom)}adjustPageLayout(e,t,n){const i=t.marginBoxes,o={start:this.pageAreaDimension.marginLeft,end:this.pageAreaDimension.marginRight,extent:this.pageAreaDimension.borderBoxWidth},s={start:this.pageAreaDimension.marginTop,end:this.pageAreaDimension.marginBottom,extent:this.pageAreaDimension.borderBoxHeight};this.sizeMarginBoxesAlongVariableDimension(i.top,!0,o,e,n),this.sizeMarginBoxesAlongVariableDimension(i.bottom,!0,o,e,n),this.sizeMarginBoxesAlongVariableDimension(i.left,!1,s,e,n),this.sizeMarginBoxesAlongVariableDimension(i.right,!1,s,e,n)}sizeMarginBoxesAlongVariableDimension(e,t,n,i,o){const s=ru.START,r=ru.CENTER,a=ru.END,l=this.pageBox.scope,h={},c={},u={};for(const n in e){const i=au[n];if(i){const s=e[n],r=this.pageMarginBoxInstances[n],a=new gu(s,r.style,t,l,o);h[i.positionAlongVariableDimension]=s,c[i.positionAlongVariableDimension]=r,u[i.positionAlongVariableDimension]=a}}const d={start:n.start.evaluate(i),end:n.end.evaluate(i),extent:n.extent.evaluate(i)};let p=this.getSizesOfMarginBoxesAlongVariableDimension(u,d.extent),f=!1;const g={};Object.keys(h).forEach(e=>{const s=e,r=xc(l,c[s].style[t?"max-width":"max-height"],n.extent);if(r){const e=r.evaluate(i);if(p[s]>e){const n=u[s]=new bu(h[s],c[s].style,t,l,o,e);g[s]=n.getOuterSize(),f=!0}}}),f&&(p=this.getSizesOfMarginBoxesAlongVariableDimension(u,d.extent),f=!1,[s,r,a].forEach(e=>{p[e]=g[e]||p[e]}));const m={};Object.keys(h).forEach(e=>{const s=e,r=xc(l,c[s].style[t?"min-width":"min-height"],n.extent);if(r){const e=r.evaluate(i);if(p[s]<e){const n=u[s]=new bu(h[s],c[s].style,t,l,o,e);m[s]=n.getOuterSize(),f=!0}}}),f&&(p=this.getSizesOfMarginBoxesAlongVariableDimension(u,d.extent),[s,r,a].forEach(e=>{p[e]=m[e]||p[e]}));const b=d.start+d.extent,w=d.start+(d.start+d.extent);[s,r,a].forEach(e=>{const n=p[e];if(n){const i=h[e];let o=0;switch(e){case s:o=t?i.left:i.top;break;case r:o=(w-n)/2;break;case a:o=b-n}t?i.setHorizontalPosition(o,n-i.getInsetLeft()-i.getInsetRight()):i.setVerticalPosition(o,n-i.getInsetTop()-i.getInsetBottom())}})}getSizesOfMarginBoxesAlongVariableDimension(e,t){const n=e[ru.START],i=e[ru.CENTER],o=e[ru.END],s={};if(i){const e=[n,o].filter(e=>e),r=e.length?new mu(e):null,a=this.distributeAutoMarginBoxSizes(i,r,t);a.xSize&&(s[ru.CENTER]=a.xSize);const l=(t-(a.xSize||i.getOuterSize()))/2;n&&n.hasAutoSize()&&(s[ru.START]=l),o&&o.hasAutoSize()&&(s[ru.END]=l)}else{const e=this.distributeAutoMarginBoxSizes(n,o,t);e.xSize&&(s[ru.START]=e.xSize),e.ySize&&(s[ru.END]=e.ySize)}return s}distributeAutoMarginBoxSizes(e,t,n){const i={xSize:null,ySize:null};if(e&&t)if(e.hasAutoSize()&&t.hasAutoSize()){const o=e.getOuterMaxContentSize(),s=t.getOuterMaxContentSize();if(o>0&&s>0){const r=o+s;if(r<n)i.xSize=n*o/r;else{const s=e.getOuterMinContentSize(),a=s+t.getOuterMinContentSize();a<n?i.xSize=s+(n-a)*(o-s)/(r-a):a>0&&(i.xSize=n*s/a)}i.xSize>0&&(i.ySize=n-i.xSize)}else o>0?i.xSize=n:s>0&&(i.ySize=n)}else e.hasAutoSize()?i.xSize=Math.max(n-t.getOuterSize(),0):t.hasAutoSize()&&(i.ySize=Math.max(n-e.getOuterSize(),0));else e?e.hasAutoSize()&&(i.xSize=n):t&&t.hasAutoSize()&&(i.ySize=n);return i}prepareContainer(e,t,n,i,o){super.prepareContainer(e,t,n,i,o),t.element.setAttribute("data-vivliostyle-page-box",!0)}}class gu{constructor(e,t,n,i,o){this.container=e,this.isHorizontal=n,this.clientLayout=o,this.size=null,this.hasAutoSize_=!xc(i,t[n?"width":"height"],new et(i,0,"px"))}hasAutoSize(){return this.hasAutoSize_}getSize(){if(!this.size){const e=this.isHorizontal?[Er.MAX_CONTENT_WIDTH,Er.MIN_CONTENT_WIDTH]:[Er.MAX_CONTENT_HEIGHT,Er.MIN_CONTENT_HEIGHT];this.size=yr(this.clientLayout,this.container.element,e)}return this.size}getOuterMaxContentSize(){const e=this.getSize();return this.isHorizontal?this.container.getInsetLeft()+e[Er.MAX_CONTENT_WIDTH]+this.container.getInsetRight():this.container.getInsetTop()+e[Er.MAX_CONTENT_HEIGHT]+this.container.getInsetBottom()}getOuterMinContentSize(){const e=this.getSize();return this.isHorizontal?this.container.getInsetLeft()+e[Er.MIN_CONTENT_WIDTH]+this.container.getInsetRight():this.container.getInsetTop()+e[Er.MIN_CONTENT_HEIGHT]+this.container.getInsetBottom()}getOuterSize(){return this.isHorizontal?this.container.getInsetLeft()+this.container.width+this.container.getInsetRight():this.container.getInsetTop()+this.container.height+this.container.getInsetBottom()}}class mu{constructor(e){this.params=e}hasAutoSize(){return this.params.some(e=>e.hasAutoSize())}getOuterMaxContentSize(){const e=this.params.map(e=>e.getOuterMaxContentSize());return Math.max.apply(null,e)*e.length}getOuterMinContentSize(){const e=this.params.map(e=>e.getOuterMinContentSize());return Math.max.apply(null,e)*e.length}getOuterSize(){const e=this.params.map(e=>e.getOuterSize());return Math.max.apply(null,e)*e.length}}class bu extends gu{constructor(e,t,n,i,o,s){super(e,t,n,i,o),this.fixedSize=s}hasAutoSize(){return!1}getOuterMaxContentSize(){return this.getOuterSize()}getOuterMinContentSize(){return this.getOuterSize()}getOuterSize(){return this.isHorizontal?this.container.getInsetLeft()+this.fixedSize+this.container.getInsetRight():this.container.getInsetTop()+this.fixedSize+this.container.getInsetBottom()}}class wu extends Vc{constructor(e,t){super(e,t),this.borderBoxWidth=null,this.borderBoxHeight=null,this.marginTop=null,this.marginRight=null,this.marginBottom=null,this.marginLeft=null}applyCascadeAndInit(e,t){const n=this.cascaded;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(e.match(/^column.*$/)||e.match(/^background-/))&&(n[e]=t[e]);super.applyCascadeAndInit(e,t),this.parentInstance.setPageAreaDimension({borderBoxWidth:this.borderBoxWidth,borderBoxHeight:this.borderBoxHeight,marginTop:this.marginTop,marginRight:this.marginRight,marginBottom:this.marginBottom,marginLeft:this.marginLeft})}initHorizontal(){const e=this.resolvePageBoxDimensions({start:"left",end:"right",extent:"width"});this.borderBoxWidth=e.borderBoxExtent,this.marginLeft=e.marginStart,this.marginRight=e.marginEnd}initVertical(){const e=this.resolvePageBoxDimensions({start:"top",end:"bottom",extent:"height"});this.borderBoxHeight=e.borderBoxExtent,this.marginTop=e.marginStart,this.marginBottom=e.marginEnd}resolvePageBoxDimensions(e){const t=this.style,n=this.pageBox.pageSize,i=this.pageBox.scope,o=e.start,s=e.end,r=e.extent,a=n[r].toExpr(i,null);let l=xc(i,t[r],a),h=xc(i,t[`margin-${o}`],a),c=xc(i,t[`margin-${s}`],a);const u=Ic(i,t[`padding-${o}`],a),d=Ic(i,t[`padding-${s}`],a),p=Ac(i,t[`border-${o}-width`],t[`border-${o}-style`],a),f=Ac(i,t[`border-${s}-width`],t[`border-${s}-style`],a);let g=ut(i,a,ct(i,ct(i,p,u),ct(i,f,d)));return l?(g=ut(i,g,l),h||c?h?c=ut(i,g,h):h=ut(i,g,c):(h=dt(i,g,new rt(i,.5)),c=h)):(h||(h=i.zero),c||(c=i.zero),l=ut(i,g,ct(i,h,c))),t[o]=new Ft(h),t[s]=new Ft(c),t[`margin-${o}`]=Vt,t[`margin-${s}`]=Vt,t[`padding-${o}`]=new Ft(u),t[`padding-${s}`]=new Ft(d),t[`border-${o}-width`]=new Ft(p),t[`border-${s}-width`]=new Ft(f),t[r]=new Ft(l),t[`max-${r}`]=new Ft(l),{borderBoxExtent:ut(i,a,ct(i,h,c)),marginStart:h,marginEnd:c}}prepareContainer(e,t,n,i,o){super.prepareContainer(e,t,n,i,o),n.pageAreaElement=t.element,e.pageAreaWidth=parseFloat(n.pageAreaElement.style.width),e.pageAreaHeight=parseFloat(n.pageAreaElement.style.height)}}class Eu extends Vc{constructor(e,t){super(e,t),this.suppressEmptyBoxGeneration=!0;const n=t.marginBoxName;this.boxInfo=au[n],e.pageMarginBoxInstances[n]=this}prepareContainer(e,t,n,i,o){this.applyVerticalAlign(e,t.element),super.prepareContainer(e,t,n,i,o)}applyVerticalAlign(e,t){U(t,"display","flex");const n=this.getProp(e,"vertical-align");let i=null;n===Ct("middle")?i="center":n===Ct("top")?i="flex-start":n===Ct("bottom")&&(i="flex-end"),i&&(U(t,"flex-flow",this.vertical?"row":"column"),U(t,"justify-content",i))}positionAlongVariableDimension(e,t){const n=this.style,i=this.pageBox.scope,o=e.start,s=e.end,r=e.extent,a="left"===o,l=a?t.borderBoxWidth:t.borderBoxHeight,h=xc(i,n[r],l),c=a?t.marginLeft:t.marginTop;if(this.boxInfo.positionAlongVariableDimension===ru.START)n[o]=new Ft(c);else if(h){const e=Ic(i,n[`margin-${o}`],l),t=Ic(i,n[`margin-${s}`],l),r=Ic(i,n[`padding-${o}`],l),a=Ic(i,n[`padding-${s}`],l),u=Ac(i,n[`border-${o}-width`],n[`border-${o}-style`],l),d=Ac(i,n[`border-${s}-width`],n[`border-${s}-style`],l),p=ct(i,h,ct(i,ct(i,r,a),ct(i,ct(i,u,d),ct(i,e,t))));switch(this.boxInfo.positionAlongVariableDimension){case ru.CENTER:n[o]=new Ft(ct(i,c,pt(i,ut(i,l,p),new rt(i,2))));break;case ru.END:n[o]=new Ft(ut(i,ct(i,c,l),p))}}}positionAndSizeAlongFixedDimension(e,t){const n=this.style,i=this.pageBox.scope,o=e.inside,s=e.outside,r=e.extent,a=t[`margin${s.charAt(0).toUpperCase()}${s.substring(1)}`],l=Pc(i,n[`margin-${o}`],a),h=Pc(i,n[`margin-${s}`],a),c=Ic(i,n[`padding-${o}`],a),u=Ic(i,n[`padding-${s}`],a),d=Ac(i,n[`border-${o}-width`],n[`border-${o}-style`],a),p=Ac(i,n[`border-${s}-width`],n[`border-${s}-style`],a),f=xc(i,n[r],a);let g=null;function m(e){if(g)return g;g={extent:f?f.evaluate(e):null,marginInside:l?l.evaluate(e):null,marginOutside:h?h.evaluate(e):null};const t=a.evaluate(e);let n=0;return[d,c,u,p].forEach(t=>{t&&(n+=t.evaluate(e))}),(null===g.marginInside||null===g.marginOutside)&&n+g.extent+g.marginInside+g.marginOutside>t&&(null===g.marginInside&&(g.marginInside=0),null===g.marginOutside&&(g.marginOutside=0)),null!==g.extent&&null!==g.marginInside&&null!==g.marginOutside&&(g.marginOutside=null),null===g.extent&&null!==g.marginInside&&null!==g.marginOutside?g.extent=t-n-g.marginInside-g.marginOutside:null!==g.extent&&null===g.marginInside&&null!==g.marginOutside?g.marginInside=t-n-g.extent-g.marginOutside:null!==g.extent&&null!==g.marginInside&&null===g.marginOutside?g.marginOutside=t-n-g.extent-g.marginInside:null===g.extent?(g.marginInside=g.marginOutside=0,g.extent=t-n):g.marginInside=g.marginOutside=(t-n-g.extent)/2,g}n[r]=new Ft(new it(i,(function(){const e=m(this).extent;return null===e?0:e}),r)),n[`margin-${o}`]=new Ft(new it(i,(function(){const e=m(this).marginInside;return null===e?0:e}),`margin-${o}`)),n[`margin-${s}`]=new Ft(new it(i,(function(){const e=m(this).marginOutside;return null===e?0:e}),`margin-${s}`)),"left"===o?n.left=new Ft(ct(i,t.marginLeft,t.borderBoxWidth)):"top"===o&&(n.top=new Ft(ct(i,t.marginTop,t.borderBoxHeight)))}initHorizontal(){const e=this.parentInstance.pageAreaDimension;this.boxInfo.isInLeftColumn?this.positionAndSizeAlongFixedDimension({inside:"right",outside:"left",extent:"width"},e):this.boxInfo.isInRightColumn?this.positionAndSizeAlongFixedDimension({inside:"left",outside:"right",extent:"width"},e):this.positionAlongVariableDimension({start:"left",end:"right",extent:"width"},e)}initVertical(){const e=this.parentInstance.pageAreaDimension;this.boxInfo.isInTopRow?this.positionAndSizeAlongFixedDimension({inside:"bottom",outside:"top",extent:"height"},e):this.boxInfo.isInBottomRow?this.positionAndSizeAlongFixedDimension({inside:"top",outside:"bottom",extent:"height"},e):this.positionAlongVariableDimension({start:"top",end:"bottom",extent:"height"},e)}finishContainer(e,t,n,i,o,s,r){super.finishContainer(e,t,n,i,o,s,r);const a=n.marginBoxes,l=this.pageBox.marginBoxName,h=this.boxInfo;h.isInLeftColumn||h.isInRightColumn?h.isInTopRow||h.isInBottomRow||(h.isInLeftColumn?a.left[l]=t:h.isInRightColumn&&(a.right[l]=t)):h.isInTopRow?a.top[l]=t:h.isInBottomRow&&(a.bottom[l]=t)}}class yu{constructor(e,t,n,i,o){this.cascadeInstance=e,this.pageScope=t,this.rootPageBoxInstance=n,this.context=i,this.docElementStyle=o,this.pageMasterCache={},this.definePageProgression()}definePageProgression(){const e=this.pageScope,n=new tt(e,"page-number"),i=new je(e,new Je(e,n,new rt(e,2)),e.zero);e.defineName("recto-page",new Be(e,i)),e.defineName("verso-page",i),(this.context.pageProgression||Xc(this.docElementStyle))===t.PageProgression.LTR?(e.defineName("left-page",i),e.defineName("right-page",new Be(e,i))):(e.defineName("left-page",new Be(e,i)),e.defineName("right-page",i))}getCascadedPageStyle(){const e={};return this.cascadeInstance.pushRule([],"",e),this.cascadeInstance.popRule(),e}getPageRulePageMaster(e,t){const n=e.pageBox;if(0===Object.keys(t).length)return n.resetScope(),e;const i=this.makeCacheKey(t,n);let o=this.pageMasterCache[i];return o||(o=n.pseudoName===Bc?this.generatePageRuleMaster(t):this.generateCascadedPageMaster(t,n),this.pageMasterCache[i]=o),o.pageBox.resetScope(),o}makeCacheKey(e,t){const n=this.makeCascadeValueObjectKey(e);return`${t.key}^${n}`}makeCascadeValueObjectKey(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n];let o;o=i instanceof _o?`${i.value}`:this.makeCascadeValueObjectKey(i),t.push(n+o+(i.priority||""))}return t.sort().join("^")}generatePageRuleMaster(e){const t=new uu(this.pageScope,this.rootPageBoxInstance.pageBox,e).createInstance(this.rootPageBoxInstance);return t.applyCascadeAndInit(this.cascadeInstance,this.docElementStyle),t.resolveAutoSizing(this.context),t}generateCascadedPageMaster(e,t){const n=t.clone({pseudoName:hu}),i=n.specified,o=e.size;if(o){const t=Qc(e),n=o.priority;i.width=Mo(this.context,i.width,new _o(t.width,n)),i.height=Mo(this.context,i.height,new _o(t.height,n))}["counter-reset","counter-increment"].forEach(t=>{i[t]&&(e[t]=i[t])});const s=n.createInstance(this.rootPageBoxInstance);return s.applyCascadeAndInit(this.cascadeInstance,this.docElementStyle),s.resolveAutoSizing(this.context),s}}class Su extends ss{constructor(e){super(),this.pageType=e}apply(e){e.currentPageType===this.pageType&&this.chained.apply(e)}getPriority(){return 3}makePrimary(e){return this.chained&&e.insertInTable(e.pagetypes,this.pageType,this.chained),!0}}class Nu extends ss{constructor(e){super(),this.scope=e}apply(e){1===new tt(this.scope,"page-number").evaluate(e.context)&&this.chained.apply(e)}getPriority(){return 2}}class vu extends ss{constructor(e){super(),this.scope=e}apply(e){new tt(this.scope,"left-page").evaluate(e.context)&&this.chained.apply(e)}getPriority(){return 1}}class Cu extends ss{constructor(e){super(),this.scope=e}apply(e){new tt(this.scope,"right-page").evaluate(e.context)&&this.chained.apply(e)}getPriority(){return 1}}class Tu extends ss{constructor(e){super(),this.scope=e}apply(e){new tt(this.scope,"recto-page").evaluate(e.context)&&this.chained.apply(e)}getPriority(){return 1}}class xu extends ss{constructor(e){super(),this.scope=e}apply(e){new tt(this.scope,"verso-page").evaluate(e.context)&&this.chained.apply(e)}getPriority(){return 1}}class Iu extends os{constructor(e,t){super(e,t,null,null,null)}apply(e){!function(e,t,n,i,o){Zo(e,t,n,i,null,null,null);const s=n[cu];if(s){const n=jo(t,cu);for(const t in s)if(s.hasOwnProperty(t)){let o=n[t];o||(o={},n[t]=o),Zo(e,o,s[t],i,null,null,null)}}}(e.context,e.currentStyle,this.style,this.specificity)}}class Pu extends Qs{constructor(e,t,n,i,o){super(e,t,null,n,null,i,!1),this.pageProps=o,this.currentPageSelectors=[],this.currentNamedPageSelector="",this.currentPseudoPageClassSelectors=[]}startPageRule(){this.startSelectorRule()}tagSelector(e,t){this.currentNamedPageSelector=t,t&&(this.chain.push(new Su(t)),this.specificity+=65536)}pseudoclassSelector(e,t){switch(t&&this.reportAndSkip(`E_INVALID_PAGE_SELECTOR :${e}(${t.join("")})`),this.currentPseudoPageClassSelectors.push(`:${e}`),e.toLowerCase()){case"first":this.chain.push(new Nu(this.scope)),this.specificity+=256;break;case"left":this.chain.push(new vu(this.scope)),this.specificity+=1;break;case"right":this.chain.push(new Cu(this.scope)),this.specificity+=1;break;case"recto":this.chain.push(new Tu(this.scope)),this.specificity+=1;break;case"verso":this.chain.push(new xu(this.scope)),this.specificity+=1;break;default:this.reportAndSkip(`E_INVALID_PAGE_SELECTOR :${e}`)}}finishSelector(){let e;e=this.currentNamedPageSelector||this.currentPseudoPageClassSelectors.length?[this.currentNamedPageSelector].concat(this.currentPseudoPageClassSelectors.sort()):null,this.currentPageSelectors.push({selectors:e,specificity:this.specificity}),this.currentNamedPageSelector="",this.currentPseudoPageClassSelectors=[]}nextSelector(){this.finishSelector(),super.nextSelector()}startRuleBody(){this.finishSelector(),super.startRuleBody()}simpleProperty(e,t,n){if(("bleed"===e||"marks"===e)&&!this.currentPageSelectors.some(e=>null===e.selectors))return;super.simpleProperty(e,t,n);const i=$o(this.elementStyle,e),o=this.pageProps;if("bleed"===e||"marks"===e)o[""]||(o[""]={}),Object.keys(o).forEach(t=>{Wo(o[t],e,i)});else if("size"===e){const t=o[""];this.currentPageSelectors.forEach(n=>{let s=new _o(i.value,i.priority+n.specificity);const r=n.selectors?n.selectors.join(""):"";let a=o[r];if(a){const t=$o(a,e);s=t?Mo(null,s,t):s,Wo(a,e,s)}else a=o[r]={},Wo(a,e,s),t&&["bleed","marks"].forEach(e=>{t[e]&&Wo(a,e,t[e])},this)})}}insertNonPrimary(e){this.cascade.insertInTable(this.cascade.pagetypes,"*",e)}makeApplyRuleAction(e){return new Iu(this.elementStyle,e)}startPageMarginBoxRule(e){const t=jo(this.elementStyle,cu);let n=t[e];n||(n={},t[e]=n);const i=new Au(this.scope,this.owner,this.validatorSet,n);this.owner.pushHandler(i)}}class Au extends ji{constructor(e,t,n,i){super(e,t,!1),this.validatorSet=n,this.boxStyle=i}property(e,t,n){this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)}invalidPropertyValue(e,t){this.report(`E_INVALID_PROPERTY_VALUE ${e}: ${t.toString()}`)}unknownProperty(e,t){this.report(`E_INVALID_PROPERTY ${e}: ${t.toString()}`)}simpleProperty(e,t,n){const i=n?this.getImportantSpecificity():this.getBaseSpecificity(),o=new _o(t,i);Wo(this.boxStyle,e,o)}}const Ou=(e,t,n)=>e.replace(/[uU][rR][lL]\(\s*"((\\([^0-9a-fA-F]+|[0-9a-fA-F]+\s*)|[^"\r\n])+)"/gm,(e,i)=>`url("${n.transformURL(i,t)}"`).replace(/[uU][rR][lL]\(\s*'((\\([^0-9a-fA-F]+|[0-9a-fA-F]+\s*)|[^'\r\n])+)'/gm,(e,i)=>`url('${n.transformURL(i,t)}'`).replace(/[uU][rR][lL]\(\s*((\\([^0-9a-fA-F]+|[0-9a-fA-F]+\s*)|[^"'\r\n\)\s])+)/gm,(e,i)=>`url(${n.transformURL(i,t)}`),Ru={},Lu={"text-indent":"0px","margin-top":"0px","padding-top":"0px","border-top-width":"0px","border-top-style":"none","border-top-color":"transparent","border-top-left-radius":"0px","border-top-right-radius":"0px"},ku={"text-indent":"0px","margin-right":"0px","padding-right":"0px","border-right-width":"0px","border-right-style":"none","border-right-color":"transparent","border-top-right-radius":"0px","border-bottom-right-radius":"0px"},Fu={"margin-top":"0px"},Du={"margin-right":"0px"};class _u extends te{constructor(e,t,n,i,o,s,r,a,l,h,c,u,d){super(),this.flowName=e,this.context=t,this.viewport=n,this.styler=i,this.regionIds=o,this.xmldoc=s,this.docFaces=r,this.footnoteStyle=a,this.stylerProducer=l,this.page=h,this.customRenderer=c,this.fallbackMap=u,this.documentURLTransformer=d,this.nodeContext=null,this.viewRoot=null,this.isFootnote=!1,this.sourceNode=null,this.offsetInNode=0,this.viewNode=null,this.document=n.document,this.exprContentListener=i.counterListener.getExprContentListener()}clone(){return new _u(this.flowName,this.context,this.viewport,this.styler,this.regionIds,this.xmldoc,this.docFaces,this.footnoteStyle,this.stylerProducer,this.page,this.customRenderer,this.fallbackMap,this.documentURLTransformer)}createPseudoelementShadow(e,t,n,i,o,s,r,a){const l=this.getPseudoMap(n,this.regionIds,this.isFootnote,this.nodeContext,s);if(!l)return a;const h=[],c=ul.createElementNS(L.SHADOW,"root");let u=c;for(const e of dl){let n;if(e){if(!l[e])continue;if(!("footnote-marker"!=e||t&&this.isFootnote))continue;if(e.match(/^first-/)){const e=i.display;if(!e||e===Bt.inline)continue}if("before"===e||"after"===e){const t=l[e].content;if(!t||t===Bt.normal||t===Bt.none)continue}h.push(e),n=ul.createElementNS(L.XHTML,"span"),gl(n,e)}else n=ul.createElementNS(L.SHADOW,"content");u.appendChild(n),e.match(/^first-/)&&(u=n)}if(!h.length)return a;const d=new ml(e,n,o,s,this.exprContentListener);return new ha(e,c,null,r,a,la.ROOTLESS,d)}getPseudoMap(e,t,n,i,o){const s=Xo(e,"_pseudos");if(!s)return null;const r={};for(const e in s){const i=r[e]={};dr(i,s[e],o),rr(i,o,s[e]),ur(s[e],t,n,(e,t)=>{dr(i,t,o),sr(t,e=>{dr(i,e,o)})})}return r}createRefShadow(e,t,n,i,o){const s=this,r=pi("createRefShadow");return s.xmldoc.store.load(e).then(a=>{const l=a;if(l){const r=l.getElement(e);if(r){const e=s.stylerProducer.getStylerForDoc(l);o=new ha(n,r,l,i,o,t,e)}}r.finish(o)}),r.result()}createShadows(e,t,n,i,o,s,r){const a=this,l=pi("createShadows"),h=i.template;let c;if(h instanceof At){const t=h.url;c=a.createRefShadow(t,la.ROOTLESS,e,r,null)}else c=fi(null);return c.then(h=>{let c=null;if(e.namespaceURI==L.SHADOW&&"include"==e.localName){let t=e.getAttribute("href"),n=null;t?n=r?r.xmldoc:a.xmldoc:r&&(t=r.owner.namespaceURI==L.XHTML?r.owner.getAttribute("href"):r.owner.getAttributeNS(L.XLINK,"href"),n=r.parentShadow?r.parentShadow.xmldoc:a.xmldoc),t&&(t=O(t,n.url),c=a.createRefShadow(t,la.ROOTED,e,r,h))}null==c&&(c=fi(h));let u=null;c.then(t=>{if(i.display===Bt.table_cell){const n=O("user-agent.xml#table-cell",P);u=a.createRefShadow(n,la.ROOTLESS,e,r,t)}else u=fi(t)}),u.then(h=>{h=a.createPseudoelementShadow(e,t,n,i,o,s,r,h),l.finish(h)})}),l.result()}setViewRoot(e,t){this.viewRoot=e,this.isFootnote=t}computeStyle(e,t,n,i){const o=this.context,s=cr(n,o,this.regionIds,this.isFootnote,this.nodeContext);e=lr(s,o,e),t=hr(s,o,t);const r=this;pr(s,i,e,t,(e,t)=>{let n=t.evaluate(o,e);return"font-family"==e&&(n=r.docFaces.filterFontFamily(n)),n});const a=i.position,l=i.float,h=Qa(i.display||Bt.inline,a,l,this.sourceNode===this.xmldoc.root);return["display","position","float"].forEach(e=>{h[e]&&(i[e]=h[e])}),e}inheritFromSourceParent(e){let t=this.nodeContext.sourceNode;const n=[];let i=null,o=this.nodeContext.shadowContext,s=-1;for(;t&&1==t.nodeType;){const e=o&&o.root==t;if(!e||o.type==la.ROOTLESS){const e=(o?o.styler:this.styler).getStyle(t,!1);n.push(e),i=i||V(t)}e?(t=o.owner,o=o.parentShadow):(t=t.parentNode,s++)}const r=0===s,a=this.context.queryUnitSize("em",r),l={"font-size":new _o(new Tt(a,"px"),0)},h=new Jo(l,this.context);for(let e=n.length-1;e>=0;--e){const t=n[e],i=[];for(const e in t)Go(e)&&i.push(e);i.sort(Gt);for(const e of i){h.setPropName(e);const n=$o(t,e);n.value!==Bt.inherit&&(l[e]=n.filterValue(h))}}for(const t in e)Go(t)||(l[t]=e[t]);return{lang:i,elementStyle:l}}resolveURL(e){return e=O(e,this.xmldoc.url),this.fallbackMap[e]||e}inheritLangAttribute(){this.nodeContext.lang=V(this.nodeContext.sourceNode)||this.nodeContext.parent&&this.nodeContext.parent.lang||this.nodeContext.lang}transferPolyfilledInheritedProps(e){const n=p(t.HOOKS.POLYFILLED_INHERITED_PROPS).reduce((e,t)=>e.concat(t()),[].concat(xo)).filter(t=>e[t]);if(n.length){let t=this.nodeContext.inheritedProps;if(this.nodeContext.parent){t=this.nodeContext.inheritedProps={};for(const e in this.nodeContext.parent.inheritedProps)t[e]=this.nodeContext.parent.inheritedProps[e]}n.forEach(n=>{const i=e[n];if(i){if(i instanceof It)t[n]=i.num;else if(i instanceof vt)t[n]=i.name;else if(i instanceof Tt){const e=i;switch(e.unit){case"dpi":case"dpcm":case"dppx":t[n]=e.num*Ie[e.unit]}}else t[n]=i;delete e[n]}})}}resolveFormattingContext(e,n,i,o,s,r){const a=p(t.HOOKS.RESOLVE_FORMATTING_CONTEXT);for(let t=0;t<a.length;t++){const l=a[t](e,n,i,o,s,r);if(l)return void(e.formattingContext=l)}}createElementView(e,t){const n=this;let i=!0;const o=pi("createElementView");let s=n.sourceNode;const r=n.nodeContext.shadowContext?n.nodeContext.shadowContext.styler:n.styler;let a=r.getStyle(s,!1);if(!n.nodeContext.shadowContext){const e=this.xmldoc.getElementOffset(s);vo.registerFragmentIndex(e,n.nodeContext.fragmentIndex,0)}const l={};if(!n.nodeContext.parent){const e=n.inheritFromSourceParent(a);a=e.elementStyle,n.nodeContext.lang=e.lang}const h=a["float-reference"]&&function(e){switch(e){case"inline":return ya.INLINE;case"column":return ya.COLUMN;case"region":return ya.REGION;case"page":return ya.PAGE;default:throw new Error(`Unknown float-reference: ${e}`)}}(a["float-reference"].value.toString());if(n.nodeContext.parent&&h&&Sa(h)){const e=n.inheritFromSourceParent(a);a=e.elementStyle,n.nodeContext.lang=e.lang}n.nodeContext.vertical=n.computeStyle(n.nodeContext.vertical,"rtl"===n.nodeContext.direction,a,l),r.processContent(s,l),this.transferPolyfilledInheritedProps(l),this.inheritLangAttribute(),l.direction&&(n.nodeContext.direction=l.direction.toString());const c=l["flow-into"];if(c&&c.toString()!=n.flowName)return o.finish(!1),o.result();let u=l.display;if(u===Bt.none)return o.finish(!1),o.result();const d=null==n.nodeContext.parent;return n.nodeContext.flexContainer=u===Bt.flex,n.createShadows(s,d,a,l,r,n.context,n.nodeContext.shadowContext).then(c=>{n.nodeContext.nodeShadow=c;const p=l.position;let f=l.float,g=l.clear;const m=n.nodeContext.vertical?Bt.vertical_rl:Bt.horizontal_tb,b=n.nodeContext.parent?n.nodeContext.parent.vertical?Bt.vertical_rl:Bt.horizontal_tb:m,w=function(e){return"true"===e.getAttribute(Ya)}(s);n.nodeContext.establishesBFC=function(e,t,n,i,o,s,r){return o=o||s||Bt.horizontal_tb,!!r||!!n&&n!==Bt.none||Za(t)||e===Bt.inline_block||e===Bt.table_cell||e===Bt.table_caption||e==Bt.flex||(e===Bt.block||e===Bt.list_item)&&!!i&&i!==Bt.visible||!!s&&o!==s}(u,p,f,l.overflow,m,b,w),n.nodeContext.containingBlockForAbsolute=function(e){return e===Bt.relative||e===Bt.absolute||e===Bt.fixed}(p),!n.nodeContext.isInsideBFC()||f===Bt.footnote||h&&Sa(h)||(f=null,g=null);let E=f===Bt.left||f===Bt.right||f===Bt.top||f===Bt.bottom||f===Bt.inline_start||f===Bt.inline_end||f===Bt.block_start||f===Bt.block_end||f===Bt.snap_block||f===Bt.footnote;f&&(delete l.float,f===Bt.footnote&&(n.isFootnote?(E=!1,l.display=Bt.block):l.display=Bt.inline)),g&&(g===Bt.inherit&&n.nodeContext.parent&&n.nodeContext.parent.clearSide&&(g=Ct(n.nodeContext.parent.clearSide)),g!==Bt.left&&g!==Bt.right&&g!==Bt.top&&g!==Bt.bottom&&g!==Bt.both&&g!==Bt.all&&g!==Bt.same||(delete l.clear,l.display&&l.display!=Bt.inline&&(n.nodeContext.clearSide=g.toString())));const y=u===Bt.list_item&&l["ua-list-item-count"];if((E||l["break-inside"]&&l["break-inside"]!==Bt.auto)&&n.nodeContext.breakPenalty++,u&&u!==Bt.inline&&el(u)&&n.nodeContext.breakPenalty++,n.nodeContext.inline=!E&&!u||el(u)||function(e){switch(e.toString()){case"ruby-base":case"ruby-text":case"ruby-base-container":case"ruby-text-container":return!0;default:return!1}}(u),n.nodeContext.display=u?u.toString():"inline",n.nodeContext.floatSide=E?f.toString():null,n.nodeContext.floatReference=h||ya.INLINE,n.nodeContext.floatMinWrapBlock=l["float-min-wrap-block"]||null,n.nodeContext.columnSpan=l["column-span"],!n.nodeContext.inline){const e=l["break-after"];e&&(n.nodeContext.breakAfter=e.toString());const t=l["break-before"];t&&(n.nodeContext.breakBefore=t.toString())}n.nodeContext.verticalAlign=l["vertical-align"]&&l["vertical-align"].toString()||"baseline",n.nodeContext.captionSide=l["caption-side"]&&l["caption-side"].toString()||"top";const S=l["border-collapse"];if(!S||S===Ct("separate")){const e=l["border-spacing"];let t,i;e&&(e.isSpaceList()?(t=e.values[0],i=e.values[1]):t=i=e,t.isNumeric()&&(n.nodeContext.inlineBorderSpacing=Dt(t,n.context)),i.isNumeric()&&(n.nodeContext.blockBorderSpacing=Dt(i,n.context)))}n.nodeContext.footnotePolicy=l["footnote-policy"];const N=l["x-first-pseudo"];if(N){const e=n.nodeContext.parent?n.nodeContext.parent.firstPseudo:null;n.nodeContext.firstPseudo=new ua(e,N.num)}n.nodeContext.inline||n.processAfterIfcontinues(s,a,r,n.context);const v=l["white-space"];if(v){const e=Qr(v.toString());null!==e&&(n.nodeContext.whitespace=e)}const C=l["hyphenate-character"];C&&C!==Bt.auto&&(n.nodeContext.hyphenateCharacter=C.str);const T=l["word-break"],x=l["overflow-wrap"]||["word-wrap"];n.nodeContext.breakWord=T===Bt.break_all||x===Bt.break_word,n.resolveFormattingContext(n.nodeContext,e,u,p,f,d),n.nodeContext.parent&&n.nodeContext.parent.formattingContext&&(e=n.nodeContext.parent.formattingContext.isFirstTime(n.nodeContext,e)),n.nodeContext.inline||(n.nodeContext.repeatOnBreak=n.processRepeatOnBreak(l),n.findAndProcessRepeatingElements(s,r));let I=!1,P=null;const A=[];let O,R=s.namespaceURI,k=s.localName;if(R==L.XHTML)"html"==k||"body"==k||"script"==k||"link"==k||"meta"==k?k="div":"vide_"==k?k="video":"audi_"==k?k="audio":"object"==k&&(I=!!n.customRenderer),s.getAttribute(pl)&&a.content&&a.content.value&&a.content.value.url&&(k="img");else if(R==L.epub)k="span",R=L.XHTML;else if(R==L.FB2){if(R=L.XHTML,"image"==k){k="div";const e=s.getAttributeNS(L.XLINK,"href");if(e&&"#"==e.charAt(0)){const t=n.xmldoc.getElement(e);if(t){P=n.createElement(R,"img");const e=`data:${t.getAttribute("content-type")||"image/jpeg"};base64,${t.textContent.replace(/[ \t\n\t]/g,"")}`;A.push(Pi(P,e))}}}else k=Bu[k];k||(k=n.nodeContext.inline?"span":"div")}else if(R==L.NCX)if(R=L.XHTML,"ncx"==k||"navPoint"==k)k="div";else if("navLabel"==k){k="span";const e=s.parentNode;if(e){let t=null;for(let n=e.firstChild;n;n=n.nextSibling){if(1!=n.nodeType)continue;const e=n;if(e.namespaceURI==L.NCX&&"content"==e.localName){t=e.getAttribute("src");break}}t&&(k="a",s=s.ownerDocument.createElementNS(R,"a"),s.setAttribute("href",t))}}else k="span";else R==L.SHADOW?(R=L.XHTML,k=n.nodeContext.inline?"span":"div"):I=!!n.customRenderer;if(y)e?k="li":(k="div",u=Bt.block,l.display=u);else if("body"==k||"li"==k)k="div";else if("q"==k)k="span";else if("a"==k){const e=l["hyperlink-processing"];e&&"normal"!=e.toString()&&(k="span")}if(l.behavior&&"none"!=l.behavior.toString()&&n.customRenderer&&(I=!0),s.dataset&&"true"===s.getAttribute("data-math-typeset")&&(I=!0),I){const e=n.nodeContext.parent?n.nodeContext.parent.viewNode:null;O=n.customRenderer(s,e,l)}else O=fi(null);O.then(r=>{r?I&&(i="true"==r.getAttribute("data-adapt-process-children")):r=n.createElement(R,k),"a"==k&&r.addEventListener("click",n.page.hrefHandler,!1),P&&(n.applyPseudoelementStyle(n.nodeContext,"inner",P),r.appendChild(P)),"iframe"==r.localName&&r.namespaceURI==L.XHTML&&function(e){e.addEventListener("load",()=>{e.contentWindow.navigator.epubReadingSystem={name:"adapt",version:"0.1",layoutStyle:"paginated",hasFeature:function(e,t){switch(e){case"mouse-events":return!0}return!1}}},!1)}(r);const a=n.nodeContext.inheritedProps["image-resolution"],h=[],c=l.width,u=l.height,d=s.getAttribute("width"),p=s.getAttribute("height"),f=c===Bt.auto||!c&&!d,g=u===Bt.auto||!u&&!p;if(s.namespaceURI!=L.FB2||"td"==k){const t=s.attributes,i=t.length;let o=null;for(let s=0;s<i;s++){const i=t[s],a=i.namespaceURI;let l=i.localName,c=i.nodeValue;if(a){if("http://www.w3.org/2000/xmlns/"==a)continue;a==L.XLINK&&"href"==l&&(c=n.resolveURL(c))}else{if(l.match(/^on/))continue;if("style"==l)continue;if(("id"==l||"name"==l)&&e){c=n.documentURLTransformer.transformFragment(c,n.xmldoc.url),r.setAttribute(l,c),n.page.registerElementWithId(r,c);continue}if("src"==l||"href"==l||"poster"==l?(c=n.resolveURL(c),"href"===l&&(c=n.documentURLTransformer.transformURL(c,n.xmldoc.url))):"srcset"==l&&(c=c.split(",").map(e=>n.resolveURL(e.trim())).join(",")),"poster"===l&&"video"===k&&R===L.XHTML&&f&&g){const e=new Image,t=Pi(e,c);A.push(t),h.push({image:e,element:r,fetcher:t})}}if(R==L.SVG&&/^[A-Z\-]+$/.test(l)&&(l=l.toLowerCase()),n.isSVGUrlAttribute(l)&&(c=Ou(c,n.xmldoc.url,n.documentURLTransformer)),a){const e=Ru[a];e&&(l=`${e}:${l}`)}"src"!=l||a||"img"!=k&&"input"!=k||R!=L.XHTML?"href"==l&&"image"==k&&R==L.SVG&&a==L.XLINK?n.page.fetchers.push(Pi(r,c)):a?r.setAttributeNS(a,l,c):r.setAttribute(l,c):o=c}if(o){const e="input"===k?new Image:r,t=Pi(e,o);e!==r&&(r.src=o),f||g?(f&&g&&a&&1!==a&&h.push({image:e,element:r,fetcher:t}),A.push(t)):n.page.fetchers.push(t)}}delete l.content;const m=l["list-style-image"];if(m&&m instanceof At){const e=m.url;A.push(Pi(new Image,e))}if(n.preprocessElementStyle(l),n.applyComputedStyles(r,l),!n.nodeContext.inline){let i=null;if(e?t&&(i=n.nodeContext.vertical?Du:Fu):i="clone"!==n.nodeContext.inheritedProps["box-decoration-break"]?n.nodeContext.vertical?ku:Lu:n.nodeContext.vertical?Du:Fu,i)for(const e in i)U(r,e,i[e])}y&&r.setAttribute("value",l["ua-list-item-count"].stringValue()),n.viewNode=r,A.length?Ii(A).then(()=>{a>0&&n.modifyElemDimensionWithImageResolution(h,a,l,n.nodeContext.vertical),o.finish(i)}):o.timeSlice().then(()=>{o.finish(i)})})}),o.result()}processAfterIfcontinues(e,t,n,i){const o=this.getPseudoMap(t,this.regionIds,this.isFootnote,this.nodeContext,i);if(o&&o["after-if-continues"]&&o["after-if-continues"].content){const o=new ml(e,t,n,i,this.exprContentListener);this.nodeContext.afterIfContinues=new wl(e,o)}}isSVGUrlAttribute(e){return _u.SVG_URL_ATTRIBUTES.includes(e.toLowerCase())}modifyElemDimensionWithImageResolution(e,t,n,i){const o=this;e.forEach(e=>{if("load"===e.fetcher.get().get()){const s=e.image;let r=s.width/t,a=s.height/t;const l=e.element;if(r>0&&a>0)if(n["box-sizing"]===Bt.border_box&&(n["border-left-style"]!==Bt.none&&(r+=Dt(n["border-left-width"],o.context)),n["border-right-style"]!==Bt.none&&(r+=Dt(n["border-right-width"],o.context)),n["border-top-style"]!==Bt.none&&(a+=Dt(n["border-top-width"],o.context)),n["border-bottom-style"]!==Bt.none&&(a+=Dt(n["border-bottom-width"],o.context))),t>1){const e=n["max-width"]||Bt.none,t=n["max-height"]||Bt.none;if(e===Bt.none&&t===Bt.none)U(l,"max-width",`${r}px`);else if(e!==Bt.none&&t===Bt.none)U(l,"width",`${r}px`);else if(e===Bt.none&&t!==Bt.none)U(l,"height",`${a}px`);else{e.isNumeric(),t.isNumeric();const n=e,s=t;"%"!==n.unit?U(l,"max-width",`${Math.min(r,Dt(n,o.context))}px`):"%"!==s.unit?U(l,"max-height",`${Math.min(a,Dt(s,o.context))}px`):i?U(l,"height",`${a}px`):U(l,"width",`${r}px`)}}else if(t<1){const e=n["min-width"]||Vt,t=n["min-height"]||Vt;e.isNumeric(),e.isNumeric();const s=e,h=t;0===s.num&&0===h.num?U(l,"min-width",`${r}px`):0!==s.num&&0===h.num?U(l,"width",`${r}px`):0===s.num&&0!==h.num?U(l,"height",`${a}px`):"%"!==s.unit?U(l,"min-width",`${Math.max(r,Dt(s,o.context))}px`):"%"!==h.unit?U(l,"min-height",`${Math.max(a,Dt(h,o.context))}px`):i?U(l,"height",`${a}px`):U(l,"width",`${r}px`)}}})}preprocessElementStyle(e){const n=this;p(t.HOOKS.PREPROCESS_ELEMENT_STYLE).forEach(t=>{t(n.nodeContext,e)})}findAndProcessRepeatingElements(e,t){for(let n=e.firstChild;n;n=n.nextSibling){if(1!==n.nodeType)continue;const e={},i=t.getStyle(n,!1);if(this.computeStyle(this.nodeContext.vertical,"rtl"===this.nodeContext.direction,i,e),!this.processRepeatOnBreak(e))continue;if(this.nodeContext.formattingContext instanceof Dl&&!this.nodeContext.belongsTo(this.nodeContext.formattingContext))return;const o=this.nodeContext.parent,s=o&&o.formattingContext;return this.nodeContext.formattingContext=new Dl(s,this.nodeContext.sourceNode),void this.nodeContext.formattingContext.initializeRepetitiveElements(this.nodeContext.vertical)}}processRepeatOnBreak(e){let t=e["repeat-on-break"];return t!==Bt.none&&(t===Bt.auto&&(t=e.display===Bt.table_header_group?Bt.header:e.display===Bt.table_footer_group?Bt.footer:Bt.none),t&&t!==Bt.none)?t.toString():null}createTextNodeView(){const e=this,t=pi("createTextNodeView");return this.preprocessTextContent().then(()=>{const n=e.offsetInNode||0,i=Vr(e.nodeContext.preprocessedTextContent).substr(n);e.viewNode=document.createTextNode(i),t.finish(!0)}),t.result()}preprocessTextContent(){if(null!=this.nodeContext.preprocessedTextContent)return fi(!0);const e=this;let n,i=n=e.sourceNode.textContent;const o=pi("preprocessTextContent"),s=p(t.HOOKS.PREPROCESS_TEXT_CONTENT);let r=0;return o.loop(()=>r>=s.length?fi(!1):s[r++](e.nodeContext,i).thenAsync(e=>(i=e,fi(!0)))).then(()=>{e.nodeContext.preprocessedTextContent=function(e,t){return zr(e,t,0)}(n,i),o.finish(!0)}),o.result()}createNodeView(e,t){const n=this,i=pi("createNodeView");let o,s=!0;return 1==n.sourceNode.nodeType?o=n.createElementView(e,t):8==n.sourceNode.nodeType?(n.viewNode=null,o=fi(!0)):o=n.createTextNodeView(),o.then(e=>{if(s=e,n.nodeContext.viewNode=n.viewNode,n.viewNode){const e=n.nodeContext.parent?n.nodeContext.parent.viewNode:n.viewRoot;e&&e.appendChild(n.viewNode)}i.finish(s)}),i.result()}setCurrent(e,t,n){return this.nodeContext=e,e?(this.sourceNode=e.sourceNode,this.offsetInNode=e.offsetInNode):(this.sourceNode=null,this.offsetInNode=-1),this.viewNode=null,this.nodeContext?this.createNodeView(t,!!n):fi(!0)}processShadowContent(e){if(null==e.shadowContext||"content"!=e.sourceNode.localName||e.sourceNode.namespaceURI!=L.SHADOW)return e;const t=e.boxOffset,n=e.shadowContext,i=e.parent;let o,s,r;n.subShadow?(r=n.subShadow,o=n.root,s=n.type,s==la.ROOTLESS&&(o=o.firstChild)):(r=n.parentShadow,o=n.owner.firstChild,s=la.ROOTLESS);const a=e.sourceNode.nextSibling;if(a?(e.sourceNode=a,e.resetView()):e.shadowSibling?e=e.shadowSibling:o?e=null:(e=e.parent.modify()).after=!0,o){const n=new da(o,i,t);return n.shadowContext=r,n.shadowType=s,n.shadowSibling=e,n}return e.boxOffset=t,e}nextPositionInTree(e){let t=e.boxOffset+1;if(e.after){if(!e.parent)return null;if(e.shadowType!=la.ROOTED){const n=e.sourceNode.nextSibling;if(n)return(e=e.modify()).boxOffset=t,e.sourceNode=n,e.resetView(),this.processShadowContent(e)}return e.shadowSibling?((e=e.shadowSibling.modify()).boxOffset=t,e):((e=e.parent.modify()).boxOffset=t,e.after=!0,e)}{if(e.nodeShadow){let n=e.nodeShadow.root;if(e.nodeShadow.type==la.ROOTLESS&&(n=n.firstChild),n){const i=new da(n,e,t);return i.shadowContext=e.nodeShadow,i.shadowType=e.nodeShadow.type,this.processShadowContent(i)}}const n=e.sourceNode.firstChild;return n?this.processShadowContent(new da(n,e,t)):(1!=e.sourceNode.nodeType&&(t+=Vr(e.preprocessedTextContent).length-1-e.offsetInNode),(e=e.modify()).boxOffset=t,e.after=!0,e)}}isTransclusion(e,t,n){const i=$o(t,"hyperlink-processing");if(!i)return!1;const o=i.evaluate(this.context,"hyperlink-processing");return!!o&&o.toString()==n}nextInTree(e,t){let n=this.nextPositionInTree(e);if(!n||n.after)return fi(n);const i=pi("nextInTree");return this.setCurrent(n,!0,t).then(e=>{n.viewNode&&e||(n=n.modify(),n.after=!0,n.viewNode||(n.inline=!0)),this.dispatchEvent({type:"nextInTree",nodeContext:n}),i.finish(n)}),i.result()}addImageFetchers(e){if(e instanceof Lt){const t=e.values;for(let e=0;e<t.length;e++)this.addImageFetchers(t[e])}else if(e instanceof At){const t=e.url;this.page.fetchers.push(Pi(new Image,t))}}applyComputedStyles(e,t){const n=t["background-image"];n&&this.addImageFetchers(n);const i=t.position===Bt.relative;for(const n in t){if(Mu[n])continue;let o=t[n];o=o.visit(new yn(this.xmldoc.url,this.documentURLTransformer)),o.isNumeric()&&Pe(o.unit)&&(o=_t(o,this.context)),$r[n]||i&&Wr[n]?this.page.delayedItems.push(new Xr(e,n,o)):U(e,n,o.toString())}}applyPseudoelementStyle(e,t,n){if(e.after)return;const i=this.sourceNode;let o=(e.shadowContext?e.shadowContext.styler:this.styler).getStyle(i,!1);const s=Xo(o,"_pseudos");if(!s)return;if(o=s[t],!o)return;const r={};e.vertical=this.computeStyle(e.vertical,"rtl"===e.direction,o,r);const a=r.content;Ea(a)&&(a.visit(new wa(n,this.context,a,this.exprContentListener)),delete r.content),this.applyComputedStyles(n,r)}peelOff(e,t){const n=pi("peelOff"),i=e.firstPseudo;let o=e.offsetInNode;const s=e.after;if(t>0){const n=e.viewNode.textContent;e.viewNode.textContent=n.substr(0,t),o+=t}else if(!s&&e.viewNode&&0==o){const t=e.viewNode.parentNode;t&&t.removeChild(e.viewNode)}const r=e.boxOffset+t,a=[];for(;e.firstPseudo===i;)a.push(e),e=e.parent;let l=a.pop(),h=l.shadowSibling;const c=this;return n.loop(()=>{for(;a.length>0;){l=a.pop(),e=new da(l.sourceNode,e,r),0==a.length&&(e.offsetInNode=o,e.after=s),e.shadowType=l.shadowType,e.shadowContext=l.shadowContext,e.nodeShadow=l.nodeShadow,e.shadowSibling=l.shadowSibling?l.shadowSibling:h,h=null;const t=c.setCurrent(e,!1);if(t.isPending())return t}return fi(!1)}).then(()=>{n.finish(e)}),n.result()}createElement(e,t){return e==L.XHTML?this.document.createElement(t):this.document.createElementNS(e,t)}applyFootnoteStyle(e,t,n){const i={},o=Xo(this.footnoteStyle,"_pseudos");if(e=this.computeStyle(e,t,this.footnoteStyle,i),o&&o.before){const i={},s=this.createElement(L.XHTML,"span");gl(s,"before"),n.appendChild(s),this.computeStyle(e,t,o.before,i),delete i.content,this.applyComputedStyles(s,i)}return delete i.content,this.applyComputedStyles(n,i),e}processFragmentedBlockEdge(e){e&&e.walkUpBlocks(e=>{const t=e.inheritedProps["box-decoration-break"];if(!t||"slice"===t){const t=e.viewNode;e.vertical?(U(t,"padding-left","0"),U(t,"border-left","none"),U(t,"border-top-left-radius","0"),U(t,"border-bottom-left-radius","0")):(U(t,"padding-bottom","0"),U(t,"border-bottom","none"),U(t,"border-bottom-left-radius","0"),U(t,"border-bottom-right-radius","0"))}})}convertLengthToPx(e,t,n){const i=e.num,o=e.unit;if(function(e){switch(e.toLowerCase()){case"em":case"ex":case"rem":return!0;default:return!1}}(o)){let i=t;for(;i&&1!==i.nodeType;)i=i.parentNode;const o=parseFloat(n.getElementComputedStyle(i)["font-size"]);return this.context,es(e,o,this.context).num}{const t=this.context.queryUnitSize(o,!1);return t?i*t:e}}isSameNodePositionStep(e,t){if(e.shadowContext){if(!t.shadowContext)return!1;const n=1===e.node.nodeType?e.node:e.node.parentElement,i=1===t.node.nodeType?t.node:t.node.parentElement;return e.shadowContext.owner===t.shadowContext.owner&&fl(n)===fl(i)}return e.node===t.node}isSameNodePosition(e,t){return e.offsetInNode===t.offsetInNode&&e.after==t.after&&e.steps.length===t.steps.length&&e.steps.every((e,n)=>{const i=t.steps[n];return this.isSameNodePositionStep(e,i)})}isPseudoelement(e){return!!fl(e)}}_u.SVG_URL_ATTRIBUTES=["color-profile","clip-path","cursor","filter","marker","marker-start","marker-end","marker-mid","fill","stroke","mask"];const Bu={a:"a",sub:"sub",sup:"sup",table:"table",tr:"tr",td:"td",th:"th",code:"code",body:"div",p:"p",v:"p",date:"p",emphasis:"em",strong:"strong",style:"span",strikethrough:"del"},Mu={"box-decoration-break":!0,"float-min-wrap-block":!0,"float-reference":!0,"flow-into":!0,"flow-linger":!0,"flow-options":!0,"flow-priority":!0,"footnote-policy":!0,page:!0};class Uu{constructor(e){this.layoutBox=e.layoutBox,this.window=e.window}subtractOffsets(e,t){const n=t.left,i=t.top;return{left:e.left-n,top:e.top-i,right:e.right-n,bottom:e.bottom-i,width:e.width,height:e.height}}getRangeClientRects(e){const t=e.getClientRects(),n=this.layoutBox.getBoundingClientRect();return Array.from(t).map(e=>this.subtractOffsets(e,n))}getElementClientRect(e){const t=e.getBoundingClientRect(),n=this.layoutBox.getBoundingClientRect();return this.subtractOffsets(t,n)}getElementComputedStyle(e){return this.window.getComputedStyle(e,null)}}class zu{constructor(e,t,n,i,o){this.window=e,this.fontSize=t,this.document=e.document,this.root=n||this.document.body;let s=this.root.firstElementChild;s||(s=this.document.createElement("div"),s.setAttribute("data-vivliostyle-outer-zoom-box","true"),this.root.appendChild(s));let r=s.firstElementChild;r||(r=this.document.createElement("div"),r.setAttribute("data-vivliostyle-spread-container","true"),s.appendChild(r));let a=s.nextElementSibling;a||(a=this.document.createElement("div"),a.setAttribute("data-vivliostyle-layout-box","true"),this.root.appendChild(a)),this.outerZoomBox=s,this.contentContainer=r,this.layoutBox=a;const l=new Uu(this).getElementComputedStyle(this.root);this.width=i||parseFloat(l.width)||e.innerWidth,this.height=o||parseFloat(l.height)||e.innerHeight}resetZoom(){U(this.outerZoomBox,"width",""),U(this.outerZoomBox,"height",""),U(this.contentContainer,"width",""),U(this.contentContainer,"height",""),U(this.contentContainer,"transform","")}zoom(e,t,n){U(this.outerZoomBox,"width",`${e*n}px`),U(this.outerZoomBox,"height",`${t*n}px`),U(this.contentContainer,"width",`${e}px`),U(this.contentContainer,"height",`${t}px`),U(this.contentContainer,"transform",`scale(${n})`)}clear(){const e=this.root;for(;e.lastChild;)e.removeChild(e.lastChild)}}const Vu="data-adapt-eloff";class Hu{constructor(e,t,n){this.store=e,this.url=t,this.document=n,this.lang=null,this.totalOffset=-1,this.lastOffset=1,this.root=n.documentElement;let i=null,o=null;if(this.root.namespaceURI==L.XHTML){for(let e=this.root.firstChild;e;e=e.nextSibling){if(1!=e.nodeType)continue;const t=e;if(t.namespaceURI==L.XHTML)switch(t.localName){case"head":o=t;break;case"body":i=t}}this.lang=this.root.getAttribute("lang")}else if(this.root.namespaceURI==L.FB2){o=this.root;for(let e=this.root.firstChild;e;e=e.nextSibling){if(1!=e.nodeType)continue;const t=e;t.namespaceURI==L.FB2&&"body"==t.localName&&(i=t)}const e=this.doc().child("FictionBook").child("description").child("title-info").child("lang").textContent();e.length>0&&(this.lang=e[0])}else if(this.root.namespaceURI==L.SSE)for(let e=this.root.firstElementChild;e;e=e.nextElementSibling){const t=e.localName;"meta"===t?o=e:"body"===t&&(i=e)}this.body=i,this.head=o,this.last=this.root,this.last.setAttribute(Vu,"0")}doc(){return new Ku([this.document])}getElementOffset(e){const t=e.getAttribute(Vu);if(t)return parseInt(t,10);let n=this.lastOffset,i=this.last;for(;i!=e;){let e=i.firstChild;if(!e)for(;e=i.nextSibling,!e;)if(i=i.parentNode,null==i)throw new Error("Internal error");i=e,1==e.nodeType?(e.setAttribute(Vu,n.toString()),++n):n+=e.textContent.length}return this.lastOffset=n,this.last=e,n-1}getNodeOffset(e,t,n){let i=0,o=e,s=null;if(1==o.nodeType){if(!n)return this.getElementOffset(o)}else{if(i=t,s=o.previousSibling,!s)return o=o.parentNode,i+=1,this.getElementOffset(o)+i;o=s}for(;;){for(;o.lastChild;)o=o.lastChild;if(1==o.nodeType)break;if(i+=o.textContent.length,s=o.previousSibling,!s){o=o.parentNode;break}o=s}return i+=1,this.getElementOffset(o)+i}getTotalOffset(){return this.totalOffset<0&&(this.totalOffset=this.getNodeOffset(this.root,0,!0)),this.totalOffset}getNodeByOffset(e){let t;const n=this;let i=this.root;for(;;){if(t=this.getElementOffset(i),t>=e)return i;const o=i.children;if(!o)break;const s=Z(o.length,t=>{const i=o[t];return n.getElementOffset(i)>e});if(0==s)break;i=o[s-1]}let o=t+1,s=i,r=s.firstChild||s.nextSibling,a=null;for(;;){if(r){if(1==r.nodeType)break;if(s=r,a=s,o+=r.textContent.length,o>e)break}else if(s=s.parentNode,!s)break;r=s.nextSibling}return a||i}buildIdMap(e){const t=e.getAttribute("id");t&&!this.idMap[t]&&(this.idMap[t]=e);const n=e.getAttributeNS(L.XML,"id");n&&!this.idMap[n]&&(this.idMap[n]=e);for(let t=e.firstElementChild;t;t=t.nextElementSibling)this.buildIdMap(t)}getElement(e){const t=e.match(/([^#]*)#(.+)$/);if(!t||t[1]&&t[1]!=this.url)return null;const n=t[2];let i=this.document.getElementById(n);return!i&&this.document.getElementsByName&&(i=this.document.getElementsByName(n)[0]),i||(this.idMap||(this.idMap={},this.buildIdMap(this.document.documentElement)),i=this.idMap[n]),i}}var Gu;function $u(e,t,n){const i=n||new DOMParser;let o;try{o=i.parseFromString(e,t)}catch(e){}if(!o)return null;{const e=o.documentElement,t="parsererror";if(e.localName===t)return null;for(let n=e.firstElementChild;n;n=n.nextElementSibling)if(n.localName===t)return null}return o}function Wu(e,t){let n=e.responseXML;if(!n){const t=new DOMParser,i=e.responseText;if(i){const o=function(e){const t=e.contentType;if(t){const e=Object.keys(Gu);for(let n=0;n<e.length;n++)if(Gu[e[n]]===t)return t;if(t.match(/\+xml$/))return Gu.APPLICATION_XML}const n=e.url.match(/\.([^./]+)$/);if(n)switch(n[1]){case"html":case"htm":return Gu.TEXT_HTML;case"xhtml":case"xht":return Gu.APPLICATION_XHTML_XML;case"svg":case"svgz":return Gu.IMAGE_SVG_XML;case"opf":case"xml":return Gu.APPLICATION_XML}return null}(e);if(n=$u(i,o||Gu.APPLICATION_XML,t),n&&!o){const e=n.documentElement;"html"!==e.localName.toLowerCase()||e.namespaceURI?"svg"===e.localName.toLowerCase()&&n.contentType!==Gu.IMAGE_SVG_XML&&(n=$u(i,Gu.IMAGE_SVG_XML,t)):n=$u(i,Gu.TEXT_HTML,t)}n||(n=$u(i,Gu.TEXT_HTML,t))}}return fi(n?new Hu(t,e.url,n):null)}!function(e){e.TEXT_HTML="text/html",e.TEXT_XML="text/xml",e.APPLICATION_XML="application/xml",e.APPLICATION_XHTML_XML="application/xhtml_xml",e.IMAGE_SVG_XML="image/svg+xml"}(Gu||(Gu={}));class Xu{constructor(e){this.fn=e}check(e){return this.fn(e)}withAttribute(e,t){const n=this;return new Xu(i=>n.check(i)&&1==i.nodeType&&i.getAttribute(e)==t)}withChild(e,t){const n=this;return new Xu(i=>{if(!n.check(i))return!1;let o=new Ku([i]);return o=o.child(e),t&&(o=o.predicate(t)),o.size()>0})}}const ju=new Xu(e=>!0);class Ku{constructor(e){this.nodes=e}asArray(){return this.nodes}size(){return this.nodes.length}predicate(e){const t=[];for(const n of this.nodes)e.check(n)&&t.push(n);return new Ku(t)}forEachNode(e){const t=[],n=e=>{t.push(e)};for(let t=0;t<this.nodes.length;t++)e(this.nodes[t],n);return new Ku(t)}forEach(e){const t=[];for(let n=0;n<this.nodes.length;n++)t.push(e(this.nodes[n]));return t}forEachNonNull(e){const t=[];for(let n=0;n<this.nodes.length;n++){const i=e(this.nodes[n]);null!=i&&t.push(i)}return t}child(e){return this.forEachNode((t,n)=>{for(let i=t.firstChild;i;i=i.nextSibling)1==i.nodeType&&i.localName==e&&n(i)})}childElements(){return this.forEachNode((e,t)=>{for(let n=e.firstChild;n;n=n.nextSibling)1==n.nodeType&&t(n)})}attribute(e){return this.forEachNonNull(t=>1==t.nodeType?t.getAttribute(e):null)}textContent(){return this.forEach(e=>e.textContent)}}var Yu='@namespace html "http://www.w3.org/1999/xhtml";\n@namespace fb2 "http://www.gribuser.ru/xml/fictionbook/2.0";\n\nhtml|body,\nfb2|body {\n  hyphens: -epubx-expr(pref-hyphenate? "auto": "manual");\n}\n\n@-adapt-footnote-area {\n  display: block;\n  margin-block-start: 0.5em;\n  margin-block-end: 0.5em;\n}\n\n@-adapt-footnote-area ::before {\n  display: block;\n  border-block-start-width: 1px;\n  border-block-start-style: solid;\n  border-block-start-color: black;\n  margin-block-end: 0.4em;\n  margin-inline-start: 0;\n  margin-inline-end: 60%;\n}\n\n/* default page master */\n@-epubx-page-master :background-host {\n  @-epubx-partition :layout-host {\n    -epubx-flow-from: body;\n    top: -epubx-expr(header.margin-bottom-edge);\n    bottom: -epubx-expr(page-height - footer.margin-top-edge);\n    left: 0px;\n    right: 0px;\n    column-width: 25em;\n  }\n  @-epubx-partition footer :oeb-page-foot {\n    writing-mode: horizontal-tb;\n    -epubx-flow-from: oeb-page-foot;\n    bottom: 0px;\n    left: 0px;\n    right: 0px;\n  }\n  @-epubx-partition header :oeb-page-head {\n    writing-mode: horizontal-tb;\n    -epubx-flow-from: oeb-page-head;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n  }\n}\n\n@page {\n  @top-left-corner {\n    text-align: right;\n    vertical-align: middle;\n  }\n  @top-left {\n    text-align: left;\n    vertical-align: middle;\n  }\n  @top-center {\n    text-align: center;\n    vertical-align: middle;\n  }\n  @top-right {\n    text-align: right;\n    vertical-align: middle;\n  }\n  @top-right-corner {\n    text-align: left;\n    vertical-align: middle;\n  }\n  @left-top {\n    text-align: center;\n    vertical-align: top;\n  }\n  @left-middle {\n    text-align: center;\n    vertical-align: middle;\n  }\n  @left-bottom {\n    text-align: center;\n    vertical-align: bottom;\n  }\n  @right-top {\n    text-align: center;\n    vertical-align: top;\n  }\n  @right-middle {\n    text-align: center;\n    vertical-align: middle;\n  }\n  @right-bottom {\n    text-align: center;\n    vertical-align: bottom;\n  }\n  @bottom-left-corner {\n    text-align: right;\n    vertical-align: middle;\n  }\n  @bottom-left {\n    text-align: left;\n    vertical-align: middle;\n  }\n  @bottom-center {\n    text-align: center;\n    vertical-align: middle;\n  }\n  @bottom-right {\n    text-align: right;\n    vertical-align: middle;\n  }\n  @bottom-right-corner {\n    text-align: left;\n    vertical-align: middle;\n  }\n}\n\n@media print {\n  @page {\n    margin: 10%;\n  }\n}\n';const qu=new xi(()=>{const e=pi("uaStylesheetBase"),t=uc(),n=O("user-agent-base.css",P),i=new Qs(null,null,null,null,null,t,!0);return i.startStylesheet(Hi.USER_AGENT),function(e){Zs=e}(i.cascade),fo('@namespace html "http://www.w3.org/1999/xhtml";\n\nhtml|html,\nhtml|address,\nhtml|blockquote,\nhtml|body,\nhtml|dd,\nhtml|div,\nhtml|dl,\nhtml|dt,\nhtml|fieldset,\nhtml|form,\nhtml|frame,\nhtml|frameset,\nhtml|h1,\nhtml|h2,\nhtml|h3,\nhtml|h4,\nhtml|h5,\nhtml|h6,\nhtml|noframes,\nhtml|ol,\nhtml|p,\nhtml|ul,\nhtml|center,\nhtml|dir,\nhtml|hr,\nhtml|menu,\nhtml|pre,\nhtml|article,\nhtml|section,\nhtml|nav,\nhtml|aside,\nhtml|hgroup,\nhtml|footer,\nhtml|header,\nhtml|figure,\nhtml|figcaption,\nhtml|main {\n  display: block;\n  unicode-bidi: normal;\n}\nhtml|li {\n  display: list-item;\n}\nhtml|head {\n  display: none !important;\n}\nhtml|table {\n  display: table;\n}\nhtml|tr {\n  display: table-row;\n}\nhtml|thead {\n  display: table-header-group;\n  break-after: avoid;\n}\nhtml|tbody {\n  display: table-row-group;\n}\nhtml|tfoot {\n  display: table-footer-group;\n  break-before: avoid;\n}\nhtml|col {\n  display: table-column;\n}\nhtml|colgroup {\n  display: table-column-group;\n}\nhtml|td,\nhtml|th {\n  display: table-cell;\n}\nhtml|caption {\n  display: table-caption;\n  text-align: center;\n}\nhtml|th {\n  font-weight: bolder;\n  text-align: center;\n}\nhtml|script {\n  display: none;\n}\nhtml|body {\n  margin: 8px;\n}\nhtml|h1 {\n  font-size: 2em;\n  margin-block-start: 0.67em;\n  margin-block-end: 0.67em;\n  margin-inline-start: 0em;\n  margin-inline-end: 0em;\n}\nhtml|h2 {\n  font-size: 1.5em;\n  margin-block-start: 0.75em;\n  margin-block-end: 0.75em;\n  margin-inline-start: 0em;\n  margin-inline-end: 0em;\n}\nhtml|h3 {\n  font-size: 1.17em;\n  margin-block-start: 0.83em;\n  margin-block-end: 0.83em;\n  margin-inline-start: 0em;\n  margin-inline-end: 0em;\n}\nhtml|h4,\nhtml|p,\nhtml|blockquote,\nhtml|ul,\nhtml|fieldset,\nhtml|form,\nhtml|ol,\nhtml|dl,\nhtml|dir,\nhtml|menu,\nhtml|h5,\nhtml|h6 {\n  margin-block-start: 1em;\n  margin-block-end: 1em;\n  margin-inline-start: 0em;\n  margin-inline-end: 0em;\n}\nhtml|h5 {\n  font-size: 0.83em;\n}\nhtml|h6 {\n  font-size: 0.75em;\n}\nhtml|h1,\nhtml|h2,\nhtml|h3,\nhtml|h4,\nhtml|h5,\nhtml|h6,\nhtml|b,\nhtml|strong {\n  font-weight: bolder;\n}\nhtml|h1,\nhtml|h2,\nhtml|h3,\nhtml|h4,\nhtml|h5,\nhtml|h6 {\n  break-after: avoid;\n}\nhtml|blockquote {\n  margin-block-start: 0px;\n  margin-block-end: 0px;\n  margin-inline-start: 40px;\n  margin-inline-end: 40px;\n}\nhtml|i,\nhtml|cite,\nhtml|em,\nhtml|var,\nhtml|address {\n  font-style: italic;\n}\nhtml|pre,\nhtml|tt,\nhtml|code,\nhtml|kbd,\nhtml|samp {\n  font-family: monospace;\n}\nhtml|pre {\n  white-space: pre;\n}\nhtml|button,\nhtml|textarea,\nhtml|input,\nhtml|select {\n  display: inline-block;\n}\nhtml|big {\n  font-size: 1.17em;\n}\nhtml|small,\nhtml|sub,\nhtml|sup {\n  font-size: 0.83em;\n}\nhtml|sub {\n  vertical-align: sub;\n}\nhtml|sup {\n  vertical-align: super;\n}\nhtml|table {\n  border-spacing: 2px;\n}\nhtml|thead,\nhtml|tbody,\nhtml|tfoot {\n  vertical-align: middle;\n}\n/* for XHTML tables without tbody */\nhtml|table > html|tr {\n  vertical-align: middle;\n}\nhtml|td,\nhtml|th {\n  vertical-align: inherit;\n}\nhtml|s,\nhtml|strike,\nhtml|del {\n  text-decoration: line-through;\n}\nhtml|hr {\n  border: 1px inset;\n}\nhtml|ol,\nhtml|ul,\nhtml|dir,\nhtml|menu,\nhtml|dd {\n  margin: 0px;\n  margin-inline-start: 40px;\n}\nhtml|ol {\n  list-style-type: decimal;\n}\nhtml|ol html|ul,\nhtml|ul html|ol,\nhtml|ul html|ul,\nhtml|ol html|ol {\n  margin-top: 0;\n  margin-bottom: 0;\n}\nhtml|u,\nhtml|ins {\n  text-decoration: underline;\n}\nhtml|center {\n  text-align: center;\n}\nhtml|q:before {\n  content: open-quote;\n}\nhtml|q:after {\n  content: close-quote;\n}\n\nhtml|audio,\nhtml|video {\n  break-inside: avoid;\n}\n\nhtml|ruby {\n  display: ruby;\n}\nhtml|rp {\n  display: none;\n}\nhtml|rbc {\n  display: ruby-base-container;\n}\nhtml|rtc {\n  display: ruby-text-container;\n}\nhtml|rb {\n  display: ruby-base;\n  white-space: nowrap;\n}\nhtml|rt {\n  display: ruby-text;\n}\nhtml|ruby,\nhtml|rb,\nhtml|rt,\nhtml|rbc,\nhtml|rtc {\n  unicode-bidi: isolate;\n}\n\nhtml|rtc,\nhtml|rt {\n  font-variant-east-asian: ruby;\n  text-emphasis: none;\n  white-space: nowrap;\n  line-height: 1;\n}\n\nhtml|rtc:lang(zh),\nhtml|rt:lang(zh) {\n  ruby-align: center;\n}\n\nhtml|rtc,\nhtml|rt {\n  font-size: 50%;\n}\n\nhtml|rtc:lang(zh-TW),\nhtml|rt:lang(zh-TW) {\n  font-size: 30%;\n}\n\nhtml|rtc > html|rt,\nhtml|rtc > html|rt:lang(zh-TW) {\n  font-size: 100%;\n}\n\n/* Bidi settings */\nhtml|bdo[dir="ltr"] {\n  direction: ltr;\n  unicode-bidi: bidi-override;\n}\nhtml|bdo[dir="rtl"] {\n  direction: rtl;\n  unicode-bidi: bidi-override;\n}\nhtml|*[dir="ltr"] {\n  direction: ltr;\n  unicode-bidi: embed;\n}\nhtml|*[dir="rtl"] {\n  direction: rtl;\n  unicode-bidi: embed;\n}\n\n/*------------------ epub-specific ---------------------*/\n\n@namespace epub "http://www.idpf.org/2007/ops";\n\nhtml|a[epub|type="noteref"] {\n  font-size: 0.75em;\n  vertical-align: super;\n  line-height: 0.01;\n}\n\nhtml|a[epub|type="noteref"]:href-epub-type(footnote) {\n  -adapt-template: url(user-agent.xml#footnote);\n  text-decoration: none;\n}\n\nhtml|aside[epub|type="footnote"] {\n  display: none;\n}\n\nhtml|aside[epub|type="footnote"]:footnote-content {\n  display: block;\n  margin: 0.25em;\n  font-size: 1.2em;\n  line-height: 1.2;\n}\n\nepub|trigger {\n  display: none;\n}\n\nepub|switch {\n  display: inline;\n}\n\nepub|default {\n  display: inline;\n}\n\nepub|case {\n  display: none;\n}\n\nepub|case[required-namespace::supported] {\n  display: inline;\n}\n\nepub|case[required-namespace::supported] ~ epub|case {\n  display: none;\n}\n\nepub|case[required-namespace::supported] ~ epub|default {\n  display: none;\n}\n\n/*--------------- ncx and toc ----------------------*/\n\n@namespace ncx "http://www.daisy.org/z3986/2005/ncx/";\n\nncx|ncx {\n  display: block;\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n\nncx|content {\n  display: none;\n}\n\nbody > * {\n  -adapt-behavior: body-child;\n}\n\n[role="doc-toc"],\n[role="directory"],\nnav,\n.toc,\n#toc,\n#table-of-contents,\n#contents {\n  -adapt-behavior: toc-root;\n}\n\n[role="doc-toc"] a,\n[role="directory"] a,\nnav a,\n.toc a,\n#toc a,\nncx|navLabel {\n  -adapt-behavior: toc-node-anchor;\n}\n\n[role="doc-toc"] li,\n[role="directory"] li,\nnav li,\n.toc li,\n#toc li,\nncx|navPoint {\n  -adapt-behavior: toc-node;\n}\n\n[role="doc-toc"] li > *:first-child,\n[role="directory"] li > *:first-child,\nnav li > *:first-child,\n.toc li > *:first-child,\n#toc li > *:first-child {\n  -adapt-behavior: toc-node-first-child;\n}\n\n[role="doc-toc"] ol,\n[role="directory"] ol,\nnav ol,\n.toc ol,\n#toc ol,\n[role="doc-toc"] ul,\n[role="directory"] ul,\nnav ul,\n.toc ul,\n#toc ul,\nol[role="doc-toc"],\nol[role="directory"],\nol.toc,\nol#toc,\nul[role="doc-toc"],\nul[role="directory"],\nul.toc,\nul#toc {\n  -adapt-behavior: toc-container;\n}\n\n/*---------------- fb2 ---------------------*/\n\n@namespace fb2 "http://www.gribuser.ru/xml/fictionbook/2.0";\n\nfb2|FictionBook {\n  display: block;\n}\n\nfb2|body {\n  font-family: serif;\n  margin: 8px;\n  column-width: 25em;\n}\n\nfb2|a {\n  line-height: 0.1;\n  vertical-align: super;\n  font-size: 0.7em;\n}\n\nfb2|sub {\n  line-height: 0.1;\n  font-size: 0.7em;\n}\n\nfb2|sup {\n  line-height: 0.1;\n  font-size: 0.7em;\n}\n\nfb2|table {\n  display: table;\n  font-size: 0.8em;\n  font-family: sans-serif;\n  margin: 0.5em;\n  border-collapse: collapse;\n  border: 1px solid black;\n}\n\nfb2|td {\n  border: 1px solid black;\n  padding: 0.3em;\n}\n\nfb2|th {\n  font-weight: bold;\n  text-align: center;\n  border: 1px solid black;\n  background-color: #cee;\n  padding: 0.3em;\n}\n\nfb2|code {\n  font-family: monospace;\n}\n\nfb2|p {\n  display: block;\n  margin: 0px;\n  text-indent: 1.5em;\n  text-align: justify;\n}\n\nfb2|title fb2|p {\n  margin: 0px 0px 0.5em 0px;\n  text-indent: 0px;\n  text-align: inherit;\n}\n\nfb2|title {\n  font-size: 2.2em;\n  font-weight: bold;\n  break-inside: avoid;\n  break-after: avoid;\n  text-align: center;\n  margin: 1em 0px 0.5em 0px;\n  display: block;\n}\n\nfb2|section {\n  display: block;\n}\n\nfb2|section fb2|title {\n  font-size: 1.8em;\n  text-align: center;\n  margin: 1em 0px 0.5em 0px;\n}\n\nfb2|section fb2|section fb2|title {\n  font-size: 1.5em;\n  text-align: left;\n  margin: 1em 0px 0.5em 1.5625em;\n}\n\nfb2|section fb2|section fb2|section fb2|title {\n  font-size: 1.3em;\n  text-align: left;\n  margin: 1em 0px 0.5em 1.923em;\n}\n\nfb2|section fb2|section fb2|section fb2|section fb2|title {\n  font-size: 1.2em;\n  text-align: left;\n  margin: 1em 0px 0.5em 2.083em;\n}\n\nfb2|section fb2|section fb2|section fb2|section fb2|section fb2|title {\n  font-size: 1.1em;\n  text-align: left;\n  margin: 1em 0px 0.5em 2.272em;\n}\n\nfb2|section\n  fb2|section\n  fb2|section\n  fb2|section\n  fb2|section\n  fb2|section\n  fb2|title {\n  text-align: left;\n  margin: 1em 0px 0.5em 2.5em;\n}\n\nfb2|epigraph {\n  text-align: left;\n  font-style: italic;\n  margin: 1em 1em 2em 30%;\n  display: block;\n}\n\nfb2|image {\n  text-align: center;\n  padding: 3px;\n}\n\nfb2|image::inner {\n  max-width: 95%;\n}\n\nfb2|image::after {\n  display: block;\n  content: attr(title);\n}\n\nfb2|v {\n  text-indent: -1em;\n  padding-left: 1em;\n  margin: 0px;\n  display: block;\n}\nfb2|poem {\n  margin: 0.5em 0px 0.5em 2em;\n  display: block;\n}\nfb2|date {\n  margin: 0.5em 0px 0.5em 50%;\n  font-style: italic;\n  display: block;\n}\nfb2|stanza {\n  margin: 0.5em 0px;\n  break-inside: avoid;\n  display: block;\n}\nfb2|empty-line {\n  height: 1em;\n  margin: 0px;\n  display: block;\n}\nfb2|cite {\n  margin: 0.5em 0px 0.5em 1em;\n  font-size: 0.95em;\n  display: block;\n}\nfb2|subtitle {\n  text-indent: 0px;\n  text-align: center;\n  font-style: italic;\n  font-weight: bold;\n  margin: 0.5em 2em;\n  break-inside: avoid;\n  break-after: avoid;\n  display: block;\n}\nfb2|annotation {\n  margin: 1em 0px 1em 2em;\n  text-indent: 0px;\n  font-style: italic;\n  display: block;\n}\nfb2|text-author {\n  text-indent: 0px;\n  margin: 0.2em 0px 0px 3em;\n  display: block;\n}\nfb2|emphasis {\n  font-style: italic;\n}\nfb2|strong {\n  font-weight: bold;\n}\nfb2|strikethrough {\n  text-decoration: line-through;\n}\nfb2|*.italic {\n  font-style: italic;\n}\nfb2|*.bold {\n  font-weight: bold;\n}\n\nfb2|binary,\nfb2|description,\nfb2|stylesheet {\n  display: none;\n}\n\nfb2|a[type="note"] {\n  font-size: 0.75em;\n  vertical-align: super;\n  line-height: 0.01;\n  text-decoration: none;\n  -adapt-template: url(user-agent.xml#footnote);\n}\n\nfb2|body[name="notes"] {\n  display: none;\n}\n\nfb2|body[name="notes"] fb2|title {\n  display: inline;\n  vertical-align: super;\n  line-height: 0.01;\n  text-align: left;\n  font-size: 0.75em;\n  font-weight: bold;\n  margin: 0px;\n}\n\nfb2|body[name="notes"] fb2|p {\n  text-indent: 0px;\n  display: inline; /* for now */\n}\n\nfb2|body[name="notes"] fb2|p + fb2|p {\n  display: block;\n}\n\nfb2|body[name="notes"] fb2|section {\n  text-indent: 0px;\n  line-height: 1.2;\n  font-size: 1.2em;\n}\n',i,n,null,null).thenFinish(e),e.result()},"uaStylesheetBaseFetcher");class Zu{constructor(e,t,n,i,o,s,r,a,l,h){this.store=e,this.rootScope=t,this.pageScope=n,this.cascade=i,this.rootBox=o,this.fontFaces=s,this.footnoteProps=r,this.flowProps=a,this.viewportProps=l,this.pageProps=h,this.fontDeobfuscator=e.fontDeobfuscator,this.validatorSet=e.validatorSet,this.pageScope.defineBuiltIn("has-content",(function(e){e=e;const t=this.currentLayoutPosition,n=t.firstFlowChunkOfFlow(e);return this.matchPageSide(t.startSideOfFlow(e))&&t.hasContent(e,this.lookupOffset)&&!!n&&!this.flowChunkIsAfterParentFlowForcedBreak(n)})),this.pageScope.defineName("page-number",new it(this.pageScope,(function(){return this.pageNumberOffset+this.currentLayoutPosition.page}),"page-number"))}sizeViewport(e,t,n,i){if(this.viewportProps.length){const o=new Ae(this.rootScope,e,t,n),s=function(e,t){const n={};for(let i=0;i<t.length;i++)Zo(e,n,t[i],0,null,null,null);return n}(o,this.viewportProps),r=s.width,a=s.height,l=s["text-zoom"];let h=1;if(r&&a||l){const s=Ie.em;if((l?l.evaluate(o,"text-zoom"):null)===Bt.scale&&(h=s/n,n=s,e*=h,t*=h),r&&a){const e=Dt(r.evaluate(o,"width"),o),t=Dt(a.evaluate(o,"height"),o);if(e>0&&t>0)return{width:i&&i.spreadView?2*(e+i.pageBorder):e,height:t,fontSize:n}}}}return{width:e,height:t,fontSize:n}}}class Qu extends Ae{constructor(e,t,n,i,o,s,r,a,l,h,c,u){super(e.rootScope,i.width,i.height,i.fontSize),this.style=e,this.xmldoc=t,this.viewport=i,this.clientLayout=o,this.fontMapper=s,this.customRenderer=r,this.fallbackMap=a,this.pageNumberOffset=l,this.documentURLTransformer=h,this.counterStore=c,this.primaryFlows={body:!0},this.rootPageBoxInstance=null,this.styler=null,this.stylerMap=null,this.currentLayoutPosition=null,this.layoutPositionAtPageStart=null,this.lookupOffset=0,this.pageBoxInstances={},this.pageManager=null,this.pageBreaks={},this.pageProgression=null,this.pageSheetSize={},this.pageSheetHeight=0,this.pageSheetWidth=0,this.lang=t.lang||n,this.faces=new bc(this.style.fontDeobfuscator),this.rootPageFloatLayoutContext=new xa(null,null,null,null,null,null,null),this.pageProgression=u||null;for(const t in e.flowProps){const n=$o(e.flowProps[t],"flow-consume");n&&(n.evaluate(this,"flow-consume")==Bt.all?this.primaryFlows[t]=!0:delete this.primaryFlows[t])}}init(){const e=this,t=pi("StyleInstance.init"),n=e.counterStore.createCounterListener(e.xmldoc.url),i=e.counterStore.createCounterResolver(e.xmldoc.url,e.style.rootScope,e.style.pageScope);e.styler=new Ah(e.xmldoc,e.style.cascade,e.style.rootScope,e,this.primaryFlows,e.style.validatorSet,n,i),i.setStyler(e.styler),e.styler.resetFlowChunkStream(e),e.stylerMap={},e.stylerMap[e.xmldoc.url]=e.styler;const o=e.styler.getTopContainerStyle();e.pageProgression||(e.pageProgression=Xc(o));const s=this.style.rootBox;this.rootPageBoxInstance=new Mc(s);const r=this.style.cascade.createInstance(e,n,i,this.lang);this.rootPageBoxInstance.applyCascadeAndInit(r,o),this.rootPageBoxInstance.resolveAutoSizing(e),this.pageManager=new yu(r,this.style.pageScope,this.rootPageBoxInstance,e,o);const a=[];for(const t of e.style.fontFaces){if(t.condition&&!t.condition.evaluate(e))continue;const n=gc(t.properties,e),i=new mc(n);a.push(i)}e.fontMapper.findOrLoadFonts(a,e.faces).thenFinish(t);const l=e.style.pageProps;return Object.keys(l).forEach(e=>{const t=Jc(Qc(l[e]),this);this.pageSheetSize[e]={width:t.pageWidth+2*t.cropOffset,height:t.pageHeight+2*t.cropOffset}}),t.result()}getStylerForDoc(e){let t=this.stylerMap[e.url];if(!t){const n=this.style.store.getStyleForDoc(e),i=new Ae(n.rootScope,this.pageWidth(),this.pageHeight(),this.initialFontSize),o=this.counterStore.createCounterListener(e.url),s=this.counterStore.createCounterResolver(e.url,n.rootScope,n.pageScope);t=new Ah(e,n.cascade,n.rootScope,i,this.primaryFlows,n.validatorSet,o,s),this.stylerMap[e.url]=t}return t}registerInstance(e,t){this.pageBoxInstances[e]=t}lookupInstance(e){return this.pageBoxInstances[e]}encounteredFlowChunk(e,t){const n=this.currentLayoutPosition;if(n){n.flows[e.flowName]?t=n.flows[e.flowName]:n.flows[e.flowName]=t;let i=n.flowPositions[e.flowName];i||(i=new ga,n.flowPositions[e.flowName]=i);const o=function(e){return{steps:[{node:e,shadowType:la.NONE,shadowContext:null,nodeShadow:null,shadowSibling:null,formattingContext:null,fragmentIndex:0}],offsetInNode:0,after:!1,preprocessedTextContent:null}}(e.element),s=new pa(o),r=new fa(s,e);i.positions.push(r)}}getConsumedOffset(e){let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.positions.length;n++){const i=e.positions[n].chunkPosition.primary;let o=i.steps[0].node,s=i.offsetInNode,r=i.after,a=0;for(;o.ownerDocument!=this.xmldoc.document;)a++,o=i.steps[a].node,r=!1,s=0;const l=this.xmldoc.getNodeOffset(o,s,r);l<t&&(t=l)}return t}getPosition(e,t){if(!e)return 0;let n=Number.POSITIVE_INFINITY;for(const i in this.primaryFlows){let o=e.flowPositions[i];if(t||o&&0!=o.positions.length||!this.currentLayoutPosition||(this.styler.styleUntilFlowIsReached(i),o=this.currentLayoutPosition.flowPositions[i],e!=this.currentLayoutPosition&&o&&(o=o.clone(),e.flowPositions[i]=o)),o){const e=this.getConsumedOffset(o);e<n&&(n=e)}}return n}dumpLocation(e){h.debug("Location - page",this.currentLayoutPosition.page),h.debug("  current:",e),h.debug("  lookup:",this.lookupOffset);for(const e in this.currentLayoutPosition.flowPositions){const t=this.currentLayoutPosition.flowPositions[e];for(const n of t.positions)h.debug("  Chunk",`${e}:`,n.flowChunk.startOffset)}}matchPageSide(e){switch(e){case"left":case"right":case"recto":case"verso":return new tt(this.style.pageScope,`${e}-page`).evaluate(this);default:return!0}}updateStartSide(e){for(const t in e.flowPositions){const n=e.flowPositions[t];if(n&&n.positions.length>0){const e=n.positions[0].flowChunk;if(this.getConsumedOffset(n)===e.startOffset){const e=n.positions[0].flowChunk.breakBefore,t=Ua(n.startSide);n.startSide=Ma(Ba(t,e))}}}}selectPageMaster(e){const t=this,n=this.currentLayoutPosition,i=this.getPosition(n);if(i==Number.POSITIVE_INFINITY)return null;const o=this.rootPageBoxInstance.children;let s;for(let r=0;r<o.length;r++){if(s=o[r],s.pageBox.pseudoName===hu)continue;let a=1;const l=s.getProp(t,"utilization");l&&l.isNum()&&(a=l.num);const h=t.queryUnitSize("em",!1),c=t.pageWidth()*t.pageHeight(),u=Math.ceil(a*c/(h*h));this.lookupOffset=this.styler.styleUntil(i,u),this.updateStartSide(n),this.layoutPositionAtPageStart=n.clone(),this.initLingering(),t.clearScope(this.style.pageScope);const d=s.getProp(t,"enabled");if(!d||d===Bt._true)return this.pageManager.getPageRulePageMaster(s,e)}throw new Error("No enabled page masters")}flowChunkIsAfterParentFlowForcedBreak(e){const t=this.layoutPositionAtPageStart.flows,n=t[e.flowName].parentFlowName;if(n){const i=e.startOffset,o=t[n].forcedBreakOffsets;if(!o.length||i<o[0])return!1;const s=Z(o.length,e=>o[e]>i)-1,r=o[s],a=this.layoutPositionAtPageStart.flowPositions[n],l=this.getConsumedOffset(a);return!(r<l)&&(l<r||!this.matchPageSide(a.startSide))}return!1}setFormattingContextToColumn(e,t){const n=this.currentLayoutPosition.flows[t];n.formattingContext||(n.formattingContext=new il(null)),e.flowRootFormattingContext=n.formattingContext}layoutDeferredPageFloats(e){const t=e.pageFloatLayoutContext,n=t.getDeferredPageFloatContinuations(),i=pi("layoutDeferredPageFloats");let o=!1,s=0;return i.loopWithFrame(i=>{if(s===n.length)return void i.breakLoop();const r=n[s++],a=r.float,l=(new Pa).findByFloat(a),h=l.findPageFloatFragment(a,t);if(!h||!h.hasFloat(a))return t.isForbidden(a)||t.hasPrecedingFloatsDeferredToNext(a)?(t.deferPageFloat(r),void i.breakLoop()):void e.layoutPageFloatInner(r,l,null,h).then(e=>{if(!e)return void i.breakLoop();const n=t.parent.isInvalidated();n?i.breakLoop():(t.isInvalidated()&&!n&&(o=!0,t.validate()),i.continueLoop())});i.continueLoop()}).then(()=>{o&&t.invalidate(),i.finish(!0)}),i.result()}getLastAfterPositionIfDeferredFloatsExists(e,t){if(e.pageFloatLayoutContext.getPageFloatContinuationsDeferredToNext().length>0){if(e.lastAfterPosition){let n;return t?(n=t.clone(),n.primary=e.lastAfterPosition):n=new pa(e.lastAfterPosition),n}return null}return null}layoutColumn(e,t){const n=this.currentLayoutPosition.flowPositions[t];if(!n||!this.matchPageSide(n.startSide))return fi(!0);n.startSide="any",this.setFormattingContextToColumn(e,t),e.init(),this.primaryFlows[t]&&e.bands.length>0&&(e.forceNonfitting=!1);const i=this,o=pi("layoutColumn");return this.layoutDeferredPageFloats(e).then(()=>{if(e.pageFloatLayoutContext.isInvalidated())return void o.finish(!0);const s=[],r=[];let a=!0;o.loopWithFrame(o=>{if(e.pageFloatLayoutContext.hasContinuingFloatFragmentsInFlow(t))o.breakLoop();else{for(;n.positions.length-r.length>0;){let t=0;for(;r.includes(t);)t++;let l=n.positions[t];if(l.flowChunk.startOffset>i.lookupOffset||i.flowChunkIsAfterParentFlowForcedBreak(l.flowChunk))break;for(let e=t+1;e<n.positions.length;e++){if(r.includes(e))continue;const o=n.positions[e];if(o.flowChunk.startOffset>i.lookupOffset||i.flowChunkIsAfterParentFlowForcedBreak(o.flowChunk))break;o.flowChunk.isBetter(l.flowChunk)&&(l=o,t=e)}const h=l.flowChunk;let c=!0;if(e.layout(l.chunkPosition,a,n.breakAfter).then(u=>{if(e.pageFloatLayoutContext.isInvalidated())o.breakLoop();else{if(a=!1,l.flowChunk.repeated&&(null===u||h.exclusive)&&s.push(t),h.exclusive)return r.push(t),void o.breakLoop();{const a=!!u||!!e.pageBreakType,h=i.getLastAfterPositionIfDeferredFloatsExists(e,u);if(e.pageBreakType&&h?(l.chunkPosition=h,n.breakAfter=e.pageBreakType,e.pageBreakType=null):(r.push(t),(u||h)&&(l.chunkPosition=u||h,s.push(t)),e.pageBreakType&&(n.startSide=Ma(e.pageBreakType))),a)return void o.breakLoop()}e.forceNonfitting=!1,c?c=!1:o.continueLoop()}}),c)return void(c=!1)}o.breakLoop()}}).then(()=>{if(!e.pageFloatLayoutContext.isInvalidated()){n.positions=n.positions.filter((e,t)=>s.includes(t)||!r.includes(t)),"column"===n.breakAfter&&(n.breakAfter=null),e.saveDistanceToBlockEndFloats();const t=e.pageFloatLayoutContext.getMaxReachedAfterEdge();e.updateMaxReachedAfterEdge(t)}o.finish(!0)})}),o.result()}createLayoutConstraint(e){const t=this.currentLayoutPosition.page-1,n=this.counterStore.createLayoutConstraint(t);return new Cl([n].concat(e.getLayoutConstraints()))}createAndLayoutColumn(e,t,n,i,o,s,r,a,l,h,c,u,d,p){const f=this,g=e.vertical?e.isAutoWidth&&e.isRightDependentOnAutoWidth:e.isAutoHeight&&e.isTopDependentOnAutoHeight,m=o.element,b=new xa(a,ya.COLUMN,null,r,null,null,null),w=f.currentLayoutPosition.clone(),E=pi("createAndLayoutColumn");let y;return E.loopWithFrame(e=>{const E=f.createLayoutConstraint(b);if(l>1){const e=f.viewport.document.createElement("div");if(U(e,"position","absolute"),m.appendChild(e),y=new Il(e,d,f.clientLayout,E,b),y.forceNonfitting=p,y.vertical=o.vertical,y.snapHeight=o.snapHeight,y.snapWidth=o.snapWidth,o.vertical){const e=s*(c+h)+o.paddingTop;y.setHorizontalPosition(o.paddingLeft,o.width),y.setVerticalPosition(e,c)}else{const e=s*(c+h)+o.paddingLeft;y.setVerticalPosition(o.paddingTop,o.height),y.setHorizontalPosition(e,c)}y.originX=t,y.originY=n}else y=new Il(m,d,f.clientLayout,E,b),y.copyFrom(o);y.exclusions=g?[]:i.concat(),y.innerShape=u,b.setContainer(y),y.width>=0?f.layoutColumn(y,r).then(()=>{b.isInvalidated()||b.finish(),y.pageFloatLayoutContext.isInvalidated()&&!a.isInvalidated()?(y.pageFloatLayoutContext.validate(),f.currentLayoutPosition=w.clone(),y.element!==m&&m.removeChild(y.element),e.continueLoop()):e.breakLoop()}):(b.finish(),e.breakLoop())}).then(()=>{E.finish(y)}),E.result()}setPagePageFloatLayoutContextContainer(e,t,n){(t instanceof wu||t instanceof Uc&&!(t instanceof fu))&&e.setContainer(n)}getRegionPageFloatLayoutContext(e,t,n,i){const o=t.getProp(this,"writing-mode")||null,s=t.getProp(this,"direction")||null;return new xa(e,ya.REGION,n,i,null,o,s)}layoutFlowColumnsWithBalancing(e,t,n,i,o,s,r,a,l){const h=this,c=h.currentLayoutPosition.clone(),u=h.getRegionPageFloatLayoutContext(s,t,r,a);let d=!0;function p(){return h.currentLayoutPosition=c.clone(),h.layoutFlowColumns(e,t,n,i,o,s,u,r,a,l,d).thenAsync(e=>fi(e?{columns:e,position:h.currentLayoutPosition}:null))}return p().thenAsync(e=>{if(!e)return fi(null);if(l<=1)return fi(e.columns);const n=t.getProp(h,"column-fill")||Bt.balance,i=h.currentLayoutPosition.flowPositions[a],o=function(e,t,n,i,o,s,r){if(t===Bt.auto)return null;{const a=0===r.positions.length,l=s[s.length-1],h=!(!l||!l.pageBreakType);return a||h?new Nh(n,i,o,e):t===Bt.balance_all?new Ch(n,i,o):null}}(l,n,p,u,r,e.columns,i);return o?(d=!1,s.lock(),u.lock(),o.balanceColumns(e).thenAsync(e=>(s.unlock(),s.validate(),u.unlock(),h.currentLayoutPosition=e.position,fi(e.columns)))):fi(e.columns)})}layoutFlowColumns(e,t,n,i,o,s,r,a,l,h,c){const u=this,d=pi("layoutFlowColumns"),p=u.currentLayoutPosition.clone(),f=t.getPropAsNumber(u,"column-gap"),g=h>1?t.getPropAsNumber(u,"column-width"):a.width,m=t.getActiveRegions(u),b=bn(t.getProp(u,"shape-inside"),0,0,a.width,a.height,u),w=new _u(l,u,u.viewport,u.styler,m,u.xmldoc,u.faces,u.style.footnoteProps,u,e,u.customRenderer,u.fallbackMap,this.documentURLTransformer);let E=0,y=null,S=[];return d.loopWithFrame(e=>{u.createAndLayoutColumn(t,n,i,o,a,E++,l,r,h,f,g,b,w,c).then(t=>s.isInvalidated()?(S=null,void e.breakLoop()):(!(t.pageBreakType&&"column"!==t.pageBreakType)&&E!==h||r.isInvalidated()||r.finish(),r.isInvalidated()?(E=0,u.currentLayoutPosition=p.clone(),r.validate(),void(r.isLocked()?(S=null,e.breakLoop()):e.continueLoop())):(y=t,S[E-1]=y,y.pageBreakType&&"column"!=y.pageBreakType&&(E=h,"region"!=y.pageBreakType&&(u.pageBreaks[l]=!0)),void(E<h?e.continueLoop():e.breakLoop()))))}).then(()=>{d.finish(S)}),d.result()}layoutContainer(e,t,n,i,o,s,r){const a=this;t.reset();const l=t.getProp(a,"enabled");if(l&&l!==Bt._true)return fi(!0);const h=pi("layoutContainer"),c=t.getProp(a,"wrap-flow")===Bt.auto,u=t.getProp(a,"flow-from"),d=a.viewport.document.createElement("div"),p=t.getProp(a,"position");U(d,"position",p?p.name:"absolute"),n.insertBefore(d,n.firstChild);let f,g=new ba(d);g.vertical=t.vertical,g.exclusions=s,t.prepareContainer(a,g,e,a.faces,a.clientLayout),g.originX=i,g.originY=o,i+=g.left+g.marginLeft+g.borderLeft,o+=g.top+g.marginTop+g.borderTop,this.setPagePageFloatLayoutContextContainer(r,t,g);let m=!1;if(u&&u.isIdent())if(a.pageBreaks[u.toString()])r.isInvalidated()||t.finishContainer(a,g,e,null,1,a.clientLayout,a.faces),f=fi(!0);else{const n=pi("layoutContainer.inner"),l=u.toString(),h=t.getPropAsNumber(a,"column-count");a.layoutFlowColumnsWithBalancing(e,t,i,o,s,r,g,l,h).then(i=>{if(!r.isInvalidated()){const n=i[0];n.element===d&&(g=n),g.computedBlockSize=Math.max.apply(null,i.map(e=>e.computedBlockSize)),t.finishContainer(a,g,e,n,h,a.clientLayout,a.faces);const o=a.currentLayoutPosition.flowPositions[l];o&&"region"===o.breakAfter&&(o.breakAfter=null)}n.finish(!0)}),f=n.result()}else{const i=t.getProp(a,"content");if(i&&Ea(i)){let n="span";i.url&&(n="img");const o=a.viewport.document.createElement(n);i.visit(new wa(o,a,i,a.counterStore.getExprContentListener())),d.appendChild(o),"img"==n&&t.transferSinglUriContentProps(a,o,a.faces),t.transferContentProps(a,g,e,a.faces)}else t.suppressEmptyBoxGeneration&&(n.removeChild(d),m=!0);m||t.finishContainer(a,g,e,null,1,a.clientLayout,a.faces),f=fi(!0)}return f.then(()=>{if(r.isInvalidated())return void h.finish(!0);if(!t.isAutoHeight||Math.floor(g.computedBlockSize)>0){if(!m&&!c){const e=t.getProp(a,"shape-outside"),n=g.getOuterShape(e,a);s.push(n)}}else if(0==t.children.length)return n.removeChild(d),void h.finish(!0);let l=t.children.length-1;h.loop(()=>{for(;l>=0;){const n=t.children[l--],h=a.layoutContainer(e,n,d,i,o,s,r);if(h.isPending())return h.thenAsync(()=>fi(!r.isInvalidated()));if(r.isInvalidated())break}return fi(!1)}).then(()=>{h.finish(!0)})}),h.result()}processLinger(){const e=this.currentLayoutPosition.page;for(const t in this.currentLayoutPosition.flowPositions){const n=this.currentLayoutPosition.flowPositions[t];for(let t=n.positions.length-1;t>=0;t--){const i=n.positions[t];i.flowChunk.startPage>=0&&i.flowChunk.startPage+i.flowChunk.linger-1<=e&&n.positions.splice(t,1)}}}initLingering(){const e=this.currentLayoutPosition.page;for(const t in this.currentLayoutPosition.flowPositions){const n=this.currentLayoutPosition.flowPositions[t];for(let t=n.positions.length-1;t>=0;t--){const i=n.positions[t];i.flowChunk.startPage<0&&i.flowChunk.startOffset<this.lookupOffset&&(i.flowChunk.startPage=e)}}}noMorePrimaryFlows(e){for(const t in this.primaryFlows){const n=e.flowPositions[t];if(n&&n.positions.length>0)return!1}return!0}layoutNextPage(e,n){const i=this,o=e.container===e.bleedBox;i.pageBreaks={},n?(i.currentLayoutPosition=n.clone(),i.styler.replayFlowElementsFromOffset(n.highestSeenOffset)):(i.currentLayoutPosition=new ma,i.styler.replayFlowElementsFromOffset(-1)),this.lang&&e.bleedBox.setAttribute("lang",this.lang),(n=i.currentLayoutPosition).page++,i.clearScope(i.style.pageScope),i.layoutPositionAtPageStart=n.clone();const s=o?{}:i.pageManager.getCascadedPageStyle(),r=i.selectPageMaster(s);if(!r)return fi(null);let a=0;if(!o){e.setAutoPageWidth(r.pageBox.specified.width.value===Ut),e.setAutoPageHeight(r.pageBox.specified.height.value===zt),i.counterStore.setCurrentPage(e),i.counterStore.updatePageCounters(s,i);const t=Jc(Qc(s),this);i.setPageSizeAndBleed(t,e),ou(s,t,e,this),a=t.bleedOffset+t.bleed}const l=!o&&r.getProp(i,"writing-mode")||Bt.horizontal_tb;this.pageVertical=l!=Bt.horizontal_tb;const h=r.getProp(i,"direction")||Bt.ltr,c=new xa(i.rootPageFloatLayoutContext,ya.PAGE,null,null,null,l,h),u=pi("layoutNextPage");return u.loopWithFrame(t=>{i.layoutContainer(e,r,e.bleedBox,a,a,[],c).then(()=>{c.isInvalidated()||c.finish(),c.isInvalidated()?(i.currentLayoutPosition=i.layoutPositionAtPageStart.clone(),c.validate(),t.continueLoop()):t.breakLoop()})}).then(()=>{if(r.adjustPageLayout(i,e,i.clientLayout),!o){const o=new tt(r.pageBox.scope,"left-page");e.side=o.evaluate(i)?t.PageSide.LEFT:t.PageSide.RIGHT,i.processLinger(),n=i.currentLayoutPosition,Object.keys(n.flowPositions).forEach(e=>{const t=n.flowPositions[e],o=t.breakAfter;!o||"page"!==o&&i.matchPageSide(o)||(t.breakAfter=null)})}i.currentLayoutPosition=i.layoutPositionAtPageStart=null,n.highestSeenOffset=i.styler.getReachedOffset();const s=i.style.store.getTriggersForDoc(i.xmldoc);e.finish(s,i.clientLayout),i.noMorePrimaryFlows(n)&&(n=null),u.finish(n)}),u.result()}setPageSizeAndBleed(e,t){this.actualPageWidth=e.pageWidth,this.actualPageHeight=e.pageHeight,this.pageSheetWidth=e.pageWidth+2*e.cropOffset,this.pageSheetHeight=e.pageHeight+2*e.cropOffset,t.container.style.width=`${this.pageSheetWidth}px`,t.container.style.height=`${this.pageSheetHeight}px`,t.bleedBox.style.left=`${e.bleedOffset}px`,t.bleedBox.style.right=`${e.bleedOffset}px`,t.bleedBox.style.top=`${e.bleedOffset}px`,t.bleedBox.style.bottom=`${e.bleedOffset}px`,t.bleedBox.style.padding=`${e.bleed}px`,t.bleedBox.style.paddingTop=`${e.bleed+.01}px`}}class Ju extends Qs{constructor(e,t,n,i){super(e.rootScope,e,t,n,i,e.validatorSet,!n),this.masterHandler=e,this.insideRegion=!1}startPageTemplateRule(){}startPageMasterRule(e,t,n){const i=new vc(this.masterHandler.pageScope,e,t,n,this.masterHandler.rootBox,this.condition,this.owner.getBaseSpecificity());this.masterHandler.pushHandler(new Wc(i.scope,this.masterHandler,i,this.validatorSet))}startWhenRule(e){let t=e.expr;null!=this.condition&&(t=ht(this.scope,this.condition,t)),this.masterHandler.pushHandler(new Ju(this.masterHandler,t,this,this.regionId))}startDefineRule(){this.masterHandler.pushHandler(new nr(this.scope,this.owner))}startFontFaceRule(){const e={};this.masterHandler.fontFaces.push({properties:e,condition:this.condition}),this.masterHandler.pushHandler(new ir(this.scope,this.owner,null,e,this.masterHandler.validatorSet))}startFlowRule(e){let t=this.masterHandler.flowProps[e];t||(t={},this.masterHandler.flowProps[e]=t),this.masterHandler.pushHandler(new ir(this.scope,this.owner,null,t,this.masterHandler.validatorSet))}startViewportRule(){const e={};this.masterHandler.viewportProps.push(e),this.masterHandler.pushHandler(new ir(this.scope,this.owner,this.condition,e,this.masterHandler.validatorSet))}startFootnoteRule(e){let t=this.masterHandler.footnoteProps;if(e){const n=jo(t,"_pseudos");t=n[e],t||(t={},n[e]=t)}this.masterHandler.pushHandler(new ir(this.scope,this.owner,null,t,this.masterHandler.validatorSet))}startRegionRule(){this.insideRegion=!0,this.startSelectorRule()}startPageRule(){const e=new Pu(this.masterHandler.pageScope,this.masterHandler,this,this.validatorSet,this.masterHandler.pageProps);this.masterHandler.pushHandler(e),e.startPageRule()}startRuleBody(){if(Qs.prototype.startRuleBody.call(this),this.insideRegion){this.insideRegion=!1;const e=`R${this.masterHandler.regionCount++}`;this.special("region-id",Ct(e)),this.endRule();const t=new Ju(this.masterHandler,this.condition,this,e);this.masterHandler.pushHandler(t),t.startRuleBody()}}}function ed(e){let t=e.getAttribute("content");if(!t)return"";const n={};let i;for(;null!=(i=t.match(/^,?\s*([-A-Za-z_.][-A-Za-z_0-9.]*)\s*=\s*([-+A-Za-z_0-9.]*)\s*/));)t=t.substr(i[0].length),n[i[1]]=i[2];const o=n.width-0,s=n.height-0;return o&&s?`@-epubx-viewport{width:${o}px;height:${s}px;}`:""}class td extends Wi{constructor(e){super(),this.validatorSet=e,this.regionCount=0,this.fontFaces=[],this.footnoteProps={},this.flowProps={},this.viewportProps=[],this.pageProps={},this.rootScope=new Te(null),this.pageScope=new Te(this.rootScope),this.rootBox=new Sc(this.rootScope),this.cascadeParserHandler=new Ju(this,null,null,null),this.slave=this.cascadeParserHandler}error(e,t){h.warn("CSS parser:",e)}}function nd(e,t){return t.parseOPSResource(e)}class id extends ki{constructor(e){super(nd,Ai.DOCUMENT),this.fontDeobfuscator=e,this.styleByKey={},this.styleFetcherByKey={},this.styleByDocURL={},this.triggersByDocURL={},this.validatorSet=null,this.styleSheets=[],this.triggerSingleDocumentPreprocessing=!1}init(e,t){this.setStyleSheets(e,t);const n=O("user-agent.xml",P),i=pi("OPSDocStore.init");return this.validatorSet=uc(),qu.get().then(()=>{this.load(n).then(()=>{this.triggerSingleDocumentPreprocessing=!0,i.finish(!0)})}),i.result()}getStyleForDoc(e){return this.styleByDocURL[e.url]}getTriggersForDoc(e){return this.triggersByDocURL[e.url]}setStyleSheets(e,t){this.clearStyleSheets(),e&&e.forEach(this.addAuthorStyleSheet,this),t&&t.forEach(this.addUserStyleSheet,this)}clearStyleSheets(){this.styleSheets.splice(0)}addAuthorStyleSheet(e){let t=e.url;t&&(t=O(R(t),x)),this.styleSheets.push({url:t,text:e.text,flavor:Hi.AUTHOR,classes:null,media:null})}addUserStyleSheet(e){let t=e.url;t&&(t=O(R(t),x)),this.styleSheets.push({url:t,text:e.text,flavor:Hi.USER,classes:null,media:null})}parseOPSResource(e){const n=pi("OPSDocStore.load"),i=this,o=e.url,s=o.endsWith("?viv-toc-box");return Wu(e,i).then(e=>{if(!e)return void n.finish(null);if(i.triggerSingleDocumentPreprocessing){const n=p(t.HOOKS.PREPROCESS_SINGLE_DOCUMENT);for(let t=0;t<n.length;t++)try{n[t](e.document)}catch(e){h.warn("Error during single document preprocessing:",e)}}const r=[],a=e.document.getElementsByTagNameNS(L.epub,"trigger");for(let e=0;e<a.length;e++){const t=a[e],n=t.getAttributeNS(L.EV,"observer"),i=t.getAttributeNS(L.EV,"event"),o=t.getAttribute("action"),s=t.getAttribute("ref");n&&i&&o&&s&&r.push({observer:n,event:i,action:o,ref:s})}i.triggersByDocURL[o]=r;const l=[],c=O("user-agent-page.css",P);l.push({url:c,text:Yu,flavor:Hi.USER_AGENT,classes:null,media:null});const u=e.head;if(!s&&u)for(let e=u.firstChild;e;e=e.nextSibling){if(1!=e.nodeType)continue;const t=e,n=t.namespaceURI,i=t.localName;if(n==L.XHTML)if("style"==i){const e=t.getAttribute("class"),n=t.getAttribute("media"),i=t.getAttribute("title");l.push({url:o,text:t.textContent,flavor:Hi.AUTHOR,classes:i?e:null,media:n})}else if("link"==i){const e=t.getAttribute("rel"),n=t.getAttribute("class"),i=t.getAttribute("media");if("stylesheet"==e||"alternate stylesheet"==e&&n){let e=t.getAttribute("href");e=O(e,o);const s=t.getAttribute("title");l.push({url:e,text:null,classes:s?n:null,media:i,flavor:Hi.AUTHOR})}}else"meta"==i&&"viewport"==t.getAttribute("name")&&l.push({url:o,text:ed(t),flavor:Hi.AUTHOR,classes:null,media:null});else if(n==L.FB2)"stylesheet"==i&&"text/css"==t.getAttribute("type")&&l.push({url:o,text:t.textContent,flavor:Hi.AUTHOR,classes:null,media:null});else if(n==L.SSE&&"property"===i){const e=t.getElementsByTagName("name")[0];if(e&&"stylesheet"===e.textContent){const e=t.getElementsByTagName("value")[0];if(e){const t=O(e.textContent,o);l.push({url:t,text:null,classes:null,media:null,flavor:Hi.AUTHOR})}}}}if(!s)for(let e=0;e<i.styleSheets.length;e++)l.push(i.styleSheets[e]);let d="";for(let e=0;e<l.length;e++)d+=l[e].url,d+="^",l[e].text&&(d+=l[e].text),d+="^";let f=i.styleByKey[d];if(f)return i.styleByDocURL[o]=f,void n.finish(e);let g=i.styleFetcherByKey[d];g||(g=new xi(()=>{const e=pi("fetchStylesheet");let t=0;const n=new td(i.validatorSet);return e.loop(()=>{if(t<l.length){const e=l[t++];return n.startStylesheet(e.flavor),null!==e.text?fo(e.text,n,e.url,e.classes,e.media).thenReturn(!0):go(e.url,n,e.classes,e.media)}return fi(!1)}).then(()=>{const t=n.cascadeParserHandler.finish();f=new Zu(i,n.rootScope,n.pageScope,t,n.rootBox,n.fontFaces,n.footnoteProps,n.flowProps,n.viewportProps,n.pageProps),i.styleByKey[d]=f,delete i.styleFetcherByKey[d],e.finish(f)}),e.result()},`FetchStylesheet ${o}`),i.styleFetcherByKey[d]=g,g.start()),g.get().then(t=>{i.styleByDocURL[o]=t,n.finish(e)})}),n.result()}}function od(e){return String.fromCharCode(e>>>24&255,e>>>16&255,e>>>8&255,255&e)}function sd(e){return(255&e.charCodeAt(0))<<24|(255&e.charCodeAt(1))<<16|(255&e.charCodeAt(2))<<8|255&e.charCodeAt(3)}function rd(e){const t=new H;t.append(e);let n=55-e.length&63;for(t.append("");n>0;)n--,t.append("\0");t.append("\0\0\0\0"),t.append(od(8*e.length)),e=t.toString();const i=[1732584193,4023233417,2562383102,271733878,3285377520],o=[];let s;for(let t=0;t<e.length;t+=64){for(s=0;s<16;s++)o[s]=sd(e.substr(t+4*s,4));for(;s<80;s++){const e=o[s-3]^o[s-8]^o[s-14]^o[s-16];o[s]=e<<1|e>>>31}let n,r=i[0],a=i[1],l=i[2],h=i[3],c=i[4];for(s=0;s<80;s++)n=s<20?1518500249+(a&l|~a&h):s<40?1859775393+(a^l^h):s<60?2400959708+(a&l|a&h|l&h):3395469782+(a^l^h),n+=(r<<5|r>>>27)+c+o[s],c=h,h=l,l=a<<30|a>>>2,a=r,r=n;i[0]=i[0]+r|0,i[1]=i[1]+a|0,i[2]=i[2]+l|0,i[3]=i[3]+h|0,i[4]=i[4]+c|0}return i}function ad(e){const t=function(e){const t=rd(e),n=new H;for(let e=0;e<t.length;e++)n.append(od(t[e]));return n.toString()}(e),n=new H;for(let e=0;e<t.length;e++)n.append((256|t.charCodeAt(e)).toString(16).substr(1));return n.toString()}const ld="",hd="",cd="";class ud{constructor(e,t,n,i,o,s,r,a,l,h){this.store=e,this.url=t,this.lang=n,this.clientLayout=i,this.fontMapper=o,this.rendererFactory=r,this.fallbackMap=a,this.documentURLTransformer=l,this.counterStore=h,this.page=null,this.instance=null,this.pref=be(s),this.pref.spreadView=!1}setAutoHeight(e,t){if(0!=t--)for(let n=e.firstChild;n;n=n.nextSibling)if(1==n.nodeType){const e=n;"auto"!=z(e,"height","auto")&&(U(e,"height","auto"),this.setAutoHeight(e,t)),"absolute"==z(e,"position","static")&&(U(e,"position","relative"),this.setAutoHeight(e,t))}}makeCustomRenderer(e){const t=this.rendererFactory.makeCustomRenderer(e);return(e,n,i)=>{const o=i.behavior;if(o)switch(o.toString()){case"body-child":e.parentElement.getAttribute("data-vivliostyle-primary-entry")&&(e.querySelector("[role=doc-toc], [role=directory], nav li a, .toc, #toc")||(i.display=Bt.none));break;case"toc-node-anchor":i.color=Bt.inherit,i["text-decoration"]=Bt.none;break;case"toc-node":i.display=Bt.block,i.margin=Vt,i.padding=Vt,i["padding-inline-start"]=new Tt(1.25,"em");break;case"toc-node-first-child":i.display=Bt.inline_block,i.margin=new Tt(.2,"em"),i["vertical-align"]=Bt.top,i.color=Bt.inherit,i["text-decoration"]=Bt.none}if(!o||"toc-node"!=o.toString()&&"toc-container"!=o.toString())return t(e,n,i);const s=e.firstChild;s&&1!==s.nodeType&&""===s.textContent.trim()&&e.replaceChild(e.ownerDocument.createComment(s.textContent),s);const r=n.getAttribute("data-adapt-class");if("toc-node"==r){const e=n.firstChild;e.textContent!=ld&&(e.textContent=ld,U(e,"cursor","pointer"),e.addEventListener("click",dd,!1),e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),n.setAttribute("aria-expanded","false"),"0px"!==n.style.height&&(e.tabIndex=0))}const a=n.ownerDocument.createElement("div");if(a.setAttribute("data-adapt-process-children","true"),"toc-node"==o.toString()){const t=n.ownerDocument.createElement("div");if(t.textContent=cd,U(t,"margin","0.2em 0 0 -1em"),U(t,"margin-inline-start","-1em"),U(t,"margin-inline-end","0"),U(t,"display","inline-block"),U(t,"width","1em"),U(t,"text-align","center"),U(t,"vertical-align","top"),U(t,"cursor","default"),U(t,"font-family","Menlo,sans-serif"),a.appendChild(t),U(a,"overflow","hidden"),a.setAttribute("data-adapt-class","toc-node"),a.setAttribute("role","treeitem"),"toc-node"==r||"toc-container"==r){U(a,"height","0px");const t=e.firstElementChild;t&&"a"===t.localName&&(t.tabIndex=-1)}else n.setAttribute("role","tree")}else"toc-node"==r&&(a.setAttribute("data-adapt-class","toc-container"),a.setAttribute("role","group"),a.setAttribute("aria-hidden","true"));return fi(a)}}showTOC(e,t,n,i,o){if(this.page)return fi(this.page);const s=this,r=pi("showTOC"),a=new Yr(e,e);this.page=a;const l=this.url+"?viv-toc-box";return this.store.load(l).then(i=>{const l=this.store.resources[this.url];l&&l.body&&l.body.getAttribute("data-vivliostyle-primary-entry")&&i.body.setAttribute("data-vivliostyle-primary-entry",!0);const h=s.store.getStyleForDoc(i),c=h.sizeViewport(n,1e5,o);t=new zu(t.window,c.fontSize,t.root,c.width,c.height);const u=s.makeCustomRenderer(i),d=new Qu(h,i,s.lang,t,s.clientLayout,s.fontMapper,u,s.fallbackMap,0,s.documentURLTransformer,s.counterStore);s.instance=d,d.pref=s.pref,d.init().then(()=>{d.layoutNextPage(a,null).then(()=>{Array.from(a.container.querySelectorAll("[data-vivliostyle-toc-box]>*>*>*>*>*[style*='display: none']")).forEach(e=>{e.setAttribute("aria-hidden","true"),e.setAttribute("hidden","hidden")}),s.setAutoHeight(e,2),r.finish(a)})})}),r.result()}hideTOC(){this.page&&(this.page.container.style.visibility="hidden",this.page.container.setAttribute("aria-hidden","true"))}isTOCVisible(){return!!this.page&&"visible"===this.page.container.style.visibility}}function dd(e){const t=e.target,n=t.textContent==ld;t.textContent=n?hd:ld;const i=t.parentNode;t.setAttribute("aria-expanded",n?"true":"false"),i.setAttribute("aria-expanded",n?"true":"false");let o=i.firstChild;for(;o;){if(1===o.nodeType){const e=o,t=e.getAttribute("data-adapt-class");if("toc-container"===t){if(e.setAttribute("aria-hidden",n?"false":"true"),e.firstChild){o=e.firstChild;continue}}else if("toc-node"===t&&(e.style.height=n?"auto":"0px",e.children.length>=2&&(e.children[1].tabIndex=n?0:-1),e.children.length>=3&&(e.children[0].tabIndex=n?0:-1,!n))){const t=e.children[0];if(t.textContent==hd){t.textContent=ld,t.setAttribute("aria-expanded","false"),e.setAttribute("aria-expanded","false"),o=e.children[2];continue}}}for(;!o.nextSibling&&o.parentNode!==i;)o=o.parentNode;o=o.nextSibling}e.stopPropagation()}class pd extends id{constructor(){super(null),this.opfByURL={},this.primaryOPFByEPubURL={},this.deobfuscators={},this.documents={},this.fontDeobfuscator=this.makeDeobfuscatorFactory(),this.plainXMLStore=new ki(Wu,Ai.DOCUMENT),this.jsonStore=new ki(Fi,Ai.TEXT)}makeDeobfuscatorFactory(){const e=this;return t=>e.deobfuscators[t]}loadAsPlainXML(e,t,n){return this.plainXMLStore.load(e,t,n)}startLoadingAsPlainXML(e){this.plainXMLStore.fetch(e)}loadAsJSON(e,t,n){return this.jsonStore.load(e,t,n)}startLoadingAsJSON(e){this.jsonStore.fetch(e)}loadPubDoc(e,t){const n=pi("loadPubDoc");return Ri(e,null,"HEAD").then(i=>{if(i.status>=400)this.loadEPUBDoc(e,t).then(t=>{t?n.finish(t):(h.error(`Failed to fetch a source document from ${e} (${i.status}${i.statusText?" "+i.statusText:""})`),n.finish(null))});else if(i.status||i.responseXML||i.responseText||i.responseBlob||i.contentType||/\/[^/.]+(?:[#?]|$)/.test(e)&&(e=e.replace(/([#?]|$)/,"/$1")),"application/oebps-package+xml"==i.contentType||/\.opf(?:[#?]|$)/.test(e)){const[,i,o]=e.match(/^((?:.*\/)?)([^/]*)$/);this.loadOPF(i,o,t).thenFinish(n)}else"application/ld+json"==i.contentType||"application/webpub+json"==i.contentType||"application/audiobook+json"==i.contentType||"application/json"==i.contentType||/\.json(?:ld)?(?:[#?]|$)/.test(e)?this.loadAsJSON(e,!0).then(t=>{if(!t)return h.error(`Received an empty response for ${e}. This may be caused by the server not allowing cross-origin resource sharing (CORS).`),void n.finish(null);const i=new Cd(this,e);i.initWithWebPubManifest(t).then(()=>{n.finish(i)})}):this.loadWebPub(e).then(i=>{i?n.finish(i):this.loadEPUBDoc(e,t).then(t=>{t?n.finish(t):(h.error(`Failed to load ${e}.`),n.finish(null))})})}),n.result()}loadEPUBDoc(e,t){const n=pi("loadEPUBDoc");e.endsWith("/")||(e+="/"),t&&this.startLoadingAsJSON(e+"?r=list"),this.startLoadingAsPlainXML(e+"META-INF/encryption.xml");const i=e+"META-INF/container.xml";return this.loadAsPlainXML(i).then(i=>{if(i){const o=i.doc().child("container").child("rootfiles").child("rootfile").attribute("full-path");for(const i of o)if(i)return void this.loadOPF(e,i,t).thenFinish(n);n.finish(null)}}),n.result()}loadOPF(e,t,n){const i=this,o=e+t;let s=i.opfByURL[o];if(s)return fi(s);const r=pi("loadOPF");return i.loadAsPlainXML(o,!0,`Failed to fetch EPUB OPF ${o}`).then(t=>{t?i.loadAsPlainXML(`${e}META-INF/encryption.xml`).then(a=>{(n?i.loadAsJSON(`${e}?r=list`):fi(null)).then(n=>{s=new Cd(i,e),s.initWithXMLDoc(t,a,n,`${e}?r=manifest`).then(()=>{i.opfByURL[o]=s,i.primaryOPFByEPubURL[e]=s,r.finish(s)})})}):h.error(`Received an empty response for EPUB OPF ${o}. This may be caused by the server not allowing cross-origin resource sharing (CORS).`)}),r.result()}loadWebPub(e){const t=pi("loadWebPub");return this.load(e).then(n=>{if(n)if(n.document.querySelector("a[href='META-INF/'],a[href$='/META-INF/']"))t.finish(null);else{const i=n.document,o=new Cd(this,e);i.body&&i.body.setAttribute("data-vivliostyle-primary-entry",!0);const s=i.querySelector("link[rel='publication'],link[rel='manifest'][type='application/webpub+json']");if(s){const n=s.getAttribute("href");if(/^#/.test(n)){const e=C(i.getElementById(n.substr(1)).textContent);o.initWithWebPubManifest(e,i).then(()=>{t.finish(o)})}else this.loadAsJSON(O(s.getAttribute("href"),e)).then(e=>{o.initWithWebPubManifest(e,i).then(()=>{t.finish(o)})})}else o.initWithWebPubManifest({},i).then(()=>{o.xhtmlToc&&o.xhtmlToc.src===n.url&&(i.querySelector("[role=doc-toc], [role=directory], nav, .toc, #toc")||(o.xhtmlToc=null)),t.finish(o)})}else h.error(`Received an empty response for ${e}. This may be caused by the server not allowing cross-origin resource sharing (CORS).`)}),t.result()}addDocument(e,t){const n=pi("EPUBDocStore.load"),i=T(e);return(this.documents[i]=this.parseOPSResource({status:200,statusText:"",url:i,contentType:t.contentType,responseText:null,responseXML:t,responseBlob:null})).thenFinish(n),n.result()}load(e){const t=T(e);let n=this.documents[t];if(n)return n.isPending()?n:fi(n.get());{const e=pi("EPUBDocStore.load");return n=super.load(t,!0,`Failed to fetch a source document from ${t}`),n.then(n=>{n?e.finish(n):t.startsWith("data:")?h.error(`Failed to load ${t}. Invalid data.`):t.startsWith("http:")&&x.startsWith("https:")?h.error(`Failed to load ${t}. Mixed Content ("http:" content on "https:" context) is not allowed.`):h.error(`Received an empty response for ${t}. This may be caused by the server not allowing cross-origin resource sharing (CORS).`)}),e.result()}}}class fd{constructor(){this.id=null,this.src="",this.mediaType=null,this.title=null,this.itemRefElement=null,this.spineIndex=-1,this.compressedSize=0,this.compressed=null,this.epage=0,this.epageCount=0,this.startPage=null,this.skipPagesBefore=null,this.itemProperties=v}initWithElement(e,t){this.id=e.getAttribute("id"),this.src=O(e.getAttribute("href"),t),this.mediaType=e.getAttribute("media-type");const n=e.getAttribute("properties");n&&(this.itemProperties=function(e){const t={};for(let n=0;n<e.length;n++)t[e[n]]=!0;return t}(n.split(/\s+/)))}initWithParam(e){this.spineIndex=e.index,this.id=`item${e.index+1}`,this.src=e.url,this.startPage=e.startPage,this.skipPagesBefore=e.skipPagesBefore}}function gd(e){return e.id}function md(e){const t=function(e){const t=rd(e),n=[];for(const e of t)n.push(e>>>24&255,e>>>16&255,e>>>8&255,255&e);return n}(e);return e=>{const n=pi("deobfuscator");let i,o;return e.slice?(i=e.slice(0,1040),o=e.slice(1040,e.size)):(i=e.webkitSlice(0,1040),o=e.webkitSlice(1040,e.size-1040)),function(e){const t=pi("readBlob"),n=new FileReader,i=t.suspend(n);return n.addEventListener("load",()=>{i.schedule(n.result)},!1),n.readAsArrayBuffer(e),t.result()}(i).then(e=>{const i=new DataView(e);for(let e=0;e<i.byteLength;e++){let n=i.getUint8(e);n^=t[e%20],i.setUint8(e,n)}n.finish(Li([i,o]))}),n.result()}}const bd={dcterms:"http://purl.org/dc/terms/",marc:"http://id.loc.gov/vocabulary/",media:"http://www.idpf.org/epub/vocab/overlays/#",rendition:"http://www.idpf.org/vocab/rendition/#",onix:"http://www.editeur.org/ONIX/book/codelists/current.html#",xsd:"http://www.w3.org/2001/XMLSchema#"},wd="http://idpf.org/epub/vocab/package/#",Ed={language:`${bd.dcterms}language`,title:`${bd.dcterms}title`,creator:`${bd.dcterms}creator`,layout:`${bd.rendition}layout`,titleType:`${wd}title-type`,displaySeq:`${wd}display-seq`,alternateScript:`${wd}alternate-script`};function yd(e,t){const n={};return(i,o)=>{let s,r;const a=i.r||n,l=o.r||n;if(e==Ed.title&&(s="main"==a[Ed.titleType],r="main"==l[Ed.titleType],s!=r))return s?-1:1;let h=parseInt(a[Ed.displaySeq],10);isNaN(h)&&(h=Number.MAX_VALUE);let c=parseInt(l[Ed.displaySeq],10);return isNaN(c)&&(c=Number.MAX_VALUE),h!=c?h-c:e!=Ed.language&&t&&(s=(a[Ed.language]||a[Ed.alternateScript])==t,r=(l[Ed.language]||l[Ed.alternateScript])==t,s!=r)?s?-1:1:i.o-o.o}}function Sd(){const e=window.MathJax;return e?e.Hub:null}const Nd={"application/xhtml+xml":!0,"image/jpeg":!0,"image/png":!0,"image/svg+xml":!0,"image/gif":!0,"audio/mp3":!0},vd="viv-id-";class Cd{constructor(e,t){this.store=e,this.pubURL=t,this.opfXML=null,this.encXML=null,this.items=null,this.spine=null,this.itemMap=null,this.itemMapByPath=null,this.uid=null,this.bindings={},this.lang=null,this.epageCount=0,this.prePaginated=!1,this.epageIsRenderedPage=!0,this.epageCountCallback=null,this.metadata={},this.ncxToc=null,this.xhtmlToc=null,this.cover=null,this.fallbackMap={},this.pageProgression=null,this.documentURLTransformer=this.createDocumentURLTransformer(),Sd()&&(Io[L.MATHML]=!0)}createDocumentURLTransformer(){const e=this;return new class{transformFragment(e,t){return vd+K(t+(e?`#${e}`:""),":")}transformURL(t,n){const i=t.match(/^([^#]*)#?(.*)$/);if(i){const t=i[1]||n,o=i[2];if(t&&e.items.some(e=>e.src===t))return`#${this.transformFragment(o,t)}`}return t}restoreURL(e){"#"===e.charAt(0)&&(e=e.substring(1)),0===e.indexOf(vd)&&(e=e.substring(vd.length));const t=q(e,":").match(/^([^#]*)#?(.*)$/);return t?[t[1],t[2]]:[]}}}getMetadata(){return this.metadata}getPathFromURL(e){if(e.startsWith("data:"))return e===this.pubURL?"":e;if(this.pubURL){let t=O("",this.pubURL);return e===t||e+"/"===t?"":("/"!=t.charAt(t.length-1)&&(t+="/"),e.substr(0,t.length)==t?decodeURI(e.substr(t.length)):null)}return e}initWithXMLDoc(e,t,n,o){const s=this;this.opfXML=e,this.encXML=t;const r=e.doc().child("package"),a=r.attribute("unique-identifier")[0];if(a){const t=e.getElement(`${e.url}#${a}`);t&&(this.uid=t.textContent.replace(/[ \n\r\t]/g,""))}const l={};this.items=r.child("manifest").child("item").asArray().map(t=>{const n=new fd,i=t;n.initWithElement(i,e.url);const o=i.getAttribute("fallback");return o&&!Nd[n.mediaType]&&(l[n.src]=o),!s.xhtmlToc&&n.itemProperties.nav&&(s.xhtmlToc=n),!s.cover&&n.itemProperties["cover-image"]&&(s.cover=n),n}),this.itemMap=J(this.items,gd),this.itemMapByPath=J(this.items,e=>s.getPathFromURL(e.src));for(const e in l){let t=e;for(;;){const n=this.itemMap[l[t]];if(!n)break;if(Nd[n.mediaType]){this.fallbackMap[e]=n.src;break}t=n.src}}this.spine=r.child("spine").child("itemref").asArray().map((e,t)=>{const n=e,i=n.getAttribute("idref"),o=s.itemMap[i];return o&&(o.itemRefElement=n,o.spineIndex=t),o});const h=r.child("spine").attribute("toc")[0];h&&(this.ncxToc=this.itemMap[h]);const c=r.child("spine").attribute("page-progression-direction")[0];c&&(this.pageProgression=i(c));const u=t?t.doc().child("encryption").child("EncryptedData").predicate(ju.withChild("EncryptionMethod",ju.withAttribute("Algorithm","http://www.idpf.org/2008/embedding"))).child("CipherData").child("CipherReference").attribute("URI"):[],d=r.child("bindings").child("mediaType").asArray();for(let e=0;e<d.length;e++){const t=d[e].getAttribute("handler"),n=d[e].getAttribute("media-type");n&&t&&this.itemMap[t]&&(this.bindings[n]=this.itemMap[t].src)}if(this.metadata=function(e,t){let n;if(t){n={};for(const e in bd)n[e]=bd[e];let e;for(;null!=(e=t.match(/^\s*([A-Z_a-z\u007F-\uFFFF][-.A-Z_a-z0-9\u007F-\uFFFF]*):\s*(\S+)/));)t=t.substr(e[0].length),n[e[1]]=e[2]}else n=bd;const i=e=>{if(e){const t=e.match(/^\s*(([^:]*):)?(\S+)\s*$/);if(t){const e=t[2]?n[t[2]]:wd;if(e)return e+t[3]}}return null};let o=1;const s=e.childElements().forEachNonNull(e=>{if("meta"==e.localName){const t=i(e.getAttribute("property"));if(t)return{name:t,value:e.textContent,id:e.getAttribute("id"),order:o++,refines:e.getAttribute("refines"),lang:null,scheme:i(e.getAttribute("scheme"))}}else if(e.namespaceURI==L.DC)return{name:bd.dcterms+e.localName,order:o++,lang:e.getAttribute("xml:lang"),value:e.textContent,id:e.getAttribute("id"),refines:null,scheme:null};return null}),r=ee(s,e=>e.refines),a=e=>(function(e,t){const n={};for(const i in e)n[i]=t(e[i],i);return n})(e,(e,t)=>e.map(e=>{const t={v:e.value,o:e.order};if(e.schema&&(t.s=e.scheme),e.id||e.lang){let n=r[e.id];if(n||e.lang){if(e.lang){const t={name:Ed.language,value:e.lang,lang:null,id:null,refines:e.id,scheme:null,order:e.order};n?n.push(t):n=[t]}const i=ee(n,e=>e.name);t.r=a(i)}}return t})),l=a(ee(s,e=>e.refines?null:e.name));let h=null;l[Ed.language]&&(h=l[Ed.language][0].v);const c=e=>{for(const t in e){const n=e[t];n.sort(yd(t,h));for(let e=0;e<n.length;e++){const t=n[e].r;t&&c(t)}}};return c(l),l}(r.child("metadata"),r.attribute("prefix")[0]),this.metadata[Ed.language]&&(this.lang=this.metadata[Ed.language][0].v),this.metadata[Ed.layout]&&(this.prePaginated="pre-paginated"===this.metadata[Ed.layout][0].v),!n){if(u.length>0&&this.uid){const e=md(this.uid);for(let t=0;t<u.length;t++)this.store.deobfuscators[this.pubURL+u[t]]=e}return this.prePaginated&&this.assignAutoPages(),fi(!0)}const p=new H,f={};if(u.length>0&&this.uid){const e=function(e){return`1040:${ad(e)}`}(this.uid);for(let t=0;t<u.length;t++)f[u[t]]=e}for(let e=0;e<n.length;e++){const t=n[e],i=t.n;if(i){const e=decodeURI(i),n=this.itemMapByPath[e];let o=null;n&&(n.compressed=0!=t.m,n.compressedSize=t.c,n.mediaType&&(o=n.mediaType.replace(/\s+/g,"")));const s=f[e];(o||s)&&(p.append(i),p.append(" "),p.append(o||"application/octet-stream"),s&&(p.append(" "),p.append(s)),p.append("\n"))}}return s.assignAutoPages(),Ri(o,Ai.DEFAULT,"POST",p.toString(),"text/plain")}assignAutoPages(){let e=0;for(const t of this.spine){const n=this.prePaginated?1:Math.ceil(t.compressedSize/1024);t.epage=e,t.epageCount=n,e+=n}this.epageCount=e,this.epageCountCallback&&this.epageCountCallback(this.epageCount)}setEPageCountMode(e){this.epageIsRenderedPage=e||this.prePaginated}countEPages(e){if(this.epageCountCallback=e,this.epageIsRenderedPage)return this.prePaginated&&0==this.epageCount&&this.assignAutoPages(),fi(!0);let t=0,n=0;const i=pi("countEPages");return i.loopWithFrame(e=>{if(n===this.spine.length)return void e.breakLoop();const i=this.spine[n++];i.epage=t,this.store.load(i.src).then(n=>{let o=1800;const s=n.lang||this.lang;s&&s.match(/^(ja|ko|zh)/)&&(o/=3),i.epageCount=Math.ceil(n.getTotalOffset()/o),t+=i.epageCount,this.epageCount=t,this.epageCountCallback&&this.epageCountCallback(this.epageCount),e.continueLoop()})}).thenFinish(i),i.result()}initWithChapters(e,t){this.itemMap={},this.itemMapByPath={},this.items=[],this.spine=this.items;const n=this.opfXML=new Hu(null,"",(new DOMParser).parseFromString("<spine></spine>","text/xml"));return e.forEach(e=>{const t=new fd;t.initWithParam(e);const i=n.document.createElement("itemref");i.setAttribute("idref",t.id),n.root.appendChild(i),t.itemRefElement=i,this.itemMap[t.id]=t;let o=this.getPathFromURL(e.url);null==o&&(o=e.url),this.itemMapByPath[o]=t,this.items.push(t)}),t?this.store.addDocument(e[0].url,t):fi(null)}initWithWebPubManifest(e,t){e.readingProgression&&(this.pageProgression=e.readingProgression),void 0===this.metadata&&(this.metadata={});const n=t&&t.title||e.name||e.metadata&&e.metadata.title;n&&(this.metadata[Ed.title]=[{v:n}]);const i=this.getPathFromURL(this.pubURL);if(!e.readingOrder&&t&&null!==i){e.readingOrder=[encodeURI(i)];const n="[role=doc-toc] a[href],[role=directory] a[href],nav li a[href],.toc a[href],#toc a[href]";Array.from(t.querySelectorAll(n)).forEach(t=>{const n=T(O(t.getAttribute("href"),this.pubURL)),i=this.getPathFromURL(n),o=null!==i?encodeURI(i):n;-1==e.readingOrder.indexOf(o)&&e.readingOrder.push(o)})}const o=[];let s=0,r=-1;[e.readingOrder,e.resources].forEach(t=>{t instanceof Array&&t.forEach(t=>{const n=e.readingOrder.includes(t),i="string"==typeof t?t:t.url||t.href,a="string"==typeof t?"":t.encodingFormat||t.href&&t.type||"";if(n||"text/html"===a||"application/xhtml+xml"===a||/(^|\/)([^/]+\.(x?html|htm|xht)|[^/.]*)([#?]|$)/.test(i)){const e={url:O(R(i),this.pubURL),index:s++,startPage:null,skipPagesBefore:null};"contents"===t.rel&&-1===r&&(r=e.index),o.push(e)}})});const a=pi("initWithWebPubManifest");return this.initWithChapters(o).then(()=>{-1!==r&&(this.xhtmlToc=this.items[r]),this.xhtmlToc||(this.xhtmlToc=this.itemMapByPath[i]),a.finish(!0)}),a.result()}getCFI(e,t){const n=this.spine[e],i=pi("getCFI");return this.store.load(n.src).then(e=>{const o=e.getNodeByOffset(t);let s=null;if(o){const i=e.getNodeOffset(o,0,!1),r=t-i,a=new me;a.prependPathFromNode(o,r,!1,null),n.itemRefElement&&a.prependPathFromNode(n.itemRefElement,0,!1,null),s=a.toString()}i.finish(s)}),i.result()}resolveFragment(e){const t=this;return gi("resolveFragment",n=>{if(!e)return void n.finish(null);let i,o=new me;if(o.fromString(e),t.opfXML){const e=o.navigate(t.opfXML.document);if(1!=e.node.nodeType||e.after||!e.ref)return void n.finish(null);const s=e.node,r=s.getAttribute("idref");if("itemref"!=s.localName||!r||!t.itemMap[r])return void n.finish(null);i=t.itemMap[r],o=e.ref}else i=t.spine[0];t.store.load(i.src).then(e=>{const t=o.navigate(e.document),s=e.getNodeOffset(t.node,t.offset,t.after);n.finish({spineIndex:i.spineIndex,offsetInItem:s,pageIndex:-1})})},(t,n)=>{h.warn(n,"Cannot resolve fragment:",e),t.finish(null)})}resolveEPage(e){const t=this;return gi("resolveEPage",n=>{if(e<=0)return void n.finish({spineIndex:0,offsetInItem:0,pageIndex:-1});if(t.epageIsRenderedPage){let i=t.spine.findIndex(t=>0==t.epage&&0==t.epageCount||t.epage<=e&&t.epage+t.epageCount>e);-1==i&&(i=t.spine.length-1);let o=t.spine[i];o&&0!=o.epageCount||(o=t.spine[--i]);const s=Math.floor(e-o.epage);return void n.finish({spineIndex:i,offsetInItem:-1,pageIndex:s})}let i=Z(t.spine.length,n=>{const i=t.spine[n];return i.epage+i.epageCount>e});i==t.spine.length&&i--;const o=t.spine[i];t.store.load(o.src).then(t=>{(e-=o.epage)>o.epageCount&&(e=o.epageCount);let s=0;if(e>0){const n=t.getTotalOffset();s=Math.round(n*e/o.epageCount),s==n&&s--}n.finish({spineIndex:i,offsetInItem:s,pageIndex:-1})})},(t,n)=>{h.warn(n,"Cannot resolve epage:",e),t.finish(null)})}getEPageFromPosition(e){const t=this.spine[e.spineIndex];if(this.epageIsRenderedPage)return fi(t.epage+e.pageIndex);if(e.offsetInItem<=0)return fi(t.epage);const n=pi("getEPage");return this.store.load(t.src).then(i=>{const o=i.getTotalOffset(),s=Math.min(o,e.offsetInItem);n.finish(t.epage+s*t.epageCount/o)}),n.result()}}const Td=(e,t)=>({page:e,position:{spineIndex:e.spineIndex,pageIndex:t,offsetInItem:e.offset}});class xd{constructor(e,t,n,i,o){this.opf=e,this.viewport=t,this.fontMapper=n,this.pageSheetSizeReporter=o,this.spineItems=[],this.spineItemLoadingContinuations=[],this.tocAutohide=!1,this.pref=be(i),this.clientLayout=new Uu(t),this.counterStore=new Tn(e.documentURLTransformer)}getPage(e){const t=this.spineItems[e.spineIndex];return t?t.pages[e.pageIndex]:null}getCurrentPageProgression(e){if(this.opf.pageProgression)return this.opf.pageProgression;{const t=this.spineItems[e?e.spineIndex:0];return t?t.instance.pageProgression:null}}finishPageContainer(e,t,n){t.container.style.display="none",t.container.style.visibility="visible",t.container.style.position="",t.container.style.top="",t.container.style.left="",t.container.setAttribute("data-vivliostyle-page-side",t.side);const i=e.pages[n];if(t.isFirstPage=0==e.item.spineIndex&&0==n,e.pages[n]=t,this.opf.epageIsRenderedPage){if(0==n&&e.item.spineIndex>0){const t=this.opf.spine[e.item.spineIndex-1];e.item.epage=t.epage+t.epageCount}e.item.epageCount=e.pages.length,this.opf.epageCount=this.opf.spine.reduce((e,t)=>e+t.epageCount,0),this.opf.epageCountCallback&&this.opf.epageCountCallback(this.opf.epageCount)}if(i)e.instance.viewport.contentContainer.replaceChild(t.container,i.container),i.dispatchEvent({type:"replaced",target:null,currentTarget:null,preventDefault:null,newPage:t});else{let i=null;if(n>0)i=e.pages[n-1].container.nextElementSibling;else for(let t=e.item.spineIndex+1;t<this.spineItems.length;t++){const e=this.spineItems[t];if(e&&e.pages[0]){i=e.pages[0].container;break}}e.instance.viewport.contentContainer.insertBefore(t.container,i)}this.pageSheetSizeReporter({width:e.instance.pageSheetWidth,height:e.instance.pageSheetHeight},e.instance.pageSheetSize,e.item.spineIndex,e.instance.pageNumberOffset+n)}renderSinglePage(e,t){const n=pi("renderSinglePage");let i=this.makePage(e,t);const o=this;return e.instance.layoutNextPage(i,t).then(s=>{const r=(t=s)?t.page-1:e.layoutPositions.length-1;o.finishPageContainer(e,i,r),o.counterStore.finishPage(i.spineIndex,r);let a=null;if(t){const n=e.layoutPositions[t.page];e.layoutPositions[t.page]=t,n&&e.pages[t.page]&&(t.isSamePosition(n)||(a=o.renderSinglePage(e,t)))}a||(a=fi(!0)),a.then(()=>{const s=o.counterStore.getUnresolvedRefsToPage(i);let a=0;n.loopWithFrame(e=>{if(a++,a>s.length)return void e.breakLoop();const t=s[a-1];t.refs=t.refs.filter(e=>!e.isResolved()),0!==t.refs.length?o.getPageViewItem(t.spineIndex).then(n=>{if(!n)return void e.continueLoop();o.counterStore.pushPageCounters(t.pageCounters),o.counterStore.pushReferencesToSolve(t.refs);const s=n.layoutPositions[t.pageIndex];o.renderSinglePage(n,s).then(t=>{o.counterStore.popPageCounters(),o.counterStore.popReferencesToSolve();const n=t.pageAndPosition.position;n.spineIndex===i.spineIndex&&n.pageIndex===r&&(i=t.pageAndPosition.page),e.continueLoop()})}):e.continueLoop()}).then(()=>{i.container.parentElement||(i=e.pages[r]),i.isLastPage=!t&&e.item.spineIndex===o.opf.spine.length-1,i.isLastPage&&(o.viewport,o.counterStore.finishLastPage(o.viewport)),n.finish({pageAndPosition:Td(i,r),nextLayoutPosition:t})})})}),n.result()}normalizeSeekPosition(e,t){let n=e.pageIndex,i=-1;if(n<0){i=e.offsetInItem;const o=Z(t.layoutPositions.length,e=>t.instance.getPosition(t.layoutPositions[e],!0)>i);n=o===t.layoutPositions.length?t.complete?t.layoutPositions.length-1:Number.POSITIVE_INFINITY:o-1}else n===Number.POSITIVE_INFINITY&&-1!==e.offsetInItem&&(i=e.offsetInItem);return{spineIndex:e.spineIndex,pageIndex:n,offsetInItem:i}}findPage(e,t){const n=this,i=pi("findPage");return n.getPageViewItem(e.spineIndex).then(o=>{if(!o)return void i.finish(null);let s,r=null;i.loopWithFrame(a=>{const l=n.normalizeSeekPosition(e,o);s=l.pageIndex,r=o.pages[s],r?a.breakLoop():o.complete?(s=o.layoutPositions.length-1,r=o.pages[s],a.breakLoop()):t?n.renderPage(l).then(e=>{e&&(r=e.page,s=e.position.pageIndex),a.breakLoop()}):i.sleep(100).then(()=>{a.continueLoop()})}).then(()=>{i.finish(Td(r,s))})}),i.result()}renderPage(e){const t=this,n=pi("renderPage");return t.getPageViewItem(e.spineIndex).then(i=>{if(!i)return void n.finish(null);const o=t.normalizeSeekPosition(e,i);let s=o.pageIndex;const r=o.offsetInItem;let a=i.pages[s];a?n.finish(Td(a,s)):n.loopWithFrame(e=>{if(s<i.layoutPositions.length)return void e.breakLoop();if(i.complete)return s=i.layoutPositions.length-1,void e.breakLoop();let n=i.layoutPositions[i.layoutPositions.length-1];t.renderSinglePage(i,n).then(t=>{const o=t.pageAndPosition.page;if(n=t.nextLayoutPosition,n){if(r>=0&&i.instance.getPosition(n)>r)return a=o,s=i.layoutPositions.length-2,void e.breakLoop();e.continueLoop()}else a=o,s=t.pageAndPosition.position.pageIndex,i.complete=!0,e.breakLoop()})}).then(()=>{a=a||i.pages[s];const e=i.layoutPositions[s];a?n.finish(Td(a,s)):t.renderSinglePage(i,e).then(e=>{e.nextLayoutPosition||(i.complete=!0),n.finish(e.pageAndPosition)})})}),n.result()}renderAllPages(){return this.renderPagesUpto({spineIndex:this.opf.spine.length-1,pageIndex:Number.POSITIVE_INFINITY,offsetInItem:-1},!1)}renderPagesUpto(e,t){const n=this,i=pi("renderPagesUpto");e||(e={spineIndex:0,pageIndex:0,offsetInItem:0});const o=e.spineIndex,s=e.pageIndex;let r,a=0;return t&&(a=o),i.loopWithFrame(t=>{const i={spineIndex:a,pageIndex:a===o?s:Number.POSITIVE_INFINITY,offsetInItem:a===o?e.offsetInItem:-1};n.renderPage(i).then(e=>{r=e,++a>o?t.breakLoop():t.continueLoop()})}).then(()=>{i.finish(r)}),i.result()}firstPage(e,t){return this.findPage({spineIndex:0,pageIndex:0,offsetInItem:-1},t)}lastPage(e,t){return this.findPage({spineIndex:this.opf.spine.length-1,pageIndex:Number.POSITIVE_INFINITY,offsetInItem:-1},t)}nextPage(e,t){const n=this;let i=e.spineIndex,o=e.pageIndex;const s=pi("nextPage");return n.getPageViewItem(i).then(e=>{if(e){if(e.complete&&o==e.layoutPositions.length-1){if(i>=n.opf.spine.length-1)return void s.finish(null);i++,o=0;const t=this.spineItems[i],r=t&&t.pages[0],a=e.pages[e.pages.length-1];r&&a&&r.side==a.side&&(t.pages.forEach(e=>{e.container&&e.container.remove()}),this.spineItems[i]=null,this.spineItemLoadingContinuations[i]=null)}else o++;n.findPage({spineIndex:i,pageIndex:o,offsetInItem:-1},t).thenFinish(s)}else s.finish(null)}),s.result()}previousPage(e,t){let n=e.spineIndex,i=e.pageIndex;if(0==i){if(0==n)return fi(null);n--,i=Number.POSITIVE_INFINITY}else i--;return this.findPage({spineIndex:n,pageIndex:i,offsetInItem:-1},t)}isRectoPage(e,n){const i=e.side===t.PageSide.LEFT,o=this.getCurrentPageProgression(n)===t.PageProgression.LTR;return!i&&o||i&&!o}getSpread(e,n){const i=pi("getCurrentSpread"),o=this.getPage(e);if(!o)return fi({left:null,right:null});const s=o.side===t.PageSide.LEFT;let r;return r=this.isRectoPage(o,e)?this.previousPage(e,n):this.nextPage(e,n),r.then(t=>{const n=this.getPage(e);let o=t&&t.page;o&&o.side===n.side&&(o=null),s?i.finish({left:n,right:o}):i.finish({left:o,right:n})}),i.result()}nextSpread(e,t){const n=this.getPage(e);if(!n)return fi(null);const i=this.isRectoPage(n,e),o=this.nextPage(e,t);if(i)return o;{const e=this;return o.thenAsync(i=>{if(i){if(i.page.side===n.side)return o;const s=e.nextPage(i.position,t);return s.thenAsync(e=>e?s:o)}return fi(null)})}}previousSpread(e,t){const n=this.getPage(e);if(!n)return fi(null);const i=this.isRectoPage(n,e),o=this.previousPage(e,t),s=n.container.previousElementSibling;if(i){const e=this;return o.thenAsync(i=>i?i.page.side===n.side?o:i.page.container!==s?o:e.previousPage(i.position,t):fi(null))}return o}navigateToEPage(e,t,n){const i=pi("navigateToEPage"),o=this;return this.opf.resolveEPage(e).then(e=>{e?o.findPage(e,n).thenFinish(i):i.finish(null)}),i.result()}navigateToFragment(e,t,n){const i=pi("navigateToCFI"),o=this;return o.opf.resolveFragment(e).then(e=>{e?o.findPage(e,n).thenFinish(i):i.finish(null)}),i.result()}navigateTo(e,t,n){h.debug("Navigate to",e);let i=this.opf.getPathFromURL(T(e));if(!i){if(this.opf.opfXML&&e.match(/^#epubcfi\(/))i=this.opf.getPathFromURL(this.opf.opfXML.url);else if("#"===e.charAt(0)){const t=this.opf.documentURLTransformer.restoreURL(e);this.opf.opfXML?(i=this.opf.getPathFromURL(t[0]),null==i&&(i=t[0])):i=t[0],e=t[0]+(t[1]?`#${t[1]}`:"")}if(null==i)return fi(null)}const o=this.opf.itemMapByPath[i];if(!o){if(this.opf.opfXML&&i==this.opf.getPathFromURL(this.opf.opfXML.url)){const i=e.indexOf("#");if(i>=0)return this.navigateToFragment(e.substr(i+1),t,n)}return fi(null)}const s=pi("navigateTo"),r=this;return r.getPageViewItem(o.spineIndex).then(i=>{if(!i)return void s.finish(null);const a=i.xmldoc.getElement(e);a?r.findPage({spineIndex:o.spineIndex,pageIndex:-1,offsetInItem:i.xmldoc.getElementOffset(a)},n).thenFinish(s):t.spineIndex!==o.spineIndex?r.findPage({spineIndex:o.spineIndex,pageIndex:0,offsetInItem:-1},n).thenFinish(s):s.finish(null)}),s.result()}makePage(e,n){const i=e.instance.viewport,o=i.document.createElement("div");o.setAttribute("data-vivliostyle-page-container","true"),o.setAttribute("role","region"),o.style.position="absolute",o.style.top="0",o.style.left="0",t.isDebug||(o.style.visibility="hidden",o.setAttribute("aria-hidden","true")),i.layoutBox.appendChild(o);const s=i.document.createElement("div");s.setAttribute("data-vivliostyle-bleed-box","true"),o.appendChild(s);const r=new Yr(o,s);if(r.spineIndex=e.item.spineIndex,r.position=n,r.offset=e.instance.getPosition(n),0===r.offset){const t=this.opf.documentURLTransformer.transformFragment("",e.item.src);s.setAttribute("id",t),r.registerElementWithId(s,t)}if(i!==this.viewport){const e=ye(this.viewport.width,this.viewport.height,i.width,i.height),t=mo(null,new hi(e,null),"");r.delayedItems.push(new Xr(o,"transform",t))}return r}makeObjectView(e,t,n,i){let o=t.getAttribute("data"),s=null;if(o){o=O(o,e.url);let n=t.getAttribute("media-type");if(!n){const e=this.opf.getPathFromURL(o);if(e){const t=this.opf.itemMapByPath[e];t&&(n=t.mediaType)}}if(n){const e=this.opf.bindings[n];if(e){s=this.viewport.document.createElement("iframe"),s.style.border="none";const i=X(o),r=X(n),a=new H;a.append(e),a.append("?src="),a.append(i),a.append("&type="),a.append(r);for(let e=t.firstChild;e;e=e.nextSibling)if(1==e.nodeType){const t=e;if("param"==t.localName&&t.namespaceURI==L.XHTML){const e=t.getAttribute("name"),n=t.getAttribute("value");e&&n&&(a.append("&"),a.append(encodeURIComponent(e)),a.append("="),a.append(encodeURIComponent(n)))}}s.setAttribute("src",a.toString());const l=t.getAttribute("width");l&&s.setAttribute("width",l);const h=t.getAttribute("height");h&&s.setAttribute("height",h)}}}return s||(s=this.viewport.document.createElement("span"),s.setAttribute("data-adapt-process-children","true")),fi(s)}makeMathJaxView(e,t,n,i){const o=Sd();if(o){const i=n.ownerDocument,s=i.createElement("span");n.appendChild(s);const r=i.importNode(t,!0);this.resolveURLsInMathML(r,e),s.appendChild(r);const a=o.queue;a.Push(["Typeset",o,s]);const l=pi("makeMathJaxView"),h=l.suspend();return a.Push(()=>{h.schedule(s)}),l.result()}return fi(null)}resolveURLsInMathML(e,t){if(null!=e){if(1===e.nodeType&&"mglyph"===e.tagName){const n=Array.from(e.attributes);for(const i of n){if("src"!==i.name)continue;const n=O(i.nodeValue,t.url);i.namespaceURI?e.setAttributeNS(i.namespaceURI,i.name,n):e.setAttribute(i.name,n)}}e.firstChild&&this.resolveURLsInMathML(e.firstChild,t),e.nextSibling&&this.resolveURLsInMathML(e.nextSibling,t)}}makeSSEView(e,t,n,i){const o=n?n.ownerDocument:this.viewport.document,s=t.localName;let r;switch(s){case"t":case"tab":case"ec":case"nt":case"fraction":case"comment":case"mark":r="span";break;case"ruby":case"rp":case"rt":r=s;break;default:r="div"}const a=o.createElement(r);return a.setAttribute("data-adapt-process-children","true"),fi(a)}makeCustomRenderer(e){const t=this;return(n,i,o)=>"object"==n.localName&&n.namespaceURI==L.XHTML?t.makeObjectView(e,n,i,o):n.namespaceURI==L.MATHML?t.makeMathJaxView(e,n,i,o):n.namespaceURI==L.SSE?t.makeSSEView(e,n,i,o):n.dataset&&"true"==n.dataset.mathTypeset?t.makeMathJaxView(e,n,i,o):fi(null)}getPageViewItem(e){const t=this;if(-1===e||e>=t.opf.spine.length)return fi(null);let n=t.spineItems[e];if(n)return fi(n);const i=pi("getPageViewItem");let o=this.spineItemLoadingContinuations[e];if(o){const e=i.suspend();return o.push(e),i.result()}o=this.spineItemLoadingContinuations[e]=[];const s=t.opf.spine[e],r=t.opf.store;return r.load(s.src).then(a=>{s.title=a.document.title;const l=r.getStyleForDoc(a),h=t.makeCustomRenderer(a);let c=t.viewport;const u=l.sizeViewport(c.width,c.height,c.fontSize,t.pref);u.width==c.width&&u.height==c.height&&u.fontSize==c.fontSize||(c=new zu(c.window,u.fontSize,c.root,u.width,u.height));const d=t.spineItems[e-1];let p;null!==s.startPage?p=s.startPage-1:(!(e>0)||d&&d.complete?p=d?d.instance.pageNumberOffset+d.pages.length:0:(p=s.epage||e,t.opf.prePaginated||p%2!=0||p++),null!==s.skipPagesBefore&&(p+=s.skipPagesBefore)),t.counterStore.forceSetPageCounter(p);const f=new Qu(l,a,t.opf.lang,c,t.clientLayout,t.fontMapper,h,t.opf.fallbackMap,p,t.opf.documentURLTransformer,t.counterStore,t.opf.pageProgression);f.pref=t.pref;const g=t.opf.metadata&&t.opf.metadata[Ed.title];f.pubTitle=g&&g[0]&&g[0].v||"",f.docTitle=s.title||"",f.init().then(()=>{n={item:s,xmldoc:a,instance:f,layoutPositions:[null],pages:[],complete:!1},t.spineItems[e]=n,i.finish(n),o.forEach(e=>{e.schedule(n)})})}),i.result()}removeRenderedPages(){const e=this.spineItems;for(const t of e)t&&t.pages.splice(0);this.viewport.clear()}hasAutoSizedPages(){const e=this.spineItems;for(const t of e)if(t){const e=t.pages;for(const t of e)if(t.isAutoPageWidth&&t.isAutoPageHeight)return!0}return!1}hasPages(){return this.spineItems.some(e=>e&&e.pages.length>0)}showTOC(e){const t=this.opf,n=t.xhtmlToc||t.ncxToc;if(this.tocAutohide=e,!n)return fi(null);if(this.tocView&&this.tocView.page)return this.tocView.page.container.style.visibility="visible",this.tocView.page.container.setAttribute("aria-hidden","false"),fi(this.tocView.page);const i=pi("showTOC");this.tocView||(this.tocView=new ud(t.store,n.src,t.lang,this.clientLayout,this.fontMapper,this.pref,this,t.fallbackMap,t.documentURLTransformer,this.counterStore));const o=this.viewport,s=Math.min(350,Math.round(.67*o.width)-16),r=o.height-6,a=o.document.createElement("div");return o.root.appendChild(a),a.style.visibility="hidden",a.style.width=`${s+10}px`,a.style.maxHeight=`${r}px`,a.setAttribute("data-vivliostyle-toc-box","true"),a.setAttribute("role","navigation"),this.tocView.showTOC(a,o,s,r,this.viewport.fontSize).then(e=>{a.style.visibility="visible",a.setAttribute("aria-hidden","false"),i.finish(e)}),i.result()}hideTOC(){this.tocView&&this.tocView.hideTOC()}isTOCVisible(){return!!this.tocView&&this.tocView.isTOCVisible()}}const Id="data-vivliostyle-viewer-status",Pd="data-vivliostyle-spread-view";var Ad,Od;!function(e){e.SINGLE_PAGE="singlePage",e.SPREAD="spread",e.AUTO_SPREAD="autoSpread"}(Ad||(Ad={}));class Rd{constructor(e,n,i,o){this.window=e,this.viewportElement=n,this.instanceId=i,this.callbackFn=o,this.pageSheetSizeAlreadySet=!1,this.renderTask=null;const s=this;n.setAttribute("data-vivliostyle-viewer-viewport",!0),t.isDebug&&n.setAttribute("data-vivliostyle-debug",!0),n.setAttribute(Id,"loading");const r=e.document;this.fontMapper=new wc(r.head,n),this.init(),this.kick=()=>{},this.sendCommand=()=>{},this.resizeListener=()=>{s.needResize=!0,s.kick()},this.pageReplacedListener=this.pageReplacedListener.bind(this),this.hyperlinkListener=e=>{},this.pageRuleStyleElement=r.getElementById("vivliostyle-page-rules"),this.actions={loadPublication:this.loadPublication,loadXML:this.loadXML,configure:this.configure,moveTo:this.moveTo,toc:this.showTOC},this.addLogListeners()}init(){this.readyState=t.ReadyState.LOADING,this.packageURL=[],this.opf=null,this.haveZipMetadata=!1,this.touchActive=!1,this.touchX=0,this.touchY=0,this.needResize=!1,this.needRefresh=!1,this.viewportSize=null,this.currentPage=null,this.currentSpread=null,this.pagePosition=null,this.fontSize=16,this.zoom=1,this.fitToScreen=!1,this.pageViewMode=Ad.SINGLE_PAGE,this.waitForLoading=!1,this.renderAllPages=!0,this.pref={fontFamily:"serif",lineHeight:1.25,margin:8,hyphenate:!1,columnWidth:25,horizontal:!1,nightMode:!1,spreadView:!1,pageBorder:1,enabledMediaTypes:{vivliostyle:!0,print:!0},defaultPaperSize:void 0},this.pageSizes=[]}addLogListeners(){const e=r;h.addListener(e.DEBUG,e=>{this.callback({t:"debug",content:e})}),h.addListener(e.INFO,e=>{this.callback({t:"info",content:e})}),h.addListener(e.WARN,e=>{this.callback({t:"warn",content:e})}),h.addListener(e.ERROR,e=>{this.callback({t:"error",content:e})})}callback(e){e.i=this.instanceId,this.callbackFn(e)}setReadyState(e){this.readyState!==e&&(this.readyState=e,this.viewportElement.setAttribute(Id,e),this.callback({t:"readystatechange"}))}loadPublication(e){S.registerStartTiming("beforeRender"),this.setReadyState(t.ReadyState.LOADING);const n=e.url,i=e.fragment,o=!!e.zipmeta,s=e.authorStyleSheet,r=e.userStyleSheet;this.viewport=null;const a=pi("loadPublication"),l=this;return l.configure(e).then(()=>{const e=new pd;e.init(s,r).then(()=>{const t=O(R(n),l.window.location.href);l.packageURL=[t],e.loadPubDoc(t,o).then(e=>{e?(l.opf=e,l.render(i).then(()=>{a.finish(!0)})):a.finish(!1)})})}),a.result()}loadXML(e){S.registerStartTiming("beforeRender"),this.setReadyState(t.ReadyState.LOADING);const n=e.url,i=e.document,o=e.fragment,s=e.authorStyleSheet,r=e.userStyleSheet;this.viewport=null;const a=pi("loadXML"),l=this;return l.configure(e).then(()=>{const e=new pd;e.init(s,r).then(()=>{const t=n.map((e,t)=>({url:O(R(e.url),l.window.location.href),index:t,startPage:e.startPage,skipPagesBefore:e.skipPagesBefore}));l.packageURL=t.map(e=>e.url),l.opf=new Cd(e,""),l.opf.initWithChapters(t,i).then(()=>{l.render(o).then(()=>{a.finish(!0)})})})}),a.result()}render(e){this.cancelRenderingTask();const t=this;let n;return n=e?this.opf.resolveFragment(e).thenAsync(e=>(t.pagePosition=e,fi(!0))):fi(!0),n.thenAsync(()=>(S.registerEndTiming("beforeRender"),t.resize()))}resolveLength(e){const t=parseFloat(e);let n;if("string"==typeof e&&(n=e.match(/[a-z]+$/))){const e=n[0];if("em"===e||"rem"===e)return t*this.fontSize;if("ex"===e)return t*Ie.ex*this.fontSize/Ie.em;const i=Ie[e];if(i)return t*i}return t}configure(e){if("boolean"==typeof e.autoresize&&(e.autoresize?(this.viewportSize=null,this.window.addEventListener("resize",this.resizeListener,!1),this.needResize=!0):this.window.removeEventListener("resize",this.resizeListener,!1)),"number"==typeof e.fontSize){const t=e.fontSize;t>=5&&t<=72&&this.fontSize!=t&&(this.fontSize=t,this.needResize=!0)}if("object"==typeof e.viewport&&e.viewport){const t=e.viewport,n={marginLeft:this.resolveLength(t["margin-left"])||0,marginRight:this.resolveLength(t["margin-right"])||0,marginTop:this.resolveLength(t["margin-top"])||0,marginBottom:this.resolveLength(t["margin-bottom"])||0,width:this.resolveLength(t.width)||0,height:this.resolveLength(t.height)||0};(n.width>=200||n.height>=200)&&(this.window.removeEventListener("resize",this.resizeListener,!1),this.viewportSize=n,this.needResize=!0)}return"boolean"==typeof e.hyphenate&&(this.pref.hyphenate=e.hyphenate,this.needResize=!0),"boolean"==typeof e.horizontal&&(this.pref.horizontal=e.horizontal,this.needResize=!0),"boolean"==typeof e.nightMode&&(this.pref.nightMode=e.nightMode,this.needResize=!0),"number"==typeof e.lineHeight&&(this.pref.lineHeight=e.lineHeight,this.needResize=!0),"number"==typeof e.columnWidth&&(this.pref.columnWidth=e.columnWidth,this.needResize=!0),"string"==typeof e.fontFamily&&(this.pref.fontFamily=e.fontFamily,this.needResize=!0),"boolean"==typeof e.load&&(this.waitForLoading=e.load),"boolean"==typeof e.renderAllPages&&(this.renderAllPages=e.renderAllPages),"string"==typeof e.userAgentRootURL&&(I(e.userAgentRootURL.replace(/resources\/?$/,"")),A(e.userAgentRootURL)),"string"==typeof e.rootURL&&(I(e.rootURL),A(`${x}resources/`)),"string"==typeof e.pageViewMode&&e.pageViewMode!==this.pageViewMode&&(this.pageViewMode=e.pageViewMode,this.needResize=!0),"number"==typeof e.pageBorder&&e.pageBorder!==this.pref.pageBorder&&(this.viewport=null,this.pref.pageBorder=e.pageBorder,this.needResize=!0),"number"==typeof e.zoom&&e.zoom!==this.zoom&&(this.zoom=e.zoom,this.needRefresh=!0),"boolean"==typeof e.fitToScreen&&e.fitToScreen!==this.fitToScreen&&(this.fitToScreen=e.fitToScreen,this.needRefresh=!0),"object"==typeof e.defaultPaperSize&&"number"==typeof e.defaultPaperSize.width&&"number"==typeof e.defaultPaperSize.height&&(this.viewport=null,this.pref.defaultPaperSize=e.defaultPaperSize,this.needResize=!0),this.configurePlugins(e),fi(!0)}configurePlugins(e){p(t.HOOKS.CONFIGURATION).forEach(t=>{const n=t(e);this.needResize=n.needResize||this.needResize,this.needRefresh=n.needRefresh||this.needRefresh})}pageReplacedListener(e){const t=this.currentPage,n=this.currentSpread,i=e.target;n?n.left!==i&&n.right!==i||this.showCurrent(e.newPage):t===e.target&&this.showCurrent(e.newPage)}forCurrentPages(e){const t=[];this.currentPage&&t.push(this.currentPage),this.currentSpread&&(t.push(this.currentSpread.left),t.push(this.currentSpread.right)),t.forEach(t=>{t&&e(t)})}removePageListeners(){this.forCurrentPages(e=>{e.removeEventListener("hyperlink",this.hyperlinkListener,!1),e.removeEventListener("replaced",this.pageReplacedListener,!1)})}hidePages(){this.removePageListeners(),this.forCurrentPages(e=>{U(e.container,"display","none"),e.container.setAttribute("aria-hidden","true")}),this.currentPage=null,this.currentSpread=null}showSinglePage(e){e.addEventListener("hyperlink",this.hyperlinkListener,!1),e.addEventListener("replaced",this.pageReplacedListener,!1),U(e.container,"visibility","visible"),U(e.container,"display","block"),e.container.setAttribute("aria-hidden","false")}showPage(e){this.hidePages(),this.currentPage=e,e.container.style.marginLeft="",e.container.style.marginRight="",this.showSinglePage(e)}showSpread(e){if(this.hidePages(),this.currentSpread=e,e.left&&e.right){let t=parseFloat(e.left.container.style.width),n=parseFloat(e.right.container.style.width);t&&n&&t!==n&&(t<n?e.left.container.style.marginLeft=`${n-t}px`:e.right.container.style.marginRight=`${t-n}px`)}e.left&&(this.showSinglePage(e.left),e.right?e.left.container.removeAttribute("data-vivliostyle-unpaired-page"):e.left.container.setAttribute("data-vivliostyle-unpaired-page",!0)),e.right&&(this.showSinglePage(e.right),e.left?e.right.container.removeAttribute("data-vivliostyle-unpaired-page"):e.right.container.setAttribute("data-vivliostyle-unpaired-page",!0))}reportPosition(){const e=pi("reportPosition"),t=this;return t.pagePosition,t.opf.getCFI(this.pagePosition.spineIndex,this.pagePosition.offsetInItem).then(n=>{const i=t.currentPage;(t.waitForLoading&&i.fetchers.length>0?Ii(i.fetchers):fi(!0)).then(()=>{t.sendLocationNotification(i,n).thenFinish(e)})}),e.result()}createViewport(){const e=this.viewportElement;if(this.viewportSize){const t=this.viewportSize;return e.style.marginLeft=`${t.marginLeft}px`,e.style.marginRight=`${t.marginRight}px`,e.style.marginTop=`${t.marginTop}px`,e.style.marginBottom=`${t.marginBottom}px`,new zu(this.window,this.fontSize,e,t.width,t.height)}return new zu(this.window,this.fontSize,e)}resolveSpreadView(e){switch(this.pageViewMode){case Ad.SINGLE_PAGE:return!1;case Ad.SPREAD:return!0;case Ad.AUTO_SPREAD:default:return e.width/e.height>=1.45&&e.width>800}}updateSpreadView(e){this.pref.spreadView=e,this.viewportElement.setAttribute(Pd,e.toString())}sizeIsGood(){const e=this.createViewport(),t=this.resolveSpreadView(e),n=this.pref.spreadView!==t;return this.updateSpreadView(t),!(this.viewportSize||!this.viewport||this.viewport.fontSize!=this.fontSize||(n||e.width!=this.viewport.width||e.height!=this.viewport.height)&&(n||e.width!=this.viewport.width||e.height==this.viewport.height||!/Android|iPhone|iPad|iPod/.test(navigator.userAgent))&&(!this.opfView||!this.opfView.hasPages()||this.opfView.hasAutoSizedPages()||(this.viewport.width=e.width,this.viewport.height=e.height,this.needRefresh=!0,0)))}setPageSize(e,t,n,i){this.pageSizes[i]=e,this.setPageSizePageRules(t,n,i)}setPageSizePageRules(e,t,n){if(!this.pageSheetSizeAlreadySet&&this.pageRuleStyleElement){let t="";Object.keys(e).forEach(n=>{t+=`@page ${n}{margin:0;size:`;const i=e[n];t+=`${i.width}px ${i.height}px;}`}),this.pageRuleStyleElement.textContent=t,this.pageSheetSizeAlreadySet=!0}}removePageSizePageRules(){this.pageRuleStyleElement&&(this.pageRuleStyleElement.textContent="",this.pageSheetSizeAlreadySet=!1)}reset(){let e=!1,t=!1;this.opfView&&(e=this.opfView.isTOCVisible(),t=this.opfView.tocAutohide,this.opfView.hideTOC(),this.opfView.removeRenderedPages()),this.removePageSizePageRules(),this.viewport=this.createViewport(),this.viewport.resetZoom(),this.opfView=new xd(this.opf,this.viewport,this.fontMapper,this.pref,this.setPageSize.bind(this)),e&&this.sendCommand({a:"toc",v:"show",autohide:t})}showCurrent(e,t){this.needRefresh=!1,this.removePageListeners();const n=this;return this.pref.spreadView?this.opfView.getSpread(this.pagePosition,t).thenAsync(t=>(n.showSpread(t),n.setSpreadZoom(t),n.currentPage=e,fi(null))):(this.showPage(e),this.setPageZoom(e),this.currentPage=e,fi(null))}setPageZoom(e){const t=this.getAdjustedZoomFactor(e.dimensions);this.viewport.zoom(e.dimensions.width,e.dimensions.height,t)}setSpreadZoom(e){const t=this.getSpreadDimensions(e);this.viewport.zoom(t.width,t.height,this.getAdjustedZoomFactor(t))}getAdjustedZoomFactor(e){return this.fitToScreen?this.calculateZoomFactorToFitInsideViewPort(e):this.zoom}getSpreadDimensions(e){let t=0,n=0;return e.left&&(t+=e.left.dimensions.width,n=e.left.dimensions.height),e.right&&(t+=e.right.dimensions.width,n=Math.max(n,e.right.dimensions.height)),e.left&&e.right&&(t+=2*this.pref.pageBorder,t+=Math.abs(e.left.dimensions.width-e.right.dimensions.width)),{width:t,height:n}}queryZoomFactor(e){if(!this.currentPage)throw new Error("no page exists.");switch(e){case Od.FIT_INSIDE_VIEWPORT:{let e;return this.pref.spreadView?(this.currentSpread,e=this.getSpreadDimensions(this.currentSpread)):e=this.currentPage.dimensions,this.calculateZoomFactorToFitInsideViewPort(e)}default:throw new Error(`unknown zoom type: ${e}`)}}calculateZoomFactorToFitInsideViewPort(e){const t=this.viewport.width/e.width,n=this.viewport.height/e.height;return Math.min(t,n)}cancelRenderingTask(){this.renderTask&&this.renderTask.interrupt(new Ld),this.renderTask=null}resize(){if(this.needResize=!1,this.needRefresh=!1,this.sizeIsGood())return fi(!0);const e=this;this.setReadyState(t.ReadyState.LOADING),this.cancelRenderingTask();const n=di().getScheduler().run(()=>gi("resize",i=>{e.opf?(e.renderTask=n,S.registerStartTiming("render (resize)"),e.reset(),e.pagePosition&&(0==e.pagePosition.pageIndex&&0==e.pagePosition.offsetInItem||(e.pagePosition.pageIndex=-1)),e.opf.setEPageCountMode(e.renderAllPages),e.opfView.renderPagesUpto(e.pagePosition,!e.renderAllPages).then(o=>{o?(e.pagePosition=o.position,e.showCurrent(o.page,!0).then(()=>{e.setReadyState(t.ReadyState.INTERACTIVE),e.opf.countEPages(t=>{const n={t:"nav",epageCount:t,first:e.currentPage.isFirstPage,last:e.currentPage.isLastPage,metadata:e.opf.metadata,docTitle:e.opf.spine[e.pagePosition.spineIndex].title};(e.currentPage.isFirstPage||0==e.pagePosition.pageIndex&&e.opf.spine[e.pagePosition.spineIndex].epage)&&(n.epage=e.opf.spine[e.pagePosition.spineIndex].epage),e.callback(n)}).then(()=>{e.reportPosition().then(o=>{(e.renderAllPages?e.opfView.renderAllPages():fi(null)).then(()=>{e.renderTask===n&&(e.renderTask=null),S.registerEndTiming("render (resize)"),e.renderAllPages&&e.setReadyState(t.ReadyState.COMPLETE),e.callback({t:"loaded"}),i.finish(o)})})})})):i.finish(!1)})):i.finish(!1)},(e,t)=>{if(!(t instanceof Ld))throw t;S.registerEndTiming("render (resize)"),h.debug(t.message)}));return fi(!0)}sendLocationNotification(e,t){const n=pi("sendLocationNotification"),i={t:"nav",first:e.isFirstPage,last:e.isLastPage,metadata:this.opf.metadata,docTitle:this.opf.spine[e.spineIndex].title},o=this;return this.opf.getEPageFromPosition(o.pagePosition).then(e=>{i.epage=e,i.epageCount=o.opf.epageCount,t&&(i.cfi=t),o.callback(i),n.finish(!0)}),n.result()}getCurrentPageProgression(){return this.opfView?this.opfView.getCurrentPageProgression(this.pagePosition):null}moveTo(e){let n;const i=this;if(this.readyState!==t.ReadyState.COMPLETE&&"next"!==e.where&&this.setReadyState(t.ReadyState.LOADING),"string"==typeof e.where){let t;switch(e.where){case"next":t=this.pref.spreadView?this.opfView.nextSpread:this.opfView.nextPage;break;case"previous":t=this.pref.spreadView?this.opfView.previousSpread:this.opfView.previousPage;break;case"last":t=this.opfView.lastPage;break;case"first":t=this.opfView.firstPage;break;default:return fi(!0)}t&&(n=()=>t.call(i.opfView,i.pagePosition,!i.renderAllPages))}else if("number"==typeof e.epage){const t=e.epage;n=()=>i.opfView.navigateToEPage(t,i.pagePosition,!i.renderAllPages)}else{if("string"!=typeof e.url)return fi(!0);{const t=e.url;n=()=>i.opfView.navigateTo(t,i.pagePosition,!i.renderAllPages)}}const o=pi("moveTo");return n.call(i.opfView).then(e=>{let n;if(e){i.pagePosition=e.position;const t=pi("moveTo.showCurrent");n=t.result(),i.showCurrent(e.page,!i.renderAllPages).then(()=>{i.reportPosition().thenFinish(t)})}else n=fi(!0);n.then(e=>{i.readyState===t.ReadyState.LOADING&&i.setReadyState(t.ReadyState.INTERACTIVE),o.finish(e)})}),o.result()}showTOC(e){const t=!!e.autohide,n=e.v,i=this.opfView.isTOCVisible(),o=t!=this.opfView.tocAutohide&&"hide"!=n;if(i){if("show"==n&&!o)return fi(!0)}else if("hide"==n)return fi(!0);if(i&&"show"!=n)return this.opfView.hideTOC(),fi(!0);{const e=this,n=pi("showTOC");return this.opfView.showTOC(t).then(i=>{if(i){if(o&&(i.listeners={}),t){const t=()=>{e.opfView.hideTOC()};i.addEventListener("hyperlink",t,!1)}i.addEventListener("hyperlink",e.hyperlinkListener,!1)}n.finish(!0)}),n.result()}}runCommand(e){const t=this,n=e.a||"";return gi("runCommand",i=>{const o=t.actions[n];o?o.call(t,e).then(()=>{t.callback({t:"done",a:n}),i.finish(!0)}):(h.error("No such action:",n),i.finish(!0))},(e,t)=>{h.error(t,"Error during action:",n),e.finish(!0)})}initEmbed(e){let t=kd(e),n=null;const i=this;mi(()=>{const e=pi("commandLoop"),o=di().getScheduler();return i.hyperlinkListener=e=>{const t=e,n="#"===t.href.charAt(0)||i.packageURL.some(e=>t.href.substr(0,e.length)==e);if(n){e.preventDefault();const s={t:"hyperlink",href:t.href,internal:n};o.run(()=>(i.callback(s),fi(!0)))}},e.loopWithFrame(e=>{if(i.needResize)i.resize().then(()=>{e.continueLoop()});else if(i.needRefresh)i.currentPage&&i.showCurrent(i.currentPage).then(()=>{e.continueLoop()});else if(t){const n=t;t=null,i.runCommand(n).then(()=>{e.continueLoop()})}else{const t=pi("waitForCommand");n=t.suspend(self),t.result().then(()=>{e.continueLoop()})}}).thenFinish(e),e.result()}),i.kick=()=>{const e=n;e&&(n=null,e.schedule(!0))},i.sendCommand=e=>!t&&(t=kd(e),i.kick(),!0),this.window.adapt_command=i.sendCommand}}!function(e){e.FIT_INSIDE_VIEWPORT="fit inside viewport"}(Od||(Od={}));class Ld extends Error{constructor(){super(),this.name="RenderingCanceledError",this.message="Page rendering has been canceled",Object.setPrototypeOf(this,Ld.prototype),this.stack=(new Error).stack}}function kd(e){return"string"==typeof e?C(e):e}const Fd=t.PageProgression;function Dd(e){const t={};return Object.keys(e).forEach(n=>{const i=e[n];switch(n){case"autoResize":t.autoresize=i;break;case"pageBorderWidth":t.pageBorder=i;break;default:t[n]=i}}),t}class _d{constructor(e,t){this.settings=e,this.initialized=!1,n(e.debug),this.adaptViewer_=new Rd(e.window||window,e.viewportElement,"main",this.dispatcher.bind(this)),this.options={autoResize:!0,fontSize:16,pageBorderWidth:1,renderAllPages:!0,pageViewMode:Ad.AUTO_SPREAD,zoom:1,fitToScreen:!1,defaultPaperSize:void 0},t&&this.setOptions(t),this.eventTarget=new te,Object.defineProperty(this,"readyState",{get(){return this.adaptViewer_.readyState}})}setOptions(e){const t=Object.assign({a:"configure"},Dd(e));this.adaptViewer_.sendCommand(t),Object.assign(this.options,e)}dispatcher(e){const t={type:e.t},n=e;Object.keys(n).forEach(e=>{"t"!==e&&(t[e]=n[e])}),this.eventTarget.dispatchEvent(t)}addListener(e,t){this.eventTarget.addEventListener(e,t,!1)}removeListener(e,t){this.eventTarget.removeEventListener(e,t,!1)}loadDocument(e,t,n){e||this.eventTarget.dispatchEvent({type:"error",content:"No URL specified"}),this.loadDocumentOrPublication(e,null,t,n)}loadPublication(e,t,n){e||this.eventTarget.dispatchEvent({type:"error",content:"No URL specified"}),this.loadDocumentOrPublication(null,e,t,n)}loadDocumentOrPublication(e,t,n,i){const o=n||{};function s(e){return e?e.map(e=>({url:e.url||null,text:e.text||null})):void 0}const r=s(o.authorStyleSheet),a=s(o.userStyleSheet);i&&Object.assign(this.options,i);const l=Object.assign({a:e?"loadXML":"loadPublication",userAgentRootURL:this.settings.userAgentRootURL,url:Bd(e)||t,document:o.documentObject,fragment:o.fragment,authorStyleSheet:r,userStyleSheet:a},Dd(this.options));this.initialized?this.adaptViewer_.sendCommand(l):(this.initialized=!0,this.adaptViewer_.initEmbed(l))}getCurrentPageProgression(){return this.adaptViewer_.getCurrentPageProgression()}resolveNavigation(e){switch(e){case t.Navigation.LEFT:return this.getCurrentPageProgression()===Fd.LTR?t.Navigation.PREVIOUS:t.Navigation.NEXT;case t.Navigation.RIGHT:return this.getCurrentPageProgression()===Fd.LTR?t.Navigation.NEXT:t.Navigation.PREVIOUS;default:return e}}navigateToPage(e,n){e===t.Navigation.EPAGE?this.adaptViewer_.sendCommand({a:"moveTo",epage:n}):this.adaptViewer_.sendCommand({a:"moveTo",where:this.resolveNavigation(e)})}navigateToInternalUrl(e){this.adaptViewer_.sendCommand({a:"moveTo",url:e})}isTOCVisible(){return this.adaptViewer_.opfView&&this.adaptViewer_.opfView.opf&&(this.adaptViewer_.opfView.opf.xhtmlToc||this.adaptViewer_.opfView.opf.ncxToc)?!!this.adaptViewer_.opfView.isTOCVisible():null}showTOC(e,t){const n=null==e?"toggle":e?"show":"hide";this.adaptViewer_.sendCommand({a:"toc",v:n,autohide:t})}queryZoomFactor(e){return this.adaptViewer_.queryZoomFactor(e)}getPageSizes(){return this.adaptViewer_.pageSizes}}function Bd(e){function t(e){return"number"==typeof e?e:null}function n(e){return"string"==typeof e?{url:e,startPage:null,skipPagesBefore:null}:{url:e.url,startPage:t(e.startPage),skipPagesBefore:t(e.skipPagesBefore)}}return Array.isArray(e)?e.map(n):e?[n(e)]:null}!function(e){e.PREVIOUS="previous",e.NEXT="next",e.LEFT="left",e.RIGHT="right",e.FIRST="first",e.LAST="last",e.EPAGE="epage"}(t.Navigation||(t.Navigation={}));const Md=Od,Ud=Ad,zd={CoreViewer:_d,PageViewMode:Ud,ZoomType:Md};S.forceRegisterEndTiming("load_vivliostyle");var Vd="/*\n * Copyright 2015 Trim-marks Inc.\n * Copyright 2019 Vivliostyle Foundation\n *\n * Vivliostyle.js is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Vivliostyle.js is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Vivliostyle.js.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n[data-vivliostyle-layout-box] {\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    overflow: hidden;\n    z-index: -1;\n}\n\n[data-vivliostyle-debug] [data-vivliostyle-layout-box] {\n    right: auto;\n    bottom: auto;\n    overflow: visible;\n    z-index: auto;\n}\n\n[data-vivliostyle-page-container] {\n    position: relative;\n    overflow: hidden;\n}\n\n[data-vivliostyle-bleed-box] {\n    position: absolute;\n    overflow: hidden;\n    max-width: 100%;\n    max-height: 100%;\n    box-sizing: border-box;\n}\n\n[data-vivliostyle-page-box] ~ [data-vivliostyle-page-box] {\n    display: none;\n}\n\n[data-vivliostyle-toc-box] {\n    position: absolute;\n    left: 3px;\n    top: 3px;\n    overflow: scroll;\n    overflow-x: hidden;\n    background: rgba(248,248,248,0.9);\n    border-radius: 2px;\n    box-shadow: 1px 1px 2px rgba(0,0,0,0.4);\n}\n\n@media print {\n    [data-vivliostyle-toc-box] {\n        display: none;\n    }\n\n    [data-vivliostyle-outer-zoom-box], [data-vivliostyle-spread-container] {\n        width: 100% !important;\n        height: 100% !important;\n    }\n\n    [data-vivliostyle-spread-container], [data-vivliostyle-page-container] {\n        -moz-transform: none !important;\n        -ms-transform: none !important;\n        -webkit-transform: none !important;\n        transform: none !important;\n    }\n\n    [data-vivliostyle-page-container] {\n        display: block !important;\n        max-width: 100%;\n        height: 100% !important;\n        max-height: 100%;\n    }\n\n    /* Workaround for Chrome printing problem */\n    /* [data-vivliostyle-page-box] {\n        padding-bottom: 0 !important;\n        overflow: visible !important;\n    } */\n    [data-vivliostyle-bleed-box] > div > div::before {\n        display: block;\n        content: \"\";\n        padding-top: 0.015625px;\n        margin-bottom: -0.015625px;\n    }\n\n    /* Gecko-only hack, see https://bugzilla.mozilla.org/show_bug.cgi?id=267029#c17 */\n    @-moz-document regexp('.*') {\n        [data-vivliostyle-page-container]:nth-last-child(n+2) {\n            top: -1px;\n            margin-top: 1px;\n            margin-bottom: -1px;\n        }\n    }\n}\n",Hd="/*\n * Copyright 2017 Trim-marks Inc.\n *\n * Vivliostyle.js is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Vivliostyle.js is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Vivliostyle.js.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n@media screen {\n\n    [data-vivliostyle-viewer-viewport] {\n        background: #AAAAAA;\n    }\n\n    [data-vivliostyle-page-container] {\n        background: white;\n    }\n\n    [data-vivliostyle-viewer-viewport] {\n        display: -webkit-flex;\n        display: flex;\n        overflow: auto;\n        position: relative;\n    }\n\n    [data-vivliostyle-outer-zoom-box] {\n        margin: auto;\n        overflow: hidden;\n        -webkit-flex: none;\n        flex: none;\n    }\n\n    [data-vivliostyle-viewer-viewport] [data-vivliostyle-spread-container] {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex: none;\n        flex: none;\n        -webkit-justify-content: center;\n        justify-content: center;\n        -moz-transform-origin: left top;\n        -ms-transform-origin: left top;\n        -webkit-transform-origin: left top;\n        transform-origin: left top;\n    }\n\n    [data-vivliostyle-viewer-viewport][data-vivliostyle-page-progression=ltr] [data-vivliostyle-spread-container] {\n        -webkit-flex-direction: row;\n        flex-direction: row;\n    }\n\n    [data-vivliostyle-viewer-viewport][data-vivliostyle-page-progression=rtl] [data-vivliostyle-spread-container] {\n        -webkit-flex-direction: row-reverse;\n        flex-direction: row-reverse;\n    }\n\n    [data-vivliostyle-viewer-viewport] [data-vivliostyle-page-container] {\n        margin: 0 auto;\n        -webkit-flex: none;\n        flex: none;\n        transform-origin: center top;\n    }\n\n    [data-vivliostyle-viewer-viewport][data-vivliostyle-spread-view=true] [data-vivliostyle-page-container][data-vivliostyle-page-side=left] {\n        margin-right: 1px;\n        transform-origin: right top;\n    }\n\n    [data-vivliostyle-viewer-viewport][data-vivliostyle-spread-view=true] [data-vivliostyle-page-container][data-vivliostyle-page-side=right] {\n        margin-left: 1px;\n        transform-origin: left top;\n    }\n\n    [data-vivliostyle-viewer-viewport][data-vivliostyle-spread-view=true] [data-vivliostyle-page-container][data-vivliostyle-unpaired-page=true] {\n        margin-left: auto;\n        margin-right: auto;\n        transform-origin: center top;\n    }\n\n}\n";class Gd{constructor(e,{title:t="",printCallback:n=(e=>e.print()),hideIframe:i=!0,removeIframe:o=!0}){this.htmlDoc=e,this.title=t,this.printCallback=n,this.hideIframe=i,this.removeIframe=o}init(){this.iframe=document.createElement("iframe"),this.hideIframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this.iframe.style.borderWidth="0"),this.window=window,this.window.printInstance=this,this.iframe.srcdoc=`\n      <!DOCTYPE html>\n      <html data-vivliostyle-paginated="true">\n        <head>\n          <meta charset='utf-8'/>\n          <meta name='viewport' content='width=device-width, initial-scale=1.0'/>\n          <title>${this.title}</title>\n          <style>${Vd}</style>\n          <style>${Hd}</style>\n          <style>\n            html[data-vivliostyle-paginated] {\n              width: 100%;\n              height: 100%;\n            }\n            html[data-vivliostyle-paginated] body,\n            html[data-vivliostyle-paginated] [data-vivliostyle-viewer-viewport] {\n              width: 100% !important;\n              height: 100% !important;\n            }\n            html[data-vivliostyle-paginated],\n            html[data-vivliostyle-paginated] body {\n              margin: 0;\n              padding: 0;\n            }\n          </style>\n          <style id='vivliostyle-page-rules'></style>\n        </head>\n        <body onload='parent.printInstance.runInIframe(window)'>\n          <div id="vivliostyle-viewer-viewport"></div>\n        </body>\n      </html>`,document.body.appendChild(this.iframe)}runInIframe(e){return this.iframeWin=e,this.preparePrint().then(()=>this.browserPrint()).then(()=>this.cleanUp())}preparePrint(){this.iframeWin.document.title=this.title;const e=new Blob([this.htmlDoc],{type:"text/html"}),t=URL.createObjectURL(e),n=new _d({viewportElement:this.iframeWin.document.body.firstElementChild,window:this.iframeWin,debug:!0},{defaultPaperSize:{width:794,height:1122}});return new Promise(e=>{n.addListener("readystatechange",()=>{"complete"===n.readyState&&e()}),n.loadDocument({url:t})})}browserPrint(){this.printCallback(this.iframeWin)}cleanUp(){delete this.window.printInstance,this.removeIframe&&this.iframe.parentElement.removeChild(this.iframe)}}t.CoreViewer=_d,t.PageViewMode=Ud,t.Profiler=g,t.ZoomType=Md,t.constants=s,t.getHooksForName=p,t.pageProgressionOf=i,t.plugin=f,t.printHTML=function(e,t){new Gd(e,t).init()},t.profile=N,t.profiler=S,t.registerHook=u,t.removeHook=d,t.setDebug=n,t.viewer=zd})),s=(t=o)&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=o.isDebug,a=o.PageProgression,l=o.PageSide,h=o.ReadyState,c=o.HOOKS,u=o.Navigation,d=o.CoreViewer,p=o.PageViewMode,f=o.Profiler,g=o.ZoomType,m=o.constants,b=o.getHooksForName,w=o.pageProgressionOf,E=o.plugin,y=o.printHTML,S=o.profile,N=o.profiler,v=o.registerHook,C=o.removeHook,T=o.setDebug,x=o.viewer,I=Object.freeze({__proto__:null,default:s,__moduleExports:o,isDebug:r,PageProgression:a,PageSide:l,ReadyState:h,HOOKS:c,Navigation:u,CoreViewer:d,PageViewMode:p,Profiler:f,ZoomType:g,constants:m,getHooksForName:b,pageProgressionOf:w,plugin:E,printHTML:y,profile:S,profiler:N,registerHook:v,removeHook:C,setDebug:T,viewer:x});!function(e){e.Default="",e.Auto="auto",e.Preset="preset",e.Custom="custom",e.Zero="0"}(n||(n={}));const P=[{name:"A5",description:"A5"},{name:"A4",description:"A4"},{name:"A3",description:"A3"},{name:"B5",description:"B5 (ISO)"},{name:"B4",description:"B4 (ISO)"},{name:"JIS-B5",description:"B5 (JIS)"},{name:"JIS-B4",description:"B4 (JIS)"},{name:"letter",description:"letter"},{name:"legal",description:"legal"},{name:"ledger",description:"ledger"}],A={customWidth:"210mm",customHeight:"297mm",customMargin:"10%",baseFontSize:"12pt",baseLineHeight:"1.2",baseFontFamily:"serif",viewerFontSize:16};class O{constructor(e){this.PresetSize=O.PresetSize,this.pageSizeMode=i.observable(n.Default),this.presetSize=i.observable(P[1]),this.isLandscape=i.observable(!1),this.customWidth=i.observable(A.customWidth),this.customHeight=i.observable(A.customHeight),this.pageSizeImportant=i.observable(!1),this.pageMarginMode=i.observable(n.Default),this.customMargin=i.observable(A.customMargin),this.pageMarginImportant=i.observable(!1),this.firstPageMarginZero=i.observable(!1),this.firstPageMarginZeroImportant=i.observable(!1),this.forceHtmlBodyMarginZero=i.observable(!1),this.widowsOrphans=i.observable(""),this.widowsOrphansImportant=i.observable(!1),this.imageMaxSizeToFitPage=i.observable(!1),this.imageMaxSizeToFitPageImportant=i.observable(!1),this.imageKeepAspectRatio=i.observable(!1),this.imageKeepAspectRatioImportant=i.observable(!1),this.baseFontSize=i.observable(A.baseFontSize),this.baseFontSizeSpecified=i.observable(!1),this.baseFontSizeImportant=i.observable(!1),this.baseLineHeight=i.observable(A.baseLineHeight),this.baseLineHeightSpecified=i.observable(!1),this.baseLineHeightImportant=i.observable(!1),this.baseFontFamily=i.observable(A.baseFontFamily),this.baseFontFamilySpecified=i.observable(!1),this.baseFontFamilyImportant=i.observable(!1),this.allImportant=i.observable(!1),this.pageOtherStyle=i.observable(""),this.firstPageOtherStyle=i.observable(""),this.rootOtherStyle=i.observable(""),this.beforeOtherStyle=i.observable(""),this.afterOtherStyle=i.observable(""),this.viewerFontSize=null,this.setViewerFontSizeObservable=e=>{this.viewerFontSize=e;const t=document.getElementsByName("vivliostyle-settings_viewer-font-size")[0];t&&(t.value=this.fontSizePxToPercent(Number(e()),100,5).toString())},this.viewerFontSizePercent=i.pureComputed({read(){if(!this.viewerFontSize)return 100;return this.fontSizePxToPercent(Number(this.viewerFontSize()),100,5)},write(e){if(!this.viewerFontSize)return;const t=parseFloat(String(e));let n=t&&this.fontSizePercentToPx(t);if(!n||n<5||n>72){const e=document.getElementsByName("vivliostyle-settings_viewer-font-size")[0];e&&(e.value="100"),n=A.viewerFontSize}this.viewerFontSize(Number(n))},owner:this}),this.cssText=i.pureComputed({read:this.toCSSText,write:this.fromCSSText,owner:this}),this.allImportant.subscribe(e=>{this.pageSizeImportant(e),this.pageMarginImportant(e),this.firstPageMarginZeroImportant(e),this.widowsOrphansImportant(e),this.imageMaxSizeToFitPageImportant(e),this.imageKeepAspectRatioImportant(e),this.baseFontSizeImportant(e),this.baseLineHeightImportant(e),this.baseFontFamilyImportant(e)}),this.pageStyleRegExp=new RegExp("^((?:\\n|.)*?)\\/\\*<viewer>\\*\\/\\s*(?:@page\\s*\\{\\s*(?:size:\\s*([^\\s!;{}]+)(?:\\s+([^\\s!;{}]+))?\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?(?:margin:\\s*([^\\s!;{}]+(?:\\s+[^\\s!;{}]+)?(?:\\s+[^\\s!;{}]+)?(?:\\s+[^\\s!;{}]+)?)\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?((?:[^{}]+|\\{[^{}]*\\})*)\\}\\s*)?(?:@page\\s*:first\\s*\\{\\s*(margin:\\s*0(?:\\w+|%)?\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?((?:[^{}]+|\\{[^{}]*\\})*)\\}\\s*)?((?:html|:root),\\s*body\\s*\\{\\s*margin:\\s*0(?:\\w+|%)?\\s*!important(?:;|(?=[\\s{}]))\\s*\\}\\s*)?(?:(?:html|:root)\\s*\\{\\s*(?:font-size:\\s*(calc\\([^()]+\\)|[^\\s!;{}]+)\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?(?:line-height:\\s*([^\\s!;{}]+)\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?(?:font-family:\\s*([^!;{}]+)\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?([^{}]*)\\}\\s*)?(?:body\\s*\\{\\s*(?:[-\\w]+:\\s*inherit\\s*!important(?:;|(?=[\\s{}]))\\s*)+\\}\\s*)?(?:\\*\\s*\\{\\s*widows:\\s*(1|999)\\s*(!important)?(?:;|(?=[\\s{}]))\\s*orphans:\\s*\\19\\s*\\20(?:;|(?=[\\s{}]))\\s*\\}\\s*)?(?:img,\\s*svg\\s*\\{\\s*(max-inline-size:\\s*100%\\s*(!important)?(?:;|(?=[\\s{}]))\\s*max-block-size:\\s*100vb\\s*\\22(?:;|(?=[\\s{}]))\\s*)?(object-fit:\\s*contain\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?\\}\\s*)?((?:\\n|.)*)$"),e&&this.copyFrom(e)}fontSizePxToPercent(e,t,n){let i=e/A.viewerFontSize*(t||100);return n&&(i=i.toPrecision(n).replace(/(?:\.0*|(\.\d*?)0+)$/,"$1")),i}fontSizePercentToPx(e,t,n){let i=e/(t||100)*A.viewerFontSize;return n&&(i=i.toPrecision(n).replace(/(?:\.0*|(\.\d*?)0+)$/,"$1")),i}fromCSSText(e){const t=this.pageStyleRegExp.exec(e);if(t){const[,e,i,o,s,r,a,l,h,c,u,d,p,f,g,m,b,w,E,y,S,N,v,C,T,x]=t;let I=x,A=b,O=p,R=u,L=l,k=E,F=i,D=o,_=0,B=0;if(this.beforeOtherStyle(e),"landscape"==F||"portrait"==F?(this.isLandscape("landscape"==F),F=D,D=null):"landscape"!=D&&"portrait"!=D||(this.isLandscape("landscape"==D),D=null),null!=F){if(null==D)if("auto"==F)this.pageSizeMode(n.Auto);else{const e=P.find(e=>e.name.toLowerCase()==F.toLowerCase());e?(this.pageSizeMode(n.Preset),this.presetSize(e)):(this.pageSizeMode(n.Custom),this.customWidth(F),this.customHeight(F))}else this.pageSizeMode(n.Custom),this.customWidth(F),this.customHeight(D);this.pageSizeImportant(!!s),s?_++:B++}else this.pageSizeMode(n.Default);null!=r?(this.pageMarginMode("0"==r?n.Zero:n.Custom),"0"==r?this.pageMarginMode(n.Zero):(this.pageMarginMode(n.Custom),this.customMargin(r)),this.pageMarginImportant(!!a),a?_++:B++):this.pageMarginMode(n.Default),L=L||"",this.pageOtherStyle(L),h?(this.firstPageMarginZero(!0),this.firstPageMarginZeroImportant(!!c),c?_++:B++):this.firstPageMarginZero(!1),R=R||"",this.firstPageOtherStyle(R),d?this.forceHtmlBodyMarginZero(!0):this.forceHtmlBodyMarginZero(!1),null!=O?(O=O.replace(/^\s*calc\([.\d]+\s*\*\s*([.\d]+\w+)\)\s*$/,"$1"),this.baseFontSizeSpecified(!0),this.baseFontSize(O),this.baseFontSizeImportant(!!f),f?_++:B++):this.baseFontSizeSpecified(!1),null!=g?(this.baseLineHeightSpecified(!0),this.baseLineHeight(g),this.baseLineHeightImportant(!!m),m?_++:B++):this.baseLineHeightSpecified(!1),null!=A?(A=A.trim(),this.baseFontFamilySpecified(!0),this.baseFontFamily(A),this.baseFontFamilyImportant(!!w),w?_++:B++):this.baseFontFamilySpecified(!1),k=k||"",this.rootOtherStyle(k),null!=y?(this.widowsOrphans(y),this.widowsOrphansImportant(!!S),S?_++:B++):this.widowsOrphans(n.Default),N?(this.imageMaxSizeToFitPage(!0),this.imageMaxSizeToFitPageImportant(!!v),v?_++:B++):this.imageMaxSizeToFitPage(!1),C?(this.imageKeepAspectRatio(!0),this.imageKeepAspectRatioImportant(!!T),T?_++:B++):this.imageKeepAspectRatio(!1),I=I.replace(/\/\*<\/?viewer>\*\/\n?/g,"")||"",this.afterOtherStyle(I),this.allImportant(_>0&&0==B)}else{const t=e.replace(/\/\*<\/?viewer>\*\/\n?/g,"")||"";this.afterOtherStyle(t)}}toCSSText(){function e(e){return e?" !important":""}let t=this.beforeOtherStyle();if(t+="/*<viewer>*/\n",this.pageSizeMode()!=n.Default||this.pageMarginMode()!=n.Default||this.pageOtherStyle()){if(t+="@page { ",this.pageSizeMode()!=n.Default){switch(t+="size: ",this.pageSizeMode()){case n.Auto:t+="auto";break;case n.Preset:t+=this.presetSize().name,this.isLandscape()&&(t+=" landscape");break;case n.Custom:t+=`${this.customWidth()} ${this.customHeight()}`;break;default:throw new Error(`Unknown pageSizeMode ${this.pageSizeMode()}`)}t+=`${e(this.pageSizeImportant())}; `}if(this.pageMarginMode()!=n.Default){switch(t+="margin: ",this.pageMarginMode()){case n.Auto:t+="auto";break;case n.Zero:t+="0";break;case n.Custom:t+=`${this.customMargin()}`;break;default:throw new Error(`Unknown pageMarginMode ${this.pageMarginMode()}`)}t+=`${e(this.pageMarginImportant())}; `}t+=this.pageOtherStyle(),t+="}\n"}if((this.firstPageMarginZero()||this.firstPageOtherStyle())&&(t+="@page :first { ",this.firstPageMarginZero()&&(t+=`margin: 0${e(this.firstPageMarginZeroImportant())}; `),t+=this.firstPageOtherStyle(),t+="}\n"),this.forceHtmlBodyMarginZero()&&(t+=":root, body { margin: 0 !important; }\n"),this.baseFontSizeSpecified()||this.baseLineHeightSpecified()||this.baseFontFamilySpecified()||this.rootOtherStyle()){t+=":root { ";const n=this.baseFontSize();if(this.baseFontSizeSpecified())if(this.viewerFontSize&&this.viewerFontSize()!=A.viewerFontSize&&!n.endsWith("%")){t+=`font-size: calc(${this.fontSizePxToPercent(Number(this.viewerFontSize()),1,5)} * ${n})${e(this.baseFontSizeImportant())}; `}else t+=`font-size: ${this.baseFontSize()}${e(this.baseFontSizeImportant())}; `;this.baseLineHeightSpecified()&&(t+=`line-height: ${this.baseLineHeight()}${e(this.baseLineHeightImportant())}; `),this.baseFontFamilySpecified()&&(t+=`font-family: ${this.baseFontFamily()}${e(this.baseFontFamilyImportant())}; `),t+=this.rootOtherStyle(),t+="}\n"}return(this.baseFontSizeSpecified()&&this.baseFontSizeImportant()||this.baseLineHeightSpecified()&&this.baseLineHeightImportant()||this.baseFontFamilySpecified()&&this.baseFontFamilyImportant())&&(t+="body { ",this.baseFontSizeSpecified()&&this.baseFontSizeImportant()&&(t+="font-size: inherit !important; "),this.baseLineHeightSpecified()&&this.baseLineHeightImportant()&&(t+="line-height: inherit !important; "),this.baseFontFamilySpecified()&&this.baseFontFamilyImportant()&&(t+="font-family: inherit !important; "),t+="}\n"),this.widowsOrphans()&&(t+="* { ",t+=`widows: ${this.widowsOrphans()}${e(this.widowsOrphansImportant())}; `,t+=`orphans: ${this.widowsOrphans()}${e(this.widowsOrphansImportant())}; `,t+="}\n"),(this.imageMaxSizeToFitPage()||this.imageKeepAspectRatio())&&(t+="img, svg { ",this.imageMaxSizeToFitPage()&&(t+=`max-inline-size: 100%${e(this.imageMaxSizeToFitPageImportant())}; `,t+=`max-block-size: 100vb${e(this.imageMaxSizeToFitPageImportant())}; `),this.imageKeepAspectRatio()&&(t+=`object-fit: contain${e(this.imageKeepAspectRatioImportant())}; `),t+="}\n"),t+="/*</viewer>*/\n",t+=this.afterOtherStyle(),t}copyFrom(e){this.pageSizeMode(e.pageSizeMode()),this.presetSize(e.presetSize()),this.isLandscape(e.isLandscape()),this.customWidth(e.customWidth()),this.customHeight(e.customHeight()),this.pageSizeImportant(e.pageSizeImportant()),this.pageMarginMode(e.pageMarginMode()),this.customMargin(e.customMargin()),this.pageMarginImportant(e.pageMarginImportant()),this.firstPageMarginZero(e.firstPageMarginZero()),this.firstPageMarginZeroImportant(e.firstPageMarginZeroImportant()),this.forceHtmlBodyMarginZero(e.forceHtmlBodyMarginZero()),this.widowsOrphans(e.widowsOrphans()),this.widowsOrphansImportant(e.widowsOrphansImportant()),this.imageMaxSizeToFitPage(e.imageMaxSizeToFitPage()),this.imageMaxSizeToFitPageImportant(e.imageMaxSizeToFitPageImportant()),this.imageKeepAspectRatio(e.imageKeepAspectRatio()),this.imageKeepAspectRatioImportant(e.imageKeepAspectRatioImportant()),this.baseFontSize(e.baseFontSize()),this.baseFontSizeSpecified(e.baseFontSizeSpecified()),this.baseFontSizeImportant(e.baseFontSizeImportant()),this.baseLineHeight(e.baseLineHeight()),this.baseLineHeightSpecified(e.baseLineHeightSpecified()),this.baseLineHeightImportant(e.baseLineHeightImportant()),this.baseFontFamily(e.baseFontFamily()),this.baseFontFamilySpecified(e.baseFontFamilySpecified()),this.baseFontFamilyImportant(e.baseFontFamilyImportant()),this.allImportant(e.allImportant()),this.pageOtherStyle(e.pageOtherStyle()),this.firstPageOtherStyle(e.firstPageOtherStyle()),this.rootOtherStyle(e.rootOtherStyle()),this.beforeOtherStyle(e.beforeOtherStyle()),this.afterOtherStyle(e.afterOtherStyle()),this.viewerFontSize&&e.viewerFontSize&&this.viewerFontSize(e.viewerFontSize())}equivalentTo(e){return this.pageSizeMode()===e.pageSizeMode()&&((this.pageSizeMode()!==n.Preset||this.presetSize()===e.presetSize())&&((this.pageSizeMode()!==n.Preset||this.isLandscape()===e.isLandscape())&&((this.pageSizeMode()!==n.Custom||this.customWidth()===e.customWidth())&&((this.pageSizeMode()!==n.Custom||this.customHeight()===e.customHeight())&&(this.pageSizeImportant()===e.pageSizeImportant()&&(this.pageMarginMode()===e.pageMarginMode()&&((this.pageMarginMode()!==n.Custom||this.customMargin()===e.customMargin())&&(this.pageMarginImportant()===e.pageMarginImportant()&&(this.firstPageMarginZero()===e.firstPageMarginZero()&&(this.firstPageMarginZeroImportant()===e.firstPageMarginZeroImportant()&&(this.forceHtmlBodyMarginZero()===e.forceHtmlBodyMarginZero()&&(this.widowsOrphans()===e.widowsOrphans()&&(this.widowsOrphansImportant()===e.widowsOrphansImportant()&&(this.imageMaxSizeToFitPage()===e.imageMaxSizeToFitPage()&&(this.imageMaxSizeToFitPageImportant()===e.imageMaxSizeToFitPageImportant()&&(this.imageKeepAspectRatio()===e.imageKeepAspectRatio()&&(this.imageKeepAspectRatioImportant()===e.imageKeepAspectRatioImportant()&&(this.baseFontSizeSpecified()===e.baseFontSizeSpecified()&&((!this.baseFontSizeSpecified()||this.baseFontSize()===e.baseFontSize())&&(this.baseFontSizeImportant()===e.baseFontSizeImportant()&&(this.baseLineHeightSpecified()===e.baseLineHeightSpecified()&&((!this.baseLineHeightSpecified()||this.baseLineHeight()===e.baseLineHeight())&&(this.baseLineHeightImportant()===e.baseLineHeightImportant()&&(this.baseFontFamilySpecified()===e.baseFontFamilySpecified()&&((!this.baseFontFamilySpecified()||this.baseFontFamily()===e.baseFontFamily())&&(this.baseFontFamilyImportant()===e.baseFontFamilyImportant()&&(this.allImportant()===e.allImportant()&&(this.pageOtherStyle()===e.pageOtherStyle()&&(this.firstPageOtherStyle()===e.firstPageOtherStyle()&&(this.rootOtherStyle()===e.rootOtherStyle()&&(this.beforeOtherStyle()===e.beforeOtherStyle()&&(this.afterOtherStyle()===e.afterOtherStyle()&&!(!this.viewerFontSize!=!e.viewerFontSize||this.viewerFontSize&&this.viewerFontSize()!==e.viewerFontSize())))))))))))))))))))))))))))))))))}}O.Mode=n,O.Constants=A,O.PresetSize=P;var R={escapeUnicodeChar:e=>`\\u${(65536|e.charCodeAt(0)).toString(16).substring(1)}`,escapeUnicodeString(e){return e.replace(/[^-a-zA-Z0-9_]/g,this.escapeUnicodeChar)},percentEncodeAmpersandAndUnencodedPercent:e=>e.replace(/%(?![0-9A-Fa-f]{2})/g,"%25").replace(/&/g,"%26"),percentEncodeAmpersandAndPercent:e=>e.replace(/%/g,"%25").replace(/&/g,"%26"),percentDecodeAmpersandAndPercent:e=>e.replace(/%26/g,"&").replace(/%25/g,"%"),percentEncodeForDataURI:e=>encodeURI(e).replace(/#/g,"%23").replace(/&/g,"%26")};function L(e){return new RegExp(`[#&]${R.escapeUnicodeString(e)}=([^&]*)`,"g")}const k=new class{constructor(){this.history=window?window.history:null,this.location=window?window.location:{href:""},this.storedUrl=this.location.href}getBaseURL(){let e=this.location.href;return e=e.replace(/#.*$/,""),e.replace(/\/[^/]*$/,"/")}hasParameter(e){const t=this.location.href;return L(e).test(t)}getParameter(e){const t=this.location.href,n=L(e),i=[];let o;for(;o=n.exec(t);)i.push(o[1]);return i}setParameter(e,t,n){const i=this.location.href;let o;const s=L(e);let r=s.exec(i);if(r&&n)for(;n-- >=1;)r=s.exec(i);if(r){const e=r[1].length,n=r.index+r[0].length-e;o=i.substring(0,n)+t+i.substring(n+e)}else o=`${i+(i.match(/[#&]$/)?"":i.match(/#/)?"&":"#")+e}=${t}`;null!==this.history&&this.history.replaceState?this.history.replaceState(null,"",o):this.location.href=o,this.storedUrl=o}removeParameter(e,t){const n=this.location.href;let i;const o=L(e);let s=o.exec(n);if(s&&t&&(s=o.exec(n)),s){for(i=n;s;s=o.exec(i)){const e=s.index+s[0].length;i="#"==s[0].charAt(0)?i.substring(0,s.index+1)+i.substring(e+1):i.substring(0,s.index)+i.substring(e),o.lastIndex-=s[0].length}i=i.replace(/^(.*?)[#&]$/,"$1"),null!==this.history&&this.history.replaceState?this.history.replaceState(null,"",i):this.location.href=i}this.storedUrl=i}};class F{constructor(){const e=function(){const e=k.getParameter("b"),t=k.getParameter("x"),n=k.getParameter("f"),i=k.getParameter("style"),o=k.getParameter("userStyle");return{bookUrl:e[0]||null,xUrl:!e[0]&&t.length&&t[0]?t:null,fragment:n[0]||null,authorStyleSheet:i.length?i:[],userStyleSheet:o.length?o:[]}}();this.bookUrl=i.observable(e.bookUrl||""),this.xUrl=i.observable(e.xUrl||null),this.fragment=i.observable(e.fragment||""),this.authorStyleSheet=i.observable(e.authorStyleSheet),this.userStyleSheet=i.observable(e.userStyleSheet),this.pageStyle=new O,this.dataUserStyleIndex=-1,this.fragment.subscribe(e=>{if(/^epubcfi\(\/([246]\/)?2!\)/.test(e))k.removeParameter("f");else{const t=e.replace(/[\s+&?=#\u007F-\uFFFF]+/g,encodeURIComponent);k.setParameter("f",t)}}),e.userStyleSheet.find((e,t)=>{if(/^data:,.*?\/\*(?:<|%3C)viewer(?:>|%3E)\*\//.test(e)){this.dataUserStyleIndex=t;const n=e.replace(/^data:,/,"").replace(/%(?![0-9A-Fa-f]{2})/g,"%25"),i=decodeURIComponent(n);return this.pageStyle.cssText(i),!0}return!1}),this.pageStyle.cssText.subscribe(e=>{this.updateUserStyleSheetFromCSSText(e)})}toObject(){function e(e){return e.map(e=>({url:e}))}const t=e(this.userStyleSheet());return this.pageStyle.pageSizeMode()==O.Mode.Default&&t.unshift({text:"@page{size:auto}"}),{fragment:this.fragment(),authorStyleSheet:e(this.authorStyleSheet()),userStyleSheet:t}}updateUserStyleSheetFromCSSText(e){null==e&&(e=this.pageStyle.toCSSText());const t=this.userStyleSheet();if((!e||/^\s*(\/\*.*?\*\/\s*)*$/.test(e))&&t.length<=(-1==this.dataUserStyleIndex?0:1))return t.pop(),this.dataUserStyleIndex=-1,this.userStyleSheet(t),void k.removeParameter("userStyle");const n="data:,"+R.percentEncodeForDataURI(e.trim());-1==this.dataUserStyleIndex?(t.push(n),this.dataUserStyleIndex=t.length-1):t[this.dataUserStyleIndex]=n,this.userStyleSheet(t),k.setParameter("userStyle",n,this.dataUserStyleIndex)}}class D{toSpreadViewString(){switch(this){case _.SPREAD:return"true";case _.SINGLE_PAGE:return"false";case _.AUTO_SPREAD:return"auto";default:throw new Error("Invalid PageViewMode")}}toString(){switch(this){case _.SPREAD:return"spread";case _.SINGLE_PAGE:return"singlePage";case _.AUTO_SPREAD:return"autoSpread";default:throw new Error("Invalid PageViewMode")}}}const _={AUTO_SPREAD:new D,SINGLE_PAGE:new D,SPREAD:new D,defaultMode(){return this.AUTO_SPREAD},fromSpreadViewString(e){switch(e){case"true":return this.SPREAD;case"false":return this.SINGLE_PAGE;case"auto":default:return this.AUTO_SPREAD}},of(e){switch(e){case p.SPREAD:return this.SPREAD;case p.SINGLE_PAGE:return this.SINGLE_PAGE;case p.AUTO_SPREAD:return this.AUTO_SPREAD;default:throw new Error(`Invalid PageViewMode name: ${e}`)}}};class B{constructor(e){this.zoom=e}get fitToScreen(){return null}getCurrentZoomFactor(e){return 1}toggleFitToScreen(){return new B(1)}zoomIn(e){return new U(1.25*this.getCurrentZoomFactor(e))}zoomOut(e){return new U(.8*this.getCurrentZoomFactor(e))}zoomToActualSize(){return new U(1)}static createDefaultOptions(){return new M}static createFromZoomFactor(e){return new U(e)}}class M extends B{constructor(){super(1)}get fitToScreen(){return!0}toggleFitToScreen(){return new U(1)}getCurrentZoomFactor(e){return e.queryZoomFactor(g.FIT_INSIDE_VIEWPORT)}}class U extends B{get fitToScreen(){return!1}toggleFitToScreen(){return new M}getCurrentZoomFactor(){return this.zoom}}function z(){return{renderAllPages:k.hasParameter("x"),fontSize:16,profile:!1,pageViewMode:_.defaultMode(),zoom:B.createDefaultOptions()}}class V{constructor(e){if(this.renderAllPages=i.observable(),this.fontSize=i.observable(),this.profile=i.observable(),this.pageViewMode=i.observable(),this.zoom=i.observable(),e)this.copyFrom(e);else{const e=z(),t=function(){const e=k.getParameter("renderAllPages")[0],t=k.getParameter("fontSize")[0],n=/^([\d.]+)(?:(%25|%)|\/([\d.]+))?$/.exec(t);let i=null;if(n){const[,e,t,o]=n;i=parseFloat(e),(t||o)&&(i=16*i/(t?100:parseFloat(o))),i<5&&(i=5),i>72&&(i=72)}return{renderAllPages:"true"===e||"false"!==e&&null,fontSize:i,profile:"true"===k.getParameter("profile")[0],pageViewMode:_.fromSpreadViewString(k.getParameter("spread")[0]),zoom:void 0}}();this.renderAllPages(null!==t.renderAllPages?t.renderAllPages:e.renderAllPages),this.fontSize(t.fontSize||e.fontSize),this.profile(t.profile||e.profile),this.pageViewMode(t.pageViewMode||e.pageViewMode),this.zoom(e.zoom),this.pageViewMode.subscribe(t=>{t===e.pageViewMode?k.removeParameter("spread"):k.setParameter("spread",t.toSpreadViewString())}),this.renderAllPages.subscribe(t=>{t===e.renderAllPages?k.removeParameter("renderAllPages"):k.setParameter("renderAllPages",t.toString())}),this.fontSize.subscribe(t=>{"number"==typeof t&&(t=t.toPrecision(10).replace(/(?:\.0*|(\.\d*?)0+)$/,"$1")),Number(t)==e.fontSize?k.removeParameter("fontSize"):k.setParameter("fontSize",`${t}/${e.fontSize}`)})}}copyFrom(e){this.renderAllPages(e.renderAllPages()),this.fontSize(e.fontSize()),this.profile(e.profile()),this.pageViewMode(e.pageViewMode()),this.zoom(e.zoom())}toObject(){return{renderAllPages:this.renderAllPages(),fontSize:Number(this.fontSize()),pageViewMode:this.pageViewMode().toString(),fitToScreen:this.zoom().fitToScreen,zoom:this.zoom().zoom}}}V.getDefaultValues=z;var H,G=i.observableArray();!function(e){e.Debug="debug",e.Info="info",e.Warn="warn",e.Error="error"}(H||(H={}));class ${constructor(){this.logLevel=H.Error}static getLogger(){return new $}setLogLevel(e){this.logLevel=e}debug(e){this.logLevel===H.Debug&&G.push({type:"debug",content:e})}info(e){this.logLevel!==H.Debug&&this.logLevel!==H.Info||G.push({type:"info",content:e})}warn(e){this.logLevel!==H.Debug&&this.logLevel!==H.Info&&this.logLevel!==H.Warn||G.push({type:"warn",content:e})}error(e){this.logLevel!==H.Debug&&this.logLevel!==H.Info&&this.logLevel!==H.Warn&&this.logLevel!==H.Error||G.push({type:"error",content:e})}}const W={readonlyObservable(e){const t=i.observable(e);return{getter:i.pureComputed(()=>t()),value:t}}};class X{constructor(e,t){this.viewerOptions_=t,this.documentOptions_=null,this.coreViewer_=new d(e,t.toObject());const n=this.state_={status:W.readonlyObservable(h.LOADING),pageProgression:W.readonlyObservable(a.LTR)};this.state={status:n.status.getter.extend({rateLimit:{timeout:100,method:"notifyWhenChangesStop"},notify:"always"}),navigatable:i.pureComputed(()=>n.status.value()&&n.status.value()!==h.LOADING),pageProgression:n.pageProgression.getter},this.epage=i.observable(),this.epageCount=i.observable(),this.firstPage=i.observable(),this.lastPage=i.observable(),this.tocVisible=i.observable(),this.tocPinned=i.observable(),this.inputUrl=i.observable(""),this.setupViewerEventHandler(),this.setupViewerOptionSubscriptions()}setupViewerEventHandler(){const e=$.getLogger();this.coreViewer_.addListener("debug",t=>{e.debug(t.content)}),this.coreViewer_.addListener("info",t=>{e.info(t.content)}),this.coreViewer_.addListener("warn",t=>{e.warn(t.content)}),this.coreViewer_.addListener("error",t=>{e.error(t.content)}),this.coreViewer_.addListener("readystatechange",()=>{const e=this.coreViewer_.readyState;e!==h.INTERACTIVE&&e!==h.COMPLETE||this.state_.pageProgression.value(this.coreViewer_.getCurrentPageProgression()),this.state_.status.value(e)}),this.coreViewer_.addListener("loaded",()=>{this.viewerOptions_.profile()&&N.printTimings()}),this.coreViewer_.addListener("nav",e=>{const{cfi:t,first:n,last:i,epage:o,epageCount:s,metadata:r,docTitle:a}=e;if(t&&this.documentOptions_.fragment(t),void 0!==n&&this.firstPage(n),void 0!==i&&this.lastPage(i),void 0!==o&&this.epage(o),void 0!==s&&this.epageCount(s),r||a){const e=r&&r["http://purl.org/dc/terms/title"],t=e&&e[0]&&e[0].v;t?!a||a===t||this.firstPage()||/\.xhtml$/.test(a)?document.title=t:document.title=`${a} | ${t}`:document.title=a||"Vivliostyle Viewer"}const l=this.tocVisible(),h=this.coreViewer_.isTOCVisible();l&&!h||this.tocVisible(h)}),this.coreViewer_.addListener("hyperlink",e=>{e.internal?(this.navigateToInternalUrl(e.href),this.tocVisible()&&this.tocVisible(!1),document.getElementById("vivliostyle-viewer-viewport").focus()):window.location.href=e.href})}setupViewerOptionSubscriptions(){i.computed((function(){const e=this.viewerOptions_.toObject();this.coreViewer_.setOptions(e)}),this).extend({rateLimit:0})}loadDocument(e,t){this.state_.status.value(h.LOADING),t&&this.viewerOptions_.copyFrom(t),this.documentOptions_=e,e.xUrl()?this.coreViewer_.loadDocument(e.xUrl(),e.toObject(),this.viewerOptions_.toObject()):e.bookUrl()?this.coreViewer_.loadPublication(e.bookUrl(),e.toObject(),this.viewerOptions_.toObject()):this.state_.status.value("")}navigateToPrevious(){this.coreViewer_.navigateToPage(u.PREVIOUS)}navigateToNext(){this.coreViewer_.navigateToPage(u.NEXT)}navigateToLeft(){this.coreViewer_.navigateToPage(u.LEFT)}navigateToRight(){this.coreViewer_.navigateToPage(u.RIGHT)}navigateToFirst(){this.coreViewer_.navigateToPage(u.FIRST)}navigateToLast(){this.coreViewer_.navigateToPage(u.LAST)}navigateToEPage(e){this.coreViewer_.navigateToPage(u.EPAGE,e)}navigateToInternalUrl(e){this.coreViewer_.navigateToInternalUrl(e)}queryZoomFactor(e){return this.coreViewer_.queryZoomFactor(e)}epageToPageNumber(e){if(!e&&0!=e)return;return Math.round(e+1)}epageFromPageNumber(e){if(!e&&0!=e)return;return e-1}showTOC(e,t){if(null==this.coreViewer_.isTOCVisible())return;const n=null==e?!this.tocVisible():e;this.tocVisible(n),this.tocPinned(!!n&&!t),this.coreViewer_.showTOC(n,t)}}const j={Unidentified:"Unidentified",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",ArrowUp:"ArrowUp",Home:"Home",End:"End",PageDown:"PageDown",PageUp:"PageUp",Escape:"Escape",Enter:"Enter",Space:" "};var K={Keys:j,identifyKeyFromEvent:function(e){const t=e.key,n=e.keyIdentifier,i=e.location;return t===j.ArrowDown||"Down"===t||"Down"===n?e.metaKey?j.End:j.ArrowDown:t===j.ArrowLeft||"Left"===t||"Left"===n?j.ArrowLeft:t===j.ArrowRight||"Right"===t||"Right"===n?j.ArrowRight:t===j.ArrowUp||"Up"===t||"Up"===n?e.metaKey?j.Home:j.ArrowUp:t===j.Escape||"Esc"===t||"U+001B"===n?j.Escape:t===j.Enter||"Enter"===n?j.Enter:t===j.Space||"U+0020"===n?j.Space:"0"===t||"U+0030"===n?"0":"+"===t||"Add"===t||"U+002B"===n||"U+00BB"===n||"U+004B"===n&&i===KeyboardEvent.DOM_KEY_LOCATION_NUMPAD?"+":"-"===t||"Subtract"===t||"U+002D"===n||"U+00BD"===n||"U+004D"===n&&i===KeyboardEvent.DOM_KEY_LOCATION_NUMPAD?"-":t||n||j.Unidentified}};const{Keys:Y}=K;class q{constructor(e,t,n,o){this.viewerOptions_=e,this.viewer_=t,this.settingsPanel_=n,this.justClicked=!1,this.isDisabled=i.pureComputed(()=>this.settingsPanel_.opened()&&!this.settingsPanel_.pinned()||!this.viewer_.state.navigatable());const s=i.pureComputed(()=>o.disablePageNavigation||this.isDisabled());s.subscribe(e=>{const t=document.getElementById("vivliostyle-page-number");t&&(t.disabled=e)}),this.isPageNumberDisabled=i.pureComputed(()=>s()),this.isNavigateToPreviousDisabled=i.pureComputed(()=>!!s()||void 0!==this.viewer_.state.status&&this.viewer_.firstPage()),this.isNavigateToNextDisabled=i.pureComputed(()=>!!s()||void 0!==this.viewer_.state.status&&((!this.viewerOptions_.renderAllPages()||this.viewer_.state.status()==h.COMPLETE)&&this.viewer_.lastPage())),this.isNavigateToLeftDisabled=i.pureComputed(()=>!!s()||void 0!==this.viewer_.state.pageProgression&&(this.viewer_.state.pageProgression()===a.LTR?this.isNavigateToPreviousDisabled():this.isNavigateToNextDisabled())),this.isNavigateToRightDisabled=i.pureComputed(()=>!!s()||void 0!==this.viewer_.state.pageProgression&&(this.viewer_.state.pageProgression()===a.LTR?this.isNavigateToNextDisabled():this.isNavigateToPreviousDisabled())),this.isNavigateToFirstDisabled=this.isNavigateToPreviousDisabled,this.isNavigateToLastDisabled=i.pureComputed(()=>!!s()||void 0!==this.viewer_.state.status&&(!(!this.viewerOptions_.renderAllPages()||this.viewer_.state.status()==h.COMPLETE)||this.viewer_.lastPage())),this.hidePageNavigation=!!o.disablePageNavigation;const r=i.pureComputed(()=>o.disableZoom||this.isDisabled());this.isZoomOutDisabled=r,this.isZoomInDisabled=r,this.isZoomToActualSizeDisabled=r,this.isToggleFitToScreenDisabled=r,this.hideZoom=!!o.disableZoom,this.fitToScreen=i.pureComputed(()=>e.zoom().fitToScreen);const l=i.pureComputed(()=>o.disableFontSizeChange||this.isDisabled());this.isIncreaseFontSizeDisabled=i.pureComputed(()=>!!l()||this.viewerOptions_.fontSize()>=72),this.isDecreaseFontSizeDisabled=i.pureComputed(()=>!!l()||this.viewerOptions_.fontSize()<=5),this.isDefaultFontSizeDisabled=l,this.hideFontSizeChange=!!o.disableFontSizeChange,this.isTOCToggleDisabled=i.pureComputed(()=>o.disableTOCNavigation||this.isDisabled()||null==this.viewer_.tocVisible()),this.hideTOCNavigation=!!o.disableTOCNavigation,this.pageNumber=i.pureComputed({read(){return this.viewer_.epageToPageNumber(this.viewer_.epage())},write(e){const t=this.viewer_.epage(),n=this.viewer_.epageToPageNumber(t);let i=parseFloat(e.toString().replace(/[-]/g,e=>String.fromCharCode(e.charCodeAt(0)-65248)))||0;if(/^[-+]/.test(e.toString())&&(i=n+i),i<1)i=1;else{const e=this.viewer_.epageCount();this.viewerOptions_.renderAllPages()?i>e&&(i=e):i>e+1&&(i=e+1)}const o=this.viewer_.epageFromPageNumber(i),s=document.getElementById("vivliostyle-page-number");s.value=i.toString(),this.viewer_.navigateToEPage(o),setTimeout(()=>{this.viewer_.state.status()!=h.LOADING&&this.viewer_.epage()===t&&(s.value=n.toString()),document.getElementById("vivliostyle-viewer-viewport").focus()},10)},owner:this}),this.totalPages=i.pureComputed(()=>{let e=this.viewer_.epageCount();if(!e)return e;const t=Number(this.pageNumber());return this.viewer_.lastPage()?e=t:t>=e&&e++,e}),["navigateToPrevious","navigateToNext","navigateToLeft","navigateToRight","navigateToFirst","navigateToLast","zoomIn","zoomOut","zoomToActualSize","toggleFitToScreen","increaseFontSize","decreaseFontSize","defaultFontSize","onclickViewport","toggleTOC"].forEach(e=>{this[e]=this[e].bind(this)})}static PREVIOUS(e){throw new Error("Method not implemented.")}static NEXT(e){throw new Error("Method not implemented.")}static LEFT(e){throw new Error("Method not implemented.")}static RIGHT(e){throw new Error("Method not implemented.")}static FIRST(e){throw new Error("Method not implemented.")}static LAST(e){throw new Error("Method not implemented.")}static EPAGE(e,t){throw new Error("Method not implemented.")}navigateToPrevious(){return!this.isNavigateToPreviousDisabled()&&(this.viewer_.navigateToPrevious(),!0)}navigateToNext(){return!this.isNavigateToNextDisabled()&&(this.viewer_.navigateToNext(),!0)}navigateToLeft(){return!this.isNavigateToLeftDisabled()&&(this.viewer_.navigateToLeft(),!0)}navigateToRight(){return!this.isNavigateToRightDisabled()&&(this.viewer_.navigateToRight(),!0)}navigateToFirst(){return!this.isNavigateToFirstDisabled()&&(this.viewer_.navigateToFirst(),!0)}navigateToLast(){return!this.isNavigateToLastDisabled()&&(this.viewer_.navigateToLast(),!0)}zoomIn(){if(this.isZoomInDisabled())return!1;{const e=this.viewerOptions_.zoom();return this.viewerOptions_.zoom(e.zoomIn(this.viewer_)),!0}}zoomOut(){if(this.isZoomOutDisabled())return!1;{const e=this.viewerOptions_.zoom();return this.viewerOptions_.zoom(e.zoomOut(this.viewer_)),!0}}zoomToActualSize(){if(this.isZoomToActualSizeDisabled())return!1;{const e=this.viewerOptions_.zoom();return this.viewerOptions_.zoom(e.zoomToActualSize()),!0}}toggleFitToScreen(){if(this.isToggleFitToScreenDisabled())return!1;{const e=this.viewerOptions_.zoom();return this.viewerOptions_.zoom(e.toggleFitToScreen()),!0}}increaseFontSize(){if(this.isIncreaseFontSizeDisabled())return!1;{let e=Number(this.viewerOptions_.fontSize());return e=e<10?Math.floor(e)+1:e<20?2*(Math.floor(e/2)+1):e<40?4*(Math.floor(e/4)+1):e<72?8*(Math.floor(e/8)+1):72,this.viewerOptions_.fontSize(e),this.updateFontSizeSettings(),!0}}decreaseFontSize(){if(this.isDecreaseFontSizeDisabled())return!1;{let e=Number(this.viewerOptions_.fontSize());return e=e>40?8*(Math.ceil(e/8)-1):e>20?4*(Math.ceil(e/4)-1):e>10?2*(Math.ceil(e/2)-1):e>5?Math.ceil(e)-1:5,this.viewerOptions_.fontSize(e),this.updateFontSizeSettings(),!0}}defaultFontSize(){if(this.isDefaultFontSizeDisabled())return!1;{const e=V.getDefaultValues().fontSize;return this.viewerOptions_.fontSize(e),this.updateFontSizeSettings(),!0}}updateFontSizeSettings(){this.settingsPanel_.state.viewerOptions.fontSize(this.viewerOptions_.fontSize()),this.viewer_.documentOptions_.pageStyle.baseFontSizeSpecified()&&(this.viewer_.documentOptions_.updateUserStyleSheetFromCSSText(),this.viewer_.loadDocument(this.viewer_.documentOptions_,this.viewerOptions_))}onclickViewport(){if(this.settingsPanel_.justClicked)return!0;if(this.viewer_.tocVisible()&&!this.viewer_.tocPinned()){const e=document.querySelector("[data-vivliostyle-toc-box]");e&&!e.contains(document.activeElement)&&this.toggleTOC()}return this.settingsPanel_.opened()&&!this.settingsPanel_.pinned()&&this.settingsPanel_.close(),!0}toggleTOC(){if(this.isTOCToggleDisabled())return!1;{let e=null;return this.viewer_.tocVisible()?this.justClicked?(this.viewer_.showTOC(!0,!1),this.justClicked=!1):(null!==e&&(clearInterval(e),e=null),this.viewer_.showTOC(!1),this.justClicked=!0,setTimeout(()=>{this.justClicked&&(document.getElementById("vivliostyle-viewer-viewport").focus(),this.justClicked=!1)},300)):(this.justClicked?(this.viewer_.showTOC(!0,!1),this.justClicked=!1):(this.viewer_.showTOC(!0,!0),this.justClicked=!0),e=setInterval(()=>{const t=document.querySelector("[data-vivliostyle-toc-box]");t&&"visible"===t.style.visibility&&(t.tabIndex=0,t.focus(),clearInterval(e),e=null),this.justClicked=!1},300)),!0}}navigateTOC(e){const t=Array.from(document.querySelectorAll("[data-vivliostyle-toc-box]>*>*>*>*>*:not([hidden]) [tabindex='0'],[data-vivliostyle-toc-box]>*>*>*>*>*:not([hidden]) a[href]:not([tabindex='-1'])"));let n=t.indexOf(document.activeElement);const i=e=>t[e]&&"button"===t[e].getAttribute("role"),o=e=>t[e]&&"true"===t[e].getAttribute("aria-expanded");switch(e){case Y.ArrowLeft:if(-1==n){n=t.length-1;break}if(!i(n)&&i(n-1)&&n--,i(n)&&o(n))t[n].click();else for(let e=n-1;e>=0;e--)if(i(e)&&t[e].parentElement.contains(t[n])){n=e;break}break;case Y.ArrowRight:if(-1==n){n=0;break}!i(n)&&i(n-1)&&n--,i(n)&&(o(n)?n+=2:t[n].click());break;case Y.ArrowDown:n++;break;case Y.ArrowUp:if(-1==n){n=t.length-1;break}n>0&&i(--n)&&n--;break;case Y.Home:n=0;break;case Y.End:n=t.length-1;break;case Y.Space:!i(n)&&i(n-1)&&n--,i(n)&&t[n].click()}return i(n)&&n++,t[n]&&t[n].focus(),!0}handleKey(e){if(this.settingsPanel_.opened()&&this.settingsPanel_.settingsToggle.contains(document.activeElement))return!0;const t=document.getElementById("vivliostyle-page-number"),n=document.getElementById("vivliostyle-viewer-viewport"),i=n.scrollWidth>n.clientWidth,o=n.scrollHeight>n.clientHeight,s=t===document.activeElement,r=this.viewer_.tocVisible()&&!s&&n!=document.activeElement;switch(e){case"+":return s||!this.increaseFontSize();case"-":return s||!this.decreaseFontSize();case"0":return s||!this.defaultFontSize();case"1":return s||!this.zoomToActualSize();case Y.ArrowLeft:return r?!this.navigateTOC(e):s||i||!this.navigateToLeft();case Y.ArrowRight:return r?!this.navigateTOC(e):s||i||!this.navigateToRight();case Y.ArrowDown:return r?!this.navigateTOC(e):(n.focus(),o||!this.navigateToNext());case Y.ArrowUp:return r?!this.navigateTOC(e):(n.focus(),o||!this.navigateToPrevious());case Y.PageDown:return!!r||(n.focus(),!this.navigateToNext());case Y.PageUp:return!!r||(n.focus(),!this.navigateToPrevious());case Y.Home:return r?!this.navigateTOC(e):(n.focus(),!this.navigateToFirst());case Y.End:return r?!this.navigateTOC(e):(n.focus(),!this.navigateToLast());case"o":case"O":return n.focus(),!this.zoomOut();case"i":case"I":return n.focus(),!this.zoomIn();case"f":case"F":return n.focus(),!this.toggleFitToScreen();case"g":case"G":return t.focus(),!1;case"t":case"T":return n.focus(),!this.toggleTOC();case Y.Escape:return this.viewer_.tocVisible()?!this.toggleTOC():(n.focus(),!0);case Y.Space:return r?!this.navigateTOC(e):"button"!==document.activeElement.getAttribute("role")||(document.activeElement.click(),!1);default:return!0}}}const{Keys:Z}=K;class Q{constructor(e,t,n,o,s){this.viewerOptions_=e,this.documentOptions_=t,this.viewer_=n,this.isPageStyleChangeDisabled=!!s.disablePageStyleChange,this.isOverrideDocumentStyleSheetDisabled=this.isPageStyleChangeDisabled,this.isPageViewModeChangeDisabled=!!s.disablePageViewModeChange,this.isRenderAllPagesChangeDisabled=!!s.disableRenderAllPagesChange,this.justClicked=!1,this.settingsToggle=document.getElementById("vivliostyle-menu-item_settings-toggle"),this.opened=i.observable(!1),this.pinned=i.observable(!1),this.state={viewerOptions:new V(e),pageStyle:new O(t.pageStyle),pageViewMode:i.pureComputed({read:()=>this.state.viewerOptions.pageViewMode().toString(),write:e=>{this.state.viewerOptions.pageViewMode(_.of(e))}}),renderAllPages:i.pureComputed({read:()=>this.state.viewerOptions.renderAllPages(),write:e=>{this.state.viewerOptions.renderAllPages(e)}})},this.state.pageStyle.setViewerFontSizeObservable(this.state.viewerOptions.fontSize),this.defaultPageStyle=new O,["close","toggle","apply","cancel","resetUserStyle"].forEach((function(e){this[e]=this[e].bind(this)}),this),o.visible.subscribe((function(e){e&&this.close()}),this)}close(){this.opened(!1),this.pinned(!1);const e=document.getElementById("vivliostyle-viewer-viewport");return e&&e.focus(),!0}toggle(){this.opened()?this.justClicked?(this.justClicked=!1,this.pinned(!0)):(this.close(),this.justClicked=!0,setTimeout(()=>{this.justClicked=!1},300)):(this.viewer_.tocPinned()||this.viewer_.showTOC(!1),this.opened(!0),this.justClicked?(this.justClicked=!1,this.pinned(!0)):(this.pinned(!1),this.justClicked=!0,this.focusToFirstItem(),setTimeout(()=>{this.justClicked=!1},300)))}apply(){this.state.renderAllPages()===this.viewerOptions_.renderAllPages()&&this.state.pageStyle.equivalentTo(this.documentOptions_.pageStyle)?this.viewerOptions_.copyFrom(this.state.viewerOptions):(this.documentOptions_.pageStyle.copyFrom(this.state.pageStyle),this.documentOptions_.pageStyle.baseFontSizeSpecified()&&this.documentOptions_.updateUserStyleSheetFromCSSText(),this.viewer_.loadDocument(this.documentOptions_,this.state.viewerOptions)),this.pinned()?this.focusToFirstItem():this.close()}cancel(){this.state.viewerOptions.copyFrom(this.viewerOptions_),this.state.pageStyle.copyFrom(this.documentOptions_.pageStyle),this.close()}resetUserStyle(){return this.state.pageStyle.copyFrom(this.defaultPageStyle),this.state.viewerOptions.fontSize(V.getDefaultValues().fontSize),setTimeout(()=>{document.getElementsByName("vivliostyle-settings_reset-user-style")[0].checked=!1},200),!0}focusToFirstItem(e){const t=e||this.settingsToggle,n=["input","textarea","summary"].includes(t.localName)?t:Array.from(t.getElementsByTagName("input")).find(e=>!e.disabled&&("radio"!=e.type||e.checked));if(n){for(let e=n.parentElement;e&&e!=this.settingsToggle;e=e.parentElement)"details"==e.localName&&(e.open=!0);n.focus()}}handleKey(e){const t=this.opened()&&this.settingsToggle.contains(document.activeElement),n=t&&("text"==document.activeElement.type||"select"==document.activeElement.localName),i=t&&"textarea"==document.activeElement.localName,o=t&&!n&&!i;switch(e){case Z.Escape:return this.opened()&&(this.cancel(),this.close()),!0;case"s":case"S":return!(!this.opened()||o||!t)||(this.toggle(),!1);case"p":case"P":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_page-view-and-rendering").firstElementChild),!1);case"v":case"V":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_page-view-mode")),!1);case"a":case"A":return!o||(this.focusToFirstItem(document.getElementsByName("vivliostyle-settings_render-all-pages")[0]),!1);case"u":case"U":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_user-style").firstElementChild),!1);case"z":case"Z":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_page-size")),!1);case"m":case"M":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_page-margin")),!1);case"b":case"B":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_page-breaks")),!1);case"i":case"I":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_images")),!1);case"t":case"T":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_text")),!1);case"o":case"O":return!o||(this.focusToFirstItem(document.getElementsByName("vivliostyle-settings_override-document-stylesheets")[0]),!1);case"c":case"C":return!o||(this.focusToFirstItem(document.getElementsByName("vivliostyle-settings_css-details")[0]),!1);case"r":case"R":return!o||(this.focusToFirstItem(document.getElementsByName("vivliostyle-settings_reset-user-style")[0]),!1);case Z.Enter:return!(n||o&&"vivliostyle-menu-button_apply"!==document.activeElement.id&&"vivliostyle-menu-button_reset"!==document.activeElement.id)||(document.getElementById("vivliostyle-menu-button_apply").focus(),!1);default:return!0}}}class J{constructor(e){this.list=e,this.visible=i.pureComputed(()=>e().length>0)}getDisplayMessage(e){const t=e.error;let n=t&&(t.toString()||t.frameTrace||t.stack);return n&&(n=n.split("\n",1)[0]),n||(n=e.messages.join("\n")),n}}function ee(){this.documentOptions=new F,this.viewerOptions=new V,this.documentOptions.pageStyle.setViewerFontSizeObservable(this.viewerOptions.fontSize),this.viewerOptions.profile()&&I.profiler.enable(),this.isDebug="true"===k.getParameter("debug")[0],this.viewerSettings={userAgentRootURL:`${k.getBaseURL()}resources/`,viewportElement:document.getElementById("vivliostyle-viewer-viewport"),debug:this.isDebug},k.getParameter("b")[0]&&(k.removeParameter("b",!0),k.removeParameter("x")),k.removeParameter("f",!0),k.removeParameter("spread",!0),k.removeParameter("renderAllPages",!0),k.removeParameter("fontSize",!0),k.removeParameter("profile",!0),k.removeParameter("debug",!0),this.viewer=new X(this.viewerSettings,this.viewerOptions),this.viewer.inputUrl.subscribe(e=>{""!=e?(k.hasParameter("b")||k.history.pushState&&k.history.pushState(null,""),e=e.startsWith("<")?"data:,"+R.percentEncodeForDataURI(e):R.percentEncodeAmpersandAndUnencodedPercent(e),k.setParameter("b",e)):k.removeParameter("b")}),this.messageDialog=new J(G);this.settingsPanel=new Q(this.viewerOptions,this.documentOptions,this.viewer,this.messageDialog,{disablePageStyleChange:!1,disablePageViewModeChange:!1,disableRenderAllPagesChange:!1});this.navigation=new q(this.viewerOptions,this.viewer,this.settingsPanel,{disableTOCNavigation:!1,disablePageNavigation:!1,disableZoom:!1,disableFontSizeChange:!1}),this.handleKey=(e,t)=>{const n=K.identifyKeyFromEvent(t);if("vivliostyle-input-url"===document.activeElement.id)return"Enter"!==n||13!==t.keyCode||(this.documentOptions.bookUrl(k.getParameter("b")[0]),this.viewer.loadDocument(this.documentOptions),!1);if("Home"!==n&&"End"!==n&&(t.ctrlKey||t.metaKey)||t.altKey||t.shiftKey)return!0;let i=this.settingsPanel.handleKey(n);return i&&(i=this.navigation.handleKey(n)),i},this.viewer.loadDocument(this.documentOptions),window.onhashchange=()=>{window.location.href!=k.storedUrl&&window.location.reload()}}const te="ontouchstart"in window;i.bindingHandlers.menuButton={init(e,t){i.unwrap(t())&&(te?(e.addEventListener("touchstart",()=>{i.utils.toggleDomNodeCssClass(e,"hover active",!0)}),e.addEventListener("touchend",()=>{i.utils.toggleDomNodeCssClass(e,"hover active",!1)})):(e.addEventListener("mouseover",()=>{i.utils.toggleDomNodeCssClass(e,"hover",!0)}),e.addEventListener("mousedown",()=>{i.utils.toggleDomNodeCssClass(e,"active",!0)}),e.addEventListener("mouseup",()=>{i.utils.toggleDomNodeCssClass(e,"active",!1)}),e.addEventListener("mouseout",()=>{i.utils.toggleDomNodeCssClass(e,"hover",!1),i.utils.toggleDomNodeCssClass(e,"active",!1),window.getSelection().removeAllRanges()})))}};const ne="ontouchstart"in window;let ie=null,oe=null,se=null;i.bindingHandlers.swipePages={init(e,t){ne&&i.unwrap(t())&&(e.addEventListener("touchstart",e=>{if(e.touches.length>1)return;if(window.visualViewport&&window.visualViewport.scale>1)return;const t=document.getElementById("vivliostyle-viewer-viewport");t&&t.scrollWidth>t.clientWidth||(ie=e.touches[0].clientX,oe=e.touches[0].clientY)}),e.addEventListener("touchmove",e=>{if(!(e.touches.length>1)&&null!==ie&&null!==oe){const t=e.touches[0].clientX-ie,n=e.touches[0].clientY-oe;Math.abs(t)>Math.abs(n)&&(se=t<0?document.getElementById("vivliostyle-page-navigation-right"):document.getElementById("vivliostyle-page-navigation-left")),Math.abs(t)+Math.abs(n)>=16&&(se&&(se.click(),i.utils.toggleDomNodeCssClass(se,"active",!0)),ie=null,oe=null)}}),e.addEventListener("touchend",()=>{se&&i.utils.toggleDomNodeCssClass(se,"active",!1),se=null,ie=null,oe=null}))}},{start(){function e(){i.applyBindings(new ee)}window.__loaded?e():window.onload=e}}.start()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidml2bGlvc3R5bGUtdmlld2VyLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbW9kZWxzL3BhZ2Utc3R5bGUudHMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMva25vY2tvdXQvYnVpbGQvb3V0cHV0L2tub2Nrb3V0LWxhdGVzdC5qcyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2NvbnN0YW50cy50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2xvZ2dpbmcudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9wbHVnaW4udHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9wcm9maWxlLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvYmFzZS50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2NmaS50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2V4cHJzLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvY3NzLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvZ2VvbWV0cnktdXRpbC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2Nzcy1wcm9wLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvY291bnRlcnMudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9jc3MtdG9rZW5pemVyLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvdGFzay50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3Rhc2stdXRpbC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL25ldC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2Nzcy1wYXJzZXIudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9tYXRjaGVycy50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2Nzcy1jYXNjYWRlLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvY3NzLWxvZ2ljYWwtdXRpbC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3NpemluZy50cyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9mYXN0LWRpZmYvZGlmZi5qcyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3R5cGVzLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvZGlmZi50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3Z0cmVlLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvcGFnZS1mbG9hdHMudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9mb290bm90ZXMudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9icmVhay50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2xheW91dC1oZWxwZXIudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9icmVhay1wb3NpdGlvbi50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2Rpc3BsYXkudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9sYXlvdXQtcHJvY2Vzc29yLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvbGF5b3V0LXJldHJ5ZXJzLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvbGF5b3V0LXV0aWwudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9zaGFyZWQudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9wc2V1ZG8tZWxlbWVudC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2xheW91dC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3JlcGV0aXRpdmUtZWxlbWVudC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3RhYmxlLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvbWF0aC11dGlsLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvY29sdW1ucy50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2Nzcy1zdHlsZXIudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9jc3MtdmFsaWRhdG9yLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvZm9udC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3BhZ2UtbWFzdGVyLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvY3NzLXBhZ2UudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS91cmxzLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvdmdlbi50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3htbC1kb2MudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9vcHMudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9zaGExLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvdG9jLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvZXB1Yi50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2FkYXB0aXZlLXZpZXdlci50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2NvcmUtdmlld2VyLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvcHJpbnQudHMiLCIuLi8uLi9zcmMvdXRpbHMvc3RyaW5nLXV0aWwudHMiLCIuLi8uLi9zcmMvc3RvcmVzL3VybC1wYXJhbWV0ZXJzLnRzIiwiLi4vLi4vc3JjL21vZGVscy9kb2N1bWVudC1vcHRpb25zLnRzIiwiLi4vLi4vc3JjL21vZGVscy9wYWdlLXZpZXctbW9kZS50cyIsIi4uLy4uL3NyYy9tb2RlbHMvem9vbS1vcHRpb25zLnRzIiwiLi4vLi4vc3JjL21vZGVscy92aWV3ZXItb3B0aW9ucy50cyIsIi4uLy4uL3NyYy9sb2dnaW5nL2xvZ2dlci50cyIsIi4uLy4uL3NyYy9tb2RlbHMvbWVzc2FnZS1xdWV1ZS50cyIsIi4uLy4uL3NyYy91dGlscy9vYnNlcnZhYmxlLXV0aWwudHMiLCIuLi8uLi9zcmMvdmlld21vZGVscy92aWV3ZXIudHMiLCIuLi8uLi9zcmMvdXRpbHMva2V5LXV0aWwudHMiLCIuLi8uLi9zcmMvdmlld21vZGVscy9uYXZpZ2F0aW9uLnRzIiwiLi4vLi4vc3JjL3ZpZXdtb2RlbHMvc2V0dGluZ3MtcGFuZWwudHMiLCIuLi8uLi9zcmMvdmlld21vZGVscy9tZXNzYWdlLWRpYWxvZy50cyIsIi4uLy4uL3NyYy92aWV3bW9kZWxzL3ZpZXdlci1hcHAudHMiLCIuLi8uLi9zcmMvYmluZGluZ3MvbWVudUJ1dHRvbi50cyIsIi4uLy4uL3NyYy9iaW5kaW5ncy9zd2lwZVBhZ2VzLnRzIiwiLi4vLi4vc3JjL3Zpdmxpb3N0eWxlLXZpZXdlci50cyIsIi4uLy4uL3NyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBrbywgeyBPYnNlcnZhYmxlLCBQdXJlQ29tcHV0ZWQgfSBmcm9tIFwia25vY2tvdXRcIjtcblxudHlwZSBQcmVzZXRTaXplID0geyBuYW1lOiBzdHJpbmc7IGRlc2NyaXB0aW9uOiBzdHJpbmcgfTtcbnR5cGUgQ29uc3RhbnRzID0ge1xuICBjdXN0b21XaWR0aDogc3RyaW5nO1xuICBjdXN0b21IZWlnaHQ6IHN0cmluZztcbiAgY3VzdG9tTWFyZ2luOiBzdHJpbmc7XG4gIGJhc2VGb250U2l6ZTogc3RyaW5nO1xuICBiYXNlTGluZUhlaWdodDogc3RyaW5nO1xuICBiYXNlRm9udEZhbWlseTogc3RyaW5nO1xuICB2aWV3ZXJGb250U2l6ZTogbnVtYmVyO1xufTtcblxuZW51bSBNb2RlIHtcbiAgRGVmYXVsdCA9IFwiXCIsXG4gIEF1dG8gPSBcImF1dG9cIixcbiAgUHJlc2V0ID0gXCJwcmVzZXRcIixcbiAgQ3VzdG9tID0gXCJjdXN0b21cIixcbiAgWmVybyA9IFwiMFwiLFxufVxuXG5jb25zdCBQUkVTRVRfU0laRTogQXJyYXk8UHJlc2V0U2l6ZT4gPSBbXG4gIHsgbmFtZTogXCJBNVwiLCBkZXNjcmlwdGlvbjogXCJBNVwiIH0sXG4gIHsgbmFtZTogXCJBNFwiLCBkZXNjcmlwdGlvbjogXCJBNFwiIH0sXG4gIHsgbmFtZTogXCJBM1wiLCBkZXNjcmlwdGlvbjogXCJBM1wiIH0sXG4gIHsgbmFtZTogXCJCNVwiLCBkZXNjcmlwdGlvbjogXCJCNSAoSVNPKVwiIH0sXG4gIHsgbmFtZTogXCJCNFwiLCBkZXNjcmlwdGlvbjogXCJCNCAoSVNPKVwiIH0sXG4gIHsgbmFtZTogXCJKSVMtQjVcIiwgZGVzY3JpcHRpb246IFwiQjUgKEpJUylcIiB9LFxuICB7IG5hbWU6IFwiSklTLUI0XCIsIGRlc2NyaXB0aW9uOiBcIkI0IChKSVMpXCIgfSxcbiAgeyBuYW1lOiBcImxldHRlclwiLCBkZXNjcmlwdGlvbjogXCJsZXR0ZXJcIiB9LFxuICB7IG5hbWU6IFwibGVnYWxcIiwgZGVzY3JpcHRpb246IFwibGVnYWxcIiB9LFxuICB7IG5hbWU6IFwibGVkZ2VyXCIsIGRlc2NyaXB0aW9uOiBcImxlZGdlclwiIH0sXG5dO1xuXG5jb25zdCBDT05TVEFOVFM6IENvbnN0YW50cyA9IHtcbiAgY3VzdG9tV2lkdGg6IFwiMjEwbW1cIixcbiAgY3VzdG9tSGVpZ2h0OiBcIjI5N21tXCIsXG4gIGN1c3RvbU1hcmdpbjogXCIxMCVcIixcbiAgYmFzZUZvbnRTaXplOiBcIjEycHRcIixcbiAgYmFzZUxpbmVIZWlnaHQ6IFwiMS4yXCIsXG4gIGJhc2VGb250RmFtaWx5OiBcInNlcmlmXCIsXG4gIHZpZXdlckZvbnRTaXplOiAxNixcbn07XG5cbmNsYXNzIFBhZ2VTdHlsZSB7XG4gIHBhZ2VTaXplTW9kZTogT2JzZXJ2YWJsZTxNb2RlPjtcbiAgcHJlc2V0U2l6ZTogT2JzZXJ2YWJsZTxQcmVzZXRTaXplPjtcbiAgaXNMYW5kc2NhcGU6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGN1c3RvbVdpZHRoOiBPYnNlcnZhYmxlPHN0cmluZz47XG4gIGN1c3RvbUhlaWdodDogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICBwYWdlU2l6ZUltcG9ydGFudDogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgcGFnZU1hcmdpbk1vZGU6IE9ic2VydmFibGU8TW9kZT47XG4gIGN1c3RvbU1hcmdpbjogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICBwYWdlTWFyZ2luSW1wb3J0YW50OiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBmaXJzdFBhZ2VNYXJnaW5aZXJvOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBmaXJzdFBhZ2VNYXJnaW5aZXJvSW1wb3J0YW50OiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBmb3JjZUh0bWxCb2R5TWFyZ2luWmVybzogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgd2lkb3dzT3JwaGFuczogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICB3aWRvd3NPcnBoYW5zSW1wb3J0YW50OiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBpbWFnZU1heFNpemVUb0ZpdFBhZ2U6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudDogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgaW1hZ2VLZWVwQXNwZWN0UmF0aW86IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50OiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBiYXNlRm9udFNpemU6IE9ic2VydmFibGU8c3RyaW5nPjtcbiAgYmFzZUZvbnRTaXplU3BlY2lmaWVkOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBiYXNlRm9udFNpemVJbXBvcnRhbnQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGJhc2VMaW5lSGVpZ2h0OiBPYnNlcnZhYmxlPHN0cmluZz47XG4gIGJhc2VMaW5lSGVpZ2h0U3BlY2lmaWVkOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBiYXNlTGluZUhlaWdodEltcG9ydGFudDogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgYmFzZUZvbnRGYW1pbHk6IE9ic2VydmFibGU8c3RyaW5nPjtcbiAgYmFzZUZvbnRGYW1pbHlTcGVjaWZpZWQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGJhc2VGb250RmFtaWx5SW1wb3J0YW50OiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBhbGxJbXBvcnRhbnQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIHBhZ2VPdGhlclN0eWxlOiBPYnNlcnZhYmxlPHN0cmluZz47XG4gIGZpcnN0UGFnZU90aGVyU3R5bGU6IE9ic2VydmFibGU8c3RyaW5nPjtcbiAgcm9vdE90aGVyU3R5bGU6IE9ic2VydmFibGU8c3RyaW5nPjtcbiAgYmVmb3JlT3RoZXJTdHlsZTogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICBhZnRlck90aGVyU3R5bGU6IE9ic2VydmFibGU8c3RyaW5nPjtcblxuICBjc3NUZXh0OiBQdXJlQ29tcHV0ZWQ8c3RyaW5nPjtcbiAgc2V0Vmlld2VyRm9udFNpemVPYnNlcnZhYmxlOiAoXG4gICAgdmlld2VyRm9udFNpemVPYnNlcnZhYmxlOiBudWxsIHwgT2JzZXJ2YWJsZTxudW1iZXIgfCBzdHJpbmc+LFxuICApID0+IHZvaWQ7XG4gIHBhZ2VTdHlsZVJlZ0V4cDogUmVnRXhwO1xuICB2aWV3ZXJGb250U2l6ZTogbnVsbCB8IE9ic2VydmFibGU8bnVtYmVyIHwgc3RyaW5nPjtcbiAgdmlld2VyRm9udFNpemVQZXJjZW50OiBQdXJlQ29tcHV0ZWQ8bnVtYmVyIHwgc3RyaW5nPjtcblxuICBzdGF0aWMgTW9kZSA9IE1vZGU7XG4gIHN0YXRpYyBDb25zdGFudHMgPSBDT05TVEFOVFM7XG4gIHN0YXRpYyBQcmVzZXRTaXplID0gUFJFU0VUX1NJWkU7XG4gIFByZXNldFNpemUgPSBQYWdlU3R5bGUuUHJlc2V0U2l6ZTtcblxuICBjb25zdHJ1Y3RvcihwYWdlU3R5bGU/OiB1bmtub3duKSB7XG4gICAgdGhpcy5wYWdlU2l6ZU1vZGUgPSBrby5vYnNlcnZhYmxlKE1vZGUuRGVmYXVsdCk7XG4gICAgdGhpcy5wcmVzZXRTaXplID0ga28ub2JzZXJ2YWJsZShQUkVTRVRfU0laRVsxXSk7XG4gICAgdGhpcy5pc0xhbmRzY2FwZSA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuY3VzdG9tV2lkdGggPSBrby5vYnNlcnZhYmxlKENPTlNUQU5UUy5jdXN0b21XaWR0aCk7XG4gICAgdGhpcy5jdXN0b21IZWlnaHQgPSBrby5vYnNlcnZhYmxlKENPTlNUQU5UUy5jdXN0b21IZWlnaHQpO1xuICAgIHRoaXMucGFnZVNpemVJbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLnBhZ2VNYXJnaW5Nb2RlID0ga28ub2JzZXJ2YWJsZShNb2RlLkRlZmF1bHQpO1xuICAgIHRoaXMuY3VzdG9tTWFyZ2luID0ga28ub2JzZXJ2YWJsZShDT05TVEFOVFMuY3VzdG9tTWFyZ2luKTtcbiAgICB0aGlzLnBhZ2VNYXJnaW5JbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmZpcnN0UGFnZU1hcmdpblplcm8gPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmZpcnN0UGFnZU1hcmdpblplcm9JbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmZvcmNlSHRtbEJvZHlNYXJnaW5aZXJvID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG4gICAgdGhpcy53aWRvd3NPcnBoYW5zID0ga28ub2JzZXJ2YWJsZShcIlwiKTtcbiAgICB0aGlzLndpZG93c09ycGhhbnNJbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmltYWdlTWF4U2l6ZVRvRml0UGFnZSA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50ID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG4gICAgdGhpcy5pbWFnZUtlZXBBc3BlY3RSYXRpbyA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuaW1hZ2VLZWVwQXNwZWN0UmF0aW9JbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmJhc2VGb250U2l6ZSA9IGtvLm9ic2VydmFibGUoQ09OU1RBTlRTLmJhc2VGb250U2l6ZSk7XG4gICAgdGhpcy5iYXNlRm9udFNpemVTcGVjaWZpZWQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudCA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuYmFzZUxpbmVIZWlnaHQgPSBrby5vYnNlcnZhYmxlKENPTlNUQU5UUy5iYXNlTGluZUhlaWdodCk7XG4gICAgdGhpcy5iYXNlTGluZUhlaWdodFNwZWNpZmllZCA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmJhc2VGb250RmFtaWx5ID0ga28ub2JzZXJ2YWJsZShDT05TVEFOVFMuYmFzZUZvbnRGYW1pbHkpO1xuICAgIHRoaXMuYmFzZUZvbnRGYW1pbHlTcGVjaWZpZWQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmJhc2VGb250RmFtaWx5SW1wb3J0YW50ID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG4gICAgdGhpcy5hbGxJbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLnBhZ2VPdGhlclN0eWxlID0ga28ub2JzZXJ2YWJsZShcIlwiKTtcbiAgICB0aGlzLmZpcnN0UGFnZU90aGVyU3R5bGUgPSBrby5vYnNlcnZhYmxlKFwiXCIpO1xuICAgIHRoaXMucm9vdE90aGVyU3R5bGUgPSBrby5vYnNlcnZhYmxlKFwiXCIpO1xuICAgIHRoaXMuYmVmb3JlT3RoZXJTdHlsZSA9IGtvLm9ic2VydmFibGUoXCJcIik7XG4gICAgdGhpcy5hZnRlck90aGVyU3R5bGUgPSBrby5vYnNlcnZhYmxlKFwiXCIpO1xuXG4gICAgdGhpcy52aWV3ZXJGb250U2l6ZSA9IG51bGw7XG4gICAgdGhpcy5zZXRWaWV3ZXJGb250U2l6ZU9ic2VydmFibGUgPSAodmlld2VyRm9udFNpemVPYnNlcnZhYmxlKTogdm9pZCA9PiB7XG4gICAgICB0aGlzLnZpZXdlckZvbnRTaXplID0gdmlld2VyRm9udFNpemVPYnNlcnZhYmxlO1xuICAgICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFxuICAgICAgICBcInZpdmxpb3N0eWxlLXNldHRpbmdzX3ZpZXdlci1mb250LXNpemVcIixcbiAgICAgIClbMF0gYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgIGVsZW0udmFsdWUgPSB0aGlzLmZvbnRTaXplUHhUb1BlcmNlbnQoXG4gICAgICAgICAgTnVtYmVyKHZpZXdlckZvbnRTaXplT2JzZXJ2YWJsZSgpKSxcbiAgICAgICAgICAxMDAsXG4gICAgICAgICAgNSxcbiAgICAgICAgKS50b1N0cmluZygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnZpZXdlckZvbnRTaXplUGVyY2VudCA9IGtvLnB1cmVDb21wdXRlZCh7XG4gICAgICByZWFkKCkge1xuICAgICAgICBpZiAoIXRoaXMudmlld2VyRm9udFNpemUpIHtcbiAgICAgICAgICByZXR1cm4gMTAwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBlcmNlbnQgPSB0aGlzLmZvbnRTaXplUHhUb1BlcmNlbnQoXG4gICAgICAgICAgTnVtYmVyKHRoaXMudmlld2VyRm9udFNpemUoKSksXG4gICAgICAgICAgMTAwLFxuICAgICAgICAgIDUsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBwZXJjZW50O1xuICAgICAgfSxcbiAgICAgIHdyaXRlKHZpZXdlckZvbnRTaXplUGVyY2VudCkge1xuICAgICAgICBpZiAoIXRoaXMudmlld2VyRm9udFNpemUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGVyY2VudCA9IHBhcnNlRmxvYXQoU3RyaW5nKHZpZXdlckZvbnRTaXplUGVyY2VudCkpO1xuICAgICAgICBsZXQgZm9udFNpemUgPSBwZXJjZW50ICYmIHRoaXMuZm9udFNpemVQZXJjZW50VG9QeChwZXJjZW50KTtcbiAgICAgICAgaWYgKCFmb250U2l6ZSB8fCBmb250U2l6ZSA8IDUgfHwgZm9udFNpemUgPiA3Mikge1xuICAgICAgICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcbiAgICAgICAgICAgIFwidml2bGlvc3R5bGUtc2V0dGluZ3Nfdmlld2VyLWZvbnQtc2l6ZVwiLFxuICAgICAgICAgIClbMF0gYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICBpZiAoZWxlbSkge1xuICAgICAgICAgICAgZWxlbS52YWx1ZSA9IFwiMTAwXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvbnRTaXplID0gQ09OU1RBTlRTLnZpZXdlckZvbnRTaXplO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld2VyRm9udFNpemUoTnVtYmVyKGZvbnRTaXplKSk7XG4gICAgICB9LFxuICAgICAgb3duZXI6IHRoaXMsXG4gICAgfSk7XG5cbiAgICB0aGlzLmNzc1RleHQgPSBrby5wdXJlQ29tcHV0ZWQoe1xuICAgICAgcmVhZDogdGhpcy50b0NTU1RleHQsXG4gICAgICB3cml0ZTogdGhpcy5mcm9tQ1NTVGV4dCxcbiAgICAgIG93bmVyOiB0aGlzLFxuICAgIH0pO1xuXG4gICAgdGhpcy5hbGxJbXBvcnRhbnQuc3Vic2NyaWJlKChhbGxJbXBvcnRhbnQpID0+IHtcbiAgICAgIHRoaXMucGFnZVNpemVJbXBvcnRhbnQoYWxsSW1wb3J0YW50KTtcbiAgICAgIHRoaXMucGFnZU1hcmdpbkltcG9ydGFudChhbGxJbXBvcnRhbnQpO1xuICAgICAgdGhpcy5maXJzdFBhZ2VNYXJnaW5aZXJvSW1wb3J0YW50KGFsbEltcG9ydGFudCk7XG4gICAgICB0aGlzLndpZG93c09ycGhhbnNJbXBvcnRhbnQoYWxsSW1wb3J0YW50KTtcbiAgICAgIHRoaXMuaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50KGFsbEltcG9ydGFudCk7XG4gICAgICB0aGlzLmltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50KGFsbEltcG9ydGFudCk7XG4gICAgICB0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudChhbGxJbXBvcnRhbnQpO1xuICAgICAgdGhpcy5iYXNlTGluZUhlaWdodEltcG9ydGFudChhbGxJbXBvcnRhbnQpO1xuICAgICAgdGhpcy5iYXNlRm9udEZhbWlseUltcG9ydGFudChhbGxJbXBvcnRhbnQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5wYWdlU3R5bGVSZWdFeHAgPSBuZXcgUmVnRXhwKFxuICAgICAgLy8gMS4gYmVmb3JlT3RoZXJTdHlsZSxcbiAgICAgIFwiXigoPzpcXFxcbnwuKSo/KVxcXFwvXFxcXCo8dmlld2VyPlxcXFwqXFxcXC9cXFxccyooPzpAcGFnZVxcXFxzKlxcXFx7XFxcXHMqXCIgK1xuICAgICAgICAvLyAyLiBzaXplVywgc2l6ZUgsIHNpemVJbXBvcnRhbnQsXG4gICAgICAgIFwiKD86c2l6ZTpcXFxccyooW15cXFxccyE7e31dKykoPzpcXFxccysoW15cXFxccyE7e31dKykpP1xcXFxzKighaW1wb3J0YW50KT8oPzo7fCg/PVtcXFxcc3t9XSkpXFxcXHMqKT9cIiArXG4gICAgICAgIC8vIDUuIHBhZ2VNYXJnaW4sIHBhZ2VNYXJnaW5JbXBvcnRhbnQsXG4gICAgICAgIFwiKD86bWFyZ2luOlxcXFxzKihbXlxcXFxzITt7fV0rKD86XFxcXHMrW15cXFxccyE7e31dKyk/KD86XFxcXHMrW15cXFxccyE7e31dKyk/KD86XFxcXHMrW15cXFxccyE7e31dKyk/KVxcXFxzKighaW1wb3J0YW50KT8oPzo7fCg/PVtcXFxcc3t9XSkpXFxcXHMqKT9cIiArXG4gICAgICAgIC8vIDcuIHBhZ2VPdGhlclN0eWxlLFxuICAgICAgICBcIigoPzpbXnt9XSt8XFxcXHtbXnt9XSpcXFxcfSkqKVxcXFx9XFxcXHMqKT9cIiArXG4gICAgICAgIC8vIDguIGZpcnN0UGFnZU1hcmdpblplcm8sIGZpcnN0UGFnZU1hcmdpblplcm9JbXBvcnRhbnQsIGZpcnN0UGFnZU90aGVyU3R5bGUsXG4gICAgICAgIFwiKD86QHBhZ2VcXFxccyo6Zmlyc3RcXFxccypcXFxce1xcXFxzKihtYXJnaW46XFxcXHMqMCg/OlxcXFx3K3wlKT9cXFxccyooIWltcG9ydGFudCk/KD86O3woPz1bXFxcXHN7fV0pKVxcXFxzKik/KCg/Oltee31dK3xcXFxce1tee31dKlxcXFx9KSopXFxcXH1cXFxccyopP1wiICtcbiAgICAgICAgLy8gMTEuIGZvcmNlSHRtbEJvZHlNYXJnaW5aZXJvLFxuICAgICAgICBcIigoPzpodG1sfDpyb290KSxcXFxccypib2R5XFxcXHMqXFxcXHtcXFxccyptYXJnaW46XFxcXHMqMCg/OlxcXFx3K3wlKT9cXFxccyohaW1wb3J0YW50KD86O3woPz1bXFxcXHN7fV0pKVxcXFxzKlxcXFx9XFxcXHMqKT9cIiArXG4gICAgICAgIC8vIDEyLiBiYXNlRm9udFNpemUsIGJhc2VGb250U2l6ZUltcG9ydGFudCwgYmFzZUxpbmVIZWlnaHQsIGJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50LCBiYXNlRm9udEZhbWlseSwgYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQsIHJvb3RPdGhlclN0eWxlLFxuICAgICAgICBcIig/Oig/Omh0bWx8OnJvb3QpXFxcXHMqXFxcXHtcXFxccyooPzpmb250LXNpemU6XFxcXHMqKGNhbGNcXFxcKFteKCldK1xcXFwpfFteXFxcXHMhO3t9XSspXFxcXHMqKCFpbXBvcnRhbnQpPyg/Ojt8KD89W1xcXFxze31dKSlcXFxccyopPyg/OmxpbmUtaGVpZ2h0OlxcXFxzKihbXlxcXFxzITt7fV0rKVxcXFxzKighaW1wb3J0YW50KT8oPzo7fCg/PVtcXFxcc3t9XSkpXFxcXHMqKT8oPzpmb250LWZhbWlseTpcXFxccyooW14hO3t9XSspXFxcXHMqKCFpbXBvcnRhbnQpPyg/Ojt8KD89W1xcXFxze31dKSlcXFxccyopPyhbXnt9XSopXFxcXH1cXFxccyopP1wiICtcbiAgICAgICAgLy8gYm9keSB7Zm9udC1zaXplOiBpbmhlcml0ICFpbXBvcnRhbnQ7fSBldGMuXG4gICAgICAgIFwiKD86Ym9keVxcXFxzKlxcXFx7XFxcXHMqKD86Wy1cXFxcd10rOlxcXFxzKmluaGVyaXRcXFxccyohaW1wb3J0YW50KD86O3woPz1bXFxcXHN7fV0pKVxcXFxzKikrXFxcXH1cXFxccyopP1wiICtcbiAgICAgICAgLy8gMTkuIHdpZG93c09ycGhhbnMsIHdpZG93c09ycGhhbnNJbXBvcnRhbnQsXG4gICAgICAgIFwiKD86XFxcXCpcXFxccypcXFxce1xcXFxzKndpZG93czpcXFxccyooMXw5OTkpXFxcXHMqKCFpbXBvcnRhbnQpPyg/Ojt8KD89W1xcXFxze31dKSlcXFxccypvcnBoYW5zOlxcXFxzKlxcXFwxOVxcXFxzKlxcXFwyMCg/Ojt8KD89W1xcXFxze31dKSlcXFxccypcXFxcfVxcXFxzKik/XCIgK1xuICAgICAgICAvLyAyMS4gaW1hZ2VNYXhTaXplVG9GaXRQYWdlLCBpbWFnZU1heFNpemVUb0ZpdFBhZ2VJbXBvcnRhbnQsIGltYWdlS2VlcEFzcGVjdFJhdGlvLCBpbWFnZUtlZXBBc3BlY3RSYXRpb0ltcG9ydGFudCxcbiAgICAgICAgXCIoPzppbWcsXFxcXHMqc3ZnXFxcXHMqXFxcXHtcXFxccyoobWF4LWlubGluZS1zaXplOlxcXFxzKjEwMCVcXFxccyooIWltcG9ydGFudCk/KD86O3woPz1bXFxcXHN7fV0pKVxcXFxzKm1heC1ibG9jay1zaXplOlxcXFxzKjEwMHZiXFxcXHMqXFxcXDIyKD86O3woPz1bXFxcXHN7fV0pKVxcXFxzKik/KG9iamVjdC1maXQ6XFxcXHMqY29udGFpblxcXFxzKighaW1wb3J0YW50KT8oPzo7fCg/PVtcXFxcc3t9XSkpXFxcXHMqKT9cXFxcfVxcXFxzKik/XCIgK1xuICAgICAgICAvLyAyNS4gYWZ0ZXJPdGhlclN0eWxlXG4gICAgICAgIFwiKCg/OlxcXFxufC4pKikkXCIsXG4gICAgKTtcblxuICAgIGlmIChwYWdlU3R5bGUpIHtcbiAgICAgIHRoaXMuY29weUZyb20ocGFnZVN0eWxlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHB4IEZvbnQgc2l6ZSBpbiBweCB1bml0XG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gY2VudCBXaGVuIF9OXyAoZS5nLiAxKSBpcyBzcGVjaWZpZWQsIGdldCBcInBlciBfTl9cIiB2YWx1ZSBpbnN0ZWFkIG9mIHBlcmNlbnRcbiAgICogQHBhcmFtIHtudW1iZXI9fSBwcmVjaXNpb24gV2hlbiBzcGVjaWZpZWQsIGNvbnZlcnRzIHJlc3VsdCBudW1iZXIgdG8gc3RyaW5nIHdpdGggbWF4IF9wcmVjaXNpb25fIGRpZ2l0c1xuICAgKiBAcmV0dXJucyB7bnVtYmVyfHN0cmluZ30gY29udmVydGVkIHBlcmNlbnQgKG9yIHBlciBfTl8pIHZhbHVlLiBSZXR1cm5zIHN0cmluZyB3aGVuIG9wdF9wcmVjaXNpb24gaXMgc3BlY2lmaWVkLlxuICAgKi9cbiAgZm9udFNpemVQeFRvUGVyY2VudChcbiAgICBweDogbnVtYmVyLFxuICAgIGNlbnQ/OiBudW1iZXIsXG4gICAgcHJlY2lzaW9uPzogbnVtYmVyLFxuICApOiBudW1iZXIgfCBzdHJpbmcge1xuICAgIGxldCBwZXJjZW50OiBudW1iZXIgfCBzdHJpbmcgPVxuICAgICAgKHB4IC8gQ09OU1RBTlRTLnZpZXdlckZvbnRTaXplKSAqIChjZW50IHx8IDEwMCk7XG4gICAgaWYgKHByZWNpc2lvbikge1xuICAgICAgcGVyY2VudCA9IHBlcmNlbnRcbiAgICAgICAgLnRvUHJlY2lzaW9uKHByZWNpc2lvbilcbiAgICAgICAgLnJlcGxhY2UoLyg/OlxcLjAqfChcXC5cXGQqPykwKykkLywgXCIkMVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHBlcmNlbnQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBlcmNlbnQgRm9udCBzaXplIGluIHBlcmNlbnQgKG9yIHBlciBfTl8pIHVuaXRcbiAgICogQHBhcmFtIHtudW1iZXI9fSBjZW50IFdoZW4gX05fIChlLmcuIDEpIGlzIHNwZWNpZmllZCwgY29udmVydHMgZnJvbWcgXCJwZXIgX05fXCIgdmFsdWUgaW5zdGVhZCBvZiBwZXJjZW50XG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gcHJlY2lzaW9uIFdoZW4gc3BlY2lmaWVkLCBjb252ZXJ0cyByZXN1bHQgbnVtYmVyIHRvIHN0cmluZyB3aXRoIG1heCBfcHJlY2lzaW9uXyBkaWdpdHNcbiAgICogQHJldHVybnMge251bWJlcnxzdHJpbmd9IGNvbnZlcnRlZCBmb250IHNpemUgaW4gcHggdW5pdC4gUmV0dXJucyBzdHJpbmcgd2hlbiBvcHRfcHJlY2lzaW9uIGlzIHNwZWNpZmllZC5cbiAgICovXG4gIGZvbnRTaXplUGVyY2VudFRvUHgoXG4gICAgcGVyY2VudDogbnVtYmVyLFxuICAgIGNlbnQ/OiBudW1iZXIsXG4gICAgcHJlY2lzaW9uPzogbnVtYmVyLFxuICApOiBudW1iZXIgfCBzdHJpbmcge1xuICAgIGxldCBweDogbnVtYmVyIHwgc3RyaW5nID1cbiAgICAgIChwZXJjZW50IC8gKGNlbnQgfHwgMTAwKSkgKiBDT05TVEFOVFMudmlld2VyRm9udFNpemU7XG4gICAgaWYgKHByZWNpc2lvbikge1xuICAgICAgcHggPSBweC50b1ByZWNpc2lvbihwcmVjaXNpb24pLnJlcGxhY2UoLyg/OlxcLjAqfChcXC5cXGQqPykwKykkLywgXCIkMVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHB4O1xuICB9XG5cbiAgZnJvbUNTU1RleHQoY3NzVGV4dDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgciA9IHRoaXMucGFnZVN0eWxlUmVnRXhwLmV4ZWMoY3NzVGV4dCk7XG4gICAgaWYgKHIpIHtcbiAgICAgIGNvbnN0IFtcbiAgICAgICAgLFxuICAgICAgICBiZWZvcmVPdGhlclN0eWxlLFxuICAgICAgICBzaXplV18sXG4gICAgICAgIHNpemVIXyxcbiAgICAgICAgc2l6ZUltcG9ydGFudCxcbiAgICAgICAgcGFnZU1hcmdpbixcbiAgICAgICAgcGFnZU1hcmdpbkltcG9ydGFudCxcbiAgICAgICAgcGFnZU90aGVyU3R5bGVfLFxuICAgICAgICBmaXJzdFBhZ2VNYXJnaW5aZXJvLFxuICAgICAgICBmaXJzdFBhZ2VNYXJnaW5aZXJvSW1wb3J0YW50LFxuICAgICAgICBmaXJzdFBhZ2VPdGhlclN0eWxlXyxcbiAgICAgICAgZm9yY2VIdG1sQm9keU1hcmdpblplcm8sXG4gICAgICAgIGJhc2VGb250U2l6ZV8sXG4gICAgICAgIGJhc2VGb250U2l6ZUltcG9ydGFudCxcbiAgICAgICAgYmFzZUxpbmVIZWlnaHQsXG4gICAgICAgIGJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50LFxuICAgICAgICBiYXNlRm9udEZhbWlseV8sXG4gICAgICAgIGJhc2VGb250RmFtaWx5SW1wb3J0YW50LFxuICAgICAgICByb290T3RoZXJTdHlsZV8sXG4gICAgICAgIHdpZG93c09ycGhhbnMsXG4gICAgICAgIHdpZG93c09ycGhhbnNJbXBvcnRhbnQsXG4gICAgICAgIGltYWdlTWF4U2l6ZVRvRml0UGFnZSxcbiAgICAgICAgaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50LFxuICAgICAgICBpbWFnZUtlZXBBc3BlY3RSYXRpbyxcbiAgICAgICAgaW1hZ2VLZWVwQXNwZWN0UmF0aW9JbXBvcnRhbnQsXG4gICAgICAgIGFmdGVyT3RoZXJTdHlsZV8sXG4gICAgICBdID0gcjtcbiAgICAgIGxldCBhZnRlck90aGVyU3R5bGUgPSBhZnRlck90aGVyU3R5bGVfO1xuICAgICAgbGV0IGJhc2VGb250RmFtaWx5ID0gYmFzZUZvbnRGYW1pbHlfO1xuICAgICAgbGV0IGJhc2VGb250U2l6ZSA9IGJhc2VGb250U2l6ZV87XG4gICAgICBsZXQgZmlyc3RQYWdlT3RoZXJTdHlsZSA9IGZpcnN0UGFnZU90aGVyU3R5bGVfO1xuICAgICAgbGV0IHBhZ2VPdGhlclN0eWxlID0gcGFnZU90aGVyU3R5bGVfO1xuICAgICAgbGV0IHJvb3RPdGhlclN0eWxlID0gcm9vdE90aGVyU3R5bGVfO1xuICAgICAgbGV0IHNpemVXID0gc2l6ZVdfO1xuICAgICAgbGV0IHNpemVIID0gc2l6ZUhfO1xuXG4gICAgICBsZXQgY291bnRJbXBvcnRhbnQgPSAwO1xuICAgICAgbGV0IGNvdW50Tm90SW1wb3J0YW50ID0gMDtcblxuICAgICAgdGhpcy5iZWZvcmVPdGhlclN0eWxlKGJlZm9yZU90aGVyU3R5bGUpO1xuXG4gICAgICBpZiAoc2l6ZVcgPT0gXCJsYW5kc2NhcGVcIiB8fCBzaXplVyA9PSBcInBvcnRyYWl0XCIpIHtcbiAgICAgICAgdGhpcy5pc0xhbmRzY2FwZShzaXplVyA9PSBcImxhbmRzY2FwZVwiKTtcbiAgICAgICAgc2l6ZVcgPSBzaXplSDtcbiAgICAgICAgc2l6ZUggPSBudWxsO1xuICAgICAgfSBlbHNlIGlmIChzaXplSCA9PSBcImxhbmRzY2FwZVwiIHx8IHNpemVIID09IFwicG9ydHJhaXRcIikge1xuICAgICAgICB0aGlzLmlzTGFuZHNjYXBlKHNpemVIID09IFwibGFuZHNjYXBlXCIpO1xuICAgICAgICBzaXplSCA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoc2l6ZVcgIT0gbnVsbCkge1xuICAgICAgICBpZiAoc2l6ZUggPT0gbnVsbCkge1xuICAgICAgICAgIGlmIChzaXplVyA9PSBcImF1dG9cIikge1xuICAgICAgICAgICAgdGhpcy5wYWdlU2l6ZU1vZGUoTW9kZS5BdXRvKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcHJlc2V0U2l6ZSA9IFBSRVNFVF9TSVpFLmZpbmQoXG4gICAgICAgICAgICAgIChwcmVzZXRTaXplKSA9PlxuICAgICAgICAgICAgICAgIHByZXNldFNpemUubmFtZS50b0xvd2VyQ2FzZSgpID09IHNpemVXLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHByZXNldFNpemUpIHtcbiAgICAgICAgICAgICAgdGhpcy5wYWdlU2l6ZU1vZGUoTW9kZS5QcmVzZXQpO1xuICAgICAgICAgICAgICB0aGlzLnByZXNldFNpemUocHJlc2V0U2l6ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLnBhZ2VTaXplTW9kZShNb2RlLkN1c3RvbSk7XG4gICAgICAgICAgICAgIHRoaXMuY3VzdG9tV2lkdGgoc2l6ZVcpO1xuICAgICAgICAgICAgICB0aGlzLmN1c3RvbUhlaWdodChzaXplVyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucGFnZVNpemVNb2RlKE1vZGUuQ3VzdG9tKTtcbiAgICAgICAgICB0aGlzLmN1c3RvbVdpZHRoKHNpemVXKTtcbiAgICAgICAgICB0aGlzLmN1c3RvbUhlaWdodChzaXplSCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYWdlU2l6ZUltcG9ydGFudCghIXNpemVJbXBvcnRhbnQpO1xuICAgICAgICBpZiAoc2l6ZUltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wYWdlU2l6ZU1vZGUoTW9kZS5EZWZhdWx0KTtcbiAgICAgIH1cbiAgICAgIGlmIChwYWdlTWFyZ2luICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5wYWdlTWFyZ2luTW9kZShwYWdlTWFyZ2luID09IFwiMFwiID8gTW9kZS5aZXJvIDogTW9kZS5DdXN0b20pO1xuICAgICAgICBpZiAocGFnZU1hcmdpbiA9PSBcIjBcIikge1xuICAgICAgICAgIHRoaXMucGFnZU1hcmdpbk1vZGUoTW9kZS5aZXJvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnBhZ2VNYXJnaW5Nb2RlKE1vZGUuQ3VzdG9tKTtcbiAgICAgICAgICB0aGlzLmN1c3RvbU1hcmdpbihwYWdlTWFyZ2luKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhZ2VNYXJnaW5JbXBvcnRhbnQoISFwYWdlTWFyZ2luSW1wb3J0YW50KTtcbiAgICAgICAgaWYgKHBhZ2VNYXJnaW5JbXBvcnRhbnQpIGNvdW50SW1wb3J0YW50Kys7XG4gICAgICAgIGVsc2UgY291bnROb3RJbXBvcnRhbnQrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGFnZU1hcmdpbk1vZGUoTW9kZS5EZWZhdWx0KTtcbiAgICAgIH1cbiAgICAgIHBhZ2VPdGhlclN0eWxlID0gcGFnZU90aGVyU3R5bGUgfHwgXCJcIjtcbiAgICAgIHRoaXMucGFnZU90aGVyU3R5bGUocGFnZU90aGVyU3R5bGUpO1xuXG4gICAgICBpZiAoZmlyc3RQYWdlTWFyZ2luWmVybykge1xuICAgICAgICB0aGlzLmZpcnN0UGFnZU1hcmdpblplcm8odHJ1ZSk7XG4gICAgICAgIHRoaXMuZmlyc3RQYWdlTWFyZ2luWmVyb0ltcG9ydGFudCghIWZpcnN0UGFnZU1hcmdpblplcm9JbXBvcnRhbnQpO1xuICAgICAgICBpZiAoZmlyc3RQYWdlTWFyZ2luWmVyb0ltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5maXJzdFBhZ2VNYXJnaW5aZXJvKGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIGZpcnN0UGFnZU90aGVyU3R5bGUgPSBmaXJzdFBhZ2VPdGhlclN0eWxlIHx8IFwiXCI7XG4gICAgICB0aGlzLmZpcnN0UGFnZU90aGVyU3R5bGUoZmlyc3RQYWdlT3RoZXJTdHlsZSk7XG5cbiAgICAgIGlmIChmb3JjZUh0bWxCb2R5TWFyZ2luWmVybykge1xuICAgICAgICB0aGlzLmZvcmNlSHRtbEJvZHlNYXJnaW5aZXJvKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5mb3JjZUh0bWxCb2R5TWFyZ2luWmVybyhmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChiYXNlRm9udFNpemUgIT0gbnVsbCkge1xuICAgICAgICAvLyBUaGlzIG1heSBiZSBjYWxjKCkgZS5nLiBcImNhbGMoMS4yNSAqIDEycHQpXCIgd2hlbiB2aWV3ZXIgZm9udCBzaXplIGlzIDEyNSUuXG4gICAgICAgIGJhc2VGb250U2l6ZSA9IGJhc2VGb250U2l6ZS5yZXBsYWNlKFxuICAgICAgICAgIC9eXFxzKmNhbGNcXChbLlxcZF0rXFxzKlxcKlxccyooWy5cXGRdK1xcdyspXFwpXFxzKiQvLFxuICAgICAgICAgIFwiJDFcIixcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5iYXNlRm9udFNpemVTcGVjaWZpZWQodHJ1ZSk7XG4gICAgICAgIHRoaXMuYmFzZUZvbnRTaXplKGJhc2VGb250U2l6ZSk7XG4gICAgICAgIHRoaXMuYmFzZUZvbnRTaXplSW1wb3J0YW50KCEhYmFzZUZvbnRTaXplSW1wb3J0YW50KTtcbiAgICAgICAgaWYgKGJhc2VGb250U2l6ZUltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5iYXNlRm9udFNpemVTcGVjaWZpZWQoZmFsc2UpO1xuICAgICAgfVxuICAgICAgaWYgKGJhc2VMaW5lSGVpZ2h0ICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5iYXNlTGluZUhlaWdodFNwZWNpZmllZCh0cnVlKTtcbiAgICAgICAgdGhpcy5iYXNlTGluZUhlaWdodChiYXNlTGluZUhlaWdodCk7XG4gICAgICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQoISFiYXNlTGluZUhlaWdodEltcG9ydGFudCk7XG4gICAgICAgIGlmIChiYXNlTGluZUhlaWdodEltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5iYXNlTGluZUhlaWdodFNwZWNpZmllZChmYWxzZSk7XG4gICAgICB9XG4gICAgICBpZiAoYmFzZUZvbnRGYW1pbHkgIT0gbnVsbCkge1xuICAgICAgICBiYXNlRm9udEZhbWlseSA9IGJhc2VGb250RmFtaWx5LnRyaW0oKTtcbiAgICAgICAgdGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZCh0cnVlKTtcbiAgICAgICAgdGhpcy5iYXNlRm9udEZhbWlseShiYXNlRm9udEZhbWlseSk7XG4gICAgICAgIHRoaXMuYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQoISFiYXNlRm9udEZhbWlseUltcG9ydGFudCk7XG4gICAgICAgIGlmIChiYXNlRm9udEZhbWlseUltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZChmYWxzZSk7XG4gICAgICB9XG4gICAgICByb290T3RoZXJTdHlsZSA9IHJvb3RPdGhlclN0eWxlIHx8IFwiXCI7XG4gICAgICB0aGlzLnJvb3RPdGhlclN0eWxlKHJvb3RPdGhlclN0eWxlKTtcblxuICAgICAgaWYgKHdpZG93c09ycGhhbnMgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLndpZG93c09ycGhhbnMod2lkb3dzT3JwaGFucyk7XG4gICAgICAgIHRoaXMud2lkb3dzT3JwaGFuc0ltcG9ydGFudCghIXdpZG93c09ycGhhbnNJbXBvcnRhbnQpO1xuICAgICAgICBpZiAod2lkb3dzT3JwaGFuc0ltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy53aWRvd3NPcnBoYW5zKE1vZGUuRGVmYXVsdCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbWFnZU1heFNpemVUb0ZpdFBhZ2UpIHtcbiAgICAgICAgdGhpcy5pbWFnZU1heFNpemVUb0ZpdFBhZ2UodHJ1ZSk7XG4gICAgICAgIHRoaXMuaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50KCEhaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50KTtcbiAgICAgICAgaWYgKGltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbWFnZU1heFNpemVUb0ZpdFBhZ2UoZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW1hZ2VLZWVwQXNwZWN0UmF0aW8pIHtcbiAgICAgICAgdGhpcy5pbWFnZUtlZXBBc3BlY3RSYXRpbyh0cnVlKTtcbiAgICAgICAgdGhpcy5pbWFnZUtlZXBBc3BlY3RSYXRpb0ltcG9ydGFudCghIWltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50KTtcbiAgICAgICAgaWYgKGltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50KSBjb3VudEltcG9ydGFudCsrO1xuICAgICAgICBlbHNlIGNvdW50Tm90SW1wb3J0YW50Kys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmltYWdlS2VlcEFzcGVjdFJhdGlvKGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgYWZ0ZXJPdGhlclN0eWxlID1cbiAgICAgICAgYWZ0ZXJPdGhlclN0eWxlLnJlcGxhY2UoL1xcL1xcKjxcXC8/dmlld2VyPlxcKlxcL1xcbj8vZywgXCJcIikgfHwgXCJcIjtcbiAgICAgIHRoaXMuYWZ0ZXJPdGhlclN0eWxlKGFmdGVyT3RoZXJTdHlsZSk7XG5cbiAgICAgIHRoaXMuYWxsSW1wb3J0YW50KGNvdW50SW1wb3J0YW50ID4gMCAmJiBjb3VudE5vdEltcG9ydGFudCA9PSAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gV2hlbiBub3QgbWF0Y2hcbiAgICAgIGNvbnN0IGFmdGVyT3RoZXJTdHlsZSA9XG4gICAgICAgIGNzc1RleHQucmVwbGFjZSgvXFwvXFwqPFxcLz92aWV3ZXI+XFwqXFwvXFxuPy9nLCBcIlwiKSB8fCBcIlwiO1xuICAgICAgdGhpcy5hZnRlck90aGVyU3R5bGUoYWZ0ZXJPdGhlclN0eWxlKTtcbiAgICB9XG4gIH1cblxuICB0b0NTU1RleHQoKTogc3RyaW5nIHtcbiAgICBmdW5jdGlvbiBpbXAoaW1wb3J0YW50KTogc3RyaW5nIHtcbiAgICAgIHJldHVybiBpbXBvcnRhbnQgPyBcIiAhaW1wb3J0YW50XCIgOiBcIlwiO1xuICAgIH1cblxuICAgIGxldCBjc3NUZXh0ID0gdGhpcy5iZWZvcmVPdGhlclN0eWxlKCk7XG4gICAgY3NzVGV4dCArPSBcIi8qPHZpZXdlcj4qL1xcblwiO1xuICAgIGlmIChcbiAgICAgIHRoaXMucGFnZVNpemVNb2RlKCkgIT0gTW9kZS5EZWZhdWx0IHx8XG4gICAgICB0aGlzLnBhZ2VNYXJnaW5Nb2RlKCkgIT0gTW9kZS5EZWZhdWx0IHx8XG4gICAgICB0aGlzLnBhZ2VPdGhlclN0eWxlKClcbiAgICApIHtcbiAgICAgIGNzc1RleHQgKz0gXCJAcGFnZSB7IFwiO1xuICAgICAgaWYgKHRoaXMucGFnZVNpemVNb2RlKCkgIT0gTW9kZS5EZWZhdWx0KSB7XG4gICAgICAgIGNzc1RleHQgKz0gXCJzaXplOiBcIjtcblxuICAgICAgICBzd2l0Y2ggKHRoaXMucGFnZVNpemVNb2RlKCkpIHtcbiAgICAgICAgICBjYXNlIE1vZGUuQXV0bzpcbiAgICAgICAgICAgIGNzc1RleHQgKz0gXCJhdXRvXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIE1vZGUuUHJlc2V0OlxuICAgICAgICAgICAgY3NzVGV4dCArPSB0aGlzLnByZXNldFNpemUoKS5uYW1lO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNMYW5kc2NhcGUoKSkge1xuICAgICAgICAgICAgICBjc3NUZXh0ICs9IFwiIGxhbmRzY2FwZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBNb2RlLkN1c3RvbTpcbiAgICAgICAgICAgIGNzc1RleHQgKz0gYCR7dGhpcy5jdXN0b21XaWR0aCgpfSAke3RoaXMuY3VzdG9tSGVpZ2h0KCl9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gcGFnZVNpemVNb2RlICR7dGhpcy5wYWdlU2l6ZU1vZGUoKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjc3NUZXh0ICs9IGAke2ltcCh0aGlzLnBhZ2VTaXplSW1wb3J0YW50KCkpfTsgYDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnBhZ2VNYXJnaW5Nb2RlKCkgIT0gTW9kZS5EZWZhdWx0KSB7XG4gICAgICAgIGNzc1RleHQgKz0gXCJtYXJnaW46IFwiO1xuXG4gICAgICAgIHN3aXRjaCAodGhpcy5wYWdlTWFyZ2luTW9kZSgpKSB7XG4gICAgICAgICAgY2FzZSBNb2RlLkF1dG86XG4gICAgICAgICAgICBjc3NUZXh0ICs9IFwiYXV0b1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBNb2RlLlplcm86XG4gICAgICAgICAgICBjc3NUZXh0ICs9IFwiMFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBNb2RlLkN1c3RvbTpcbiAgICAgICAgICAgIGNzc1RleHQgKz0gYCR7dGhpcy5jdXN0b21NYXJnaW4oKX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBwYWdlTWFyZ2luTW9kZSAke3RoaXMucGFnZU1hcmdpbk1vZGUoKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjc3NUZXh0ICs9IGAke2ltcCh0aGlzLnBhZ2VNYXJnaW5JbXBvcnRhbnQoKSl9OyBgO1xuICAgICAgfVxuICAgICAgY3NzVGV4dCArPSB0aGlzLnBhZ2VPdGhlclN0eWxlKCk7XG4gICAgICBjc3NUZXh0ICs9IFwifVxcblwiO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZpcnN0UGFnZU1hcmdpblplcm8oKSB8fCB0aGlzLmZpcnN0UGFnZU90aGVyU3R5bGUoKSkge1xuICAgICAgY3NzVGV4dCArPSBcIkBwYWdlIDpmaXJzdCB7IFwiO1xuICAgICAgaWYgKHRoaXMuZmlyc3RQYWdlTWFyZ2luWmVybygpKSB7XG4gICAgICAgIGNzc1RleHQgKz0gYG1hcmdpbjogMCR7aW1wKHRoaXMuZmlyc3RQYWdlTWFyZ2luWmVyb0ltcG9ydGFudCgpKX07IGA7XG4gICAgICB9XG4gICAgICBjc3NUZXh0ICs9IHRoaXMuZmlyc3RQYWdlT3RoZXJTdHlsZSgpO1xuICAgICAgY3NzVGV4dCArPSBcIn1cXG5cIjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5mb3JjZUh0bWxCb2R5TWFyZ2luWmVybygpKSB7XG4gICAgICBjc3NUZXh0ICs9IFwiOnJvb3QsIGJvZHkgeyBtYXJnaW46IDAgIWltcG9ydGFudDsgfVxcblwiO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHRoaXMuYmFzZUZvbnRTaXplU3BlY2lmaWVkKCkgfHxcbiAgICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRTcGVjaWZpZWQoKSB8fFxuICAgICAgdGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZCgpIHx8XG4gICAgICB0aGlzLnJvb3RPdGhlclN0eWxlKClcbiAgICApIHtcbiAgICAgIGNzc1RleHQgKz0gXCI6cm9vdCB7IFwiO1xuICAgICAgY29uc3QgYmFzZUZvbnRTaXplID0gdGhpcy5iYXNlRm9udFNpemUoKTtcbiAgICAgIGlmICh0aGlzLmJhc2VGb250U2l6ZVNwZWNpZmllZCgpKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLnZpZXdlckZvbnRTaXplICYmXG4gICAgICAgICAgdGhpcy52aWV3ZXJGb250U2l6ZSgpICE9IENPTlNUQU5UUy52aWV3ZXJGb250U2l6ZSAmJlxuICAgICAgICAgICFiYXNlRm9udFNpemUuZW5kc1dpdGgoXCIlXCIpXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IHBlck9uZSA9IHRoaXMuZm9udFNpemVQeFRvUGVyY2VudChcbiAgICAgICAgICAgIE51bWJlcih0aGlzLnZpZXdlckZvbnRTaXplKCkpLFxuICAgICAgICAgICAgMSxcbiAgICAgICAgICAgIDUsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjc3NUZXh0ICs9IGBmb250LXNpemU6IGNhbGMoJHtwZXJPbmV9ICogJHtiYXNlRm9udFNpemV9KSR7aW1wKFxuICAgICAgICAgICAgdGhpcy5iYXNlRm9udFNpemVJbXBvcnRhbnQoKSxcbiAgICAgICAgICApfTsgYDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjc3NUZXh0ICs9IGBmb250LXNpemU6ICR7dGhpcy5iYXNlRm9udFNpemUoKX0ke2ltcChcbiAgICAgICAgICAgIHRoaXMuYmFzZUZvbnRTaXplSW1wb3J0YW50KCksXG4gICAgICAgICAgKX07IGA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmJhc2VMaW5lSGVpZ2h0U3BlY2lmaWVkKCkpIHtcbiAgICAgICAgY3NzVGV4dCArPSBgbGluZS1oZWlnaHQ6ICR7dGhpcy5iYXNlTGluZUhlaWdodCgpfSR7aW1wKFxuICAgICAgICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQoKSxcbiAgICAgICAgKX07IGA7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZCgpKSB7XG4gICAgICAgIGNzc1RleHQgKz0gYGZvbnQtZmFtaWx5OiAke3RoaXMuYmFzZUZvbnRGYW1pbHkoKX0ke2ltcChcbiAgICAgICAgICB0aGlzLmJhc2VGb250RmFtaWx5SW1wb3J0YW50KCksXG4gICAgICAgICl9OyBgO1xuICAgICAgfVxuICAgICAgY3NzVGV4dCArPSB0aGlzLnJvb3RPdGhlclN0eWxlKCk7XG4gICAgICBjc3NUZXh0ICs9IFwifVxcblwiO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAodGhpcy5iYXNlRm9udFNpemVTcGVjaWZpZWQoKSAmJiB0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudCgpKSB8fFxuICAgICAgKHRoaXMuYmFzZUxpbmVIZWlnaHRTcGVjaWZpZWQoKSAmJiB0aGlzLmJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50KCkpIHx8XG4gICAgICAodGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZCgpICYmIHRoaXMuYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQoKSlcbiAgICApIHtcbiAgICAgIGNzc1RleHQgKz0gXCJib2R5IHsgXCI7XG4gICAgICBpZiAodGhpcy5iYXNlRm9udFNpemVTcGVjaWZpZWQoKSAmJiB0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudCgpKSB7XG4gICAgICAgIGNzc1RleHQgKz0gXCJmb250LXNpemU6IGluaGVyaXQgIWltcG9ydGFudDsgXCI7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5iYXNlTGluZUhlaWdodFNwZWNpZmllZCgpICYmIHRoaXMuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQoKSkge1xuICAgICAgICBjc3NUZXh0ICs9IFwibGluZS1oZWlnaHQ6IGluaGVyaXQgIWltcG9ydGFudDsgXCI7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZCgpICYmIHRoaXMuYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQoKSkge1xuICAgICAgICBjc3NUZXh0ICs9IFwiZm9udC1mYW1pbHk6IGluaGVyaXQgIWltcG9ydGFudDsgXCI7XG4gICAgICB9XG4gICAgICBjc3NUZXh0ICs9IFwifVxcblwiO1xuICAgIH1cblxuICAgIGlmICh0aGlzLndpZG93c09ycGhhbnMoKSkge1xuICAgICAgY3NzVGV4dCArPSBcIiogeyBcIjtcbiAgICAgIGNzc1RleHQgKz0gYHdpZG93czogJHt0aGlzLndpZG93c09ycGhhbnMoKX0ke2ltcChcbiAgICAgICAgdGhpcy53aWRvd3NPcnBoYW5zSW1wb3J0YW50KCksXG4gICAgICApfTsgYDtcbiAgICAgIGNzc1RleHQgKz0gYG9ycGhhbnM6ICR7dGhpcy53aWRvd3NPcnBoYW5zKCl9JHtpbXAoXG4gICAgICAgIHRoaXMud2lkb3dzT3JwaGFuc0ltcG9ydGFudCgpLFxuICAgICAgKX07IGA7XG4gICAgICBjc3NUZXh0ICs9IFwifVxcblwiO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmltYWdlTWF4U2l6ZVRvRml0UGFnZSgpIHx8IHRoaXMuaW1hZ2VLZWVwQXNwZWN0UmF0aW8oKSkge1xuICAgICAgY3NzVGV4dCArPSBcImltZywgc3ZnIHsgXCI7XG4gICAgICBpZiAodGhpcy5pbWFnZU1heFNpemVUb0ZpdFBhZ2UoKSkge1xuICAgICAgICBjc3NUZXh0ICs9IGBtYXgtaW5saW5lLXNpemU6IDEwMCUke2ltcChcbiAgICAgICAgICB0aGlzLmltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudCgpLFxuICAgICAgICApfTsgYDtcbiAgICAgICAgY3NzVGV4dCArPSBgbWF4LWJsb2NrLXNpemU6IDEwMHZiJHtpbXAoXG4gICAgICAgICAgdGhpcy5pbWFnZU1heFNpemVUb0ZpdFBhZ2VJbXBvcnRhbnQoKSxcbiAgICAgICAgKX07IGA7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5pbWFnZUtlZXBBc3BlY3RSYXRpbygpKSB7XG4gICAgICAgIGNzc1RleHQgKz0gYG9iamVjdC1maXQ6IGNvbnRhaW4ke2ltcChcbiAgICAgICAgICB0aGlzLmltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50KCksXG4gICAgICAgICl9OyBgO1xuICAgICAgfVxuICAgICAgY3NzVGV4dCArPSBcIn1cXG5cIjtcbiAgICB9XG5cbiAgICBjc3NUZXh0ICs9IFwiLyo8L3ZpZXdlcj4qL1xcblwiO1xuICAgIGNzc1RleHQgKz0gdGhpcy5hZnRlck90aGVyU3R5bGUoKTtcblxuICAgIHJldHVybiBjc3NUZXh0O1xuICB9XG5cbiAgY29weUZyb20ob3RoZXIpOiB2b2lkIHtcbiAgICB0aGlzLnBhZ2VTaXplTW9kZShvdGhlci5wYWdlU2l6ZU1vZGUoKSk7XG4gICAgdGhpcy5wcmVzZXRTaXplKG90aGVyLnByZXNldFNpemUoKSk7XG4gICAgdGhpcy5pc0xhbmRzY2FwZShvdGhlci5pc0xhbmRzY2FwZSgpKTtcbiAgICB0aGlzLmN1c3RvbVdpZHRoKG90aGVyLmN1c3RvbVdpZHRoKCkpO1xuICAgIHRoaXMuY3VzdG9tSGVpZ2h0KG90aGVyLmN1c3RvbUhlaWdodCgpKTtcbiAgICB0aGlzLnBhZ2VTaXplSW1wb3J0YW50KG90aGVyLnBhZ2VTaXplSW1wb3J0YW50KCkpO1xuICAgIHRoaXMucGFnZU1hcmdpbk1vZGUob3RoZXIucGFnZU1hcmdpbk1vZGUoKSk7XG4gICAgdGhpcy5jdXN0b21NYXJnaW4ob3RoZXIuY3VzdG9tTWFyZ2luKCkpO1xuICAgIHRoaXMucGFnZU1hcmdpbkltcG9ydGFudChvdGhlci5wYWdlTWFyZ2luSW1wb3J0YW50KCkpO1xuICAgIHRoaXMuZmlyc3RQYWdlTWFyZ2luWmVybyhvdGhlci5maXJzdFBhZ2VNYXJnaW5aZXJvKCkpO1xuICAgIHRoaXMuZmlyc3RQYWdlTWFyZ2luWmVyb0ltcG9ydGFudChvdGhlci5maXJzdFBhZ2VNYXJnaW5aZXJvSW1wb3J0YW50KCkpO1xuICAgIHRoaXMuZm9yY2VIdG1sQm9keU1hcmdpblplcm8ob3RoZXIuZm9yY2VIdG1sQm9keU1hcmdpblplcm8oKSk7XG4gICAgdGhpcy53aWRvd3NPcnBoYW5zKG90aGVyLndpZG93c09ycGhhbnMoKSk7XG4gICAgdGhpcy53aWRvd3NPcnBoYW5zSW1wb3J0YW50KG90aGVyLndpZG93c09ycGhhbnNJbXBvcnRhbnQoKSk7XG4gICAgdGhpcy5pbWFnZU1heFNpemVUb0ZpdFBhZ2Uob3RoZXIuaW1hZ2VNYXhTaXplVG9GaXRQYWdlKCkpO1xuICAgIHRoaXMuaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50KG90aGVyLmltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudCgpKTtcbiAgICB0aGlzLmltYWdlS2VlcEFzcGVjdFJhdGlvKG90aGVyLmltYWdlS2VlcEFzcGVjdFJhdGlvKCkpO1xuICAgIHRoaXMuaW1hZ2VLZWVwQXNwZWN0UmF0aW9JbXBvcnRhbnQob3RoZXIuaW1hZ2VLZWVwQXNwZWN0UmF0aW9JbXBvcnRhbnQoKSk7XG4gICAgdGhpcy5iYXNlRm9udFNpemUob3RoZXIuYmFzZUZvbnRTaXplKCkpO1xuICAgIHRoaXMuYmFzZUZvbnRTaXplU3BlY2lmaWVkKG90aGVyLmJhc2VGb250U2l6ZVNwZWNpZmllZCgpKTtcbiAgICB0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudChvdGhlci5iYXNlRm9udFNpemVJbXBvcnRhbnQoKSk7XG4gICAgdGhpcy5iYXNlTGluZUhlaWdodChvdGhlci5iYXNlTGluZUhlaWdodCgpKTtcbiAgICB0aGlzLmJhc2VMaW5lSGVpZ2h0U3BlY2lmaWVkKG90aGVyLmJhc2VMaW5lSGVpZ2h0U3BlY2lmaWVkKCkpO1xuICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQob3RoZXIuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQoKSk7XG4gICAgdGhpcy5iYXNlRm9udEZhbWlseShvdGhlci5iYXNlRm9udEZhbWlseSgpKTtcbiAgICB0aGlzLmJhc2VGb250RmFtaWx5U3BlY2lmaWVkKG90aGVyLmJhc2VGb250RmFtaWx5U3BlY2lmaWVkKCkpO1xuICAgIHRoaXMuYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQob3RoZXIuYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQoKSk7XG4gICAgdGhpcy5hbGxJbXBvcnRhbnQob3RoZXIuYWxsSW1wb3J0YW50KCkpO1xuICAgIHRoaXMucGFnZU90aGVyU3R5bGUob3RoZXIucGFnZU90aGVyU3R5bGUoKSk7XG4gICAgdGhpcy5maXJzdFBhZ2VPdGhlclN0eWxlKG90aGVyLmZpcnN0UGFnZU90aGVyU3R5bGUoKSk7XG4gICAgdGhpcy5yb290T3RoZXJTdHlsZShvdGhlci5yb290T3RoZXJTdHlsZSgpKTtcbiAgICB0aGlzLmJlZm9yZU90aGVyU3R5bGUob3RoZXIuYmVmb3JlT3RoZXJTdHlsZSgpKTtcbiAgICB0aGlzLmFmdGVyT3RoZXJTdHlsZShvdGhlci5hZnRlck90aGVyU3R5bGUoKSk7XG5cbiAgICBpZiAodGhpcy52aWV3ZXJGb250U2l6ZSAmJiBvdGhlci52aWV3ZXJGb250U2l6ZSkge1xuICAgICAgdGhpcy52aWV3ZXJGb250U2l6ZShvdGhlci52aWV3ZXJGb250U2l6ZSgpKTtcbiAgICB9XG4gIH1cblxuICBlcXVpdmFsZW50VG8ob3RoZXIpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5wYWdlU2l6ZU1vZGUoKSAhPT0gb3RoZXIucGFnZVNpemVNb2RlKCkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLnBhZ2VTaXplTW9kZSgpID09PSBNb2RlLlByZXNldCAmJlxuICAgICAgdGhpcy5wcmVzZXRTaXplKCkgIT09IG90aGVyLnByZXNldFNpemUoKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLnBhZ2VTaXplTW9kZSgpID09PSBNb2RlLlByZXNldCAmJlxuICAgICAgdGhpcy5pc0xhbmRzY2FwZSgpICE9PSBvdGhlci5pc0xhbmRzY2FwZSgpXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChcbiAgICAgIHRoaXMucGFnZVNpemVNb2RlKCkgPT09IE1vZGUuQ3VzdG9tICYmXG4gICAgICB0aGlzLmN1c3RvbVdpZHRoKCkgIT09IG90aGVyLmN1c3RvbVdpZHRoKClcbiAgICApXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKFxuICAgICAgdGhpcy5wYWdlU2l6ZU1vZGUoKSA9PT0gTW9kZS5DdXN0b20gJiZcbiAgICAgIHRoaXMuY3VzdG9tSGVpZ2h0KCkgIT09IG90aGVyLmN1c3RvbUhlaWdodCgpXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLnBhZ2VTaXplSW1wb3J0YW50KCkgIT09IG90aGVyLnBhZ2VTaXplSW1wb3J0YW50KCkpIHJldHVybiBmYWxzZTtcblxuICAgIGlmICh0aGlzLnBhZ2VNYXJnaW5Nb2RlKCkgIT09IG90aGVyLnBhZ2VNYXJnaW5Nb2RlKCkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLnBhZ2VNYXJnaW5Nb2RlKCkgPT09IE1vZGUuQ3VzdG9tICYmXG4gICAgICB0aGlzLmN1c3RvbU1hcmdpbigpICE9PSBvdGhlci5jdXN0b21NYXJnaW4oKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5wYWdlTWFyZ2luSW1wb3J0YW50KCkgIT09IG90aGVyLnBhZ2VNYXJnaW5JbXBvcnRhbnQoKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5maXJzdFBhZ2VNYXJnaW5aZXJvKCkgIT09IG90aGVyLmZpcnN0UGFnZU1hcmdpblplcm8oKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmZpcnN0UGFnZU1hcmdpblplcm9JbXBvcnRhbnQoKSAhPT1cbiAgICAgIG90aGVyLmZpcnN0UGFnZU1hcmdpblplcm9JbXBvcnRhbnQoKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5mb3JjZUh0bWxCb2R5TWFyZ2luWmVybygpICE9PSBvdGhlci5mb3JjZUh0bWxCb2R5TWFyZ2luWmVybygpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKHRoaXMud2lkb3dzT3JwaGFucygpICE9PSBvdGhlci53aWRvd3NPcnBoYW5zKCkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy53aWRvd3NPcnBoYW5zSW1wb3J0YW50KCkgIT09IG90aGVyLndpZG93c09ycGhhbnNJbXBvcnRhbnQoKSlcbiAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIGlmICh0aGlzLmltYWdlTWF4U2l6ZVRvRml0UGFnZSgpICE9PSBvdGhlci5pbWFnZU1heFNpemVUb0ZpdFBhZ2UoKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudCgpICE9PVxuICAgICAgb3RoZXIuaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50KClcbiAgICApXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHRoaXMuaW1hZ2VLZWVwQXNwZWN0UmF0aW8oKSAhPT0gb3RoZXIuaW1hZ2VLZWVwQXNwZWN0UmF0aW8oKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50KCkgIT09XG4gICAgICBvdGhlci5pbWFnZUtlZXBBc3BlY3RSYXRpb0ltcG9ydGFudCgpXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKHRoaXMuYmFzZUZvbnRTaXplU3BlY2lmaWVkKCkgIT09IG90aGVyLmJhc2VGb250U2l6ZVNwZWNpZmllZCgpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChcbiAgICAgIHRoaXMuYmFzZUZvbnRTaXplU3BlY2lmaWVkKCkgJiZcbiAgICAgIHRoaXMuYmFzZUZvbnRTaXplKCkgIT09IG90aGVyLmJhc2VGb250U2l6ZSgpXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudCgpICE9PSBvdGhlci5iYXNlRm9udFNpemVJbXBvcnRhbnQoKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5iYXNlTGluZUhlaWdodFNwZWNpZmllZCgpICE9PSBvdGhlci5iYXNlTGluZUhlaWdodFNwZWNpZmllZCgpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChcbiAgICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRTcGVjaWZpZWQoKSAmJlxuICAgICAgdGhpcy5iYXNlTGluZUhlaWdodCgpICE9PSBvdGhlci5iYXNlTGluZUhlaWdodCgpXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLmJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50KCkgIT09IG90aGVyLmJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50KCkpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHRoaXMuYmFzZUZvbnRGYW1pbHlTcGVjaWZpZWQoKSAhPT0gb3RoZXIuYmFzZUZvbnRGYW1pbHlTcGVjaWZpZWQoKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmJhc2VGb250RmFtaWx5U3BlY2lmaWVkKCkgJiZcbiAgICAgIHRoaXMuYmFzZUZvbnRGYW1pbHkoKSAhPT0gb3RoZXIuYmFzZUZvbnRGYW1pbHkoKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5iYXNlRm9udEZhbWlseUltcG9ydGFudCgpICE9PSBvdGhlci5iYXNlRm9udEZhbWlseUltcG9ydGFudCgpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKHRoaXMuYWxsSW1wb3J0YW50KCkgIT09IG90aGVyLmFsbEltcG9ydGFudCgpKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHRoaXMucGFnZU90aGVyU3R5bGUoKSAhPT0gb3RoZXIucGFnZU90aGVyU3R5bGUoKSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLmZpcnN0UGFnZU90aGVyU3R5bGUoKSAhPT0gb3RoZXIuZmlyc3RQYWdlT3RoZXJTdHlsZSgpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLnJvb3RPdGhlclN0eWxlKCkgIT09IG90aGVyLnJvb3RPdGhlclN0eWxlKCkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5iZWZvcmVPdGhlclN0eWxlKCkgIT09IG90aGVyLmJlZm9yZU90aGVyU3R5bGUoKSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLmFmdGVyT3RoZXJTdHlsZSgpICE9PSBvdGhlci5hZnRlck90aGVyU3R5bGUoKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKFxuICAgICAgIXRoaXMudmlld2VyRm9udFNpemUgIT09ICFvdGhlci52aWV3ZXJGb250U2l6ZSB8fFxuICAgICAgKHRoaXMudmlld2VyRm9udFNpemUgJiYgdGhpcy52aWV3ZXJGb250U2l6ZSgpICE9PSBvdGhlci52aWV3ZXJGb250U2l6ZSgpKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBhZ2VTdHlsZTtcbiIsIi8qIVxuICogS25vY2tvdXQgSmF2YVNjcmlwdCBsaWJyYXJ5IHYzLjUuMVxuICogKGMpIFRoZSBLbm9ja291dC5qcyB0ZWFtIC0gaHR0cDovL2tub2Nrb3V0anMuY29tL1xuICogTGljZW5zZTogTUlUIChodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocClcbiAqL1xuXG4oZnVuY3Rpb24oKSB7KGZ1bmN0aW9uKG4pe3ZhciBBPXRoaXN8fCgwLGV2YWwpKFwidGhpc1wiKSx3PUEuZG9jdW1lbnQsUj1BLm5hdmlnYXRvcix2PUEualF1ZXJ5LEg9QS5KU09OO3Z8fFwidW5kZWZpbmVkXCI9PT10eXBlb2YgalF1ZXJ5fHwodj1qUXVlcnkpOyhmdW5jdGlvbihuKXtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJleHBvcnRzXCIsXCJyZXF1aXJlXCJdLG4pOlwib2JqZWN0XCI9PT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09PXR5cGVvZiBtb2R1bGU/bihtb2R1bGUuZXhwb3J0c3x8ZXhwb3J0cyk6bihBLmtvPXt9KX0pKGZ1bmN0aW9uKFMsVCl7ZnVuY3Rpb24gSyhhLGMpe3JldHVybiBudWxsPT09YXx8dHlwZW9mIGEgaW4gVz9hPT09YzohMX1mdW5jdGlvbiBYKGIsYyl7dmFyIGQ7cmV0dXJuIGZ1bmN0aW9uKCl7ZHx8KGQ9YS5hLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkPW47YigpfSxjKSl9fWZ1bmN0aW9uIFkoYixjKXt2YXIgZDtyZXR1cm4gZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZCk7XG5kPWEuYS5zZXRUaW1lb3V0KGIsYyl9fWZ1bmN0aW9uIFooYSxjKXtjJiZcImNoYW5nZVwiIT09Yz9cImJlZm9yZUNoYW5nZVwiPT09Yz90aGlzLnBjKGEpOnRoaXMuZ2IoYSxjKTp0aGlzLnFjKGEpfWZ1bmN0aW9uIGFhKGEsYyl7bnVsbCE9PWMmJmMucyYmYy5zKCl9ZnVuY3Rpb24gYmEoYSxjKXt2YXIgZD10aGlzLnFkLGU9ZFtyXTtlLnJhfHwodGhpcy5RYiYmdGhpcy5tYltjXT8oZC51YyhjLGEsdGhpcy5tYltjXSksdGhpcy5tYltjXT1udWxsLC0tdGhpcy5RYik6ZS5JW2NdfHxkLnVjKGMsYSxlLko/e2RhOmF9OmQuJGMoYSkpLGEuSmEmJmEuZ2QoKSl9dmFyIGE9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBTP1M6e307YS5iPWZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPWIuc3BsaXQoXCIuXCIpLGU9YSxmPTA7ZjxkLmxlbmd0aC0xO2YrKyllPWVbZFtmXV07ZVtkW2QubGVuZ3RoLTFdXT1jfTthLkw9ZnVuY3Rpb24oYSxjLGQpe2FbY109ZH07YS52ZXJzaW9uPVwiMy41LjFcIjthLmIoXCJ2ZXJzaW9uXCIsXG5hLnZlcnNpb24pO2Eub3B0aW9ucz17ZGVmZXJVcGRhdGVzOiExLHVzZU9ubHlOYXRpdmVFdmVudHM6ITEsZm9yZWFjaEhpZGVzRGVzdHJveWVkOiExfTthLmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEsYil7Zm9yKHZhciBjIGluIGEpZi5jYWxsKGEsYykmJmIoYyxhW2NdKX1mdW5jdGlvbiBjKGEsYil7aWYoYilmb3IodmFyIGMgaW4gYilmLmNhbGwoYixjKSYmKGFbY109YltjXSk7cmV0dXJuIGF9ZnVuY3Rpb24gZChhLGIpe2EuX19wcm90b19fPWI7cmV0dXJuIGF9ZnVuY3Rpb24gZShiLGMsZCxlKXt2YXIgbD1iW2NdLm1hdGNoKHEpfHxbXTthLmEuRChkLm1hdGNoKHEpLGZ1bmN0aW9uKGIpe2EuYS5OYShsLGIsZSl9KTtiW2NdPWwuam9pbihcIiBcIil9dmFyIGY9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxnPXtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSxoPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wsbT17fSxrPXt9O21bUiYmL0ZpcmVmb3hcXC8yL2kudGVzdChSLnVzZXJBZ2VudCk/XG5cIktleWJvYXJkRXZlbnRcIjpcIlVJRXZlbnRzXCJdPVtcImtleXVwXCIsXCJrZXlkb3duXCIsXCJrZXlwcmVzc1wiXTttLk1vdXNlRXZlbnRzPVwiY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmVcIi5zcGxpdChcIiBcIik7YihtLGZ1bmN0aW9uKGEsYil7aWYoYi5sZW5ndGgpZm9yKHZhciBjPTAsZD1iLmxlbmd0aDtjPGQ7YysrKWtbYltjXV09YX0pO3ZhciBsPXtwcm9wZXJ0eWNoYW5nZTohMH0scD13JiZmdW5jdGlvbigpe2Zvcih2YXIgYT0zLGI9dy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGM9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlcIik7Yi5pbm5lckhUTUw9XCJcXHgzYyEtLVtpZiBndCBJRSBcIisgKythK1wiXT48aT48L2k+PCFbZW5kaWZdLS1cXHgzZVwiLGNbMF07KTtyZXR1cm4gNDxhP2E6bn0oKSxxPS9cXFMrL2csdDtyZXR1cm57SmM6W1wiYXV0aGVudGljaXR5X3Rva2VuXCIsL15fX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbihfLiopPyQvXSxcbkQ6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKyliLmNhbGwoYyxhW2RdLGQsYSl9LEE6XCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXkucHJvdG90eXBlLmluZGV4T2Y/ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChhLGIpfTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKylpZihhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX0sTGI6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKylpZihiLmNhbGwoYyxhW2RdLGQsYSkpcmV0dXJuIGFbZF07cmV0dXJuIG59LFBhOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLkEoYixjKTswPGQ/Yi5zcGxpY2UoZCwxKTowPT09ZCYmYi5zaGlmdCgpfSx3YzpmdW5jdGlvbihiKXt2YXIgYz1bXTtiJiZhLmEuRChiLGZ1bmN0aW9uKGIpezA+YS5hLkEoYyxiKSYmYy5wdXNoKGIpfSk7cmV0dXJuIGN9LE1iOmZ1bmN0aW9uKGEsXG5iLGMpe3ZhciBkPVtdO2lmKGEpZm9yKHZhciBlPTAsbD1hLmxlbmd0aDtlPGw7ZSsrKWQucHVzaChiLmNhbGwoYyxhW2VdLGUpKTtyZXR1cm4gZH0samI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdO2lmKGEpZm9yKHZhciBlPTAsbD1hLmxlbmd0aDtlPGw7ZSsrKWIuY2FsbChjLGFbZV0sZSkmJmQucHVzaChhW2VdKTtyZXR1cm4gZH0sTmI6ZnVuY3Rpb24oYSxiKXtpZihiIGluc3RhbmNlb2YgQXJyYXkpYS5wdXNoLmFwcGx5KGEsYik7ZWxzZSBmb3IodmFyIGM9MCxkPWIubGVuZ3RoO2M8ZDtjKyspYS5wdXNoKGJbY10pO3JldHVybiBhfSxOYTpmdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5hLkEoYS5hLmJjKGIpLGMpOzA+ZT9kJiZiLnB1c2goYyk6ZHx8Yi5zcGxpY2UoZSwxKX0sQmE6ZyxleHRlbmQ6YyxzZXRQcm90b3R5cGVPZjpkLEFiOmc/ZDpjLFA6YixHYTpmdW5jdGlvbihhLGIsYyl7aWYoIWEpcmV0dXJuIGE7dmFyIGQ9e30sZTtmb3IoZSBpbiBhKWYuY2FsbChhLGUpJiYoZFtlXT1cbmIuY2FsbChjLGFbZV0sZSxhKSk7cmV0dXJuIGR9LFRiOmZ1bmN0aW9uKGIpe2Zvcig7Yi5maXJzdENoaWxkOylhLnJlbW92ZU5vZGUoYi5maXJzdENoaWxkKX0sWWI6ZnVuY3Rpb24oYil7Yj1hLmEubGEoYik7Zm9yKHZhciBjPShiWzBdJiZiWzBdLm93bmVyRG9jdW1lbnR8fHcpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZD0wLGU9Yi5sZW5ndGg7ZDxlO2QrKyljLmFwcGVuZENoaWxkKGEub2EoYltkXSkpO3JldHVybiBjfSxDYTpmdW5jdGlvbihiLGMpe2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGgsbD1bXTtkPGU7ZCsrKXt2YXIgaz1iW2RdLmNsb25lTm9kZSghMCk7bC5wdXNoKGM/YS5vYShrKTprKX1yZXR1cm4gbH0sdmE6ZnVuY3Rpb24oYixjKXthLmEuVGIoYik7aWYoYylmb3IodmFyIGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspYi5hcHBlbmRDaGlsZChjW2RdKX0sWGM6ZnVuY3Rpb24oYixjKXt2YXIgZD1iLm5vZGVUeXBlP1tiXTpiO2lmKDA8ZC5sZW5ndGgpe2Zvcih2YXIgZT1kWzBdLFxubD1lLnBhcmVudE5vZGUsaz0wLGY9Yy5sZW5ndGg7azxmO2srKylsLmluc2VydEJlZm9yZShjW2tdLGUpO2s9MDtmb3IoZj1kLmxlbmd0aDtrPGY7aysrKWEucmVtb3ZlTm9kZShkW2tdKX19LFVhOmZ1bmN0aW9uKGEsYil7aWYoYS5sZW5ndGgpe2ZvcihiPTg9PT1iLm5vZGVUeXBlJiZiLnBhcmVudE5vZGV8fGI7YS5sZW5ndGgmJmFbMF0ucGFyZW50Tm9kZSE9PWI7KWEuc3BsaWNlKDAsMSk7Zm9yKDsxPGEubGVuZ3RoJiZhW2EubGVuZ3RoLTFdLnBhcmVudE5vZGUhPT1iOylhLmxlbmd0aC0tO2lmKDE8YS5sZW5ndGgpe3ZhciBjPWFbMF0sZD1hW2EubGVuZ3RoLTFdO2ZvcihhLmxlbmd0aD0wO2MhPT1kOylhLnB1c2goYyksYz1jLm5leHRTaWJsaW5nO2EucHVzaChkKX19cmV0dXJuIGF9LFpjOmZ1bmN0aW9uKGEsYil7Nz5wP2Euc2V0QXR0cmlidXRlKFwic2VsZWN0ZWRcIixiKTphLnNlbGVjdGVkPWJ9LERiOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT09YXx8YT09PW4/XCJcIjphLnRyaW0/XG5hLnRyaW0oKTphLnRvU3RyaW5nKCkucmVwbGFjZSgvXltcXHNcXHhhMF0rfFtcXHNcXHhhMF0rJC9nLFwiXCIpfSxVZDpmdW5jdGlvbihhLGIpe2E9YXx8XCJcIjtyZXR1cm4gYi5sZW5ndGg+YS5sZW5ndGg/ITE6YS5zdWJzdHJpbmcoMCxiLmxlbmd0aCk9PT1ifSx2ZDpmdW5jdGlvbihhLGIpe2lmKGE9PT1iKXJldHVybiEwO2lmKDExPT09YS5ub2RlVHlwZSlyZXR1cm4hMTtpZihiLmNvbnRhaW5zKXJldHVybiBiLmNvbnRhaW5zKDEhPT1hLm5vZGVUeXBlP2EucGFyZW50Tm9kZTphKTtpZihiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKXJldHVybiAxNj09KGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSkmMTYpO2Zvcig7YSYmYSE9YjspYT1hLnBhcmVudE5vZGU7cmV0dXJuISFhfSxTYjpmdW5jdGlvbihiKXtyZXR1cm4gYS5hLnZkKGIsYi5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCl9LGtkOmZ1bmN0aW9uKGIpe3JldHVybiEhYS5hLkxiKGIsYS5hLlNiKX0sUjpmdW5jdGlvbihhKXtyZXR1cm4gYSYmXG5hLnRhZ05hbWUmJmEudGFnTmFtZS50b0xvd2VyQ2FzZSgpfSxBYzpmdW5jdGlvbihiKXtyZXR1cm4gYS5vbkVycm9yP2Z1bmN0aW9uKCl7dHJ5e3JldHVybiBiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1jYXRjaChjKXt0aHJvdyBhLm9uRXJyb3ImJmEub25FcnJvcihjKSxjO319OmJ9LHNldFRpbWVvdXQ6ZnVuY3Rpb24oYixjKXtyZXR1cm4gc2V0VGltZW91dChhLmEuQWMoYiksYyl9LEdjOmZ1bmN0aW9uKGIpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLm9uRXJyb3ImJmEub25FcnJvcihiKTt0aHJvdyBiO30sMCl9LEI6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEuYS5BYyhkKTtkPWxbY107aWYoYS5vcHRpb25zLnVzZU9ubHlOYXRpdmVFdmVudHN8fGR8fCF2KWlmKGR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGIuYWRkRXZlbnRMaXN0ZW5lcilpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgYi5hdHRhY2hFdmVudCl7dmFyIGs9ZnVuY3Rpb24oYSl7ZS5jYWxsKGIsYSl9LGY9XCJvblwiK2M7Yi5hdHRhY2hFdmVudChmLFxuayk7YS5hLksuemEoYixmdW5jdGlvbigpe2IuZGV0YWNoRXZlbnQoZixrKX0pfWVsc2UgdGhyb3cgRXJyb3IoXCJCcm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBhZGRFdmVudExpc3RlbmVyIG9yIGF0dGFjaEV2ZW50XCIpO2Vsc2UgYi5hZGRFdmVudExpc3RlbmVyKGMsZSwhMSk7ZWxzZSB0fHwodD1cImZ1bmN0aW9uXCI9PXR5cGVvZiB2KGIpLm9uP1wib25cIjpcImJpbmRcIiksdihiKVt0XShjLGUpfSxGYjpmdW5jdGlvbihiLGMpe2lmKCFifHwhYi5ub2RlVHlwZSl0aHJvdyBFcnJvcihcImVsZW1lbnQgbXVzdCBiZSBhIERPTSBub2RlIHdoZW4gY2FsbGluZyB0cmlnZ2VyRXZlbnRcIik7dmFyIGQ7XCJpbnB1dFwiPT09YS5hLlIoYikmJmIudHlwZSYmXCJjbGlja1wiPT1jLnRvTG93ZXJDYXNlKCk/KGQ9Yi50eXBlLGQ9XCJjaGVja2JveFwiPT1kfHxcInJhZGlvXCI9PWQpOmQ9ITE7aWYoYS5vcHRpb25zLnVzZU9ubHlOYXRpdmVFdmVudHN8fCF2fHxkKWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHcuY3JlYXRlRXZlbnQpaWYoXCJmdW5jdGlvblwiPT1cbnR5cGVvZiBiLmRpc3BhdGNoRXZlbnQpZD13LmNyZWF0ZUV2ZW50KGtbY118fFwiSFRNTEV2ZW50c1wiKSxkLmluaXRFdmVudChjLCEwLCEwLEEsMCwwLDAsMCwwLCExLCExLCExLCExLDAsYiksYi5kaXNwYXRjaEV2ZW50KGQpO2Vsc2UgdGhyb3cgRXJyb3IoXCJUaGUgc3VwcGxpZWQgZWxlbWVudCBkb2Vzbid0IHN1cHBvcnQgZGlzcGF0Y2hFdmVudFwiKTtlbHNlIGlmKGQmJmIuY2xpY2spYi5jbGljaygpO2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGIuZmlyZUV2ZW50KWIuZmlyZUV2ZW50KFwib25cIitjKTtlbHNlIHRocm93IEVycm9yKFwiQnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgdHJpZ2dlcmluZyBldmVudHNcIik7ZWxzZSB2KGIpLnRyaWdnZXIoYyl9LGY6ZnVuY3Rpb24oYil7cmV0dXJuIGEuTyhiKT9iKCk6Yn0sYmM6ZnVuY3Rpb24oYil7cmV0dXJuIGEuTyhiKT9iLnYoKTpifSxFYjpmdW5jdGlvbihiLGMsZCl7dmFyIGw7YyYmKFwib2JqZWN0XCI9PT10eXBlb2YgYi5jbGFzc0xpc3Q/XG4obD1iLmNsYXNzTGlzdFtkP1wiYWRkXCI6XCJyZW1vdmVcIl0sYS5hLkQoYy5tYXRjaChxKSxmdW5jdGlvbihhKXtsLmNhbGwoYi5jbGFzc0xpc3QsYSl9KSk6XCJzdHJpbmdcIj09PXR5cGVvZiBiLmNsYXNzTmFtZS5iYXNlVmFsP2UoYi5jbGFzc05hbWUsXCJiYXNlVmFsXCIsYyxkKTplKGIsXCJjbGFzc05hbWVcIixjLGQpKX0sQmI6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuZihjKTtpZihudWxsPT09ZHx8ZD09PW4pZD1cIlwiO3ZhciBlPWEuaC5maXJzdENoaWxkKGIpOyFlfHwzIT1lLm5vZGVUeXBlfHxhLmgubmV4dFNpYmxpbmcoZSk/YS5oLnZhKGIsW2Iub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkKV0pOmUuZGF0YT1kO2EuYS5BZChiKX0sWWM6ZnVuY3Rpb24oYSxiKXthLm5hbWU9YjtpZig3Pj1wKXRyeXt2YXIgYz1hLm5hbWUucmVwbGFjZSgvWyY8PidcIl0vZyxmdW5jdGlvbihhKXtyZXR1cm5cIiYjXCIrYS5jaGFyQ29kZUF0KDApK1wiO1wifSk7YS5tZXJnZUF0dHJpYnV0ZXMody5jcmVhdGVFbGVtZW50KFwiPGlucHV0IG5hbWU9J1wiK1xuYytcIicvPlwiKSwhMSl9Y2F0Y2goZCl7fX0sQWQ6ZnVuY3Rpb24oYSl7OTw9cCYmKGE9MT09YS5ub2RlVHlwZT9hOmEucGFyZW50Tm9kZSxhLnN0eWxlJiYoYS5zdHlsZS56b29tPWEuc3R5bGUuem9vbSkpfSx3ZDpmdW5jdGlvbihhKXtpZihwKXt2YXIgYj1hLnN0eWxlLndpZHRoO2Euc3R5bGUud2lkdGg9MDthLnN0eWxlLndpZHRoPWJ9fSxQZDpmdW5jdGlvbihiLGMpe2I9YS5hLmYoYik7Yz1hLmEuZihjKTtmb3IodmFyIGQ9W10sZT1iO2U8PWM7ZSsrKWQucHVzaChlKTtyZXR1cm4gZH0sbGE6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspYi5wdXNoKGFbY10pO3JldHVybiBifSxEYTpmdW5jdGlvbihhKXtyZXR1cm4gaD9TeW1ib2woYSk6YX0sWmQ6Nj09PXAsJGQ6Nz09PXAsVzpwLExjOmZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPWEuYS5sYShiLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIikpLmNvbmNhdChhLmEubGEoYi5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRleHRhcmVhXCIpKSksXG5lPVwic3RyaW5nXCI9PXR5cGVvZiBjP2Z1bmN0aW9uKGEpe3JldHVybiBhLm5hbWU9PT1jfTpmdW5jdGlvbihhKXtyZXR1cm4gYy50ZXN0KGEubmFtZSl9LGw9W10saz1kLmxlbmd0aC0xOzA8PWs7ay0tKWUoZFtrXSkmJmwucHVzaChkW2tdKTtyZXR1cm4gbH0sTmQ6ZnVuY3Rpb24oYil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGImJihiPWEuYS5EYihiKSk/SCYmSC5wYXJzZT9ILnBhcnNlKGIpOihuZXcgRnVuY3Rpb24oXCJyZXR1cm4gXCIrYikpKCk6bnVsbH0saGM6ZnVuY3Rpb24oYixjLGQpe2lmKCFIfHwhSC5zdHJpbmdpZnkpdGhyb3cgRXJyb3IoXCJDYW5ub3QgZmluZCBKU09OLnN0cmluZ2lmeSgpLiBTb21lIGJyb3dzZXJzIChlLmcuLCBJRSA8IDgpIGRvbid0IHN1cHBvcnQgaXQgbmF0aXZlbHksIGJ1dCB5b3UgY2FuIG92ZXJjb21lIHRoaXMgYnkgYWRkaW5nIGEgc2NyaXB0IHJlZmVyZW5jZSB0byBqc29uMi5qcywgZG93bmxvYWRhYmxlIGZyb20gaHR0cDovL3d3dy5qc29uLm9yZy9qc29uMi5qc1wiKTtcbnJldHVybiBILnN0cmluZ2lmeShhLmEuZihiKSxjLGQpfSxPZDpmdW5jdGlvbihjLGQsZSl7ZT1lfHx7fTt2YXIgbD1lLnBhcmFtc3x8e30saz1lLmluY2x1ZGVGaWVsZHN8fHRoaXMuSmMsZj1jO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBjJiZcImZvcm1cIj09PWEuYS5SKGMpKWZvcih2YXIgZj1jLmFjdGlvbixoPWsubGVuZ3RoLTE7MDw9aDtoLS0pZm9yKHZhciBnPWEuYS5MYyhjLGtbaF0pLG09Zy5sZW5ndGgtMTswPD1tO20tLSlsW2dbbV0ubmFtZV09Z1ttXS52YWx1ZTtkPWEuYS5mKGQpO3ZhciBwPXcuY3JlYXRlRWxlbWVudChcImZvcm1cIik7cC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO3AuYWN0aW9uPWY7cC5tZXRob2Q9XCJwb3N0XCI7Zm9yKHZhciBxIGluIGQpYz13LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxjLnR5cGU9XCJoaWRkZW5cIixjLm5hbWU9cSxjLnZhbHVlPWEuYS5oYyhhLmEuZihkW3FdKSkscC5hcHBlbmRDaGlsZChjKTtiKGwsZnVuY3Rpb24oYSxiKXt2YXIgYz13LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbmMudHlwZT1cImhpZGRlblwiO2MubmFtZT1hO2MudmFsdWU9YjtwLmFwcGVuZENoaWxkKGMpfSk7dy5ib2R5LmFwcGVuZENoaWxkKHApO2Uuc3VibWl0dGVyP2Uuc3VibWl0dGVyKHApOnAuc3VibWl0KCk7c2V0VGltZW91dChmdW5jdGlvbigpe3AucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwKX0sMCl9fX0oKTthLmIoXCJ1dGlsc1wiLGEuYSk7YS5iKFwidXRpbHMuYXJyYXlGb3JFYWNoXCIsYS5hLkQpO2EuYihcInV0aWxzLmFycmF5Rmlyc3RcIixhLmEuTGIpO2EuYihcInV0aWxzLmFycmF5RmlsdGVyXCIsYS5hLmpiKTthLmIoXCJ1dGlscy5hcnJheUdldERpc3RpbmN0VmFsdWVzXCIsYS5hLndjKTthLmIoXCJ1dGlscy5hcnJheUluZGV4T2ZcIixhLmEuQSk7YS5iKFwidXRpbHMuYXJyYXlNYXBcIixhLmEuTWIpO2EuYihcInV0aWxzLmFycmF5UHVzaEFsbFwiLGEuYS5OYik7YS5iKFwidXRpbHMuYXJyYXlSZW1vdmVJdGVtXCIsYS5hLlBhKTthLmIoXCJ1dGlscy5jbG9uZU5vZGVzXCIsYS5hLkNhKTthLmIoXCJ1dGlscy5jcmVhdGVTeW1ib2xPclN0cmluZ1wiLFxuYS5hLkRhKTthLmIoXCJ1dGlscy5leHRlbmRcIixhLmEuZXh0ZW5kKTthLmIoXCJ1dGlscy5maWVsZHNJbmNsdWRlZFdpdGhKc29uUG9zdFwiLGEuYS5KYyk7YS5iKFwidXRpbHMuZ2V0Rm9ybUZpZWxkc1wiLGEuYS5MYyk7YS5iKFwidXRpbHMub2JqZWN0TWFwXCIsYS5hLkdhKTthLmIoXCJ1dGlscy5wZWVrT2JzZXJ2YWJsZVwiLGEuYS5iYyk7YS5iKFwidXRpbHMucG9zdEpzb25cIixhLmEuT2QpO2EuYihcInV0aWxzLnBhcnNlSnNvblwiLGEuYS5OZCk7YS5iKFwidXRpbHMucmVnaXN0ZXJFdmVudEhhbmRsZXJcIixhLmEuQik7YS5iKFwidXRpbHMuc3RyaW5naWZ5SnNvblwiLGEuYS5oYyk7YS5iKFwidXRpbHMucmFuZ2VcIixhLmEuUGQpO2EuYihcInV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzc1wiLGEuYS5FYik7YS5iKFwidXRpbHMudHJpZ2dlckV2ZW50XCIsYS5hLkZiKTthLmIoXCJ1dGlscy51bndyYXBPYnNlcnZhYmxlXCIsYS5hLmYpO2EuYihcInV0aWxzLm9iamVjdEZvckVhY2hcIixhLmEuUCk7YS5iKFwidXRpbHMuYWRkT3JSZW1vdmVJdGVtXCIsXG5hLmEuTmEpO2EuYihcInV0aWxzLnNldFRleHRDb250ZW50XCIsYS5hLkJiKTthLmIoXCJ1bndyYXBcIixhLmEuZik7RnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fChGdW5jdGlvbi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhKXt2YXIgYz10aGlzO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBmdW5jdGlvbigpe3JldHVybiBjLmFwcGx5KGEsYXJndW1lbnRzKX07dmFyIGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3ZhciBlPWQuc2xpY2UoMCk7ZS5wdXNoLmFwcGx5KGUsYXJndW1lbnRzKTtyZXR1cm4gYy5hcHBseShhLGUpfX0pO2EuYS5nPW5ldyBmdW5jdGlvbigpe3ZhciBiPTAsYz1cIl9fa29fX1wiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpLGQ9e30sZSxmO2EuYS5XPyhlPWZ1bmN0aW9uKGEsZSl7dmFyIGY9YVtjXTtpZighZnx8XCJudWxsXCI9PT1mfHwhZFtmXSl7aWYoIWUpcmV0dXJuIG47Zj1hW2NdPVwia29cIitiKys7ZFtmXT1cbnt9fXJldHVybiBkW2ZdfSxmPWZ1bmN0aW9uKGEpe3ZhciBiPWFbY107cmV0dXJuIGI/KGRlbGV0ZSBkW2JdLGFbY109bnVsbCwhMCk6ITF9KTooZT1mdW5jdGlvbihhLGIpe3ZhciBkPWFbY107IWQmJmImJihkPWFbY109e30pO3JldHVybiBkfSxmPWZ1bmN0aW9uKGEpe3JldHVybiBhW2NdPyhkZWxldGUgYVtjXSwhMCk6ITF9KTtyZXR1cm57Z2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9ZShhLCExKTtyZXR1cm4gYyYmY1tiXX0sc2V0OmZ1bmN0aW9uKGEsYixjKXsoYT1lKGEsYyE9PW4pKSYmKGFbYl09Yyl9LFViOmZ1bmN0aW9uKGEsYixjKXthPWUoYSwhMCk7cmV0dXJuIGFbYl18fChhW2JdPWMpfSxjbGVhcjpmLFo6ZnVuY3Rpb24oKXtyZXR1cm4gYisrICtjfX19O2EuYihcInV0aWxzLmRvbURhdGFcIixhLmEuZyk7YS5iKFwidXRpbHMuZG9tRGF0YS5jbGVhclwiLGEuYS5nLmNsZWFyKTthLmEuSz1uZXcgZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsYyl7dmFyIGQ9YS5hLmcuZ2V0KGIsZSk7XG5kPT09biYmYyYmKGQ9W10sYS5hLmcuc2V0KGIsZSxkKSk7cmV0dXJuIGR9ZnVuY3Rpb24gYyhjKXt2YXIgZT1iKGMsITEpO2lmKGUpZm9yKHZhciBlPWUuc2xpY2UoMCksaz0wO2s8ZS5sZW5ndGg7aysrKWVba10oYyk7YS5hLmcuY2xlYXIoYyk7YS5hLksuY2xlYW5FeHRlcm5hbERhdGEoYyk7Z1tjLm5vZGVUeXBlXSYmZChjLmNoaWxkTm9kZXMsITApfWZ1bmN0aW9uIGQoYixkKXtmb3IodmFyIGU9W10sbCxmPTA7ZjxiLmxlbmd0aDtmKyspaWYoIWR8fDg9PT1iW2ZdLm5vZGVUeXBlKWlmKGMoZVtlLmxlbmd0aF09bD1iW2ZdKSxiW2ZdIT09bClmb3IoO2YtLSYmLTE9PWEuYS5BKGUsYltmXSk7KTt9dmFyIGU9YS5hLmcuWigpLGY9ezE6ITAsODohMCw5OiEwfSxnPXsxOiEwLDk6ITB9O3JldHVybnt6YTpmdW5jdGlvbihhLGMpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGMpdGhyb3cgRXJyb3IoXCJDYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb25cIik7YihhLCEwKS5wdXNoKGMpfSx5YjpmdW5jdGlvbihjLFxuZCl7dmFyIGY9YihjLCExKTtmJiYoYS5hLlBhKGYsZCksMD09Zi5sZW5ndGgmJmEuYS5nLnNldChjLGUsbikpfSxvYTpmdW5jdGlvbihiKXthLnUuRyhmdW5jdGlvbigpe2ZbYi5ub2RlVHlwZV0mJihjKGIpLGdbYi5ub2RlVHlwZV0mJmQoYi5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikpKX0pO3JldHVybiBifSxyZW1vdmVOb2RlOmZ1bmN0aW9uKGIpe2Eub2EoYik7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYil9LGNsZWFuRXh0ZXJuYWxEYXRhOmZ1bmN0aW9uKGEpe3YmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHYuY2xlYW5EYXRhJiZ2LmNsZWFuRGF0YShbYV0pfX19O2Eub2E9YS5hLksub2E7YS5yZW1vdmVOb2RlPWEuYS5LLnJlbW92ZU5vZGU7YS5iKFwiY2xlYW5Ob2RlXCIsYS5vYSk7YS5iKFwicmVtb3ZlTm9kZVwiLGEucmVtb3ZlTm9kZSk7YS5iKFwidXRpbHMuZG9tTm9kZURpc3Bvc2FsXCIsYS5hLkspO2EuYihcInV0aWxzLmRvbU5vZGVEaXNwb3NhbC5hZGREaXNwb3NlQ2FsbGJhY2tcIixcbmEuYS5LLnphKTthLmIoXCJ1dGlscy5kb21Ob2RlRGlzcG9zYWwucmVtb3ZlRGlzcG9zZUNhbGxiYWNrXCIsYS5hLksueWIpOyhmdW5jdGlvbigpe3ZhciBiPVswLFwiXCIsXCJcIl0sYz1bMSxcIjx0YWJsZT5cIixcIjwvdGFibGU+XCJdLGQ9WzMsXCI8dGFibGU+PHRib2R5Pjx0cj5cIixcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiXSxlPVsxLFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLFwiPC9zZWxlY3Q+XCJdLGY9e3RoZWFkOmMsdGJvZHk6Yyx0Zm9vdDpjLHRyOlsyLFwiPHRhYmxlPjx0Ym9keT5cIixcIjwvdGJvZHk+PC90YWJsZT5cIl0sdGQ6ZCx0aDpkLG9wdGlvbjplLG9wdGdyb3VwOmV9LGc9OD49YS5hLlc7YS5hLnVhPWZ1bmN0aW9uKGMsZCl7dmFyIGU7aWYodilpZih2LnBhcnNlSFRNTCllPXYucGFyc2VIVE1MKGMsZCl8fFtdO2Vsc2V7aWYoKGU9di5jbGVhbihbY10sZCkpJiZlWzBdKXtmb3IodmFyIGw9ZVswXTtsLnBhcmVudE5vZGUmJjExIT09bC5wYXJlbnROb2RlLm5vZGVUeXBlOylsPWwucGFyZW50Tm9kZTtcbmwucGFyZW50Tm9kZSYmbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGwpfX1lbHNleyhlPWQpfHwoZT13KTt2YXIgbD1lLnBhcmVudFdpbmRvd3x8ZS5kZWZhdWx0Vmlld3x8QSxwPWEuYS5EYihjKS50b0xvd2VyQ2FzZSgpLHE9ZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHQ7dD0ocD1wLm1hdGNoKC9eKD86XFx4M2MhLS0uKj8tLVxceDNlXFxzKj8pKj88KFthLXpdKylbXFxzPl0vKSkmJmZbcFsxXV18fGI7cD10WzBdO3Q9XCJpZ25vcmVkPGRpdj5cIit0WzFdK2MrdFsyXStcIjwvZGl2PlwiO1wiZnVuY3Rpb25cIj09dHlwZW9mIGwuaW5uZXJTaGl2P3EuYXBwZW5kQ2hpbGQobC5pbm5lclNoaXYodCkpOihnJiZlLmJvZHkuYXBwZW5kQ2hpbGQocSkscS5pbm5lckhUTUw9dCxnJiZxLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocSkpO2Zvcig7cC0tOylxPXEubGFzdENoaWxkO2U9YS5hLmxhKHEubGFzdENoaWxkLmNoaWxkTm9kZXMpfXJldHVybiBlfTthLmEuTWQ9ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEudWEoYixcbmMpO3JldHVybiBkLmxlbmd0aCYmZFswXS5wYXJlbnRFbGVtZW50fHxhLmEuWWIoZCl9O2EuYS5mYz1mdW5jdGlvbihiLGMpe2EuYS5UYihiKTtjPWEuYS5mKGMpO2lmKG51bGwhPT1jJiZjIT09bilpZihcInN0cmluZ1wiIT10eXBlb2YgYyYmKGM9Yy50b1N0cmluZygpKSx2KXYoYikuaHRtbChjKTtlbHNlIGZvcih2YXIgZD1hLmEudWEoYyxiLm93bmVyRG9jdW1lbnQpLGU9MDtlPGQubGVuZ3RoO2UrKyliLmFwcGVuZENoaWxkKGRbZV0pfX0pKCk7YS5iKFwidXRpbHMucGFyc2VIdG1sRnJhZ21lbnRcIixhLmEudWEpO2EuYihcInV0aWxzLnNldEh0bWxcIixhLmEuZmMpO2EuYWE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGMsZSl7aWYoYylpZig4PT1jLm5vZGVUeXBlKXt2YXIgZj1hLmFhLlVjKGMubm9kZVZhbHVlKTtudWxsIT1mJiZlLnB1c2goe3VkOmMsS2Q6Zn0pfWVsc2UgaWYoMT09Yy5ub2RlVHlwZSlmb3IodmFyIGY9MCxnPWMuY2hpbGROb2RlcyxoPWcubGVuZ3RoO2Y8aDtmKyspYihnW2ZdLFxuZSl9dmFyIGM9e307cmV0dXJue1hiOmZ1bmN0aW9uKGEpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGEpdGhyb3cgRXJyb3IoXCJZb3UgY2FuIG9ubHkgcGFzcyBhIGZ1bmN0aW9uIHRvIGtvLm1lbW9pemF0aW9uLm1lbW9pemUoKVwiKTt2YXIgYj0oNDI5NDk2NzI5NiooMStNYXRoLnJhbmRvbSgpKXwwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpKyg0Mjk0OTY3Mjk2KigxK01hdGgucmFuZG9tKCkpfDApLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7Y1tiXT1hO3JldHVyblwiXFx4M2MhLS1ba29fbWVtbzpcIitiK1wiXS0tXFx4M2VcIn0sYmQ6ZnVuY3Rpb24oYSxiKXt2YXIgZj1jW2FdO2lmKGY9PT1uKXRocm93IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhbnkgbWVtbyB3aXRoIElEIFwiK2ErXCIuIFBlcmhhcHMgaXQncyBhbHJlYWR5IGJlZW4gdW5tZW1vaXplZC5cIik7dHJ5e3JldHVybiBmLmFwcGx5KG51bGwsYnx8W10pLCEwfWZpbmFsbHl7ZGVsZXRlIGNbYV19fSxjZDpmdW5jdGlvbihjLGUpe3ZhciBmPVxuW107YihjLGYpO2Zvcih2YXIgZz0wLGg9Zi5sZW5ndGg7ZzxoO2crKyl7dmFyIG09ZltnXS51ZCxrPVttXTtlJiZhLmEuTmIoayxlKTthLmFhLmJkKGZbZ10uS2Qsayk7bS5ub2RlVmFsdWU9XCJcIjttLnBhcmVudE5vZGUmJm0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtKX19LFVjOmZ1bmN0aW9uKGEpe3JldHVybihhPWEubWF0Y2goL15cXFtrb19tZW1vXFw6KC4qPylcXF0kLykpP2FbMV06bnVsbH19fSgpO2EuYihcIm1lbW9pemF0aW9uXCIsYS5hYSk7YS5iKFwibWVtb2l6YXRpb24ubWVtb2l6ZVwiLGEuYWEuWGIpO2EuYihcIm1lbW9pemF0aW9uLnVubWVtb2l6ZVwiLGEuYWEuYmQpO2EuYihcIm1lbW9pemF0aW9uLnBhcnNlTWVtb1RleHRcIixhLmFhLlVjKTthLmIoXCJtZW1vaXphdGlvbi51bm1lbW9pemVEb21Ob2RlQW5kRGVzY2VuZGFudHNcIixhLmFhLmNkKTthLm5hPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYigpe2lmKGYpZm9yKHZhciBiPWYsYz0wLGQ7aDxmOylpZihkPWVbaCsrXSl7aWYoaD5iKXtpZig1RTM8PVxuKytjKXtoPWY7YS5hLkdjKEVycm9yKFwiJ1RvbyBtdWNoIHJlY3Vyc2lvbicgYWZ0ZXIgcHJvY2Vzc2luZyBcIitjK1wiIHRhc2sgZ3JvdXBzLlwiKSk7YnJlYWt9Yj1mfXRyeXtkKCl9Y2F0Y2gocCl7YS5hLkdjKHApfX19ZnVuY3Rpb24gYygpe2IoKTtoPWY9ZS5sZW5ndGg9MH12YXIgZCxlPVtdLGY9MCxnPTEsaD0wO0EuTXV0YXRpb25PYnNlcnZlcj9kPWZ1bmN0aW9uKGEpe3ZhciBiPXcuY3JlYXRlRWxlbWVudChcImRpdlwiKTsobmV3IE11dGF0aW9uT2JzZXJ2ZXIoYSkpLm9ic2VydmUoYix7YXR0cmlidXRlczohMH0pO3JldHVybiBmdW5jdGlvbigpe2IuY2xhc3NMaXN0LnRvZ2dsZShcImZvb1wiKX19KGMpOmQ9dyYmXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIHcuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKT9mdW5jdGlvbihhKXt2YXIgYj13LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7Yi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtiLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsO3cuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKGIpO1xuYj1udWxsO2EoKX07dy5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYil9OmZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoYSwwKX07cmV0dXJue3NjaGVkdWxlcjpkLHpiOmZ1bmN0aW9uKGIpe2Z8fGEubmEuc2NoZWR1bGVyKGMpO2VbZisrXT1iO3JldHVybiBnKyt9LGNhbmNlbDpmdW5jdGlvbihhKXthPWEtKGctZik7YT49aCYmYTxmJiYoZVthXT1udWxsKX0scmVzZXRGb3JUZXN0aW5nOmZ1bmN0aW9uKCl7dmFyIGE9Zi1oO2g9Zj1lLmxlbmd0aD0wO3JldHVybiBhfSxTZDpifX0oKTthLmIoXCJ0YXNrc1wiLGEubmEpO2EuYihcInRhc2tzLnNjaGVkdWxlXCIsYS5uYS56Yik7YS5iKFwidGFza3MucnVuRWFybHlcIixhLm5hLlNkKTthLlRhPXt0aHJvdHRsZTpmdW5jdGlvbihiLGMpe2IudGhyb3R0bGVFdmFsdWF0aW9uPWM7dmFyIGQ9bnVsbDtyZXR1cm4gYS4kKHtyZWFkOmIsd3JpdGU6ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGQpO2Q9YS5hLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiKGUpfSxcbmMpfX0pfSxyYXRlTGltaXQ6ZnVuY3Rpb24oYSxjKXt2YXIgZCxlLGY7XCJudW1iZXJcIj09dHlwZW9mIGM/ZD1jOihkPWMudGltZW91dCxlPWMubWV0aG9kKTthLkhiPSExO2Y9XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lOlwibm90aWZ5V2hlbkNoYW5nZXNTdG9wXCI9PWU/WTpYO2EudWIoZnVuY3Rpb24oYSl7cmV0dXJuIGYoYSxkLGMpfSl9LGRlZmVycmVkOmZ1bmN0aW9uKGIsYyl7aWYoITAhPT1jKXRocm93IEVycm9yKFwiVGhlICdkZWZlcnJlZCcgZXh0ZW5kZXIgb25seSBhY2NlcHRzIHRoZSB2YWx1ZSAndHJ1ZScsIGJlY2F1c2UgaXQgaXMgbm90IHN1cHBvcnRlZCB0byB0dXJuIGRlZmVycmFsIG9mZiBvbmNlIGVuYWJsZWQuXCIpO2IuSGJ8fChiLkhiPSEwLGIudWIoZnVuY3Rpb24oYyl7dmFyIGUsZj0hMTtyZXR1cm4gZnVuY3Rpb24oKXtpZighZil7YS5uYS5jYW5jZWwoZSk7ZT1hLm5hLnpiKGMpO3RyeXtmPSEwLGIubm90aWZ5U3Vic2NyaWJlcnMobixcImRpcnR5XCIpfWZpbmFsbHl7Zj1cbiExfX19fSkpfSxub3RpZnk6ZnVuY3Rpb24oYSxjKXthLmVxdWFsaXR5Q29tcGFyZXI9XCJhbHdheXNcIj09Yz9udWxsOkt9fTt2YXIgVz17dW5kZWZpbmVkOjEsXCJib29sZWFuXCI6MSxudW1iZXI6MSxzdHJpbmc6MX07YS5iKFwiZXh0ZW5kZXJzXCIsYS5UYSk7YS5pYz1mdW5jdGlvbihiLGMsZCl7dGhpcy5kYT1iO3RoaXMubGM9Yzt0aGlzLm1jPWQ7dGhpcy5JYj0hMTt0aGlzLmZiPXRoaXMuSmI9bnVsbDthLkwodGhpcyxcImRpc3Bvc2VcIix0aGlzLnMpO2EuTCh0aGlzLFwiZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkXCIsdGhpcy5sKX07YS5pYy5wcm90b3R5cGUucz1mdW5jdGlvbigpe3RoaXMuSWJ8fCh0aGlzLmZiJiZhLmEuSy55Yih0aGlzLkpiLHRoaXMuZmIpLHRoaXMuSWI9ITAsdGhpcy5tYygpLHRoaXMuZGE9dGhpcy5sYz10aGlzLm1jPXRoaXMuSmI9dGhpcy5mYj1udWxsKX07YS5pYy5wcm90b3R5cGUubD1mdW5jdGlvbihiKXt0aGlzLkpiPWI7YS5hLksuemEoYix0aGlzLmZiPXRoaXMucy5iaW5kKHRoaXMpKX07XG5hLlQ9ZnVuY3Rpb24oKXthLmEuQWIodGhpcyxEKTtELnFiKHRoaXMpfTt2YXIgRD17cWI6ZnVuY3Rpb24oYSl7YS5VPXtjaGFuZ2U6W119O2Euc2M9MX0sc3Vic2NyaWJlOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT10aGlzO2Q9ZHx8XCJjaGFuZ2VcIjt2YXIgZj1uZXcgYS5pYyhlLGM/Yi5iaW5kKGMpOmIsZnVuY3Rpb24oKXthLmEuUGEoZS5VW2RdLGYpO2UuaGImJmUuaGIoZCl9KTtlLlFhJiZlLlFhKGQpO2UuVVtkXXx8KGUuVVtkXT1bXSk7ZS5VW2RdLnB1c2goZik7cmV0dXJuIGZ9LG5vdGlmeVN1YnNjcmliZXJzOmZ1bmN0aW9uKGIsYyl7Yz1jfHxcImNoYW5nZVwiO1wiY2hhbmdlXCI9PT1jJiZ0aGlzLkdiKCk7aWYodGhpcy5XYShjKSl7dmFyIGQ9XCJjaGFuZ2VcIj09PWMmJnRoaXMuZWR8fHRoaXMuVVtjXS5zbGljZSgwKTt0cnl7YS51LnhjKCk7Zm9yKHZhciBlPTAsZjtmPWRbZV07KytlKWYuSWJ8fGYubGMoYil9ZmluYWxseXthLnUuZW5kKCl9fX0sb2I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY30sXG5EZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vYigpIT09YX0sR2I6ZnVuY3Rpb24oKXsrK3RoaXMuc2N9LHViOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsZD1hLk8oYyksZSxmLGcsaCxtO2MuZ2J8fChjLmdiPWMubm90aWZ5U3Vic2NyaWJlcnMsYy5ub3RpZnlTdWJzY3JpYmVycz1aKTt2YXIgaz1iKGZ1bmN0aW9uKCl7Yy5KYT0hMTtkJiZoPT09YyYmKGg9Yy5uYz9jLm5jKCk6YygpKTt2YXIgYT1mfHxtJiZjLnNiKGcsaCk7bT1mPWU9ITE7YSYmYy5nYihnPWgpfSk7Yy5xYz1mdW5jdGlvbihhLGIpe2ImJmMuSmF8fChtPSFiKTtjLmVkPWMuVS5jaGFuZ2Uuc2xpY2UoMCk7Yy5KYT1lPSEwO2g9YTtrKCl9O2MucGM9ZnVuY3Rpb24oYSl7ZXx8KGc9YSxjLmdiKGEsXCJiZWZvcmVDaGFuZ2VcIikpfTtjLnJjPWZ1bmN0aW9uKCl7bT0hMH07Yy5nZD1mdW5jdGlvbigpe2Muc2IoZyxjLnYoITApKSYmKGY9ITApfX0sV2E6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuVVthXSYmdGhpcy5VW2FdLmxlbmd0aH0sXG5CZDpmdW5jdGlvbihiKXtpZihiKXJldHVybiB0aGlzLlVbYl0mJnRoaXMuVVtiXS5sZW5ndGh8fDA7dmFyIGM9MDthLmEuUCh0aGlzLlUsZnVuY3Rpb24oYSxiKXtcImRpcnR5XCIhPT1hJiYoYys9Yi5sZW5ndGgpfSk7cmV0dXJuIGN9LHNiOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIXRoaXMuZXF1YWxpdHlDb21wYXJlcnx8IXRoaXMuZXF1YWxpdHlDb21wYXJlcihhLGMpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBPYmplY3RdXCJ9LGV4dGVuZDpmdW5jdGlvbihiKXt2YXIgYz10aGlzO2ImJmEuYS5QKGIsZnVuY3Rpb24oYixlKXt2YXIgZj1hLlRhW2JdO1wiZnVuY3Rpb25cIj09dHlwZW9mIGYmJihjPWYoYyxlKXx8Yyl9KTtyZXR1cm4gY319O2EuTChELFwiaW5pdFwiLEQucWIpO2EuTChELFwic3Vic2NyaWJlXCIsRC5zdWJzY3JpYmUpO2EuTChELFwiZXh0ZW5kXCIsRC5leHRlbmQpO2EuTChELFwiZ2V0U3Vic2NyaXB0aW9uc0NvdW50XCIsRC5CZCk7YS5hLkJhJiZhLmEuc2V0UHJvdG90eXBlT2YoRCxcbkZ1bmN0aW9uLnByb3RvdHlwZSk7YS5ULmZuPUQ7YS5RYz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5zdWJzY3JpYmUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEubm90aWZ5U3Vic2NyaWJlcnN9O2EuYihcInN1YnNjcmliYWJsZVwiLGEuVCk7YS5iKFwiaXNTdWJzY3JpYmFibGVcIixhLlFjKTthLlM9YS51PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhKXtkLnB1c2goZSk7ZT1hfWZ1bmN0aW9uIGMoKXtlPWQucG9wKCl9dmFyIGQ9W10sZSxmPTA7cmV0dXJue3hjOmIsZW5kOmMsY2M6ZnVuY3Rpb24oYil7aWYoZSl7aWYoIWEuUWMoYikpdGhyb3cgRXJyb3IoXCJPbmx5IHN1YnNjcmliYWJsZSB0aGluZ3MgY2FuIGFjdCBhcyBkZXBlbmRlbmNpZXNcIik7ZS5vZC5jYWxsKGUucGQsYixiLmZkfHwoYi5mZD0rK2YpKX19LEc6ZnVuY3Rpb24oYSxkLGUpe3RyeXtyZXR1cm4gYigpLGEuYXBwbHkoZCxlfHxbXSl9ZmluYWxseXtjKCl9fSxxYTpmdW5jdGlvbigpe2lmKGUpcmV0dXJuIGUuby5xYSgpfSxcblZhOmZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4gZS5vLlZhKCl9LFlhOmZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4gZS5ZYX0sbzpmdW5jdGlvbigpe2lmKGUpcmV0dXJuIGUub319fSgpO2EuYihcImNvbXB1dGVkQ29udGV4dFwiLGEuUyk7YS5iKFwiY29tcHV0ZWRDb250ZXh0LmdldERlcGVuZGVuY2llc0NvdW50XCIsYS5TLnFhKTthLmIoXCJjb21wdXRlZENvbnRleHQuZ2V0RGVwZW5kZW5jaWVzXCIsYS5TLlZhKTthLmIoXCJjb21wdXRlZENvbnRleHQuaXNJbml0aWFsXCIsYS5TLllhKTthLmIoXCJjb21wdXRlZENvbnRleHQucmVnaXN0ZXJEZXBlbmRlbmN5XCIsYS5TLmNjKTthLmIoXCJpZ25vcmVEZXBlbmRlbmNpZXNcIixhLllkPWEudS5HKTt2YXIgST1hLmEuRGEoXCJfbGF0ZXN0VmFsdWVcIik7YS50YT1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKCl7aWYoMDxhcmd1bWVudHMubGVuZ3RoKXJldHVybiBjLnNiKGNbSV0sYXJndW1lbnRzWzBdKSYmKGMueWEoKSxjW0ldPWFyZ3VtZW50c1swXSxjLnhhKCkpLHRoaXM7XG5hLnUuY2MoYyk7cmV0dXJuIGNbSV19Y1tJXT1iO2EuYS5CYXx8YS5hLmV4dGVuZChjLGEuVC5mbik7YS5ULmZuLnFiKGMpO2EuYS5BYihjLEYpO2Eub3B0aW9ucy5kZWZlclVwZGF0ZXMmJmEuVGEuZGVmZXJyZWQoYywhMCk7cmV0dXJuIGN9O3ZhciBGPXtlcXVhbGl0eUNvbXBhcmVyOkssdjpmdW5jdGlvbigpe3JldHVybiB0aGlzW0ldfSx4YTpmdW5jdGlvbigpe3RoaXMubm90aWZ5U3Vic2NyaWJlcnModGhpc1tJXSxcInNwZWN0YXRlXCIpO3RoaXMubm90aWZ5U3Vic2NyaWJlcnModGhpc1tJXSl9LHlhOmZ1bmN0aW9uKCl7dGhpcy5ub3RpZnlTdWJzY3JpYmVycyh0aGlzW0ldLFwiYmVmb3JlQ2hhbmdlXCIpfX07YS5hLkJhJiZhLmEuc2V0UHJvdG90eXBlT2YoRixhLlQuZm4pO3ZhciBHPWEudGEuTWE9XCJfX2tvX3Byb3RvX19cIjtGW0ddPWEudGE7YS5PPWZ1bmN0aW9uKGIpe2lmKChiPVwiZnVuY3Rpb25cIj09dHlwZW9mIGImJmJbR10pJiZiIT09RltHXSYmYiE9PWEuby5mbltHXSl0aHJvdyBFcnJvcihcIkludmFsaWQgb2JqZWN0IHRoYXQgbG9va3MgbGlrZSBhbiBvYnNlcnZhYmxlOyBwb3NzaWJseSBmcm9tIGFub3RoZXIgS25vY2tvdXQgaW5zdGFuY2VcIik7XG5yZXR1cm4hIWJ9O2EuWmE9ZnVuY3Rpb24oYil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYiYmKGJbR109PT1GW0ddfHxiW0ddPT09YS5vLmZuW0ddJiZiLk5jKX07YS5iKFwib2JzZXJ2YWJsZVwiLGEudGEpO2EuYihcImlzT2JzZXJ2YWJsZVwiLGEuTyk7YS5iKFwiaXNXcml0ZWFibGVPYnNlcnZhYmxlXCIsYS5aYSk7YS5iKFwiaXNXcml0YWJsZU9ic2VydmFibGVcIixhLlphKTthLmIoXCJvYnNlcnZhYmxlLmZuXCIsRik7YS5MKEYsXCJwZWVrXCIsRi52KTthLkwoRixcInZhbHVlSGFzTXV0YXRlZFwiLEYueGEpO2EuTChGLFwidmFsdWVXaWxsTXV0YXRlXCIsRi55YSk7YS5IYT1mdW5jdGlvbihiKXtiPWJ8fFtdO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBifHwhKFwibGVuZ3RoXCJpbiBiKSl0aHJvdyBFcnJvcihcIlRoZSBhcmd1bWVudCBwYXNzZWQgd2hlbiBpbml0aWFsaXppbmcgYW4gb2JzZXJ2YWJsZSBhcnJheSBtdXN0IGJlIGFuIGFycmF5LCBvciBudWxsLCBvciB1bmRlZmluZWQuXCIpO2I9YS50YShiKTthLmEuQWIoYixcbmEuSGEuZm4pO3JldHVybiBiLmV4dGVuZCh7dHJhY2tBcnJheUNoYW5nZXM6ITB9KX07YS5IYS5mbj17cmVtb3ZlOmZ1bmN0aW9uKGIpe2Zvcih2YXIgYz10aGlzLnYoKSxkPVtdLGU9XCJmdW5jdGlvblwiIT10eXBlb2YgYnx8YS5PKGIpP2Z1bmN0aW9uKGEpe3JldHVybiBhPT09Yn06YixmPTA7ZjxjLmxlbmd0aDtmKyspe3ZhciBnPWNbZl07aWYoZShnKSl7MD09PWQubGVuZ3RoJiZ0aGlzLnlhKCk7aWYoY1tmXSE9PWcpdGhyb3cgRXJyb3IoXCJBcnJheSBtb2RpZmllZCBkdXJpbmcgcmVtb3ZlOyBjYW5ub3QgcmVtb3ZlIGl0ZW1cIik7ZC5wdXNoKGcpO2Muc3BsaWNlKGYsMSk7Zi0tfX1kLmxlbmd0aCYmdGhpcy54YSgpO3JldHVybiBkfSxyZW1vdmVBbGw6ZnVuY3Rpb24oYil7aWYoYj09PW4pe3ZhciBjPXRoaXMudigpLGQ9Yy5zbGljZSgwKTt0aGlzLnlhKCk7Yy5zcGxpY2UoMCxjLmxlbmd0aCk7dGhpcy54YSgpO3JldHVybiBkfXJldHVybiBiP3RoaXMucmVtb3ZlKGZ1bmN0aW9uKGMpe3JldHVybiAwPD1cbmEuYS5BKGIsYyl9KTpbXX0sZGVzdHJveTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLnYoKSxkPVwiZnVuY3Rpb25cIiE9dHlwZW9mIGJ8fGEuTyhiKT9mdW5jdGlvbihhKXtyZXR1cm4gYT09PWJ9OmI7dGhpcy55YSgpO2Zvcih2YXIgZT1jLmxlbmd0aC0xOzA8PWU7ZS0tKXt2YXIgZj1jW2VdO2QoZikmJihmLl9kZXN0cm95PSEwKX10aGlzLnhhKCl9LGRlc3Ryb3lBbGw6ZnVuY3Rpb24oYil7cmV0dXJuIGI9PT1uP3RoaXMuZGVzdHJveShmdW5jdGlvbigpe3JldHVybiEwfSk6Yj90aGlzLmRlc3Ryb3koZnVuY3Rpb24oYyl7cmV0dXJuIDA8PWEuYS5BKGIsYyl9KTpbXX0saW5kZXhPZjpmdW5jdGlvbihiKXt2YXIgYz10aGlzKCk7cmV0dXJuIGEuYS5BKGMsYil9LHJlcGxhY2U6ZnVuY3Rpb24oYSxjKXt2YXIgZD10aGlzLmluZGV4T2YoYSk7MDw9ZCYmKHRoaXMueWEoKSx0aGlzLnYoKVtkXT1jLHRoaXMueGEoKSl9LHNvcnRlZDpmdW5jdGlvbihhKXt2YXIgYz10aGlzKCkuc2xpY2UoMCk7XG5yZXR1cm4gYT9jLnNvcnQoYSk6Yy5zb3J0KCl9LHJldmVyc2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMoKS5zbGljZSgwKS5yZXZlcnNlKCl9fTthLmEuQmEmJmEuYS5zZXRQcm90b3R5cGVPZihhLkhhLmZuLGEudGEuZm4pO2EuYS5EKFwicG9wIHB1c2ggcmV2ZXJzZSBzaGlmdCBzb3J0IHNwbGljZSB1bnNoaWZ0XCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGIpe2EuSGEuZm5bYl09ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnYoKTt0aGlzLnlhKCk7dGhpcy56YyhhLGIsYXJndW1lbnRzKTt2YXIgZD1hW2JdLmFwcGx5KGEsYXJndW1lbnRzKTt0aGlzLnhhKCk7cmV0dXJuIGQ9PT1hP3RoaXM6ZH19KTthLmEuRChbXCJzbGljZVwiXSxmdW5jdGlvbihiKXthLkhhLmZuW2JdPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcygpO3JldHVybiBhW2JdLmFwcGx5KGEsYXJndW1lbnRzKX19KTthLlBjPWZ1bmN0aW9uKGIpe3JldHVybiBhLk8oYikmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGIucmVtb3ZlJiZcImZ1bmN0aW9uXCI9PVxudHlwZW9mIGIucHVzaH07YS5iKFwib2JzZXJ2YWJsZUFycmF5XCIsYS5IYSk7YS5iKFwiaXNPYnNlcnZhYmxlQXJyYXlcIixhLlBjKTthLlRhLnRyYWNrQXJyYXlDaGFuZ2VzPWZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZCgpe2Z1bmN0aW9uIGMoKXtpZihtKXt2YXIgZD1bXS5jb25jYXQoYi52KCl8fFtdKSxlO2lmKGIuV2EoXCJhcnJheUNoYW5nZVwiKSl7aWYoIWZ8fDE8bSlmPWEuYS5QYihrLGQsYi5PYik7ZT1mfWs9ZDtmPW51bGw7bT0wO2UmJmUubGVuZ3RoJiZiLm5vdGlmeVN1YnNjcmliZXJzKGUsXCJhcnJheUNoYW5nZVwiKX19ZT9jKCk6KGU9ITAsaD1iLnN1YnNjcmliZShmdW5jdGlvbigpeysrbX0sbnVsbCxcInNwZWN0YXRlXCIpLGs9W10uY29uY2F0KGIudigpfHxbXSksZj1udWxsLGc9Yi5zdWJzY3JpYmUoYykpfWIuT2I9e307YyYmXCJvYmplY3RcIj09dHlwZW9mIGMmJmEuYS5leHRlbmQoYi5PYixjKTtiLk9iLnNwYXJzZT0hMDtpZighYi56Yyl7dmFyIGU9ITEsZj1udWxsLGcsaCxtPTAsXG5rLGw9Yi5RYSxwPWIuaGI7Yi5RYT1mdW5jdGlvbihhKXtsJiZsLmNhbGwoYixhKTtcImFycmF5Q2hhbmdlXCI9PT1hJiZkKCl9O2IuaGI9ZnVuY3Rpb24oYSl7cCYmcC5jYWxsKGIsYSk7XCJhcnJheUNoYW5nZVwiIT09YXx8Yi5XYShcImFycmF5Q2hhbmdlXCIpfHwoZyYmZy5zKCksaCYmaC5zKCksaD1nPW51bGwsZT0hMSxrPW4pfTtiLnpjPWZ1bmN0aW9uKGIsYyxkKXtmdW5jdGlvbiBsKGEsYixjKXtyZXR1cm4ga1trLmxlbmd0aF09e3N0YXR1czphLHZhbHVlOmIsaW5kZXg6Y319aWYoZSYmIW0pe3ZhciBrPVtdLHA9Yi5sZW5ndGgsZz1kLmxlbmd0aCxoPTA7c3dpdGNoKGMpe2Nhc2UgXCJwdXNoXCI6aD1wO2Nhc2UgXCJ1bnNoaWZ0XCI6Zm9yKGM9MDtjPGc7YysrKWwoXCJhZGRlZFwiLGRbY10saCtjKTticmVhaztjYXNlIFwicG9wXCI6aD1wLTE7Y2FzZSBcInNoaWZ0XCI6cCYmbChcImRlbGV0ZWRcIixiW2hdLGgpO2JyZWFrO2Nhc2UgXCJzcGxpY2VcIjpjPU1hdGgubWluKE1hdGgubWF4KDAsMD5kWzBdP3ArZFswXTpcbmRbMF0pLHApO2Zvcih2YXIgcD0xPT09Zz9wOk1hdGgubWluKGMrKGRbMV18fDApLHApLGc9YytnLTIsaD1NYXRoLm1heChwLGcpLFU9W10sTD1bXSxuPTI7YzxoOysrYywrK24pYzxwJiZMLnB1c2gobChcImRlbGV0ZWRcIixiW2NdLGMpKSxjPGcmJlUucHVzaChsKFwiYWRkZWRcIixkW25dLGMpKTthLmEuS2MoTCxVKTticmVhaztkZWZhdWx0OnJldHVybn1mPWt9fX19O3ZhciByPWEuYS5EYShcIl9zdGF0ZVwiKTthLm89YS4kPWZ1bmN0aW9uKGIsYyxkKXtmdW5jdGlvbiBlKCl7aWYoMDxhcmd1bWVudHMubGVuZ3RoKXtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgZilmLmFwcGx5KGcubmIsYXJndW1lbnRzKTtlbHNlIHRocm93IEVycm9yKFwiQ2Fubm90IHdyaXRlIGEgdmFsdWUgdG8gYSBrby5jb21wdXRlZCB1bmxlc3MgeW91IHNwZWNpZnkgYSAnd3JpdGUnIG9wdGlvbi4gSWYgeW91IHdpc2ggdG8gcmVhZCB0aGUgY3VycmVudCB2YWx1ZSwgZG9uJ3QgcGFzcyBhbnkgcGFyYW1ldGVycy5cIik7cmV0dXJuIHRoaXN9Zy5yYXx8XG5hLnUuY2MoZSk7KGcua2F8fGcuSiYmZS5YYSgpKSYmZS5oYSgpO3JldHVybiBnLlh9XCJvYmplY3RcIj09PXR5cGVvZiBiP2Q9YjooZD1kfHx7fSxiJiYoZC5yZWFkPWIpKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBkLnJlYWQpdGhyb3cgRXJyb3IoXCJQYXNzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUga28uY29tcHV0ZWRcIik7dmFyIGY9ZC53cml0ZSxnPXtYOm4sc2E6ITAsa2E6ITAscmI6ITEsamM6ITEscmE6ITEsd2I6ITEsSjohMSxXYzpkLnJlYWQsbmI6Y3x8ZC5vd25lcixsOmQuZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkfHxkLmx8fG51bGwsU2E6ZC5kaXNwb3NlV2hlbnx8ZC5TYSxSYjpudWxsLEk6e30sVjowLEljOm51bGx9O2Vbcl09ZztlLk5jPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBmO2EuYS5CYXx8YS5hLmV4dGVuZChlLGEuVC5mbik7YS5ULmZuLnFiKGUpO2EuYS5BYihlLEMpO2QucHVyZT8oZy53Yj0hMCxnLko9ITAsYS5hLmV4dGVuZChlLGRhKSk6XG5kLmRlZmVyRXZhbHVhdGlvbiYmYS5hLmV4dGVuZChlLGVhKTthLm9wdGlvbnMuZGVmZXJVcGRhdGVzJiZhLlRhLmRlZmVycmVkKGUsITApO2cubCYmKGcuamM9ITAsZy5sLm5vZGVUeXBlfHwoZy5sPW51bGwpKTtnLkp8fGQuZGVmZXJFdmFsdWF0aW9ufHxlLmhhKCk7Zy5sJiZlLmphKCkmJmEuYS5LLnphKGcubCxnLlJiPWZ1bmN0aW9uKCl7ZS5zKCl9KTtyZXR1cm4gZX07dmFyIEM9e2VxdWFsaXR5Q29tcGFyZXI6SyxxYTpmdW5jdGlvbigpe3JldHVybiB0aGlzW3JdLlZ9LFZhOmZ1bmN0aW9uKCl7dmFyIGI9W107YS5hLlAodGhpc1tyXS5JLGZ1bmN0aW9uKGEsZCl7YltkLkthXT1kLmRhfSk7cmV0dXJuIGJ9LFZiOmZ1bmN0aW9uKGIpe2lmKCF0aGlzW3JdLlYpcmV0dXJuITE7dmFyIGM9dGhpcy5WYSgpO3JldHVybi0xIT09YS5hLkEoYyxiKT8hMDohIWEuYS5MYihjLGZ1bmN0aW9uKGEpe3JldHVybiBhLlZiJiZhLlZiKGIpfSl9LHVjOmZ1bmN0aW9uKGEsYyxkKXtpZih0aGlzW3JdLndiJiZcbmM9PT10aGlzKXRocm93IEVycm9yKFwiQSAncHVyZScgY29tcHV0ZWQgbXVzdCBub3QgYmUgY2FsbGVkIHJlY3Vyc2l2ZWx5XCIpO3RoaXNbcl0uSVthXT1kO2QuS2E9dGhpc1tyXS5WKys7ZC5MYT1jLm9iKCl9LFhhOmZ1bmN0aW9uKCl7dmFyIGEsYyxkPXRoaXNbcl0uSTtmb3IoYSBpbiBkKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkLGEpJiYoYz1kW2FdLHRoaXMuSWEmJmMuZGEuSmF8fGMuZGEuRGQoYy5MYSkpKXJldHVybiEwfSxKZDpmdW5jdGlvbigpe3RoaXMuSWEmJiF0aGlzW3JdLnJiJiZ0aGlzLklhKCExKX0samE6ZnVuY3Rpb24oKXt2YXIgYT10aGlzW3JdO3JldHVybiBhLmthfHwwPGEuVn0sUmQ6ZnVuY3Rpb24oKXt0aGlzLkphP3RoaXNbcl0ua2EmJih0aGlzW3JdLnNhPSEwKTp0aGlzLkhjKCl9LCRjOmZ1bmN0aW9uKGEpe2lmKGEuSGIpe3ZhciBjPWEuc3Vic2NyaWJlKHRoaXMuSmQsdGhpcyxcImRpcnR5XCIpLGQ9YS5zdWJzY3JpYmUodGhpcy5SZCxcbnRoaXMpO3JldHVybntkYTphLHM6ZnVuY3Rpb24oKXtjLnMoKTtkLnMoKX19fXJldHVybiBhLnN1YnNjcmliZSh0aGlzLkhjLHRoaXMpfSxIYzpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1iLnRocm90dGxlRXZhbHVhdGlvbjtjJiYwPD1jPyhjbGVhclRpbWVvdXQodGhpc1tyXS5JYyksdGhpc1tyXS5JYz1hLmEuc2V0VGltZW91dChmdW5jdGlvbigpe2IuaGEoITApfSxjKSk6Yi5JYT9iLklhKCEwKTpiLmhhKCEwKX0saGE6ZnVuY3Rpb24oYil7dmFyIGM9dGhpc1tyXSxkPWMuU2EsZT0hMTtpZighYy5yYiYmIWMucmEpe2lmKGMubCYmIWEuYS5TYihjLmwpfHxkJiZkKCkpe2lmKCFjLmpjKXt0aGlzLnMoKTtyZXR1cm59fWVsc2UgYy5qYz0hMTtjLnJiPSEwO3RyeXtlPXRoaXMuemQoYil9ZmluYWxseXtjLnJiPSExfXJldHVybiBlfX0semQ6ZnVuY3Rpb24oYil7dmFyIGM9dGhpc1tyXSxkPSExLGU9Yy53Yj9uOiFjLlYsZD17cWQ6dGhpcyxtYjpjLkksUWI6Yy5WfTthLnUueGMoe3BkOmQsXG5vZDpiYSxvOnRoaXMsWWE6ZX0pO2MuST17fTtjLlY9MDt2YXIgZj10aGlzLnlkKGMsZCk7Yy5WP2Q9dGhpcy5zYihjLlgsZik6KHRoaXMucygpLGQ9ITApO2QmJihjLko/dGhpcy5HYigpOnRoaXMubm90aWZ5U3Vic2NyaWJlcnMoYy5YLFwiYmVmb3JlQ2hhbmdlXCIpLGMuWD1mLHRoaXMubm90aWZ5U3Vic2NyaWJlcnMoYy5YLFwic3BlY3RhdGVcIiksIWMuSiYmYiYmdGhpcy5ub3RpZnlTdWJzY3JpYmVycyhjLlgpLHRoaXMucmMmJnRoaXMucmMoKSk7ZSYmdGhpcy5ub3RpZnlTdWJzY3JpYmVycyhjLlgsXCJhd2FrZVwiKTtyZXR1cm4gZH0seWQ6ZnVuY3Rpb24oYixjKXt0cnl7dmFyIGQ9Yi5XYztyZXR1cm4gYi5uYj9kLmNhbGwoYi5uYik6ZCgpfWZpbmFsbHl7YS51LmVuZCgpLGMuUWImJiFiLkomJmEuYS5QKGMubWIsYWEpLGIuc2E9Yi5rYT0hMX19LHY6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpc1tyXTsoYy5rYSYmKGF8fCFjLlYpfHxjLkomJnRoaXMuWGEoKSkmJnRoaXMuaGEoKTtyZXR1cm4gYy5YfSxcbnViOmZ1bmN0aW9uKGIpe2EuVC5mbi51Yi5jYWxsKHRoaXMsYik7dGhpcy5uYz1mdW5jdGlvbigpe3RoaXNbcl0uSnx8KHRoaXNbcl0uc2E/dGhpcy5oYSgpOnRoaXNbcl0ua2E9ITEpO3JldHVybiB0aGlzW3JdLlh9O3RoaXMuSWE9ZnVuY3Rpb24oYSl7dGhpcy5wYyh0aGlzW3JdLlgpO3RoaXNbcl0ua2E9ITA7YSYmKHRoaXNbcl0uc2E9ITApO3RoaXMucWModGhpcywhYSl9fSxzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpc1tyXTshYi5KJiZiLkkmJmEuYS5QKGIuSSxmdW5jdGlvbihhLGIpe2IucyYmYi5zKCl9KTtiLmwmJmIuUmImJmEuYS5LLnliKGIubCxiLlJiKTtiLkk9bjtiLlY9MDtiLnJhPSEwO2Iuc2E9ITE7Yi5rYT0hMTtiLko9ITE7Yi5sPW47Yi5TYT1uO2IuV2M9bjt0aGlzLk5jfHwoYi5uYj1uKX19LGRhPXtRYTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLGQ9Y1tyXTtpZighZC5yYSYmZC5KJiZcImNoYW5nZVwiPT1iKXtkLko9ITE7aWYoZC5zYXx8Yy5YYSgpKWQuST1udWxsLGQuVj1cbjAsYy5oYSgpJiZjLkdiKCk7ZWxzZXt2YXIgZT1bXTthLmEuUChkLkksZnVuY3Rpb24oYSxiKXtlW2IuS2FdPWF9KTthLmEuRChlLGZ1bmN0aW9uKGEsYil7dmFyIGU9ZC5JW2FdLG09Yy4kYyhlLmRhKTttLkthPWI7bS5MYT1lLkxhO2QuSVthXT1tfSk7Yy5YYSgpJiZjLmhhKCkmJmMuR2IoKX1kLnJhfHxjLm5vdGlmeVN1YnNjcmliZXJzKGQuWCxcImF3YWtlXCIpfX0saGI6ZnVuY3Rpb24oYil7dmFyIGM9dGhpc1tyXTtjLnJhfHxcImNoYW5nZVwiIT1ifHx0aGlzLldhKFwiY2hhbmdlXCIpfHwoYS5hLlAoYy5JLGZ1bmN0aW9uKGEsYil7Yi5zJiYoYy5JW2FdPXtkYTpiLmRhLEthOmIuS2EsTGE6Yi5MYX0sYi5zKCkpfSksYy5KPSEwLHRoaXMubm90aWZ5U3Vic2NyaWJlcnMobixcImFzbGVlcFwiKSl9LG9iOmZ1bmN0aW9uKCl7dmFyIGI9dGhpc1tyXTtiLkomJihiLnNhfHx0aGlzLlhhKCkpJiZ0aGlzLmhhKCk7cmV0dXJuIGEuVC5mbi5vYi5jYWxsKHRoaXMpfX0sZWE9e1FhOmZ1bmN0aW9uKGEpe1wiY2hhbmdlXCIhPVxuYSYmXCJiZWZvcmVDaGFuZ2VcIiE9YXx8dGhpcy52KCl9fTthLmEuQmEmJmEuYS5zZXRQcm90b3R5cGVPZihDLGEuVC5mbik7dmFyIE49YS50YS5NYTtDW05dPWEubzthLk9jPWZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGEmJmFbTl09PT1DW05dfTthLkZkPWZ1bmN0aW9uKGIpe3JldHVybiBhLk9jKGIpJiZiW3JdJiZiW3JdLndifTthLmIoXCJjb21wdXRlZFwiLGEubyk7YS5iKFwiZGVwZW5kZW50T2JzZXJ2YWJsZVwiLGEubyk7YS5iKFwiaXNDb21wdXRlZFwiLGEuT2MpO2EuYihcImlzUHVyZUNvbXB1dGVkXCIsYS5GZCk7YS5iKFwiY29tcHV0ZWQuZm5cIixDKTthLkwoQyxcInBlZWtcIixDLnYpO2EuTChDLFwiZGlzcG9zZVwiLEMucyk7YS5MKEMsXCJpc0FjdGl2ZVwiLEMuamEpO2EuTChDLFwiZ2V0RGVwZW5kZW5jaWVzQ291bnRcIixDLnFhKTthLkwoQyxcImdldERlcGVuZGVuY2llc1wiLEMuVmEpO2EueGI9ZnVuY3Rpb24oYixjKXtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYilyZXR1cm4gYS5vKGIsXG5jLHtwdXJlOiEwfSk7Yj1hLmEuZXh0ZW5kKHt9LGIpO2IucHVyZT0hMDtyZXR1cm4gYS5vKGIsYyl9O2EuYihcInB1cmVDb21wdXRlZFwiLGEueGIpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSxmLGcpe2c9Z3x8bmV3IGQ7YT1mKGEpO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBhfHxudWxsPT09YXx8YT09PW58fGEgaW5zdGFuY2VvZiBSZWdFeHB8fGEgaW5zdGFuY2VvZiBEYXRlfHxhIGluc3RhbmNlb2YgU3RyaW5nfHxhIGluc3RhbmNlb2YgTnVtYmVyfHxhIGluc3RhbmNlb2YgQm9vbGVhbilyZXR1cm4gYTt2YXIgaD1hIGluc3RhbmNlb2YgQXJyYXk/W106e307Zy5zYXZlKGEsaCk7YyhhLGZ1bmN0aW9uKGMpe3ZhciBkPWYoYVtjXSk7c3dpdGNoKHR5cGVvZiBkKXtjYXNlIFwiYm9vbGVhblwiOmNhc2UgXCJudW1iZXJcIjpjYXNlIFwic3RyaW5nXCI6Y2FzZSBcImZ1bmN0aW9uXCI6aFtjXT1kO2JyZWFrO2Nhc2UgXCJvYmplY3RcIjpjYXNlIFwidW5kZWZpbmVkXCI6dmFyIGw9Zy5nZXQoZCk7aFtjXT1sIT09XG5uP2w6YihkLGYsZyl9fSk7cmV0dXJuIGh9ZnVuY3Rpb24gYyhhLGIpe2lmKGEgaW5zdGFuY2VvZiBBcnJheSl7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspYihjKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLnRvSlNPTiYmYihcInRvSlNPTlwiKX1lbHNlIGZvcihjIGluIGEpYihjKX1mdW5jdGlvbiBkKCl7dGhpcy5rZXlzPVtdO3RoaXMudmFsdWVzPVtdfWEuYWQ9ZnVuY3Rpb24oYyl7aWYoMD09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyBFcnJvcihcIldoZW4gY2FsbGluZyBrby50b0pTLCBwYXNzIHRoZSBvYmplY3QgeW91IHdhbnQgdG8gY29udmVydC5cIik7cmV0dXJuIGIoYyxmdW5jdGlvbihiKXtmb3IodmFyIGM9MDthLk8oYikmJjEwPmM7YysrKWI9YigpO3JldHVybiBifSl9O2EudG9KU09OPWZ1bmN0aW9uKGIsYyxkKXtiPWEuYWQoYik7cmV0dXJuIGEuYS5oYyhiLGMsZCl9O2QucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpkLHNhdmU6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuQSh0aGlzLmtleXMsXG5iKTswPD1kP3RoaXMudmFsdWVzW2RdPWM6KHRoaXMua2V5cy5wdXNoKGIpLHRoaXMudmFsdWVzLnB1c2goYykpfSxnZXQ6ZnVuY3Rpb24oYil7Yj1hLmEuQSh0aGlzLmtleXMsYik7cmV0dXJuIDA8PWI/dGhpcy52YWx1ZXNbYl06bn19fSkoKTthLmIoXCJ0b0pTXCIsYS5hZCk7YS5iKFwidG9KU09OXCIsYS50b0pTT04pO2EuV2Q9ZnVuY3Rpb24oYixjLGQpe2Z1bmN0aW9uIGUoYyl7dmFyIGU9YS54YihiLGQpLmV4dGVuZCh7bWE6XCJhbHdheXNcIn0pLGg9ZS5zdWJzY3JpYmUoZnVuY3Rpb24oYSl7YSYmKGgucygpLGMoYSkpfSk7ZS5ub3RpZnlTdWJzY3JpYmVycyhlLnYoKSk7cmV0dXJuIGh9cmV0dXJuXCJmdW5jdGlvblwiIT09dHlwZW9mIFByb21pc2V8fGM/ZShjLmJpbmQoZCkpOm5ldyBQcm9taXNlKGUpfTthLmIoXCJ3aGVuXCIsYS5XZCk7KGZ1bmN0aW9uKCl7YS53PXtNOmZ1bmN0aW9uKGIpe3N3aXRjaChhLmEuUihiKSl7Y2FzZSBcIm9wdGlvblwiOnJldHVybiEwPT09Yi5fX2tvX19oYXNEb21EYXRhT3B0aW9uVmFsdWVfXz9cbmEuYS5nLmdldChiLGEuYy5vcHRpb25zLiRiKTo3Pj1hLmEuVz9iLmdldEF0dHJpYnV0ZU5vZGUoXCJ2YWx1ZVwiKSYmYi5nZXRBdHRyaWJ1dGVOb2RlKFwidmFsdWVcIikuc3BlY2lmaWVkP2IudmFsdWU6Yi50ZXh0OmIudmFsdWU7Y2FzZSBcInNlbGVjdFwiOnJldHVybiAwPD1iLnNlbGVjdGVkSW5kZXg/YS53Lk0oYi5vcHRpb25zW2Iuc2VsZWN0ZWRJbmRleF0pOm47ZGVmYXVsdDpyZXR1cm4gYi52YWx1ZX19LGNiOmZ1bmN0aW9uKGIsYyxkKXtzd2l0Y2goYS5hLlIoYikpe2Nhc2UgXCJvcHRpb25cIjpcInN0cmluZ1wiPT09dHlwZW9mIGM/KGEuYS5nLnNldChiLGEuYy5vcHRpb25zLiRiLG4pLFwiX19rb19faGFzRG9tRGF0YU9wdGlvblZhbHVlX19cImluIGImJmRlbGV0ZSBiLl9fa29fX2hhc0RvbURhdGFPcHRpb25WYWx1ZV9fLGIudmFsdWU9Yyk6KGEuYS5nLnNldChiLGEuYy5vcHRpb25zLiRiLGMpLGIuX19rb19faGFzRG9tRGF0YU9wdGlvblZhbHVlX189ITAsYi52YWx1ZT1cIm51bWJlclwiPT09XG50eXBlb2YgYz9jOlwiXCIpO2JyZWFrO2Nhc2UgXCJzZWxlY3RcIjppZihcIlwiPT09Y3x8bnVsbD09PWMpYz1uO2Zvcih2YXIgZT0tMSxmPTAsZz1iLm9wdGlvbnMubGVuZ3RoLGg7ZjxnOysrZilpZihoPWEudy5NKGIub3B0aW9uc1tmXSksaD09Y3x8XCJcIj09PWgmJmM9PT1uKXtlPWY7YnJlYWt9aWYoZHx8MDw9ZXx8Yz09PW4mJjE8Yi5zaXplKWIuc2VsZWN0ZWRJbmRleD1lLDY9PT1hLmEuVyYmYS5hLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnNlbGVjdGVkSW5kZXg9ZX0sMCk7YnJlYWs7ZGVmYXVsdDppZihudWxsPT09Y3x8Yz09PW4pYz1cIlwiO2IudmFsdWU9Y319fX0pKCk7YS5iKFwic2VsZWN0RXh0ZW5zaW9uc1wiLGEudyk7YS5iKFwic2VsZWN0RXh0ZW5zaW9ucy5yZWFkVmFsdWVcIixhLncuTSk7YS5iKFwic2VsZWN0RXh0ZW5zaW9ucy53cml0ZVZhbHVlXCIsYS53LmNiKTthLm09ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIpe2I9YS5hLkRiKGIpOzEyMz09PWIuY2hhckNvZGVBdCgwKSYmKGI9Yi5zbGljZSgxLFxuLTEpKTtiKz1cIlxcbixcIjt2YXIgYz1bXSxkPWIubWF0Y2goZSkscCxxPVtdLGg9MDtpZigxPGQubGVuZ3RoKXtmb3IodmFyIHg9MCxCO0I9ZFt4XTsrK3gpe3ZhciB1PUIuY2hhckNvZGVBdCgwKTtpZig0ND09PXUpe2lmKDA+PWgpe2MucHVzaChwJiZxLmxlbmd0aD97a2V5OnAsdmFsdWU6cS5qb2luKFwiXCIpfTp7dW5rbm93bjpwfHxxLmpvaW4oXCJcIil9KTtwPWg9MDtxPVtdO2NvbnRpbnVlfX1lbHNlIGlmKDU4PT09dSl7aWYoIWgmJiFwJiYxPT09cS5sZW5ndGgpe3A9cS5wb3AoKTtjb250aW51ZX19ZWxzZSBpZig0Nz09PXUmJjE8Qi5sZW5ndGgmJig0Nz09PUIuY2hhckNvZGVBdCgxKXx8NDI9PT1CLmNoYXJDb2RlQXQoMSkpKWNvbnRpbnVlO2Vsc2UgNDc9PT11JiZ4JiYxPEIubGVuZ3RoPyh1PWRbeC0xXS5tYXRjaChmKSkmJiFnW3VbMF1dJiYoYj1iLnN1YnN0cihiLmluZGV4T2YoQikrMSksZD1iLm1hdGNoKGUpLHg9LTEsQj1cIi9cIik6NDA9PT11fHwxMjM9PT11fHw5MT09PXU/KytoOlxuNDE9PT11fHwxMjU9PT11fHw5Mz09PXU/LS1oOnB8fHEubGVuZ3RofHwzNCE9PXUmJjM5IT09dXx8KEI9Qi5zbGljZSgxLC0xKSk7cS5wdXNoKEIpfWlmKDA8aCl0aHJvdyBFcnJvcihcIlVuYmFsYW5jZWQgcGFyZW50aGVzZXMsIGJyYWNlcywgb3IgYnJhY2tldHNcIik7fXJldHVybiBjfXZhciBjPVtcInRydWVcIixcImZhbHNlXCIsXCJudWxsXCIsXCJ1bmRlZmluZWRcIl0sZD0vXig/OlskX2Etel1bJFxcd10qfCguKykoXFwuXFxzKlskX2Etel1bJFxcd10qfFxcWy4rXFxdKSkkL2ksZT1SZWdFeHAoXCJcXFwiKD86XFxcXFxcXFwufFteXFxcIl0pKlxcXCJ8Jyg/OlxcXFxcXFxcLnxbXiddKSonfGAoPzpcXFxcXFxcXC58W15gXSkqYHwvXFxcXCooPzpbXipdfFxcXFwqK1teKi9dKSpcXFxcKisvfC8vLipcXG58Lyg/OlxcXFxcXFxcLnxbXi9dKSsvdyp8W15cXFxcczosL11bXixcXFwiJ2B7fSgpLzpbXFxcXF1dKlteXFxcXHMsXFxcIidge30oKS86W1xcXFxdXXxbXlxcXFxzXVwiLFwiZ1wiKSxmPS9bXFxdKVwiJ0EtWmEtejAtOV8kXSskLyxnPXtcImluXCI6MSxcInJldHVyblwiOjEsXCJ0eXBlb2ZcIjoxfSxcbmg9e307cmV0dXJue1JhOltdLHdhOmgsYWM6Yix2YjpmdW5jdGlvbihlLGYpe2Z1bmN0aW9uIGwoYixlKXt2YXIgZjtpZigheCl7dmFyIGs9YS5nZXRCaW5kaW5nSGFuZGxlcihiKTtpZihrJiZrLnByZXByb2Nlc3MmJiEoZT1rLnByZXByb2Nlc3MoZSxiLGwpKSlyZXR1cm47aWYoaz1oW2JdKWY9ZSwwPD1hLmEuQShjLGYpP2Y9ITE6KGs9Zi5tYXRjaChkKSxmPW51bGw9PT1rPyExOmtbMV0/XCJPYmplY3QoXCIra1sxXStcIilcIitrWzJdOmYpLGs9ZjtrJiZxLnB1c2goXCInXCIrKFwic3RyaW5nXCI9PXR5cGVvZiBoW2JdP2hbYl06YikrXCInOmZ1bmN0aW9uKF96KXtcIitmK1wiPV96fVwiKX1nJiYoZT1cImZ1bmN0aW9uKCl7cmV0dXJuIFwiK2UrXCIgfVwiKTtwLnB1c2goXCInXCIrYitcIic6XCIrZSl9Zj1mfHx7fTt2YXIgcD1bXSxxPVtdLGc9Zi52YWx1ZUFjY2Vzc29ycyx4PWYuYmluZGluZ1BhcmFtcyxCPVwic3RyaW5nXCI9PT10eXBlb2YgZT9iKGUpOmU7YS5hLkQoQixmdW5jdGlvbihhKXtsKGEua2V5fHxhLnVua25vd24sXG5hLnZhbHVlKX0pO3EubGVuZ3RoJiZsKFwiX2tvX3Byb3BlcnR5X3dyaXRlcnNcIixcIntcIitxLmpvaW4oXCIsXCIpK1wiIH1cIik7cmV0dXJuIHAuam9pbihcIixcIil9LElkOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspaWYoYVtjXS5rZXk9PWIpcmV0dXJuITA7cmV0dXJuITF9LGViOmZ1bmN0aW9uKGIsYyxkLGUsZil7aWYoYiYmYS5PKGIpKSFhLlphKGIpfHxmJiZiLnYoKT09PWV8fGIoZSk7ZWxzZSBpZigoYj1jLmdldChcIl9rb19wcm9wZXJ0eV93cml0ZXJzXCIpKSYmYltkXSliW2RdKGUpfX19KCk7YS5iKFwiZXhwcmVzc2lvblJld3JpdGluZ1wiLGEubSk7YS5iKFwiZXhwcmVzc2lvblJld3JpdGluZy5iaW5kaW5nUmV3cml0ZVZhbGlkYXRvcnNcIixhLm0uUmEpO2EuYihcImV4cHJlc3Npb25SZXdyaXRpbmcucGFyc2VPYmplY3RMaXRlcmFsXCIsYS5tLmFjKTthLmIoXCJleHByZXNzaW9uUmV3cml0aW5nLnByZVByb2Nlc3NCaW5kaW5nc1wiLGEubS52Yik7YS5iKFwiZXhwcmVzc2lvblJld3JpdGluZy5fdHdvV2F5QmluZGluZ3NcIixcbmEubS53YSk7YS5iKFwianNvbkV4cHJlc3Npb25SZXdyaXRpbmdcIixhLm0pO2EuYihcImpzb25FeHByZXNzaW9uUmV3cml0aW5nLmluc2VydFByb3BlcnR5QWNjZXNzb3JzSW50b0pzb25cIixhLm0udmIpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIDg9PWEubm9kZVR5cGUmJmcudGVzdChmP2EudGV4dDphLm5vZGVWYWx1ZSl9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gOD09YS5ub2RlVHlwZSYmaC50ZXN0KGY/YS50ZXh0OmEubm9kZVZhbHVlKX1mdW5jdGlvbiBkKGQsZSl7Zm9yKHZhciBmPWQsaD0xLGc9W107Zj1mLm5leHRTaWJsaW5nOyl7aWYoYyhmKSYmKGEuYS5nLnNldChmLGssITApLGgtLSwwPT09aCkpcmV0dXJuIGc7Zy5wdXNoKGYpO2IoZikmJmgrK31pZighZSl0aHJvdyBFcnJvcihcIkNhbm5vdCBmaW5kIGNsb3NpbmcgY29tbWVudCB0YWcgdG8gbWF0Y2g6IFwiK2Qubm9kZVZhbHVlKTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBlKGEsYil7dmFyIGM9ZChhLGIpO3JldHVybiBjP1xuMDxjLmxlbmd0aD9jW2MubGVuZ3RoLTFdLm5leHRTaWJsaW5nOmEubmV4dFNpYmxpbmc6bnVsbH12YXIgZj13JiZcIlxceDNjIS0tdGVzdC0tXFx4M2VcIj09PXcuY3JlYXRlQ29tbWVudChcInRlc3RcIikudGV4dCxnPWY/L15cXHgzYyEtLVxccyprbyg/OlxccysoW1xcc1xcU10rKSk/XFxzKi0tXFx4M2UkLzovXlxccyprbyg/OlxccysoW1xcc1xcU10rKSk/XFxzKiQvLGg9Zj8vXlxceDNjIS0tXFxzKlxcL2tvXFxzKi0tXFx4M2UkLzovXlxccypcXC9rb1xccyokLyxtPXt1bDohMCxvbDohMH0saz1cIl9fa29fbWF0Y2hlZEVuZENvbW1lbnRfX1wiO2EuaD17ZWE6e30sY2hpbGROb2RlczpmdW5jdGlvbihhKXtyZXR1cm4gYihhKT9kKGEpOmEuY2hpbGROb2Rlc30sRWE6ZnVuY3Rpb24oYyl7aWYoYihjKSl7Yz1hLmguY2hpbGROb2RlcyhjKTtmb3IodmFyIGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspYS5yZW1vdmVOb2RlKGNbZF0pfWVsc2UgYS5hLlRiKGMpfSx2YTpmdW5jdGlvbihjLGQpe2lmKGIoYykpe2EuaC5FYShjKTtmb3IodmFyIGU9XG5jLm5leHRTaWJsaW5nLGY9MCxrPWQubGVuZ3RoO2Y8aztmKyspZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkW2ZdLGUpfWVsc2UgYS5hLnZhKGMsZCl9LFZjOmZ1bmN0aW9uKGEsYyl7dmFyIGQ7YihhKT8oZD1hLm5leHRTaWJsaW5nLGE9YS5wYXJlbnROb2RlKTpkPWEuZmlyc3RDaGlsZDtkP2MhPT1kJiZhLmluc2VydEJlZm9yZShjLGQpOmEuYXBwZW5kQ2hpbGQoYyl9LFdiOmZ1bmN0aW9uKGMsZCxlKXtlPyhlPWUubmV4dFNpYmxpbmcsYihjKSYmKGM9Yy5wYXJlbnROb2RlKSxlP2QhPT1lJiZjLmluc2VydEJlZm9yZShkLGUpOmMuYXBwZW5kQ2hpbGQoZCkpOmEuaC5WYyhjLGQpfSxmaXJzdENoaWxkOmZ1bmN0aW9uKGEpe2lmKGIoYSkpcmV0dXJuIWEubmV4dFNpYmxpbmd8fGMoYS5uZXh0U2libGluZyk/bnVsbDphLm5leHRTaWJsaW5nO2lmKGEuZmlyc3RDaGlsZCYmYyhhLmZpcnN0Q2hpbGQpKXRocm93IEVycm9yKFwiRm91bmQgaW52YWxpZCBlbmQgY29tbWVudCwgYXMgdGhlIGZpcnN0IGNoaWxkIG9mIFwiK1xuYSk7cmV0dXJuIGEuZmlyc3RDaGlsZH0sbmV4dFNpYmxpbmc6ZnVuY3Rpb24oZCl7YihkKSYmKGQ9ZShkKSk7aWYoZC5uZXh0U2libGluZyYmYyhkLm5leHRTaWJsaW5nKSl7dmFyIGY9ZC5uZXh0U2libGluZztpZihjKGYpJiYhYS5hLmcuZ2V0KGYsaykpdGhyb3cgRXJyb3IoXCJGb3VuZCBlbmQgY29tbWVudCB3aXRob3V0IGEgbWF0Y2hpbmcgb3BlbmluZyBjb21tZW50LCBhcyBjaGlsZCBvZiBcIitkKTtyZXR1cm4gbnVsbH1yZXR1cm4gZC5uZXh0U2libGluZ30sQ2Q6YixWZDpmdW5jdGlvbihhKXtyZXR1cm4oYT0oZj9hLnRleHQ6YS5ub2RlVmFsdWUpLm1hdGNoKGcpKT9hWzFdOm51bGx9LFNjOmZ1bmN0aW9uKGQpe2lmKG1bYS5hLlIoZCldKXt2YXIgZj1kLmZpcnN0Q2hpbGQ7aWYoZil7ZG8gaWYoMT09PWYubm9kZVR5cGUpe3ZhciBrO2s9Zi5maXJzdENoaWxkO3ZhciBoPW51bGw7aWYoayl7ZG8gaWYoaCloLnB1c2goayk7ZWxzZSBpZihiKGspKXt2YXIgZz1lKGssITApO2c/az1cbmc6aD1ba119ZWxzZSBjKGspJiYoaD1ba10pO3doaWxlKGs9ay5uZXh0U2libGluZyl9aWYoaz1oKWZvcihoPWYubmV4dFNpYmxpbmcsZz0wO2c8ay5sZW5ndGg7ZysrKWg/ZC5pbnNlcnRCZWZvcmUoa1tnXSxoKTpkLmFwcGVuZENoaWxkKGtbZ10pfXdoaWxlKGY9Zi5uZXh0U2libGluZyl9fX19fSkoKTthLmIoXCJ2aXJ0dWFsRWxlbWVudHNcIixhLmgpO2EuYihcInZpcnR1YWxFbGVtZW50cy5hbGxvd2VkQmluZGluZ3NcIixhLmguZWEpO2EuYihcInZpcnR1YWxFbGVtZW50cy5lbXB0eU5vZGVcIixhLmguRWEpO2EuYihcInZpcnR1YWxFbGVtZW50cy5pbnNlcnRBZnRlclwiLGEuaC5XYik7YS5iKFwidmlydHVhbEVsZW1lbnRzLnByZXBlbmRcIixhLmguVmMpO2EuYihcInZpcnR1YWxFbGVtZW50cy5zZXREb21Ob2RlQ2hpbGRyZW5cIixhLmgudmEpOyhmdW5jdGlvbigpe2EuZ2E9ZnVuY3Rpb24oKXt0aGlzLm5kPXt9fTthLmEuZXh0ZW5kKGEuZ2EucHJvdG90eXBlLHtub2RlSGFzQmluZGluZ3M6ZnVuY3Rpb24oYil7c3dpdGNoKGIubm9kZVR5cGUpe2Nhc2UgMTpyZXR1cm4gbnVsbCE9XG5iLmdldEF0dHJpYnV0ZShcImRhdGEtYmluZFwiKXx8YS5qLmdldENvbXBvbmVudE5hbWVGb3JOb2RlKGIpO2Nhc2UgODpyZXR1cm4gYS5oLkNkKGIpO2RlZmF1bHQ6cmV0dXJuITF9fSxnZXRCaW5kaW5nczpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMuZ2V0QmluZGluZ3NTdHJpbmcoYixjKSxkPWQ/dGhpcy5wYXJzZUJpbmRpbmdzU3RyaW5nKGQsYyxiKTpudWxsO3JldHVybiBhLmoudGMoZCxiLGMsITEpfSxnZXRCaW5kaW5nQWNjZXNzb3JzOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5nZXRCaW5kaW5nc1N0cmluZyhiLGMpLGQ9ZD90aGlzLnBhcnNlQmluZGluZ3NTdHJpbmcoZCxjLGIse3ZhbHVlQWNjZXNzb3JzOiEwfSk6bnVsbDtyZXR1cm4gYS5qLnRjKGQsYixjLCEwKX0sZ2V0QmluZGluZ3NTdHJpbmc6ZnVuY3Rpb24oYil7c3dpdGNoKGIubm9kZVR5cGUpe2Nhc2UgMTpyZXR1cm4gYi5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJpbmRcIik7Y2FzZSA4OnJldHVybiBhLmguVmQoYik7ZGVmYXVsdDpyZXR1cm4gbnVsbH19LFxucGFyc2VCaW5kaW5nc1N0cmluZzpmdW5jdGlvbihiLGMsZCxlKXt0cnl7dmFyIGY9dGhpcy5uZCxnPWIrKGUmJmUudmFsdWVBY2Nlc3NvcnN8fFwiXCIpLGg7aWYoIShoPWZbZ10pKXt2YXIgbSxrPVwid2l0aCgkY29udGV4dCl7d2l0aCgkZGF0YXx8e30pe3JldHVybntcIithLm0udmIoYixlKStcIn19fVwiO209bmV3IEZ1bmN0aW9uKFwiJGNvbnRleHRcIixcIiRlbGVtZW50XCIsayk7aD1mW2ddPW19cmV0dXJuIGgoYyxkKX1jYXRjaChsKXt0aHJvdyBsLm1lc3NhZ2U9XCJVbmFibGUgdG8gcGFyc2UgYmluZGluZ3MuXFxuQmluZGluZ3MgdmFsdWU6IFwiK2IrXCJcXG5NZXNzYWdlOiBcIitsLm1lc3NhZ2UsbDt9fX0pO2EuZ2EuaW5zdGFuY2U9bmV3IGEuZ2F9KSgpO2EuYihcImJpbmRpbmdQcm92aWRlclwiLGEuZ2EpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYil7dmFyIGM9KGI9YS5hLmcuZ2V0KGIseikpJiZiLk47YyYmKGIuTj1udWxsLGMuVGMoKSl9ZnVuY3Rpb24gYyhjLGQsZSl7dGhpcy5ub2RlPWM7dGhpcy55Yz1cbmQ7dGhpcy5rYj1bXTt0aGlzLkg9ITE7ZC5OfHxhLmEuSy56YShjLGIpO2UmJmUuTiYmKGUuTi5rYi5wdXNoKGMpLHRoaXMuS2I9ZSl9ZnVuY3Rpb24gZChhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYX19ZnVuY3Rpb24gZShhKXtyZXR1cm4gYSgpfWZ1bmN0aW9uIGYoYil7cmV0dXJuIGEuYS5HYShhLnUuRyhiKSxmdW5jdGlvbihhLGMpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBiKClbY119fSl9ZnVuY3Rpb24gZyhiLGMsZSl7cmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIGI/ZihiLmJpbmQobnVsbCxjLGUpKTphLmEuR2EoYixkKX1mdW5jdGlvbiBoKGEsYil7cmV0dXJuIGYodGhpcy5nZXRCaW5kaW5ncy5iaW5kKHRoaXMsYSxiKSl9ZnVuY3Rpb24gbShiLGMpe3ZhciBkPWEuaC5maXJzdENoaWxkKGMpO2lmKGQpe3ZhciBlLGY9YS5nYS5pbnN0YW5jZSxsPWYucHJlcHJvY2Vzc05vZGU7aWYobCl7Zm9yKDtlPWQ7KWQ9YS5oLm5leHRTaWJsaW5nKGUpLGwuY2FsbChmLGUpO1xuZD1hLmguZmlyc3RDaGlsZChjKX1mb3IoO2U9ZDspZD1hLmgubmV4dFNpYmxpbmcoZSksayhiLGUpfWEuaS5tYShjLGEuaS5IKX1mdW5jdGlvbiBrKGIsYyl7dmFyIGQ9YixlPTE9PT1jLm5vZGVUeXBlO2UmJmEuaC5TYyhjKTtpZihlfHxhLmdhLmluc3RhbmNlLm5vZGVIYXNCaW5kaW5ncyhjKSlkPXAoYyxudWxsLGIpLmJpbmRpbmdDb250ZXh0Rm9yRGVzY2VuZGFudHM7ZCYmIXVbYS5hLlIoYyldJiZtKGQsYyl9ZnVuY3Rpb24gbChiKXt2YXIgYz1bXSxkPXt9LGU9W107YS5hLlAoYixmdW5jdGlvbiBjYShmKXtpZighZFtmXSl7dmFyIGs9YS5nZXRCaW5kaW5nSGFuZGxlcihmKTtrJiYoay5hZnRlciYmKGUucHVzaChmKSxhLmEuRChrLmFmdGVyLGZ1bmN0aW9uKGMpe2lmKGJbY10pe2lmKC0xIT09YS5hLkEoZSxjKSl0aHJvdyBFcnJvcihcIkNhbm5vdCBjb21iaW5lIHRoZSBmb2xsb3dpbmcgYmluZGluZ3MsIGJlY2F1c2UgdGhleSBoYXZlIGEgY3ljbGljIGRlcGVuZGVuY3k6IFwiK2Uuam9pbihcIiwgXCIpKTtcbmNhKGMpfX0pLGUubGVuZ3RoLS0pLGMucHVzaCh7a2V5OmYsTWM6a30pKTtkW2ZdPSEwfX0pO3JldHVybiBjfWZ1bmN0aW9uIHAoYixjLGQpe3ZhciBmPWEuYS5nLlViKGIseix7fSksaz1mLmhkO2lmKCFjKXtpZihrKXRocm93IEVycm9yKFwiWW91IGNhbm5vdCBhcHBseSBiaW5kaW5ncyBtdWx0aXBsZSB0aW1lcyB0byB0aGUgc2FtZSBlbGVtZW50LlwiKTtmLmhkPSEwfWt8fChmLmNvbnRleHQ9ZCk7Zi5aYnx8KGYuWmI9e30pO3ZhciBnO2lmKGMmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBjKWc9YztlbHNle3ZhciBwPWEuZ2EuaW5zdGFuY2UscT1wLmdldEJpbmRpbmdBY2Nlc3NvcnN8fGgsbT1hLiQoZnVuY3Rpb24oKXtpZihnPWM/YyhkLGIpOnEuY2FsbChwLGIsZCkpe2lmKGRbdF0pZFt0XSgpO2lmKGRbQl0pZFtCXSgpfXJldHVybiBnfSxudWxsLHtsOmJ9KTtnJiZtLmphKCl8fChtPW51bGwpfXZhciB4PWQsdTtpZihnKXt2YXIgSj1mdW5jdGlvbigpe3JldHVybiBhLmEuR2EobT9tKCk6XG5nLGUpfSxyPW0/ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUobSgpW2FdKX19OmZ1bmN0aW9uKGEpe3JldHVybiBnW2FdfTtKLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gZ1thXSYmZShyKGEpKX07Si5oYXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW4gZ307YS5pLkggaW4gZyYmYS5pLnN1YnNjcmliZShiLGEuaS5ILGZ1bmN0aW9uKCl7dmFyIGM9KDAsZ1thLmkuSF0pKCk7aWYoYyl7dmFyIGQ9YS5oLmNoaWxkTm9kZXMoYik7ZC5sZW5ndGgmJmMoZCxhLkVjKGRbMF0pKX19KTthLmkucGEgaW4gZyYmKHg9YS5pLkNiKGIsZCksYS5pLnN1YnNjcmliZShiLGEuaS5wYSxmdW5jdGlvbigpe3ZhciBjPSgwLGdbYS5pLnBhXSkoKTtjJiZhLmguZmlyc3RDaGlsZChiKSYmYyhiKX0pKTtmPWwoZyk7YS5hLkQoZixmdW5jdGlvbihjKXt2YXIgZD1jLk1jLmluaXQsZT1jLk1jLnVwZGF0ZSxmPWMua2V5O2lmKDg9PT1iLm5vZGVUeXBlJiYhYS5oLmVhW2ZdKXRocm93IEVycm9yKFwiVGhlIGJpbmRpbmcgJ1wiK1xuZitcIicgY2Fubm90IGJlIHVzZWQgd2l0aCB2aXJ0dWFsIGVsZW1lbnRzXCIpO3RyeXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkJiZhLnUuRyhmdW5jdGlvbigpe3ZhciBhPWQoYixyKGYpLEoseC4kZGF0YSx4KTtpZihhJiZhLmNvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzKXtpZih1IT09bil0aHJvdyBFcnJvcihcIk11bHRpcGxlIGJpbmRpbmdzIChcIit1K1wiIGFuZCBcIitmK1wiKSBhcmUgdHJ5aW5nIHRvIGNvbnRyb2wgZGVzY2VuZGFudCBiaW5kaW5ncyBvZiB0aGUgc2FtZSBlbGVtZW50LiBZb3UgY2Fubm90IHVzZSB0aGVzZSBiaW5kaW5ncyB0b2dldGhlciBvbiB0aGUgc2FtZSBlbGVtZW50LlwiKTt1PWZ9fSksXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmYS4kKGZ1bmN0aW9uKCl7ZShiLHIoZiksSix4LiRkYXRhLHgpfSxudWxsLHtsOmJ9KX1jYXRjaChrKXt0aHJvdyBrLm1lc3NhZ2U9J1VuYWJsZSB0byBwcm9jZXNzIGJpbmRpbmcgXCInK2YrXCI6IFwiK2dbZl0rJ1wiXFxuTWVzc2FnZTogJytrLm1lc3NhZ2UsXG5rO319KX1mPXU9PT1uO3JldHVybntzaG91bGRCaW5kRGVzY2VuZGFudHM6ZixiaW5kaW5nQ29udGV4dEZvckRlc2NlbmRhbnRzOmYmJnh9fWZ1bmN0aW9uIHEoYixjKXtyZXR1cm4gYiYmYiBpbnN0YW5jZW9mIGEuZmE/YjpuZXcgYS5mYShiLG4sbixjKX12YXIgdD1hLmEuRGEoXCJfc3Vic2NyaWJhYmxlXCIpLHg9YS5hLkRhKFwiX2FuY2VzdG9yQmluZGluZ0luZm9cIiksQj1hLmEuRGEoXCJfZGF0YURlcGVuZGVuY3lcIik7YS5jPXt9O3ZhciB1PXtzY3JpcHQ6ITAsdGV4dGFyZWE6ITAsdGVtcGxhdGU6ITB9O2EuZ2V0QmluZGluZ0hhbmRsZXI9ZnVuY3Rpb24oYil7cmV0dXJuIGEuY1tiXX07dmFyIEo9e307YS5mYT1mdW5jdGlvbihiLGMsZCxlLGYpe2Z1bmN0aW9uIGsoKXt2YXIgYj1wP2goKTpoLGY9YS5hLmYoYik7Yz8oYS5hLmV4dGVuZChsLGMpLHggaW4gYyYmKGxbeF09Y1t4XSkpOihsLiRwYXJlbnRzPVtdLGwuJHJvb3Q9ZixsLmtvPWEpO2xbdF09cTtnP2Y9bC4kZGF0YToobC4kcmF3RGF0YT1cbmIsbC4kZGF0YT1mKTtkJiYobFtkXT1mKTtlJiZlKGwsYyxmKTtpZihjJiZjW3RdJiYhYS5TLm8oKS5WYihjW3RdKSljW3RdKCk7bSYmKGxbQl09bSk7cmV0dXJuIGwuJGRhdGF9dmFyIGw9dGhpcyxnPWI9PT1KLGg9Zz9uOmIscD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBoJiYhYS5PKGgpLHEsbT1mJiZmLmRhdGFEZXBlbmRlbmN5O2YmJmYuZXhwb3J0RGVwZW5kZW5jaWVzP2soKToocT1hLnhiKGspLHEudigpLHEuamEoKT9xLmVxdWFsaXR5Q29tcGFyZXI9bnVsbDpsW3RdPW4pfTthLmZhLnByb3RvdHlwZS5jcmVhdGVDaGlsZENvbnRleHQ9ZnVuY3Rpb24oYixjLGQsZSl7IWUmJmMmJlwib2JqZWN0XCI9PXR5cGVvZiBjJiYoZT1jLGM9ZS5hcyxkPWUuZXh0ZW5kKTtpZihjJiZlJiZlLm5vQ2hpbGRDb250ZXh0KXt2YXIgZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBiJiYhYS5PKGIpO3JldHVybiBuZXcgYS5mYShKLHRoaXMsbnVsbCxmdW5jdGlvbihhKXtkJiZkKGEpO2FbY109Zj9iKCk6Yn0sZSl9cmV0dXJuIG5ldyBhLmZhKGIsXG50aGlzLGMsZnVuY3Rpb24oYSxiKXthLiRwYXJlbnRDb250ZXh0PWI7YS4kcGFyZW50PWIuJGRhdGE7YS4kcGFyZW50cz0oYi4kcGFyZW50c3x8W10pLnNsaWNlKDApO2EuJHBhcmVudHMudW5zaGlmdChhLiRwYXJlbnQpO2QmJmQoYSl9LGUpfTthLmZhLnByb3RvdHlwZS5leHRlbmQ9ZnVuY3Rpb24oYixjKXtyZXR1cm4gbmV3IGEuZmEoSix0aGlzLG51bGwsZnVuY3Rpb24oYyl7YS5hLmV4dGVuZChjLFwiZnVuY3Rpb25cIj09dHlwZW9mIGI/YihjKTpiKX0sYyl9O3ZhciB6PWEuYS5nLlooKTtjLnByb3RvdHlwZS5UYz1mdW5jdGlvbigpe3RoaXMuS2ImJnRoaXMuS2IuTiYmdGhpcy5LYi5OLnNkKHRoaXMubm9kZSl9O2MucHJvdG90eXBlLnNkPWZ1bmN0aW9uKGIpe2EuYS5QYSh0aGlzLmtiLGIpOyF0aGlzLmtiLmxlbmd0aCYmdGhpcy5IJiZ0aGlzLkNjKCl9O2MucHJvdG90eXBlLkNjPWZ1bmN0aW9uKCl7dGhpcy5IPSEwO3RoaXMueWMuTiYmIXRoaXMua2IubGVuZ3RoJiYodGhpcy55Yy5OPVxubnVsbCxhLmEuSy55Yih0aGlzLm5vZGUsYiksYS5pLm1hKHRoaXMubm9kZSxhLmkucGEpLHRoaXMuVGMoKSl9O2EuaT17SDpcImNoaWxkcmVuQ29tcGxldGVcIixwYTpcImRlc2NlbmRhbnRzQ29tcGxldGVcIixzdWJzY3JpYmU6ZnVuY3Rpb24oYixjLGQsZSxmKXt2YXIgaz1hLmEuZy5VYihiLHose30pO2suRmF8fChrLkZhPW5ldyBhLlQpO2YmJmYubm90aWZ5SW1tZWRpYXRlbHkmJmsuWmJbY10mJmEudS5HKGQsZSxbYl0pO3JldHVybiBrLkZhLnN1YnNjcmliZShkLGUsYyl9LG1hOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmcuZ2V0KGIseik7aWYoZCYmKGQuWmJbY109ITAsZC5GYSYmZC5GYS5ub3RpZnlTdWJzY3JpYmVycyhiLGMpLGM9PWEuaS5IKSlpZihkLk4pZC5OLkNjKCk7ZWxzZSBpZihkLk49PT1uJiZkLkZhJiZkLkZhLldhKGEuaS5wYSkpdGhyb3cgRXJyb3IoXCJkZXNjZW5kYW50c0NvbXBsZXRlIGV2ZW50IG5vdCBzdXBwb3J0ZWQgZm9yIGJpbmRpbmdzIG9uIHRoaXMgbm9kZVwiKTtcbn0sQ2I6ZnVuY3Rpb24oYixkKXt2YXIgZT1hLmEuZy5VYihiLHose30pO2UuTnx8KGUuTj1uZXcgYyhiLGUsZFt4XSkpO3JldHVybiBkW3hdPT1lP2Q6ZC5leHRlbmQoZnVuY3Rpb24oYSl7YVt4XT1lfSl9fTthLlRkPWZ1bmN0aW9uKGIpe3JldHVybihiPWEuYS5nLmdldChiLHopKSYmYi5jb250ZXh0fTthLmliPWZ1bmN0aW9uKGIsYyxkKXsxPT09Yi5ub2RlVHlwZSYmYS5oLlNjKGIpO3JldHVybiBwKGIsYyxxKGQpKX07YS5sZD1mdW5jdGlvbihiLGMsZCl7ZD1xKGQpO3JldHVybiBhLmliKGIsZyhjLGQsYiksZCl9O2EuT2E9ZnVuY3Rpb24oYSxiKXsxIT09Yi5ub2RlVHlwZSYmOCE9PWIubm9kZVR5cGV8fG0ocShhKSxiKX07YS52Yz1mdW5jdGlvbihhLGIsYyl7IXYmJkEualF1ZXJ5JiYodj1BLmpRdWVyeSk7aWYoMj5hcmd1bWVudHMubGVuZ3RoKXtpZihiPXcuYm9keSwhYil0aHJvdyBFcnJvcihcImtvLmFwcGx5QmluZGluZ3M6IGNvdWxkIG5vdCBmaW5kIGRvY3VtZW50LmJvZHk7IGhhcyB0aGUgZG9jdW1lbnQgYmVlbiBsb2FkZWQ/XCIpO1xufWVsc2UgaWYoIWJ8fDEhPT1iLm5vZGVUeXBlJiY4IT09Yi5ub2RlVHlwZSl0aHJvdyBFcnJvcihcImtvLmFwcGx5QmluZGluZ3M6IGZpcnN0IHBhcmFtZXRlciBzaG91bGQgYmUgeW91ciB2aWV3IG1vZGVsOyBzZWNvbmQgcGFyYW1ldGVyIHNob3VsZCBiZSBhIERPTSBub2RlXCIpO2socShhLGMpLGIpfTthLkRjPWZ1bmN0aW9uKGIpe3JldHVybiFifHwxIT09Yi5ub2RlVHlwZSYmOCE9PWIubm9kZVR5cGU/bjphLlRkKGIpfTthLkVjPWZ1bmN0aW9uKGIpe3JldHVybihiPWEuRGMoYikpP2IuJGRhdGE6bn07YS5iKFwiYmluZGluZ0hhbmRsZXJzXCIsYS5jKTthLmIoXCJiaW5kaW5nRXZlbnRcIixhLmkpO2EuYihcImJpbmRpbmdFdmVudC5zdWJzY3JpYmVcIixhLmkuc3Vic2NyaWJlKTthLmIoXCJiaW5kaW5nRXZlbnQuc3RhcnRQb3NzaWJseUFzeW5jQ29udGVudEJpbmRpbmdcIixhLmkuQ2IpO2EuYihcImFwcGx5QmluZGluZ3NcIixhLnZjKTthLmIoXCJhcHBseUJpbmRpbmdzVG9EZXNjZW5kYW50c1wiLGEuT2EpO1xuYS5iKFwiYXBwbHlCaW5kaW5nQWNjZXNzb3JzVG9Ob2RlXCIsYS5pYik7YS5iKFwiYXBwbHlCaW5kaW5nc1RvTm9kZVwiLGEubGQpO2EuYihcImNvbnRleHRGb3JcIixhLkRjKTthLmIoXCJkYXRhRm9yXCIsYS5FYyl9KSgpOyhmdW5jdGlvbihiKXtmdW5jdGlvbiBjKGMsZSl7dmFyIGs9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGYsYyk/ZltjXTpiLGw7az9rLnN1YnNjcmliZShlKTooaz1mW2NdPW5ldyBhLlQsay5zdWJzY3JpYmUoZSksZChjLGZ1bmN0aW9uKGIsZCl7dmFyIGU9ISghZHx8IWQuc3luY2hyb25vdXMpO2dbY109e2RlZmluaXRpb246YixHZDplfTtkZWxldGUgZltjXTtsfHxlP2subm90aWZ5U3Vic2NyaWJlcnMoYik6YS5uYS56YihmdW5jdGlvbigpe2subm90aWZ5U3Vic2NyaWJlcnMoYil9KX0pLGw9ITApfWZ1bmN0aW9uIGQoYSxiKXtlKFwiZ2V0Q29uZmlnXCIsW2FdLGZ1bmN0aW9uKGMpe2M/ZShcImxvYWRDb21wb25lbnRcIixbYSxjXSxmdW5jdGlvbihhKXtiKGEsXG5jKX0pOmIobnVsbCxudWxsKX0pfWZ1bmN0aW9uIGUoYyxkLGYsbCl7bHx8KGw9YS5qLmxvYWRlcnMuc2xpY2UoMCkpO3ZhciBnPWwuc2hpZnQoKTtpZihnKXt2YXIgcT1nW2NdO2lmKHEpe3ZhciB0PSExO2lmKHEuYXBwbHkoZyxkLmNvbmNhdChmdW5jdGlvbihhKXt0P2YobnVsbCk6bnVsbCE9PWE/ZihhKTplKGMsZCxmLGwpfSkpIT09YiYmKHQ9ITAsIWcuc3VwcHJlc3NMb2FkZXJFeGNlcHRpb25zKSl0aHJvdyBFcnJvcihcIkNvbXBvbmVudCBsb2FkZXJzIG11c3Qgc3VwcGx5IHZhbHVlcyBieSBpbnZva2luZyB0aGUgY2FsbGJhY2ssIG5vdCBieSByZXR1cm5pbmcgdmFsdWVzIHN5bmNocm9ub3VzbHkuXCIpO31lbHNlIGUoYyxkLGYsbCl9ZWxzZSBmKG51bGwpfXZhciBmPXt9LGc9e307YS5qPXtnZXQ6ZnVuY3Rpb24oZCxlKXt2YXIgZj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZyxkKT9nW2RdOmI7Zj9mLkdkP2EudS5HKGZ1bmN0aW9uKCl7ZShmLmRlZmluaXRpb24pfSk6XG5hLm5hLnpiKGZ1bmN0aW9uKCl7ZShmLmRlZmluaXRpb24pfSk6YyhkLGUpfSxCYzpmdW5jdGlvbihhKXtkZWxldGUgZ1thXX0sb2M6ZX07YS5qLmxvYWRlcnM9W107YS5iKFwiY29tcG9uZW50c1wiLGEuaik7YS5iKFwiY29tcG9uZW50cy5nZXRcIixhLmouZ2V0KTthLmIoXCJjb21wb25lbnRzLmNsZWFyQ2FjaGVkRGVmaW5pdGlvblwiLGEuai5CYyl9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixjLGQsZSl7ZnVuY3Rpb24gZygpezA9PT0tLUImJmUoaCl9dmFyIGg9e30sQj0yLHU9ZC50ZW1wbGF0ZTtkPWQudmlld01vZGVsO3U/ZihjLHUsZnVuY3Rpb24oYyl7YS5qLm9jKFwibG9hZFRlbXBsYXRlXCIsW2IsY10sZnVuY3Rpb24oYSl7aC50ZW1wbGF0ZT1hO2coKX0pfSk6ZygpO2Q/ZihjLGQsZnVuY3Rpb24oYyl7YS5qLm9jKFwibG9hZFZpZXdNb2RlbFwiLFtiLGNdLGZ1bmN0aW9uKGEpe2hbbV09YTtnKCl9KX0pOmcoKX1mdW5jdGlvbiBjKGEsYixkKXtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYilkKGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgYihhKX0pO1xuZWxzZSBpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYlttXSlkKGJbbV0pO2Vsc2UgaWYoXCJpbnN0YW5jZVwiaW4gYil7dmFyIGU9Yi5pbnN0YW5jZTtkKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KX1lbHNlXCJ2aWV3TW9kZWxcImluIGI/YyhhLGIudmlld01vZGVsLGQpOmEoXCJVbmtub3duIHZpZXdNb2RlbCB2YWx1ZTogXCIrYil9ZnVuY3Rpb24gZChiKXtzd2l0Y2goYS5hLlIoYikpe2Nhc2UgXCJzY3JpcHRcIjpyZXR1cm4gYS5hLnVhKGIudGV4dCk7Y2FzZSBcInRleHRhcmVhXCI6cmV0dXJuIGEuYS51YShiLnZhbHVlKTtjYXNlIFwidGVtcGxhdGVcIjppZihlKGIuY29udGVudCkpcmV0dXJuIGEuYS5DYShiLmNvbnRlbnQuY2hpbGROb2Rlcyl9cmV0dXJuIGEuYS5DYShiLmNoaWxkTm9kZXMpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIEEuRG9jdW1lbnRGcmFnbWVudD9hIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudDphJiYxMT09PWEubm9kZVR5cGV9ZnVuY3Rpb24gZihhLGIsYyl7XCJzdHJpbmdcIj09PXR5cGVvZiBiLnJlcXVpcmU/XG5UfHxBLnJlcXVpcmU/KFR8fEEucmVxdWlyZSkoW2IucmVxdWlyZV0sZnVuY3Rpb24oYSl7YSYmXCJvYmplY3RcIj09PXR5cGVvZiBhJiZhLlhkJiZhW1wiZGVmYXVsdFwiXSYmKGE9YVtcImRlZmF1bHRcIl0pO2MoYSl9KTphKFwiVXNlcyByZXF1aXJlLCBidXQgbm8gQU1EIGxvYWRlciBpcyBwcmVzZW50XCIpOmMoYil9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gZnVuY3Rpb24oYil7dGhyb3cgRXJyb3IoXCJDb21wb25lbnQgJ1wiK2ErXCInOiBcIitiKTt9fXZhciBoPXt9O2Euai5yZWdpc3Rlcj1mdW5jdGlvbihiLGMpe2lmKCFjKXRocm93IEVycm9yKFwiSW52YWxpZCBjb25maWd1cmF0aW9uIGZvciBcIitiKTtpZihhLmoudGIoYikpdGhyb3cgRXJyb3IoXCJDb21wb25lbnQgXCIrYitcIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWRcIik7aFtiXT1jfTthLmoudGI9ZnVuY3Rpb24oYSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChoLGEpfTthLmoudW5yZWdpc3Rlcj1mdW5jdGlvbihiKXtkZWxldGUgaFtiXTtcbmEuai5CYyhiKX07YS5qLkZjPXtnZXRDb25maWc6ZnVuY3Rpb24oYixjKXtjKGEuai50YihiKT9oW2JdOm51bGwpfSxsb2FkQ29tcG9uZW50OmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1nKGEpO2YoZSxjLGZ1bmN0aW9uKGMpe2IoYSxlLGMsZCl9KX0sbG9hZFRlbXBsYXRlOmZ1bmN0aW9uKGIsYyxmKXtiPWcoYik7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBjKWYoYS5hLnVhKGMpKTtlbHNlIGlmKGMgaW5zdGFuY2VvZiBBcnJheSlmKGMpO2Vsc2UgaWYoZShjKSlmKGEuYS5sYShjLmNoaWxkTm9kZXMpKTtlbHNlIGlmKGMuZWxlbWVudClpZihjPWMuZWxlbWVudCxBLkhUTUxFbGVtZW50P2MgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDpjJiZjLnRhZ05hbWUmJjE9PT1jLm5vZGVUeXBlKWYoZChjKSk7ZWxzZSBpZihcInN0cmluZ1wiPT09dHlwZW9mIGMpe3ZhciBoPXcuZ2V0RWxlbWVudEJ5SWQoYyk7aD9mKGQoaCkpOmIoXCJDYW5ub3QgZmluZCBlbGVtZW50IHdpdGggSUQgXCIrYyl9ZWxzZSBiKFwiVW5rbm93biBlbGVtZW50IHR5cGU6IFwiK1xuYyk7ZWxzZSBiKFwiVW5rbm93biB0ZW1wbGF0ZSB2YWx1ZTogXCIrYyl9LGxvYWRWaWV3TW9kZWw6ZnVuY3Rpb24oYSxiLGQpe2MoZyhhKSxiLGQpfX07dmFyIG09XCJjcmVhdGVWaWV3TW9kZWxcIjthLmIoXCJjb21wb25lbnRzLnJlZ2lzdGVyXCIsYS5qLnJlZ2lzdGVyKTthLmIoXCJjb21wb25lbnRzLmlzUmVnaXN0ZXJlZFwiLGEuai50Yik7YS5iKFwiY29tcG9uZW50cy51bnJlZ2lzdGVyXCIsYS5qLnVucmVnaXN0ZXIpO2EuYihcImNvbXBvbmVudHMuZGVmYXVsdExvYWRlclwiLGEuai5GYyk7YS5qLmxvYWRlcnMucHVzaChhLmouRmMpO2Euai5kZD1ofSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsZSl7dmFyIGY9Yi5nZXRBdHRyaWJ1dGUoXCJwYXJhbXNcIik7aWYoZil7dmFyIGY9Yy5wYXJzZUJpbmRpbmdzU3RyaW5nKGYsZSxiLHt2YWx1ZUFjY2Vzc29yczohMCxiaW5kaW5nUGFyYW1zOiEwfSksZj1hLmEuR2EoZixmdW5jdGlvbihjKXtyZXR1cm4gYS5vKGMsbnVsbCx7bDpifSl9KSxnPWEuYS5HYShmLFxuZnVuY3Rpb24oYyl7dmFyIGU9Yy52KCk7cmV0dXJuIGMuamEoKT9hLm8oe3JlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5hLmYoYygpKX0sd3JpdGU6YS5aYShlKSYmZnVuY3Rpb24oYSl7YygpKGEpfSxsOmJ9KTplfSk7T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGcsXCIkcmF3XCIpfHwoZy4kcmF3PWYpO3JldHVybiBnfXJldHVybnskcmF3Ont9fX1hLmouZ2V0Q29tcG9uZW50TmFtZUZvck5vZGU9ZnVuY3Rpb24oYil7dmFyIGM9YS5hLlIoYik7aWYoYS5qLnRiKGMpJiYoLTEhPWMuaW5kZXhPZihcIi1cIil8fFwiW29iamVjdCBIVE1MVW5rbm93bkVsZW1lbnRdXCI9PVwiXCIrYnx8OD49YS5hLlcmJmIudGFnTmFtZT09PWMpKXJldHVybiBjfTthLmoudGM9ZnVuY3Rpb24oYyxlLGYsZyl7aWYoMT09PWUubm9kZVR5cGUpe3ZhciBoPWEuai5nZXRDb21wb25lbnROYW1lRm9yTm9kZShlKTtpZihoKXtjPWN8fHt9O2lmKGMuY29tcG9uZW50KXRocm93IEVycm9yKCdDYW5ub3QgdXNlIHRoZSBcImNvbXBvbmVudFwiIGJpbmRpbmcgb24gYSBjdXN0b20gZWxlbWVudCBtYXRjaGluZyBhIGNvbXBvbmVudCcpO1xudmFyIG09e25hbWU6aCxwYXJhbXM6YihlLGYpfTtjLmNvbXBvbmVudD1nP2Z1bmN0aW9uKCl7cmV0dXJuIG19Om19fXJldHVybiBjfTt2YXIgYz1uZXcgYS5nYTs5PmEuYS5XJiYoYS5qLnJlZ2lzdGVyPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fShhLmoucmVnaXN0ZXIpLHcuY3JlYXRlRG9jdW1lbnRGcmFnbWVudD1mdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz1iKCksZj1hLmouZGQsZztmb3IoZyBpbiBmKTtyZXR1cm4gY319KHcuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCkpfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsYyxkKXtjPWMudGVtcGxhdGU7aWYoIWMpdGhyb3cgRXJyb3IoXCJDb21wb25lbnQgJ1wiK2IrXCInIGhhcyBubyB0ZW1wbGF0ZVwiKTtiPWEuYS5DYShjKTthLmgudmEoZCxiKX1mdW5jdGlvbiBjKGEsYixjKXt2YXIgZD1hLmNyZWF0ZVZpZXdNb2RlbDtyZXR1cm4gZD9kLmNhbGwoYSxcbmIsYyk6Yn12YXIgZD0wO2EuYy5jb21wb25lbnQ9e2luaXQ6ZnVuY3Rpb24oZSxmLGcsaCxtKXtmdW5jdGlvbiBrKCl7dmFyIGE9bCYmbC5kaXNwb3NlO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBhJiZhLmNhbGwobCk7cSYmcS5zKCk7cD1sPXE9bnVsbH12YXIgbCxwLHEsdD1hLmEubGEoYS5oLmNoaWxkTm9kZXMoZSkpO2EuaC5FYShlKTthLmEuSy56YShlLGspO2EubyhmdW5jdGlvbigpe3ZhciBnPWEuYS5mKGYoKSksaCx1O1wic3RyaW5nXCI9PT10eXBlb2YgZz9oPWc6KGg9YS5hLmYoZy5uYW1lKSx1PWEuYS5mKGcucGFyYW1zKSk7aWYoIWgpdGhyb3cgRXJyb3IoXCJObyBjb21wb25lbnQgbmFtZSBzcGVjaWZpZWRcIik7dmFyIG49YS5pLkNiKGUsbSksej1wPSsrZDthLmouZ2V0KGgsZnVuY3Rpb24oZCl7aWYocD09PXope2soKTtpZighZCl0aHJvdyBFcnJvcihcIlVua25vd24gY29tcG9uZW50ICdcIitoK1wiJ1wiKTtiKGgsZCxlKTt2YXIgZj1jKGQsdSx7ZWxlbWVudDplLHRlbXBsYXRlTm9kZXM6dH0pO1xuZD1uLmNyZWF0ZUNoaWxkQ29udGV4dChmLHtleHRlbmQ6ZnVuY3Rpb24oYSl7YS4kY29tcG9uZW50PWY7YS4kY29tcG9uZW50VGVtcGxhdGVOb2Rlcz10fX0pO2YmJmYua29EZXNjZW5kYW50c0NvbXBsZXRlJiYocT1hLmkuc3Vic2NyaWJlKGUsYS5pLnBhLGYua29EZXNjZW5kYW50c0NvbXBsZXRlLGYpKTtsPWY7YS5PYShkLGUpfX0pfSxudWxsLHtsOmV9KTtyZXR1cm57Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fX07YS5oLmVhLmNvbXBvbmVudD0hMH0pKCk7dmFyIFY9e1wiY2xhc3NcIjpcImNsYXNzTmFtZVwiLFwiZm9yXCI6XCJodG1sRm9yXCJ9O2EuYy5hdHRyPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuZihjKCkpfHx7fTthLmEuUChkLGZ1bmN0aW9uKGMsZCl7ZD1hLmEuZihkKTt2YXIgZz1jLmluZGV4T2YoXCI6XCIpLGc9XCJsb29rdXBOYW1lc3BhY2VVUklcImluIGImJjA8ZyYmYi5sb29rdXBOYW1lc3BhY2VVUkkoYy5zdWJzdHIoMCxnKSksaD0hMT09PWR8fG51bGw9PT1cbmR8fGQ9PT1uO2g/Zz9iLnJlbW92ZUF0dHJpYnV0ZU5TKGcsYyk6Yi5yZW1vdmVBdHRyaWJ1dGUoYyk6ZD1kLnRvU3RyaW5nKCk7OD49YS5hLlcmJmMgaW4gVj8oYz1WW2NdLGg/Yi5yZW1vdmVBdHRyaWJ1dGUoYyk6YltjXT1kKTpofHwoZz9iLnNldEF0dHJpYnV0ZU5TKGcsYyxkKTpiLnNldEF0dHJpYnV0ZShjLGQpKTtcIm5hbWVcIj09PWMmJmEuYS5ZYyhiLGg/XCJcIjpkKX0pfX07KGZ1bmN0aW9uKCl7YS5jLmNoZWNrZWQ9e2FmdGVyOltcInZhbHVlXCIsXCJhdHRyXCJdLGluaXQ6ZnVuY3Rpb24oYixjLGQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1iLmNoZWNrZWQsZj1nKCk7aWYoIWEuUy5ZYSgpJiYoZXx8IW0mJiFhLlMucWEoKSkpe3ZhciBrPWEudS5HKGMpO2lmKGwpe3ZhciBxPXA/ay52KCk6ayx6PXQ7dD1mO3ohPT1mP2UmJihhLmEuTmEocSxmLCEwKSxhLmEuTmEocSx6LCExKSk6YS5hLk5hKHEsZixlKTtwJiZhLlphKGspJiZrKHEpfWVsc2UgaCYmKGY9PT1uP2Y9ZTplfHwoZj1uKSksYS5tLmViKGssXG5kLFwiY2hlY2tlZFwiLGYsITApfX1mdW5jdGlvbiBmKCl7dmFyIGQ9YS5hLmYoYygpKSxlPWcoKTtsPyhiLmNoZWNrZWQ9MDw9YS5hLkEoZCxlKSx0PWUpOmIuY2hlY2tlZD1oJiZlPT09bj8hIWQ6ZygpPT09ZH12YXIgZz1hLnhiKGZ1bmN0aW9uKCl7aWYoZC5oYXMoXCJjaGVja2VkVmFsdWVcIikpcmV0dXJuIGEuYS5mKGQuZ2V0KFwiY2hlY2tlZFZhbHVlXCIpKTtpZihxKXJldHVybiBkLmhhcyhcInZhbHVlXCIpP2EuYS5mKGQuZ2V0KFwidmFsdWVcIikpOmIudmFsdWV9KSxoPVwiY2hlY2tib3hcIj09Yi50eXBlLG09XCJyYWRpb1wiPT1iLnR5cGU7aWYoaHx8bSl7dmFyIGs9YygpLGw9aCYmYS5hLmYoaylpbnN0YW5jZW9mIEFycmF5LHA9IShsJiZrLnB1c2gmJmsuc3BsaWNlKSxxPW18fGwsdD1sP2coKTpuO20mJiFiLm5hbWUmJmEuYy51bmlxdWVOYW1lLmluaXQoYixmdW5jdGlvbigpe3JldHVybiEwfSk7YS5vKGUsbnVsbCx7bDpifSk7YS5hLkIoYixcImNsaWNrXCIsZSk7YS5vKGYsbnVsbCx7bDpifSk7XG5rPW59fX07YS5tLndhLmNoZWNrZWQ9ITA7YS5jLmNoZWNrZWRWYWx1ZT17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7Yi52YWx1ZT1hLmEuZihjKCkpfX19KSgpO2EuY1tcImNsYXNzXCJdPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuRGIoYS5hLmYoYygpKSk7YS5hLkViKGIsYi5fX2tvX19jc3NWYWx1ZSwhMSk7Yi5fX2tvX19jc3NWYWx1ZT1kO2EuYS5FYihiLGQsITApfX07YS5jLmNzcz17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmYoYygpKTtudWxsIT09ZCYmXCJvYmplY3RcIj09dHlwZW9mIGQ/YS5hLlAoZCxmdW5jdGlvbihjLGQpe2Q9YS5hLmYoZCk7YS5hLkViKGIsYyxkKX0pOmEuY1tcImNsYXNzXCJdLnVwZGF0ZShiLGMpfX07YS5jLmVuYWJsZT17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmYoYygpKTtkJiZiLmRpc2FibGVkP2IucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik6ZHx8Yi5kaXNhYmxlZHx8KGIuZGlzYWJsZWQ9ITApfX07YS5jLmRpc2FibGU9XG57dXBkYXRlOmZ1bmN0aW9uKGIsYyl7YS5jLmVuYWJsZS51cGRhdGUoYixmdW5jdGlvbigpe3JldHVybiFhLmEuZihjKCkpfSl9fTthLmMuZXZlbnQ9e2luaXQ6ZnVuY3Rpb24oYixjLGQsZSxmKXt2YXIgZz1jKCl8fHt9O2EuYS5QKGcsZnVuY3Rpb24oZyl7XCJzdHJpbmdcIj09dHlwZW9mIGcmJmEuYS5CKGIsZyxmdW5jdGlvbihiKXt2YXIgayxsPWMoKVtnXTtpZihsKXt0cnl7dmFyIHA9YS5hLmxhKGFyZ3VtZW50cyk7ZT1mLiRkYXRhO3AudW5zaGlmdChlKTtrPWwuYXBwbHkoZSxwKX1maW5hbGx5eyEwIT09ayYmKGIucHJldmVudERlZmF1bHQ/Yi5wcmV2ZW50RGVmYXVsdCgpOmIucmV0dXJuVmFsdWU9ITEpfSExPT09ZC5nZXQoZytcIkJ1YmJsZVwiKSYmKGIuY2FuY2VsQnViYmxlPSEwLGIuc3RvcFByb3BhZ2F0aW9uJiZiLnN0b3BQcm9wYWdhdGlvbigpKX19KX0pfX07YS5jLmZvcmVhY2g9e1JjOmZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPWIoKSxkPWEuYS5iYyhjKTtcbmlmKCFkfHxcIm51bWJlclwiPT10eXBlb2YgZC5sZW5ndGgpcmV0dXJue2ZvcmVhY2g6Yyx0ZW1wbGF0ZUVuZ2luZTphLmJhLk1hfTthLmEuZihjKTtyZXR1cm57Zm9yZWFjaDpkLmRhdGEsYXM6ZC5hcyxub0NoaWxkQ29udGV4dDpkLm5vQ2hpbGRDb250ZXh0LGluY2x1ZGVEZXN0cm95ZWQ6ZC5pbmNsdWRlRGVzdHJveWVkLGFmdGVyQWRkOmQuYWZ0ZXJBZGQsYmVmb3JlUmVtb3ZlOmQuYmVmb3JlUmVtb3ZlLGFmdGVyUmVuZGVyOmQuYWZ0ZXJSZW5kZXIsYmVmb3JlTW92ZTpkLmJlZm9yZU1vdmUsYWZ0ZXJNb3ZlOmQuYWZ0ZXJNb3ZlLHRlbXBsYXRlRW5naW5lOmEuYmEuTWF9fX0saW5pdDpmdW5jdGlvbihiLGMpe3JldHVybiBhLmMudGVtcGxhdGUuaW5pdChiLGEuYy5mb3JlYWNoLlJjKGMpKX0sdXBkYXRlOmZ1bmN0aW9uKGIsYyxkLGUsZil7cmV0dXJuIGEuYy50ZW1wbGF0ZS51cGRhdGUoYixhLmMuZm9yZWFjaC5SYyhjKSxkLGUsZil9fTthLm0uUmEuZm9yZWFjaD0hMTthLmguZWEuZm9yZWFjaD1cbiEwO2EuYy5oYXNmb2N1cz17aW5pdDpmdW5jdGlvbihiLGMsZCl7ZnVuY3Rpb24gZShlKXtiLl9fa29faGFzZm9jdXNVcGRhdGluZz0hMDt2YXIgZj1iLm93bmVyRG9jdW1lbnQ7aWYoXCJhY3RpdmVFbGVtZW50XCJpbiBmKXt2YXIgZzt0cnl7Zz1mLmFjdGl2ZUVsZW1lbnR9Y2F0Y2gobCl7Zz1mLmJvZHl9ZT1nPT09Yn1mPWMoKTthLm0uZWIoZixkLFwiaGFzZm9jdXNcIixlLCEwKTtiLl9fa29faGFzZm9jdXNMYXN0VmFsdWU9ZTtiLl9fa29faGFzZm9jdXNVcGRhdGluZz0hMX12YXIgZj1lLmJpbmQobnVsbCwhMCksZz1lLmJpbmQobnVsbCwhMSk7YS5hLkIoYixcImZvY3VzXCIsZik7YS5hLkIoYixcImZvY3VzaW5cIixmKTthLmEuQihiLFwiYmx1clwiLGcpO2EuYS5CKGIsXCJmb2N1c291dFwiLGcpO2IuX19rb19oYXNmb2N1c0xhc3RWYWx1ZT0hMX0sdXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9ISFhLmEuZihjKCkpO2IuX19rb19oYXNmb2N1c1VwZGF0aW5nfHxiLl9fa29faGFzZm9jdXNMYXN0VmFsdWU9PT1cbmR8fChkP2IuZm9jdXMoKTpiLmJsdXIoKSwhZCYmYi5fX2tvX2hhc2ZvY3VzTGFzdFZhbHVlJiZiLm93bmVyRG9jdW1lbnQuYm9keS5mb2N1cygpLGEudS5HKGEuYS5GYixudWxsLFtiLGQ/XCJmb2N1c2luXCI6XCJmb2N1c291dFwiXSkpfX07YS5tLndhLmhhc2ZvY3VzPSEwO2EuYy5oYXNGb2N1cz1hLmMuaGFzZm9jdXM7YS5tLndhLmhhc0ZvY3VzPVwiaGFzZm9jdXNcIjthLmMuaHRtbD17aW5pdDpmdW5jdGlvbigpe3JldHVybntjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19LHVwZGF0ZTpmdW5jdGlvbihiLGMpe2EuYS5mYyhiLGMoKSl9fTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsZCxlKXthLmNbYl09e2luaXQ6ZnVuY3Rpb24oYixjLGgsbSxrKXt2YXIgbCxwLHE9e30sdCx4LG47aWYoZCl7bT1oLmdldChcImFzXCIpO3ZhciB1PWguZ2V0KFwibm9DaGlsZENvbnRleHRcIik7bj0hKG0mJnUpO3E9e2FzOm0sbm9DaGlsZENvbnRleHQ6dSxleHBvcnREZXBlbmRlbmNpZXM6bn19eD0odD1cblwicmVuZGVyXCI9PWguZ2V0KFwiY29tcGxldGVPblwiKSl8fGguaGFzKGEuaS5wYSk7YS5vKGZ1bmN0aW9uKCl7dmFyIGg9YS5hLmYoYygpKSxtPSFlIT09IWgsdT0hcCxyO2lmKG58fG0hPT1sKXt4JiYoaz1hLmkuQ2IoYixrKSk7aWYobSl7aWYoIWR8fG4pcS5kYXRhRGVwZW5kZW5jeT1hLlMubygpO3I9ZD9rLmNyZWF0ZUNoaWxkQ29udGV4dChcImZ1bmN0aW9uXCI9PXR5cGVvZiBoP2g6YyxxKTphLlMucWEoKT9rLmV4dGVuZChudWxsLHEpOmt9dSYmYS5TLnFhKCkmJihwPWEuYS5DYShhLmguY2hpbGROb2RlcyhiKSwhMCkpO20/KHV8fGEuaC52YShiLGEuYS5DYShwKSksYS5PYShyLGIpKTooYS5oLkVhKGIpLHR8fGEuaS5tYShiLGEuaS5IKSk7bD1tfX0sbnVsbCx7bDpifSk7cmV0dXJue2NvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzOiEwfX19O2EubS5SYVtiXT0hMTthLmguZWFbYl09ITB9YihcImlmXCIpO2IoXCJpZm5vdFwiLCExLCEwKTtiKFwid2l0aFwiLCEwKX0pKCk7YS5jLmxldD17aW5pdDpmdW5jdGlvbihiLFxuYyxkLGUsZil7Yz1mLmV4dGVuZChjKTthLk9hKGMsYik7cmV0dXJue2NvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzOiEwfX19O2EuaC5lYS5sZXQ9ITA7dmFyIFE9e307YS5jLm9wdGlvbnM9e2luaXQ6ZnVuY3Rpb24oYil7aWYoXCJzZWxlY3RcIiE9PWEuYS5SKGIpKXRocm93IEVycm9yKFwib3B0aW9ucyBiaW5kaW5nIGFwcGxpZXMgb25seSB0byBTRUxFQ1QgZWxlbWVudHNcIik7Zm9yKDswPGIubGVuZ3RoOyliLnJlbW92ZSgwKTtyZXR1cm57Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fSx1cGRhdGU6ZnVuY3Rpb24oYixjLGQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gYS5hLmpiKGIub3B0aW9ucyxmdW5jdGlvbihhKXtyZXR1cm4gYS5zZWxlY3RlZH0pfWZ1bmN0aW9uIGYoYSxiLGMpe3ZhciBkPXR5cGVvZiBiO3JldHVyblwiZnVuY3Rpb25cIj09ZD9iKGEpOlwic3RyaW5nXCI9PWQ/YVtiXTpjfWZ1bmN0aW9uIGcoYyxkKXtpZih4JiZsKWEuaS5tYShiLGEuaS5IKTtlbHNlIGlmKHQubGVuZ3RoKXt2YXIgZT1cbjA8PWEuYS5BKHQsYS53Lk0oZFswXSkpO2EuYS5aYyhkWzBdLGUpO3gmJiFlJiZhLnUuRyhhLmEuRmIsbnVsbCxbYixcImNoYW5nZVwiXSl9fXZhciBoPWIubXVsdGlwbGUsbT0wIT1iLmxlbmd0aCYmaD9iLnNjcm9sbFRvcDpudWxsLGs9YS5hLmYoYygpKSxsPWQuZ2V0KFwidmFsdWVBbGxvd1Vuc2V0XCIpJiZkLmhhcyhcInZhbHVlXCIpLHA9ZC5nZXQoXCJvcHRpb25zSW5jbHVkZURlc3Ryb3llZFwiKTtjPXt9O3ZhciBxLHQ9W107bHx8KGg/dD1hLmEuTWIoZSgpLGEudy5NKTowPD1iLnNlbGVjdGVkSW5kZXgmJnQucHVzaChhLncuTShiLm9wdGlvbnNbYi5zZWxlY3RlZEluZGV4XSkpKTtrJiYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGsubGVuZ3RoJiYoaz1ba10pLHE9YS5hLmpiKGssZnVuY3Rpb24oYil7cmV0dXJuIHB8fGI9PT1ufHxudWxsPT09Ynx8IWEuYS5mKGIuX2Rlc3Ryb3kpfSksZC5oYXMoXCJvcHRpb25zQ2FwdGlvblwiKSYmKGs9YS5hLmYoZC5nZXQoXCJvcHRpb25zQ2FwdGlvblwiKSksbnVsbCE9PVxuayYmayE9PW4mJnEudW5zaGlmdChRKSkpO3ZhciB4PSExO2MuYmVmb3JlUmVtb3ZlPWZ1bmN0aW9uKGEpe2IucmVtb3ZlQ2hpbGQoYSl9O2s9ZztkLmhhcyhcIm9wdGlvbnNBZnRlclJlbmRlclwiKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZC5nZXQoXCJvcHRpb25zQWZ0ZXJSZW5kZXJcIikmJihrPWZ1bmN0aW9uKGIsYyl7ZygwLGMpO2EudS5HKGQuZ2V0KFwib3B0aW9uc0FmdGVyUmVuZGVyXCIpLG51bGwsW2NbMF0sYiE9PVE/YjpuXSl9KTthLmEuZWMoYixxLGZ1bmN0aW9uKGMsZSxnKXtnLmxlbmd0aCYmKHQ9IWwmJmdbMF0uc2VsZWN0ZWQ/W2Eudy5NKGdbMF0pXTpbXSx4PSEwKTtlPWIub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO2M9PT1RPyhhLmEuQmIoZSxkLmdldChcIm9wdGlvbnNDYXB0aW9uXCIpKSxhLncuY2IoZSxuKSk6KGc9ZihjLGQuZ2V0KFwib3B0aW9uc1ZhbHVlXCIpLGMpLGEudy5jYihlLGEuYS5mKGcpKSxjPWYoYyxkLmdldChcIm9wdGlvbnNUZXh0XCIpLGcpLFxuYS5hLkJiKGUsYykpO3JldHVybltlXX0sYyxrKTtpZighbCl7dmFyIEI7aD9CPXQubGVuZ3RoJiZlKCkubGVuZ3RoPHQubGVuZ3RoOkI9dC5sZW5ndGgmJjA8PWIuc2VsZWN0ZWRJbmRleD9hLncuTShiLm9wdGlvbnNbYi5zZWxlY3RlZEluZGV4XSkhPT10WzBdOnQubGVuZ3RofHwwPD1iLnNlbGVjdGVkSW5kZXg7QiYmYS51LkcoYS5hLkZiLG51bGwsW2IsXCJjaGFuZ2VcIl0pfShsfHxhLlMuWWEoKSkmJmEuaS5tYShiLGEuaS5IKTthLmEud2QoYik7bSYmMjA8TWF0aC5hYnMobS1iLnNjcm9sbFRvcCkmJihiLnNjcm9sbFRvcD1tKX19O2EuYy5vcHRpb25zLiRiPWEuYS5nLlooKTthLmMuc2VsZWN0ZWRPcHRpb25zPXtpbml0OmZ1bmN0aW9uKGIsYyxkKXtmdW5jdGlvbiBlKCl7dmFyIGU9YygpLGY9W107YS5hLkQoYi5nZXRFbGVtZW50c0J5VGFnTmFtZShcIm9wdGlvblwiKSxmdW5jdGlvbihiKXtiLnNlbGVjdGVkJiZmLnB1c2goYS53Lk0oYikpfSk7YS5tLmViKGUsZCxcInNlbGVjdGVkT3B0aW9uc1wiLFxuZil9ZnVuY3Rpb24gZigpe3ZhciBkPWEuYS5mKGMoKSksZT1iLnNjcm9sbFRvcDtkJiZcIm51bWJlclwiPT10eXBlb2YgZC5sZW5ndGgmJmEuYS5EKGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJvcHRpb25cIiksZnVuY3Rpb24oYil7dmFyIGM9MDw9YS5hLkEoZCxhLncuTShiKSk7Yi5zZWxlY3RlZCE9YyYmYS5hLlpjKGIsYyl9KTtiLnNjcm9sbFRvcD1lfWlmKFwic2VsZWN0XCIhPWEuYS5SKGIpKXRocm93IEVycm9yKFwic2VsZWN0ZWRPcHRpb25zIGJpbmRpbmcgYXBwbGllcyBvbmx5IHRvIFNFTEVDVCBlbGVtZW50c1wiKTt2YXIgZzthLmkuc3Vic2NyaWJlKGIsYS5pLkgsZnVuY3Rpb24oKXtnP2UoKTooYS5hLkIoYixcImNoYW5nZVwiLGUpLGc9YS5vKGYsbnVsbCx7bDpifSkpfSxudWxsLHtub3RpZnlJbW1lZGlhdGVseTohMH0pfSx1cGRhdGU6ZnVuY3Rpb24oKXt9fTthLm0ud2Euc2VsZWN0ZWRPcHRpb25zPSEwO2EuYy5zdHlsZT17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmYoYygpfHxcbnt9KTthLmEuUChkLGZ1bmN0aW9uKGMsZCl7ZD1hLmEuZihkKTtpZihudWxsPT09ZHx8ZD09PW58fCExPT09ZClkPVwiXCI7aWYodil2KGIpLmNzcyhjLGQpO2Vsc2UgaWYoL14tLS8udGVzdChjKSliLnN0eWxlLnNldFByb3BlcnR5KGMsZCk7ZWxzZXtjPWMucmVwbGFjZSgvLShcXHcpL2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfSk7dmFyIGc9Yi5zdHlsZVtjXTtiLnN0eWxlW2NdPWQ7ZD09PWd8fGIuc3R5bGVbY10hPWd8fGlzTmFOKGQpfHwoYi5zdHlsZVtjXT1kK1wicHhcIil9fSl9fTthLmMuc3VibWl0PXtpbml0OmZ1bmN0aW9uKGIsYyxkLGUsZil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYygpKXRocm93IEVycm9yKFwiVGhlIHZhbHVlIGZvciBhIHN1Ym1pdCBiaW5kaW5nIG11c3QgYmUgYSBmdW5jdGlvblwiKTthLmEuQihiLFwic3VibWl0XCIsZnVuY3Rpb24oYSl7dmFyIGQsZT1jKCk7dHJ5e2Q9ZS5jYWxsKGYuJGRhdGEsYil9ZmluYWxseXshMCE9PWQmJihhLnByZXZlbnREZWZhdWx0P1xuYS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITEpfX0pfX07YS5jLnRleHQ9e2luaXQ6ZnVuY3Rpb24oKXtyZXR1cm57Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fSx1cGRhdGU6ZnVuY3Rpb24oYixjKXthLmEuQmIoYixjKCkpfX07YS5oLmVhLnRleHQ9ITA7KGZ1bmN0aW9uKCl7aWYoQSYmQS5uYXZpZ2F0b3Ipe3ZhciBiPWZ1bmN0aW9uKGEpe2lmKGEpcmV0dXJuIHBhcnNlRmxvYXQoYVsxXSl9LGM9QS5uYXZpZ2F0b3IudXNlckFnZW50LGQsZSxmLGcsaDsoZD1BLm9wZXJhJiZBLm9wZXJhLnZlcnNpb24mJnBhcnNlSW50KEEub3BlcmEudmVyc2lvbigpKSl8fChoPWIoYy5tYXRjaCgvRWRnZVxcLyhbXiBdKykkLykpKXx8YihjLm1hdGNoKC9DaHJvbWVcXC8oW14gXSspLykpfHwoZT1iKGMubWF0Y2goL1ZlcnNpb25cXC8oW14gXSspIFNhZmFyaS8pKSl8fChmPWIoYy5tYXRjaCgvRmlyZWZveFxcLyhbXiBdKykvKSkpfHwoZz1hLmEuV3x8YihjLm1hdGNoKC9NU0lFIChbXiBdKykvKSkpfHxcbihnPWIoYy5tYXRjaCgvcnY6KFteICldKykvKSkpfWlmKDg8PWcmJjEwPmcpdmFyIG09YS5hLmcuWigpLGs9YS5hLmcuWigpLGw9ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5hY3RpdmVFbGVtZW50OyhjPWMmJmEuYS5nLmdldChjLGspKSYmYyhiKX0scD1mdW5jdGlvbihiLGMpe3ZhciBkPWIub3duZXJEb2N1bWVudDthLmEuZy5nZXQoZCxtKXx8KGEuYS5nLnNldChkLG0sITApLGEuYS5CKGQsXCJzZWxlY3Rpb25jaGFuZ2VcIixsKSk7YS5hLmcuc2V0KGIsayxjKX07YS5jLnRleHRJbnB1dD17aW5pdDpmdW5jdGlvbihiLGMsayl7ZnVuY3Rpb24gbChjLGQpe2EuYS5CKGIsYyxkKX1mdW5jdGlvbiBtKCl7dmFyIGQ9YS5hLmYoYygpKTtpZihudWxsPT09ZHx8ZD09PW4pZD1cIlwiO0whPT1uJiZkPT09TD9hLmEuc2V0VGltZW91dChtLDQpOmIudmFsdWUhPT1kJiYoeT0hMCxiLnZhbHVlPWQseT0hMSx2PWIudmFsdWUpfWZ1bmN0aW9uIHIoKXt3fHwoTD1iLnZhbHVlLHc9YS5hLnNldFRpbWVvdXQoeixcbjQpKX1mdW5jdGlvbiB6KCl7Y2xlYXJUaW1lb3V0KHcpO0w9dz1uO3ZhciBkPWIudmFsdWU7diE9PWQmJih2PWQsYS5tLmViKGMoKSxrLFwidGV4dElucHV0XCIsZCkpfXZhciB2PWIudmFsdWUsdyxMLEE9OT09YS5hLlc/cjp6LHk9ITE7ZyYmbChcImtleXByZXNzXCIseik7MTE+ZyYmbChcInByb3BlcnR5Y2hhbmdlXCIsZnVuY3Rpb24oYSl7eXx8XCJ2YWx1ZVwiIT09YS5wcm9wZXJ0eU5hbWV8fEEoYSl9KTs4PT1nJiYobChcImtleXVwXCIseiksbChcImtleWRvd25cIix6KSk7cCYmKHAoYixBKSxsKFwiZHJhZ2VuZFwiLHIpKTsoIWd8fDk8PWcpJiZsKFwiaW5wdXRcIixBKTs1PmUmJlwidGV4dGFyZWFcIj09PWEuYS5SKGIpPyhsKFwia2V5ZG93blwiLHIpLGwoXCJwYXN0ZVwiLHIpLGwoXCJjdXRcIixyKSk6MTE+ZD9sKFwia2V5ZG93blwiLHIpOjQ+Zj8obChcIkRPTUF1dG9Db21wbGV0ZVwiLHopLGwoXCJkcmFnZHJvcFwiLHopLGwoXCJkcm9wXCIseikpOmgmJlwibnVtYmVyXCI9PT1iLnR5cGUmJmwoXCJrZXlkb3duXCIscik7bChcImNoYW5nZVwiLFxueik7bChcImJsdXJcIix6KTthLm8obSxudWxsLHtsOmJ9KX19O2EubS53YS50ZXh0SW5wdXQ9ITA7YS5jLnRleHRpbnB1dD17cHJlcHJvY2VzczpmdW5jdGlvbihhLGIsYyl7YyhcInRleHRJbnB1dFwiLGEpfX19KSgpO2EuYy51bmlxdWVOYW1lPXtpbml0OmZ1bmN0aW9uKGIsYyl7aWYoYygpKXt2YXIgZD1cImtvX3VuaXF1ZV9cIisgKythLmMudW5pcXVlTmFtZS5yZDthLmEuWWMoYixkKX19fTthLmMudW5pcXVlTmFtZS5yZD0wO2EuYy51c2luZz17aW5pdDpmdW5jdGlvbihiLGMsZCxlLGYpe3ZhciBnO2QuaGFzKFwiYXNcIikmJihnPXthczpkLmdldChcImFzXCIpLG5vQ2hpbGRDb250ZXh0OmQuZ2V0KFwibm9DaGlsZENvbnRleHRcIil9KTtjPWYuY3JlYXRlQ2hpbGRDb250ZXh0KGMsZyk7YS5PYShjLGIpO3JldHVybntjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19fTthLmguZWEudXNpbmc9ITA7YS5jLnZhbHVlPXtpbml0OmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmEuUihiKSxmPVwiaW5wdXRcIj09XG5lO2lmKCFmfHxcImNoZWNrYm94XCIhPWIudHlwZSYmXCJyYWRpb1wiIT1iLnR5cGUpe3ZhciBnPVtdLGg9ZC5nZXQoXCJ2YWx1ZVVwZGF0ZVwiKSxtPSExLGs9bnVsbDtoJiYoXCJzdHJpbmdcIj09dHlwZW9mIGg/Zz1baF06Zz1hLmEud2MoaCksYS5hLlBhKGcsXCJjaGFuZ2VcIikpO3ZhciBsPWZ1bmN0aW9uKCl7az1udWxsO209ITE7dmFyIGU9YygpLGY9YS53Lk0oYik7YS5tLmViKGUsZCxcInZhbHVlXCIsZil9OyFhLmEuV3x8IWZ8fFwidGV4dFwiIT1iLnR5cGV8fFwib2ZmXCI9PWIuYXV0b2NvbXBsZXRlfHxiLmZvcm0mJlwib2ZmXCI9PWIuZm9ybS5hdXRvY29tcGxldGV8fC0xIT1hLmEuQShnLFwicHJvcGVydHljaGFuZ2VcIil8fChhLmEuQihiLFwicHJvcGVydHljaGFuZ2VcIixmdW5jdGlvbigpe209ITB9KSxhLmEuQihiLFwiZm9jdXNcIixmdW5jdGlvbigpe209ITF9KSxhLmEuQihiLFwiYmx1clwiLGZ1bmN0aW9uKCl7bSYmbCgpfSkpO2EuYS5EKGcsZnVuY3Rpb24oYyl7dmFyIGQ9bDthLmEuVWQoYyxcImFmdGVyXCIpJiZcbihkPWZ1bmN0aW9uKCl7az1hLncuTShiKTthLmEuc2V0VGltZW91dChsLDApfSxjPWMuc3Vic3RyaW5nKDUpKTthLmEuQihiLGMsZCl9KTt2YXIgcDtwPWYmJlwiZmlsZVwiPT1iLnR5cGU/ZnVuY3Rpb24oKXt2YXIgZD1hLmEuZihjKCkpO251bGw9PT1kfHxkPT09bnx8XCJcIj09PWQ/Yi52YWx1ZT1cIlwiOmEudS5HKGwpfTpmdW5jdGlvbigpe3ZhciBmPWEuYS5mKGMoKSksZz1hLncuTShiKTtpZihudWxsIT09ayYmZj09PWspYS5hLnNldFRpbWVvdXQocCwwKTtlbHNlIGlmKGYhPT1nfHxnPT09bilcInNlbGVjdFwiPT09ZT8oZz1kLmdldChcInZhbHVlQWxsb3dVbnNldFwiKSxhLncuY2IoYixmLGcpLGd8fGY9PT1hLncuTShiKXx8YS51LkcobCkpOmEudy5jYihiLGYpfTtpZihcInNlbGVjdFwiPT09ZSl7dmFyIHE7YS5pLnN1YnNjcmliZShiLGEuaS5ILGZ1bmN0aW9uKCl7cT9kLmdldChcInZhbHVlQWxsb3dVbnNldFwiKT9wKCk6bCgpOihhLmEuQihiLFwiY2hhbmdlXCIsbCkscT1hLm8ocCxudWxsLHtsOmJ9KSl9LFxubnVsbCx7bm90aWZ5SW1tZWRpYXRlbHk6ITB9KX1lbHNlIGEuYS5CKGIsXCJjaGFuZ2VcIixsKSxhLm8ocCxudWxsLHtsOmJ9KX1lbHNlIGEuaWIoYix7Y2hlY2tlZFZhbHVlOmN9KX0sdXBkYXRlOmZ1bmN0aW9uKCl7fX07YS5tLndhLnZhbHVlPSEwO2EuYy52aXNpYmxlPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuZihjKCkpLGU9XCJub25lXCIhPWIuc3R5bGUuZGlzcGxheTtkJiYhZT9iLnN0eWxlLmRpc3BsYXk9XCJcIjohZCYmZSYmKGIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIil9fTthLmMuaGlkZGVuPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXthLmMudmlzaWJsZS51cGRhdGUoYixmdW5jdGlvbigpe3JldHVybiFhLmEuZihjKCkpfSl9fTsoZnVuY3Rpb24oYil7YS5jW2JdPXtpbml0OmZ1bmN0aW9uKGMsZCxlLGYsZyl7cmV0dXJuIGEuYy5ldmVudC5pbml0LmNhbGwodGhpcyxjLGZ1bmN0aW9uKCl7dmFyIGE9e307YVtiXT1kKCk7cmV0dXJuIGF9LGUsZixnKX19fSkoXCJjbGlja1wiKTtcbmEuY2E9ZnVuY3Rpb24oKXt9O2EuY2EucHJvdG90eXBlLnJlbmRlclRlbXBsYXRlU291cmNlPWZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoXCJPdmVycmlkZSByZW5kZXJUZW1wbGF0ZVNvdXJjZVwiKTt9O2EuY2EucHJvdG90eXBlLmNyZWF0ZUphdmFTY3JpcHRFdmFsdWF0b3JCbG9jaz1mdW5jdGlvbigpe3Rocm93IEVycm9yKFwiT3ZlcnJpZGUgY3JlYXRlSmF2YVNjcmlwdEV2YWx1YXRvckJsb2NrXCIpO307YS5jYS5wcm90b3R5cGUubWFrZVRlbXBsYXRlU291cmNlPWZ1bmN0aW9uKGIsYyl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpe2M9Y3x8dzt2YXIgZD1jLmdldEVsZW1lbnRCeUlkKGIpO2lmKCFkKXRocm93IEVycm9yKFwiQ2Fubm90IGZpbmQgdGVtcGxhdGUgd2l0aCBJRCBcIitiKTtyZXR1cm4gbmV3IGEuQy5GKGQpfWlmKDE9PWIubm9kZVR5cGV8fDg9PWIubm9kZVR5cGUpcmV0dXJuIG5ldyBhLkMuaWEoYik7dGhyb3cgRXJyb3IoXCJVbmtub3duIHRlbXBsYXRlIHR5cGU6IFwiK2IpO307YS5jYS5wcm90b3R5cGUucmVuZGVyVGVtcGxhdGU9XG5mdW5jdGlvbihhLGMsZCxlKXthPXRoaXMubWFrZVRlbXBsYXRlU291cmNlKGEsZSk7cmV0dXJuIHRoaXMucmVuZGVyVGVtcGxhdGVTb3VyY2UoYSxjLGQsZSl9O2EuY2EucHJvdG90eXBlLmlzVGVtcGxhdGVSZXdyaXR0ZW49ZnVuY3Rpb24oYSxjKXtyZXR1cm4hMT09PXRoaXMuYWxsb3dUZW1wbGF0ZVJld3JpdGluZz8hMDp0aGlzLm1ha2VUZW1wbGF0ZVNvdXJjZShhLGMpLmRhdGEoXCJpc1Jld3JpdHRlblwiKX07YS5jYS5wcm90b3R5cGUucmV3cml0ZVRlbXBsYXRlPWZ1bmN0aW9uKGEsYyxkKXthPXRoaXMubWFrZVRlbXBsYXRlU291cmNlKGEsZCk7Yz1jKGEudGV4dCgpKTthLnRleHQoYyk7YS5kYXRhKFwiaXNSZXdyaXR0ZW5cIiwhMCl9O2EuYihcInRlbXBsYXRlRW5naW5lXCIsYS5jYSk7YS5rYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixjLGQsaCl7Yj1hLm0uYWMoYik7Zm9yKHZhciBtPWEubS5SYSxrPTA7azxiLmxlbmd0aDtrKyspe3ZhciBsPWJba10ua2V5O2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtLFxubCkpe3ZhciBwPW1bbF07aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIHApe2lmKGw9cChiW2tdLnZhbHVlKSl0aHJvdyBFcnJvcihsKTt9ZWxzZSBpZighcCl0aHJvdyBFcnJvcihcIlRoaXMgdGVtcGxhdGUgZW5naW5lIGRvZXMgbm90IHN1cHBvcnQgdGhlICdcIitsK1wiJyBiaW5kaW5nIHdpdGhpbiBpdHMgdGVtcGxhdGVzXCIpO319ZD1cImtvLl9fdHJfYW1idG5zKGZ1bmN0aW9uKCRjb250ZXh0LCRlbGVtZW50KXtyZXR1cm4oZnVuY3Rpb24oKXtyZXR1cm57IFwiK2EubS52YihiLHt2YWx1ZUFjY2Vzc29yczohMH0pK1wiIH0gfSkoKX0sJ1wiK2QudG9Mb3dlckNhc2UoKStcIicpXCI7cmV0dXJuIGguY3JlYXRlSmF2YVNjcmlwdEV2YWx1YXRvckJsb2NrKGQpK2N9dmFyIGM9Lyg8KFthLXpdK1xcZCopKD86XFxzKyg/IWRhdGEtYmluZFxccyo9XFxzKilbYS16MC05XFwtXSsoPzo9KD86XFxcIlteXFxcIl0qXFxcInxcXCdbXlxcJ10qXFwnfFtePl0qKSk/KSpcXHMrKWRhdGEtYmluZFxccyo9XFxzKihbXCInXSkoW1xcc1xcU10qPylcXDMvZ2ksXG5kPS9cXHgzYyEtLVxccyprb1xcYlxccyooW1xcc1xcU10qPylcXHMqLS1cXHgzZS9nO3JldHVybnt4ZDpmdW5jdGlvbihiLGMsZCl7Yy5pc1RlbXBsYXRlUmV3cml0dGVuKGIsZCl8fGMucmV3cml0ZVRlbXBsYXRlKGIsZnVuY3Rpb24oYil7cmV0dXJuIGEua2MuTGQoYixjKX0sZCl9LExkOmZ1bmN0aW9uKGEsZil7cmV0dXJuIGEucmVwbGFjZShjLGZ1bmN0aW9uKGEsYyxkLGUsbCl7cmV0dXJuIGIobCxjLGQsZil9KS5yZXBsYWNlKGQsZnVuY3Rpb24oYSxjKXtyZXR1cm4gYihjLFwiXFx4M2MhLS0ga28gLS1cXHgzZVwiLFwiI2NvbW1lbnRcIixmKX0pfSxtZDpmdW5jdGlvbihiLGMpe3JldHVybiBhLmFhLlhiKGZ1bmN0aW9uKGQsaCl7dmFyIG09ZC5uZXh0U2libGluZzttJiZtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1jJiZhLmliKG0sYixoKX0pfX19KCk7YS5iKFwiX190cl9hbWJ0bnNcIixhLmtjLm1kKTsoZnVuY3Rpb24oKXthLkM9e307YS5DLkY9ZnVuY3Rpb24oYil7aWYodGhpcy5GPWIpe3ZhciBjPVxuYS5hLlIoYik7dGhpcy5hYj1cInNjcmlwdFwiPT09Yz8xOlwidGV4dGFyZWFcIj09PWM/MjpcInRlbXBsYXRlXCI9PWMmJmIuY29udGVudCYmMTE9PT1iLmNvbnRlbnQubm9kZVR5cGU/Mzo0fX07YS5DLkYucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oKXt2YXIgYj0xPT09dGhpcy5hYj9cInRleHRcIjoyPT09dGhpcy5hYj9cInZhbHVlXCI6XCJpbm5lckhUTUxcIjtpZigwPT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLkZbYl07dmFyIGM9YXJndW1lbnRzWzBdO1wiaW5uZXJIVE1MXCI9PT1iP2EuYS5mYyh0aGlzLkYsYyk6dGhpcy5GW2JdPWN9O3ZhciBiPWEuYS5nLlooKStcIl9cIjthLkMuRi5wcm90b3R5cGUuZGF0YT1mdW5jdGlvbihjKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gYS5hLmcuZ2V0KHRoaXMuRixiK2MpO2EuYS5nLnNldCh0aGlzLkYsYitjLGFyZ3VtZW50c1sxXSl9O3ZhciBjPWEuYS5nLlooKTthLkMuRi5wcm90b3R5cGUubm9kZXM9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLkY7XG5pZigwPT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hLmEuZy5nZXQoYixjKXx8e30sZj1lLmxifHwoMz09PXRoaXMuYWI/Yi5jb250ZW50OjQ9PT10aGlzLmFiP2I6bik7aWYoIWZ8fGUuamQpe3ZhciBnPXRoaXMudGV4dCgpO2cmJmchPT1lLmJiJiYoZj1hLmEuTWQoZyxiLm93bmVyRG9jdW1lbnQpLGEuYS5nLnNldChiLGMse2xiOmYsYmI6ZyxqZDohMH0pKX1yZXR1cm4gZn1lPWFyZ3VtZW50c1swXTt0aGlzLmFiIT09biYmdGhpcy50ZXh0KFwiXCIpO2EuYS5nLnNldChiLGMse2xiOmV9KX07YS5DLmlhPWZ1bmN0aW9uKGEpe3RoaXMuRj1hfTthLkMuaWEucHJvdG90eXBlPW5ldyBhLkMuRjthLkMuaWEucHJvdG90eXBlLmNvbnN0cnVjdG9yPWEuQy5pYTthLkMuaWEucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oKXtpZigwPT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgYj1hLmEuZy5nZXQodGhpcy5GLGMpfHx7fTtiLmJiPT09biYmYi5sYiYmKGIuYmI9Yi5sYi5pbm5lckhUTUwpO3JldHVybiBiLmJifWEuYS5nLnNldCh0aGlzLkYsXG5jLHtiYjphcmd1bWVudHNbMF19KX07YS5iKFwidGVtcGxhdGVTb3VyY2VzXCIsYS5DKTthLmIoXCJ0ZW1wbGF0ZVNvdXJjZXMuZG9tRWxlbWVudFwiLGEuQy5GKTthLmIoXCJ0ZW1wbGF0ZVNvdXJjZXMuYW5vbnltb3VzVGVtcGxhdGVcIixhLkMuaWEpfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsYyxkKXt2YXIgZTtmb3IoYz1hLmgubmV4dFNpYmxpbmcoYyk7YiYmKGU9YikhPT1jOyliPWEuaC5uZXh0U2libGluZyhlKSxkKGUsYil9ZnVuY3Rpb24gYyhjLGQpe2lmKGMubGVuZ3RoKXt2YXIgZT1jWzBdLGY9Y1tjLmxlbmd0aC0xXSxnPWUucGFyZW50Tm9kZSxoPWEuZ2EuaW5zdGFuY2UsbT1oLnByZXByb2Nlc3NOb2RlO2lmKG0pe2IoZSxmLGZ1bmN0aW9uKGEsYil7dmFyIGM9YS5wcmV2aW91c1NpYmxpbmcsZD1tLmNhbGwoaCxhKTtkJiYoYT09PWUmJihlPWRbMF18fGIpLGE9PT1mJiYoZj1kW2QubGVuZ3RoLTFdfHxjKSl9KTtjLmxlbmd0aD0wO2lmKCFlKXJldHVybjtlPT09Zj9jLnB1c2goZSk6XG4oYy5wdXNoKGUsZiksYS5hLlVhKGMsZykpfWIoZSxmLGZ1bmN0aW9uKGIpezEhPT1iLm5vZGVUeXBlJiY4IT09Yi5ub2RlVHlwZXx8YS52YyhkLGIpfSk7YihlLGYsZnVuY3Rpb24oYil7MSE9PWIubm9kZVR5cGUmJjghPT1iLm5vZGVUeXBlfHxhLmFhLmNkKGIsW2RdKX0pO2EuYS5VYShjLGcpfX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLm5vZGVUeXBlP2E6MDxhLmxlbmd0aD9hWzBdOm51bGx9ZnVuY3Rpb24gZShiLGUsZixoLG0pe209bXx8e307dmFyIG49KGImJmQoYil8fGZ8fHt9KS5vd25lckRvY3VtZW50LEI9bS50ZW1wbGF0ZUVuZ2luZXx8ZzthLmtjLnhkKGYsQixuKTtmPUIucmVuZGVyVGVtcGxhdGUoZixoLG0sbik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGYubGVuZ3RofHwwPGYubGVuZ3RoJiZcIm51bWJlclwiIT10eXBlb2YgZlswXS5ub2RlVHlwZSl0aHJvdyBFcnJvcihcIlRlbXBsYXRlIGVuZ2luZSBtdXN0IHJldHVybiBhbiBhcnJheSBvZiBET00gbm9kZXNcIik7bj0hMTtzd2l0Y2goZSl7Y2FzZSBcInJlcGxhY2VDaGlsZHJlblwiOmEuaC52YShiLFxuZik7bj0hMDticmVhaztjYXNlIFwicmVwbGFjZU5vZGVcIjphLmEuWGMoYixmKTtuPSEwO2JyZWFrO2Nhc2UgXCJpZ25vcmVUYXJnZXROb2RlXCI6YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVua25vd24gcmVuZGVyTW9kZTogXCIrZSk7fW4mJihjKGYsaCksbS5hZnRlclJlbmRlciYmYS51LkcobS5hZnRlclJlbmRlcixudWxsLFtmLGhbbS5hc3x8XCIkZGF0YVwiXV0pLFwicmVwbGFjZUNoaWxkcmVuXCI9PWUmJmEuaS5tYShiLGEuaS5IKSk7cmV0dXJuIGZ9ZnVuY3Rpb24gZihiLGMsZCl7cmV0dXJuIGEuTyhiKT9iKCk6XCJmdW5jdGlvblwiPT09dHlwZW9mIGI/YihjLGQpOmJ9dmFyIGc7YS5nYz1mdW5jdGlvbihiKXtpZihiIT1uJiYhKGIgaW5zdGFuY2VvZiBhLmNhKSl0aHJvdyBFcnJvcihcInRlbXBsYXRlRW5naW5lIG11c3QgaW5oZXJpdCBmcm9tIGtvLnRlbXBsYXRlRW5naW5lXCIpO2c9Yn07YS5kYz1mdW5jdGlvbihiLGMsaCxtLHQpe2g9aHx8e307aWYoKGgudGVtcGxhdGVFbmdpbmV8fGcpPT1cbm4pdGhyb3cgRXJyb3IoXCJTZXQgYSB0ZW1wbGF0ZSBlbmdpbmUgYmVmb3JlIGNhbGxpbmcgcmVuZGVyVGVtcGxhdGVcIik7dD10fHxcInJlcGxhY2VDaGlsZHJlblwiO2lmKG0pe3ZhciB4PWQobSk7cmV0dXJuIGEuJChmdW5jdGlvbigpe3ZhciBnPWMmJmMgaW5zdGFuY2VvZiBhLmZhP2M6bmV3IGEuZmEoYyxudWxsLG51bGwsbnVsbCx7ZXhwb3J0RGVwZW5kZW5jaWVzOiEwfSksbj1mKGIsZy4kZGF0YSxnKSxnPWUobSx0LG4sZyxoKTtcInJlcGxhY2VOb2RlXCI9PXQmJihtPWcseD1kKG0pKX0sbnVsbCx7U2E6ZnVuY3Rpb24oKXtyZXR1cm4heHx8IWEuYS5TYih4KX0sbDp4JiZcInJlcGxhY2VOb2RlXCI9PXQ/eC5wYXJlbnROb2RlOnh9KX1yZXR1cm4gYS5hYS5YYihmdW5jdGlvbihkKXthLmRjKGIsYyxoLGQsXCJyZXBsYWNlTm9kZVwiKX0pfTthLlFkPWZ1bmN0aW9uKGIsZCxnLGgsbSl7ZnVuY3Rpb24geChiLGMpe2EudS5HKGEuYS5lYyxudWxsLFtoLGIsdSxnLHIsY10pO2EuaS5tYShoLGEuaS5IKX1cbmZ1bmN0aW9uIHIoYSxiKXtjKGIsdik7Zy5hZnRlclJlbmRlciYmZy5hZnRlclJlbmRlcihiLGEpO3Y9bnVsbH1mdW5jdGlvbiB1KGEsYyl7dj1tLmNyZWF0ZUNoaWxkQ29udGV4dChhLHthczp6LG5vQ2hpbGRDb250ZXh0Omcubm9DaGlsZENvbnRleHQsZXh0ZW5kOmZ1bmN0aW9uKGEpe2EuJGluZGV4PWM7eiYmKGFbeitcIkluZGV4XCJdPWMpfX0pO3ZhciBkPWYoYixhLHYpO3JldHVybiBlKGgsXCJpZ25vcmVUYXJnZXROb2RlXCIsZCx2LGcpfXZhciB2LHo9Zy5hcyx3PSExPT09Zy5pbmNsdWRlRGVzdHJveWVkfHxhLm9wdGlvbnMuZm9yZWFjaEhpZGVzRGVzdHJveWVkJiYhZy5pbmNsdWRlRGVzdHJveWVkO2lmKHd8fGcuYmVmb3JlUmVtb3ZlfHwhYS5QYyhkKSlyZXR1cm4gYS4kKGZ1bmN0aW9uKCl7dmFyIGI9YS5hLmYoZCl8fFtdO1widW5kZWZpbmVkXCI9PXR5cGVvZiBiLmxlbmd0aCYmKGI9W2JdKTt3JiYoYj1hLmEuamIoYixmdW5jdGlvbihiKXtyZXR1cm4gYj09PW58fG51bGw9PT1ifHxcbiFhLmEuZihiLl9kZXN0cm95KX0pKTt4KGIpfSxudWxsLHtsOmh9KTt4KGQudigpKTt2YXIgQT1kLnN1YnNjcmliZShmdW5jdGlvbihhKXt4KGQoKSxhKX0sbnVsbCxcImFycmF5Q2hhbmdlXCIpO0EubChoKTtyZXR1cm4gQX07dmFyIGg9YS5hLmcuWigpLG09YS5hLmcuWigpO2EuYy50ZW1wbGF0ZT17aW5pdDpmdW5jdGlvbihiLGMpe3ZhciBkPWEuYS5mKGMoKSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGR8fFwibmFtZVwiaW4gZClhLmguRWEoYik7ZWxzZSBpZihcIm5vZGVzXCJpbiBkKXtkPWQubm9kZXN8fFtdO2lmKGEuTyhkKSl0aHJvdyBFcnJvcignVGhlIFwibm9kZXNcIiBvcHRpb24gbXVzdCBiZSBhIHBsYWluLCBub24tb2JzZXJ2YWJsZSBhcnJheS4nKTt2YXIgZT1kWzBdJiZkWzBdLnBhcmVudE5vZGU7ZSYmYS5hLmcuZ2V0KGUsbSl8fChlPWEuYS5ZYihkKSxhLmEuZy5zZXQoZSxtLCEwKSk7KG5ldyBhLkMuaWEoYikpLm5vZGVzKGUpfWVsc2UgaWYoZD1hLmguY2hpbGROb2RlcyhiKSwwPGQubGVuZ3RoKWU9XG5hLmEuWWIoZCksKG5ldyBhLkMuaWEoYikpLm5vZGVzKGUpO2Vsc2UgdGhyb3cgRXJyb3IoXCJBbm9ueW1vdXMgdGVtcGxhdGUgZGVmaW5lZCwgYnV0IG5vIHRlbXBsYXRlIGNvbnRlbnQgd2FzIHByb3ZpZGVkXCIpO3JldHVybntjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19LHVwZGF0ZTpmdW5jdGlvbihiLGMsZCxlLGYpe3ZhciBnPWMoKTtjPWEuYS5mKGcpO2Q9ITA7ZT1udWxsO1wic3RyaW5nXCI9PXR5cGVvZiBjP2M9e306KGc9XCJuYW1lXCJpbiBjP2MubmFtZTpiLFwiaWZcImluIGMmJihkPWEuYS5mKGNbXCJpZlwiXSkpLGQmJlwiaWZub3RcImluIGMmJihkPSFhLmEuZihjLmlmbm90KSksZCYmIWcmJihkPSExKSk7XCJmb3JlYWNoXCJpbiBjP2U9YS5RZChnLGQmJmMuZm9yZWFjaHx8W10sYyxiLGYpOmQ/KGQ9ZixcImRhdGFcImluIGMmJihkPWYuY3JlYXRlQ2hpbGRDb250ZXh0KGMuZGF0YSx7YXM6Yy5hcyxub0NoaWxkQ29udGV4dDpjLm5vQ2hpbGRDb250ZXh0LGV4cG9ydERlcGVuZGVuY2llczohMH0pKSxcbmU9YS5kYyhnLGQsYyxiKSk6YS5oLkVhKGIpO2Y9ZTsoYz1hLmEuZy5nZXQoYixoKSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGMucyYmYy5zKCk7YS5hLmcuc2V0KGIsaCwhZnx8Zi5qYSYmIWYuamEoKT9uOmYpfX07YS5tLlJhLnRlbXBsYXRlPWZ1bmN0aW9uKGIpe2I9YS5tLmFjKGIpO3JldHVybiAxPT1iLmxlbmd0aCYmYlswXS51bmtub3dufHxhLm0uSWQoYixcIm5hbWVcIik/bnVsbDpcIlRoaXMgdGVtcGxhdGUgZW5naW5lIGRvZXMgbm90IHN1cHBvcnQgYW5vbnltb3VzIHRlbXBsYXRlcyBuZXN0ZWQgd2l0aGluIGl0cyB0ZW1wbGF0ZXNcIn07YS5oLmVhLnRlbXBsYXRlPSEwfSkoKTthLmIoXCJzZXRUZW1wbGF0ZUVuZ2luZVwiLGEuZ2MpO2EuYihcInJlbmRlclRlbXBsYXRlXCIsYS5kYyk7YS5hLktjPWZ1bmN0aW9uKGEsYyxkKXtpZihhLmxlbmd0aCYmYy5sZW5ndGgpe3ZhciBlLGYsZyxoLG07Zm9yKGU9Zj0wOyghZHx8ZTxkKSYmKGg9YVtmXSk7KytmKXtmb3IoZz0wO209Y1tnXTsrK2cpaWYoaC52YWx1ZT09PVxubS52YWx1ZSl7aC5tb3ZlZD1tLmluZGV4O20ubW92ZWQ9aC5pbmRleDtjLnNwbGljZShnLDEpO2U9Zz0wO2JyZWFrfWUrPWd9fX07YS5hLlBiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiLGQsZSxmLGcpe3ZhciBoPU1hdGgubWluLG09TWF0aC5tYXgsaz1bXSxsLHA9Yi5sZW5ndGgscSxuPWQubGVuZ3RoLHI9bi1wfHwxLHY9cCtuKzEsdSx3LHo7Zm9yKGw9MDtsPD1wO2wrKylmb3Iodz11LGsucHVzaCh1PVtdKSx6PWgobixsK3IpLHE9bSgwLGwtMSk7cTw9ejtxKyspdVtxXT1xP2w/YltsLTFdPT09ZFtxLTFdP3dbcS0xXTpoKHdbcV18fHYsdVtxLTFdfHx2KSsxOnErMTpsKzE7aD1bXTttPVtdO3I9W107bD1wO2ZvcihxPW47bHx8cTspbj1rW2xdW3FdLTEscSYmbj09PWtbbF1bcS0xXT9tLnB1c2goaFtoLmxlbmd0aF09e3N0YXR1czplLHZhbHVlOmRbLS1xXSxpbmRleDpxfSk6bCYmbj09PWtbbC0xXVtxXT9yLnB1c2goaFtoLmxlbmd0aF09e3N0YXR1czpmLHZhbHVlOmJbLS1sXSxpbmRleDpsfSk6XG4oLS1xLC0tbCxnLnNwYXJzZXx8aC5wdXNoKHtzdGF0dXM6XCJyZXRhaW5lZFwiLHZhbHVlOmRbcV19KSk7YS5hLktjKHIsbSwhZy5kb250TGltaXRNb3ZlcyYmMTAqcCk7cmV0dXJuIGgucmV2ZXJzZSgpfXJldHVybiBmdW5jdGlvbihhLGQsZSl7ZT1cImJvb2xlYW5cIj09PXR5cGVvZiBlP3tkb250TGltaXRNb3ZlczplfTplfHx7fTthPWF8fFtdO2Q9ZHx8W107cmV0dXJuIGEubGVuZ3RoPGQubGVuZ3RoP2IoYSxkLFwiYWRkZWRcIixcImRlbGV0ZWRcIixlKTpiKGQsYSxcImRlbGV0ZWRcIixcImFkZGVkXCIsZSl9fSgpO2EuYihcInV0aWxzLmNvbXBhcmVBcnJheXNcIixhLmEuUGIpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixjLGQsaCxtKXt2YXIgaz1bXSxsPWEuJChmdW5jdGlvbigpe3ZhciBsPWMoZCxtLGEuYS5VYShrLGIpKXx8W107MDxrLmxlbmd0aCYmKGEuYS5YYyhrLGwpLGgmJmEudS5HKGgsbnVsbCxbZCxsLG1dKSk7ay5sZW5ndGg9MDthLmEuTmIoayxsKX0sbnVsbCx7bDpiLFNhOmZ1bmN0aW9uKCl7cmV0dXJuIWEuYS5rZChrKX19KTtcbnJldHVybntZOmssJDpsLmphKCk/bDpufX12YXIgYz1hLmEuZy5aKCksZD1hLmEuZy5aKCk7YS5hLmVjPWZ1bmN0aW9uKGUsZixnLGgsbSxrKXtmdW5jdGlvbiBsKGIpe3k9e0FhOmIscGI6YS50YSh3KyspfTt2LnB1c2goeSk7cnx8Ri5wdXNoKHkpfWZ1bmN0aW9uIHAoYil7eT10W2JdO3chPT15LnBiLnYoKSYmRC5wdXNoKHkpO3kucGIodysrKTthLmEuVWEoeS5ZLGUpO3YucHVzaCh5KX1mdW5jdGlvbiBxKGIsYyl7aWYoYilmb3IodmFyIGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspYS5hLkQoY1tkXS5ZLGZ1bmN0aW9uKGEpe2IoYSxkLGNbZF0uQWEpfSl9Zj1mfHxbXTtcInVuZGVmaW5lZFwiPT10eXBlb2YgZi5sZW5ndGgmJihmPVtmXSk7aD1ofHx7fTt2YXIgdD1hLmEuZy5nZXQoZSxjKSxyPSF0LHY9W10sdT0wLHc9MCx6PVtdLEE9W10sQz1bXSxEPVtdLEY9W10seSxJPTA7aWYocilhLmEuRChmLGwpO2Vsc2V7aWYoIWt8fHQmJnQuX2NvdW50V2FpdGluZ0ZvclJlbW92ZSl7dmFyIEU9XG5hLmEuTWIodCxmdW5jdGlvbihhKXtyZXR1cm4gYS5BYX0pO2s9YS5hLlBiKEUsZix7ZG9udExpbWl0TW92ZXM6aC5kb250TGltaXRNb3ZlcyxzcGFyc2U6ITB9KX1mb3IodmFyIEU9MCxHLEgsSztHPWtbRV07RSsrKXN3aXRjaChIPUcubW92ZWQsSz1HLmluZGV4LEcuc3RhdHVzKXtjYXNlIFwiZGVsZXRlZFwiOmZvcig7dTxLOylwKHUrKyk7SD09PW4mJih5PXRbdV0seS4kJiYoeS4kLnMoKSx5LiQ9biksYS5hLlVhKHkuWSxlKS5sZW5ndGgmJihoLmJlZm9yZVJlbW92ZSYmKHYucHVzaCh5KSxJKysseS5BYT09PWQ/eT1udWxsOkMucHVzaCh5KSkseSYmei5wdXNoLmFwcGx5KHoseS5ZKSkpO3UrKzticmVhaztjYXNlIFwiYWRkZWRcIjpmb3IoO3c8SzspcCh1KyspO0ghPT1uPyhBLnB1c2godi5sZW5ndGgpLHAoSCkpOmwoRy52YWx1ZSl9Zm9yKDt3PGYubGVuZ3RoOylwKHUrKyk7di5fY291bnRXYWl0aW5nRm9yUmVtb3ZlPUl9YS5hLmcuc2V0KGUsYyx2KTtxKGguYmVmb3JlTW92ZSxEKTthLmEuRCh6LFxuaC5iZWZvcmVSZW1vdmU/YS5vYTphLnJlbW92ZU5vZGUpO3ZhciBNLE8sUDt0cnl7UD1lLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudH1jYXRjaChOKXt9aWYoQS5sZW5ndGgpZm9yKDsoRT1BLnNoaWZ0KCkpIT1uOyl7eT12W0VdO2ZvcihNPW47RTspaWYoKE89dlstLUVdLlkpJiZPLmxlbmd0aCl7TT1PW08ubGVuZ3RoLTFdO2JyZWFrfWZvcihmPTA7dT15LllbZl07TT11LGYrKylhLmguV2IoZSx1LE0pfWZvcihFPTA7eT12W0VdO0UrKyl7eS5ZfHxhLmEuZXh0ZW5kKHksYihlLGcseS5BYSxtLHkucGIpKTtmb3IoZj0wO3U9eS5ZW2ZdO009dSxmKyspYS5oLldiKGUsdSxNKTsheS5FZCYmbSYmKG0oeS5BYSx5LlkseS5wYikseS5FZD0hMCxNPXkuWVt5LlkubGVuZ3RoLTFdKX1QJiZlLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9UCYmUC5mb2N1cygpO3EoaC5iZWZvcmVSZW1vdmUsQyk7Zm9yKEU9MDtFPEMubGVuZ3RoOysrRSlDW0VdLkFhPWQ7cShoLmFmdGVyTW92ZSxEKTtcbnEoaC5hZnRlckFkZCxGKX19KSgpO2EuYihcInV0aWxzLnNldERvbU5vZGVDaGlsZHJlbkZyb21BcnJheU1hcHBpbmdcIixhLmEuZWMpO2EuYmE9ZnVuY3Rpb24oKXt0aGlzLmFsbG93VGVtcGxhdGVSZXdyaXRpbmc9ITF9O2EuYmEucHJvdG90eXBlPW5ldyBhLmNhO2EuYmEucHJvdG90eXBlLmNvbnN0cnVjdG9yPWEuYmE7YS5iYS5wcm90b3R5cGUucmVuZGVyVGVtcGxhdGVTb3VyY2U9ZnVuY3Rpb24oYixjLGQsZSl7aWYoYz0oOT5hLmEuVz8wOmIubm9kZXMpP2Iubm9kZXMoKTpudWxsKXJldHVybiBhLmEubGEoYy5jbG9uZU5vZGUoITApLmNoaWxkTm9kZXMpO2I9Yi50ZXh0KCk7cmV0dXJuIGEuYS51YShiLGUpfTthLmJhLk1hPW5ldyBhLmJhO2EuZ2MoYS5iYS5NYSk7YS5iKFwibmF0aXZlVGVtcGxhdGVFbmdpbmVcIixhLmJhKTsoZnVuY3Rpb24oKXthLiRhPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5IZD1mdW5jdGlvbigpe2lmKCF2fHwhdi50bXBsKXJldHVybiAwO3RyeXtpZigwPD12LnRtcGwudGFnLnRtcGwub3Blbi50b1N0cmluZygpLmluZGV4T2YoXCJfX1wiKSlyZXR1cm4gMn1jYXRjaChhKXt9cmV0dXJuIDF9KCk7XG50aGlzLnJlbmRlclRlbXBsYXRlU291cmNlPWZ1bmN0aW9uKGIsZSxmLGcpe2c9Z3x8dztmPWZ8fHt9O2lmKDI+YSl0aHJvdyBFcnJvcihcIllvdXIgdmVyc2lvbiBvZiBqUXVlcnkudG1wbCBpcyB0b28gb2xkLiBQbGVhc2UgdXBncmFkZSB0byBqUXVlcnkudG1wbCAxLjAuMHByZSBvciBsYXRlci5cIik7dmFyIGg9Yi5kYXRhKFwicHJlY29tcGlsZWRcIik7aHx8KGg9Yi50ZXh0KCl8fFwiXCIsaD12LnRlbXBsYXRlKG51bGwsXCJ7e2tvX3dpdGggJGl0ZW0ua29CaW5kaW5nQ29udGV4dH19XCIraCtcInt7L2tvX3dpdGh9fVwiKSxiLmRhdGEoXCJwcmVjb21waWxlZFwiLGgpKTtiPVtlLiRkYXRhXTtlPXYuZXh0ZW5kKHtrb0JpbmRpbmdDb250ZXh0OmV9LGYudGVtcGxhdGVPcHRpb25zKTtlPXYudG1wbChoLGIsZSk7ZS5hcHBlbmRUbyhnLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO3YuZnJhZ21lbnRzPXt9O3JldHVybiBlfTt0aGlzLmNyZWF0ZUphdmFTY3JpcHRFdmFsdWF0b3JCbG9jaz1mdW5jdGlvbihhKXtyZXR1cm5cInt7a29fY29kZSAoKGZ1bmN0aW9uKCkgeyByZXR1cm4gXCIrXG5hK1wiIH0pKCkpIH19XCJ9O3RoaXMuYWRkVGVtcGxhdGU9ZnVuY3Rpb24oYSxiKXt3LndyaXRlKFwiPHNjcmlwdCB0eXBlPSd0ZXh0L2h0bWwnIGlkPSdcIithK1wiJz5cIitiK1wiXFx4M2Mvc2NyaXB0PlwiKX07MDxhJiYodi50bXBsLnRhZy5rb19jb2RlPXtvcGVuOlwiX18ucHVzaCgkMSB8fCAnJyk7XCJ9LHYudG1wbC50YWcua29fd2l0aD17b3BlbjpcIndpdGgoJDEpIHtcIixjbG9zZTpcIn0gXCJ9KX07YS4kYS5wcm90b3R5cGU9bmV3IGEuY2E7YS4kYS5wcm90b3R5cGUuY29uc3RydWN0b3I9YS4kYTt2YXIgYj1uZXcgYS4kYTswPGIuSGQmJmEuZ2MoYik7YS5iKFwianF1ZXJ5VG1wbFRlbXBsYXRlRW5naW5lXCIsYS4kYSl9KSgpfSl9KSgpO30pKCk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBDb25zdGFudHNcbiAqL1xuXG4vKipcbiAqIERlYnVnIGZsYWcuXG4gKi9cbmV4cG9ydCBsZXQgaXNEZWJ1ZzogYm9vbGVhbiA9IGZhbHNlO1xuZXhwb3J0IGZ1bmN0aW9uIHNldERlYnVnKHZhbHVlOiBib29sZWFuKTogdm9pZCB7XG4gIGlzRGVidWcgPSB2YWx1ZTtcbn1cblxuLyoqXG4gKiBQYWdlIHByb2dyZXNzaW9uIGRpcmVjdGlvbi5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIFBhZ2VQcm9ncmVzc2lvbiB7XG4gIExUUiA9IFwibHRyXCIsXG4gIFJUTCA9IFwicnRsXCIsXG59XG5cbi8qKlxuICogUmV0dXJuIFBhZ2VQcm9ncmVzc2lvbiBjb3JyZXNwb25kaW5nIHRvIHRoZSBzcGVjaWZpZWQgc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYWdlUHJvZ3Jlc3Npb25PZihzdHI6IHN0cmluZyk6IFBhZ2VQcm9ncmVzc2lvbiB7XG4gIHN3aXRjaCAoc3RyKSB7XG4gICAgY2FzZSBcImx0clwiOlxuICAgICAgcmV0dXJuIFBhZ2VQcm9ncmVzc2lvbi5MVFI7XG4gICAgY2FzZSBcInJ0bFwiOlxuICAgICAgcmV0dXJuIFBhZ2VQcm9ncmVzc2lvbi5SVEw7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgdW5rbm93biBQYWdlUHJvZ3Jlc3Npb246ICR7c3RyfWApO1xuICB9XG59XG5cbi8qKlxuICogUGFnZSBzaWRlIChsZWZ0L3JpZ2h0KS5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIFBhZ2VTaWRlIHtcbiAgTEVGVCA9IFwibGVmdFwiLFxuICBSSUdIVCA9IFwicmlnaHRcIixcbn1cblxuLyoqXG4gKiBWaWV3ZXIgcmVhZHkgc3RhdGUuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZW51bSBSZWFkeVN0YXRlIHtcbiAgTE9BRElORyA9IFwibG9hZGluZ1wiLFxuICBJTlRFUkFDVElWRSA9IFwiaW50ZXJhY3RpdmVcIixcbiAgQ09NUExFVEUgPSBcImNvbXBsZXRlXCIsXG59XG5cbi8qKlxuICogUHViaWxjIG1lbWJlcnMgb2YgdGhlIGJ1bmRsZWQgbGlicmFyeS5cbiAqL1xuZXhwb3J0IGNvbnN0IGNvbnN0YW50cyA9IHtcbiAgUGFnZVByb2dyZXNzaW9uLFxuICBQYWdlU2lkZSxcbiAgUmVhZHlTdGF0ZSxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBMb2dnaW5nIC0gTG9nZ2luZyB1dGlsaXR5XG4gKi9cblxuLyoqXG4gKiBMb2cgbGV2ZWwuXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZW51bSBMb2dMZXZlbCB7XG4gIERFQlVHID0gMSxcbiAgSU5GTyxcbiAgV0FSTixcbiAgRVJST1IsXG59XG5cbmV4cG9ydCB0eXBlIEVycm9ySW5mbyA9IHtcbiAgZXJyb3I6IEVycm9yO1xuICBtZXNzYWdlczogYW55W107XG59O1xuXG4vKipcbiAqIENsYXNzIGxvZ2dpbmcgZXJyb3IsIHdhcm5pbmcsIGluZm9ybWF0aW9uIG9yIGRlYnVnIG1lc3NhZ2VzLlxuICovXG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcbiAgcHJpdmF0ZSBsaXN0ZW5lcnM6IHsgW2tleSBpbiBMb2dMZXZlbF0/OiAoKHAxOiBFcnJvckluZm8pID0+IHZvaWQpW10gfSA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgb3B0X2NvbnNvbGU/OiBDb25zb2xlKSB7fVxuXG4gIHByaXZhdGUgY29uc29sZURlYnVnKG1zZzogYW55W10pIHtcbiAgICBpZiAodGhpcy5vcHRfY29uc29sZSkge1xuICAgICAgaWYgKHRoaXMub3B0X2NvbnNvbGUuZGVidWcpIHtcbiAgICAgICAgdGhpcy5vcHRfY29uc29sZS5kZWJ1ZyguLi5tc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcHRfY29uc29sZS5sb2coLi4ubXNnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5kZWJ1ZyguLi5tc2cpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbnNvbGVJbmZvKG1zZzogYW55W10pIHtcbiAgICBpZiAodGhpcy5vcHRfY29uc29sZSkge1xuICAgICAgaWYgKHRoaXMub3B0X2NvbnNvbGUuaW5mbykge1xuICAgICAgICB0aGlzLm9wdF9jb25zb2xlLmluZm8oLi4ubXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3B0X2NvbnNvbGUubG9nKC4uLm1zZyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuaW5mbyguLi5tc2cpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbnNvbGVXYXJuKG1zZzogYW55W10pIHtcbiAgICBpZiAodGhpcy5vcHRfY29uc29sZSkge1xuICAgICAgaWYgKHRoaXMub3B0X2NvbnNvbGUud2Fybikge1xuICAgICAgICB0aGlzLm9wdF9jb25zb2xlLndhcm4oLi4ubXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3B0X2NvbnNvbGUubG9nKC4uLm1zZyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybiguLi5tc2cpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbnNvbGVFcnJvcihtc2c6IGFueVtdKSB7XG4gICAgaWYgKHRoaXMub3B0X2NvbnNvbGUpIHtcbiAgICAgIGlmICh0aGlzLm9wdF9jb25zb2xlLmVycm9yKSB7XG4gICAgICAgIHRoaXMub3B0X2NvbnNvbGUuZXJyb3IoLi4ubXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3B0X2NvbnNvbGUubG9nKC4uLm1zZyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoLi4ubXNnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB0cmlnZ2VyTGlzdGVuZXJzKGxldmVsOiBMb2dMZXZlbCwgYXJnczogRXJyb3JJbmZvKSB7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNbbGV2ZWxdO1xuICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgIGxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xuICAgICAgICBsaXN0ZW5lcihhcmdzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBsaXN0ZW5lciBmdW5jdGlvbiBpbnZva2VkIHdoZW4gYSBsb2cgZXZlbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGxldmVsXG4gICAqIG9jY3Vycy5cbiAgICovXG4gIGFkZExpc3RlbmVyKGxldmVsOiBMb2dMZXZlbCwgbGlzdGVuZXI6IChwMTogRXJyb3JJbmZvKSA9PiB2b2lkKSB7XG4gICAgbGV0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzW2xldmVsXTtcbiAgICBpZiAoIWxpc3RlbmVycykge1xuICAgICAgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNbbGV2ZWxdID0gW107XG4gICAgfVxuICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgfVxuXG4gIGRlYnVnKC4uLnZhcl9hcmdzOiBhbnlbXSkge1xuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHNUb0Vycm9ySW5mbyhhcmd1bWVudHMpO1xuICAgIHRoaXMuY29uc29sZURlYnVnKGJ1aWxkTWVzc2FnZUFuZFN0YWNrVHJhY2UoYXJncykpO1xuICAgIHRoaXMudHJpZ2dlckxpc3RlbmVycyhMb2dMZXZlbC5ERUJVRywgYXJncyk7XG4gIH1cblxuICBpbmZvKC4uLnZhcl9hcmdzOiBhbnlbXSkge1xuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHNUb0Vycm9ySW5mbyhhcmd1bWVudHMpO1xuICAgIHRoaXMuY29uc29sZUluZm8oYnVpbGRNZXNzYWdlQW5kU3RhY2tUcmFjZShhcmdzKSk7XG4gICAgdGhpcy50cmlnZ2VyTGlzdGVuZXJzKExvZ0xldmVsLklORk8sIGFyZ3MpO1xuICB9XG5cbiAgd2FybiguLi52YXJfYXJnczogYW55W10pIHtcbiAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzVG9FcnJvckluZm8oYXJndW1lbnRzKTtcbiAgICB0aGlzLmNvbnNvbGVXYXJuKGJ1aWxkTWVzc2FnZUFuZFN0YWNrVHJhY2UoYXJncykpO1xuICAgIHRoaXMudHJpZ2dlckxpc3RlbmVycyhMb2dMZXZlbC5XQVJOLCBhcmdzKTtcbiAgfVxuXG4gIGVycm9yKC4uLnZhcl9hcmdzOiBhbnlbXSkge1xuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHNUb0Vycm9ySW5mbyhhcmd1bWVudHMpO1xuICAgIHRoaXMuY29uc29sZUVycm9yKGJ1aWxkTWVzc2FnZUFuZFN0YWNrVHJhY2UoYXJncykpO1xuICAgIHRoaXMudHJpZ2dlckxpc3RlbmVycyhMb2dMZXZlbC5FUlJPUiwgYXJncyk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0gYXJnc1xuICovXG5mdW5jdGlvbiBhcmd1bWVudHNUb0Vycm9ySW5mbyhhcmdzOiBJQXJndW1lbnRzKTogRXJyb3JJbmZvIHtcbiAgY29uc3QgYSA9IEFycmF5LmZyb20oYXJncyk7XG4gIGxldCBlOiBFcnJvciA9IG51bGw7XG4gIGlmIChhWzBdIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICBlID0gYS5zaGlmdCgpO1xuICB9XG4gIHJldHVybiB7IGVycm9yOiBlLCBtZXNzYWdlczogYSB9O1xufVxuXG5mdW5jdGlvbiBidWlsZE1lc3NhZ2VBbmRTdGFja1RyYWNlKGFyZ3M6IEVycm9ySW5mbyk6IHN0cmluZ1tdIHtcbiAgY29uc3QgZSA9IGFyZ3MuZXJyb3I7XG4gIGNvbnN0IHN0YWNrID0gZSAmJiAoZVtcImZyYW1lVHJhY2VcIl0gfHwgZVtcInN0YWNrXCJdKTtcbiAgbGV0IG1lc3NhZ2VzID0gW10uY29uY2F0KGFyZ3NbXCJtZXNzYWdlc1wiXSk7XG4gIGlmIChlKSB7XG4gICAgaWYgKG1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIG1lc3NhZ2VzID0gbWVzc2FnZXMuY29uY2F0KFtcIlxcblwiXSk7XG4gICAgfVxuICAgIG1lc3NhZ2VzID0gbWVzc2FnZXMuY29uY2F0KFtlW1widG9TdHJpbmdcIl0oKV0pO1xuICAgIGlmIChzdGFjaykge1xuICAgICAgbWVzc2FnZXMgPSBtZXNzYWdlcy5jb25jYXQoW1wiXFxuXCJdKS5jb25jYXQoc3RhY2spO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWVzc2FnZXM7XG59XG5cbmV4cG9ydCBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBQbHVnaW4gLSBQbHVnaW4gbWVjaGFuaXNtXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgTGF5b3V0UHJvY2Vzc29yIGZyb20gXCIuL2xheW91dC1wcm9jZXNzb3JcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgeyBMYXlvdXQsIFZ0cmVlIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuLyoqXG4gKiBUeXBlIG9mIGltcGxlbWVudGVkIGhvb2tzLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGVudW0gSE9PS1Mge1xuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSBzaW5nbGUgcHJvcGVydHkgZGVjbGFyYXRpb24gaXMgcGFyc2VkLlxuICAgKlxuICAgKiBUaGUgaG9vayBpcyBjYWxsZWQgd2l0aCBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqICAge3N0cmluZ30gbmFtZTogUHJvcGVydHkgbmFtZVxuICAgKiAgIHshQ3NzLlZhbH0gdmFsdWU6IFByb3BlcnR5IHZhbHVlXG4gICAqICAge2Jvb2xlYW59IGltcG9ydGFudDogV2hldGhlciAnIWltcG9ydGFudCcgZmxhZyBpcyBwcmVzZW50IG9yIG5vdFxuICAgKiBGdW5jdGlvbnMgY2FsbGVkIGJ5IHRoaXMgaG9vayBhcmUgZXhwZWN0ZWQgdG8gcmV0dXJuIGEgdmFsdWUgd2l0aCB0aGUgc2FtZVxuICAgKiB0eXBlIGFzIHRoZSBhYm92ZS4gVGhlIGRlY2xhcmF0aW9uIGlzIHRoZW4gcmVwbGFjZWQgYnkgdGhlIHJldHVybmVkIHZhbHVlLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgYSBzaG9ydGhhbmQgZGVjbGFyYXRpb24gaXMgbm90IGRpcmVjdGx5IHBhc3NlZCB0byB0aGlzIGhvb2suXG4gICAqIEFmdGVyIHRoZSBzaG9ydGhhbmQgZGVjbGFyYXRpb24gaXMgaW50ZXJwcmV0ZWQgYW5kIGJyb2tlbiBpbnRvXG4gICAqIG5vbi1zaG9ydGhhbmQgZGVjbGFyYXRpb25zLCB0aGUgaG9vayBpcyBjYWxsZWQgZm9yIGVhY2ggb2YgdGhlXG4gICAqIG5vbi1zaG9ydGhhbmQgZGVjbGFyYXRpb25zLlxuICAgKi9cbiAgU0lNUExFX1BST1BFUlRZID0gXCJTSU1QTEVfUFJPUEVSVFlcIixcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSBzaW5nbGUgZG9jdW1lbnQgKGkuZS4gYSBzaW5nbGUgc3BpbmUgaXRlbSkgaGFzIGJlZW4gZmV0Y2hlZCxcbiAgICogYmVmb3JlIHBhcnNpbmcuXG4gICAqXG4gICAqIFRoZSBob29rIGlzIGNhbGxlZCB3aXRoIHRoZSBEb2N1bWVudCBvYmplY3QuXG4gICAqL1xuICBQUkVQUk9DRVNTX1NJTkdMRV9ET0NVTUVOVCA9IFwiUFJFUFJPQ0VTU19TSU5HTEVfRE9DVU1FTlRcIixcblxuICAvKipcbiAgICogQ2FsbGVkIGJlZm9yZSBjcmVhdGluZyBhIHRleHQgbm9kZSBmb3IgbW9kaWZ5aW5nIGEgdGV4dCBjb250ZW50LlxuICAgKlxuICAgKiBUaGUgaG9vayBpcyBjYWxsZWQgd2l0aCBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqICAge1Z0cmVlLk5vZGVDb250ZXh0fSBub2RlQ29udGV4dFxuICAgKiAgIHtzdHJpbmd9IHNvdXJjZVRleHRDb250ZW50XG4gICAqXG4gICAqIEZ1bmN0aW9ucyBjYWxsZWQgYnkgdGhpcyBob29rIGFyZSBleHBlY3RlZCB0byByZXR1cm4gYVxuICAgKiBUYXNrLlJlc3VsdC48c3RyaW5nPi4gVGhlIHRleHQgY29udGVudCBpcyB0aGVuIHJlcGxhY2VkIGJ5IHRoZVxuICAgKiByZXR1cm5lZCB2YWx1ZS5cbiAgICovXG4gIFBSRVBST0NFU1NfVEVYVF9DT05URU5UID0gXCJQUkVQUk9DRVNTX1RFWFRfQ09OVEVOVFwiLFxuXG4gIC8qKlxuICAgKiBDYWxsZWQgYmVmb3JlIGNyZWF0aW5nIGEgZWxlbWVudCBmb3IgbW9kaWZ5aW5nIGEgZWxlbWVudCBzdHlsZS5cbiAgICpcbiAgICogVGhlIGhvb2sgaXMgY2FsbGVkIHdpdGggYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgKiAgIHtWdHJlZS5Ob2RlQ29udGV4dH0gbm9kZUNvbnRleHRcbiAgICogICB7IU9iamVjdH0gc3R5bGVcbiAgICovXG4gIFBSRVBST0NFU1NfRUxFTUVOVF9TVFlMRSA9IFwiUFJFUFJPQ0VTU19FTEVNRU5UX1NUWUxFXCIsXG5cbiAgLyoqXG4gICAqIENhbGxlZCBiZWZvcmUgZ2V0aW5nIENzc0Nhc2NhZGUucG9seWZpbGxlZEluaGVyaXRlZFByb3BzLlxuICAgKlxuICAgKiBUaGUgaG9vayByZXR1cm4gYSBhcnJheSBvZiBwb2x5ZmlsbGVkIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lLlxuICAgKi9cbiAgUE9MWUZJTExFRF9JTkhFUklURURfUFJPUFMgPSBcIlBPTFlGSUxMRURfSU5IRVJJVEVEX1BST1BTXCIsXG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGEgVmlld2VyIGlzIGNvbmZpZ3VyZWQuXG4gICAqXG4gICAqIFRoZSBob29rIGlzIGNhbGxlZCB3aXRoIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICogIHtCYXNlLkpTT059IGNvbW1hbmRcbiAgICovXG4gIENPTkZJR1VSQVRJT04gPSBcIkNPTkZJR1VSQVRJT05cIixcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gcmVzb2x2aW5nIGEgdGV4dCBub2RlIGJyZWFrZXJcbiAgICogd2hpY2ggZGV0ZWN0cyBhbiBhY2NlcHRhYmxlIGJyZWFrcG9pbnQgYW5kIGJyZWFrIHRleHQgbm9kZSBhdCB0aGlzIHBvaW50LlxuICAgKlxuICAgKiBUaGUgaG9vayBpcyBjYWxsZWQgd2l0aCBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqICB7VnRyZWUuTm9kZUNvbnRleHR9IG5vZGVDb250ZXh0XG4gICAqXG4gICAqIEZ1bmN0aW9ucyBjYWxsZWQgYnkgdGhpcyBob29rIGFyZSBleHBlY3RlZCB0b1xuICAgKiByZXR1cm4gYW4gaW5zdG5jZSBvZiB7TGF5b3V0LlRleHROb2RlQnJlYWtlcn0gb3IgbnVsbC5cbiAgICovXG4gIFJFU09MVkVfVEVYVF9OT0RFX0JSRUFLRVIgPSBcIlJFU09MVkVfVEVYVF9OT0RFX0JSRUFLRVJcIixcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gcmVzb2x2aW5nIGEgZm9ybWF0dGluZyBjb250ZXh0LlxuICAgKlxuICAgKiBUaGUgaG9vayBpcyBjYWxsZWQgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gICAqICAgbm9kZUNvbnRleHQ6IGEgTm9kZUNvbnRleHQgb2JqZWN0XG4gICAqICAgZmlyc3RUaW1lOiBhIGJvb2xlYW4gZmxhZyByZXByZXNlbnRpbmcgd2hldGhlciB0aGlzIG5vZGUgaXMgZW5jb3VudGVyZWRcbiAgICogZm9yIHRoZSBmaXJzdCB0aW1lIG9yIG5vdCBkaXNwbGF5OiBhbiBDc3MuSWRlbnQgdmFsdWUgcmVwcmVzZW50aW5nXG4gICAqICdkaXNwbGF5JyB2YWx1ZSBvZiB0aGUgbm9kZSBwb3NpdGlvbjogYW4gQ3NzLklkZW50IHZhbHVlIHJlcHJlc2VudGluZ1xuICAgKiAncG9zaXRpb24nIHZhbHVlIG9mIHRoZSBub2RlIGZsb2F0OiBhbiBDc3MuSWRlbnQgdmFsdWUgcmVwcmVzZW50aW5nXG4gICAqICdmbG9hdCcgdmFsdWUgb2YgdGhlIG5vZGUgaXNSb290OiBhIGJvb2xlYW4gZmxhZyByZXByZXNlbnRpbmcgd2hldGhlciB0aGlzXG4gICAqIG5vZGUgaXMgYSByb290IChvZiBhIGZsb3cpIG9yIG5vdCBGdW5jdGlvbnMgY2FsbGVkIGJ5IHRoaXMgaG9vayBhcmVcbiAgICogZXhwZWN0ZWQgdG8gcmV0dXJuIGEgZm9ybWF0dGluZyBjb250ZXh0IGZvciB0aGUgTm9kZUNvbnRleHQuXG4gICAqL1xuICBSRVNPTFZFX0ZPUk1BVFRJTkdfQ09OVEVYVCA9IFwiUkVTT0xWRV9GT1JNQVRUSU5HX0NPTlRFWFRcIixcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gcmVzb2x2aW5nIGEgbGF5b3V0IHByb2Nlc3NvciAoTGF5b3V0UHJvY2Vzc29yKSBmb3JcbiAgICogYSBmb3JtYXR0aW5nIGNvbnRleHQuXG4gICAqXG4gICAqIFRoZSBob29rIGlzIGNhbGxlZCB3aXRoIGEgZm9ybWF0dGluZyBjb250ZXh0XG4gICAqIChWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCkuIEZ1bmN0aW9ucyBjYWxsZWQgYnkgdGhpcyBob29rIGFyZSBleHBlY3RlZFxuICAgKiB0byByZXR1cm4gYSBsYXlvdXQgcHJvY2Vzc29yIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGZvcm1hdHRpbmcgY29udGV4dC5cbiAgICovXG4gIFJFU09MVkVfTEFZT1VUX1BST0NFU1NPUiA9IFwiUkVTT0xWRV9MQVlPVVRfUFJPQ0VTU09SXCIsXG5cbiAgLyoqXG4gICAqIENhbGxlZCBhZnRlciBsYWlkIG91dCBhIGJsb2NrIGNvbnRlbnRzLlxuICAgKlxuICAgKiBUaGUgaG9vayBpcyBjYWxsZWQgd2l0aCBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqICB7VnRyZWUuTm9kZUNvbnRleHR9IG5vZGVDb250ZXh0XG4gICAqICB7QXJyYXkuPFZ0cmVlLk5vZGVDb250ZXh0Pn0gY2hlY2tQb2ludHNcbiAgICogIHtMYXlvdXQuQ29sdW1ufSBjb2x1bW5cbiAgICovXG4gIFBPU1RfTEFZT1VUX0JMT0NLID0gXCJQT1NUX0xBWU9VVF9CTE9DS1wiLFxufVxuXG5leHBvcnQgdHlwZSBQcmVQcm9jZXNzU2luZ2xlRG9jdW1lbnRIb29rID0gKHAxOiBEb2N1bWVudCkgPT4gYW55O1xuXG5leHBvcnQgdHlwZSBQcmVQcm9jZXNzVGV4dENvbnRlbnRIb29rID0gKFxuICBwMTogVnRyZWUuTm9kZUNvbnRleHQsXG4gIHAyOiBzdHJpbmcsXG4pID0+IFRhc2suUmVzdWx0PHN0cmluZz47XG5cbmV4cG9ydCB0eXBlIFByZVByb2Nlc3NFbGVtZW50U3R5bGVIb29rID0gKFxuICBwMTogVnRyZWUuTm9kZUNvbnRleHQsXG4gIHAyOiBvYmplY3QsXG4pID0+IHZvaWQ7XG5cbmV4cG9ydCB0eXBlIFBvbHlmaWxsZWRJbmhlcml0ZWRQcm9wc0hvb2sgPSAoKSA9PiBzdHJpbmdbXTtcblxuZXhwb3J0IHR5cGUgQ29uZmlndXJhdGlvbkhvb2sgPSAoXG4gIHAxOiBCYXNlLkpTT04sXG4pID0+IHtcbiAgbmVlZFJlc2l6ZTogYm9vbGVhbiB8IG51bGwgfCB1bmRlZmluZWQ7XG4gIG5lZWRSZWZyZXNoOiBib29sZWFuIHwgbnVsbCB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCB0eXBlIFJlc29sdmVUZXh0Tm9kZUJyZWFrZXJIb29rID0gKFxuICBwMTogVnRyZWUuTm9kZUNvbnRleHQsXG4pID0+IExheW91dC5UZXh0Tm9kZUJyZWFrZXI7XG5cbmV4cG9ydCB0eXBlIFJlc29sdmVGb3JtYXR0aW5nQ29udGV4dEhvb2sgPSAoXG4gIHAxOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgcDI6IGJvb2xlYW4sXG4gIHAzOiBDc3MuSWRlbnQsXG4gIHA0OiBDc3MuSWRlbnQsXG4gIHA1OiBDc3MuSWRlbnQsXG4gIHA2OiBib29sZWFuLFxuKSA9PiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dDtcblxuZXhwb3J0IHR5cGUgUmVzb2x2ZUxheW91dFByb2Nlc3Nvckhvb2sgPSAoXG4gIHAxOiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCxcbikgPT4gTGF5b3V0UHJvY2Vzc29yLkxheW91dFByb2Nlc3NvcjtcblxuZXhwb3J0IHR5cGUgUG9zdExheW91dEJsb2NrSG9vayA9IChcbiAgcDE6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICBwMjogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgcDM6IExheW91dC5Db2x1bW4sXG4pID0+IHZvaWQ7XG5cbmNvbnN0IGhvb2tzID0ge307XG5cbi8qKlxuICogUmVnaXN0ZXIgYSBmdW5jdGlvbiB0byBhIGhvb2sgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUuXG4gKiBUaGUgcmVnaXN0ZXJlZCBmdW5jdGlvbiBpcyBjYWxsZWQgYXQgYXBwcm9wcmlhdGUgdGltaW5ncyBieSB0aGUgY29yZSBjb2RlLlxuICogQXJndW1lbnRzIHBhc3NlZCB0byB0aGUgZnVuY3Rpb24gZGVwZW5kIG9uIHRoZSBob29rLlxuICogV2hlbiBtdWx0aXBsZSBmdW5jdGlvbnMgYXJlIHJlZ2lzdGVyZWQsIHRoZXkgYXJlIGNhbGxlZCBieSB0aGUgb3JkZXIgaW4gd2hpY2hcbiAqIHRoZXkgYXJlIHJlZ2lzdGVyZWQuXG4gKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBob29rLlxuICogQHBhcmFtIGZuIEZ1bmN0aW9uIHRvIGJlIHJlZ2lzdGVyZWQgdG8gdGhlIGhvb2suXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3Rlckhvb2sobmFtZTogc3RyaW5nLCBmbjogKC4uLnAxKSA9PiBhbnkpOiB2b2lkIHtcbiAgaWYgKCFIT09LU1tuYW1lXSkge1xuICAgIExvZ2dpbmcubG9nZ2VyLndhcm4obmV3IEVycm9yKGBTa2lwcGluZyB1bmtub3duIHBsdWdpbiBob29rICcke25hbWV9Jy5gKSk7XG4gIH0gZWxzZSB7XG4gICAgbGV0IGhvb2tzRm9yTmFtZSA9IGhvb2tzW25hbWVdO1xuICAgIGlmICghaG9va3NGb3JOYW1lKSB7XG4gICAgICBob29rc0Zvck5hbWUgPSBob29rc1tuYW1lXSA9IFtdO1xuICAgIH1cbiAgICBob29rc0Zvck5hbWUucHVzaChmbik7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgYSBmdW5jdGlvbiBhbHJlYWR5IHJlZ2lzdGVyZWQgdG8gdGhlIHNwZWNpZmllZCBuYW1lLlxuICogTm90ZSB0aGF0IGV2ZW4gaWYgdGhlIHNhbWUgZnVuY3Rpb24gYXJlIHJlZ2lzdGVyZWQgbXVsdGlwbGUgdGltZXMsIHRoaXNcbiAqIG1ldGhvZCByZW1vdmVzIG9ubHkgdGhlIGZpcnN0IG9uZS5cbiAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGhvb2suXG4gKiBAcGFyYW0gZm4gRnVuY3Rpb24gdG8gYmUgcmVtb3ZlZCBmcm9tIHRoZSBob29rLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlSG9vayhuYW1lOiBzdHJpbmcsIGZuOiAoLi4ucDEpID0+IGFueSk6IHZvaWQge1xuICBpZiAoIUhPT0tTW25hbWVdKSB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihuZXcgRXJyb3IoYElnbm9yaW5nIHVua25vd24gcGx1Z2luIGhvb2sgJyR7bmFtZX0nLmApKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBob29rc0Zvck5hbWUgPSBob29rc1tuYW1lXTtcbiAgICBpZiAoaG9va3NGb3JOYW1lKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGhvb2tzRm9yTmFtZS5pbmRleE9mKGZuKTtcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIGhvb2tzRm9yTmFtZS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEdldCBhbGwgaG9va3MgcmVnaXN0ZXJlZCB0byB0aGUgc3BlY2lmaWVkIG5hbWUuXG4gKiBUaGlzIG1ldGhvZCBpcyBmb3IgaW50ZXJuYWwgdXNlIChmcm9tIHRoZSBjb3JlIGNvZGUpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SG9va3NGb3JOYW1lKG5hbWU6IHN0cmluZyk6ICgoLi4ucDEpID0+IGFueSlbXSB7XG4gIGNvbnN0IGhvb2tzRm9yTmFtZSA9IGhvb2tzW25hbWVdO1xuICByZXR1cm4gaG9va3NGb3JOYW1lIHx8IFtdO1xufVxuXG4vKipcbiAqIFB1YmlsYyBtZW1iZXJzIG9mIHRoZSBidW5kbGVkIGxpYnJhcnkuXG4gKi9cbmV4cG9ydCBjb25zdCBwbHVnaW4gPSB7XG4gIHJlZ2lzdGVySG9vayxcbiAgcmVtb3ZlSG9vayxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBQcm9maWxlIC0gVXRpbGl0eSBmb3IgcHJvZmlsaW5nXG4gKi9cbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuXG4vKipcbiAqIFBlcmZvcm1hbmNlIHByb2ZpbGVyIG1lYXN1cmluZyBleGVjdXRpb24gdGltZSBvZiB0aGUgc2NyaXB0LlxuICovXG5leHBvcnQgY2xhc3MgUHJvZmlsZXIge1xuICB0aW1lc3RhbXBzOiB7IFtrZXk6IHN0cmluZ106IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gfSA9IHt9O1xuICBwcml2YXRlIHJlZ2lzdGVyVGltaW5nOiAocDE6IHN0cmluZywgcDI6IHN0cmluZywgcDM/OiBudW1iZXIpID0+IGFueTtcbiAgcmVnaXN0ZXJTdGFydFRpbWluZzogKG5hbWU6IHN0cmluZywgdGltZXN0YW1wPzogbnVtYmVyKSA9PiBhbnk7XG4gIHJlZ2lzdGVyRW5kVGltaW5nOiAobmFtZTogc3RyaW5nLCB0aW1lc3RhbXA/OiBudW1iZXIpID0+IGFueTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgcGVyZm9ybWFuY2VJbnN0YW5jZTogUGVyZm9ybWFuY2UpIHtcbiAgICB0aGlzLnJlZ2lzdGVyVGltaW5nID0gbm9vcDtcblxuICAgIC8vIGhhY2sgdG8gZXhwb3J0IChub24tcHJvdG90eXBlKSBtZXRob2RzXG4gICAgdGhpc1tcInJlZ2lzdGVyU3RhcnRUaW1pbmdcIl0gPSB0aGlzLnJlZ2lzdGVyU3RhcnRUaW1pbmcgPSBub29wO1xuICAgIHRoaXNbXCJyZWdpc3RlckVuZFRpbWluZ1wiXSA9IHRoaXMucmVnaXN0ZXJFbmRUaW1pbmcgPSBub29wO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBzdGFydCB0aW1pbmcgb2Ygc29tZSBldmVudCwgZXZlbiBpZiBwcm9maWxlIGlzIGRpc2FibGVkLlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIGV2ZW50XG4gICAqIEBwYXJhbSB0aW1lc3RhbXAgVXNlZCBhcyB0aGUgYWN0dWFsIHRpbWVzdGFtcCBvZiB0aGUgZXZlbnQgaWYgc3BlY2lmaWVkLFxuICAgKiAgICAgaW5zdGVhZCBvZiBcIm5vd1wiXG4gICAqL1xuICBmb3JjZVJlZ2lzdGVyU3RhcnRUaW1pbmcobmFtZTogc3RyaW5nLCB0aW1lc3RhbXA/OiBudW1iZXIpIHtcbiAgICByZWdpc3RlclRpbWluZy5jYWxsKHRoaXMsIG5hbWUsIFwic3RhcnRcIiwgdGltZXN0YW1wKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgZW5kIHRpbWluZyBvZiBzb21lIGV2ZW50LCBldmVuIGlmIHByb2ZpbGUgaXMgZGlzYWJsZWQuXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgZXZlbnRcbiAgICogQHBhcmFtIHRpbWVzdGFtcCBVc2VkIGFzIHRoZSBhY3R1YWwgdGltZXN0YW1wIG9mIHRoZSBldmVudCBpZiBzcGVjaWZpZWQsXG4gICAqICAgICBpbnN0ZWFkIG9mIFwibm93XCJcbiAgICovXG4gIGZvcmNlUmVnaXN0ZXJFbmRUaW1pbmcobmFtZTogc3RyaW5nLCB0aW1lc3RhbXA/OiBudW1iZXIpIHtcbiAgICByZWdpc3RlclRpbWluZy5jYWxsKHRoaXMsIG5hbWUsIFwiZW5kXCIsIHRpbWVzdGFtcCk7XG4gIH1cblxuICAvKipcbiAgICogTG9nIHJlZ2lzdGVyZWQgdGltaW5ncyAoc3RhcnQvZW5kL2R1cmF0aW9uKS5cbiAgICogQWxsIHZhbHVlcyBhcmUgcHJpbnRlZCBpbiBtcyB1bml0LlxuICAgKi9cbiAgcHJpbnRUaW1pbmdzKCkge1xuICAgIGNvbnN0IHRpbWVzdGFtcHMgPSB0aGlzLnRpbWVzdGFtcHM7XG4gICAgbGV0IHN0ID0gXCJcIjtcbiAgICBPYmplY3Qua2V5cyh0aW1lc3RhbXBzKS5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgICBjb25zdCBzdGFtcHMgPSB0aW1lc3RhbXBzW25hbWVdO1xuICAgICAgY29uc3QgbCA9IHN0YW1wcy5sZW5ndGg7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjb25zdCB0ID0gc3RhbXBzW2ldO1xuICAgICAgICBzdCArPSBuYW1lO1xuICAgICAgICBpZiAobCA+IDEpIHtcbiAgICAgICAgICBzdCArPSBgKCR7aX0pYDtcbiAgICAgICAgfVxuICAgICAgICBzdCArPSBgID0+IHN0YXJ0OiAke3RbXCJzdGFydFwiXX0sIGVuZDogJHt0W1wiZW5kXCJdfSwgZHVyYXRpb246ICR7dFtcbiAgICAgICAgICBcImVuZFwiXG4gICAgICAgIF0gLSB0W1wic3RhcnRcIl19XFxuYDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBMb2dnaW5nLmxvZ2dlci5pbmZvKHN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlIHByb2ZpbGluZy5cbiAgICovXG4gIGRpc2FibGUoKSB7XG4gICAgdGhpcy5yZWdpc3RlclRpbWluZyA9IG5vb3A7XG5cbiAgICAvLyBoYWNrIHRvIGV4cG9ydCAobm9uLXByb3RvdHlwZSkgbWV0aG9kc1xuICAgIHRoaXNbXCJyZWdpc3RlclN0YXJ0VGltaW5nXCJdID0gdGhpcy5yZWdpc3RlclN0YXJ0VGltaW5nID0gbm9vcDtcbiAgICB0aGlzW1wicmVnaXN0ZXJFbmRUaW1pbmdcIl0gPSB0aGlzLnJlZ2lzdGVyRW5kVGltaW5nID0gbm9vcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgcHJvZmlsaW5nLlxuICAgKi9cbiAgZW5hYmxlKCkge1xuICAgIHRoaXMucmVnaXN0ZXJUaW1pbmcgPSByZWdpc3RlclRpbWluZztcblxuICAgIC8vIGhhY2sgdG8gZXhwb3J0IChub24tcHJvdG90eXBlKSBtZXRob2RzXG4gICAgdGhpc1tcbiAgICAgIFwicmVnaXN0ZXJTdGFydFRpbWluZ1wiXG4gICAgXSA9IHRoaXMucmVnaXN0ZXJTdGFydFRpbWluZyA9IHJlZ2lzdGVyU3RhcnRUaW1pbmc7XG4gICAgdGhpc1tcInJlZ2lzdGVyRW5kVGltaW5nXCJdID0gdGhpcy5yZWdpc3RlckVuZFRpbWluZyA9IHJlZ2lzdGVyRW5kVGltaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgaWYgcHJvZmlsaW5nIGlzIGVuYWJsZWQgb3Igbm90LlxuICAgKi9cbiAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyU3RhcnRUaW1pbmcgPT09IHJlZ2lzdGVyU3RhcnRUaW1pbmc7XG4gIH1cbn1cblxuZnVuY3Rpb24gbm9vcCgpOiB2b2lkIHt9XG5cbi8qKlxuICogUmVnaXN0ZXJzIHN0YXJ0L2VuZCB0aW1pbmcgb2Ygc29tZSBldmVudC5cbiAqIEB0aGlzIHtQcm9maWxlLlByb2ZpbGVyfVxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiBldmVudFxuICogQHBhcmFtIHN0YXJ0RW5kIEVpdGhlciBvZiBcInN0YXJ0XCIgb3IgXCJlbmRcIlxuICogQHBhcmFtIHRpbWVzdGFtcCBVc2VkIGFzIHRoZSBhY3R1YWwgdGltZXN0YW1wIG9mIHRoZSBldmVudCBpZiBzcGVjaWZpZWQsXG4gKiAgICAgaW5zdGVhZCBvZiBcIm5vd1wiXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyVGltaW5nKFxuICBuYW1lOiBzdHJpbmcsXG4gIHN0YXJ0RW5kOiBzdHJpbmcsXG4gIHRpbWVzdGFtcD86IG51bWJlcixcbik6IHZvaWQge1xuICBpZiAoIXRpbWVzdGFtcCkge1xuICAgIHRpbWVzdGFtcCA9IHRoaXMucGVyZm9ybWFuY2VJbnN0YW5jZS5ub3coKTtcbiAgfVxuICBsZXQgdGltZXN0YW1wcyA9IHRoaXMudGltZXN0YW1wc1tuYW1lXTtcbiAgaWYgKCF0aW1lc3RhbXBzKSB7XG4gICAgdGltZXN0YW1wcyA9IHRoaXMudGltZXN0YW1wc1tuYW1lXSA9IFtdO1xuICB9XG4gIGxldCB0O1xuICBjb25zdCBsID0gdGltZXN0YW1wcy5sZW5ndGg7XG4gIGZvciAobGV0IGkgPSBsIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB0ID0gdGltZXN0YW1wc1tpXTtcbiAgICBpZiAodCAmJiAhdFtzdGFydEVuZF0pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0ID0gbnVsbDtcbiAgfVxuICBpZiAoIXQpIHtcbiAgICB0ID0ge307XG4gICAgdGltZXN0YW1wcy5wdXNoKHQpO1xuICB9XG4gIHRbc3RhcnRFbmRdID0gdGltZXN0YW1wO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBzdGFydCB0aW1pbmcgb2Ygc29tZSBldmVudC5cbiAqIEB0aGlzIHtQcm9maWxlLlByb2ZpbGVyfVxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiBldmVudFxuICogQHBhcmFtIHRpbWVzdGFtcCBVc2VkIGFzIHRoZSBhY3R1YWwgdGltZXN0YW1wIG9mIHRoZSBldmVudCBpZiBzcGVjaWZpZWQsXG4gKiAgICAgaW5zdGVhZCBvZiBcIm5vd1wiXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyU3RhcnRUaW1pbmcobmFtZTogc3RyaW5nLCB0aW1lc3RhbXA/OiBudW1iZXIpOiB2b2lkIHtcbiAgdGhpcy5yZWdpc3RlclRpbWluZyhuYW1lLCBcInN0YXJ0XCIsIHRpbWVzdGFtcCk7XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIGVuZCB0aW1pbmcgb2Ygc29tZSBldmVudC5cbiAqIEB0aGlzIHtQcm9maWxlLlByb2ZpbGVyfVxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiBldmVudFxuICogQHBhcmFtIHRpbWVzdGFtcCBVc2VkIGFzIHRoZSBhY3R1YWwgdGltZXN0YW1wIG9mIHRoZSBldmVudCBpZiBzcGVjaWZpZWQsXG4gKiAgICAgaW5zdGVhZCBvZiBcIm5vd1wiXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyRW5kVGltaW5nKG5hbWU6IHN0cmluZywgdGltZXN0YW1wPzogbnVtYmVyKTogdm9pZCB7XG4gIHRoaXMucmVnaXN0ZXJUaW1pbmcobmFtZSwgXCJlbmRcIiwgdGltZXN0YW1wKTtcbn1cbmNvbnN0IGZhbGxiYWNrUGVyZm9ybWFuY2VJbnN0YW5jZSA9IHsgbm93OiBEYXRlLm5vdyB9IGFzIFBlcmZvcm1hbmNlO1xuY29uc3QgcGVyZm9ybWFuY2VJbnN0YW5jZSA9IHdpbmRvdyAmJiB3aW5kb3cucGVyZm9ybWFuY2U7XG5leHBvcnQgY29uc3QgcHJvZmlsZXIgPSBuZXcgUHJvZmlsZXIoXG4gIHBlcmZvcm1hbmNlSW5zdGFuY2UgfHwgZmFsbGJhY2tQZXJmb3JtYW5jZUluc3RhbmNlLFxuKTtcbnByb2ZpbGVyLmZvcmNlUmVnaXN0ZXJTdGFydFRpbWluZyhcImxvYWRfdml2bGlvc3R5bGVcIik7XG5cbi8qKlxuICogUHViaWxjIG1lbWJlcnMgb2YgdGhlIGJ1bmRsZWQgbGlicmFyeS5cbiAqL1xuZXhwb3J0IGNvbnN0IHByb2ZpbGUgPSB7XG4gIHByb2ZpbGVyOiB7XG4gICAgcmVnaXN0ZXJTdGFydFRpbWluZzogcHJvZmlsZXIucmVnaXN0ZXJTdGFydFRpbWluZyxcbiAgICByZWdpc3RlckVuZFRpbWluZzogcHJvZmlsZXIucmVnaXN0ZXJFbmRUaW1pbmcsXG4gICAgcHJpbnRUaW1pbmdzOiBwcm9maWxlci5wcmludFRpbWluZ3MsXG4gICAgZGlzYWJsZTogcHJvZmlsZXIuZGlzYWJsZSxcbiAgICBlbmFibGU6IHByb2ZpbGVyLmVuYWJsZSxcbiAgfSxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IEJhc2UgLSBDb21tb24gdXRpbGl0aWVzLlxuICovXG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuL2xvZ2dpbmdcIjtcbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuXG5leHBvcnQgbGV0IGVtcHR5T2JqID0ge307XG5cbmV4cG9ydCB0eXBlIEpTT04gPSBhbnk7XG5cbmV4cG9ydCBmdW5jdGlvbiBqc29uVG9TdHJpbmcoanNvbjogSlNPTik6IHN0cmluZyB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShqc29uKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvSlNPTihzdHI6IHN0cmluZyk6IEpTT04ge1xuICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RyaXBGcmFnbWVudCh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHIgPSB1cmwubWF0Y2goL14oW14jXSopLyk7XG4gIGlmIChyKSB7XG4gICAgcmV0dXJuIHJbMV07XG4gIH1cbiAgcmV0dXJuIHVybDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwRnJhZ21lbnRBbmRRdWVyeSh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHIgPSB1cmwubWF0Y2goL14oW14jP10qKS8pO1xuICBpZiAocikge1xuICAgIHJldHVybiByWzFdO1xuICB9XG4gIHJldHVybiB1cmw7XG59XG5cbi8qKlxuICogQmFzZSBVUkwgcmVsYXRpdmUgdG8gd2hpY2ggVVJMcyBvZiByZXNvdXJjZXMgYXJlIHJlc29sdmVkLlxuICovXG5leHBvcnQgbGV0IGJhc2VVUkwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbmV4cG9ydCBmdW5jdGlvbiBzZXRCYXNlVVJMKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcbiAgYmFzZVVSTCA9IHZhbHVlO1xufVxuXG4vKipcbiAqIEJhc2UgVVJMIHJlbGF0aXZlIHRvIHdoaWNoIFVSTHMgb2YgcmVzb3VyY2VzIHN1Y2ggYXMgdmFsaWRhdGlvbi50eHQgYW5kXG4gKiB1c2VyLWFnZW50LmNzcyBhcmUgcmVzb2x2ZWQuXG4gKi9cbmV4cG9ydCBsZXQgcmVzb3VyY2VCYXNlVVJMID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG5leHBvcnQgZnVuY3Rpb24gc2V0UmVzb3VyY2VCYXNlVVJMKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcbiAgcmVzb3VyY2VCYXNlVVJMID0gdmFsdWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHJlbFVSTCByZWxhdGl2ZSBVUkxcbiAqIEBwYXJhbSBiYXNlVVJMIGJhc2UgKGFic29sdXRlKSBVUkxcbiAqIEByZXR1cm4gcmVzb2x2ZWQgKGFic29sdXRlKSBVUkxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVVUkwocmVsVVJMOiBzdHJpbmcsIGJhc2VVUkw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmIChiYXNlVVJMLnN0YXJ0c1dpdGgoXCJkYXRhOlwiKSkge1xuICAgIHJldHVybiByZWxVUkwgfHwgYmFzZVVSTDtcbiAgfVxuICBpZiAoIWJhc2VVUkwgfHwgcmVsVVJMLm1hdGNoKC9eXFx3ezIsfTovKSkge1xuICAgIGlmIChyZWxVUkwudG9Mb3dlckNhc2UoKS5tYXRjaChcIl5qYXZhc2NyaXB0OlwiKSkge1xuICAgICAgcmV0dXJuIFwiI1wiO1xuICAgIH1cbiAgICBpZiAocmVsVVJMLm1hdGNoKC9eXFx3ezIsfTpcXC9cXC9bXlxcL10rJC8pKSB7XG4gICAgICByZWxVUkwgPSBgJHtyZWxVUkx9L2A7XG4gICAgfVxuICAgIHJldHVybiByZWxVUkw7XG4gIH1cbiAgaWYgKGJhc2VVUkwubWF0Y2goL15cXHd7Mix9OlxcL1xcL1teXFwvXSskLykpIHtcbiAgICBiYXNlVVJMID0gYCR7YmFzZVVSTH0vYDtcbiAgfVxuICBsZXQgcjogc3RyaW5nW107XG4gIGlmIChyZWxVUkwubWF0Y2goL15cXC9cXC8vKSkge1xuICAgIHIgPSBiYXNlVVJMLm1hdGNoKC9eKFxcd3syLH06KVxcL1xcLy8pO1xuICAgIGlmIChyKSB7XG4gICAgICByZXR1cm4gclsxXSArIHJlbFVSTDtcbiAgICB9XG4gICAgcmV0dXJuIHJlbFVSTDtcbiAgfVxuICBpZiAocmVsVVJMLm1hdGNoKC9eXFwvLykpIHtcbiAgICByID0gYmFzZVVSTC5tYXRjaCgvXihcXHd7Mix9OlxcL1xcL1teXFwvXSspXFwvLyk7XG4gICAgaWYgKHIpIHtcbiAgICAgIHJldHVybiByWzFdICsgcmVsVVJMO1xuICAgIH1cbiAgICByZXR1cm4gcmVsVVJMO1xuICB9XG4gIGlmIChyZWxVUkwubWF0Y2goL15cXC4oXFwvfCQpLykpIHtcbiAgICByZWxVUkwgPSByZWxVUkwuc3Vic3RyKDIpOyAvLyAnLi9mb28nID0+ICdmb28nXG4gIH1cbiAgYmFzZVVSTCA9IHN0cmlwRnJhZ21lbnRBbmRRdWVyeShiYXNlVVJMKTtcbiAgaWYgKHJlbFVSTC5tYXRjaCgvXiMvKSkge1xuICAgIHJldHVybiBiYXNlVVJMICsgcmVsVVJMO1xuICB9XG4gIGxldCBpID0gYmFzZVVSTC5sYXN0SW5kZXhPZihcIi9cIik7XG4gIGlmIChpIDwgMCkge1xuICAgIHJldHVybiByZWxVUkw7XG4gIH1cbiAgaWYgKGkgPCBiYXNlVVJMLmxlbmd0aCAtIDEpIHtcbiAgICBjb25zdCBqID0gYmFzZVVSTC5sYXN0SW5kZXhPZihcIi5cIik7XG4gICAgaWYgKGogPCBpKSB7XG4gICAgICAvLyBBc3N1bWUgdGhlIGxhc3QgcGFydCB3aXRob3V0ICcuJyB0byBiZSBhIGRpcmVjdG9yeSBuYW1lLlxuICAgICAgaWYgKHJlbFVSTCA9PSBcIlwiKSB7XG4gICAgICAgIHJldHVybiBiYXNlVVJMO1xuICAgICAgfVxuICAgICAgYmFzZVVSTCArPSBcIi9cIjtcbiAgICAgIGkgPSBiYXNlVVJMLmxlbmd0aCAtIDE7XG4gICAgfVxuICB9XG4gIGxldCB1cmwgPSBiYXNlVVJMLnN1YnN0cigwLCBpICsgMSkgKyByZWxVUkw7XG4gIGxldCB1cmxPcHRpb24gPSBcIlwiO1xuICByID0gdXJsLm1hdGNoKC9eKFtePyNdKikoWz8jXS4qKSQvKTtcbiAgaWYgKHIpIHtcbiAgICB1cmwgPSByWzFdO1xuICAgIHVybE9wdGlvbiA9IHJbMl07XG4gIH1cblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIGkgPSB1cmwuaW5kZXhPZihcIi8uLi9cIik7XG4gICAgaWYgKGkgPD0gMCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNvbnN0IGogPSB1cmwubGFzdEluZGV4T2YoXCIvXCIsIGkgLSAxKTtcbiAgICBpZiAoaiA8PSAwKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgdXJsID0gdXJsLnN1YnN0cigwLCBqKSArIHVybC5zdWJzdHIoaSArIDMpO1xuICB9XG4gIHJldHVybiB1cmwucmVwbGFjZSgvXFwvKFxcLlxcLykrL2csIFwiL1wiKSArIHVybE9wdGlvbjtcbn1cblxuLyoqXG4gKiBAcmV0dXJuIGNvbnZlcnRlZCBVUkxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRTcGVjaWFsVVJMKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgbGV0IHI6IFJlZ0V4cE1hdGNoQXJyYXk7XG4gIGlmIChcbiAgICAociA9IC9eKGh0dHBzPzopXFwvXFwvZ2l0aHViXFwuY29tXFwvKFteL10rXFwvW14vXSspXFwvKGJsb2JcXC98dHJlZVxcL3xyYXdcXC8pPyguKikkLy5leGVjKFxuICAgICAgdXJsLFxuICAgICkpXG4gICkge1xuICAgIC8vIENvbnZlcnQgR2l0SHViIFVSTCB0byBHaXRIdWIgcmF3IFVSTFxuICAgIHVybCA9IGAke3JbMV19Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tLyR7clsyXX0vJHtyWzNdID8gXCJcIiA6IFwibWFzdGVyL1wifSR7XG4gICAgICByWzRdXG4gICAgfWA7XG4gIH0gZWxzZSBpZiAoXG4gICAgKHIgPSAvXihodHRwcz86KVxcL1xcL3d3d1xcLmFvem9yYVxcLmdyXFwuanBcXC8oY2FyZHNcXC9bXi9dK1xcL2ZpbGVzXFwvW14vLl0rXFwuaHRtbCkkLy5leGVjKFxuICAgICAgdXJsLFxuICAgICkpXG4gICkge1xuICAgIC8vIENvbnZlcnQgQW96b3JhYnVua28gKFgpSFRNTCBVUkwgdG8gR2l0SHViIHJhdyBVUkxcbiAgICB1cmwgPSBgJHtyWzFdfS8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9hb3pvcmFidW5rby9hb3pvcmFidW5rby9tYXN0ZXIvJHtyWzJdfWA7XG4gIH0gZWxzZSBpZiAoXG4gICAgKHIgPSAvXihodHRwcz86KVxcL1xcL2dpc3RcXC5naXRodWJcXC5jb21cXC8oW14vXStcXC9cXHcrKShcXC98JCkocmF3KFxcL3wkKSk/KC4qKSQvLmV4ZWMoXG4gICAgICB1cmwsXG4gICAgKSlcbiAgKSB7XG4gICAgLy8gQ29udmVydCBHaXN0IFVSTCB0byBHaXN0IHJhdyBVUkxcbiAgICB1cmwgPSBgJHtyWzFdfS8vZ2lzdC5naXRodWJ1c2VyY29udGVudC5jb20vJHtyWzJdfS9yYXcvJHtyWzZdfWA7XG4gIH0gZWxzZSBpZiAoXG4gICAgKHIgPSAvXihodHRwcz86KVxcL1xcLyg/OlteLy5dK1xcLik/anNiaW5cXC5jb21cXC8oPyEoPzpibG9nfGhlbHApXFxiKShcXHcrKSgoXFwvXFxkKyk/KS4qJC8uZXhlYyhcbiAgICAgIHVybCxcbiAgICApKVxuICApIHtcbiAgICAvLyBDb252ZXJ0IEpTIEJpbiBVUkwgdG8gSlMgQmluIG91dHB1dCBVUkxcbiAgICB1cmwgPSBgJHtyWzFdfS8vb3V0cHV0LmpzYmluLmNvbS8ke3JbMl19JHtyWzNdfS9gO1xuICB9XG4gIHJldHVybiB1cmw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRG9jdW1lbnRVUkxUcmFuc2Zvcm1lciB7XG4gIHRyYW5zZm9ybUZyYWdtZW50KGZyYWdtZW50OiBzdHJpbmcsIGJhc2VVUkw6IHN0cmluZyk6IHN0cmluZztcblxuICB0cmFuc2Zvcm1VUkwodXJsOiBzdHJpbmcsIGJhc2VVUkw6IHN0cmluZyk6IHN0cmluZztcblxuICByZXN0b3JlVVJMKGVuY29kZWQ6IHN0cmluZyk6IHN0cmluZ1tdO1xufVxuXG4vKipcbiAqIFZhcmlvdXMgbmFtZXNwYWNlcy5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIE5TIHtcbiAgRkIyID0gXCJodHRwOi8vd3d3LmdyaWJ1c2VyLnJ1L3htbC9maWN0aW9uYm9vay8yLjBcIixcbiAgZXB1YiA9IFwiaHR0cDovL3d3dy5pZHBmLm9yZy8yMDA3L29wc1wiLFxuICBFViA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMS94bWwtZXZlbnRzXCIsXG4gIE1BVEhNTCA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTFwiLFxuICBYTUwgPSBcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLFxuICBYSFRNTCA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLFxuICBYTElOSyA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLFxuICBTSEFET1cgPSBcImh0dHA6Ly93d3cucHlyb3h5LmNvbS9ucy9zaGFkb3dcIixcbiAgU1ZHID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICBEQyA9IFwiaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS9cIixcbiAgTkNYID0gXCJodHRwOi8vd3d3LmRhaXN5Lm9yZy96Mzk4Ni8yMDA1L25jeC9cIixcbiAgU1NFID0gXCJodHRwOi8vZXhhbXBsZS5jb20vc3NlXCIsIC8vIHRlbXBvcmFyeSBkdW1teSBuYW1lc3BhY2Vcbn1cblxuLyoqXG4gKiBAcGFyYW0gbmFtZSBwYXJhbWV0ZXIgbmFtZVxuICogQHBhcmFtIG9wdF91cmwgVVJMOyB3aW5kb3cubG9jYXRpb24uaHJlZiBpcyB1c2VkIGlmIG5vdCBwcm92aWRlZFxuICogQHJldHVybiBwYXJhbWV0ZXIgdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVSTFBhcmFtKG5hbWU6IHN0cmluZywgb3B0X3VybD86IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICBjb25zdCByZyA9IG5ldyBSZWdFeHAoYCMoLiomKT8ke2VzY2FwZVJlZ0V4cChuYW1lKX09KFteIyZdKilgKTtcbiAgY29uc3QgdXJsID0gb3B0X3VybCB8fCB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgY29uc3QgciA9IHVybC5tYXRjaChyZyk7XG4gIGlmIChyKSB7XG4gICAgcmV0dXJuIHJbMl07XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQHBhcmFtIG5hbWUgcGFyYW1ldGVyIG5hbWVcbiAqIEBwYXJhbSB2YWx1ZSBwYXJhbWV0ZXIgdmFsdWVcbiAqIEByZXR1cm4gbmV3IHVybFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0VVJMUGFyYW0odXJsOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHJnID0gbmV3IFJlZ0V4cChgIyguKiYpPyR7ZXNjYXBlUmVnRXhwKG5hbWUpfT0oW14jJl0qKWApO1xuICBjb25zdCByID0gdXJsLm1hdGNoKHJnKTtcbiAgaWYgKHIpIHtcbiAgICBjb25zdCBsZW5ndGggPSByWzJdLmxlbmd0aDtcbiAgICBjb25zdCBpbmRleCA9IHIuaW5kZXggKyByWzBdLmxlbmd0aCAtIGxlbmd0aDtcbiAgICByZXR1cm4gdXJsLnN1YnN0cigwLCBpbmRleCkgKyB2YWx1ZSArIHVybC5zdWJzdHIoaW5kZXggKyBsZW5ndGgpO1xuICB9XG4gIGlmICghdXJsLm1hdGNoKC8jLykpIHtcbiAgICByZXR1cm4gYCR7dXJsfSMke25hbWV9PSR7dmFsdWV9YDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYCR7dXJsfSYke25hbWV9PSR7dmFsdWV9YDtcbiAgfVxufVxuXG4vKipcbiAqIEByZXR1cm4gP3N0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gYXNTdHJpbmcodjogYW55KTogYW55IHtcbiAgaWYgKHYgPT0gbnVsbCkge1xuICAgIHJldHVybiB2O1xuICB9XG4gIHJldHVybiB2LnRvU3RyaW5nKCk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGFyYWJsZSB7XG4gIC8qKlxuICAgKiBAcmV0dXJuIC0xIHdoZW4gdGhpcyBsZXNzIHRoZW4gb3RoZXIsIDAgd2hlbiB0aGlzIGVxdWFscyBvdGhlclxuICAgKi9cbiAgY29tcGFyZShvdGhlcjogQ29tcGFyYWJsZSk6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBBIHByaW9yaXR5IHF1ZXVlLlxuICovXG5leHBvcnQgY2xhc3MgUHJpb3JpdHlRdWV1ZSB7XG4gIHF1ZXVlOiBDb21wYXJhYmxlW10gPSBbbnVsbF07XG5cbiAgbGVuZ3RoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucXVldWUubGVuZ3RoIC0gMTtcbiAgfVxuXG4gIGFkZChpdGVtOiBDb21wYXJhYmxlKTogdm9pZCB7XG4gICAgbGV0IGluZGV4ID0gdGhpcy5xdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUgKGluZGV4ID4gMSkge1xuICAgICAgY29uc3QgcGFyZW50SW5kZXggPSBNYXRoLmZsb29yKGluZGV4IC8gMik7XG4gICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnF1ZXVlW3BhcmVudEluZGV4XTtcbiAgICAgIGlmIChwYXJlbnQuY29tcGFyZShpdGVtKSA+IDApIHtcbiAgICAgICAgdGhpcy5xdWV1ZVtpbmRleF0gPSBpdGVtO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnF1ZXVlW2luZGV4XSA9IHBhcmVudDtcbiAgICAgIGluZGV4ID0gcGFyZW50SW5kZXg7XG4gICAgfVxuICAgIHRoaXMucXVldWVbMV0gPSBpdGVtO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gaGlnaGVzdCBwcmlvcml0eSBDb21wYXJhYmxlLlxuICAgKi9cbiAgcGVlaygpOiBDb21wYXJhYmxlIHtcbiAgICByZXR1cm4gdGhpcy5xdWV1ZVsxXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGhpZ2hlc3QtcHJpb3JpdHkgaXRlbSBmcm9tIHRoZSBxdWV1ZS5cbiAgICogQHJldHVybiByZW1vdmVkIGl0ZW0uXG4gICAqL1xuICByZW1vdmUoKTogQ29tcGFyYWJsZSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5xdWV1ZVsxXSBhcyBDb21wYXJhYmxlO1xuICAgIGNvbnN0IGN1cnIgPSB0aGlzLnF1ZXVlLnBvcCgpIGFzIENvbXBhcmFibGU7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMucXVldWUubGVuZ3RoO1xuICAgIGlmIChzaXplID4gMSkge1xuICAgICAgbGV0IGluZGV4ID0gMTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGxldCBjaGlsZEluZGV4ID0gaW5kZXggKiAyO1xuICAgICAgICBpZiAoY2hpbGRJbmRleCA+PSBzaXplKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucXVldWVbY2hpbGRJbmRleF0uY29tcGFyZShjdXJyKSA+IDApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjaGlsZEluZGV4ICsgMSA8IHNpemUgJiZcbiAgICAgICAgICAgIHRoaXMucXVldWVbY2hpbGRJbmRleCArIDFdLmNvbXBhcmUoXG4gICAgICAgICAgICAgIHRoaXMucXVldWVbY2hpbGRJbmRleF0gYXMgQ29tcGFyYWJsZSxcbiAgICAgICAgICAgICkgPiAwXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjaGlsZEluZGV4Kys7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIGNoaWxkSW5kZXggKyAxIDwgc2l6ZSAmJlxuICAgICAgICAgIHRoaXMucXVldWVbY2hpbGRJbmRleCArIDFdLmNvbXBhcmUoY3VycikgPiAwXG4gICAgICAgICkge1xuICAgICAgICAgIGNoaWxkSW5kZXgrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnF1ZXVlW2luZGV4XSA9IHRoaXMucXVldWVbY2hpbGRJbmRleF07XG4gICAgICAgIGluZGV4ID0gY2hpbGRJbmRleDtcbiAgICAgIH1cbiAgICAgIHRoaXMucXVldWVbaW5kZXhdID0gY3VycjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSBwcmVmaXggUHJlZml4IChjb250YWluaW5nIGxlYWRpbmcgYW5kIHRyYWlsaW5nIGh5cGhlbnMpXG4gKiBAcGFyYW0gY3NzUHJvcE5hbWUgQ1NTIHByb3BlcnR5IG5hbWVcbiAqIEByZXR1cm4gSmF2YVNjcmlwdCBwcm9wZXJ0eSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjc3NUb0pTUHJvcChwcmVmaXg6IHN0cmluZywgY3NzUHJvcE5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmIChwcmVmaXgpIHtcbiAgICBjc3NQcm9wTmFtZSA9IGAtJHtjc3NQcm9wTmFtZX1gO1xuICAgIHByZWZpeCA9IHByZWZpeC5yZXBsYWNlKC8tL2csIFwiXCIpO1xuICAgIGlmIChwcmVmaXggPT09IFwibW96XCIpIHtcbiAgICAgIHByZWZpeCA9IFwiTW96XCI7XG4gICAgfVxuICB9XG4gIHJldHVybiAoXG4gICAgcHJlZml4ICtcbiAgICBjc3NQcm9wTmFtZS5yZXBsYWNlKC8tW2Etel0vZywgKHR4dCkgPT4gdHh0LnN1YnN0cigxKS50b1VwcGVyQ2FzZSgpKVxuICApO1xufVxuXG5leHBvcnQgY29uc3Qga25vd25QcmVmaXhlcyA9IFtcIlwiLCBcIi13ZWJraXQtXCIsIFwiLW1vei1cIiwgXCItbXMtXCIsIFwiLW8tXCIsIFwiLWVwdWItXCJdO1xuXG5leHBvcnQgY29uc3QgcHJvcE5hbWVNYXAgPSB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcbiAgcHJlZml4OiBzdHJpbmcsXG4gIHByb3A6IHN0cmluZyxcbik6IGJvb2xlYW4ge1xuICAvLyBTcGVjaWFsIGNhc2VcbiAgaWYgKHByb3AgPT09IFwid3JpdGluZy1tb2RlXCIpIHtcbiAgICBjb25zdCBwcm9iZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGlmIChwcmVmaXggPT09IFwiLW1zLVwiKSB7XG4gICAgICBwcm9iZS5zdHlsZS5zZXRQcm9wZXJ0eShwcmVmaXggKyBwcm9wLCBcInRiLXJsXCIpO1xuICAgICAgcmV0dXJuIHByb2JlLnN0eWxlW1wid3JpdGluZy1tb2RlXCJdID09PSBcInRiLXJsXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2JlLnN0eWxlLnNldFByb3BlcnR5KHByZWZpeCArIHByb3AsIFwidmVydGljYWwtcmxcIik7XG4gICAgICByZXR1cm4gcHJvYmUuc3R5bGVbcHJlZml4ICsgcHJvcF0gPT09IFwidmVydGljYWwtcmxcIjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGU7XG4gICAgcmV0dXJuIHR5cGVvZiBzdHlsZVtjc3NUb0pTUHJvcChwcmVmaXgsIHByb3ApXSA9PT0gXCJzdHJpbmdcIjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWVzKHByb3A6IHN0cmluZyk6IHN0cmluZ1tdIHwgbnVsbCB7XG4gIGxldCBwcmVmaXhlZCA9IHByb3BOYW1lTWFwW3Byb3BdO1xuICBpZiAocHJlZml4ZWQgfHwgcHJlZml4ZWQgPT09IG51bGwpIHtcbiAgICAvLyBudWxsIG1lYW5zIHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdGhlIHByb3BlcnR5XG4gICAgcmV0dXJuIHByZWZpeGVkO1xuICB9XG4gIHN3aXRjaCAocHJvcCkge1xuICAgIGNhc2UgXCJ0ZXh0LWNvbWJpbmUtdXByaWdodFwiOlxuICAgICAgLy8gU3BlY2lhbCBjYXNlIGZvciBTYWZhcmlcbiAgICAgIGlmIChcbiAgICAgICAgY2hlY2tJZlByb3BlcnR5U3VwcG9ydGVkKFwiLXdlYmtpdC1cIiwgXCJ0ZXh0LWNvbWJpbmVcIikgJiZcbiAgICAgICAgIWNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIlwiLCBcInRleHQtY29tYmluZS11cHJpZ2h0XCIpXG4gICAgICApIHtcbiAgICAgICAgcHJvcE5hbWVNYXBbcHJvcF0gPSBbXCItd2Via2l0LXRleHQtY29tYmluZVwiXTtcbiAgICAgICAgcmV0dXJuIFtcIi13ZWJraXQtdGV4dC1jb21iaW5lXCJdO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIndyaXRpbmctbW9kZVwiOlxuICAgICAgLy8gU3BlY2lhbCBjYXNlOiBwcmVmZXIgJy1tcy13cml0aW5nLW1vZGUnIHRvICd3cml0aW5nLW1vZGUnXG4gICAgICBpZiAoY2hlY2tJZlByb3BlcnR5U3VwcG9ydGVkKFwiLW1zLVwiLCBcIndyaXRpbmctbW9kZVwiKSkge1xuICAgICAgICBwcm9wTmFtZU1hcFtwcm9wXSA9IFtcIi1tcy13cml0aW5nLW1vZGVcIl07XG4gICAgICAgIHJldHVybiBbXCItbXMtd3JpdGluZy1tb2RlXCJdO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImZpbHRlclwiOlxuICAgICAgLy8gU3BlY2lhbCBjYXNlOiBwcmVmZXIgJy13ZWJraXQtZmlsdGVyJyB0byAnZmlsdGVyJ1xuICAgICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIi13ZWJraXQtXCIsIFwiZmlsdGVyXCIpKSB7XG4gICAgICAgIHByb3BOYW1lTWFwW3Byb3BdID0gW1wiLXdlYmtpdC1maWx0ZXJcIl07XG4gICAgICAgIHJldHVybiBbXCItd2Via2l0LWZpbHRlclwiXTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJjbGlwLXBhdGhcIjpcbiAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgY2hyb21lLlxuICAgICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIi13ZWJraXQtXCIsIFwiY2xpcC1wYXRoXCIpKSB7XG4gICAgICAgIHJldHVybiAocHJvcE5hbWVNYXBbcHJvcF0gPSBbXCItd2Via2l0LWNsaXAtcGF0aFwiLCBcImNsaXAtcGF0aFwiXSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwibWFyZ2luLWlubGluZS1zdGFydFwiOlxuICAgICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIi13ZWJraXQtXCIsIFwibWFyZ2luLXN0YXJ0XCIpKSB7XG4gICAgICAgIHByb3BOYW1lTWFwW3Byb3BdID0gW1wiLXdlYmtpdC1tYXJnaW4tc3RhcnRcIl07XG4gICAgICAgIHJldHVybiBbXCItd2Via2l0LW1hcmdpbi1zdGFydFwiXTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJtYXJnaW4taW5saW5lLWVuZFwiOlxuICAgICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIi13ZWJraXQtXCIsIFwibWFyZ2luLWVuZFwiKSkge1xuICAgICAgICBwcm9wTmFtZU1hcFtwcm9wXSA9IFtcIi13ZWJraXQtbWFyZ2luLWVuZFwiXTtcbiAgICAgICAgcmV0dXJuIFtcIi13ZWJraXQtbWFyZ2luLWVuZFwiXTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJwYWRkaW5nLWlubGluZS1zdGFydFwiOlxuICAgICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIi13ZWJraXQtXCIsIFwicGFkZGluZy1zdGFydFwiKSkge1xuICAgICAgICBwcm9wTmFtZU1hcFtwcm9wXSA9IFtcIi13ZWJraXQtcGFkZGluZy1zdGFydFwiXTtcbiAgICAgICAgcmV0dXJuIFtcIi13ZWJraXQtcGFkZGluZy1zdGFydFwiXTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJwYWRkaW5nLWlubGluZS1lbmRcIjpcbiAgICAgIGlmIChjaGVja0lmUHJvcGVydHlTdXBwb3J0ZWQoXCItd2Via2l0LVwiLCBcInBhZGRpbmctZW5kXCIpKSB7XG4gICAgICAgIHByb3BOYW1lTWFwW3Byb3BdID0gW1wiLXdlYmtpdC1wYWRkaW5nLWVuZFwiXTtcbiAgICAgICAgcmV0dXJuIFtcIi13ZWJraXQtcGFkZGluZy1lbmRcIl07XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgfVxuICBmb3IgKGNvbnN0IHByZWZpeCBvZiBrbm93blByZWZpeGVzKSB7XG4gICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChwcmVmaXgsIHByb3ApKSB7XG4gICAgICBwcmVmaXhlZCA9IHByZWZpeCArIHByb3A7XG4gICAgICBwcm9wTmFtZU1hcFtwcm9wXSA9IFtwcmVmaXhlZF07XG4gICAgICByZXR1cm4gW3ByZWZpeGVkXTtcbiAgICB9XG4gIH1cblxuICAvLyBOb3Qgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyXG4gIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJQcm9wZXJ0eSBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyOiBcIiwgcHJvcCk7XG4gIHByb3BOYW1lTWFwW3Byb3BdID0gbnVsbDtcbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRDU1NQcm9wZXJ0eShcbiAgZWxlbTogRWxlbWVudCxcbiAgcHJvcDogc3RyaW5nLFxuICB2YWx1ZTogc3RyaW5nLFxuKTogdm9pZCB7XG4gIHRyeSB7XG4gICAgY29uc3QgcHJlZml4ZWRQcm9wZXJ0eU5hbWVzID0gZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWVzKHByb3ApO1xuICAgIGlmICghcHJlZml4ZWRQcm9wZXJ0eU5hbWVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByZWZpeGVkUHJvcGVydHlOYW1lcy5mb3JFYWNoKChwcmVmaXhlZCkgPT4ge1xuICAgICAgaWYgKHByZWZpeGVkID09PSBcIi1tcy13cml0aW5nLW1vZGVcIikge1xuICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcImhvcml6b250YWwtdGJcIjpcbiAgICAgICAgICAgIHZhbHVlID0gXCJsci10YlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInZlcnRpY2FsLXJsXCI6XG4gICAgICAgICAgICB2YWx1ZSA9IFwidGItcmxcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ2ZXJ0aWNhbC1sclwiOlxuICAgICAgICAgICAgdmFsdWUgPSBcInRiLWxyXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwcmVmaXhlZCA9PT0gXCItd2Via2l0LXRleHQtY29tYmluZVwiKSB7XG4gICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwiYWxsXCI6XG4gICAgICAgICAgICB2YWx1ZSA9IFwiaG9yaXpvbnRhbFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChlbGVtICYmIChlbGVtIGFzIEhUTUxFbGVtZW50KS5zdHlsZSkge1xuICAgICAgICAoZWxlbSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuc2V0UHJvcGVydHkocHJlZml4ZWQsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDU1NQcm9wZXJ0eShcbiAgZWxlbTogRWxlbWVudCxcbiAgcHJvcDogc3RyaW5nLFxuICBvcHRfdmFsdWU/OiBzdHJpbmcsXG4pOiBzdHJpbmcge1xuICB0cnkge1xuICAgIGNvbnN0IHByb3BlcnR5TmFtZXMgPSBwcm9wTmFtZU1hcFtwcm9wXTtcbiAgICByZXR1cm4gKGVsZW0gYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmdldFByb3BlcnR5VmFsdWUoXG4gICAgICBwcm9wZXJ0eU5hbWVzID8gcHJvcGVydHlOYW1lc1swXSA6IHByb3AsXG4gICAgKTtcbiAgfSBjYXRjaCAoZXJyKSB7fVxuICByZXR1cm4gb3B0X3ZhbHVlIHx8IFwiXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYW5nQXR0cmlidXRlKGVsZW1lbnQ6IEVsZW1lbnQpOiBzdHJpbmcge1xuICBsZXQgbGFuZyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlTlMoTlMuWE1MLCBcImxhbmdcIik7XG4gIGlmICghbGFuZyAmJiBlbGVtZW50Lm5hbWVzcGFjZVVSSSA9PSBOUy5YSFRNTCkge1xuICAgIGxhbmcgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImxhbmdcIik7XG4gIH1cbiAgcmV0dXJuIGxhbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBTdHJpbmdCdWZmZXIge1xuICBsaXN0OiBzdHJpbmdbXSA9IFtdO1xuXG4gIGFwcGVuZChzdHI6IHN0cmluZyk6IFN0cmluZ0J1ZmZlciB7XG4gICAgdGhpcy5saXN0LnB1c2goc3RyKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGNsZWFyKCk6IHZvaWQge1xuICAgIHRoaXMubGlzdCA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBjb25zdCBzdHIgPSB0aGlzLmxpc3Quam9pbihcIlwiKTtcbiAgICB0aGlzLmxpc3QgPSBbc3RyXTtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVDaGFyKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgLy8gbm90IGNhbGxlZCBmb3Igc3Vycm9nYXRlIHBhaXJzLCBubyBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoZW1cbiAgcmV0dXJuIGBcXFxcJHtzdHIuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNil9IGA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVDU1NJZGVudChuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gbmFtZS5yZXBsYWNlKC9bXi1fYS16QS1aMC05XFx1MDA4MC1cXHVGRkZGXS9nLCBlc2NhcGVDaGFyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZUNTU1N0cihzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvW1xcdTAwMDAtXFx1MDAxRlwiXFxcXF0vZywgZXNjYXBlQ2hhcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaWdodFVSTEVuY29kZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvW1xccysmPz0jXFx1MDA3Ri1cXHVGRkZGXSsvZywgZW5jb2RlVVJJQ29tcG9uZW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTGV0dGVyKGNoOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuICEhY2gubWF0Y2goXG4gICAgL15bYS16QS1aXFx1MDA5RVxcdTAwOUZcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyNEZcXHUwMzdCLVxcdTAzN0RcXHUwMzg2XFx1MDM4OC1cXHUwNDgyXFx1MDQ4QS1cXHUwNTI3XSQvLFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlQ2hhclRvSGV4KHN0cjogc3RyaW5nLCBwcmVmaXg/OiBzdHJpbmcpOiBzdHJpbmcge1xuICBwcmVmaXggPSB0eXBlb2YgcHJlZml4ID09PSBcInN0cmluZ1wiID8gcHJlZml4IDogXCJcXFxcdVwiO1xuICByZXR1cm4gcHJlZml4ICsgKDY1NTM2IHwgc3RyLmNoYXJDb2RlQXQoMCkpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVOYW1lU3RyVG9IZXgoc3RyOiBzdHJpbmcsIHByZWZpeD86IHN0cmluZyk6IHN0cmluZyB7XG4gIGZ1bmN0aW9uIGVzY2FwZUNoYXIocykge1xuICAgIHJldHVybiBlc2NhcGVDaGFyVG9IZXgocywgcHJlZml4KTtcbiAgfVxuICByZXR1cm4gc3RyLnJlcGxhY2UoL1teLWEtekEtWjAtOV9dL2csIGVzY2FwZUNoYXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGVzY2FwZU5hbWVTdHJUb0hleChzdHIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5lc2NhcGVDaGFyRnJvbUhleChzdHI6IHN0cmluZywgcHJlZml4Pzogc3RyaW5nKTogc3RyaW5nIHtcbiAgcHJlZml4ID0gdHlwZW9mIHByZWZpeCA9PT0gXCJzdHJpbmdcIiA/IHByZWZpeCA6IFwiXFxcXHVcIjtcbiAgaWYgKHN0ci5pbmRleE9mKHByZWZpeCkgPT09IDApIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChzdHIuc3Vic3RyaW5nKHByZWZpeC5sZW5ndGgpLCAxNikpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuZXNjYXBlU3RyRnJvbUhleChzdHI6IHN0cmluZywgcHJlZml4Pzogc3RyaW5nKTogc3RyaW5nIHtcbiAgcHJlZml4ID0gdHlwZW9mIHByZWZpeCA9PT0gXCJzdHJpbmdcIiA/IHByZWZpeCA6IFwiXFxcXHVcIjtcblxuICBmdW5jdGlvbiB1bmVzY2FwZUNoYXIocykge1xuICAgIHJldHVybiB1bmVzY2FwZUNoYXJGcm9tSGV4KHMsIHByZWZpeCk7XG4gIH1cbiAgY29uc3QgcmVnZXhwID0gbmV3IFJlZ0V4cChgJHtlc2NhcGVSZWdFeHAocHJlZml4KX1bMC05YS1mQS1GXXs0fWAsIFwiZ1wiKTtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKHJlZ2V4cCwgdW5lc2NhcGVDaGFyKTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiBnb29kIGlzIGRlZmluZWQgZm9yIGludHMgZnJvbSAwIHRvIGhpZ2gtMS4gSXQgaXMgc3VjaCB0aGF0IGZvclxuICogZWFjaCBpIGJldHdlZW4gMSBhbmQgaGlnaC0xICFnb29kKGktMSkgfHwgZ29vZChpKSBpcyB0cnVlLiBJbiBvdGhlciB3b3JkcyxcbiAqIGl0IGdvZXMgbGlrZSBmYWxzZSAuLi4gZmFsc2UgdHJ1ZSAuLi4gdHJ1ZS5cbiAqIEZpbmQgaSBzdWNoIHRoYXQgKGkgPT0gMCB8fCAhZ29vZChpLTEpKSAmJiAoaSA9PSBoIHx8IGdvb2QoaSkpXG4gKiBJbiBvdGhlciB3b3JkcywgZ29vZChpKSBpcyB0aGUgXCJmaXJzdFwiIGdvb2QgPSB0cnVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluYXJ5U2VhcmNoKFxuICBoaWdoOiBudW1iZXIsXG4gIGdvb2Q6IChwMTogbnVtYmVyKSA9PiBib29sZWFuLFxuKTogbnVtYmVyIHtcbiAgbGV0IGwgPSAwO1xuICBsZXQgaCA9IGhpZ2g7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgQXNzZXJ0cy5hc3NlcnQobCA8PSBoKTtcbiAgICBBc3NlcnRzLmFzc2VydChsID09IDAgfHwgIWdvb2QobCAtIDEpKTtcbiAgICBBc3NlcnRzLmFzc2VydChoID09IGhpZ2ggfHwgZ29vZChoKSk7XG4gICAgaWYgKGwgPT0gaCkge1xuICAgICAgcmV0dXJuIGw7XG4gICAgfVxuICAgIGNvbnN0IG0gPSAobCArIGgpID4+IDE7XG4gICAgaWYgKGdvb2QobSkpIHtcbiAgICAgIGggPSBtO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gbSArIDE7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gc29ydCBudW1iZXJzIGxvdyB0byBoaWdoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBudW1iZXJDb21wYXJlKGE6IG51bWJlciwgYjogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIGEgLSBiO1xufVxuXG5leHBvcnQgY29uc3QgYmFzZTY0Q2hhcnMgPVxuICBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZEJhc2U2NChzYjogU3RyaW5nQnVmZmVyLCBkYXRhOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gIGNvbnN0IGxlbmd0aDMgPSBNYXRoLmZsb29yKGxlbmd0aCAvIDMpICogMztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGgzOyBpICs9IDMpIHtcbiAgICBjb25zdCBjMSA9IGRhdGEuY2hhckNvZGVBdChpKSAmIDI1NTtcbiAgICBjb25zdCBjMiA9IGRhdGEuY2hhckNvZGVBdChpICsgMSkgJiAyNTU7XG4gICAgY29uc3QgYzMgPSBkYXRhLmNoYXJDb2RlQXQoaSArIDIpICYgMjU1O1xuICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoYzEgPj4gMikpO1xuICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoKChjMSA8PCA0KSB8IChjMiA+PiA0KSkgJiA2MykpO1xuICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoKChjMiA8PCAyKSB8IChjMyA+PiA2KSkgJiA2MykpO1xuICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoYzMgJiA2MykpO1xuICB9XG4gIHN3aXRjaCAobGVuZ3RoIC0gbGVuZ3RoMykge1xuICAgIGNhc2UgMToge1xuICAgICAgY29uc3QgcDEgPSBkYXRhLmNoYXJDb2RlQXQobGVuZ3RoMykgJiAyNTU7XG4gICAgICBzYi5hcHBlbmQoYmFzZTY0Q2hhcnMuY2hhckF0KHAxID4+IDIpKTtcbiAgICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoKHAxIDw8IDQpICYgNjMpKTtcbiAgICAgIHNiLmFwcGVuZChcIj09XCIpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgMjoge1xuICAgICAgY29uc3QgcTEgPSBkYXRhLmNoYXJDb2RlQXQobGVuZ3RoMykgJiAyNTU7XG4gICAgICBjb25zdCBxMiA9IGRhdGEuY2hhckNvZGVBdChsZW5ndGgzICsgMSkgJiAyNTU7XG4gICAgICBzYi5hcHBlbmQoYmFzZTY0Q2hhcnMuY2hhckF0KHExID4+IDIpKTtcbiAgICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoKChxMSA8PCA0KSB8IChxMiA+PiA0KSkgJiA2MykpO1xuICAgICAgc2IuYXBwZW5kKGJhc2U2NENoYXJzLmNoYXJBdCgocTIgPDwgMikgJiA2MykpO1xuICAgICAgc2IuYXBwZW5kKFwiPVwiKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEluZGV4IGFycmF5IHVzaW5nIGtleSBmdW5jdGlvbi4gRmlyc3QgZW5jb3VudGVyZWQgaXRlbSB3aW5zIG9uIGNvbGxpc2lvbi5cbiAqIEVsZW1lbnRzIHdpdGggZW1wdHkgYW5kIG51bGwga2V5cyBhcmUgZHJvcHBlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZGV4QXJyYXk8VD4oXG4gIGFycjogVFtdLFxuICBrZXk6IChwMTogVCkgPT4gc3RyaW5nIHwgbnVsbCxcbik6IHsgW2tleTogc3RyaW5nXTogVCB9IHtcbiAgY29uc3QgbWFwOiB7IFtrZXk6IHN0cmluZ106IFQgfSA9IHt9O1xuICBmb3IgKGNvbnN0IHYgb2YgYXJyKSB7XG4gICAgY29uc3Qgazogc3RyaW5nIHwgbnVsbCA9IGtleSh2KTtcbiAgICBpZiAoayAmJiAhbWFwW2tdKSB7XG4gICAgICBtYXBba10gPSB2O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWFwO1xufVxuXG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2Ygc3RyaW5ncyB0byBhbiBvYmplY3Qgd2l0aCB0aGUgdmFsdWVzIGluIHRoZSBhcnJheSBzZXQgdG9cbiAqIHRydWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcnJheVRvU2V0KGFycjogc3RyaW5nW10pOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSB7XG4gIGNvbnN0IHNldCA9IHt9O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIHNldFthcnJbaV1dID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gc2V0O1xufVxuXG4vKipcbiAqIEluZGV4IGFycmF5IHVzaW5nIGtleSBmdW5jdGlvbi4gUmVwZWF0ZWQgaW5kaWNlcyBhcmUgYWxsIGNvbWJpbmVkIGludG9cbiAqIGFycmF5cy4gRWxlbWVudHMgd2l0aCBlbXB0eSBhbmQgbnVsbCBrZXlzIGFyZSBkcm9wcGVkLiBPcmRlcmluZyBvZiB0aGVcbiAqIGVsZW1lbnRzIGluIGFycmF5cyBpcyBwcmVzZXJ2ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aUluZGV4QXJyYXk8VD4oXG4gIGFycjogVFtdLFxuICBrZXk6IChwMTogVCkgPT4gc3RyaW5nIHwgbnVsbCxcbik6IHsgW2tleTogc3RyaW5nXTogVFtdIH0ge1xuICBjb25zdCBtYXA6IHsgW2tleTogc3RyaW5nXTogVFtdIH0gPSB7fTtcbiAgZm9yIChjb25zdCB2IG9mIGFycikge1xuICAgIGNvbnN0IGsgPSBrZXkodik7XG4gICAgaWYgKGspIHtcbiAgICAgIGlmIChtYXBba10pIHtcbiAgICAgICAgbWFwW2tdLnB1c2godik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXBba10gPSBbdl07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXA7XG59XG5cbi8qKlxuICogQXBwbHkgZnVuY3Rpb24gdG8gZWFjaCB2YWx1ZSBvZiB0aGUgb2JqZWN0XG4gKiBAcGFyYW0gZm4gc2Vjb25kIHBhcmFtZXRlciBpcyB0aGUga2V5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXBPYmo8UCwgUj4oXG4gIG9iajogeyBba2V5OiBzdHJpbmddOiBQIH0sXG4gIGZuOiAocDE6IFAsIHAyOiBzdHJpbmcpID0+IFIsXG4pOiB7IFtrZXk6IHN0cmluZ106IFIgfSB7XG4gIGNvbnN0IHJlczogeyBba2V5OiBzdHJpbmddOiBSIH0gPSB7fTtcbiAgZm9yIChjb25zdCBuIGluIG9iaikge1xuICAgIHJlc1tuXSA9IGZuKG9ialtuXSwgbik7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcFNpemUob2JqOiBvYmplY3QpOiBudW1iZXIge1xuICBsZXQgbiA9IDA7XG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIG4rKztcbiAgfVxuICByZXR1cm4gbjtcbn1cblxuZXhwb3J0IHR5cGUgRXZlbnQgPSB7XG4gIHR5cGU6IHN0cmluZztcbiAgdGFyZ2V0PztcbiAgY3VycmVudFRhcmdldD87XG4gIHByZXZlbnREZWZhdWx0PztcbiAgbmV3UGFnZT87XG4gIGFuY2hvckVsZW1lbnQ/O1xuICBocmVmPztcbiAgY29udGVudD87XG59O1xuXG5leHBvcnQgdHlwZSBFdmVudExpc3RlbmVyID0gKHAxOiBFdmVudCkgPT4gdm9pZDtcblxuLyoqXG4gKiBFeHRlbWVseSBzaW1wbGUtbWluZGVkIEV2ZW50VGFyZ2V0IGltcGxlbWVudGF0aW9uLiBDb25zaWRlciB1c2luZ1xuICogZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQgaWYgeW91IGFyZSB1c2luZyBDbG9zdXJlIGxpYnJhcnkuXG4gKi9cbmV4cG9ydCBjbGFzcyBTaW1wbGVFdmVudFRhcmdldCB7XG4gIGxpc3RlbmVyczogeyBba2V5OiBzdHJpbmddOiBFdmVudExpc3RlbmVyW10gfSA9IHt9O1xuXG4gIGRpc3BhdGNoRXZlbnQoZXZ0OiBFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IGxpc3QgPSB0aGlzLmxpc3RlbmVyc1tldnQudHlwZV07XG4gICAgaWYgKGxpc3QpIHtcbiAgICAgIGV2dC50YXJnZXQgPSB0aGlzO1xuICAgICAgZXZ0LmN1cnJlbnRUYXJnZXQgPSB0aGlzO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxpc3RbaV0oZXZ0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVyKFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBsaXN0ZW5lcjogRXZlbnRMaXN0ZW5lcixcbiAgICBjYXB0dXJlPzogYm9vbGVhbixcbiAgKTogdm9pZCB7XG4gICAgaWYgKGNhcHR1cmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbGlzdCA9IHRoaXMubGlzdGVuZXJzW3R5cGVdO1xuICAgIGlmIChsaXN0KSB7XG4gICAgICBsaXN0LnB1c2gobGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxpc3RlbmVyc1t0eXBlXSA9IFtsaXN0ZW5lcl07XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgbGlzdGVuZXI6IEV2ZW50TGlzdGVuZXIsXG4gICAgY2FwdHVyZT86IGJvb2xlYW4sXG4gICk6IHZvaWQge1xuICAgIGlmIChjYXB0dXJlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGxpc3QgPSB0aGlzLmxpc3RlbmVyc1t0eXBlXTtcbiAgICBpZiAobGlzdCkge1xuICAgICAgY29uc3QgaW5kZXggPSBsaXN0LmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZXhwb3J0IHR5cGUgRXZlbnRUYXJnZXQgPSBTaW1wbGVFdmVudFRhcmdldDtcblxuZXhwb3J0IGxldCBoYXNMU2hhcGVGbG9hdEJ1ZzogYm9vbGVhbiB8IG51bGwgPSBudWxsO1xuXG4vKipcbiAqIENoZWNrIGlmIHRoZXJlIGlzIGEgYnVnIHdpdGggTC1zaGFwZSBmbG9hdHMgb3ZlcmxhcHBpbmcgdGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrTFNoYXBlRmxvYXRCdWcoYm9keTogSFRNTEVsZW1lbnQpOiBib29sZWFuIHtcbiAgaWYgKGhhc0xTaGFwZUZsb2F0QnVnID09IG51bGwpIHtcbiAgICBjb25zdCBkb2MgPSBib2R5Lm93bmVyRG9jdW1lbnQ7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSBcIjBweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSBcIjEwMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiMTAwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5saW5lSGVpZ2h0ID0gXCIxNnB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLmZvbnRTaXplID0gXCIxNnB4XCI7XG4gICAgYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgIGNvbnN0IGYxID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgZjEuc3R5bGUud2lkdGggPSBcIjBweFwiO1xuICAgIGYxLnN0eWxlLmhlaWdodCA9IFwiMTRweFwiO1xuICAgIGYxLnN0eWxlLmNzc0Zsb2F0ID0gXCJsZWZ0XCI7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGYxKTtcbiAgICBjb25zdCBmMiA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIGYyLnN0eWxlLndpZHRoID0gXCI1MHB4XCI7XG4gICAgZjIuc3R5bGUuaGVpZ2h0ID0gXCI1MHB4XCI7XG4gICAgZjIuc3R5bGUuY3NzRmxvYXQgPSBcImxlZnRcIjtcbiAgICBmMi5zdHlsZS5jbGVhciA9IFwibGVmdFwiO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChmMik7XG4gICAgY29uc3QgdCA9IGRvYy5jcmVhdGVUZXh0Tm9kZShcImEgYSBhIGEgYSBhIGEgYSBhIGEgYSBhIGEgYSBhIGFcIik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHQpO1xuICAgIGNvbnN0IHJhbmdlID0gZG9jLmNyZWF0ZVJhbmdlKCk7XG4gICAgcmFuZ2Uuc2V0U3RhcnQodCwgMCk7XG4gICAgcmFuZ2Uuc2V0RW5kKHQsIDEpO1xuICAgIGNvbnN0IGxlZnRFZGdlID0gcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICBoYXNMU2hhcGVGbG9hdEJ1ZyA9IGxlZnRFZGdlIDwgNDA7XG4gICAgYm9keS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICB9XG4gIHJldHVybiBoYXNMU2hhcGVGbG9hdEJ1Zztcbn1cblxuZXhwb3J0IGxldCBoYXNWZXJ0aWNhbEJCb3hCdWc6IGJvb2xlYW4gfCBudWxsID0gbnVsbDtcblxuLyoqXG4gKiBDaGVjayBpZiB0aGVyZSBpcyBhIGJ1ZyB3aXRoIHRoZSBib3VuZGluZyBib3hlcyBvZiB2ZXJ0aWNhbCB0ZXh0IGNoYXJhY3RlcnMuXG4gKiBUaG91Z2ggbWV0aG9kIHVzZWQgdG8gYmUgdXNlZCBjaGVjayBDaHJvbWUgYnVnLCBpdCBzZWVtcyB0aGF0IHRoZSBidWcgaGFzXG4gKiBiZWVuIGFscmVhZHkgZml4ZWQ6XG4gKiAgIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI5NzgwOFxuICogV2Ugbm93IHVzZSB0aGlzIG1ldGhvZCB0byBjaGVjayBGaXJlZm94IGJ1ZzpcbiAqICAgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTE1OTMwOVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tWZXJ0aWNhbEJCb3hCdWcoYm9keTogSFRNTEVsZW1lbnQpOiBib29sZWFuIHtcbiAgaWYgKGhhc1ZlcnRpY2FsQkJveEJ1ZyA9PSBudWxsKSB7XG4gICAgY29uc3QgZG9jID0gYm9keS5vd25lckRvY3VtZW50O1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBjb250YWluZXIuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gXCIxMDBweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBcIjEwMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICBjb250YWluZXIuc3R5bGUubGluZUhlaWdodCA9IFwiMTZweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5mb250U2l6ZSA9IFwiMTZweFwiO1xuICAgIHNldENTU1Byb3BlcnR5KGNvbnRhaW5lciwgXCJ3cml0aW5nLW1vZGVcIiwgXCJ2ZXJ0aWNhbC1ybFwiKTtcbiAgICBib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgY29uc3QgdCA9IGRvYy5jcmVhdGVUZXh0Tm9kZShcImEgYSBhIGEgYSBhIGEgYSBhIGEgYSBhIGEgYSBhIGFcIik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHQpO1xuICAgIGNvbnN0IHJhbmdlID0gZG9jLmNyZWF0ZVJhbmdlKCk7XG4gICAgcmFuZ2Uuc2V0U3RhcnQodCwgMCk7XG4gICAgcmFuZ2Uuc2V0RW5kKHQsIDEpO1xuICAgIGNvbnN0IGJveCA9IHJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGhhc1ZlcnRpY2FsQkJveEJ1ZyA9IGJveC5yaWdodCAtIGJveC5sZWZ0IDwgMTA7XG4gICAgYm9keS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICB9XG4gIHJldHVybiBoYXNWZXJ0aWNhbEJCb3hCdWc7XG59XG5cbmV4cG9ydCBsZXQgaGFzSW5saW5lQmxvY2tKdXN0aWZpY2F0aW9uQnVnOiBib29sZWFuIHwgbnVsbCA9IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0lubGluZUJsb2NrSnVzdGlmaWNhdGlvbkJ1Zyhib2R5OiBIVE1MRWxlbWVudCk6IGJvb2xlYW4ge1xuICBpZiAoaGFzSW5saW5lQmxvY2tKdXN0aWZpY2F0aW9uQnVnID09PSBudWxsKSB7XG4gICAgY29uc3QgZG9jID0gYm9keS5vd25lckRvY3VtZW50O1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBjb250YWluZXIuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gXCIzMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiMTAwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUubGluZUhlaWdodCA9IFwiMTZweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5mb250U2l6ZSA9IFwiMTZweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS50ZXh0QWxpZ24gPSBcImp1c3RpZnlcIjtcbiAgICBib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgY29uc3QgdCA9IGRvYy5jcmVhdGVUZXh0Tm9kZShcImEgfCBcIik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHQpO1xuICAgIGNvbnN0IGlubGluZUJsb2NrID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGlubGluZUJsb2NrLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICAgIGlubGluZUJsb2NrLnN0eWxlLndpZHRoID0gXCIzMHB4XCI7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlubGluZUJsb2NrKTtcbiAgICBjb25zdCByYW5nZSA9IGRvYy5jcmVhdGVSYW5nZSgpO1xuICAgIHJhbmdlLnNldFN0YXJ0KHQsIDApO1xuICAgIHJhbmdlLnNldEVuZCh0LCAzKTtcbiAgICBjb25zdCBib3ggPSByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBoYXNJbmxpbmVCbG9ja0p1c3RpZmljYXRpb25CdWcgPSBib3gucmlnaHQgPCAyNztcbiAgICBib2R5LnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG4gIH1cbiAgcmV0dXJuIGhhc0lubGluZUJsb2NrSnVzdGlmaWNhdGlvbkJ1Zztcbn1cblxuZXhwb3J0IGxldCBoYXNTb2Z0V3JhcE9wcG9ydHVuaXR5QWZ0ZXJIeXBoZW5CdWc6IGJvb2xlYW4gfCBudWxsID0gbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrU29mdFdyYXBPcHBvcnR1bml0eUFmdGVySHlwaGVuQnVnKFxuICBib2R5OiBIVE1MRWxlbWVudCxcbik6IGJvb2xlYW4ge1xuICBpZiAoaGFzU29mdFdyYXBPcHBvcnR1bml0eUFmdGVySHlwaGVuQnVnID09PSBudWxsKSB7XG4gICAgY29uc3QgZG9jID0gYm9keS5vd25lckRvY3VtZW50O1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBjb250YWluZXIuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gXCI0MHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiMTAwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUubGluZUhlaWdodCA9IFwiMTZweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5mb250U2l6ZSA9IFwiMTZweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS50ZXh0QWxpZ24gPSBcImp1c3RpZnlcIjtcbiAgICBib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgY29uc3QgdCA9IGRvYy5jcmVhdGVUZXh0Tm9kZShcImEgYS1cIik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHQpO1xuICAgIGNvbnN0IGlubGluZUJsb2NrID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGlubGluZUJsb2NrLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICAgIGlubGluZUJsb2NrLnN0eWxlLndpZHRoID0gXCI0MHB4XCI7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlubGluZUJsb2NrKTtcbiAgICBjb25zdCByYW5nZSA9IGRvYy5jcmVhdGVSYW5nZSgpO1xuICAgIHJhbmdlLnNldFN0YXJ0KHQsIDIpO1xuICAgIHJhbmdlLnNldEVuZCh0LCA0KTtcbiAgICBjb25zdCBib3ggPSByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBoYXNTb2Z0V3JhcE9wcG9ydHVuaXR5QWZ0ZXJIeXBoZW5CdWcgPSBib3gucmlnaHQgPCAzNztcbiAgICBib2R5LnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG4gIH1cbiAgcmV0dXJuIGhhc1NvZnRXcmFwT3Bwb3J0dW5pdHlBZnRlckh5cGhlbkJ1Zztcbn1cblxuZXhwb3J0IGxldCBoYXNTb2Z0V3JhcE9wcG9ydHVuaXR5QnlXYnJCdWc6IGJvb2xlYW4gfCBudWxsID0gbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrU29mdFdyYXBPcHBvcnR1bml0eUJ5V2JyQnVnKGJvZHk6IEhUTUxFbGVtZW50KTogYm9vbGVhbiB7XG4gIGlmIChoYXNTb2Z0V3JhcE9wcG9ydHVuaXR5QnlXYnJCdWcgPT09IG51bGwpIHtcbiAgICBjb25zdCBkb2MgPSBib2R5Lm93bmVyRG9jdW1lbnQ7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSBcIjBweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSBcIjQwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gXCIxMDBweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5saW5lSGVpZ2h0ID0gXCIxNnB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLmZvbnRTaXplID0gXCIxNnB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLnRleHRBbGlnbiA9IFwianVzdGlmeVwiO1xuICAgIGJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgICBjb25zdCB0ID0gZG9jLmNyZWF0ZVRleHROb2RlKFwiYSBhLVwiKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodCk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRvYy5jcmVhdGVFbGVtZW50KFwid2JyXCIpKTtcbiAgICBjb25zdCBpbmxpbmVCbG9jayA9IGRvYy5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBpbmxpbmVCbG9jay5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgICBpbmxpbmVCbG9jay5zdHlsZS53aWR0aCA9IFwiNDBweFwiO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbmxpbmVCbG9jayk7XG4gICAgY29uc3QgcmFuZ2UgPSBkb2MuY3JlYXRlUmFuZ2UoKTtcbiAgICByYW5nZS5zZXRTdGFydCh0LCAyKTtcbiAgICByYW5nZS5zZXRFbmQodCwgNCk7XG4gICAgY29uc3QgYm94ID0gcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaGFzU29mdFdyYXBPcHBvcnR1bml0eUJ5V2JyQnVnID0gYm94LnJpZ2h0IDwgMzc7XG4gICAgYm9keS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICB9XG4gIHJldHVybiBoYXNTb2Z0V3JhcE9wcG9ydHVuaXR5QnlXYnJCdWc7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENmaSAtIFN1cHBvcnQgZm9yIEVQVUIgQ2Fub25pY2FsIEZyYWdtZW50IElkZW50aWZpZXJzLlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcblxuZXhwb3J0IHR5cGUgUG9zaXRpb24gPSB7XG4gIG5vZGU6IE5vZGU7XG4gIG9mZnNldDogbnVtYmVyO1xuICBhZnRlcjogYm9vbGVhbjtcbiAgc2lkZUJpYXM6IHN0cmluZyB8IG51bGw7XG4gIHJlZjogRnJhZ21lbnQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SWQobm9kZTogTm9kZSk6IHN0cmluZyB8IG51bGwge1xuICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgY29uc3QgaWR0eHQgPSAobm9kZSBhcyBFbGVtZW50KS5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICBpZiAoaWR0eHQgJiYgaWR0eHQubWF0Y2goL15bLWEtekEtWl8wLTkuXFx1MDA3Ri1cXHVGRkZGXSskLykpIHtcbiAgICAgIHJldHVybiBpZHR4dDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVDaGFyKGNoOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gYF4ke2NofWA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGUoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1tcXFtcXF1cXChcXCksPTteXS9nLCBlc2NhcGVDaGFyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuZXNjYXBlQ2hhcihzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzdHIuc3Vic3RyKDEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5lc2NhcGUoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoIXN0cikge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXF5bXFxbXFxdXFwoXFwpLD07Xl0vZywgdW5lc2NhcGVDaGFyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRXh0VmFsKGV4dHN0cjogc3RyaW5nKTogc3RyaW5nIHwgc3RyaW5nW10ge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZG8ge1xuICAgIGNvbnN0IHIgPSBleHRzdHIubWF0Y2goL14oXFxeLHxbXixdKSovKTtcbiAgICBjb25zdCBwID0gdW5lc2NhcGUoclswXSk7XG4gICAgZXh0c3RyID0gZXh0c3RyLnN1YnN0cihyWzBdLmxlbmd0aCArIDEpO1xuICAgIGlmICghZXh0c3RyICYmICFyZXN1bHQubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gcDtcbiAgICB9XG4gICAgcmVzdWx0LnB1c2gocCk7XG4gIH0gd2hpbGUgKGV4dHN0cik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUV4dChleHRzdHI6IHN0cmluZyk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW10gfSB7XG4gIGNvbnN0IGV4dCA9IHt9O1xuICB3aGlsZSAoZXh0c3RyKSB7XG4gICAgY29uc3QgciA9IGV4dHN0ci5tYXRjaCgvXjsoW147PV0rKT0oKFteO118XFxeOykqKS8pO1xuICAgIGlmICghcikge1xuICAgICAgcmV0dXJuIGV4dDtcbiAgICB9XG4gICAgZXh0W3JbMV1dID0gcGFyc2VFeHRWYWwoclsyXSk7XG4gICAgZXh0c3RyID0gZXh0c3RyLnN1YnN0cihyWzBdLmxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGV4dDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGVwIHtcbiAgYXBwZW5kVG8oc2I6IEJhc2UuU3RyaW5nQnVmZmVyKTogdm9pZDtcblxuICBhcHBseVRvKHBvczogUG9zaXRpb24pOiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgUmVmU3RlcCBpbXBsZW1lbnRzIFN0ZXAge1xuICBhcHBlbmRUbyhzYjogQmFzZS5TdHJpbmdCdWZmZXIpIHtcbiAgICBzYi5hcHBlbmQoXCIhXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHlUbyhwb3M6IFBvc2l0aW9uKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGlsZFN0ZXAgaW1wbGVtZW50cyBTdGVwIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGluZGV4OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGlkOiBzdHJpbmcgfCBudWxsLFxuICAgIHB1YmxpYyByZWFkb25seSBzaWRlQmlhczogc3RyaW5nIHwgbnVsbCxcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKHNiOiBCYXNlLlN0cmluZ0J1ZmZlcik6IHZvaWQge1xuICAgIHNiLmFwcGVuZChcIi9cIik7XG4gICAgc2IuYXBwZW5kKHRoaXMuaW5kZXgudG9TdHJpbmcoKSk7XG4gICAgaWYgKHRoaXMuaWQgfHwgdGhpcy5zaWRlQmlhcykge1xuICAgICAgc2IuYXBwZW5kKFwiW1wiKTtcbiAgICAgIGlmICh0aGlzLmlkKSB7XG4gICAgICAgIHNiLmFwcGVuZCh0aGlzLmlkKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNpZGVCaWFzKSB7XG4gICAgICAgIHNiLmFwcGVuZChcIjtzPVwiKTtcbiAgICAgICAgc2IuYXBwZW5kKHRoaXMuc2lkZUJpYXMpO1xuICAgICAgfVxuICAgICAgc2IuYXBwZW5kKFwiXVwiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseVRvKHBvczogUG9zaXRpb24pOiBib29sZWFuIHtcbiAgICBpZiAocG9zLm5vZGUubm9kZVR5cGUgIT0gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DRklfTk9UX0VMRU1FTlRcIik7XG4gICAgfVxuICAgIGNvbnN0IGVsZW0gPSBwb3Mubm9kZSBhcyBFbGVtZW50O1xuICAgIGNvbnN0IGNoaWxkRWxlbWVudHMgPSBlbGVtLmNoaWxkcmVuO1xuICAgIGNvbnN0IGNoaWxkRWxlbWVudENvdW50ID0gY2hpbGRFbGVtZW50cy5sZW5ndGg7XG4gICAgbGV0IGNoaWxkOiBOb2RlO1xuICAgIGNvbnN0IGNoaWxkSW5kZXggPSBNYXRoLmZsb29yKHRoaXMuaW5kZXggLyAyKSAtIDE7XG4gICAgaWYgKGNoaWxkSW5kZXggPCAwIHx8IGNoaWxkRWxlbWVudENvdW50ID09IDApIHtcbiAgICAgIGNoaWxkID0gZWxlbS5maXJzdENoaWxkO1xuICAgICAgcG9zLm5vZGUgPSBjaGlsZCB8fCBlbGVtO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGlsZCA9IGNoaWxkRWxlbWVudHNbTWF0aC5taW4oY2hpbGRJbmRleCwgY2hpbGRFbGVtZW50Q291bnQgLSAxKV07XG4gICAgICBpZiAodGhpcy5pbmRleCAmIDEpIHtcbiAgICAgICAgY29uc3QgbmV4dCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICBpZiAoIW5leHQgfHwgbmV4dC5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgcG9zLmFmdGVyID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGlsZCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBvcy5ub2RlID0gY2hpbGQ7XG4gICAgfVxuICAgIGlmICh0aGlzLmlkICYmIChwb3MuYWZ0ZXIgfHwgdGhpcy5pZCAhPSBnZXRJZChwb3Mubm9kZSkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NGSV9JRF9NSVNNQVRDSFwiKTtcbiAgICB9XG4gICAgcG9zLnNpZGVCaWFzID0gdGhpcy5zaWRlQmlhcztcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgT2Zmc2V0U3RlcCBpbXBsZW1lbnRzIFN0ZXAge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgb2Zmc2V0OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHRleHRCZWZvcmU6IHN0cmluZyB8IG51bGwsXG4gICAgcHVibGljIHJlYWRvbmx5IHRleHRBZnRlcjogc3RyaW5nIHwgbnVsbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2lkZUJpYXM6IHN0cmluZyB8IG51bGwsXG4gICkge31cblxuICBhcHBseVRvKHBvczogUG9zaXRpb24pOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5vZmZzZXQgPiAwICYmICFwb3MuYWZ0ZXIpIHtcbiAgICAgIGxldCBvZmZzZXQgPSB0aGlzLm9mZnNldDtcbiAgICAgIGxldCBub2RlID0gcG9zLm5vZGU7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCBub2RlVHlwZSA9IG5vZGUubm9kZVR5cGU7XG4gICAgICAgIGlmIChub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIGlmICgzIDw9IG5vZGVUeXBlICYmIG5vZGVUeXBlIDw9IDUpIHtcbiAgICAgICAgICBjb25zdCB0ZXh0TGVuZ3RoID0gbm9kZS50ZXh0Q29udGVudC5sZW5ndGg7XG4gICAgICAgICAgaWYgKG9mZnNldCA8PSB0ZXh0TGVuZ3RoKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgICAgICBvZmZzZXQgPSB0ZXh0TGVuZ3RoO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9mZnNldCAtPSB0ZXh0TGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV4dCkge1xuICAgICAgICAgIG9mZnNldCA9IDA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5leHQ7XG4gICAgICB9XG4gICAgICBwb3Mubm9kZSA9IG5vZGU7XG4gICAgICBwb3Mub2Zmc2V0ID0gb2Zmc2V0O1xuICAgIH1cbiAgICBwb3Muc2lkZUJpYXMgPSB0aGlzLnNpZGVCaWFzO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwZW5kVG8oc2I6IEJhc2UuU3RyaW5nQnVmZmVyKTogdm9pZCB7XG4gICAgc2IuYXBwZW5kKFwiOlwiKTtcbiAgICBzYi5hcHBlbmQodGhpcy5vZmZzZXQudG9TdHJpbmcoKSk7XG4gICAgaWYgKHRoaXMudGV4dEJlZm9yZSB8fCB0aGlzLnRleHRBZnRlciB8fCB0aGlzLnNpZGVCaWFzKSB7XG4gICAgICBzYi5hcHBlbmQoXCJbXCIpO1xuICAgICAgaWYgKHRoaXMudGV4dEJlZm9yZSB8fCB0aGlzLnRleHRBZnRlcikge1xuICAgICAgICBpZiAodGhpcy50ZXh0QmVmb3JlKSB7XG4gICAgICAgICAgc2IuYXBwZW5kKGVzY2FwZSh0aGlzLnRleHRCZWZvcmUpKTtcbiAgICAgICAgfVxuICAgICAgICBzYi5hcHBlbmQoXCIsXCIpO1xuICAgICAgICBpZiAodGhpcy50ZXh0QWZ0ZXIpIHtcbiAgICAgICAgICBzYi5hcHBlbmQoZXNjYXBlKHRoaXMudGV4dEFmdGVyKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNpZGVCaWFzKSB7XG4gICAgICAgIHNiLmFwcGVuZChcIjtzPVwiKTtcbiAgICAgICAgc2IuYXBwZW5kKHRoaXMuc2lkZUJpYXMpO1xuICAgICAgfVxuICAgICAgc2IuYXBwZW5kKFwiXVwiKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZyYWdtZW50IHtcbiAgc3RlcHM6IFN0ZXBbXSA9IG51bGw7XG5cbiAgZnJvbVN0cmluZyhmcmFnc3RyOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBsZXQgciA9IGZyYWdzdHIubWF0Y2goL14jP2VwdWJjZmlcXCgoLiopXFwpJC8pO1xuICAgIGlmICghcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DRklfTk9UX0NGSVwiKTtcbiAgICB9XG4gICAgY29uc3Qgc3RyID0gclsxXTtcbiAgICBsZXQgaSA9IDA7XG4gICAgY29uc3Qgc3RlcHMgPSBbXTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgbGV0IGV4dDoge1xuICAgICAgICBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTtcbiAgICAgIH07XG4gICAgICBzd2l0Y2ggKHN0ci5jaGFyQXQoaSkpIHtcbiAgICAgICAgY2FzZSBcIi9cIjoge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgICByID0gc3RyXG4gICAgICAgICAgICAuc3Vic3RyKGkpXG4gICAgICAgICAgICAubWF0Y2goXG4gICAgICAgICAgICAgIC9eKDB8WzEtOV1bMC05XSopKFxcWyhbLWEtekEtWl8wLTkuXFx1MDA3Ri1cXHVGRkZGXSspKDsoW15cXF1dfFxcXlxcXSkqKT9cXF0pPy8sXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmICghcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DRklfTlVNQkVSX0VYUEVDVEVEXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpICs9IHJbMF0ubGVuZ3RoO1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoclsxXSwgMTApO1xuICAgICAgICAgIGNvbnN0IGlkID0gclszXTtcbiAgICAgICAgICBleHQgPSBwYXJzZUV4dChyWzRdKTtcbiAgICAgICAgICBzdGVwcy5wdXNoKG5ldyBDaGlsZFN0ZXAoaW5kZXgsIGlkLCBCYXNlLmFzU3RyaW5nKGV4dFtcInNcIl0pKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIjpcIjoge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgICByID0gc3RyXG4gICAgICAgICAgICAuc3Vic3RyKGkpXG4gICAgICAgICAgICAubWF0Y2goXG4gICAgICAgICAgICAgIC9eKDB8WzEtOV1bMC05XSopKFxcWygoKFteXFxdOyxdfFxcXltcXF07LF0pKikoLCgoW15cXF07LF18XFxeW1xcXTssXSkqKSk/KSg7KFteXV18XFxeXFxdKSopP1xcXSk/LyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCFyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NGSV9OVU1CRVJfRVhQRUNURURcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGkgKz0gclswXS5sZW5ndGg7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcGFyc2VJbnQoclsxXSwgMTApO1xuICAgICAgICAgIGxldCB0ZXh0QmVmb3JlID0gcls0XTtcbiAgICAgICAgICBpZiAodGV4dEJlZm9yZSkge1xuICAgICAgICAgICAgdGV4dEJlZm9yZSA9IHVuZXNjYXBlKHRleHRCZWZvcmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgdGV4dEFmdGVyID0gcls3XTtcbiAgICAgICAgICBpZiAodGV4dEFmdGVyKSB7XG4gICAgICAgICAgICB0ZXh0QWZ0ZXIgPSB1bmVzY2FwZSh0ZXh0QWZ0ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBleHQgPSBwYXJzZUV4dChyWzEwXSk7XG4gICAgICAgICAgc3RlcHMucHVzaChcbiAgICAgICAgICAgIG5ldyBPZmZzZXRTdGVwKFxuICAgICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICAgIHRleHRCZWZvcmUsXG4gICAgICAgICAgICAgIHRleHRBZnRlcixcbiAgICAgICAgICAgICAgQmFzZS5hc1N0cmluZyhleHRbXCJzXCJdKSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiIVwiOlxuICAgICAgICAgIGkrKztcbiAgICAgICAgICBzdGVwcy5wdXNoKG5ldyBSZWZTdGVwKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiflwiOlxuICAgICAgICBjYXNlIFwiQFwiOlxuXG4gICAgICAgIC8vIFRpbWUvc3BhY2UgdGVybWludXM7IG9ubHkgdXNlZnVsIGZvciBoaWdobGlnaHRzL3NlbGVjdGlvbnMgd2hpY2ggYXJlXG4gICAgICAgIC8vIG5vdCB5ZXQgc3VwcG9ydGVkLCBza2lwIGZvciBub3cuIGZhbGwgdGhyb3VnaFxuICAgICAgICBjYXNlIFwiXCI6XG4gICAgICAgICAgdGhpcy5zdGVwcyA9IHN0ZXBzO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NGSV9QQVJTRV9FUlJPUlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBuYXZpZ2F0ZShkb2M6IERvY3VtZW50KTogUG9zaXRpb24ge1xuICAgIGNvbnN0IHBvcyA9IHtcbiAgICAgIG5vZGU6IGRvYy5kb2N1bWVudEVsZW1lbnQsXG4gICAgICBvZmZzZXQ6IDAsXG4gICAgICBhZnRlcjogZmFsc2UsXG4gICAgICBzaWRlQmlhczogbnVsbCxcbiAgICAgIHJlZjogbnVsbCxcbiAgICB9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGVwcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCF0aGlzLnN0ZXBzW2ldLmFwcGx5VG8ocG9zKSkge1xuICAgICAgICBwb3MucmVmID0gbmV3IEZyYWdtZW50KCk7XG4gICAgICAgIHBvcy5yZWYuc3RlcHMgPSB0aGlzLnN0ZXBzLnNsaWNlKGkgKyAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwb3M7XG4gIH1cblxuICB0cmltKHRleHQ6IHN0cmluZywgYWZ0ZXI6IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgIHJldHVybiB0ZXh0XG4gICAgICAucmVwbGFjZSgvXFxzKy9nLCBcIiBcIilcbiAgICAgIC5tYXRjaChcbiAgICAgICAgYWZ0ZXJcbiAgICAgICAgICA/IC9eWyAtXFx1RDdGRlxcdUUwMDAtXFx1RkZGRl17MCw4fS9cbiAgICAgICAgICA6IC9bIC1cXHVEN0ZGXFx1RTAwMC1cXHVGRkZGXXswLDh9JC8sXG4gICAgICApWzBdXG4gICAgICAucmVwbGFjZSgvXlxccy8sIFwiXCIpXG4gICAgICAucmVwbGFjZSgvXFxzJC8sIFwiXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgZnJvbSBhIG5vZGUgYW5kIGFuIG9mZnNldC5cbiAgICovXG4gIHByZXBlbmRQYXRoRnJvbU5vZGUoXG4gICAgbm9kZTogTm9kZSxcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICBhZnRlcjogYm9vbGVhbixcbiAgICBzaWRlQmlhczogc3RyaW5nIHwgbnVsbCxcbiAgKSB7XG4gICAgY29uc3Qgc3RlcHMgPSBbXTtcbiAgICBsZXQgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIGxldCB0ZXh0QmVmb3JlID0gXCJcIjtcbiAgICBsZXQgdGV4dEFmdGVyID0gXCJcIjtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgc3dpdGNoIChub2RlLm5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgMzogLy8gVGV4dCBub2Rlc1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgIGNhc2UgNToge1xuICAgICAgICAgIGNvbnN0IHRleHQgPSBub2RlLnRleHRDb250ZW50O1xuICAgICAgICAgIGNvbnN0IHRleHRMZW5ndGggPSB0ZXh0Lmxlbmd0aDtcbiAgICAgICAgICBpZiAoYWZ0ZXIpIHtcbiAgICAgICAgICAgIG9mZnNldCArPSB0ZXh0TGVuZ3RoO1xuICAgICAgICAgICAgaWYgKCF0ZXh0QmVmb3JlKSB7XG4gICAgICAgICAgICAgIHRleHRCZWZvcmUgPSB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ID4gdGV4dExlbmd0aCkge1xuICAgICAgICAgICAgICBvZmZzZXQgPSB0ZXh0TGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWZ0ZXIgPSB0cnVlO1xuICAgICAgICAgICAgdGV4dEJlZm9yZSA9IHRleHQuc3Vic3RyKDAsIG9mZnNldCk7XG4gICAgICAgICAgICB0ZXh0QWZ0ZXIgPSB0ZXh0LnN1YnN0cihvZmZzZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSA4OiAvLyBDb21tZW50IE5vZGVcbiAgICAgICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKG9mZnNldCA+IDAgfHwgdGV4dEJlZm9yZSB8fCB0ZXh0QWZ0ZXIpIHtcbiAgICAgIHRleHRCZWZvcmUgPSB0aGlzLnRyaW0odGV4dEJlZm9yZSwgZmFsc2UpO1xuICAgICAgdGV4dEFmdGVyID0gdGhpcy50cmltKHRleHRBZnRlciwgdHJ1ZSk7XG4gICAgICBzdGVwcy5wdXNoKG5ldyBPZmZzZXRTdGVwKG9mZnNldCwgdGV4dEJlZm9yZSwgdGV4dEFmdGVyLCBzaWRlQmlhcykpO1xuICAgICAgc2lkZUJpYXMgPSBudWxsO1xuICAgIH1cbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICBpZiAoIXBhcmVudCB8fCBwYXJlbnQubm9kZVR5cGUgPT0gOSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlkID0gYWZ0ZXIgPyBudWxsIDogZ2V0SWQobm9kZSk7XG4gICAgICBsZXQgaW5kZXggPSBhZnRlciA/IDEgOiAwO1xuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgIGluZGV4ICs9IDI7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUucHJldmlvdXNTaWJsaW5nO1xuICAgICAgfVxuICAgICAgc3RlcHMucHVzaChuZXcgQ2hpbGRTdGVwKGluZGV4LCBpZCwgc2lkZUJpYXMpKTtcbiAgICAgIHNpZGVCaWFzID0gbnVsbDtcbiAgICAgIG5vZGUgPSBwYXJlbnQ7XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcbiAgICAgIGFmdGVyID0gZmFsc2U7XG4gICAgfVxuICAgIHN0ZXBzLnJldmVyc2UoKTtcbiAgICBpZiAodGhpcy5zdGVwcykge1xuICAgICAgc3RlcHMucHVzaChuZXcgUmVmU3RlcCgpKTtcbiAgICAgIHRoaXMuc3RlcHMgPSBzdGVwcy5jb25jYXQodGhpcy5zdGVwcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RlcHMgPSBzdGVwcztcbiAgICB9XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIGlmICghdGhpcy5zdGVwcykge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGNvbnN0IHNiID0gbmV3IEJhc2UuU3RyaW5nQnVmZmVyKCk7XG4gICAgc2IuYXBwZW5kKFwiZXB1YmNmaShcIik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0ZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnN0ZXBzW2ldLmFwcGVuZFRvKHNiKTtcbiAgICB9XG4gICAgc2IuYXBwZW5kKFwiKVwiKTtcbiAgICByZXR1cm4gc2IudG9TdHJpbmcoKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBFeHBycyAtIGAtZXB1YngtZXhwcmAgQWRhcHRpdmUgTGF5b3V0IGV4cHJlc3Npb25zLlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcblxuZXhwb3J0IHR5cGUgUHJlZmVyZW5jZXMgPSB7XG4gIGZvbnRGYW1pbHk6IHN0cmluZztcbiAgbGluZUhlaWdodDogbnVtYmVyO1xuICBtYXJnaW46IG51bWJlcjtcbiAgaHlwaGVuYXRlOiBib29sZWFuO1xuICBjb2x1bW5XaWR0aDogbnVtYmVyO1xuICBob3Jpem9udGFsOiBib29sZWFuO1xuICBuaWdodE1vZGU6IGJvb2xlYW47XG4gIHNwcmVhZFZpZXc6IGJvb2xlYW47XG4gIHBhZ2VCb3JkZXI6IG51bWJlcjtcbiAgZW5hYmxlZE1lZGlhVHlwZXM6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9O1xuICBkZWZhdWx0UGFwZXJTaXplPzogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0UHJlZmVyZW5jZXMoKTogUHJlZmVyZW5jZXMge1xuICByZXR1cm4ge1xuICAgIGZvbnRGYW1pbHk6IFwic2VyaWZcIixcbiAgICBsaW5lSGVpZ2h0OiAxLjI1LFxuICAgIG1hcmdpbjogOCxcbiAgICBoeXBoZW5hdGU6IGZhbHNlLFxuICAgIGNvbHVtbldpZHRoOiAyNSxcbiAgICBob3Jpem9udGFsOiBmYWxzZSxcbiAgICBuaWdodE1vZGU6IGZhbHNlLFxuICAgIHNwcmVhZFZpZXc6IGZhbHNlLFxuICAgIHBhZ2VCb3JkZXI6IDEsXG4gICAgZW5hYmxlZE1lZGlhVHlwZXM6IHsgdml2bGlvc3R5bGU6IHRydWUsIHByaW50OiB0cnVlIH0sXG4gICAgZGVmYXVsdFBhcGVyU2l6ZTogdW5kZWZpbmVkLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVQcmVmZXJlbmNlcyhwcmVmOiBQcmVmZXJlbmNlcyk6IFByZWZlcmVuY2VzIHtcbiAgcmV0dXJuIHtcbiAgICBmb250RmFtaWx5OiBwcmVmLmZvbnRGYW1pbHksXG4gICAgbGluZUhlaWdodDogcHJlZi5saW5lSGVpZ2h0LFxuICAgIG1hcmdpbjogcHJlZi5tYXJnaW4sXG4gICAgaHlwaGVuYXRlOiBwcmVmLmh5cGhlbmF0ZSxcbiAgICBjb2x1bW5XaWR0aDogcHJlZi5jb2x1bW5XaWR0aCxcbiAgICBob3Jpem9udGFsOiBwcmVmLmhvcml6b250YWwsXG4gICAgbmlnaHRNb2RlOiBwcmVmLm5pZ2h0TW9kZSxcbiAgICBzcHJlYWRWaWV3OiBwcmVmLnNwcmVhZFZpZXcsXG4gICAgcGFnZUJvcmRlcjogcHJlZi5wYWdlQm9yZGVyLFxuICAgIGVuYWJsZWRNZWRpYVR5cGVzOiBPYmplY3QuYXNzaWduKHt9LCBwcmVmLmVuYWJsZWRNZWRpYVR5cGVzKSxcbiAgICBkZWZhdWx0UGFwZXJTaXplOiBwcmVmLmRlZmF1bHRQYXBlclNpemVcbiAgICAgID8gT2JqZWN0LmFzc2lnbih7fSwgcHJlZi5kZWZhdWx0UGFwZXJTaXplKVxuICAgICAgOiB1bmRlZmluZWQsXG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0UHJlZmVyZW5jZXNJbnN0YW5jZSA9IGRlZmF1bHRQcmVmZXJlbmNlcygpO1xuXG5pbnRlcmZhY2UgUGVuZGluZyB7fVxudHlwZSBTcGVjaWFsID0gUGVuZGluZztcblxuLyoqXG4gKiBTcGVjaWFsIG1hcmtlciB2YWx1ZSB0aGF0IGluZGljYXRlcyB0aGF0IHRoZSBleHByZXNzaW9uIHJlc3VsdCBpcyBiZWluZ1xuICogY2FsY3VsYXRlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IFNwZWNpYWwgPSB7XG4gIFBFTkRJTkc6IHt9IGFzIFBlbmRpbmcsXG59O1xuXG5leHBvcnQgdHlwZSBSZXN1bHQgPSBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgdHlwZSBQZW5kaW5nUmVzdWx0ID0gU3BlY2lhbCB8IFJlc3VsdDtcblxuZXhwb3J0IGZ1bmN0aW9uIGxldHRlcmJveChcbiAgdmlld1c6IG51bWJlcixcbiAgdmlld0g6IG51bWJlcixcbiAgb2JqVzogbnVtYmVyLFxuICBvYmpIOiBudW1iZXIsXG4pOiBzdHJpbmcge1xuICBjb25zdCBzY2FsZSA9IE1hdGgubWluKCh2aWV3VyAtIDApIC8gb2JqVywgKHZpZXdIIC0gMCkgLyBvYmpIKTtcbiAgcmV0dXJuIGBtYXRyaXgoJHtzY2FsZX0sMCwwLCR7c2NhbGV9LDAsMClgO1xufVxuXG4vKipcbiAqIEByZXR1cm4gc3RyaW5nIHRoYXQgY2FuIGJlIHBhcnNlZCBhcyBDU1Mgc3RyaW5nIHdpdGggdmFsdWUgc3RyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjc3NTdHJpbmcoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gYFwiJHtCYXNlLmVzY2FwZUNTU1N0cihgJHtzdHJ9YCl9XCJgO1xufVxuXG4vKipcbiAqIEByZXR1cm4gc3RyaW5nIHRoYXQgY2FuIGJlIHBhcnNlZCBhcyBDU1MgbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3NzSWRlbnQobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIEJhc2UuZXNjYXBlQ1NTSWRlbnQoYCR7bmFtZX1gKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VRdWFsaWZpZWROYW1lKFxuICBvYmpOYW1lOiBzdHJpbmcgfCBudWxsLFxuICBtZW1iZXJOYW1lOiBzdHJpbmcsXG4pOiBzdHJpbmcge1xuICBpZiAob2JqTmFtZSkge1xuICAgIHJldHVybiBgJHtCYXNlLmVzY2FwZUNTU0lkZW50KG9iak5hbWUpfS4ke0Jhc2UuZXNjYXBlQ1NTSWRlbnQobWVtYmVyTmFtZSl9YDtcbiAgfVxuICByZXR1cm4gQmFzZS5lc2NhcGVDU1NJZGVudChtZW1iZXJOYW1lKTtcbn1cblxuZXhwb3J0IGxldCBuZXh0S2V5SW5kZXg6IG51bWJlciA9IDA7XG5cbi8qKlxuICogTGV4aWNhbCBzY29wZSBvZiB0aGUgZXhwcmVzc2lvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIExleGljYWxTY29wZSB7XG4gIHNjb3BlS2V5OiBzdHJpbmc7XG4gIGNoaWxkcmVuOiBMZXhpY2FsU2NvcGVbXSA9IFtdO1xuICB6ZXJvOiBDb25zdDtcbiAgb25lOiBDb25zdDtcbiAgX3RydWU6IENvbnN0O1xuICBfZmFsc2U6IENvbnN0O1xuICB2YWx1ZXM6IHsgW2tleTogc3RyaW5nXTogVmFsIH0gPSB7fTtcbiAgZnVuY3M6IHsgW2tleTogc3RyaW5nXTogVmFsIH0gPSB7fTtcbiAgYnVpbHRJbnM6IHsgW2tleTogc3RyaW5nXTogKC4uLnAxOiBSZXN1bHRbXSkgPT4gUmVzdWx0IH0gPSB7fTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcGFyZW50OiBMZXhpY2FsU2NvcGUsXG4gICAgcHVibGljIHJlc29sdmVyPzogKHAxOiBzdHJpbmcsIHAyOiBib29sZWFuKSA9PiBWYWwsXG4gICkge1xuICAgIHRoaXMuc2NvcGVLZXkgPSBgUyR7bmV4dEtleUluZGV4Kyt9YDtcbiAgICB0aGlzLnplcm8gPSBuZXcgQ29uc3QodGhpcywgMCk7XG4gICAgdGhpcy5vbmUgPSBuZXcgQ29uc3QodGhpcywgMSk7XG4gICAgdGhpcy5fdHJ1ZSA9IG5ldyBDb25zdCh0aGlzLCB0cnVlKTtcbiAgICB0aGlzLl9mYWxzZSA9IG5ldyBDb25zdCh0aGlzLCBmYWxzZSk7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgcGFyZW50LmNoaWxkcmVuLnB1c2godGhpcyk7XG4gICAgfVxuICAgIGlmICghcGFyZW50KSB7XG4gICAgICAvLyByb290IHNjb3BlXG4gICAgICBjb25zdCBidWlsdElucyA9IHRoaXMuYnVpbHRJbnM7XG4gICAgICBidWlsdEluc1tcImZsb29yXCJdID0gTWF0aC5mbG9vcjtcbiAgICAgIGJ1aWx0SW5zW1wiY2VpbFwiXSA9IE1hdGguY2VpbDtcbiAgICAgIGJ1aWx0SW5zW1wicm91bmRcIl0gPSBNYXRoLnJvdW5kO1xuICAgICAgYnVpbHRJbnNbXCJzcXJ0XCJdID0gTWF0aC5zcXJ0O1xuICAgICAgYnVpbHRJbnNbXCJtaW5cIl0gPSBNYXRoLm1pbjtcbiAgICAgIGJ1aWx0SW5zW1wibWF4XCJdID0gTWF0aC5tYXg7XG4gICAgICBidWlsdEluc1tcImxldHRlcmJveFwiXSA9IGxldHRlcmJveDtcbiAgICAgIGJ1aWx0SW5zW1wiY3NzLXN0cmluZ1wiXSA9IGNzc1N0cmluZztcbiAgICAgIGJ1aWx0SW5zW1wiY3NzLW5hbWVcIl0gPSBjc3NJZGVudDtcbiAgICAgIGJ1aWx0SW5zW1widHlwZW9mXCJdID0gKHgpID0+IHR5cGVvZiB4O1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInBhZ2Utd2lkdGhcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhZ2VXaWR0aCgpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmRlZmluZUJ1aWx0SW5OYW1lKFwicGFnZS1oZWlnaHRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhZ2VIZWlnaHQoKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInByZWYtZm9udC1mYW1pbHlcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZWYuZm9udEZhbWlseTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInByZWYtbmlnaHQtbW9kZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlZi5uaWdodE1vZGU7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGVmaW5lQnVpbHRJbk5hbWUoXCJwcmVmLWh5cGhlbmF0ZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlZi5oeXBoZW5hdGU7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGVmaW5lQnVpbHRJbk5hbWUoXCJwcmVmLW1hcmdpblwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlZi5tYXJnaW47XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGVmaW5lQnVpbHRJbk5hbWUoXCJwcmVmLWxpbmUtaGVpZ2h0XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVmLmxpbmVIZWlnaHQ7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGVmaW5lQnVpbHRJbk5hbWUoXCJwcmVmLWNvbHVtbi13aWR0aFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlZi5jb2x1bW5XaWR0aCAqIHRoaXMuZm9udFNpemU7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGVmaW5lQnVpbHRJbk5hbWUoXCJwcmVmLWhvcml6b250YWxcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZWYuaG9yaXpvbnRhbDtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInByZWYtc3ByZWFkLXZpZXdcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZWYuc3ByZWFkVmlldztcbiAgICAgIH0pO1xuXG4gICAgICAvLyBGb3IgZW52KHB1Yi10aXRsZSkgYW5kIGVudihkb2MtdGl0bGUpXG4gICAgICB0aGlzLmRlZmluZUJ1aWx0SW5OYW1lKFwicHViLXRpdGxlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY3NzU3RyaW5nKHRoaXMucHViVGl0bGUgPyB0aGlzLnB1YlRpdGxlIDogXCJcIik7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGVmaW5lQnVpbHRJbk5hbWUoXCJkb2MtdGl0bGVcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjc3NTdHJpbmcodGhpcy5kb2NUaXRsZSA/IHRoaXMuZG9jVGl0bGUgOiBcIlwiKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGRlZmluZUJ1aWx0SW5OYW1lKG5hbWU6IHN0cmluZywgZm46ICgpID0+IFJlc3VsdCkge1xuICAgIHRoaXMudmFsdWVzW25hbWVdID0gbmV3IE5hdGl2ZSh0aGlzLCBmbiwgbmFtZSk7XG4gIH1cblxuICBkZWZpbmVOYW1lKHF1YWxpZmllZE5hbWU6IHN0cmluZywgdmFsOiBWYWwpOiB2b2lkIHtcbiAgICB0aGlzLnZhbHVlc1txdWFsaWZpZWROYW1lXSA9IHZhbDtcbiAgfVxuXG4gIGRlZmluZUZ1bmMocXVhbGlmaWVkTmFtZTogc3RyaW5nLCB2YWw6IFZhbCk6IHZvaWQge1xuICAgIHRoaXMuZnVuY3NbcXVhbGlmaWVkTmFtZV0gPSB2YWw7XG4gIH1cblxuICBkZWZpbmVCdWlsdEluKHF1YWxpZmllZE5hbWU6IHN0cmluZywgZm46ICguLi5wMTogUmVzdWx0W10pID0+IFJlc3VsdCk6IHZvaWQge1xuICAgIHRoaXMuYnVpbHRJbnNbcXVhbGlmaWVkTmFtZV0gPSBmbjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBYnNvbHV0ZUxlbmd0aFVuaXQodW5pdDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHN3aXRjaCAodW5pdC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSBcInB4XCI6XG4gICAgY2FzZSBcImluXCI6XG4gICAgY2FzZSBcInB0XCI6XG4gICAgY2FzZSBcInBjXCI6XG4gICAgY2FzZSBcImNtXCI6XG4gICAgY2FzZSBcIm1tXCI6XG4gICAgY2FzZSBcInFcIjpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlld3BvcnRSZWxhdGl2ZUxlbmd0aFVuaXQodW5pdDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHN3aXRjaCAodW5pdC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSBcInZ3XCI6XG4gICAgY2FzZSBcInZoXCI6XG4gICAgY2FzZSBcInZpXCI6XG4gICAgY2FzZSBcInZiXCI6XG4gICAgY2FzZSBcInZtaW5cIjpcbiAgICBjYXNlIFwidm1heFwiOlxuICAgIGNhc2UgXCJwdndcIjpcbiAgICBjYXNlIFwicHZoXCI6XG4gICAgY2FzZSBcInB2aVwiOlxuICAgIGNhc2UgXCJwdmJcIjpcbiAgICBjYXNlIFwicHZtaW5cIjpcbiAgICBjYXNlIFwicHZtYXhcIjpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRm9udFJlbGF0aXZlTGVuZ3RoVW5pdCh1bml0OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgc3dpdGNoICh1bml0LnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlIFwiZW1cIjpcbiAgICBjYXNlIFwiZXhcIjpcbiAgICBjYXNlIFwicmVtXCI6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0VW5pdFNpemVzOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0ge1xuICBweDogMSxcbiAgaW46IDk2LFxuICBwdDogNCAvIDMsXG4gIHBjOiA5NiAvIDYsXG4gIGNtOiA5NiAvIDIuNTQsXG4gIG1tOiA5NiAvIDI1LjQsXG4gIHE6IDk2IC8gMi41NCAvIDQwLFxuICBlbTogMTYsXG4gIHJlbTogMTYsXG4gIGV4OiA4LFxuICAvLyA8cmVzb2x1dGlvbj5cbiAgZHBweDogMSxcbiAgZHBpOiAxIC8gOTYsXG4gIGRwY206IDIuNTQgLyA5Nixcbn07XG5cbi8qKlxuICogUmV0dXJucyBpZiBhIHVuaXQgc2hvdWxkIGJlIGNvbnZlcnRlZCB0byBweCBiZWZvcmUgYXBwbGllZCB0byB0aGUgcmF3IERPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5lZWRVbml0Q29udmVyc2lvbih1bml0OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgc3dpdGNoICh1bml0KSB7XG4gICAgY2FzZSBcInFcIjpcbiAgICBjYXNlIFwicmVtXCI6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIFNjb3BlQ29udGV4dCA9IHtcbiAgW2tleTogc3RyaW5nXTogUmVzdWx0O1xufTtcblxuLyoqXG4gKiBSdW4tdGltZSBpbnN0YW5jZSBvZiBhIHNjb3BlIGFuZCBpdHMgY2hpbGRyZW4uXG4gKi9cbmV4cG9ydCBjbGFzcyBDb250ZXh0IHtcbiAgcHJvdGVjdGVkIGFjdHVhbFBhZ2VXaWR0aDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHBhZ2VXaWR0aDogKCkgPT4gbnVtYmVyO1xuICBwcm90ZWN0ZWQgYWN0dWFsUGFnZUhlaWdodDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHBhZ2VIZWlnaHQ6ICgpID0+IG51bWJlcjtcbiAgaW5pdGlhbEZvbnRTaXplOiBudW1iZXI7XG4gIHJvb3RGb250U2l6ZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIGZvbnRTaXplOiAoKSA9PiBudW1iZXI7XG4gIHByZWY6IFByZWZlcmVuY2VzO1xuICBzY29wZXM6IHsgW2tleTogc3RyaW5nXTogU2NvcGVDb250ZXh0IH0gPSB7fTtcbiAgcGFnZUFyZWFXaWR0aDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHBhZ2VBcmVhSGVpZ2h0OiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgcGFnZVZlcnRpY2FsOiBib29sZWFuIHwgbnVsbCA9IG51bGw7XG4gIHB1YlRpdGxlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgZG9jVGl0bGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSByb290U2NvcGU6IExleGljYWxTY29wZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmlld3BvcnRXaWR0aDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSB2aWV3cG9ydEhlaWdodDogbnVtYmVyLFxuICAgIGZvbnRTaXplOiBudW1iZXIsXG4gICkge1xuICAgIHRoaXMucGFnZVdpZHRoID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5hY3R1YWxQYWdlV2lkdGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0dWFsUGFnZVdpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlZi5zcHJlYWRWaWV3XG4gICAgICAgICAgPyBNYXRoLmZsb29yKHZpZXdwb3J0V2lkdGggLyAyKSAtIHRoaXMucHJlZi5wYWdlQm9yZGVyXG4gICAgICAgICAgOiB2aWV3cG9ydFdpZHRoO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5wYWdlSGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5hY3R1YWxQYWdlSGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdHVhbFBhZ2VIZWlnaHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmlld3BvcnRIZWlnaHQ7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmluaXRpYWxGb250U2l6ZSA9IGZvbnRTaXplO1xuICAgIHRoaXMuZm9udFNpemUgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnJvb3RGb250U2l6ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290Rm9udFNpemU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZm9udFNpemU7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnByZWYgPSBkZWZhdWx0UHJlZmVyZW5jZXNJbnN0YW5jZTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U2NvcGVDb250ZXh0KHNjb3BlOiBMZXhpY2FsU2NvcGUpOiBTY29wZUNvbnRleHQge1xuICAgIGxldCBzID0gdGhpcy5zY29wZXNbc2NvcGUuc2NvcGVLZXldO1xuICAgIGlmICghcykge1xuICAgICAgcyA9IHt9O1xuICAgICAgdGhpcy5zY29wZXNbc2NvcGUuc2NvcGVLZXldID0gcztcbiAgICB9XG4gICAgcmV0dXJuIHM7XG4gIH1cblxuICBjbGVhclNjb3BlKHNjb3BlOiBMZXhpY2FsU2NvcGUpOiB2b2lkIHtcbiAgICB0aGlzLnNjb3Blc1tzY29wZS5zY29wZUtleV0gPSB7fTtcbiAgICBmb3IgKGxldCBrID0gMDsgayA8IHNjb3BlLmNoaWxkcmVuLmxlbmd0aDsgaysrKSB7XG4gICAgICB0aGlzLmNsZWFyU2NvcGUoc2NvcGUuY2hpbGRyZW5ba10pO1xuICAgIH1cbiAgfVxuXG4gIHF1ZXJ5VW5pdFNpemUodW5pdDogc3RyaW5nLCBpc1Jvb3Q6IGJvb2xlYW4pOiBudW1iZXIge1xuICAgIGlmIChpc1ZpZXdwb3J0UmVsYXRpdmVMZW5ndGhVbml0KHVuaXQpKSB7XG4gICAgICBjb25zdCBwdncgPSB0aGlzLnBhZ2VXaWR0aCgpIC8gMTAwO1xuICAgICAgY29uc3QgcHZoID0gdGhpcy5wYWdlSGVpZ2h0KCkgLyAxMDA7XG4gICAgICBjb25zdCB2dyA9IHRoaXMucGFnZUFyZWFXaWR0aCAhPSBudWxsID8gdGhpcy5wYWdlQXJlYVdpZHRoIC8gMTAwIDogcHZ3O1xuICAgICAgY29uc3QgdmggPSB0aGlzLnBhZ2VBcmVhSGVpZ2h0ICE9IG51bGwgPyB0aGlzLnBhZ2VBcmVhSGVpZ2h0IC8gMTAwIDogcHZoO1xuXG4gICAgICBzd2l0Y2ggKHVuaXQpIHtcbiAgICAgICAgY2FzZSBcInZ3XCI6XG4gICAgICAgICAgcmV0dXJuIHZ3O1xuICAgICAgICBjYXNlIFwidmhcIjpcbiAgICAgICAgICByZXR1cm4gdmg7XG4gICAgICAgIGNhc2UgXCJ2aVwiOlxuICAgICAgICAgIHJldHVybiB0aGlzLnBhZ2VWZXJ0aWNhbCA/IHZoIDogdnc7XG4gICAgICAgIGNhc2UgXCJ2YlwiOlxuICAgICAgICAgIHJldHVybiB0aGlzLnBhZ2VWZXJ0aWNhbCA/IHZ3IDogdmg7XG4gICAgICAgIGNhc2UgXCJ2bWluXCI6XG4gICAgICAgICAgcmV0dXJuIHZ3IDwgdmggPyB2dyA6IHZoO1xuICAgICAgICBjYXNlIFwidm1heFwiOlxuICAgICAgICAgIHJldHVybiB2dyA+IHZoID8gdncgOiB2aDtcbiAgICAgICAgY2FzZSBcInB2d1wiOlxuICAgICAgICAgIHJldHVybiBwdnc7XG4gICAgICAgIGNhc2UgXCJwdmhcIjpcbiAgICAgICAgICByZXR1cm4gcHZoO1xuICAgICAgICBjYXNlIFwicHZpXCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGFnZVZlcnRpY2FsID8gcHZoIDogcHZ3O1xuICAgICAgICBjYXNlIFwicHZiXCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGFnZVZlcnRpY2FsID8gcHZ3IDogcHZoO1xuICAgICAgICBjYXNlIFwicHZtaW5cIjpcbiAgICAgICAgICByZXR1cm4gcHZ3IDwgcHZoID8gcHZ3IDogcHZoO1xuICAgICAgICBjYXNlIFwicHZtYXhcIjpcbiAgICAgICAgICByZXR1cm4gcHZ3ID4gcHZoID8gcHZ3IDogcHZoO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodW5pdCA9PSBcImVtXCIgfHwgdW5pdCA9PSBcInJlbVwiKSB7XG4gICAgICByZXR1cm4gaXNSb290ID8gdGhpcy5pbml0aWFsRm9udFNpemUgOiB0aGlzLmZvbnRTaXplKCk7XG4gICAgfVxuICAgIGlmICh1bml0ID09IFwiZXhcIikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgKGRlZmF1bHRVbml0U2l6ZXNbXCJleFwiXSAqXG4gICAgICAgICAgKGlzUm9vdCA/IHRoaXMuaW5pdGlhbEZvbnRTaXplIDogdGhpcy5mb250U2l6ZSgpKSkgL1xuICAgICAgICBkZWZhdWx0VW5pdFNpemVzW1wiZW1cIl1cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0VW5pdFNpemVzW3VuaXRdO1xuICB9XG5cbiAgZXZhbE5hbWUoc2NvcGU6IExleGljYWxTY29wZSwgcXVhbGlmaWVkTmFtZTogc3RyaW5nKTogVmFsIHtcbiAgICBkbyB7XG4gICAgICBsZXQgdmFsID0gc2NvcGUudmFsdWVzW3F1YWxpZmllZE5hbWVdO1xuICAgICAgaWYgKHZhbCkge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfVxuICAgICAgaWYgKHNjb3BlLnJlc29sdmVyKSB7XG4gICAgICAgIHZhbCA9IHNjb3BlLnJlc29sdmVyLmNhbGwodGhpcywgcXVhbGlmaWVkTmFtZSwgZmFsc2UpO1xuICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2NvcGUgPSBzY29wZS5wYXJlbnQ7XG4gICAgfSB3aGlsZSAoc2NvcGUpO1xuICAgIHRocm93IG5ldyBFcnJvcihgTmFtZSAnJHtxdWFsaWZpZWROYW1lfScgaXMgdW5kZWZpbmVkYCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIG5vQnVpbHRJbkV2YWwgZG9uJ3QgZXZhbHVhdGUgYnVpbHQtaW5zIChmb3IgZGVwZW5kZW5jeSBjYWxjdWxhdGlvbnMpXG4gICAqL1xuICBldmFsQ2FsbChcbiAgICBzY29wZTogTGV4aWNhbFNjb3BlLFxuICAgIHF1YWxpZmllZE5hbWU6IHN0cmluZyxcbiAgICBwYXJhbXM6IFZhbFtdLFxuICAgIG5vQnVpbHRJbkV2YWw6IGJvb2xlYW4sXG4gICk6IFZhbCB7XG4gICAgZG8ge1xuICAgICAgbGV0IGJvZHkgPSBzY29wZS5mdW5jc1txdWFsaWZpZWROYW1lXTtcbiAgICAgIGlmIChib2R5KSB7XG4gICAgICAgIHJldHVybiBib2R5OyAvLyB3aWxsIGJlIGV4cGFuZGVkIGJ5IGNhbGxlZVxuICAgICAgfVxuICAgICAgaWYgKHNjb3BlLnJlc29sdmVyKSB7XG4gICAgICAgIGJvZHkgPSBzY29wZS5yZXNvbHZlci5jYWxsKHRoaXMsIHF1YWxpZmllZE5hbWUsIHRydWUpO1xuICAgICAgICBpZiAoYm9keSkge1xuICAgICAgICAgIHJldHVybiBib2R5O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBmbiA9IHNjb3BlLmJ1aWx0SW5zW3F1YWxpZmllZE5hbWVdO1xuICAgICAgaWYgKGZuKSB7XG4gICAgICAgIGlmIChub0J1aWx0SW5FdmFsKSB7XG4gICAgICAgICAgcmV0dXJuIHNjb3BlLnplcm87XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXJncyA9IEFycmF5KHBhcmFtcy5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGFyZ3NbaV0gPSBwYXJhbXNbaV0uZXZhbHVhdGUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDb25zdChzY29wZSwgZm4uYXBwbHkodGhpcywgYXJncykpO1xuICAgICAgfVxuICAgICAgc2NvcGUgPSBzY29wZS5wYXJlbnQ7XG4gICAgfSB3aGlsZSAoc2NvcGUpO1xuICAgIHRocm93IG5ldyBFcnJvcihgRnVuY3Rpb24gJyR7cXVhbGlmaWVkTmFtZX0nIGlzIHVuZGVmaW5lZGApO1xuICB9XG5cbiAgZXZhbE1lZGlhTmFtZShuYW1lOiBzdHJpbmcsIG5vdDogYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGVuYWJsZWQgPSBuYW1lID09PSBcImFsbFwiIHx8ICEhdGhpcy5wcmVmLmVuYWJsZWRNZWRpYVR5cGVzW25hbWVdO1xuICAgIHJldHVybiBub3QgPyAhZW5hYmxlZCA6IGVuYWJsZWQ7XG4gIH1cblxuICBldmFsTWVkaWFUZXN0KGZlYXR1cmU6IHN0cmluZywgdmFsdWU6IFZhbCk6IGJvb2xlYW4ge1xuICAgIGxldCBwcmVmaXggPSBcIlwiO1xuICAgIGNvbnN0IHIgPSBmZWF0dXJlLm1hdGNoKC9eKG1pbnxtYXgpLSguKikkLyk7XG4gICAgaWYgKHIpIHtcbiAgICAgIHByZWZpeCA9IHJbMV07XG4gICAgICBmZWF0dXJlID0gclsyXTtcbiAgICB9XG4gICAgbGV0IHJlcTogUmVzdWx0IHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGFjdHVhbDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gICAgc3dpdGNoIChmZWF0dXJlKSB7XG4gICAgICBjYXNlIFwid2lkdGhcIjpcbiAgICAgIGNhc2UgXCJoZWlnaHRcIjpcbiAgICAgIGNhc2UgXCJkZXZpY2Utd2lkdGhcIjpcbiAgICAgIGNhc2UgXCJkZXZpY2UtaGVpZ2h0XCI6XG4gICAgICBjYXNlIFwiY29sb3JcIjpcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgcmVxID0gdmFsdWUuZXZhbHVhdGUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHN3aXRjaCAoZmVhdHVyZSkge1xuICAgICAgY2FzZSBcIndpZHRoXCI6XG4gICAgICAgIGFjdHVhbCA9IHRoaXMucGFnZVdpZHRoKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImhlaWdodFwiOlxuICAgICAgICBhY3R1YWwgPSB0aGlzLnBhZ2VIZWlnaHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGV2aWNlLXdpZHRoXCI6XG4gICAgICAgIGFjdHVhbCA9IHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGV2aWNlLWhlaWdodFwiOlxuICAgICAgICBhY3R1YWwgPSB3aW5kb3cuc2NyZWVuLmF2YWlsSGVpZ2h0O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJjb2xvclwiOlxuICAgICAgICBhY3R1YWwgPSB3aW5kb3cuc2NyZWVuLnBpeGVsRGVwdGg7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoYWN0dWFsICE9IG51bGwgJiYgcmVxICE9IG51bGwpIHtcbiAgICAgIHN3aXRjaCAocHJlZml4KSB7XG4gICAgICAgIGNhc2UgXCJtaW5cIjpcbiAgICAgICAgICByZXR1cm4gYWN0dWFsID49IHJlcTtcbiAgICAgICAgY2FzZSBcIm1heFwiOlxuICAgICAgICAgIHJldHVybiBhY3R1YWwgPD0gcmVxO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBhY3R1YWwgPT0gcmVxO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYWN0dWFsICE9IG51bGwgJiYgdmFsdWUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGFjdHVhbCAhPT0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcXVlcnlWYWwoc2NvcGU6IExleGljYWxTY29wZSwga2V5OiBzdHJpbmcpOiBSZXN1bHQgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IHMgPSB0aGlzLnNjb3Blc1tzY29wZS5zY29wZUtleV07XG4gICAgcmV0dXJuIHMgPyBzW2tleV0gOiB1bmRlZmluZWQ7XG4gIH1cblxuICBzdG9yZVZhbChzY29wZTogTGV4aWNhbFNjb3BlLCBrZXk6IHN0cmluZywgdmFsOiBSZXN1bHQpOiB2b2lkIHtcbiAgICB0aGlzLmdldFNjb3BlQ29udGV4dChzY29wZSlba2V5XSA9IHZhbDtcbiAgfVxufVxuXG4vLy0tLS0tLS0tLS0gbmFtZSByZXNvbHV0aW9uIC0tLS0tLS0tLS0tLS0tXG5leHBvcnQgdHlwZSBEZXBlbmRlbmN5Q2FjaGUgPSB7XG4gIFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfCBTcGVjaWFsO1xufTtcblxuZXhwb3J0IGNsYXNzIFZhbCB7XG4gIGtleTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBzY29wZTogTGV4aWNhbFNjb3BlKSB7XG4gICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIHRoaXMua2V5ID0gYF8ke25leHRLZXlJbmRleCsrfWA7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIGNvbnN0IGJ1ZiA9IG5ldyBCYXNlLlN0cmluZ0J1ZmZlcigpO1xuICAgIHRoaXMuYXBwZW5kVG8oYnVmLCAwKTtcbiAgICByZXR1cm4gYnVmLnRvU3RyaW5nKCk7XG4gIH1cblxuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCBwcmlvcml0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRl9BQlNUUkFDVFwiKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBldmFsdWF0ZUNvcmUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRl9BQlNUUkFDVFwiKTtcbiAgfVxuXG4gIGV4cGFuZChjb250ZXh0OiBDb250ZXh0LCBwYXJhbXM6IFZhbFtdKTogVmFsIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGRlcGVuZENvcmUoXG4gICAgb3RoZXI6IFZhbCxcbiAgICBjb250ZXh0OiBDb250ZXh0LFxuICAgIGRlcGVuZGVuY3lDYWNoZTogRGVwZW5kZW5jeUNhY2hlLFxuICApOiBib29sZWFuIHtcbiAgICByZXR1cm4gb3RoZXIgPT09IHRoaXM7XG4gIH1cblxuICBkZXBlbmRPdXRlcihcbiAgICBvdGhlcjogVmFsLFxuICAgIGNvbnRleHQ6IENvbnRleHQsXG4gICAgZGVwZW5kZW5jeUNhY2hlOiBEZXBlbmRlbmN5Q2FjaGUsXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNhY2hlZCA9IGRlcGVuZGVuY3lDYWNoZVt0aGlzLmtleV07XG4gICAgaWYgKGNhY2hlZCAhPSBudWxsKSB7XG4gICAgICBpZiAoY2FjaGVkID09PSBTcGVjaWFsLlBFTkRJTkcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhY2hlZCBhcyBib29sZWFuO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZXBlbmRlbmN5Q2FjaGVbdGhpcy5rZXldID0gU3BlY2lhbC5QRU5ESU5HO1xuICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5kZXBlbmRDb3JlKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpO1xuICAgICAgZGVwZW5kZW5jeUNhY2hlW3RoaXMua2V5XSA9IHJlc3VsdDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG5cbiAgZGVwZW5kKG90aGVyOiBWYWwsIGNvbnRleHQ6IENvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5kZXBlbmRPdXRlcihvdGhlciwgY29udGV4dCwge30pO1xuICB9XG5cbiAgZXZhbHVhdGUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgbGV0IHJlc3VsdCA9IGNvbnRleHQucXVlcnlWYWwodGhpcy5zY29wZSwgdGhpcy5rZXkpO1xuICAgIGlmICh0eXBlb2YgcmVzdWx0ICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJlc3VsdCA9IHRoaXMuZXZhbHVhdGVDb3JlKGNvbnRleHQpO1xuICAgIGNvbnRleHQuc3RvcmVWYWwodGhpcy5zY29wZSwgdGhpcy5rZXksIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlzTWVkaWFOYW1lKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJlZml4IGV4dGVuZHMgVmFsIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgcHVibGljIHZhbDogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldE9wKCk6IHN0cmluZyB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRl9BQlNUUkFDVFwiKTtcbiAgfVxuXG4gIGV2YWxQcmVmaXgodmFsOiBSZXN1bHQpOiBSZXN1bHQge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkZfQUJTVFJBQ1RcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsdWF0ZUNvcmUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgY29uc3QgdmFsID0gdGhpcy52YWwuZXZhbHVhdGUoY29udGV4dCk7XG4gICAgcmV0dXJuIHRoaXMuZXZhbFByZWZpeCh2YWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZGVwZW5kQ29yZShcbiAgICBvdGhlcjogVmFsLFxuICAgIGNvbnRleHQ6IENvbnRleHQsXG4gICAgZGVwZW5kZW5jeUNhY2hlOiBEZXBlbmRlbmN5Q2FjaGUsXG4gICk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBvdGhlciA9PT0gdGhpcyB8fCB0aGlzLnZhbC5kZXBlbmRPdXRlcihvdGhlciwgY29udGV4dCwgZGVwZW5kZW5jeUNhY2hlKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCBwcmlvcml0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKDEwIDwgcHJpb3JpdHkpIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCIoXCIpO1xuICAgIH1cbiAgICBidWYuYXBwZW5kKHRoaXMuZ2V0T3AoKSk7XG4gICAgdGhpcy52YWwuYXBwZW5kVG8oYnVmLCAxMCk7XG4gICAgaWYgKDEwIDwgcHJpb3JpdHkpIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCIpXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV4cGFuZChjb250ZXh0OiBDb250ZXh0LCBwYXJhbXM6IFZhbFtdKTogVmFsIHtcbiAgICBjb25zdCB2YWwgPSB0aGlzLnZhbC5leHBhbmQoY29udGV4dCwgcGFyYW1zKTtcbiAgICBpZiAodmFsID09PSB0aGlzLnZhbCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGNvbnN0IHIgPSBuZXcgKHRoaXMuY29uc3RydWN0b3IgYXMgYW55KSh0aGlzLnNjb3BlLCB2YWwpO1xuICAgIHJldHVybiByO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbmZpeCBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIHB1YmxpYyBsaHM6IFZhbCwgcHVibGljIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUpO1xuICB9XG5cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGX0FCU1RSQUNUXCIpO1xuICB9XG5cbiAgZ2V0T3AoKTogc3RyaW5nIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGX0FCU1RSQUNUXCIpO1xuICB9XG5cbiAgZXZhbEluZml4KGxoczogUmVzdWx0LCByaHM6IFJlc3VsdCk6IFJlc3VsdCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRl9BQlNUUkFDVFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICBjb25zdCBsaHMgPSB0aGlzLmxocy5ldmFsdWF0ZShjb250ZXh0KTtcbiAgICBjb25zdCByaHMgPSB0aGlzLnJocy5ldmFsdWF0ZShjb250ZXh0KTtcbiAgICByZXR1cm4gdGhpcy5ldmFsSW5maXgobGhzLCByaHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZGVwZW5kQ29yZShcbiAgICBvdGhlcjogVmFsLFxuICAgIGNvbnRleHQ6IENvbnRleHQsXG4gICAgZGVwZW5kZW5jeUNhY2hlOiBEZXBlbmRlbmN5Q2FjaGUsXG4gICk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBvdGhlciA9PT0gdGhpcyB8fFxuICAgICAgdGhpcy5saHMuZGVwZW5kT3V0ZXIob3RoZXIsIGNvbnRleHQsIGRlcGVuZGVuY3lDYWNoZSkgfHxcbiAgICAgIHRoaXMucmhzLmRlcGVuZE91dGVyKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCB0aGlzUHJpb3JpdHkgPSB0aGlzLmdldFByaW9yaXR5KCk7XG4gICAgaWYgKHRoaXNQcmlvcml0eSA8PSBwcmlvcml0eSkge1xuICAgICAgYnVmLmFwcGVuZChcIihcIik7XG4gICAgfVxuICAgIHRoaXMubGhzLmFwcGVuZFRvKGJ1ZiwgdGhpc1ByaW9yaXR5KTtcbiAgICBidWYuYXBwZW5kKHRoaXMuZ2V0T3AoKSk7XG4gICAgdGhpcy5yaHMuYXBwZW5kVG8oYnVmLCB0aGlzUHJpb3JpdHkpO1xuICAgIGlmICh0aGlzUHJpb3JpdHkgPD0gcHJpb3JpdHkpIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCIpXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV4cGFuZChjb250ZXh0OiBDb250ZXh0LCBwYXJhbXM6IFZhbFtdKTogVmFsIHtcbiAgICBjb25zdCBsaHMgPSB0aGlzLmxocy5leHBhbmQoY29udGV4dCwgcGFyYW1zKTtcbiAgICBjb25zdCByaHMgPSB0aGlzLnJocy5leHBhbmQoY29udGV4dCwgcGFyYW1zKTtcbiAgICBpZiAobGhzID09PSB0aGlzLmxocyAmJiByaHMgPT09IHRoaXMucmhzKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY29uc3QgciA9IG5ldyAodGhpcy5jb25zdHJ1Y3RvciBhcyBhbnkpKHRoaXMuc2NvcGUsIGxocywgcmhzKTtcbiAgICByZXR1cm4gcjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTG9naWNhbCBleHRlbmRzIEluZml4IHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBhcmlzb24gZXh0ZW5kcyBJbmZpeCB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAyO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBZGRpdGl2ZSBleHRlbmRzIEluZml4IHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE11bHRpcGxpY2F0aXZlIGV4dGVuZHMgSW5maXgge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBsaHM6IFZhbCwgcmhzOiBWYWwpIHtcbiAgICBzdXBlcihzY29wZSwgbGhzLCByaHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTm90IGV4dGVuZHMgUHJlZml4IHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgdmFsOiBWYWwpIHtcbiAgICBzdXBlcihzY29wZSwgdmFsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiIVwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXZhbFByZWZpeCh2YWw6IFJlc3VsdCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuICF2YWw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5lZ2F0ZSBleHRlbmRzIFByZWZpeCB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIHZhbDogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIHZhbCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIi1cIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWxQcmVmaXgodmFsOiBSZXN1bHQpOiBSZXN1bHQge1xuICAgIHJldHVybiAtdmFsO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBbmQgZXh0ZW5kcyBMb2dpY2FsIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiJiZcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy5saHMuZXZhbHVhdGUoY29udGV4dCkgJiYgdGhpcy5yaHMuZXZhbHVhdGUoY29udGV4dCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFuZE1lZGlhIGV4dGVuZHMgQW5kIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiIGFuZCBcIjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgT3IgZXh0ZW5kcyBMb2dpY2FsIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwifHxcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy5saHMuZXZhbHVhdGUoY29udGV4dCkgfHwgdGhpcy5yaHMuZXZhbHVhdGUoY29udGV4dCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE9yTWVkaWEgZXh0ZW5kcyBPciB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIiwgXCI7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEx0IGV4dGVuZHMgQ29tcGFyaXNvbiB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIjxcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWxJbmZpeChsaHM6IFJlc3VsdCwgcmhzOiBSZXN1bHQpOiBSZXN1bHQge1xuICAgIHJldHVybiBsaHMgPCByaHM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExlIGV4dGVuZHMgQ29tcGFyaXNvbiB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIjw9XCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsSW5maXgobGhzOiBSZXN1bHQsIHJoczogUmVzdWx0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gbGhzIDw9IHJocztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR3QgZXh0ZW5kcyBDb21wYXJpc29uIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiPlwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXZhbEluZml4KGxoczogUmVzdWx0LCByaHM6IFJlc3VsdCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuIGxocyA+IHJocztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2UgZXh0ZW5kcyBDb21wYXJpc29uIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiPj1cIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWxJbmZpeChsaHM6IFJlc3VsdCwgcmhzOiBSZXN1bHQpOiBSZXN1bHQge1xuICAgIHJldHVybiBsaHMgPj0gcmhzO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFcSBleHRlbmRzIENvbXBhcmlzb24ge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBsaHM6IFZhbCwgcmhzOiBWYWwpIHtcbiAgICBzdXBlcihzY29wZSwgbGhzLCByaHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3AoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCI9PVwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXZhbEluZml4KGxoczogUmVzdWx0LCByaHM6IFJlc3VsdCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuIGxocyA9PSByaHM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5lIGV4dGVuZHMgQ29tcGFyaXNvbiB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIiE9XCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsSW5maXgobGhzOiBSZXN1bHQsIHJoczogUmVzdWx0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gbGhzICE9IHJocztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWRkIGV4dGVuZHMgQWRkaXRpdmUge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBsaHM6IFZhbCwgcmhzOiBWYWwpIHtcbiAgICBzdXBlcihzY29wZSwgbGhzLCByaHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3AoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCIrXCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsSW5maXgobGhzOiBSZXN1bHQsIHJoczogUmVzdWx0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gKGxocyBhcyBhbnkpICsgcmhzO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdWJ0cmFjdCBleHRlbmRzIEFkZGl0aXZlIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiIC0gXCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsSW5maXgobGhzOiBSZXN1bHQsIHJoczogUmVzdWx0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gKGxocyBhcyBhbnkpIC0gKHJocyBhcyBhbnkpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNdWx0aXBseSBleHRlbmRzIE11bHRpcGxpY2F0aXZlIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiKlwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXZhbEluZml4KGxoczogUmVzdWx0LCByaHM6IFJlc3VsdCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuIChsaHMgYXMgYW55KSAqIChyaHMgYXMgYW55KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGl2aWRlIGV4dGVuZHMgTXVsdGlwbGljYXRpdmUge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBsaHM6IFZhbCwgcmhzOiBWYWwpIHtcbiAgICBzdXBlcihzY29wZSwgbGhzLCByaHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3AoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCIvXCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsSW5maXgobGhzOiBSZXN1bHQsIHJoczogUmVzdWx0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gKGxocyBhcyBhbnkpIC8gKHJocyBhcyBhbnkpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb2R1bG8gZXh0ZW5kcyBNdWx0aXBsaWNhdGl2ZSB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIiVcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWxJbmZpeChsaHM6IFJlc3VsdCwgcmhzOiBSZXN1bHQpOiBSZXN1bHQge1xuICAgIHJldHVybiAobGhzIGFzIGFueSkgJSAocmhzIGFzIGFueSk7XG4gIH1cbn1cblxuLyoqXG4gKiBOdW1lcmljYWwgdmFsdWUgd2l0aCBhIHVuaXQuXG4gKi9cbmV4cG9ydCBjbGFzcyBOdW1lcmljIGV4dGVuZHMgVmFsIHtcbiAgdW5pdDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIHB1YmxpYyBudW06IG51bWJlciwgdW5pdDogc3RyaW5nKSB7XG4gICAgc3VwZXIoc2NvcGUpO1xuICAgIHRoaXMudW5pdCA9IHVuaXQudG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBidWYuYXBwZW5kKHRoaXMubnVtLnRvU3RyaW5nKCkpO1xuICAgIGJ1Zi5hcHBlbmQoQmFzZS5lc2NhcGVDU1NJZGVudCh0aGlzLnVuaXQpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy5udW0gKiBjb250ZXh0LnF1ZXJ5VW5pdFNpemUodGhpcy51bml0LCBmYWxzZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBOYW1lZCB2YWx1ZS5cbiAqIEBwYXJhbSBxdWFsaWZpZWROYW1lIENTUy1lc2NhcGVkIG5hbWUgc2VxdWVuY2Ugc2VwYXJhdGVkIGJ5IGRvdHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBOYW1lZCBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIHB1YmxpYyBxdWFsaWZpZWROYW1lOiBzdHJpbmcpIHtcbiAgICBzdXBlcihzY29wZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCBwcmlvcml0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgYnVmLmFwcGVuZCh0aGlzLnF1YWxpZmllZE5hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXZhbHVhdGVDb3JlKGNvbnRleHQ6IENvbnRleHQpOiBSZXN1bHQge1xuICAgIHJldHVybiBjb250ZXh0LmV2YWxOYW1lKHRoaXMuc2NvcGUsIHRoaXMucXVhbGlmaWVkTmFtZSkuZXZhbHVhdGUoY29udGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBkZXBlbmRDb3JlKFxuICAgIG90aGVyOiBWYWwsXG4gICAgY29udGV4dDogQ29udGV4dCxcbiAgICBkZXBlbmRlbmN5Q2FjaGU6IERlcGVuZGVuY3lDYWNoZSxcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIG90aGVyID09PSB0aGlzIHx8XG4gICAgICBjb250ZXh0XG4gICAgICAgIC5ldmFsTmFtZSh0aGlzLnNjb3BlLCB0aGlzLnF1YWxpZmllZE5hbWUpXG4gICAgICAgIC5kZXBlbmRPdXRlcihvdGhlciwgY29udGV4dCwgZGVwZW5kZW5jeUNhY2hlKVxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBOYW1lZCB2YWx1ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIE1lZGlhTmFtZSBleHRlbmRzIFZhbCB7XG4gIC8vIEZJWE1FOiBUaGlzIHByb3BlcnR5IGlzIGFkZGVkIHRvIHJlZHVjZSBUeXBlU2NyaXB0IGVycm9yIG9uIGBkZXBlbmRDb3JlYFxuICAvLyBidXQgaXQgaXMgbmV2ZXIgaW5pdGlhbGl6ZWQuIElzIGl0IHJlYWxseSBjb3JyZWN0IGNvZGU/XG4gIHZhbHVlOiBWYWw7XG5cbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgcHVibGljIG5vdDogYm9vbGVhbiwgcHVibGljIG5hbWU6IHN0cmluZykge1xuICAgIHN1cGVyKHNjb3BlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5ub3QpIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCJub3QgXCIpO1xuICAgIH1cbiAgICBidWYuYXBwZW5kKEJhc2UuZXNjYXBlQ1NTSWRlbnQodGhpcy5uYW1lKSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsdWF0ZUNvcmUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuIGNvbnRleHQuZXZhbE1lZGlhTmFtZSh0aGlzLm5hbWUsIHRoaXMubm90KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGRlcGVuZENvcmUoXG4gICAgb3RoZXI6IFZhbCxcbiAgICBjb250ZXh0OiBDb250ZXh0LFxuICAgIGRlcGVuZGVuY3lDYWNoZTogRGVwZW5kZW5jeUNhY2hlLFxuICApOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgb3RoZXIgPT09IHRoaXMgfHwgdGhpcy52YWx1ZS5kZXBlbmRPdXRlcihvdGhlciwgY29udGV4dCwgZGVwZW5kZW5jeUNhY2hlKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpc01lZGlhTmFtZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG4vKipcbiAqIEEgdmFsdWUgdGhhdCBpcyBjYWxjdWxhdGVkIGJ5IGNhbGxpbmcgYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLiBOb3RlIHRoYXQgdGhlXG4gKiByZXN1bHQgaXMgY2FjaGVkIGFuZCB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIG9ubHkgb25jZSBiZXR3ZWVuIGFueVxuICogY2xlYXJzIGZvciBpdHMgc2NvcGUgaW4gdGhlIGNvbnRleHQuXG4gKiBAcGFyYW0gZm4gZnVuY3Rpb24gdG8gY2FsbC5cbiAqIEBwYXJhbSBzdHIgYSB3YXkgdG8gcmVwcmVzZW50IHRoaXMgdmFsdWUgaW4gdG9TdHJpbmcoKSBjYWxsLlxuICovXG5leHBvcnQgY2xhc3MgTmF0aXZlIGV4dGVuZHMgVmFsIHtcbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IExleGljYWxTY29wZSxcbiAgICBwdWJsaWMgZm46ICgpID0+IFJlc3VsdCxcbiAgICBwdWJsaWMgc3RyOiBzdHJpbmcsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBidWYuYXBwZW5kKHRoaXMuc3RyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy5mbi5jYWxsKGNvbnRleHQpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRWYWxBcnJheShidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCBhcnI6IFZhbFtdKTogdm9pZCB7XG4gIGJ1Zi5hcHBlbmQoXCIoXCIpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIGlmIChpKSB7XG4gICAgICBidWYuYXBwZW5kKFwiLFwiKTtcbiAgICB9XG4gICAgYXJyW2ldLmFwcGVuZFRvKGJ1ZiwgMCk7XG4gIH1cbiAgYnVmLmFwcGVuZChcIilcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHBhbmRWYWxBcnJheShcbiAgY29udGV4dDogQ29udGV4dCxcbiAgYXJyOiBWYWxbXSxcbiAgcGFyYW1zOiBWYWxbXSxcbik6IFZhbFtdIHtcbiAgbGV0IGV4cGFuZGVkOiBWYWxbXSA9IGFycjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwID0gYXJyW2ldLmV4cGFuZChjb250ZXh0LCBwYXJhbXMpO1xuICAgIGlmIChhcnIgIT09IGV4cGFuZGVkKSB7XG4gICAgICBleHBhbmRlZFtpXSA9IHA7XG4gICAgfSBlbHNlIGlmIChwICE9PSBhcnJbaV0pIHtcbiAgICAgIGV4cGFuZGVkID0gQXJyYXkoYXJyLmxlbmd0aCk7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGk7IGorKykge1xuICAgICAgICBleHBhbmRlZFtqXSA9IGFycltqXTtcbiAgICAgIH1cbiAgICAgIGV4cGFuZGVkW2ldID0gcDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGV4cGFuZGVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXZhbFZhbEFycmF5KGNvbnRleHQ6IENvbnRleHQsIGFycjogVmFsW10pOiBSZXN1bHRbXSB7XG4gIGNvbnN0IHJlc3VsdDogUmVzdWx0W10gPSBBcnJheShhcnIubGVuZ3RoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHRbaV0gPSBhcnJbaV0uZXZhbHVhdGUoY29udGV4dCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGNsYXNzIENhbGwgZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogTGV4aWNhbFNjb3BlLFxuICAgIHB1YmxpYyBxdWFsaWZpZWROYW1lOiBzdHJpbmcsXG4gICAgcHVibGljIHBhcmFtczogVmFsW10sXG4gICkge1xuICAgIHN1cGVyKHNjb3BlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBidWYuYXBwZW5kKHRoaXMucXVhbGlmaWVkTmFtZSk7XG4gICAgYXBwZW5kVmFsQXJyYXkoYnVmLCB0aGlzLnBhcmFtcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsdWF0ZUNvcmUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgY29uc3QgYm9keSA9IGNvbnRleHQuZXZhbENhbGwoXG4gICAgICB0aGlzLnNjb3BlLFxuICAgICAgdGhpcy5xdWFsaWZpZWROYW1lLFxuICAgICAgdGhpcy5wYXJhbXMsXG4gICAgICBmYWxzZSxcbiAgICApO1xuICAgIHJldHVybiBib2R5LmV4cGFuZChjb250ZXh0LCB0aGlzLnBhcmFtcykuZXZhbHVhdGUoY29udGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBkZXBlbmRDb3JlKFxuICAgIG90aGVyOiBWYWwsXG4gICAgY29udGV4dDogQ29udGV4dCxcbiAgICBkZXBlbmRlbmN5Q2FjaGU6IERlcGVuZGVuY3lDYWNoZSxcbiAgKTogYm9vbGVhbiB7XG4gICAgaWYgKG90aGVyID09PSB0aGlzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMucGFyYW1zW2ldLmRlcGVuZE91dGVyKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBib2R5ID0gY29udGV4dC5ldmFsQ2FsbChcbiAgICAgIHRoaXMuc2NvcGUsXG4gICAgICB0aGlzLnF1YWxpZmllZE5hbWUsXG4gICAgICB0aGlzLnBhcmFtcyxcbiAgICAgIHRydWUsXG4gICAgKTtcblxuICAgIC8vIE5vIGV4cGFuc2lvbiBoZXJlIVxuICAgIHJldHVybiBib2R5LmRlcGVuZE91dGVyKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXhwYW5kKGNvbnRleHQ6IENvbnRleHQsIHBhcmFtczogVmFsW10pOiBWYWwge1xuICAgIGNvbnN0IGV4cGFuZGVkUGFyYW1zID0gZXhwYW5kVmFsQXJyYXkoY29udGV4dCwgdGhpcy5wYXJhbXMsIHBhcmFtcyk7XG4gICAgaWYgKGV4cGFuZGVkUGFyYW1zID09PSB0aGlzLnBhcmFtcykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ2FsbCh0aGlzLnNjb3BlLCB0aGlzLnF1YWxpZmllZE5hbWUsIGV4cGFuZGVkUGFyYW1zKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29uZCBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBMZXhpY2FsU2NvcGUsXG4gICAgcHVibGljIGNvbmQ6IFZhbCxcbiAgICBwdWJsaWMgaWZUcnVlOiBWYWwsXG4gICAgcHVibGljIGlmRmFsc2U6IFZhbCxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwZW5kVG8oYnVmOiBCYXNlLlN0cmluZ0J1ZmZlciwgcHJpb3JpdHk6IG51bWJlcik6IHZvaWQge1xuICAgIGlmIChwcmlvcml0eSA+IDApIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCIoXCIpO1xuICAgIH1cbiAgICB0aGlzLmNvbmQuYXBwZW5kVG8oYnVmLCAwKTtcbiAgICBidWYuYXBwZW5kKFwiP1wiKTtcbiAgICB0aGlzLmlmVHJ1ZS5hcHBlbmRUbyhidWYsIDApO1xuICAgIGJ1Zi5hcHBlbmQoXCI6XCIpO1xuICAgIHRoaXMuaWZGYWxzZS5hcHBlbmRUbyhidWYsIDApO1xuICAgIGlmIChwcmlvcml0eSA+IDApIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCIpXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICBpZiAodGhpcy5jb25kLmV2YWx1YXRlKGNvbnRleHQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5pZlRydWUuZXZhbHVhdGUoY29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmlmRmFsc2UuZXZhbHVhdGUoY29udGV4dCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZGVwZW5kQ29yZShcbiAgICBvdGhlcjogVmFsLFxuICAgIGNvbnRleHQ6IENvbnRleHQsXG4gICAgZGVwZW5kZW5jeUNhY2hlOiBEZXBlbmRlbmN5Q2FjaGUsXG4gICk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBvdGhlciA9PT0gdGhpcyB8fFxuICAgICAgdGhpcy5jb25kLmRlcGVuZE91dGVyKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpIHx8XG4gICAgICB0aGlzLmlmVHJ1ZS5kZXBlbmRPdXRlcihvdGhlciwgY29udGV4dCwgZGVwZW5kZW5jeUNhY2hlKSB8fFxuICAgICAgdGhpcy5pZkZhbHNlLmRlcGVuZE91dGVyKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV4cGFuZChjb250ZXh0OiBDb250ZXh0LCBwYXJhbXM6IFZhbFtdKTogVmFsIHtcbiAgICBjb25zdCBjb25kID0gdGhpcy5jb25kLmV4cGFuZChjb250ZXh0LCBwYXJhbXMpO1xuICAgIGNvbnN0IGlmVHJ1ZSA9IHRoaXMuaWZUcnVlLmV4cGFuZChjb250ZXh0LCBwYXJhbXMpO1xuICAgIGNvbnN0IGlmRmFsc2UgPSB0aGlzLmlmRmFsc2UuZXhwYW5kKGNvbnRleHQsIHBhcmFtcyk7XG4gICAgaWYgKFxuICAgICAgY29uZCA9PT0gdGhpcy5jb25kICYmXG4gICAgICBpZlRydWUgPT09IHRoaXMuaWZUcnVlICYmXG4gICAgICBpZkZhbHNlID09PSB0aGlzLmlmRmFsc2VcbiAgICApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjb25zdCByID0gbmV3IENvbmQodGhpcy5zY29wZSwgY29uZCwgaWZUcnVlLCBpZkZhbHNlKTtcbiAgICByZXR1cm4gcjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29uc3QgZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBwdWJsaWMgdmFsOiBSZXN1bHQpIHtcbiAgICBzdXBlcihzY29wZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCBwcmlvcml0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgc3dpdGNoICh0eXBlb2YgdGhpcy52YWwpIHtcbiAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgIGJ1Zi5hcHBlbmQodGhpcy52YWwudG9TdHJpbmcoKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICBidWYuYXBwZW5kKCdcIicpO1xuICAgICAgICBidWYuYXBwZW5kKEJhc2UuZXNjYXBlQ1NTU3RyKHRoaXMudmFsKSk7XG4gICAgICAgIGJ1Zi5hcHBlbmQoJ1wiJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRl9VTkVYUEVDVEVEX1NUQVRFXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy52YWw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1lZGlhVGVzdCBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIHB1YmxpYyBuYW1lOiBNZWRpYU5hbWUsIHB1YmxpYyB2YWx1ZTogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwZW5kVG8oYnVmOiBCYXNlLlN0cmluZ0J1ZmZlciwgcHJpb3JpdHk6IG51bWJlcik6IHZvaWQge1xuICAgIGJ1Zi5hcHBlbmQoXCIoXCIpO1xuICAgIGJ1Zi5hcHBlbmQoQmFzZS5lc2NhcGVDU1NTdHIodGhpcy5uYW1lLm5hbWUpKTtcbiAgICBidWYuYXBwZW5kKFwiOlwiKTtcbiAgICB0aGlzLnZhbHVlLmFwcGVuZFRvKGJ1ZiwgMCk7XG4gICAgYnVmLmFwcGVuZChcIilcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsdWF0ZUNvcmUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuIGNvbnRleHQuZXZhbE1lZGlhVGVzdCh0aGlzLm5hbWUubmFtZSwgdGhpcy52YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBkZXBlbmRDb3JlKFxuICAgIG90aGVyOiBWYWwsXG4gICAgY29udGV4dDogQ29udGV4dCxcbiAgICBkZXBlbmRlbmN5Q2FjaGU6IERlcGVuZGVuY3lDYWNoZSxcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIG90aGVyID09PSB0aGlzIHx8IHRoaXMudmFsdWUuZGVwZW5kT3V0ZXIob3RoZXIsIGNvbnRleHQsIGRlcGVuZGVuY3lDYWNoZSlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXhwYW5kKGNvbnRleHQ6IENvbnRleHQsIHBhcmFtczogVmFsW10pOiBWYWwge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy52YWx1ZS5leHBhbmQoY29udGV4dCwgcGFyYW1zKTtcbiAgICBpZiAodmFsdWUgPT09IHRoaXMudmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjb25zdCByID0gbmV3IE1lZGlhVGVzdCh0aGlzLnNjb3BlLCB0aGlzLm5hbWUsIHZhbHVlKTtcbiAgICByZXR1cm4gcjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFyYW0gZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBwdWJsaWMgaW5kZXg6IG51bWJlcikge1xuICAgIHN1cGVyKHNjb3BlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBidWYuYXBwZW5kKFwiJFwiKTtcbiAgICBidWYuYXBwZW5kKHRoaXMuaW5kZXgudG9TdHJpbmcoKSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBleHBhbmQoY29udGV4dDogQ29udGV4dCwgcGFyYW1zOiBWYWxbXSk6IFZhbCB7XG4gICAgY29uc3QgdiA9IHBhcmFtc1t0aGlzLmluZGV4XTtcbiAgICBpZiAoIXYpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUGFyYW1ldGVyIG1pc3Npbmc6ICR7dGhpcy5pbmRleH1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHYgYXMgVmFsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhbmQoc2NvcGU6IExleGljYWxTY29wZSwgdjE6IFZhbCwgdjI6IFZhbCk6IFZhbCB7XG4gIGlmIChcbiAgICB2MSA9PT0gc2NvcGUuX2ZhbHNlIHx8XG4gICAgdjEgPT09IHNjb3BlLnplcm8gfHxcbiAgICB2MiA9PSBzY29wZS5fZmFsc2UgfHxcbiAgICB2MiA9PSBzY29wZS56ZXJvXG4gICkge1xuICAgIHJldHVybiBzY29wZS5fZmFsc2U7XG4gIH1cbiAgaWYgKHYxID09PSBzY29wZS5fdHJ1ZSB8fCB2MSA9PT0gc2NvcGUub25lKSB7XG4gICAgcmV0dXJuIHYyO1xuICB9XG4gIGlmICh2MiA9PT0gc2NvcGUuX3RydWUgfHwgdjIgPT09IHNjb3BlLm9uZSkge1xuICAgIHJldHVybiB2MTtcbiAgfVxuICByZXR1cm4gbmV3IEFuZChzY29wZSwgdjEsIHYyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChzY29wZTogTGV4aWNhbFNjb3BlLCB2MTogVmFsLCB2MjogVmFsKTogVmFsIHtcbiAgaWYgKHYxID09PSBzY29wZS56ZXJvKSB7XG4gICAgcmV0dXJuIHYyO1xuICB9XG4gIGlmICh2MiA9PT0gc2NvcGUuemVybykge1xuICAgIHJldHVybiB2MTtcbiAgfVxuICByZXR1cm4gbmV3IEFkZChzY29wZSwgdjEsIHYyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YihzY29wZTogTGV4aWNhbFNjb3BlLCB2MTogVmFsLCB2MjogVmFsKTogVmFsIHtcbiAgaWYgKHYxID09PSBzY29wZS56ZXJvKSB7XG4gICAgcmV0dXJuIG5ldyBOZWdhdGUoc2NvcGUsIHYyKTtcbiAgfVxuICBpZiAodjIgPT09IHNjb3BlLnplcm8pIHtcbiAgICByZXR1cm4gdjE7XG4gIH1cbiAgcmV0dXJuIG5ldyBTdWJ0cmFjdChzY29wZSwgdjEsIHYyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG11bChzY29wZTogTGV4aWNhbFNjb3BlLCB2MTogVmFsLCB2MjogVmFsKTogVmFsIHtcbiAgaWYgKHYxID09PSBzY29wZS56ZXJvIHx8IHYyID09PSBzY29wZS56ZXJvKSB7XG4gICAgcmV0dXJuIHNjb3BlLnplcm87XG4gIH1cbiAgaWYgKHYxID09PSBzY29wZS5vbmUpIHtcbiAgICByZXR1cm4gdjI7XG4gIH1cbiAgaWYgKHYyID09PSBzY29wZS5vbmUpIHtcbiAgICByZXR1cm4gdjE7XG4gIH1cbiAgcmV0dXJuIG5ldyBNdWx0aXBseShzY29wZSwgdjEsIHYyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpdihzY29wZTogTGV4aWNhbFNjb3BlLCB2MTogVmFsLCB2MjogVmFsKTogVmFsIHtcbiAgaWYgKHYxID09PSBzY29wZS56ZXJvKSB7XG4gICAgcmV0dXJuIHNjb3BlLnplcm87XG4gIH1cbiAgaWYgKHYyID09PSBzY29wZS5vbmUpIHtcbiAgICByZXR1cm4gdjE7XG4gIH1cbiAgcmV0dXJuIG5ldyBEaXZpZGUoc2NvcGUsIHYxLCB2Mik7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENzcyAtIENTUyBWYWx1ZXMgYW5kIHV0aWxpdGllcyB0byBoYW5kbGUgdGhlbS5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuXG5leHBvcnQgY2xhc3MgVmlzaXRvciB7XG4gIC8qKlxuICAgKiBAcmV0dXJuIHZvaWRcbiAgICovXG4gIHZpc2l0VmFsdWVzKHZhbHVlczogVmFsW10pOiBhbnkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZXNbaV0udmlzaXQodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgdmlzaXRFbXB0eShlbXB0eTogVmFsKTogVmFsIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NTU19FTVBUWV9OT1RfQUxMT1dFRFwiKTtcbiAgfVxuXG4gIHZpc2l0U2xhc2goc2xhc2g6IFZhbCk6IFZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfU0xBU0hfTk9UX0FMTE9XRURcIik7XG4gIH1cblxuICB2aXNpdFN0cihzdHI6IFN0cik6IFZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfU1RSX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXRJZGVudChpZGVudDogSWRlbnQpOiBWYWwge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkVfQ1NTX0lERU5UX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXROdW1lcmljKG51bWVyaWM6IE51bWVyaWMpOiBWYWwge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkVfQ1NTX05VTUVSSUNfTk9UX0FMTE9XRURcIik7XG4gIH1cblxuICB2aXNpdE51bShudW06IE51bSk6IFZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfTlVNX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXRJbnQobnVtOiBJbnQpOiBWYWwge1xuICAgIHJldHVybiB0aGlzLnZpc2l0TnVtKG51bSk7XG4gIH1cblxuICB2aXNpdENvbG9yKGNvbG9yOiBDb2xvcik6IFZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfQ09MT1JfTk9UX0FMTE9XRURcIik7XG4gIH1cblxuICB2aXNpdFVSTCh1cmw6IFVSTCk6IFZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfVVJMX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXRTcGFjZUxpc3QobGlzdDogU3BhY2VMaXN0KTogVmFsIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NTU19MSVNUX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXRDb21tYUxpc3QobGlzdDogQ29tbWFMaXN0KTogVmFsIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NTU19DT01NQV9OT1RfQUxMT1dFRFwiKTtcbiAgfVxuXG4gIHZpc2l0RnVuYyhmdW5jOiBGdW5jKTogVmFsIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NTU19GVU5DX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXRFeHByKGV4cHI6IEV4cHIpOiBWYWwge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkVfQ1NTX0VYUFJfTk9UX0FMTE9XRURcIik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbHRlclZpc2l0b3IgZXh0ZW5kcyBWaXNpdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHZpc2l0VmFsdWVzKHZhbHVlczogVmFsW10pOiBWYWxbXSB7XG4gICAgbGV0IGFycjogVmFsW10gPSBudWxsO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBiZWZvcmUgPSB2YWx1ZXNbaV07XG4gICAgICBjb25zdCBhZnRlciA9IGJlZm9yZS52aXNpdCh0aGlzKTtcbiAgICAgIGlmIChhcnIpIHtcbiAgICAgICAgYXJyW2ldID0gYWZ0ZXI7XG4gICAgICB9IGVsc2UgaWYgKGJlZm9yZSAhPT0gYWZ0ZXIpIHtcbiAgICAgICAgYXJyID0gbmV3IEFycmF5KHZhbHVlcy5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGk7IGsrKykge1xuICAgICAgICAgIGFycltrXSA9IHZhbHVlc1trXTtcbiAgICAgICAgfVxuICAgICAgICBhcnJbaV0gPSBhZnRlcjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFyciB8fCB2YWx1ZXM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFN0cihzdHI6IFN0cik6IFZhbCB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0SWRlbnQoaWRlbnQ6IElkZW50KTogVmFsIHtcbiAgICByZXR1cm4gaWRlbnQ7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNsYXNoKHNsYXNoOiBWYWwpOiBWYWwge1xuICAgIHJldHVybiBzbGFzaDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0TnVtZXJpYyhudW1lcmljOiBOdW1lcmljKTogVmFsIHtcbiAgICByZXR1cm4gbnVtZXJpYztcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0TnVtKG51bTogTnVtKTogVmFsIHtcbiAgICByZXR1cm4gbnVtO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRJbnQobnVtOiBJbnQpOiBWYWwge1xuICAgIHJldHVybiBudW07XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdENvbG9yKGNvbG9yOiBDb2xvcik6IFZhbCB7XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRVUkwodXJsOiBVUkwpOiBWYWwge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBTcGFjZUxpc3QpOiBWYWwge1xuICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMudmlzaXRWYWx1ZXMobGlzdC52YWx1ZXMpO1xuICAgIGlmICh2YWx1ZXMgPT09IGxpc3QudmFsdWVzKSB7XG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTcGFjZUxpc3QodmFsdWVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0Q29tbWFMaXN0KGxpc3Q6IENvbW1hTGlzdCk6IFZhbCB7XG4gICAgY29uc3QgdmFsdWVzID0gdGhpcy52aXNpdFZhbHVlcyhsaXN0LnZhbHVlcyk7XG4gICAgaWYgKHZhbHVlcyA9PT0gbGlzdC52YWx1ZXMpIHtcbiAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IENvbW1hTGlzdCh2YWx1ZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRGdW5jKGZ1bmM6IEZ1bmMpOiBWYWwge1xuICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMudmlzaXRWYWx1ZXMoZnVuYy52YWx1ZXMpO1xuICAgIGlmICh2YWx1ZXMgPT09IGZ1bmMudmFsdWVzKSB7XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGdW5jKGZ1bmMubmFtZSwgdmFsdWVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0RXhwcihleHByOiBFeHByKTogVmFsIHtcbiAgICByZXR1cm4gZXhwcjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVmFsIHtcbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBjb25zdCBidWYgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgICB0aGlzLmFwcGVuZFRvKGJ1ZiwgdHJ1ZSk7XG4gICAgcmV0dXJuIGJ1Zi50b1N0cmluZygpO1xuICB9XG5cbiAgc3RyaW5nVmFsdWUoKTogc3RyaW5nIHtcbiAgICBjb25zdCBidWYgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgICB0aGlzLmFwcGVuZFRvKGJ1ZiwgZmFsc2UpO1xuICAgIHJldHVybiBidWYudG9TdHJpbmcoKTtcbiAgfVxuXG4gIHRvRXhwcihzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLCByZWY6IEV4cHJzLlZhbCk6IEV4cHJzLlZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRl9BQlNUUkFDVFwiKTtcbiAgfVxuXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgYnVmLmFwcGVuZChcIltlcnJvcl1cIik7XG4gIH1cblxuICBpc0V4cHIoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaXNOdW1lcmljKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlzTnVtKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlzSWRlbnQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaXNTcGFjZUxpc3QoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGX0FCU1RSQUNUXCIpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFbXB0eSBleHRlbmRzIFZhbCB7XG4gIHByaXZhdGUgc3RhdGljIGVtcHR5OiBFbXB0eTtcblxuICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBFbXB0eSB7XG4gICAgaWYgKCF0aGlzLmVtcHR5KSB7XG4gICAgICB0aGlzLmVtcHR5ID0gbmV3IEVtcHR5KCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmVtcHR5O1xuICB9XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9FeHByKHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsIHJlZjogRXhwcnMuVmFsKTogRXhwcnMuVmFsIHtcbiAgICByZXR1cm4gbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCBcIlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXRFbXB0eSh0aGlzKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZW1wdHk6IEVtcHR5ID0gRW1wdHkuaW5zdGFuY2U7XG5cbmV4cG9ydCBjbGFzcyBTbGFzaCBleHRlbmRzIFZhbCB7XG4gIHByaXZhdGUgc3RhdGljIHNsYXNoOiBTbGFzaDtcblxuICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBTbGFzaCB7XG4gICAgaWYgKCF0aGlzLnNsYXNoKSB7XG4gICAgICB0aGlzLnNsYXNoID0gbmV3IFNsYXNoKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNsYXNoO1xuICB9XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9FeHByKHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsIHJlZjogRXhwcnMuVmFsKTogRXhwcnMuVmFsIHtcbiAgICByZXR1cm4gbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCBcIi9cIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCB0b1N0cmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGJ1Zi5hcHBlbmQoXCIvXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICByZXR1cm4gdmlzaXRvci52aXNpdFNsYXNoKHRoaXMpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBzbGFzaDogU2xhc2ggPSBTbGFzaC5pbnN0YW5jZTtcblxuZXhwb3J0IGNsYXNzIFN0ciBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBzdHI6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0b0V4cHIoc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSwgcmVmOiBFeHBycy5WYWwpOiBFeHBycy5WYWwge1xuICAgIHJldHVybiBuZXcgRXhwcnMuQ29uc3Qoc2NvcGUsIHRoaXMuc3RyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKHRvU3RyaW5nKSB7XG4gICAgICBidWYuYXBwZW5kKCdcIicpO1xuICAgICAgYnVmLmFwcGVuZChCYXNlLmVzY2FwZUNTU1N0cih0aGlzLnN0cikpO1xuICAgICAgYnVmLmFwcGVuZCgnXCInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmLmFwcGVuZCh0aGlzLnN0cik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICByZXR1cm4gdmlzaXRvci52aXNpdFN0cih0aGlzKTtcbiAgfVxufVxuXG5jb25zdCBuYW1lVGFibGUgPSB7fTtcblxuZXhwb3J0IGNsYXNzIElkZW50IGV4dGVuZHMgVmFsIHtcbiAgY29uc3RydWN0b3IocHVibGljIG5hbWU6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKG5hbWVUYWJsZVtuYW1lXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRV9JTlZBTElEX0NBTExcIik7XG4gICAgfVxuICAgIG5hbWVUYWJsZVtuYW1lXSA9IHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0b0V4cHIoc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSwgcmVmOiBFeHBycy5WYWwpOiBFeHBycy5WYWwge1xuICAgIHJldHVybiBuZXcgRXhwcnMuQ29uc3Qoc2NvcGUsIHRoaXMubmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCB0b1N0cmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmICh0b1N0cmluZykge1xuICAgICAgYnVmLmFwcGVuZChCYXNlLmVzY2FwZUNTU0lkZW50KHRoaXMubmFtZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBidWYuYXBwZW5kKHRoaXMubmFtZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICByZXR1cm4gdmlzaXRvci52aXNpdElkZW50KHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNJZGVudCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmFtZShuYW1lOiBzdHJpbmcpOiBJZGVudCB7XG4gIGxldCByID0gbmFtZVRhYmxlW25hbWVdO1xuICBpZiAoIXIpIHtcbiAgICByID0gbmV3IElkZW50KG5hbWUpO1xuICB9XG4gIHJldHVybiByO1xufVxuXG5leHBvcnQgY2xhc3MgTnVtZXJpYyBleHRlbmRzIFZhbCB7XG4gIHVuaXQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgbnVtOiBudW1iZXIsIHVuaXQ6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy51bml0ID0gdW5pdC50b0xvd2VyQ2FzZSgpOyAvLyB1bml0cyBhcmUgY2FzZS1pbnNlbnNpdGl2ZSBpbiBDU1NcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRvRXhwcihzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLCByZWY6IEV4cHJzLlZhbCk6IEV4cHJzLlZhbCB7XG4gICAgaWYgKHRoaXMubnVtID09IDApIHtcbiAgICAgIHJldHVybiBzY29wZS56ZXJvO1xuICAgIH1cbiAgICBpZiAocmVmICYmIHRoaXMudW5pdCA9PSBcIiVcIikge1xuICAgICAgaWYgKHRoaXMubnVtID09IDEwMCkge1xuICAgICAgICByZXR1cm4gcmVmO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBFeHBycy5NdWx0aXBseShcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHJlZixcbiAgICAgICAgbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCB0aGlzLm51bSAvIDEwMCksXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEV4cHJzLk51bWVyaWMoc2NvcGUsIHRoaXMubnVtLCB0aGlzLnVuaXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwZW5kVG8oYnVmOiBCYXNlLlN0cmluZ0J1ZmZlciwgdG9TdHJpbmc6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBidWYuYXBwZW5kKHRoaXMubnVtLnRvU3RyaW5nKCkpO1xuICAgIGJ1Zi5hcHBlbmQodGhpcy51bml0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXROdW1lcmljKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNOdW1lcmljKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBOdW0gZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgbnVtOiBudW1iZXIpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9FeHByKHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsIHJlZjogRXhwcnMuVmFsKTogRXhwcnMuVmFsIHtcbiAgICBpZiAodGhpcy5udW0gPT0gMCkge1xuICAgICAgcmV0dXJuIHNjb3BlLnplcm87XG4gICAgfVxuICAgIGlmICh0aGlzLm51bSA9PSAxKSB7XG4gICAgICByZXR1cm4gc2NvcGUub25lO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCB0aGlzLm51bSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCB0b1N0cmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGJ1Zi5hcHBlbmQodGhpcy5udW0udG9TdHJpbmcoKSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdCh2aXNpdG9yOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB2aXNpdG9yLnZpc2l0TnVtKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNOdW0oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEludCBleHRlbmRzIE51bSB7XG4gIGNvbnN0cnVjdG9yKG51bTogbnVtYmVyKSB7XG4gICAgc3VwZXIobnVtKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXRJbnQodGhpcyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbG9yIGV4dGVuZHMgVmFsIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJnYjogbnVtYmVyKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgYnVmLmFwcGVuZChcIiNcIik7XG4gICAgY29uc3Qgc3RyID0gdGhpcy5yZ2IudG9TdHJpbmcoMTYpO1xuICAgIGJ1Zi5hcHBlbmQoXCIwMDAwMDBcIi5zdWJzdHIoc3RyLmxlbmd0aCkpO1xuICAgIGJ1Zi5hcHBlbmQoc3RyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXRDb2xvcih0aGlzKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVVJMIGV4dGVuZHMgVmFsIHtcbiAgY29uc3RydWN0b3IocHVibGljIHVybDogc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgYnVmLmFwcGVuZCgndXJsKFwiJyk7XG4gICAgYnVmLmFwcGVuZChCYXNlLmVzY2FwZUNTU1N0cih0aGlzLnVybCkpO1xuICAgIGJ1Zi5hcHBlbmQoJ1wiKScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICByZXR1cm4gdmlzaXRvci52aXNpdFVSTCh0aGlzKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kTGlzdChcbiAgYnVmOiBCYXNlLlN0cmluZ0J1ZmZlcixcbiAgdmFsdWVzOiBWYWxbXSxcbiAgc2VwYXJhdG9yOiBzdHJpbmcsXG4gIHRvU3RyaW5nOiBib29sZWFuLFxuKTogdm9pZCB7XG4gIGNvbnN0IGxlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG4gIHZhbHVlc1swXS5hcHBlbmRUbyhidWYsIHRvU3RyaW5nKTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGJ1Zi5hcHBlbmQoc2VwYXJhdG9yKTtcbiAgICB2YWx1ZXNbaV0uYXBwZW5kVG8oYnVmLCB0b1N0cmluZyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNwYWNlTGlzdCBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB2YWx1ZXM6IFZhbFtdKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgYXBwZW5kTGlzdChidWYsIHRoaXMudmFsdWVzLCBcIiBcIiwgdG9TdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICByZXR1cm4gdmlzaXRvci52aXNpdFNwYWNlTGlzdCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGlzU3BhY2VMaXN0KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb21tYUxpc3QgZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgdmFsdWVzOiBWYWxbXSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCB0b1N0cmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGFwcGVuZExpc3QoYnVmLCB0aGlzLnZhbHVlcywgXCIsXCIsIHRvU3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXRDb21tYUxpc3QodGhpcyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZ1bmMgZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgbmFtZTogc3RyaW5nLCBwdWJsaWMgdmFsdWVzOiBWYWxbXSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCB0b1N0cmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGJ1Zi5hcHBlbmQoQmFzZS5lc2NhcGVDU1NJZGVudCh0aGlzLm5hbWUpKTtcbiAgICBidWYuYXBwZW5kKFwiKFwiKTtcbiAgICBhcHBlbmRMaXN0KGJ1ZiwgdGhpcy52YWx1ZXMsIFwiLFwiLCB0b1N0cmluZyk7XG4gICAgYnVmLmFwcGVuZChcIilcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdCh2aXNpdG9yOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB2aXNpdG9yLnZpc2l0RnVuYyh0aGlzKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRXhwciBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBleHByOiBFeHBycy5WYWwpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9FeHByKCk6IEV4cHJzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMuZXhwcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgYnVmLmFwcGVuZChcIi1lcHVieC1leHByKFwiKTtcbiAgICB0aGlzLmV4cHIuYXBwZW5kVG8oYnVmLCAwKTtcbiAgICBidWYuYXBwZW5kKFwiKVwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXRFeHByKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNFeHByKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b051bWJlcih2YWw6IFZhbCwgY29udGV4dDogRXhwcnMuQ29udGV4dCk6IG51bWJlciB7XG4gIGlmICh2YWwpIHtcbiAgICBpZiAodmFsLmlzTnVtZXJpYygpKSB7XG4gICAgICBjb25zdCBudW1lcmljID0gdmFsIGFzIE51bWVyaWM7XG4gICAgICByZXR1cm4gY29udGV4dC5xdWVyeVVuaXRTaXplKG51bWVyaWMudW5pdCwgZmFsc2UpICogbnVtZXJpYy5udW07XG4gICAgfVxuICAgIGlmICh2YWwuaXNOdW0oKSkge1xuICAgICAgcmV0dXJuICh2YWwgYXMgTnVtKS5udW07XG4gICAgfVxuICB9XG4gIHJldHVybiAwO1xufVxuXG4vKipcbiAqIENvbnZlcnQgbnVtZXJpYyB2YWx1ZSB0byBweFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydE51bWVyaWNUb1B4KHZhbDogVmFsLCBjb250ZXh0OiBFeHBycy5Db250ZXh0KTogTnVtZXJpYyB7XG4gIHJldHVybiBuZXcgTnVtZXJpYyh0b051bWJlcih2YWwsIGNvbnRleHQpLCBcInB4XCIpO1xufVxuXG5leHBvcnQgY29uc3QgaWRlbnQ6IHsgW2tleTogc3RyaW5nXTogSWRlbnQgfSA9IHtcbiAgYWJzb2x1dGU6IGdldE5hbWUoXCJhYnNvbHV0ZVwiKSxcbiAgYWxsOiBnZXROYW1lKFwiYWxsXCIpLFxuICBhbHdheXM6IGdldE5hbWUoXCJhbHdheXNcIiksXG4gIGF1dG86IGdldE5hbWUoXCJhdXRvXCIpLFxuICBhdm9pZDogZ2V0TmFtZShcImF2b2lkXCIpLFxuICBiYWxhbmNlOiBnZXROYW1lKFwiYmFsYW5jZVwiKSxcbiAgYmFsYW5jZV9hbGw6IGdldE5hbWUoXCJiYWxhbmNlLWFsbFwiKSxcbiAgYmxvY2s6IGdldE5hbWUoXCJibG9ja1wiKSxcbiAgYmxvY2tfZW5kOiBnZXROYW1lKFwiYmxvY2stZW5kXCIpLFxuICBibG9ja19zdGFydDogZ2V0TmFtZShcImJsb2NrLXN0YXJ0XCIpLFxuICBib3RoOiBnZXROYW1lKFwiYm90aFwiKSxcbiAgYm90dG9tOiBnZXROYW1lKFwiYm90dG9tXCIpLFxuICBib3JkZXJfYm94OiBnZXROYW1lKFwiYm9yZGVyLWJveFwiKSxcbiAgYnJlYWtfYWxsOiBnZXROYW1lKFwiYnJlYWstYWxsXCIpLFxuICBicmVha193b3JkOiBnZXROYW1lKFwiYnJlYWstd29yZFwiKSxcbiAgY3JvcDogZ2V0TmFtZShcImNyb3BcIiksXG4gIGNyb3NzOiBnZXROYW1lKFwiY3Jvc3NcIiksXG4gIGNvbHVtbjogZ2V0TmFtZShcImNvbHVtblwiKSxcbiAgZXhjbHVzaXZlOiBnZXROYW1lKFwiZXhjbHVzaXZlXCIpLFxuICBfZmFsc2U6IGdldE5hbWUoXCJmYWxzZVwiKSxcbiAgZml4ZWQ6IGdldE5hbWUoXCJmaXhlZFwiKSxcbiAgZmxleDogZ2V0TmFtZShcImZsZXhcIiksXG4gIGZvb3Rub3RlOiBnZXROYW1lKFwiZm9vdG5vdGVcIiksXG4gIGZvb3RlcjogZ2V0TmFtZShcImZvb3RlclwiKSxcbiAgaGVhZGVyOiBnZXROYW1lKFwiaGVhZGVyXCIpLFxuICBoaWRkZW46IGdldE5hbWUoXCJoaWRkZW5cIiksXG4gIGhvcml6b250YWxfdGI6IGdldE5hbWUoXCJob3Jpem9udGFsLXRiXCIpLFxuICBpbmhlcml0OiBnZXROYW1lKFwiaW5oZXJpdFwiKSxcbiAgaW5saW5lOiBnZXROYW1lKFwiaW5saW5lXCIpLFxuICBpbmxpbmVfYmxvY2s6IGdldE5hbWUoXCJpbmxpbmUtYmxvY2tcIiksXG4gIGlubGluZV9lbmQ6IGdldE5hbWUoXCJpbmxpbmUtZW5kXCIpLFxuICBpbmxpbmVfc3RhcnQ6IGdldE5hbWUoXCJpbmxpbmUtc3RhcnRcIiksXG4gIGxhbmRzY2FwZTogZ2V0TmFtZShcImxhbmRzY2FwZVwiKSxcbiAgbGVmdDogZ2V0TmFtZShcImxlZnRcIiksXG4gIGxpbmU6IGdldE5hbWUoXCJsaW5lXCIpLFxuICBsaXN0X2l0ZW06IGdldE5hbWUoXCJsaXN0LWl0ZW1cIiksXG4gIGx0cjogZ2V0TmFtZShcImx0clwiKSxcbiAgbWFudWFsOiBnZXROYW1lKFwibWFudWFsXCIpLFxuICBub25lOiBnZXROYW1lKFwibm9uZVwiKSxcbiAgbm9ybWFsOiBnZXROYW1lKFwibm9ybWFsXCIpLFxuICBvZWJfcGFnZV9mb290OiBnZXROYW1lKFwib2ViLXBhZ2UtZm9vdFwiKSxcbiAgb2ViX3BhZ2VfaGVhZDogZ2V0TmFtZShcIm9lYi1wYWdlLWhlYWRcIiksXG4gIHBhZ2U6IGdldE5hbWUoXCJwYWdlXCIpLFxuICByZWxhdGl2ZTogZ2V0TmFtZShcInJlbGF0aXZlXCIpLFxuICByaWdodDogZ2V0TmFtZShcInJpZ2h0XCIpLFxuICBzYW1lOiBnZXROYW1lKFwic2FtZVwiKSxcbiAgc2NhbGU6IGdldE5hbWUoXCJzY2FsZVwiKSxcbiAgc25hcF9ibG9jazogZ2V0TmFtZShcInNuYXAtYmxvY2tcIiksXG4gIHNwcmVhZDogZ2V0TmFtZShcInNwcmVhZFwiKSxcbiAgX3N0YXRpYzogZ2V0TmFtZShcInN0YXRpY1wiKSxcbiAgcnRsOiBnZXROYW1lKFwicnRsXCIpLFxuICB0YWJsZTogZ2V0TmFtZShcInRhYmxlXCIpLFxuICB0YWJsZV9jYXB0aW9uOiBnZXROYW1lKFwidGFibGUtY2FwdGlvblwiKSxcbiAgdGFibGVfY2VsbDogZ2V0TmFtZShcInRhYmxlLWNlbGxcIiksXG4gIHRhYmxlX2Zvb3Rlcl9ncm91cDogZ2V0TmFtZShcInRhYmxlLWZvb3Rlci1ncm91cFwiKSxcbiAgdGFibGVfaGVhZGVyX2dyb3VwOiBnZXROYW1lKFwidGFibGUtaGVhZGVyLWdyb3VwXCIpLFxuICB0YWJsZV9yb3c6IGdldE5hbWUoXCJ0YWJsZS1yb3dcIiksXG4gIHRvcDogZ2V0TmFtZShcInRvcFwiKSxcbiAgdHJhbnNwYXJlbnQ6IGdldE5hbWUoXCJ0cmFuc3BhcmVudFwiKSxcbiAgdmVydGljYWxfbHI6IGdldE5hbWUoXCJ2ZXJ0aWNhbC1sclwiKSxcbiAgdmVydGljYWxfcmw6IGdldE5hbWUoXCJ2ZXJ0aWNhbC1ybFwiKSxcbiAgdmlzaWJsZTogZ2V0TmFtZShcInZpc2libGVcIiksXG4gIF90cnVlOiBnZXROYW1lKFwidHJ1ZVwiKSxcbn07XG5cbmV4cG9ydCBjb25zdCBodW5kcmVkUGVyY2VudDogTnVtZXJpYyA9IG5ldyBOdW1lcmljKDEwMCwgXCIlXCIpO1xuXG5leHBvcnQgY29uc3QgZnVsbFdpZHRoOiBOdW1lcmljID0gbmV3IE51bWVyaWMoMTAwLCBcInB2d1wiKTtcblxuZXhwb3J0IGNvbnN0IGZ1bGxIZWlnaHQ6IE51bWVyaWMgPSBuZXcgTnVtZXJpYygxMDAsIFwicHZoXCIpO1xuXG5leHBvcnQgY29uc3QgbnVtZXJpY1plcm86IE51bWVyaWMgPSBuZXcgTnVtZXJpYygwLCBcInB4XCIpO1xuXG5leHBvcnQgY29uc3QgcHJvY2Vzc2luZ09yZGVyID0ge1xuICBcImZvbnQtc2l6ZVwiOiAxLFxuICBjb2xvcjogMixcbn07XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gc29ydCBwcm9wZXJ0eSBuYW1lcyBpbiB0aGUgb3JkZXIgdGhleSBzaG91bGQgYmUgcHJvY2Vzc2VkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzaW5nT3JkZXJGbihuYW1lMTogc3RyaW5nLCBuYW1lMjogc3RyaW5nKTogbnVtYmVyIHtcbiAgY29uc3QgbjEgPSBwcm9jZXNzaW5nT3JkZXJbbmFtZTFdIHx8IE51bWJlci5NQVhfVkFMVUU7XG4gIGNvbnN0IG4yID0gcHJvY2Vzc2luZ09yZGVyW25hbWUyXSB8fCBOdW1iZXIuTUFYX1ZBTFVFO1xuICByZXR1cm4gbjEgLSBuMjtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNiBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgR2VvbWV0cnlVdGlsIC0gR2VvbWV0cmljIHV0aWxpdGllcy5cbiAqL1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5cbmV4cG9ydCBjbGFzcyBSZWN0IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHgxOiBudW1iZXIsXG4gICAgcHVibGljIHkxOiBudW1iZXIsXG4gICAgcHVibGljIHgyOiBudW1iZXIsXG4gICAgcHVibGljIHkyOiBudW1iZXIsXG4gICkge31cbn1cblxuZXhwb3J0IGNsYXNzIFBvaW50IHtcbiAgY29uc3RydWN0b3IocHVibGljIHg6IG51bWJlciwgcHVibGljIHk6IG51bWJlcikge31cbn1cblxuZXhwb3J0IGNsYXNzIEluc2V0cyB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBsZWZ0OiBudW1iZXIsXG4gICAgcHVibGljIHRvcDogbnVtYmVyLFxuICAgIHB1YmxpYyByaWdodDogbnVtYmVyLFxuICAgIHB1YmxpYyBib3R0b206IG51bWJlcixcbiAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgU2VnbWVudCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBsb3c6IFBvaW50LFxuICAgIHB1YmxpYyBoaWdoOiBQb2ludCxcbiAgICBwdWJsaWMgd2luZGluZzogbnVtYmVyLFxuICAgIHB1YmxpYyBzaGFwZUlkOiBudW1iZXIsXG4gICkge31cbn1cblxuLyoqXG4gKiBBIHNpbmdsZSBiYW5kIGZvciBleGNsdXNpb24gcmVzdWx0LiBMZWZ0IGZsb2F0IGlzIGZyb20gdGhlIGxlZnQgYm94IGVkZ2VcbiAqIHRvIHgxLiBSaWdodCBmbG9hdCBpcyBmcm9tIHgyIHRvIHRoZSByaWdodCBib3ggZWRnZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhbmQge1xuICAvKiogTGVmdCBmbG9hdC4gKi9cbiAgbGVmdDogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXG4gIC8qKiBSaWdodCBmbG9hdC4gKi9cbiAgcmlnaHQ6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgeTE6IG51bWJlcixcbiAgICBwdWJsaWMgeTI6IG51bWJlcixcbiAgICBwdWJsaWMgeDE6IG51bWJlcixcbiAgICBwdWJsaWMgeDI6IG51bWJlcixcbiAgKSB7fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VnbWVudENvbXBhcmUoczE6IFNlZ21lbnQsIHMyOiBTZWdtZW50KTogbnVtYmVyIHtcbiAgcmV0dXJuIHMxLmxvdy55IC0gczIubG93LnkgfHwgczEubG93LnggLSBzMi5sb3cueDtcbn1cblxuZXhwb3J0IGNsYXNzIFNoYXBlIHtcbiAgY29uc3RydWN0b3IocHVibGljIHBvaW50czogUG9pbnRbXSkge31cblxuICAvKipcbiAgICogQ29udmVydHMgdGhpcyBzaGFwZSB0byBhIHNlcXVlbmNlIG9mIFNlZ21lbnRzIGFuZCBhZGRzIHNlZ21lbnRzIHRvIHRoZVxuICAgKiBnaXZlbiBhcnJheS5cbiAgICogQHBhcmFtIGFyciBhcnJheSB0byBhZGQgc2VnbWVudHMuXG4gICAqIEBwYXJhbSBpZCBzaGFwZUlkIHRvIHdyaXRlIGludG8gc2VnbWVudHMuXG4gICAqL1xuICBhZGRTZWdtZW50cyhhcnI6IFNlZ21lbnRbXSwgaWQ6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgIGNvbnN0IGxlbmd0aCA9IHBvaW50cy5sZW5ndGg7XG4gICAgbGV0IHByZXYgPSBwb2ludHNbbGVuZ3RoIC0gMV07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY3VyciA9IHBvaW50c1tpXTtcbiAgICAgIGxldCBzOiBTZWdtZW50O1xuICAgICAgaWYgKHByZXYueSA8IGN1cnIueSkge1xuICAgICAgICBzID0gbmV3IFNlZ21lbnQocHJldiwgY3VyciwgMSwgaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcyA9IG5ldyBTZWdtZW50KGN1cnIsIHByZXYsIC0xLCBpZCk7XG4gICAgICB9XG4gICAgICBhcnIucHVzaChzKTtcbiAgICAgIHByZXYgPSBjdXJyO1xuICAgIH1cbiAgfVxuXG4gIHdpdGhPZmZzZXQob2Zmc2V0WDogbnVtYmVyLCBvZmZzZXRZOiBudW1iZXIpOiBTaGFwZSB7XG4gICAgY29uc3QgcG9pbnRzID0gW107XG4gICAgZm9yIChjb25zdCBwIG9mIHRoaXMucG9pbnRzKSB7XG4gICAgICBwb2ludHMucHVzaChuZXcgUG9pbnQocC54ICsgb2Zmc2V0WCwgcC55ICsgb2Zmc2V0WSkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFNoYXBlKHBvaW50cyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlRm9yRWxsaXBzZShcbiAgY3g6IG51bWJlcixcbiAgY3k6IG51bWJlcixcbiAgcng6IG51bWJlcixcbiAgcnk6IG51bWJlcixcbik6IFNoYXBlIHtcbiAgY29uc3QgY291bnQgPSAyMDtcbiAgY29uc3QgcG9pbnRzOiBQb2ludFtdID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgIGNvbnN0IGEgPSAoaSAqIDIgKiBNYXRoLlBJKSAvIGNvdW50O1xuICAgIHBvaW50cy5wdXNoKG5ldyBQb2ludChjeCArIHJ4ICogTWF0aC5zaW4oYSksIGN5ICsgcnkgKiBNYXRoLmNvcyhhKSkpO1xuICB9XG4gIHJldHVybiBuZXcgU2hhcGUocG9pbnRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlRm9yUmVjdChcbiAgeDE6IG51bWJlcixcbiAgeTE6IG51bWJlcixcbiAgeDI6IG51bWJlcixcbiAgeTI6IG51bWJlcixcbik6IFNoYXBlIHtcbiAgcmV0dXJuIG5ldyBTaGFwZShbXG4gICAgbmV3IFBvaW50KHgxLCB5MSksXG4gICAgbmV3IFBvaW50KHgyLCB5MSksXG4gICAgbmV3IFBvaW50KHgyLCB5MiksXG4gICAgbmV3IFBvaW50KHgxLCB5MiksXG4gIF0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhcGVGb3JSZWN0T2JqKHI6IFJlY3QpOiBTaGFwZSB7XG4gIHJldHVybiBuZXcgU2hhcGUoW1xuICAgIG5ldyBQb2ludChyLngxLCByLnkxKSxcbiAgICBuZXcgUG9pbnQoci54Miwgci55MSksXG4gICAgbmV3IFBvaW50KHIueDIsIHIueTIpLFxuICAgIG5ldyBQb2ludChyLngxLCByLnkyKSxcbiAgXSk7XG59XG5cbmV4cG9ydCBjbGFzcyBCYW5kSW50ZXJzZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHg6IG51bWJlcixcbiAgICBwdWJsaWMgd2luZGluZzogbnVtYmVyLFxuICAgIHB1YmxpYyBzaGFwZUlkOiBudW1iZXIsXG4gICAgcHVibGljIGxvd09ySGlnaDogbnVtYmVyLFxuICApIHt9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RZKHM6IFNlZ21lbnQsIHk6IG51bWJlcik6IG51bWJlciB7XG4gIGNvbnN0IHggPVxuICAgIHMubG93LnggKyAoKHMuaGlnaC54IC0gcy5sb3cueCkgKiAoeSAtIHMubG93LnkpKSAvIChzLmhpZ2gueSAtIHMubG93LnkpO1xuICBpZiAoaXNOYU4oeCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJCYWQgaW50ZXJzZWN0aW9uXCIpO1xuICB9XG4gIHJldHVybiB4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQmFuZEludGVyc2VjdGlvbnMoXG4gIGludGVyc2VjdGlvbnM6IEJhbmRJbnRlcnNlY3Rpb25bXSxcbiAgczogU2VnbWVudCxcbiAgeTE6IG51bWJlcixcbiAgeTI6IG51bWJlcixcbik6IHZvaWQge1xuICBsZXQgeDE6IG51bWJlcjtcbiAgbGV0IHcxOiBudW1iZXI7XG4gIGxldCB4MjogbnVtYmVyO1xuICBsZXQgdzI6IG51bWJlcjtcbiAgaWYgKHMuaGlnaC55IDwgeTEpIHtcbiAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiRXJyb3I6IGluY29uc2lzdGVudCBzZWdtZW50ICgxKVwiKTtcbiAgfVxuICBpZiAocy5sb3cueSA8PSB5MSkge1xuICAgIC8vIG91dHNpZGVcbiAgICB4MSA9IGludGVyc2VjdFkocywgeTEpO1xuICAgIHcxID0gcy53aW5kaW5nO1xuICB9IGVsc2Uge1xuICAgIHgxID0gcy5sb3cueDtcbiAgICB3MSA9IDA7XG4gIH1cbiAgaWYgKHMuaGlnaC55ID49IHkyKSB7XG4gICAgLy8gb3V0c2lkZVxuICAgIHgyID0gaW50ZXJzZWN0WShzLCB5Mik7XG4gICAgdzIgPSBzLndpbmRpbmc7XG4gIH0gZWxzZSB7XG4gICAgeDIgPSBzLmhpZ2gueDtcbiAgICB3MiA9IDA7XG4gIH1cbiAgaWYgKHgxIDwgeDIpIHtcbiAgICBpbnRlcnNlY3Rpb25zLnB1c2gobmV3IEJhbmRJbnRlcnNlY3Rpb24oeDEsIHcxLCBzLnNoYXBlSWQsIC0xKSk7XG4gICAgaW50ZXJzZWN0aW9ucy5wdXNoKG5ldyBCYW5kSW50ZXJzZWN0aW9uKHgyLCB3Miwgcy5zaGFwZUlkLCAxKSk7XG4gIH0gZWxzZSB7XG4gICAgaW50ZXJzZWN0aW9ucy5wdXNoKG5ldyBCYW5kSW50ZXJzZWN0aW9uKHgyLCB3Miwgcy5zaGFwZUlkLCAtMSkpO1xuICAgIGludGVyc2VjdGlvbnMucHVzaChuZXcgQmFuZEludGVyc2VjdGlvbih4MSwgdzEsIHMuc2hhcGVJZCwgMSkpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUludGVyc2VjdGlvbnMoXG4gIGludGVyc2VjdGlvbnM6IEJhbmRJbnRlcnNlY3Rpb25bXSxcbiAgaW5jbHVkZUNvdW50OiBudW1iZXIsXG4gIGV4Y2x1ZGVDb3VudDogbnVtYmVyLFxuKTogbnVtYmVyW10ge1xuICBjb25zdCBzaGFwZUNvdW50ID0gaW5jbHVkZUNvdW50ICsgZXhjbHVkZUNvdW50O1xuICBjb25zdCB3aW5kaW5nczE6IG51bWJlcltdID0gQXJyYXkoc2hhcGVDb3VudCk7XG4gIGNvbnN0IHdpbmRpbmdzMjogbnVtYmVyW10gPSBBcnJheShzaGFwZUNvdW50KTtcbiAgbGV0IGk6IG51bWJlcjtcbiAgZm9yIChpID0gMDsgaSA8PSBzaGFwZUNvdW50OyBpKyspIHtcbiAgICB3aW5kaW5nczFbaV0gPSAwO1xuICAgIHdpbmRpbmdzMltpXSA9IDA7XG4gIH1cbiAgY29uc3QgeHJhbmdlczogbnVtYmVyW10gPSBbXTtcbiAgbGV0IGluc2lkZTogYm9vbGVhbiA9IGZhbHNlO1xuICBjb25zdCBpbnRlcnNlY3Rpb25Db3VudCA9IGludGVyc2VjdGlvbnMubGVuZ3RoO1xuICBmb3IgKGxldCBrID0gMDsgayA8IGludGVyc2VjdGlvbkNvdW50OyBrKyspIHtcbiAgICBjb25zdCBpbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb25zW2tdO1xuICAgIHdpbmRpbmdzMVtpbnRlcnNlY3Rpb24uc2hhcGVJZF0gKz0gaW50ZXJzZWN0aW9uLndpbmRpbmc7XG4gICAgd2luZGluZ3MyW2ludGVyc2VjdGlvbi5zaGFwZUlkXSArPSBpbnRlcnNlY3Rpb24ubG93T3JIaWdoO1xuICAgIGxldCBzdGlsbEluc2lkZSA9IGZhbHNlO1xuICAgIGZvciAoaSA9IDA7IGkgPCBpbmNsdWRlQ291bnQ7IGkrKykge1xuICAgICAgaWYgKHdpbmRpbmdzMVtpXSAmJiAhd2luZGluZ3MyW2ldKSB7XG4gICAgICAgIHN0aWxsSW5zaWRlID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzdGlsbEluc2lkZSkge1xuICAgICAgZm9yIChpID0gaW5jbHVkZUNvdW50OyBpIDw9IHNoYXBlQ291bnQ7IGkrKykge1xuICAgICAgICBpZiAod2luZGluZ3MxW2ldIHx8IHdpbmRpbmdzMltpXSkge1xuICAgICAgICAgIHN0aWxsSW5zaWRlID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluc2lkZSAhPSBzdGlsbEluc2lkZSkge1xuICAgICAgeHJhbmdlcy5wdXNoKGludGVyc2VjdGlvbi54KTtcbiAgICAgIGluc2lkZSA9IHN0aWxsSW5zaWRlO1xuICAgIH1cbiAgfVxuICByZXR1cm4geHJhbmdlcztcbn1cblxuLyoqXG4gKiBSb3VuZCB2IHVwIHRvIG1ha2UgaXQgYSBtdWx0aXBsZSBvZiB1bml0LiBJZiB1bml0IGlzIHplcm8sIHJldHVybiB2LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2VpbCh2OiBudW1iZXIsIHVuaXQ6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiB1bml0ID8gTWF0aC5jZWlsKHYgLyB1bml0KSAqIHVuaXQgOiB2O1xufVxuXG4vKipcbiAqIFJvdW5kIHYgZG93biB0byBtYWtlIGl0IGEgbXVsdGlwbGUgb2YgdW5pdC4gSWYgdW5pdCBpcyB6ZXJvLCByZXR1cm4gdi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKHY6IG51bWJlciwgdW5pdDogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIHVuaXQgPyBNYXRoLmZsb29yKHYgLyB1bml0KSAqIHVuaXQgOiB2O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlUG9pbnQocG9pbnQ6IFBvaW50KTogUG9pbnQge1xuICByZXR1cm4gbmV3IFBvaW50KHBvaW50LnksIC1wb2ludC54KTtcbn1cblxuLyoqXG4gKiBWZXJ0aWNhbCBib3ggdG8gcHNldWRvLWhvcml6b250YWwgY29vcmRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQm94KGJveDogUmVjdCk6IFJlY3Qge1xuICByZXR1cm4gbmV3IFJlY3QoYm94LnkxLCAtYm94LngyLCBib3gueTIsIC1ib3gueDEpO1xufVxuXG4vKipcbiAqIFBzZXVkby1ob3Jpem9udGFsIGNvb3JkcyB0byB2ZXJ0aWNhbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVucm90YXRlQm94KGJveDogUmVjdCk6IFJlY3Qge1xuICByZXR1cm4gbmV3IFJlY3QoLWJveC55MiwgYm94LngxLCAtYm94LnkxLCBib3gueDIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlU2hhcGUoc2hhcGU6IFNoYXBlKTogU2hhcGUge1xuICByZXR1cm4gbmV3IFNoYXBlKHNoYXBlLnBvaW50cy5tYXAoKHBvaW50KSA9PiByb3RhdGVQb2ludChwb2ludCkpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlc1RvQmFuZHMoXG4gIGJveDogUmVjdCxcbiAgaW5jbHVkZTogU2hhcGVbXSxcbiAgZXhjbHVkZTogU2hhcGVbXSxcbiAgZ3JhbnVsYXJpdHk6IG51bWJlcixcbiAgc25hcEhlaWdodDogbnVtYmVyLFxuICB2ZXJ0aWNhbDogYm9vbGVhbixcbik6IEJhbmRbXSB7XG4gIGlmICh2ZXJ0aWNhbCkge1xuICAgIGJveCA9IHJvdGF0ZUJveChib3gpO1xuICAgIGluY2x1ZGUgPSBpbmNsdWRlLm1hcCgoc2hhcGUpID0+IHJvdGF0ZVNoYXBlKHNoYXBlKSk7XG4gICAgZXhjbHVkZSA9IGV4Y2x1ZGUubWFwKChzaGFwZSkgPT4gcm90YXRlU2hhcGUoc2hhcGUpKTtcbiAgfVxuICBjb25zdCBpbmNsdWRlQ291bnQgPSBpbmNsdWRlLmxlbmd0aDtcbiAgY29uc3QgZXhjbHVkZUNvdW50ID0gZXhjbHVkZSA/IGV4Y2x1ZGUubGVuZ3RoIDogMDtcbiAgY29uc3QgcmVzdWx0OiBCYW5kW10gPSBbXTtcbiAgY29uc3Qgc2VnbWVudHM6IFNlZ21lbnRbXSA9IFtdO1xuICBsZXQgaTogbnVtYmVyO1xuICBsZXQgazogbnVtYmVyO1xuICBsZXQgc2VnbWVudDogU2VnbWVudDtcbiAgZm9yIChpID0gMDsgaSA8IGluY2x1ZGVDb3VudDsgaSsrKSB7XG4gICAgaW5jbHVkZVtpXS5hZGRTZWdtZW50cyhzZWdtZW50cywgaSk7XG4gIH1cbiAgZm9yIChpID0gMDsgaSA8IGV4Y2x1ZGVDb3VudDsgaSsrKSB7XG4gICAgZXhjbHVkZVtpXS5hZGRTZWdtZW50cyhzZWdtZW50cywgaSArIGluY2x1ZGVDb3VudCk7XG4gIH1cbiAgY29uc3Qgc2VnbWVudENvdW50ID0gc2VnbWVudHMubGVuZ3RoO1xuICBzZWdtZW50cy5zb3J0KHNlZ21lbnRDb21wYXJlKTtcbiAgbGV0IGxvd2VzdEluY2x1ZGVJbmRleCA9IDA7XG4gIHdoaWxlIChzZWdtZW50c1tsb3dlc3RJbmNsdWRlSW5kZXhdLnNoYXBlSWQgPj0gaW5jbHVkZUNvdW50KSB7XG4gICAgbG93ZXN0SW5jbHVkZUluZGV4Kys7XG4gIH1cbiAgbGV0IHkgPSBzZWdtZW50c1tsb3dlc3RJbmNsdWRlSW5kZXhdLmxvdy55O1xuICBpZiAoeSA+IGJveC55MSkge1xuICAgIHJlc3VsdC5wdXNoKG5ldyBCYW5kKGJveC55MSwgeSwgYm94LngyLCBib3gueDIpKTtcbiAgfVxuICBsZXQgc2VnbWVudEluZGV4ID0gMDtcbiAgY29uc3QgYWN0aXZlU2VnbWVudHM6IFNlZ21lbnRbXSA9IFtdO1xuICB3aGlsZSAoXG4gICAgc2VnbWVudEluZGV4IDwgc2VnbWVudENvdW50ICYmXG4gICAgKHNlZ21lbnQgPSBzZWdtZW50c1tzZWdtZW50SW5kZXhdKS5sb3cueSA8IHlcbiAgKSB7XG4gICAgaWYgKHNlZ21lbnQuaGlnaC55ID4geSkge1xuICAgICAgYWN0aXZlU2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICB9XG4gICAgc2VnbWVudEluZGV4Kys7XG4gIH1cblxuICAvLyBwcm9jZXNzIHRoZSBzZWdtZW50cyBmcm9tIGxvdyB0byBoaWdoIHkgdmFsdWVzXG4gIHdoaWxlIChzZWdtZW50SW5kZXggPCBzZWdtZW50Q291bnQgfHwgYWN0aXZlU2VnbWVudHMubGVuZ3RoID4gMCkge1xuICAgIC8vIGNhbGN1bGF0ZSB0aGUgaGVpZ2h0IG9mIHRoZSBiYW5kIHRvIHdvcmsgd2l0aFxuICAgIGxldCB5MiA9IGJveC55MjsgLy8gYmFuZCBib3R0b21cbiAgICAvLyBtaW4gcG9zc2libGUgeTJcbiAgICBjb25zdCB5Mm1pbiA9IE1hdGgubWluKFxuICAgICAgY2VpbChNYXRoLmNlaWwoeSArIGdyYW51bGFyaXR5KSwgc25hcEhlaWdodCksXG4gICAgICBib3gueTIsXG4gICAgKTtcbiAgICBmb3IgKGsgPSAwOyBrIDwgYWN0aXZlU2VnbWVudHMubGVuZ3RoICYmIHkyID4geTJtaW47IGsrKykge1xuICAgICAgc2VnbWVudCA9IGFjdGl2ZVNlZ21lbnRzW2tdO1xuICAgICAgaWYgKHNlZ21lbnQubG93LnggPT0gc2VnbWVudC5oaWdoLngpIHtcbiAgICAgICAgLy8gdmVydGljYWxcbiAgICAgICAgaWYgKHNlZ21lbnQuaGlnaC55IDwgeTIpIHtcbiAgICAgICAgICB5MiA9IE1hdGgubWF4KGZsb29yKHNlZ21lbnQuaGlnaC55LCBzbmFwSGVpZ2h0KSwgeTJtaW4pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNlZ21lbnQubG93LnggIT0gc2VnbWVudC5oaWdoLngpIHtcbiAgICAgICAgLy8gVE9ETzogc2hvdWxkIHdlIGNvbXBhcmUgeT8/P1xuICAgICAgICAvLyBzbGFudGVkIChub3QgaG9yaXpvbnRhbClcbiAgICAgICAgeTIgPSB5Mm1pbjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHkyID4gYm94LnkyKSB7XG4gICAgICB5MiA9IGJveC55MjtcbiAgICB9XG5cbiAgICAvLyBpbmNsdWRlIG5ldyBzZWdtZW50cywgZGVjcmVhc2luZyB5MiBpZiBuZWVkZWRcbiAgICB3aGlsZSAoXG4gICAgICBzZWdtZW50SW5kZXggPCBzZWdtZW50Q291bnQgJiZcbiAgICAgIChzZWdtZW50ID0gc2VnbWVudHNbc2VnbWVudEluZGV4XSkubG93LnkgPCB5MlxuICAgICkge1xuICAgICAgaWYgKHNlZ21lbnQuaGlnaC55IDwgeSkge1xuICAgICAgICBzZWdtZW50SW5kZXgrKztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoc2VnbWVudC5sb3cueSA8IHkybWluKSB7XG4gICAgICAgIGlmIChzZWdtZW50Lmxvdy55ID09IHNlZ21lbnQuaGlnaC55ICYmIHNlZ21lbnQubG93LnkgPT0geSkge1xuICAgICAgICAgIC8vIEhvcml6b250YWwgc2VnbWVudCB0aGF0IGdvZXMgcmlnaHQgYXQgeSBpcyBub3QgYWN0aXZlLFxuICAgICAgICAgIC8vIGJ1dCBjb25zdW1lIGl0IGFueXdheVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGl2ZVNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgICAgICAgeTIgPSB5Mm1pbjtcbiAgICAgICAgfVxuICAgICAgICBzZWdtZW50SW5kZXgrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIERvIG5vdCBjb25zdW1lIGl0LCBjb25zaWRlciBib3R0b20gZWRnZSBcIm91dHNpZGVcIlxuICAgICAgICBjb25zdCB5biA9IGZsb29yKHNlZ21lbnQubG93LnksIHNuYXBIZWlnaHQpO1xuICAgICAgICBpZiAoeW4gPCB5Mikge1xuICAgICAgICAgIHkyID0geW47XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbm93IGxvb2sgYXQgdGhlIGJhbmQgd2l0aCB0b3AgYXQgeSBhbmQgYm90dG9tIGF0IHkyXG4gICAgLy8gYWN0aXZlU2VnbWVudHMgc2hvdWxkIGxpc3QgYWxsIHNlZ21lbnRzIHRoYXQgaW50ZXJzZWN0IHRoYXQgYmFuZFxuXG4gICAgLy8gZmluZCBhbGwgaW50ZXJzZWN0aW9ucyB3aXRoIHRoZSBiYW5kXG4gICAgY29uc3QgYmFuZEludGVyc2VjdGlvbnM6IEJhbmRJbnRlcnNlY3Rpb25bXSA9IFtdO1xuICAgIGZvciAoayA9IDA7IGsgPCBhY3RpdmVTZWdtZW50cy5sZW5ndGg7IGsrKykge1xuICAgICAgYWRkQmFuZEludGVyc2VjdGlvbnMoYmFuZEludGVyc2VjdGlvbnMsIGFjdGl2ZVNlZ21lbnRzW2tdLCB5LCB5Mik7XG4gICAgfVxuICAgIGJhbmRJbnRlcnNlY3Rpb25zLnNvcnQoXG4gICAgICAoYmkxLCBiaTIpID0+IGJpMS54IC0gYmkyLnggfHwgYmkxLmxvd09ySGlnaCAtIGJpMi5sb3dPckhpZ2gsXG4gICAgKTtcbiAgICBjb25zdCB4cmFuZ2VzID0gbWVyZ2VJbnRlcnNlY3Rpb25zKFxuICAgICAgYmFuZEludGVyc2VjdGlvbnMsXG4gICAgICBpbmNsdWRlQ291bnQsXG4gICAgICBleGNsdWRlQ291bnQsXG4gICAgKTtcbiAgICBpZiAoeHJhbmdlcy5sZW5ndGggPT0gMCkge1xuICAgICAgcmVzdWx0LnB1c2gobmV3IEJhbmQoeSwgeTIsIGJveC54MiwgYm94LngyKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGdldCB0aGUgd2lkZXN0XG4gICAgICBsZXQgd2lkdGggPSAwO1xuICAgICAgbGV0IHggPSBib3gueDE7XG4gICAgICBmb3IgKGsgPSAwOyBrIDwgeHJhbmdlcy5sZW5ndGg7IGsgKz0gMikge1xuICAgICAgICBjb25zdCByeCA9IE1hdGgubWF4KGJveC54MSwgeHJhbmdlc1trXSk7XG4gICAgICAgIGNvbnN0IHJ3ID0gTWF0aC5taW4oYm94LngyLCB4cmFuZ2VzW2sgKyAxXSkgLSByeDtcbiAgICAgICAgaWYgKHJ3ID4gd2lkdGgpIHtcbiAgICAgICAgICB3aWR0aCA9IHJ3O1xuICAgICAgICAgIHggPSByeDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHdpZHRoID09IDApIHtcbiAgICAgICAgLy8gbm8gc3BhY2UgbGVmdFxuICAgICAgICByZXN1bHQucHVzaChuZXcgQmFuZCh5LCB5MiwgYm94LngyLCBib3gueDIpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKFxuICAgICAgICAgIG5ldyBCYW5kKHksIHkyLCBNYXRoLm1heCh4LCBib3gueDEpLCBNYXRoLm1pbih4ICsgd2lkdGgsIGJveC54MikpLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoeTIgPT0gYm94LnkyKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgeSA9IHkyO1xuICAgIGZvciAoayA9IGFjdGl2ZVNlZ21lbnRzLmxlbmd0aCAtIDE7IGsgPj0gMDsgay0tKSB7XG4gICAgICBpZiAoYWN0aXZlU2VnbWVudHNba10uaGlnaC55IDw9IHkyKSB7XG4gICAgICAgIGFjdGl2ZVNlZ21lbnRzLnNwbGljZShrLCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbm9ybWFsaXplKGJveCwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShib3g6IFJlY3QsIGJhbmRzOiBCYW5kW10pOiB2b2lkIHtcbiAgbGV0IGsgPSBiYW5kcy5sZW5ndGggLSAxO1xuXG4gIC8vIE1lcmdlIGJhbmRzIHdpdGggdGhlIHNhbWUgeDEsIHgyIGFuZCByZW1vdmUgdW5uZWVkZWQgYmFuZHMgYXQgdGhlIGVuZC5cbiAgLy8gQ3JlYXRlIGZpY3Rpb3VzIGxhc3QgYmFuZCB0byBtZXJnZSB1bm5lZWRlZCBiYW5kcyBhdCB0aGUgZW5kXG4gIGxldCBjdXJyQmFuZCA9IG5ldyBCYW5kKGJveC55MiwgYm94LnkyLCBib3gueDEsIGJveC54Mik7XG4gIHdoaWxlIChrID49IDApIHtcbiAgICBjb25zdCBwcmV2QmFuZCA9IGN1cnJCYW5kOyAvLyByZXN1bHRbaysxXVxuICAgIGN1cnJCYW5kID0gYmFuZHNba107XG4gICAgaWYgKFxuICAgICAgY3VyckJhbmQueTIgLSBjdXJyQmFuZC55MSA8IDEgfHwgLy8gUmVtb3ZlIGJhbmRzIHdpdGggaGVpZ2h0IGxlc3MgdGhhbiAxcHhcbiAgICAgIChjdXJyQmFuZC54MSA9PSBwcmV2QmFuZC54MSAmJiBjdXJyQmFuZC54MiA9PSBwcmV2QmFuZC54MilcbiAgICApIHtcbiAgICAgIHByZXZCYW5kLnkxID0gY3VyckJhbmQueTE7IC8vIG1lcmdlXG4gICAgICBiYW5kcy5zcGxpY2UoaywgMSk7XG4gICAgICBjdXJyQmFuZCA9IHByZXZCYW5kO1xuICAgIH1cbiAgICBrLS07XG4gIH1cbn1cblxuLyoqXG4gKiBGaW5kIHRoZSBpbmRleCBvZiB0aGUgYm90dG9tbW9zdCBiYW5kIHNvIHRoYXQgeSA8IGJhbmQueTJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRCYW5kKGJhbmRzOiBCYW5kW10sIHk6IG51bWJlcik6IG51bWJlciB7XG4gIGxldCBsb3cgPSAwO1xuICBsZXQgaGlnaCA9IGJhbmRzLmxlbmd0aDtcbiAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICBjb25zdCBtaWQgPSBNYXRoLmZsb29yKChsb3cgKyBoaWdoKSAvIDIpO1xuICAgIGlmICh5ID49IGJhbmRzW21pZF0ueTIpIHtcbiAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBsb3c7XG59XG5cbi8qKlxuICogRmluZCB0aGUgdXBwZXJtb3N0IHJlY3RhbmdsZSBjb250YWluZWQgaW4gdGhlIHNwZWNpZmllZCByZWN0IHdoaWNoIG9jY3VwaWVzXG4gKiBmdWxsIHdpZHRoIG9mIHRoZSByZWN0IHdpdGhvdXQgb3ZlcmxhcHBpbmcgd2l0aCBhbnkgYmFuZCBpbiB0aGUgc3BlY2lmaWVkXG4gKiBiYW5kcy5cbiAqIEByZXR1cm5zIFJldHVybnMgbnVsbCBpZiBzdWNoIHJlY3RhbmdsZSBkb2VzIG5vdCBleGlzdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRVcHBlcm1vc3RGdWxseU9wZW5SZWN0KFxuICBiYW5kczogQmFuZFtdLFxuICByZWN0OiBSZWN0LFxuKTogUmVjdCB8IG51bGwge1xuICBpZiAoIWJhbmRzLmxlbmd0aCkge1xuICAgIHJldHVybiByZWN0O1xuICB9XG4gIGxldCB0b3BFZGdlID0gcmVjdC55MTtcbiAgbGV0IGJhbmQ6IEJhbmQ7XG4gIGxldCBpOiBudW1iZXI7XG4gIGZvciAoaSA9IDA7IGkgPCBiYW5kcy5sZW5ndGg7IGkrKykge1xuICAgIGJhbmQgPSBiYW5kc1tpXTtcbiAgICBpZiAoXG4gICAgICBiYW5kLnkyID4gcmVjdC55MSAmJlxuICAgICAgYmFuZC54MSAtIDAuMSA8PSByZWN0LngxICYmXG4gICAgICBiYW5kLngyICsgMC4xID49IHJlY3QueDJcbiAgICApIHtcbiAgICAgIGJyZWFrO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b3BFZGdlID0gTWF0aC5tYXgodG9wRWRnZSwgYmFuZC55Mik7XG4gICAgfVxuICB9XG4gIGxldCBib3R0b21FZGdlID0gdG9wRWRnZTtcbiAgZm9yICg7IGkgPCBiYW5kcy5sZW5ndGg7IGkrKykge1xuICAgIGJhbmQgPSBiYW5kc1tpXTtcbiAgICBpZiAoXG4gICAgICBiYW5kLnkxID49IHJlY3QueTIgfHxcbiAgICAgIGJhbmQueDEgLSAwLjEgPiByZWN0LngxIHx8XG4gICAgICBiYW5kLngyICsgMC4xIDwgcmVjdC54MlxuICAgICkge1xuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvdHRvbUVkZ2UgPSBiYW5kLnkyO1xuICAgIH1cbiAgfVxuICBpZiAoaSA9PT0gYmFuZHMubGVuZ3RoKSB7XG4gICAgYm90dG9tRWRnZSA9IHJlY3QueTI7XG4gIH0gZWxzZSB7XG4gICAgYm90dG9tRWRnZSA9IE1hdGgubWluKGJvdHRvbUVkZ2UsIHJlY3QueTIpO1xuICB9XG4gIGlmIChib3R0b21FZGdlIDw9IHRvcEVkZ2UpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IFJlY3QocmVjdC54MSwgdG9wRWRnZSwgcmVjdC54MiwgYm90dG9tRWRnZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBGaW5kIHRoZSBib3R0b21tb3N0IHJlY3RhbmdsZSBjb250YWluZWQgaW4gdGhlIHNwZWNpZmllZCByZWN0IHdoaWNoIG9jY3VwaWVzXG4gKiBmdWxsIHdpZHRoIG9mIHRoZSByZWN0IHdpdGhvdXQgb3ZlcmxhcHBpbmcgd2l0aCBhbnkgYmFuZCBpbiB0aGUgc3BlY2lmaWVkXG4gKiBiYW5kcy5cbiAqIEByZXR1cm5zIFJldHVybnMgbnVsbCBpZiBzdWNoIHJlY3RhbmdsZSBkb2VzIG5vdCBleGlzdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRCb3R0b21tb3N0RnVsbHlPcGVuUmVjdChcbiAgYmFuZHM6IEJhbmRbXSxcbiAgcmVjdDogUmVjdCxcbik6IFJlY3QgfCBudWxsIHtcbiAgaWYgKCFiYW5kcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gcmVjdDtcbiAgfVxuICBsZXQgYm90dG9tRWRnZSA9IHJlY3QueTI7XG4gIGxldCBiYW5kOiBCYW5kO1xuICBsZXQgaTogbnVtYmVyO1xuICBmb3IgKGkgPSBiYW5kcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGJhbmQgPSBiYW5kc1tpXTtcbiAgICBpZiAoaSA9PT0gYmFuZHMubGVuZ3RoIC0gMSAmJiBiYW5kLnkyIDwgcmVjdC55Mikge1xuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGJhbmQueTEgPCByZWN0LnkyICYmXG4gICAgICBiYW5kLngxIC0gMC4xIDw9IHJlY3QueDEgJiZcbiAgICAgIGJhbmQueDIgKyAwLjEgPj0gcmVjdC54MlxuICAgICkge1xuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvdHRvbUVkZ2UgPSBNYXRoLm1pbihib3R0b21FZGdlLCBiYW5kLnkxKTtcbiAgICB9XG4gIH1cbiAgbGV0IHRvcEVkZ2UgPSBNYXRoLm1pbihib3R0b21FZGdlLCBiYW5kLnkyKTtcbiAgZm9yICg7IGkgPj0gMDsgaS0tKSB7XG4gICAgYmFuZCA9IGJhbmRzW2ldO1xuICAgIGlmIChcbiAgICAgIGJhbmQueTIgPD0gcmVjdC55MSB8fFxuICAgICAgYmFuZC54MSAtIDAuMSA+IHJlY3QueDEgfHxcbiAgICAgIGJhbmQueDIgKyAwLjEgPCByZWN0LngyXG4gICAgKSB7XG4gICAgICBicmVhaztcbiAgICB9IGVsc2Uge1xuICAgICAgdG9wRWRnZSA9IGJhbmQueTE7XG4gICAgfVxuICB9XG4gIHRvcEVkZ2UgPSBNYXRoLm1heCh0b3BFZGdlLCByZWN0LnkxKTtcbiAgaWYgKGJvdHRvbUVkZ2UgPD0gdG9wRWRnZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgUmVjdChyZWN0LngxLCB0b3BFZGdlLCByZWN0LngyLCBib3R0b21FZGdlKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSBzaWRlIGVpdGhlciBcImxlZnRcIiBvciBcInJpZ2h0XCJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvc2l0aW9uRmxvYXQoXG4gIGJveDogUmVjdCxcbiAgYmFuZHM6IEJhbmRbXSxcbiAgZmxvYXRCb3g6IFJlY3QsXG4gIHNpZGU6IHN0cmluZyxcbik6IGJvb2xlYW4ge1xuICBsZXQgeSA9IGZsb2F0Qm94LnkxO1xuICBjb25zdCBmbG9hdFdpZHRoID0gZmxvYXRCb3gueDIgLSBmbG9hdEJveC54MTtcbiAgY29uc3QgZmxvYXRIZWlnaHQgPSBmbG9hdEJveC55MiAtIGZsb2F0Qm94LnkxO1xuICBsZXQgaW5kZXggPSBmaW5kQmFuZChiYW5kcywgeSk7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgLy8gQ2hlY2sgaWYgaXQgZml0c1xuICAgIGNvbnN0IGZsb2F0Qm90dG9tID0geSArIGZsb2F0SGVpZ2h0O1xuICAgIGlmIChmbG9hdEJvdHRvbSA+IGJveC55Mikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIGRvZXMgbm90IGZpdCB2ZXJ0aWNhbGx5XG4gICAgbGV0IHgxID0gYm94LngxO1xuICAgIGxldCB4MiA9IGJveC54MjtcbiAgICBmb3IgKGxldCBpID0gaW5kZXg7IGkgPCBiYW5kcy5sZW5ndGggJiYgYmFuZHNbaV0ueTEgPCBmbG9hdEJvdHRvbTsgaSsrKSB7XG4gICAgICBjb25zdCBiYW5kID0gYmFuZHNbaV07XG4gICAgICBpZiAoYmFuZC54MSA+IHgxKSB7XG4gICAgICAgIHgxID0gYmFuZC54MTtcbiAgICAgIH1cbiAgICAgIGlmIChiYW5kLngyIDwgeDIpIHtcbiAgICAgICAgeDIgPSBiYW5kLngyO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoeDEgKyBmbG9hdFdpZHRoIDw9IHgyIHx8IGluZGV4ID49IGJhbmRzLmxlbmd0aCkge1xuICAgICAgaWYgKHNpZGUgPT0gXCJsZWZ0XCIpIHtcbiAgICAgICAgZmxvYXRCb3gueDEgPSB4MTtcbiAgICAgICAgZmxvYXRCb3gueDIgPSB4MSArIGZsb2F0V2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmbG9hdEJveC54MSA9IHgyIC0gZmxvYXRXaWR0aDtcbiAgICAgICAgZmxvYXRCb3gueDIgPSB4MjtcbiAgICAgIH1cbiAgICAgIGZsb2F0Qm94LnkyICs9IHkgLSBmbG9hdEJveC55MTtcbiAgICAgIGZsb2F0Qm94LnkxID0geTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB5ID0gYmFuZHNbaW5kZXhdLnkyO1xuICAgIGluZGV4Kys7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEZsb2F0VG9CYW5kcyhcbiAgYm94OiBSZWN0LFxuICBiYW5kczogQmFuZFtdLFxuICBmbG9hdEJveDogUmVjdCxcbiAgZmxvYXRCYW5kczogQmFuZFtdLFxuICBzaWRlOiBzdHJpbmcsXG4pOiB2b2lkIHtcbiAgaWYgKCFmbG9hdEJhbmRzKSB7XG4gICAgZmxvYXRCYW5kcyA9IFtuZXcgQmFuZChmbG9hdEJveC55MSwgZmxvYXRCb3gueTIsIGZsb2F0Qm94LngxLCBmbG9hdEJveC54MildO1xuICB9XG4gIHdoaWxlIChmbG9hdEJhbmRzLmxlbmd0aCA+IDAgJiYgZmxvYXRCYW5kc1swXS55MiA8PSBib3gueTEpIHtcbiAgICBmbG9hdEJhbmRzLnNoaWZ0KCk7XG4gIH1cbiAgaWYgKGZsb2F0QmFuZHMubGVuZ3RoID09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGZsb2F0QmFuZHNbMF0ueTEgPCBib3gueTEpIHtcbiAgICBmbG9hdEJhbmRzWzBdLnkxID0gYm94LnkxO1xuICB9XG4gIGxldCBiYW5kOiBCYW5kO1xuICBjb25zdCBsYXN0WSA9IGJhbmRzLmxlbmd0aCA9PSAwID8gYm94LnkxIDogYmFuZHNbYmFuZHMubGVuZ3RoIC0gMV0ueTI7XG4gIGlmIChsYXN0WSA8IGJveC55Mikge1xuICAgIC8vIGFkZCB0aGUgdGFpbCBiYW5kIHRoYXQgd2UgdHlwaWNhbGx5IGRvbid0IGtlZXAsIGl0IHdpbGwgYmUgY2xlYXJlZCBieVxuICAgIC8vIG5vcm1hbGl6ZSgpXG4gICAgYmFuZHMucHVzaChuZXcgQmFuZChsYXN0WSwgYm94LnkyLCBib3gueDEsIGJveC54MikpO1xuICB9XG4gIGxldCBpbmRleCA9IGZpbmRCYW5kKGJhbmRzLCBmbG9hdEJhbmRzWzBdLnkxKTtcbiAgZm9yIChjb25zdCBmbG9hdEJhbmQgb2YgZmxvYXRCYW5kcykge1xuICAgIGlmIChpbmRleCA9PSBiYW5kcy5sZW5ndGgpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoYmFuZHNbaW5kZXhdLnkxIDwgZmxvYXRCYW5kLnkxKSB7XG4gICAgICAvLyBzcGxpdCBpdFxuICAgICAgYmFuZCA9IGJhbmRzW2luZGV4XTtcbiAgICAgIGluZGV4Kys7XG4gICAgICBiYW5kcy5zcGxpY2UoaW5kZXgsIDAsIG5ldyBCYW5kKGZsb2F0QmFuZC55MSwgYmFuZC55MiwgYmFuZC54MSwgYmFuZC54MikpO1xuICAgICAgYmFuZC55MiA9IGZsb2F0QmFuZC55MTtcbiAgICB9XG4gICAgd2hpbGUgKGluZGV4IDwgYmFuZHMubGVuZ3RoKSB7XG4gICAgICBiYW5kID0gYmFuZHNbaW5kZXgrK107XG4gICAgICBpZiAoYmFuZC55MiA+IGZsb2F0QmFuZC55Mikge1xuICAgICAgICAvLyBzcGxpdCBpdFxuICAgICAgICBiYW5kcy5zcGxpY2UoXG4gICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgMCxcbiAgICAgICAgICBuZXcgQmFuZChmbG9hdEJhbmQueTIsIGJhbmQueTIsIGJhbmQueDEsIGJhbmQueDIpLFxuICAgICAgICApO1xuICAgICAgICBiYW5kLnkyID0gZmxvYXRCYW5kLnkyO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0QmFuZC54MSAhPSBmbG9hdEJhbmQueDIpIHtcbiAgICAgICAgLy8gbm9uLWVtcHR5IGZsb2F0QmFuZFxuICAgICAgICBpZiAoc2lkZSA9PSBcImxlZnRcIikge1xuICAgICAgICAgIGJhbmQueDEgPSBNYXRoLm1pbihmbG9hdEJhbmQueDIsIGJveC54Mik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmFuZC54MiA9IE1hdGgubWF4KGZsb2F0QmFuZC54MSwgYm94LngxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGJhbmQueTIgPT0gZmxvYXRCYW5kLnkyKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBub3JtYWxpemUoYm94LCBiYW5kcyk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENzc1Byb3AgLSBTdXBwb3J0IHV0aWxpdGllcyB0byBleHRyYWN0IGluZm9ybWF0aW9uXG4gKiBmcm9tIHZhcmlvdXMgKHBhcnNlZCkgQ1NTIHZhbHVlcy5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgR2VvbWV0cnlVdGlsIGZyb20gXCIuL2dlb21ldHJ5LXV0aWxcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gdmFsdWUgcGFyc2VycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY2xhc3MgU2V0VmlzaXRvciBleHRlbmRzIENzcy5WaXNpdG9yIHtcbiAgcHJvcFNldDogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRJZGVudChpZGVudDogQ3NzLklkZW50KTogQ3NzLlZhbCB7XG4gICAgdGhpcy5wcm9wU2V0W2lkZW50Lm5hbWVdID0gdHJ1ZTtcbiAgICByZXR1cm4gaWRlbnQ7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBDc3MuU3BhY2VMaXN0KTogQ3NzLlZhbCB7XG4gICAgdGhpcy52aXNpdFZhbHVlcyhsaXN0LnZhbHVlcyk7XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvU2V0KHZhbDogQ3NzLlZhbCk6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9IHtcbiAgaWYgKHZhbCkge1xuICAgIGNvbnN0IHZpc2l0b3IgPSBuZXcgU2V0VmlzaXRvcigpO1xuICAgIHRyeSB7XG4gICAgICB2YWwudmlzaXQodmlzaXRvcik7XG4gICAgICByZXR1cm4gdmlzaXRvci5wcm9wU2V0O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIsIFwidG9TZXQ6XCIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge307XG59XG5cbmV4cG9ydCBjbGFzcyBJbnRWaXNpdG9yIGV4dGVuZHMgQ3NzLlZpc2l0b3Ige1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgdmFsdWU6IG51bWJlcikge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEludChudW06IENzcy5JbnQpOiBDc3MuVmFsIHtcbiAgICB0aGlzLnZhbHVlID0gbnVtLm51bTtcbiAgICByZXR1cm4gbnVtO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0ludCh2YWw6IENzcy5WYWwsIGRlZjogbnVtYmVyKTogbnVtYmVyIHtcbiAgaWYgKHZhbCkge1xuICAgIGNvbnN0IHZpc2l0b3IgPSBuZXcgSW50VmlzaXRvcihkZWYpO1xuICAgIHRyeSB7XG4gICAgICB2YWwudmlzaXQodmlzaXRvcik7XG4gICAgICByZXR1cm4gdmlzaXRvci52YWx1ZTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oZXJyLCBcInRvSW50OiBcIik7XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWY7XG59XG5cbmV4cG9ydCBjbGFzcyBTaGFwZVZpc2l0b3IgZXh0ZW5kcyBDc3MuVmlzaXRvciB7XG4gIGNvbGxlY3Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY29vcmRzOiBDc3MuTnVtZXJpY1tdID0gW107XG4gIG5hbWU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdE51bWVyaWMobnVtZXJpYzogQ3NzLk51bWVyaWMpOiBDc3MuVmFsIHtcbiAgICBpZiAodGhpcy5jb2xsZWN0KSB7XG4gICAgICB0aGlzLmNvb3Jkcy5wdXNoKG51bWVyaWMpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0TnVtKG51bTogQ3NzLk51bSk6IENzcy5WYWwge1xuICAgIGlmICh0aGlzLmNvbGxlY3QgJiYgbnVtLm51bSA9PSAwKSB7XG4gICAgICB0aGlzLmNvb3Jkcy5wdXNoKG5ldyBDc3MuTnVtZXJpYygwLCBcInB4XCIpKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBDc3MuU3BhY2VMaXN0KTogQ3NzLlZhbCB7XG4gICAgdGhpcy52aXNpdFZhbHVlcyhsaXN0LnZhbHVlcyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEZ1bmMoZnVuYzogQ3NzLkZ1bmMpOiBDc3MuVmFsIHtcbiAgICBpZiAoIXRoaXMuY29sbGVjdCkge1xuICAgICAgdGhpcy5jb2xsZWN0ID0gdHJ1ZTtcbiAgICAgIHRoaXMudmlzaXRWYWx1ZXMoZnVuYy52YWx1ZXMpO1xuICAgICAgdGhpcy5jb2xsZWN0ID0gZmFsc2U7XG4gICAgICB0aGlzLm5hbWUgPSBmdW5jLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXRTaGFwZShcbiAgICB4OiBudW1iZXIsXG4gICAgeTogbnVtYmVyLFxuICAgIHdpZHRoOiBudW1iZXIsXG4gICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgKTogR2VvbWV0cnlVdGlsLlNoYXBlIHtcbiAgICBpZiAodGhpcy5jb29yZHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgbnVtYmVyczogbnVtYmVyW10gPSBbXTtcbiAgICAgIHRoaXMuY29vcmRzLmZvckVhY2goKGNvb3JkLCBpKSA9PiB7XG4gICAgICAgIGlmIChjb29yZC51bml0ID09IFwiJVwiKSB7XG4gICAgICAgICAgbGV0IHJlZiA9IGkgJSAyID09IDAgPyB3aWR0aCA6IGhlaWdodDtcbiAgICAgICAgICBpZiAoaSA9PSAzICYmIHRoaXMubmFtZSA9PSBcImNpcmNsZVwiKSB7XG4gICAgICAgICAgICByZWYgPSBNYXRoLnNxcnQoKHdpZHRoICogd2lkdGggKyBoZWlnaHQgKiBoZWlnaHQpIC8gMik7XG4gICAgICAgICAgfVxuICAgICAgICAgIG51bWJlcnMucHVzaCgoY29vcmQubnVtICogcmVmKSAvIDEwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbnVtYmVycy5wdXNoKGNvb3JkLm51bSAqIGNvbnRleHQucXVlcnlVbml0U2l6ZShjb29yZC51bml0LCBmYWxzZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHN3aXRjaCAodGhpcy5uYW1lKSB7XG4gICAgICAgIGNhc2UgXCJwb2x5Z29uXCI6XG4gICAgICAgICAgaWYgKG51bWJlcnMubGVuZ3RoICUgMiA9PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludHM6IEdlb21ldHJ5VXRpbC5Qb2ludFtdID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG51bWJlcnMubGVuZ3RoOyBrICs9IDIpIHtcbiAgICAgICAgICAgICAgcG9pbnRzLnB1c2goXG4gICAgICAgICAgICAgICAgbmV3IEdlb21ldHJ5VXRpbC5Qb2ludCh4ICsgbnVtYmVyc1trXSwgeSArIG51bWJlcnNbayArIDFdKSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgR2VvbWV0cnlVdGlsLlNoYXBlKHBvaW50cyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicmVjdGFuZ2xlXCI6XG4gICAgICAgICAgaWYgKG51bWJlcnMubGVuZ3RoID09IDQpIHtcbiAgICAgICAgICAgIHJldHVybiBHZW9tZXRyeVV0aWwuc2hhcGVGb3JSZWN0KFxuICAgICAgICAgICAgICB4ICsgbnVtYmVyc1swXSxcbiAgICAgICAgICAgICAgeSArIG51bWJlcnNbMV0sXG4gICAgICAgICAgICAgIHggKyBudW1iZXJzWzBdICsgbnVtYmVyc1syXSxcbiAgICAgICAgICAgICAgeSArIG51bWJlcnNbMV0gKyBudW1iZXJzWzNdLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlbGxpcHNlXCI6XG4gICAgICAgICAgaWYgKG51bWJlcnMubGVuZ3RoID09IDQpIHtcbiAgICAgICAgICAgIHJldHVybiBHZW9tZXRyeVV0aWwuc2hhcGVGb3JFbGxpcHNlKFxuICAgICAgICAgICAgICB4ICsgbnVtYmVyc1swXSxcbiAgICAgICAgICAgICAgeSArIG51bWJlcnNbMV0sXG4gICAgICAgICAgICAgIG51bWJlcnNbMl0sXG4gICAgICAgICAgICAgIG51bWJlcnNbM10sXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNpcmNsZVwiOlxuICAgICAgICAgIGlmIChudW1iZXJzLmxlbmd0aCA9PSAzKSB7XG4gICAgICAgICAgICByZXR1cm4gR2VvbWV0cnlVdGlsLnNoYXBlRm9yRWxsaXBzZShcbiAgICAgICAgICAgICAgeCArIG51bWJlcnNbMF0sXG4gICAgICAgICAgICAgIHkgKyBudW1iZXJzWzFdLFxuICAgICAgICAgICAgICBudW1iZXJzWzJdLFxuICAgICAgICAgICAgICBudW1iZXJzWzJdLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1NoYXBlKFxuICB2YWw6IENzcy5WYWwsXG4gIHg6IG51bWJlcixcbiAgeTogbnVtYmVyLFxuICB3aWR0aDogbnVtYmVyLFxuICBoZWlnaHQ6IG51bWJlcixcbiAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbik6IEdlb21ldHJ5VXRpbC5TaGFwZSB7XG4gIGlmICh2YWwpIHtcbiAgICBjb25zdCB2aXNpdG9yID0gbmV3IFNoYXBlVmlzaXRvcigpO1xuICAgIHRyeSB7XG4gICAgICB2YWwudmlzaXQodmlzaXRvcik7XG4gICAgICByZXR1cm4gdmlzaXRvci5nZXRTaGFwZSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBjb250ZXh0KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oZXJyLCBcInRvU2hhcGU6XCIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gR2VvbWV0cnlVdGlsLnNoYXBlRm9yUmVjdCh4LCB5LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQpO1xufVxuXG5leHBvcnQgY2xhc3MgQ291bnRlcnNWaXNpdG9yIGV4dGVuZHMgQ3NzLlZpc2l0b3Ige1xuICBjb3VudGVyczogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xuICBuYW1lOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgcmVzZXQ6IGJvb2xlYW4pIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdElkZW50KGlkZW50OiBDc3MuSWRlbnQpOiBDc3MuVmFsIHtcbiAgICB0aGlzLm5hbWUgPSBpZGVudC50b1N0cmluZygpO1xuICAgIGlmICh0aGlzLnJlc2V0KSB7XG4gICAgICB0aGlzLmNvdW50ZXJzW3RoaXMubmFtZV0gPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvdW50ZXJzW3RoaXMubmFtZV0gPSAodGhpcy5jb3VudGVyc1t0aGlzLm5hbWVdIHx8IDApICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIGlkZW50O1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdEludChudW06IENzcy5JbnQpOiBDc3MuVmFsIHtcbiAgICBpZiAodGhpcy5uYW1lKSB7XG4gICAgICB0aGlzLmNvdW50ZXJzW3RoaXMubmFtZV0gKz0gbnVtLm51bSAtICh0aGlzLnJlc2V0ID8gMCA6IDEpO1xuICAgIH1cbiAgICByZXR1cm4gbnVtO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBDc3MuU3BhY2VMaXN0KTogQ3NzLlZhbCB7XG4gICAgdGhpcy52aXNpdFZhbHVlcyhsaXN0LnZhbHVlcyk7XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvQ291bnRlcnMoXG4gIHZhbDogQ3NzLlZhbCxcbiAgcmVzZXQ6IGJvb2xlYW4sXG4pOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9IHtcbiAgY29uc3QgdmlzaXRvciA9IG5ldyBDb3VudGVyc1Zpc2l0b3IocmVzZXQpO1xuICB0cnkge1xuICAgIHZhbC52aXNpdCh2aXNpdG9yKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIsIFwidG9Db3VudGVyczpcIik7XG4gIH1cbiAgcmV0dXJuIHZpc2l0b3IuY291bnRlcnM7XG59XG5cbmV4cG9ydCBjbGFzcyBVcmxUcmFuc2Zvcm1WaXNpdG9yIGV4dGVuZHMgQ3NzLkZpbHRlclZpc2l0b3Ige1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgYmFzZVVybDogc3RyaW5nLFxuICAgIHB1YmxpYyB0cmFuc2Zvcm1lcjogQmFzZS5Eb2N1bWVudFVSTFRyYW5zZm9ybWVyLFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdFVSTCh1cmw6IENzcy5VUkwpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gbmV3IENzcy5VUkwodGhpcy50cmFuc2Zvcm1lci50cmFuc2Zvcm1VUkwodXJsLnVybCwgdGhpcy5iYXNlVXJsKSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENvdW50ZXJzXG4gKi9cbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3NDYXNjYWRlIGZyb20gXCIuL2Nzcy1jYXNjYWRlXCI7XG5pbXBvcnQgKiBhcyBDc3NQcm9wIGZyb20gXCIuL2Nzcy1wcm9wXCI7XG5pbXBvcnQgKiBhcyBDc3NTdHlsZXIgZnJvbSBcIi4vY3NzLXN0eWxlclwiO1xuaW1wb3J0ICogYXMgRXhwcnMgZnJvbSBcIi4vZXhwcnNcIjtcbmltcG9ydCAqIGFzIFZnZW4gZnJvbSBcIi4vdmdlblwiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCB7IExheW91dCB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbi8qKlxuICogQ2xvbmUgY291bnRlciB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIGNsb25lQ291bnRlclZhbHVlcyhcbiAgY291bnRlcnM6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlcyxcbik6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlcyB7XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBPYmplY3Qua2V5cyhjb3VudGVycykuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgIHJlc3VsdFtuYW1lXSA9IEFycmF5LmZyb20oY291bnRlcnNbbmFtZV0pO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYSByZWZlcmVuY2UgYnkgdGFyZ2V0LWNvdW50ZXIocykuXG4gKiBAcGFyYW0gdGFyZ2V0SWQgSUQgb2YgdGhlIHJlZmVyZW5jZWQgZWxlbWVudCAodHJhbnNmb3JtZWQgYnlcbiAqICAgICBEb2N1bWVudFVSTFRyYW5zZm9ybWVyIHRvIGhhbmRsZSBhIHJlZmVyZW5jZSBhY3Jvc3MgbXVsdGlwbGUgc291cmNlXG4gKiAgICAgZG9jdW1lbnRzKVxuICogQHBhcmFtIHJlc29sdmVkIElmIHRoZSByZWZlcmVuY2UgaXMgYWxyZWFkeSByZXNvbHZlZCBvciBub3RcbiAqL1xuZXhwb3J0IGNsYXNzIFRhcmdldENvdW50ZXJSZWZlcmVuY2Uge1xuICBwYWdlQ291bnRlcnM6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlcyA9IG51bGw7XG4gIHNwaW5lSW5kZXg6IG51bWJlciA9IC0xO1xuICBwYWdlSW5kZXg6IG51bWJlciA9IC0xO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSB0YXJnZXRJZDogc3RyaW5nLCBwdWJsaWMgcmVzb2x2ZWQ6IGJvb2xlYW4pIHt9XG5cbiAgZXF1YWxzKG90aGVyOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMgPT09IG90aGVyKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFvdGhlcikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy50YXJnZXRJZCA9PT0gb3RoZXIudGFyZ2V0SWQgJiZcbiAgICAgIHRoaXMucmVzb2x2ZWQgPT09IG90aGVyLnJlc29sdmVkICYmXG4gICAgICB0aGlzLnNwaW5lSW5kZXggPT09IG90aGVyLnNwaW5lSW5kZXggJiZcbiAgICAgIHRoaXMucGFnZUluZGV4ID09PSBvdGhlci5wYWdlSW5kZXhcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgaWYgdGhlIHJlZmVyZW5jZSBpcyByZXNvbHZlZCBvciBub3QuXG4gICAqL1xuICBpc1Jlc29sdmVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnJlc29sdmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcmtzIHRoYXQgdGhpcyByZWZlcmVuY2UgaXMgcmVzb2x2ZWQuXG4gICAqL1xuICByZXNvbHZlKCkge1xuICAgIHRoaXMucmVzb2x2ZWQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcmtzIHRoYXQgdGhpcyByZWZlcmVuY2UgaXMgdW5yZXNvbHZlZC5cbiAgICovXG4gIHVucmVzb2x2ZSgpIHtcbiAgICB0aGlzLnJlc29sdmVkID0gZmFsc2U7XG4gIH1cbn1cblxuY2xhc3MgQ291bnRlckxpc3RlbmVyIGltcGxlbWVudHMgQ3NzQ2FzY2FkZS5Db3VudGVyTGlzdGVuZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgY291bnRlclN0b3JlOiBDb3VudGVyU3RvcmUsXG4gICAgcHVibGljIHJlYWRvbmx5IGJhc2VVUkw6IHN0cmluZyxcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNvdW50ZXJzT2ZJZChpZDogc3RyaW5nLCBjb3VudGVyczogQ3NzQ2FzY2FkZS5Db3VudGVyVmFsdWVzKSB7XG4gICAgaWQgPSB0aGlzLmNvdW50ZXJTdG9yZS5kb2N1bWVudFVSTFRyYW5zZm9ybWVyLnRyYW5zZm9ybUZyYWdtZW50KFxuICAgICAgaWQsXG4gICAgICB0aGlzLmJhc2VVUkwsXG4gICAgKTtcbiAgICB0aGlzLmNvdW50ZXJTdG9yZS5jb3VudGVyc0J5SWRbaWRdID0gY291bnRlcnM7XG4gIH1cblxuICBnZXRFeHByQ29udGVudExpc3RlbmVyKCk6IFZ0cmVlLkV4cHJDb250ZW50TGlzdGVuZXIge1xuICAgIHJldHVybiB0aGlzLmNvdW50ZXJTdG9yZS5nZXRFeHByQ29udGVudExpc3RlbmVyKCk7XG4gIH1cbn1cblxuY2xhc3MgQ291bnRlclJlc29sdmVyIGltcGxlbWVudHMgQ3NzQ2FzY2FkZS5Db3VudGVyUmVzb2x2ZXIge1xuICBzdHlsZXI6IENzc1N0eWxlci5TdHlsZXIgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgY291bnRlclN0b3JlOiBDb3VudGVyU3RvcmUsXG4gICAgcHVibGljIHJlYWRvbmx5IGJhc2VVUkw6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcm9vdFNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcHVibGljIHJlYWRvbmx5IHBhZ2VTY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICApIHt9XG5cbiAgc2V0U3R5bGVyKHN0eWxlcjogQ3NzU3R5bGVyLlN0eWxlcikge1xuICAgIHRoaXMuc3R5bGVyID0gc3R5bGVyO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRGcmFnbWVudCh1cmw6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICAgIGNvbnN0IHIgPSB1cmwubWF0Y2goL15bXiNdKiMoLiopJC8pO1xuICAgIHJldHVybiByID8gclsxXSA6IG51bGw7XG4gIH1cblxuICBwcml2YXRlIGdldFRyYW5zZm9ybWVkSWQodXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGxldCB0cmFuc2Zvcm1lZElkID0gdGhpcy5jb3VudGVyU3RvcmUuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lci50cmFuc2Zvcm1VUkwoXG4gICAgICBCYXNlLnJlc29sdmVVUkwodXJsLCB0aGlzLmJhc2VVUkwpLFxuICAgICAgdGhpcy5iYXNlVVJMLFxuICAgICk7XG4gICAgaWYgKHRyYW5zZm9ybWVkSWQuY2hhckF0KDApID09PSBcIiNcIikge1xuICAgICAgdHJhbnNmb3JtZWRJZCA9IHRyYW5zZm9ybWVkSWQuc3Vic3RyaW5nKDEpO1xuICAgIH1cbiAgICByZXR1cm4gdHJhbnNmb3JtZWRJZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFBhZ2VDb3VudGVyVmFsKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBmb3JtYXQ6IChwMTogbnVtYmVyIHwgbnVsbCkgPT4gc3RyaW5nLFxuICApOiBFeHBycy5WYWwge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gZ2V0Q291bnRlck51bWJlcigpIHtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IHNlbGYuY291bnRlclN0b3JlLmN1cnJlbnRQYWdlQ291bnRlcnNbbmFtZV07XG4gICAgICByZXR1cm4gdmFsdWVzICYmIHZhbHVlcy5sZW5ndGggPyB2YWx1ZXNbdmFsdWVzLmxlbmd0aCAtIDFdIDogbnVsbDtcbiAgICB9XG4gICAgY29uc3QgZXhwciA9IG5ldyBFeHBycy5OYXRpdmUoXG4gICAgICB0aGlzLnBhZ2VTY29wZSxcbiAgICAgICgpID0+IGZvcm1hdChnZXRDb3VudGVyTnVtYmVyKCkpLFxuICAgICAgYHBhZ2UtY291bnRlci0ke25hbWV9YCxcbiAgICApO1xuXG4gICAgZnVuY3Rpb24gYXJyYXlGb3JtYXQoYXJyKSB7XG4gICAgICByZXR1cm4gZm9ybWF0KGFyclswXSk7XG4gICAgfVxuICAgIHRoaXMuY291bnRlclN0b3JlLnJlZ2lzdGVyUGFnZUNvdW50ZXJFeHByKG5hbWUsIGFycmF5Rm9ybWF0LCBleHByKTtcbiAgICByZXR1cm4gZXhwcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFBhZ2VDb3VudGVyc1ZhbChcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgZm9ybWF0OiAocDE6IG51bWJlcltdKSA9PiBzdHJpbmcsXG4gICk6IEV4cHJzLlZhbCB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICBmdW5jdGlvbiBnZXRDb3VudGVyTnVtYmVycygpIHtcbiAgICAgIHJldHVybiBzZWxmLmNvdW50ZXJTdG9yZS5jdXJyZW50UGFnZUNvdW50ZXJzW25hbWVdIHx8IFtdO1xuICAgIH1cbiAgICBjb25zdCBleHByID0gbmV3IEV4cHJzLk5hdGl2ZShcbiAgICAgIHRoaXMucGFnZVNjb3BlLFxuICAgICAgKCkgPT4gZm9ybWF0KGdldENvdW50ZXJOdW1iZXJzKCkpLFxuICAgICAgYHBhZ2UtY291bnRlcnMtJHtuYW1lfWAsXG4gICAgKTtcbiAgICB0aGlzLmNvdW50ZXJTdG9yZS5yZWdpc3RlclBhZ2VDb3VudGVyRXhwcihuYW1lLCBmb3JtYXQsIGV4cHIpO1xuICAgIHJldHVybiBleHByO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgKG5vbiBwYWdlLWJhc2VkKSBjb3VudGVyIHZhbHVlcyBmb3IgYW4gZWxlbWVudCB3aXRoIHRoZSBzcGVjaWZpZWRcbiAgICogSUQuIFJldHVybnMgbnVsbCBpZiB0aGUgc3R5bGUgb2YgdGhlIGVsZW1lbnRzIGhhcyBub3QgYmVlbiBjYWxjdWxhdGVkIHlldFxuICAgKiAoaS5lLiB0aGUgZWxlbWVudCBkb2VzIG5vdCBleGl0IG9yIGl0IGlzIGluIGEgc291cmNlIGRvY3VtZW50IHdoaWNoIGlzIG5vdFxuICAgKiBsb2FkZWQgeWV0KS5cbiAgICogQHBhcmFtIGlkIE9yaWdpbmFsIElEIHZhbHVlXG4gICAqIEBwYXJhbSB0cmFuc2Zvcm1lZElkIElEIHRyYW5zZm9ybWVkIGJ5IERvY3VtZW50VVJMVHJhbnNmb3JtZXIgdG8gaGFuZGxlIGFcbiAgICogICAgIHJlZmVyZW5jZSBhY3Jvc3MgbXVsdGlwbGUgc291cmNlIGRvY3VtZW50c1xuICAgKiBAcGFyYW0gbG9va0ZvckVsZW1lbnQgSWYgdHJ1ZSwgbG9vayBhaGVhZCBmb3IgYW4gZWxlbWVudCB3aXRoIHRoZSBJRCBpbiB0aGVcbiAgICogICAgIGN1cnJlbnQgc291cmNlIGRvY3VtZW50IHdoZW4gc3VjaCBhbiBlbGVtZW50IGhhcyBub3QgYXBwZWFyZWQgeWV0LiBEb1xuICAgKiAgICAgbm90IHNldCB0byB0cnVlIGR1cmluZyBTdHlsZXIuc3R5bGVVbnRpbCBpcyBiZWluZyBjYWxsZWQsIHNpbmNlIGluIHRoYXRcbiAgICogICAgIGNhc2UgU3R5bGVyLnN0eWxlVW50aWwgY2FuIGJlIGNhbGxlZCBhZ2FpbiBhbmQgbWF5IGxlYWQgdG8gaW50ZXJuYWxcbiAgICogICAgIGluY29uc2lzdGVuY3kuXG4gICAqL1xuICBwcml2YXRlIGdldFRhcmdldENvdW50ZXJzKFxuICAgIGlkOiBzdHJpbmcgfCBudWxsLFxuICAgIHRyYW5zZm9ybWVkSWQ6IHN0cmluZyxcbiAgICBsb29rRm9yRWxlbWVudDogYm9vbGVhbixcbiAgKTogQ3NzQ2FzY2FkZS5Db3VudGVyVmFsdWVzIHwgbnVsbCB7XG4gICAgbGV0IHRhcmdldENvdW50ZXJzID0gdGhpcy5jb3VudGVyU3RvcmUuY291bnRlcnNCeUlkW3RyYW5zZm9ybWVkSWRdO1xuICAgIGlmICghdGFyZ2V0Q291bnRlcnMgJiYgbG9va0ZvckVsZW1lbnQgJiYgaWQpIHtcbiAgICAgIHRoaXMuc3R5bGVyLnN0eWxlVW50aWxJZElzUmVhY2hlZChpZCk7XG4gICAgICB0YXJnZXRDb3VudGVycyA9IHRoaXMuY291bnRlclN0b3JlLmNvdW50ZXJzQnlJZFt0cmFuc2Zvcm1lZElkXTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldENvdW50ZXJzIHx8IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBwYWdlLWJhc2VkIGNvdW50ZXIgdmFsdWVzIGZvciBhbiBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCBJRC5cbiAgICogUmV0dXJucyBudWxsIGlmIHRoZSBlbGVtZW50IGhhcyBub3QgYmVlbiBsYWlkIG91dCB5ZXQuXG4gICAqIEBwYXJhbSB0cmFuc2Zvcm1lZElkIElEIHRyYW5zZm9ybWVkIGJ5IERvY3VtZW50VVJMVHJhbnNmb3JtZXIgdG8gaGFuZGxlIGFcbiAgICogICAgIHJlZmVyZW5jZSBhY3Jvc3MgbXVsdGlwbGUgc291cmNlIGRvY3VtZW50c1xuICAgKi9cbiAgcHJpdmF0ZSBnZXRUYXJnZXRQYWdlQ291bnRlcnMoXG4gICAgdHJhbnNmb3JtZWRJZDogc3RyaW5nLFxuICApOiBDc3NDYXNjYWRlLkNvdW50ZXJWYWx1ZXMgfCBudWxsIHtcbiAgICBpZiAodGhpcy5jb3VudGVyU3RvcmUuY3VycmVudFBhZ2UuZWxlbWVudHNCeUlkW3RyYW5zZm9ybWVkSWRdKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb3VudGVyU3RvcmUuY3VycmVudFBhZ2VDb3VudGVycztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuY291bnRlclN0b3JlLnBhZ2VDb3VudGVyc0J5SWRbdHJhbnNmb3JtZWRJZF0gfHwgbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRUYXJnZXRDb3VudGVyVmFsKFxuICAgIHVybDogc3RyaW5nLFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBmb3JtYXQ6IChwMTogbnVtYmVyIHwgbnVsbCkgPT4gc3RyaW5nLFxuICApOiBFeHBycy5WYWwge1xuICAgIGNvbnN0IGlkID0gdGhpcy5nZXRGcmFnbWVudCh1cmwpO1xuICAgIGNvbnN0IHRyYW5zZm9ybWVkSWQgPSB0aGlzLmdldFRyYW5zZm9ybWVkSWQodXJsKTtcblxuICAgIC8vIFNpbmNlIHRoaXMgbWV0aG9kIGlzIGV4ZWN1dGVkIGR1cmluZyBTdHlsZXIuc3R5bGVVbnRpbCBpcyBiZWluZyBjYWxsZWQsXG4gICAgLy8gc2V0IGZhbHNlIHRvIGxvb2tGb3JFbGVtZW50IGFyZ3VtZW50LlxuICAgIGxldCBjb3VudGVycyA9IHRoaXMuZ2V0VGFyZ2V0Q291bnRlcnMoaWQsIHRyYW5zZm9ybWVkSWQsIGZhbHNlKTtcbiAgICBpZiAoY291bnRlcnMgJiYgY291bnRlcnNbbmFtZV0pIHtcbiAgICAgIC8vIFNpbmNlIGFuIGVsZW1lbnQtYmFzZWQgY291bnRlciBpcyBkZWZpbmVkLCBhbnkgcGFnZS1iYXNlZCBjb3VudGVyIGlzXG4gICAgICAvLyBvYnNjdXJlZCBldmVuIGlmIGl0IGV4aXN0cy5cbiAgICAgIGNvbnN0IGNvdW50ZXJzT2ZOYW1lID0gY291bnRlcnNbbmFtZV07XG4gICAgICByZXR1cm4gbmV3IEV4cHJzLkNvbnN0KFxuICAgICAgICB0aGlzLnJvb3RTY29wZSxcbiAgICAgICAgZm9ybWF0KGNvdW50ZXJzT2ZOYW1lW2NvdW50ZXJzT2ZOYW1lLmxlbmd0aCAtIDFdIHx8IG51bGwpLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBFeHBycy5OYXRpdmUoXG4gICAgICB0aGlzLnBhZ2VTY29wZSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgLy8gU2luY2UgVGhpcyBibG9jayBpcyBldmFsdWF0ZWQgZHVyaW5nIGxheW91dCwgbG9va0ZvckVsZW1lbnRcbiAgICAgICAgLy8gYXJndW1lbnQgY2FuIGJlIHNldCB0byB0cnVlLlxuICAgICAgICBjb3VudGVycyA9IHNlbGYuZ2V0VGFyZ2V0Q291bnRlcnMoaWQsIHRyYW5zZm9ybWVkSWQsIHRydWUpO1xuXG4gICAgICAgIGlmIChjb3VudGVycykge1xuICAgICAgICAgIGlmIChjb3VudGVyc1tuYW1lXSkge1xuICAgICAgICAgICAgLy8gU2luY2UgYW4gZWxlbWVudC1iYXNlZCBjb3VudGVyIGlzIGRlZmluZWQsIGFueSBwYWdlLWJhc2VkXG4gICAgICAgICAgICAvLyBjb3VudGVyIGlzIG9ic2N1cmVkIGV2ZW4gaWYgaXQgZXhpc3RzLlxuICAgICAgICAgICAgY29uc3QgY291bnRlcnNPZk5hbWUgPSBjb3VudGVyc1tuYW1lXTtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXQoY291bnRlcnNPZk5hbWVbY291bnRlcnNPZk5hbWUubGVuZ3RoIC0gMV0gfHwgbnVsbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VDb3VudGVycyA9IHNlbGYuZ2V0VGFyZ2V0UGFnZUNvdW50ZXJzKHRyYW5zZm9ybWVkSWQpO1xuICAgICAgICAgICAgaWYgKHBhZ2VDb3VudGVycykge1xuICAgICAgICAgICAgICAvLyBUaGUgdGFyZ2V0IGVsZW1lbnQgaGFzIGFscmVhZHkgYmVlbiBsYWlkIG91dC5cbiAgICAgICAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUucmVzb2x2ZVJlZmVyZW5jZSh0cmFuc2Zvcm1lZElkKTtcbiAgICAgICAgICAgICAgaWYgKHBhZ2VDb3VudGVyc1tuYW1lXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VDb3VudGVyc09mTmFtZSA9IHBhZ2VDb3VudGVyc1tuYW1lXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0KFxuICAgICAgICAgICAgICAgICAgcGFnZUNvdW50ZXJzT2ZOYW1lW3BhZ2VDb3VudGVyc09mTmFtZS5sZW5ndGggLSAxXSB8fCBudWxsLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gY29ycmVzcG9uZGluZyBjb3VudGVyIHdpdGggdGhlIG5hbWUuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdCgwKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gVGhlIHRhcmdldCBlbGVtZW50IGhhcyBub3QgYmVlbiBsYWlkIG91dCB5ZXQuXG4gICAgICAgICAgICAgIHNlbGYuY291bnRlclN0b3JlLnNhdmVSZWZlcmVuY2VPZkN1cnJlbnRQYWdlKFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybWVkSWQsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJldHVybiBcIj8/XCI7IC8vIFRPRE8gbW9yZSByZWFzb25hYmxlIHBsYWNlaG9sZGVyP1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBUaGUgc3R5bGUgb2YgdGFyZ2V0IGVsZW1lbnQgaGFzIG5vdCBiZWVuIGNhbGN1bGF0ZWQgeWV0LlxuICAgICAgICAgIC8vIChUaGUgZWxlbWVudCBpcyBpbiBhbm90aGVyIHNvdXJjZSBkb2N1bWVudCB0aGF0IGlzIG5vdCBwYXJzZWRcbiAgICAgICAgICAvLyB5ZXQpXG4gICAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUuc2F2ZVJlZmVyZW5jZU9mQ3VycmVudFBhZ2UodHJhbnNmb3JtZWRJZCwgZmFsc2UpO1xuICAgICAgICAgIHJldHVybiBcIj8/XCI7IC8vIFRPRE8gbW9yZSByZWFzb25hYmxlIHBsYWNlaG9sZGVyP1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYHRhcmdldC1jb3VudGVyLSR7bmFtZX0tb2YtJHt1cmx9YCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0VGFyZ2V0Q291bnRlcnNWYWwoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGZvcm1hdDogKHAxOiBudW1iZXJbXSkgPT4gc3RyaW5nLFxuICApOiBFeHBycy5WYWwge1xuICAgIGNvbnN0IGlkID0gdGhpcy5nZXRGcmFnbWVudCh1cmwpO1xuICAgIGNvbnN0IHRyYW5zZm9ybWVkSWQgPSB0aGlzLmdldFRyYW5zZm9ybWVkSWQodXJsKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IEV4cHJzLk5hdGl2ZShcbiAgICAgIHRoaXMucGFnZVNjb3BlLFxuICAgICAgKCkgPT4ge1xuICAgICAgICBjb25zdCBwYWdlQ291bnRlcnMgPSBzZWxmLmdldFRhcmdldFBhZ2VDb3VudGVycyh0cmFuc2Zvcm1lZElkKTtcblxuICAgICAgICBpZiAoIXBhZ2VDb3VudGVycykge1xuICAgICAgICAgIC8vIFRoZSB0YXJnZXQgZWxlbWVudCBoYXMgbm90IGJlZW4gbGFpZCBvdXQgeWV0LlxuICAgICAgICAgIHNlbGYuY291bnRlclN0b3JlLnNhdmVSZWZlcmVuY2VPZkN1cnJlbnRQYWdlKHRyYW5zZm9ybWVkSWQsIGZhbHNlKTtcbiAgICAgICAgICByZXR1cm4gXCI/P1wiOyAvLyBUT0RPIG1vcmUgcmVhc29uYWJsZSBwbGFjZWhvbGRlcj9cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLmNvdW50ZXJTdG9yZS5yZXNvbHZlUmVmZXJlbmNlKHRyYW5zZm9ybWVkSWQpO1xuICAgICAgICAgIGNvbnN0IHBhZ2VDb3VudGVyc09mTmFtZSA9IHBhZ2VDb3VudGVyc1tuYW1lXSB8fCBbXTtcbiAgICAgICAgICBjb25zdCBlbGVtZW50Q291bnRlcnMgPSBzZWxmLmdldFRhcmdldENvdW50ZXJzKFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB0cmFuc2Zvcm1lZElkLFxuICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRDb3VudGVyc09mTmFtZSA9IGVsZW1lbnRDb3VudGVyc1tuYW1lXSB8fCBbXTtcbiAgICAgICAgICByZXR1cm4gZm9ybWF0KHBhZ2VDb3VudGVyc09mTmFtZS5jb25jYXQoZWxlbWVudENvdW50ZXJzT2ZOYW1lKSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBgdGFyZ2V0LWNvdW50ZXJzLSR7bmFtZX0tb2YtJHt1cmx9YCxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb3VudGVyU3RvcmUge1xuICBjb3VudGVyc0J5SWQ6IHsgW2tleTogc3RyaW5nXTogQ3NzQ2FzY2FkZS5Db3VudGVyVmFsdWVzIH0gPSB7fTtcbiAgcGFnZUNvdW50ZXJzQnlJZDogeyBba2V5OiBzdHJpbmddOiBDc3NDYXNjYWRlLkNvdW50ZXJWYWx1ZXMgfSA9IHt9O1xuICBjdXJyZW50UGFnZUNvdW50ZXJzOiBDc3NDYXNjYWRlLkNvdW50ZXJWYWx1ZXMgPSB7fTtcbiAgcHJldmlvdXNQYWdlQ291bnRlcnM6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlcyA9IHt9O1xuICBjdXJyZW50UGFnZUNvdW50ZXJzU3RhY2s6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlc1tdID0gW107XG4gIHBhZ2VJbmRpY2VzQnlJZDoge1xuICAgIFtrZXk6IHN0cmluZ106IHsgc3BpbmVJbmRleDogbnVtYmVyOyBwYWdlSW5kZXg6IG51bWJlciB9O1xuICB9ID0ge307XG4gIGN1cnJlbnRQYWdlOiBWdHJlZS5QYWdlID0gbnVsbDtcbiAgbmV3UmVmZXJlbmNlc09mQ3VycmVudFBhZ2U6IFRhcmdldENvdW50ZXJSZWZlcmVuY2VbXSA9IFtdO1xuICByZWZlcmVuY2VzVG9Tb2x2ZTogVGFyZ2V0Q291bnRlclJlZmVyZW5jZVtdID0gW107XG4gIHJlZmVyZW5jZXNUb1NvbHZlU3RhY2s6IFRhcmdldENvdW50ZXJSZWZlcmVuY2VbXVtdID0gW107XG4gIHVucmVzb2x2ZWRSZWZlcmVuY2VzOiB7IFtrZXk6IHN0cmluZ106IFRhcmdldENvdW50ZXJSZWZlcmVuY2VbXSB9ID0ge307XG4gIHJlc29sdmVkUmVmZXJlbmNlczogeyBba2V5OiBzdHJpbmddOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlW10gfSA9IHt9O1xuICBwcml2YXRlIHBhZ2VzQ291bnRlckV4cHJzOiB7XG4gICAgZXhwcjogRXhwcnMuVmFsO1xuICAgIGZvcm1hdDogKHAxOiBudW1iZXJbXSkgPT4gc3RyaW5nO1xuICB9W10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcjogQmFzZS5Eb2N1bWVudFVSTFRyYW5zZm9ybWVyLFxuICApIHtcbiAgICB0aGlzLmN1cnJlbnRQYWdlQ291bnRlcnNbXCJwYWdlXCJdID0gWzBdO1xuICB9XG5cbiAgY3JlYXRlQ291bnRlckxpc3RlbmVyKGJhc2VVUkw6IHN0cmluZyk6IENzc0Nhc2NhZGUuQ291bnRlckxpc3RlbmVyIHtcbiAgICByZXR1cm4gbmV3IENvdW50ZXJMaXN0ZW5lcih0aGlzLCBiYXNlVVJMKTtcbiAgfVxuXG4gIGNyZWF0ZUNvdW50ZXJSZXNvbHZlcihcbiAgICBiYXNlVVJMOiBzdHJpbmcsXG4gICAgcm9vdFNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcGFnZVNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICk6IENzc0Nhc2NhZGUuQ291bnRlclJlc29sdmVyIHtcbiAgICByZXR1cm4gbmV3IENvdW50ZXJSZXNvbHZlcih0aGlzLCBiYXNlVVJMLCByb290U2NvcGUsIHBhZ2VTY29wZSk7XG4gIH1cblxuICBzZXRDdXJyZW50UGFnZShwYWdlOiBWdHJlZS5QYWdlKSB7XG4gICAgdGhpcy5jdXJyZW50UGFnZSA9IHBhZ2U7XG4gIH1cblxuICBwcml2YXRlIGRlZmluZVBhZ2VDb3VudGVyKGNvdW50ZXJOYW1lOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzW2NvdW50ZXJOYW1lXSkge1xuICAgICAgdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzW2NvdW50ZXJOYW1lXS5wdXNoKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzW2NvdW50ZXJOYW1lXSA9IFt2YWx1ZV07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlZnVsbHkgc2V0IHRoZSBgcGFnZWAgcGFnZS1iYXNlZCBjb3VudGVyIHRvIHRoZSBzcGVjaWZpZWQgdmFsdWUuXG4gICAqL1xuICBmb3JjZVNldFBhZ2VDb3VudGVyKHBhZ2VOdW1iZXI6IG51bWJlcikge1xuICAgIGNvbnN0IGNvdW50ZXJzID0gdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzW1wicGFnZVwiXTtcbiAgICBpZiAoIWNvdW50ZXJzIHx8ICFjb3VudGVycy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuY3VycmVudFBhZ2VDb3VudGVyc1tcInBhZ2VcIl0gPSBbcGFnZU51bWJlcl07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdW50ZXJzW2NvdW50ZXJzLmxlbmd0aCAtIDFdID0gcGFnZU51bWJlcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBwYWdlLWJhc2VkIGNvdW50ZXJzIHdpdGggJ2NvdW50ZXItcmVzZXQnIGFuZCAnY291bnRlci1pbmNyZW1lbnQnXG4gICAqIHByb3BlcnRpZXMgd2l0aGluIHRoZSBwYWdlIGNvbnRleHQuIENhbGwgYmVmb3JlIHN0YXJ0aW5nIGxheW91dCBvZiB0aGVcbiAgICogcGFnZS5cbiAgICovXG4gIHVwZGF0ZVBhZ2VDb3VudGVycyhcbiAgICBjYXNjYWRlZFBhZ2VTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgKSB7XG4gICAgLy8gU2F2ZSBwYWdlIGNvdW50ZXJzIHRvIHByZXZpb3VzUGFnZUNvdW50ZXJzIGJlZm9yZSB1cGRhdGluZ1xuICAgIHRoaXMucHJldmlvdXNQYWdlQ291bnRlcnMgPSBjbG9uZUNvdW50ZXJWYWx1ZXModGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzKTtcbiAgICBsZXQgcmVzZXRNYXA6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XG4gICAgY29uc3QgcmVzZXQgPSBjYXNjYWRlZFBhZ2VTdHlsZVtcImNvdW50ZXItcmVzZXRcIl07XG4gICAgaWYgKHJlc2V0KSB7XG4gICAgICBjb25zdCByZXNldFZhbCA9IHJlc2V0LmV2YWx1YXRlKGNvbnRleHQpO1xuICAgICAgaWYgKHJlc2V0VmFsKSB7XG4gICAgICAgIHJlc2V0TWFwID0gQ3NzUHJvcC50b0NvdW50ZXJzKHJlc2V0VmFsLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlc2V0TWFwKSB7XG4gICAgICBmb3IgKGNvbnN0IHJlc2V0Q291bnRlck5hbWUgaW4gcmVzZXRNYXApIHtcbiAgICAgICAgdGhpcy5kZWZpbmVQYWdlQ291bnRlcihyZXNldENvdW50ZXJOYW1lLCByZXNldE1hcFtyZXNldENvdW50ZXJOYW1lXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBpbmNyZW1lbnRNYXA6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XG4gICAgY29uc3QgaW5jcmVtZW50ID0gY2FzY2FkZWRQYWdlU3R5bGVbXCJjb3VudGVyLWluY3JlbWVudFwiXTtcbiAgICBpZiAoaW5jcmVtZW50KSB7XG4gICAgICBjb25zdCBpbmNyZW1lbnRWYWwgPSBpbmNyZW1lbnQuZXZhbHVhdGUoY29udGV4dCk7XG4gICAgICBpZiAoaW5jcmVtZW50VmFsKSB7XG4gICAgICAgIGluY3JlbWVudE1hcCA9IENzc1Byb3AudG9Db3VudGVycyhpbmNyZW1lbnRWYWwsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiAnY291bnRlci1pbmNyZW1lbnQnIGZvciB0aGUgYnVpbHRpbiAncGFnZScgY291bnRlciBpcyBhYnNlbnQsIGFkZCBpdFxuICAgIC8vIHdpdGggdmFsdWUgMS5cbiAgICBpZiAoaW5jcmVtZW50TWFwKSB7XG4gICAgICBpZiAoIShcInBhZ2VcIiBpbiBpbmNyZW1lbnRNYXApKSB7XG4gICAgICAgIGluY3JlbWVudE1hcFtcInBhZ2VcIl0gPSAxO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpbmNyZW1lbnRNYXAgPSB7fTtcbiAgICAgIGluY3JlbWVudE1hcFtcInBhZ2VcIl0gPSAxO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGluY3JlbWVudENvdW50ZXJOYW1lIGluIGluY3JlbWVudE1hcCkge1xuICAgICAgaWYgKCF0aGlzLmN1cnJlbnRQYWdlQ291bnRlcnNbaW5jcmVtZW50Q291bnRlck5hbWVdKSB7XG4gICAgICAgIHRoaXMuZGVmaW5lUGFnZUNvdW50ZXIoaW5jcmVtZW50Q291bnRlck5hbWUsIDApO1xuICAgICAgfVxuICAgICAgY29uc3QgY291bnRlclZhbHVlcyA9IHRoaXMuY3VycmVudFBhZ2VDb3VudGVyc1tpbmNyZW1lbnRDb3VudGVyTmFtZV07XG4gICAgICBjb3VudGVyVmFsdWVzW2NvdW50ZXJWYWx1ZXMubGVuZ3RoIC0gMV0gKz1cbiAgICAgICAgaW5jcmVtZW50TWFwW2luY3JlbWVudENvdW50ZXJOYW1lXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSBjdXJyZW50IHBhZ2UtYmFzZWQgY291bnRlcnMgdmFsdWVzIGFuZCBzZXQgdGhlbSB0byB0aGUgdmFsdWVzIHBhc3NlZFxuICAgKiBpbi4gVGhlIHNhdmVkIGNvdW50ZXIgdmFsdWVzIGNhbiBiZSByZXN0b3JlZCBieSBwb3BQYWdlQ291bnRlcnMgbWV0aG9kLlxuICAgKi9cbiAgcHVzaFBhZ2VDb3VudGVycyhjb3VudGVyczogQ3NzQ2FzY2FkZS5Db3VudGVyVmFsdWVzKSB7XG4gICAgdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzU3RhY2sucHVzaCh0aGlzLmN1cnJlbnRQYWdlQ291bnRlcnMpO1xuICAgIHRoaXMuY3VycmVudFBhZ2VDb3VudGVycyA9IGNsb25lQ291bnRlclZhbHVlcyhjb3VudGVycyk7XG4gIH1cblxuICAvKipcbiAgICogUmVzdG9yZSBwcmV2aW91c2x5IHNhdmVkIHBhZ2UtYmFzZWQgY291bnRlciB2YWx1ZXMuXG4gICAqL1xuICBwb3BQYWdlQ291bnRlcnMoKSB7XG4gICAgdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzID0gdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzU3RhY2sucG9wKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVzb2x2ZSBhIHJlZmVyZW5jZSB3aXRoIHRoZSBzcGVjaWZpZWQgSUQuXG4gICAqL1xuICByZXNvbHZlUmVmZXJlbmNlKGlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCB1bnJlc29sdmVkUmVmcyA9IHRoaXMudW5yZXNvbHZlZFJlZmVyZW5jZXNbaWRdO1xuICAgIGxldCByZXNvbHZlZFJlZnMgPSB0aGlzLnJlc29sdmVkUmVmZXJlbmNlc1tpZF07XG4gICAgaWYgKCFyZXNvbHZlZFJlZnMpIHtcbiAgICAgIHJlc29sdmVkUmVmcyA9IHRoaXMucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXSA9IFtdO1xuICAgIH1cbiAgICBsZXQgcHVzaGVkID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlZmVyZW5jZXNUb1NvbHZlLmxlbmd0aDsgKSB7XG4gICAgICBjb25zdCByZWYgPSB0aGlzLnJlZmVyZW5jZXNUb1NvbHZlW2ldO1xuICAgICAgaWYgKHJlZi50YXJnZXRJZCA9PT0gaWQpIHtcbiAgICAgICAgcmVmLnJlc29sdmUoKTtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VzVG9Tb2x2ZS5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGlmICh1bnJlc29sdmVkUmVmcykge1xuICAgICAgICAgIGNvbnN0IGogPSB1bnJlc29sdmVkUmVmcy5pbmRleE9mKHJlZik7XG4gICAgICAgICAgaWYgKGogPj0gMCkge1xuICAgICAgICAgICAgdW5yZXNvbHZlZFJlZnMuc3BsaWNlKGosIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlZFJlZnMucHVzaChyZWYpO1xuICAgICAgICBwdXNoZWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXB1c2hlZCkge1xuICAgICAgdGhpcy5zYXZlUmVmZXJlbmNlT2ZDdXJyZW50UGFnZShpZCwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNhdmUgYSByZWZlcmVuY2UgYXBwZWFyZWQgaW4gdGhlIGN1cnJlbnQgcGFnZS5cbiAgICogQHBhcmFtIHJlc29sdmVkIElmIHRoZSByZWZlcmVuY2UgaXMgYWxyZWFkeSByZXNvbHZlZCBvciBub3QuXG4gICAqL1xuICBzYXZlUmVmZXJlbmNlT2ZDdXJyZW50UGFnZShpZDogc3RyaW5nLCByZXNvbHZlZDogYm9vbGVhbikge1xuICAgIGlmICghdGhpcy5uZXdSZWZlcmVuY2VzT2ZDdXJyZW50UGFnZS5zb21lKChyZWYpID0+IHJlZi50YXJnZXRJZCA9PT0gaWQpKSB7XG4gICAgICBjb25zdCByZWYgPSBuZXcgVGFyZ2V0Q291bnRlclJlZmVyZW5jZShpZCwgcmVzb2x2ZWQpO1xuICAgICAgdGhpcy5uZXdSZWZlcmVuY2VzT2ZDdXJyZW50UGFnZS5wdXNoKHJlZik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZpbmlzaCB0aGUgY3VycmVudCBwYWdlOyBlbGVtZW50cyB3aXRoIElEIGFyZSBjb2xsZWN0ZWQgYW5kIHNhdmVkIHdpdGhcbiAgICogY3VycmVudCBwYWdlLWJhc2VkIGNvdW50ZXIgdmFsdWVzIGludGVybmFsbHkuXG4gICAqIEBwYXJhbSBzcGluZUluZGV4IEluZGV4IG9mIHRoZSBjdXJyZW50bHkgbGFpZCBvdXQgc3BpbmUgaXRlbVxuICAgKiBAcGFyYW0gcGFnZUluZGV4IEluZGV4IG9mIHRoZSBjdXJyZW50bHkgbGFpZCBvdXQgcGFnZSBpbiBpdHMgc3BpbmUgaXRlbVxuICAgKi9cbiAgZmluaXNoUGFnZShzcGluZUluZGV4OiBudW1iZXIsIHBhZ2VJbmRleDogbnVtYmVyKSB7XG4gICAgY29uc3QgaWRzID0gT2JqZWN0LmtleXModGhpcy5jdXJyZW50UGFnZS5lbGVtZW50c0J5SWQpO1xuICAgIGlmIChpZHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgY3VycmVudFBhZ2VDb3VudGVycyA9IGNsb25lQ291bnRlclZhbHVlcyh0aGlzLmN1cnJlbnRQYWdlQ291bnRlcnMpO1xuICAgICAgaWRzLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICAgIHRoaXMucGFnZUNvdW50ZXJzQnlJZFtpZF0gPSBjdXJyZW50UGFnZUNvdW50ZXJzO1xuICAgICAgICBjb25zdCBvbGRQYWdlSW5kZXggPSB0aGlzLnBhZ2VJbmRpY2VzQnlJZFtpZF07XG4gICAgICAgIGlmIChvbGRQYWdlSW5kZXggJiYgb2xkUGFnZUluZGV4LnBhZ2VJbmRleCA8IHBhZ2VJbmRleCkge1xuICAgICAgICAgIGNvbnN0IHJlc29sdmVkUmVmcyA9IHRoaXMucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXTtcbiAgICAgICAgICBpZiAocmVzb2x2ZWRSZWZzKSB7XG4gICAgICAgICAgICBsZXQgdW5yZXNvbHZlZFJlZnMgPSB0aGlzLnVucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXTtcbiAgICAgICAgICAgIGlmICghdW5yZXNvbHZlZFJlZnMpIHtcbiAgICAgICAgICAgICAgdW5yZXNvbHZlZFJlZnMgPSB0aGlzLnVucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHJlZjogVGFyZ2V0Q291bnRlclJlZmVyZW5jZTtcbiAgICAgICAgICAgIHdoaWxlICgocmVmID0gcmVzb2x2ZWRSZWZzLnNoaWZ0KCkpKSB7XG4gICAgICAgICAgICAgIHJlZi51bnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgdW5yZXNvbHZlZFJlZnMucHVzaChyZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhZ2VJbmRpY2VzQnlJZFtpZF0gPSB7IHNwaW5lSW5kZXgsIHBhZ2VJbmRleCB9O1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHByZXZQYWdlQ291bnRlcnMgPSB0aGlzLnByZXZpb3VzUGFnZUNvdW50ZXJzO1xuICAgIGxldCByZWY6IFRhcmdldENvdW50ZXJSZWZlcmVuY2U7XG4gICAgd2hpbGUgKChyZWYgPSB0aGlzLm5ld1JlZmVyZW5jZXNPZkN1cnJlbnRQYWdlLnNoaWZ0KCkpKSB7XG4gICAgICByZWYucGFnZUNvdW50ZXJzID0gcHJldlBhZ2VDb3VudGVycztcbiAgICAgIHJlZi5zcGluZUluZGV4ID0gc3BpbmVJbmRleDtcbiAgICAgIHJlZi5wYWdlSW5kZXggPSBwYWdlSW5kZXg7XG4gICAgICBsZXQgYXJyOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlW107XG4gICAgICBpZiAocmVmLmlzUmVzb2x2ZWQoKSkge1xuICAgICAgICBhcnIgPSB0aGlzLnJlc29sdmVkUmVmZXJlbmNlc1tyZWYudGFyZ2V0SWRdO1xuICAgICAgICBpZiAoIWFycikge1xuICAgICAgICAgIGFyciA9IHRoaXMucmVzb2x2ZWRSZWZlcmVuY2VzW3JlZi50YXJnZXRJZF0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXJyID0gdGhpcy51bnJlc29sdmVkUmVmZXJlbmNlc1tyZWYudGFyZ2V0SWRdO1xuICAgICAgICBpZiAoIWFycikge1xuICAgICAgICAgIGFyciA9IHRoaXMudW5yZXNvbHZlZFJlZmVyZW5jZXNbcmVmLnRhcmdldElkXSA9IFtdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYXJyLmV2ZXJ5KChyKSA9PiAhcmVmLmVxdWFscyhyKSkpIHtcbiAgICAgICAgYXJyLnB1c2gocmVmKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jdXJyZW50UGFnZSA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB1bnJlc29sdmVkIHJlZmVyZW5jZXMgcG9pbnRpbmcgdG8gdGhlIHNwZWNpZmllZCBwYWdlLlxuICAgKi9cbiAgZ2V0VW5yZXNvbHZlZFJlZnNUb1BhZ2UoXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgKToge1xuICAgIHNwaW5lSW5kZXg6IG51bWJlcjtcbiAgICBwYWdlSW5kZXg6IG51bWJlcjtcbiAgICBwYWdlQ291bnRlcnM6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlcztcbiAgICByZWZzOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlW107XG4gIH1bXSB7XG4gICAgbGV0IHJlZnM6IFRhcmdldENvdW50ZXJSZWZlcmVuY2VbXSA9IFtdO1xuICAgIGNvbnN0IGlkcyA9IE9iamVjdC5rZXlzKHBhZ2UuZWxlbWVudHNCeUlkKTtcbiAgICBpZHMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIGNvbnN0IGlkUmVmcyA9IHRoaXMudW5yZXNvbHZlZFJlZmVyZW5jZXNbaWRdO1xuICAgICAgaWYgKGlkUmVmcykge1xuICAgICAgICByZWZzID0gcmVmcy5jb25jYXQoaWRSZWZzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZWZzLnNvcnQoXG4gICAgICAocjEsIHIyKSA9PiByMS5zcGluZUluZGV4IC0gcjIuc3BpbmVJbmRleCB8fCByMS5wYWdlSW5kZXggLSByMi5wYWdlSW5kZXgsXG4gICAgKTtcbiAgICBjb25zdCByZXN1bHQ6IHtcbiAgICAgIHNwaW5lSW5kZXg6IG51bWJlcjtcbiAgICAgIHBhZ2VJbmRleDogbnVtYmVyO1xuICAgICAgcGFnZUNvdW50ZXJzOiBDc3NDYXNjYWRlLkNvdW50ZXJWYWx1ZXM7XG4gICAgICByZWZzOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlW107XG4gICAgfVtdID0gW107XG4gICAgbGV0IG86IHtcbiAgICAgIHNwaW5lSW5kZXg6IG51bWJlcjtcbiAgICAgIHBhZ2VJbmRleDogbnVtYmVyO1xuICAgICAgcGFnZUNvdW50ZXJzOiBDc3NDYXNjYWRlLkNvdW50ZXJWYWx1ZXM7XG4gICAgICByZWZzOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlW107XG4gICAgfSA9IG51bGw7XG4gICAgcmVmcy5mb3JFYWNoKChyZWYpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgIW8gfHxcbiAgICAgICAgby5zcGluZUluZGV4ICE9PSByZWYuc3BpbmVJbmRleCB8fFxuICAgICAgICBvLnBhZ2VJbmRleCAhPT0gcmVmLnBhZ2VJbmRleFxuICAgICAgKSB7XG4gICAgICAgIG8gPSB7XG4gICAgICAgICAgc3BpbmVJbmRleDogcmVmLnNwaW5lSW5kZXgsXG4gICAgICAgICAgcGFnZUluZGV4OiByZWYucGFnZUluZGV4LFxuICAgICAgICAgIHBhZ2VDb3VudGVyczogcmVmLnBhZ2VDb3VudGVycyxcbiAgICAgICAgICByZWZzOiBbcmVmXSxcbiAgICAgICAgfTtcbiAgICAgICAgcmVzdWx0LnB1c2gobyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvLnJlZnMucHVzaChyZWYpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSBjdXJyZW50IHJlZmVyZW5jZXMgdG8gc29sdmUgYW5kIHNldCB0aGVtIHRvIHRoZSB2YWx1ZXMgcGFzc2VkIGluLlxuICAgKiBUaGUgc2F2ZWQgcmVmZXJlbmNlcyBjYW4gYmUgcmVzdG9yZWQgYnkgcG9wUmVmZXJlbmNlc1RvU29sdmUgbWV0aG9kLlxuICAgKi9cbiAgcHVzaFJlZmVyZW5jZXNUb1NvbHZlKHJlZnM6IFRhcmdldENvdW50ZXJSZWZlcmVuY2VbXSkge1xuICAgIHRoaXMucmVmZXJlbmNlc1RvU29sdmVTdGFjay5wdXNoKHRoaXMucmVmZXJlbmNlc1RvU29sdmUpO1xuICAgIHRoaXMucmVmZXJlbmNlc1RvU29sdmUgPSByZWZzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc3RvcmUgcHJldmlvdXNseSBzYXZlZCByZWZlcmVuY2VzIHRvIHNvbHZlLlxuICAgKi9cbiAgcG9wUmVmZXJlbmNlc1RvU29sdmUoKSB7XG4gICAgdGhpcy5yZWZlcmVuY2VzVG9Tb2x2ZSA9IHRoaXMucmVmZXJlbmNlc1RvU29sdmVTdGFjay5wb3AoKTtcbiAgfVxuXG4gIHJlZ2lzdGVyUGFnZUNvdW50ZXJFeHByKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBmb3JtYXQ6IChwMTogbnVtYmVyW10pID0+IHN0cmluZyxcbiAgICBleHByOiBFeHBycy5WYWwsXG4gICkge1xuICAgIGlmIChuYW1lID09PSBcInBhZ2VzXCIpIHtcbiAgICAgIHRoaXMucGFnZXNDb3VudGVyRXhwcnMucHVzaCh7IGV4cHIsIGZvcm1hdCB9KTtcbiAgICB9XG4gIH1cblxuICBnZXRFeHByQ29udGVudExpc3RlbmVyKCk6IFZ0cmVlLkV4cHJDb250ZW50TGlzdGVuZXIge1xuICAgIHJldHVybiB0aGlzLmV4cHJDb250ZW50TGlzdGVuZXIuYmluZCh0aGlzKTtcbiAgfVxuXG4gIHByaXZhdGUgZXhwckNvbnRlbnRMaXN0ZW5lcihleHByLCB2YWwsIGRvY3VtZW50KSB7XG4gICAgY29uc3QgZm91bmQgPSB0aGlzLnBhZ2VzQ291bnRlckV4cHJzLmZpbmRJbmRleCgobykgPT4gby5leHByID09PSBleHByKSA+PSAwO1xuICAgIGlmIChmb3VuZCkge1xuICAgICAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHZhbDtcbiAgICAgIG5vZGUuc2V0QXR0cmlidXRlKFBBR0VTX0NPVU5URVJfQVRUUiwgZXhwci5rZXkpO1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZpbmlzaExhc3RQYWdlKHZpZXdwb3J0OiBWZ2VuLlZpZXdwb3J0KSB7XG4gICAgY29uc3Qgbm9kZXMgPSB2aWV3cG9ydC5yb290LnF1ZXJ5U2VsZWN0b3JBbGwoYFske1BBR0VTX0NPVU5URVJfQVRUUn1dYCk7XG4gICAgY29uc3QgcGFnZXMgPSB0aGlzLmN1cnJlbnRQYWdlQ291bnRlcnNbXCJwYWdlXCJdWzBdO1xuICAgIEFycmF5LmZyb20obm9kZXMpLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgIGNvbnN0IGtleSA9IG5vZGUuZ2V0QXR0cmlidXRlKFBBR0VTX0NPVU5URVJfQVRUUik7XG4gICAgICBjb25zdCBpID0gdGhpcy5wYWdlc0NvdW50ZXJFeHBycy5maW5kSW5kZXgoKG8pID0+IG8uZXhwci5rZXkgPT09IGtleSk7XG4gICAgICBBc3NlcnRzLmFzc2VydChpID49IDApO1xuICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHRoaXMucGFnZXNDb3VudGVyRXhwcnNbaV0uZm9ybWF0KFtwYWdlc10pO1xuICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlTGF5b3V0Q29uc3RyYWludChwYWdlSW5kZXg6IG51bWJlcik6IExheW91dC5MYXlvdXRDb25zdHJhaW50IHtcbiAgICByZXR1cm4gbmV3IExheW91dENvbnN0cmFpbnQodGhpcywgcGFnZUluZGV4KTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgUEFHRVNfQ09VTlRFUl9BVFRSID0gXCJkYXRhLXZpdmxpb3N0eWxlLXBhZ2VzLWNvdW50ZXJcIjtcblxuY2xhc3MgTGF5b3V0Q29uc3RyYWludCBpbXBsZW1lbnRzIExheW91dC5MYXlvdXRDb25zdHJhaW50IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGNvdW50ZXJTdG9yZTogQ291bnRlclN0b3JlLFxuICAgIHB1YmxpYyByZWFkb25seSBwYWdlSW5kZXg6IG51bWJlcixcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFsbG93TGF5b3V0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGlmICghbm9kZUNvbnRleHQgfHwgbm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCB2aWV3Tm9kZSA9IG5vZGVDb250ZXh0LnZpZXdOb2RlO1xuICAgIGlmICghdmlld05vZGUgfHwgdmlld05vZGUubm9kZVR5cGUgIT09IDEpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBpZCA9XG4gICAgICAodmlld05vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKFwiaWRcIikgfHxcbiAgICAgICh2aWV3Tm9kZSBhcyBFbGVtZW50KS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xuICAgIGlmICghaWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAhdGhpcy5jb3VudGVyU3RvcmUucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXSAmJlxuICAgICAgIXRoaXMuY291bnRlclN0b3JlLnVucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHBhZ2VJbmRleCA9IHRoaXMuY291bnRlclN0b3JlLnBhZ2VJbmRpY2VzQnlJZFtpZF07XG4gICAgaWYgKCFwYWdlSW5kZXgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wYWdlSW5kZXggPj0gcGFnZUluZGV4LnBhZ2VJbmRleDtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE3IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBDc3NUb2tlbml6ZXIgLSBDU1MgVG9rZW5pemVyLlxuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgVG9rZW5pemVySGFuZGxlciB7XG4gIGVycm9yKG1uZW1vbmljczogc3RyaW5nLCB0b2tlbjogVG9rZW4pOiB2b2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlUGFyc2VTaW5nbGUoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICBzdHIgPSBzdHIuc3Vic3RyKDEpO1xuICBpZiAoc3RyLm1hdGNoKC9eW14wLTlhLWZBLUZcXG5cXHJdJC8pKSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuICBjb25zdCBjb2RlID0gcGFyc2VJbnQoc3RyLCAxNik7XG4gIGlmIChpc05hTihjb2RlKSkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGlmIChjb2RlIDw9IDY1NTM1KSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gIH1cbiAgaWYgKGNvZGUgPD0gMTExNDExMSkge1xuICAgIC8vIG5vbi1CTVAgY2hhcmFjdGVyczogY29udmVydCB0byBhIHN1cnJvZ2F0ZSBwYWlyXG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoXG4gICAgICA1NTI5NiB8ICgoY29kZSA+PiAxMCkgJiAxMDIzKSxcbiAgICAgIDU2MzIwIHwgKGNvZGUgJiAxMDIzKSxcbiAgICApO1xuICB9XG5cbiAgLy8gbm90IGEgdmFsaWQgVW5pY29kZSB2YWx1ZVxuICByZXR1cm4gXCJcXHVmZmZkXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVQYXJzZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzdHIucmVwbGFjZShcbiAgICAvXFxcXChbMC05YS1mQS1GXXswLDZ9KFxcclxcbnxbIFxcblxcclxcdFxcZl0pP3xbXjAtOWEtZkEtRlxcblxccl0pL2csXG4gICAgZXNjYXBlUGFyc2VTaW5nbGUsXG4gICk7XG59XG5cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGVudW0gVG9rZW5UeXBlIHtcbiAgRU9GLFxuICBJREVOVCxcbiAgU1RSLFxuICBOVU1FUklDLFxuICBOVU0sXG4gIElOVCxcbiAgRlVOQyxcbiAgSEFTSCxcbiAgVVJMLFxuICBDTEFTUyxcbiAgT19QQVIsXG4gIENfUEFSLFxuICBPX0JSQyxcbiAgQ19CUkMsXG4gIE9fQlJLLFxuICBDX0JSSyxcbiAgQ09NTUEsXG4gIFNFTUlDT0wsXG4gIENPTE9OLFxuICBTTEFTSCxcbiAgQVQsXG4gIFBFUkNFTlQsXG4gIFFNQVJLLFxuICBQTFVTLFxuICBNSU5VUyxcbiAgQkFSX0JBUixcbiAgQU1QX0FNUCxcblxuICAvLyB0aG9zZSBjYW4gaGF2ZSBcIj1cIiBhdCB0aGUgZW5kXG4gIEJBTkcgPSAzMSxcbiAgRE9MTEFSLFxuICBIQVQsXG4gIEJBUixcbiAgVElMREUsXG4gIFNUQVIsXG4gIEdULFxuICBMVCxcbiAgRVEsXG5cbiAgLy8gdG9rZW5zIGFib3ZlIHBsdXMgXCI9XCIgYXQgdGhlIGVuZCwgb3JkZXIgbXVzdCBiZSB0aGUgc2FtZVxuICBCQU5HX0VRID0gNDEsXG4gIERPTExBUl9FUSxcbiAgSEFUX0VRLFxuICBCQVJfRVEsXG4gIFRJTERFX0VRLFxuICBTVEFSX0VRLFxuICBHVF9FUSxcbiAgTFRfRVEsXG4gIEVRX0VRLFxuICBDT0xfQ09MLFxuICBJTlZBTElELFxuICBMQVNUID0gNTEsXG59XG5cbmV4cG9ydCBjbGFzcyBUb2tlbiB7XG4gIHR5cGU6IFRva2VuVHlwZTtcbiAgcHJlY2VkZWRCeVNwYWNlOiBib29sZWFuID0gZmFsc2U7XG4gIG51bTogbnVtYmVyID0gMDtcbiAgdGV4dDogc3RyaW5nID0gXCJcIjtcbiAgcG9zaXRpb246IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy50eXBlID0gVG9rZW5UeXBlLkVPRjtcbiAgfVxufVxuXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBlbnVtIEFjdGlvbiB7XG4gIFNQQUNFID0gMSxcbiAgSU5ULFxuICBJREVOVCxcbiAgQkFORyxcbiAgSEFTSCA9IDYsXG4gIERPTExBUixcbiAgUEVSQ0VOVCxcbiAgQU1QLFxuICBPX1BBUixcbiAgQ19QQVIsXG4gIFNUQVIsXG4gIFBMVVMsXG4gIENPTU1BLFxuICBNSU5VUyxcbiAgRE9ULFxuICBTTEFTSCxcbiAgQ09MT04sXG4gIFNFTUlDT0wsXG4gIExULFxuICBFUSxcbiAgR1QsXG4gIFFNQVJLLFxuICBBVCxcbiAgT19CUkssXG4gIENfQlJLLFxuICBPX0JSQyxcbiAgQ19CUkMsXG4gIEJTTEFTSCxcbiAgSEFULFxuICBCQVIsXG4gIFRJTERFLFxuICBTVFIxLFxuICBTVFIyLFxuICBFTkQsXG4gIEVRVEFJTCxcbiAgRU5ESU5ULFxuICBFTkROVU0sXG4gIENPTlQsXG4gIFVOSVQsXG4gIFBDVU5JVCxcbiAgTlVNQkVSLFxuICBFTkRJRE5ULFxuICBJRE5URVNDLFxuICBFTkRJREVTLFxuXG4gIC8vIGVuZCBvZiBpZGVudGlmaWVyIHdpdGggZXNjYXBlc1xuICBFTkRTVFIsXG4gIEVOREVTVFIsXG5cbiAgLy8gZW5kIG9mIHN0cmluZyB3aXRoIGVzY2FwZXNcbiAgU1RSMUVTQyxcbiAgU1RSMkVTQyxcbiAgQkFSX0JBUixcbiAgQU1QX0FNUCxcbiAgRlVOQyxcbiAgRlVOQ0VTLFxuICBDT01NRU5ULFxuICBDT01NU1QsXG4gIEVORE5PVEssXG4gIE1JTk1JTixcbiAgVE9JTlQsXG4gIFRPTlVNLFxuICBUT0lERU5ULFxuICBUT0lERVMsXG4gIEtJTEwxLFxuICBLSUxMMixcbiAgVVJMLFxuICBVUkwxLFxuICBVUkwyLFxuICBFTkRVUkwsXG4gIFRFUk1VUkwsXG4gIEZJTlVSTCxcbiAgTFRfQkcsXG4gIExUX0JHX00sXG4gIElOVkFMSUQsXG4gIENIS1BPU1MsXG4gIENIS1BPU04sXG4gIFVSTEVTQyxcbiAgSURFU0NILFxuICBDT0xfQ09MLFxuICBUT0NMQVNTLFxuICBDSEtTUCxcbiAgRU9GLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUFjdGlvbnMoZGVmOiBBY3Rpb24sIHNwZWM6IEFjdGlvbltdKTogQWN0aW9uW10ge1xuICBjb25zdCBhOiBudW1iZXJbXSA9IEFycmF5KDEyOCk7XG4gIGxldCBpOiBudW1iZXI7XG4gIGZvciAoaSA9IDA7IGkgPCAxMjg7IGkrKykge1xuICAgIGFbaV0gPSBkZWY7XG4gIH1cbiAgYVtOYU5dID0gZGVmID09IEFjdGlvbi5FTkQgPyBBY3Rpb24uRU5EIDogQWN0aW9uLklOVkFMSUQ7XG4gIGZvciAoaSA9IDA7IGkgPCBzcGVjLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgYVtzcGVjW2ldXSA9IHNwZWNbaSArIDFdO1xuICB9XG4gIHJldHVybiBhO1xufVxuXG4vKipcbiAqIFN0YXJ0IG9mIHRoZSB0b2tlbi5cbiAqL1xuZXhwb3J0IGNvbnN0IGFjdGlvbnNOb3JtYWw6IEFjdGlvbltdID0gW1xuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsIC8vIDB4MDAtMHgwN1xuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLlNQQUNFLFxuICBBY3Rpb24uU1BBQ0UsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uU1BBQ0UsXG4gIEFjdGlvbi5TUEFDRSxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDA4LTB4MEZcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDEwLTB4MTdcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDE4LTB4MUZcbiAgQWN0aW9uLlNQQUNFLFxuICBBY3Rpb24uQkFORyxcbiAgQWN0aW9uLlNUUjIsXG4gIEFjdGlvbi5IQVNILFxuICBBY3Rpb24uRE9MTEFSLFxuICBBY3Rpb24uUEVSQ0VOVCxcbiAgQWN0aW9uLkFNUCxcbiAgQWN0aW9uLlNUUjEsIC8vIDB4MjAtMHgyN1xuICBBY3Rpb24uT19QQVIsXG4gIEFjdGlvbi5DX1BBUixcbiAgQWN0aW9uLlNUQVIsXG4gIEFjdGlvbi5QTFVTLFxuICBBY3Rpb24uQ09NTUEsXG4gIEFjdGlvbi5NSU5VUyxcbiAgQWN0aW9uLkRPVCxcbiAgQWN0aW9uLlNMQVNILCAvLyAweDI4LTB4MkZcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCwgLy8gMHgzMC0weDM3XG4gIEFjdGlvbi5JTlQsXG4gIEFjdGlvbi5JTlQsXG4gIEFjdGlvbi5DT0xPTixcbiAgQWN0aW9uLlNFTUlDT0wsXG4gIEFjdGlvbi5MVCxcbiAgQWN0aW9uLkVRLFxuICBBY3Rpb24uR1QsXG4gIEFjdGlvbi5RTUFSSywgLy8gMHgzOC0weDNGXG4gIEFjdGlvbi5BVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULCAvLyAweDQwLTB4NDdcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsIC8vIDB4NDgtMHg0RlxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCwgLy8gMHg1MC0weDU3XG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5PX0JSSyxcbiAgQWN0aW9uLkJTTEFTSCxcbiAgQWN0aW9uLkNfQlJLLFxuICBBY3Rpb24uSEFULFxuICBBY3Rpb24uSURFTlQsIC8vIDB4NTgtMHg1RlxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULCAvLyAweDYwLTB4NjdcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsIC8vIDB4NjgtMHg2RlxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCwgLy8gMHg3MC0weDc3XG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5PX0JSQyxcbiAgQWN0aW9uLkJBUixcbiAgQWN0aW9uLkNfQlJDLFxuICBBY3Rpb24uVElMREUsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDc4LTB4N0Zcbl07XG5cbmFjdGlvbnNOb3JtYWxbTmFOXSA9IEFjdGlvbi5FT0Y7XG5cbi8qKlxuICogSW5zaWRlIGlkZW50aWZpZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBhY3Rpb25zSWRlbnQ6IEFjdGlvbltdID0gW1xuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MDAtMHgwN1xuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MDgtMHgwRlxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MTAtMHgxN1xuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MTgtMHgxRlxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MjAtMHgyN1xuICBBY3Rpb24uRlVOQyxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MjgtMHgyRlxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4MzAtMHgzN1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MzgtMHgzRlxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NDAtMHg0N1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NDgtMHg0RlxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NTAtMHg1N1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLklETlRFU0MsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NTgtMHg1RlxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NjAtMHg2N1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NjgtMHg2RlxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NzAtMHg3N1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4NzgtMHg3RlxuXTtcblxuYWN0aW9uc0lkZW50W05hTl0gPSBBY3Rpb24uRU5ESUROVDtcblxuLyoqXG4gKiBBZnRlciBkb3QgKGVpdGhlciAuY2xhc3Mgb3IgLjEyMylcbiAqL1xuZXhwb3J0IGNvbnN0IGFjdGlvbnNOdW1PckNsYXNzOiBBY3Rpb25bXSA9IFtcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDAwLTB4MDdcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDA4LTB4MEZcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDEwLTB4MTdcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDE4LTB4MUZcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDIwLTB4MjdcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPTlVNLFxuICBBY3Rpb24uSU5WQUxJRCwgLy8gMHgyOC0weDJGXG4gIEFjdGlvbi5UT05VTSxcbiAgQWN0aW9uLlRPTlVNLFxuICBBY3Rpb24uVE9OVU0sXG4gIEFjdGlvbi5UT05VTSxcbiAgQWN0aW9uLlRPTlVNLFxuICBBY3Rpb24uVE9OVU0sXG4gIEFjdGlvbi5UT05VTSxcbiAgQWN0aW9uLlRPTlVNLCAvLyAweDMwLTB4MzdcbiAgQWN0aW9uLlRPTlVNLFxuICBBY3Rpb24uVE9OVU0sXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsIC8vIDB4MzgtMHgzRlxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsIC8vIDB4NDAtMHg0N1xuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsIC8vIDB4NDgtMHg0RlxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsIC8vIDB4NTAtMHg1N1xuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLlRPSURFUyxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uVE9DTEFTUywgLy8gMHg1OC0weDVGXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUywgLy8gMHg2MC0weDY3XG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUywgLy8gMHg2OC0weDZGXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUywgLy8gMHg3MC0weDc3XG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCwgLy8gMHg3OC0weDdGXG5dO1xuXG5hY3Rpb25zSWRlbnRbTmFOXSA9IEFjdGlvbi5FTkRJRE5UO1xuXG4vKipcbiAqIGFmdGVyICctJ1xuICovXG5leHBvcnQgY29uc3QgYWN0aW9uc01pbnVzOiBBY3Rpb25bXSA9IFtcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCwgLy8gMHgwMC0weDA3XG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsIC8vIDB4MDgtMHgwRlxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELCAvLyAweDEwLTB4MTdcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCwgLy8gMHgxOC0weDFGXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsIC8vIDB4MjAtMHgyN1xuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uTUlOTUlOLFxuICBBY3Rpb24uVE9OVU0sXG4gIEFjdGlvbi5FTkQsIC8vIDB4MjgtMHgyRlxuICBBY3Rpb24uVE9JTlQsXG4gIEFjdGlvbi5UT0lOVCxcbiAgQWN0aW9uLlRPSU5ULFxuICBBY3Rpb24uVE9JTlQsXG4gIEFjdGlvbi5UT0lOVCxcbiAgQWN0aW9uLlRPSU5ULFxuICBBY3Rpb24uVE9JTlQsXG4gIEFjdGlvbi5UT0lOVCwgLy8gMHgzMC0weDM3XG4gIEFjdGlvbi5UT0lOVCxcbiAgQWN0aW9uLlRPSU5ULFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELCAvLyAweDM4LTB4M0ZcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsIC8vIDB4NDAtMHg0N1xuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsIC8vIDB4NDgtMHg0RlxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsIC8vIDB4NTAtMHg1N1xuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uVE9JREVTLFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uVE9JREVOVCwgLy8gMHg1OC0weDVGXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULCAvLyAweDYwLTB4NjdcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULCAvLyAweDY4LTB4NkZcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULCAvLyAweDcwLTB4NzdcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCwgLy8gMHg3OC0weDdGXG5dO1xuXG5hY3Rpb25zTWludXNbTmFOXSA9IEFjdGlvbi5FTkQ7XG5cbi8qKlxuICogSW5zaWRlIGlkZW50aWZpZXIgd2l0aCBlc2NhcGUgc2VxdWVuY2VcbiAqL1xuZXhwb3J0IGNvbnN0IGFjdGlvbnNJZGVudEVzYzogQWN0aW9uW10gPSBbXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUywgLy8gMHgwMC0weDA3XG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uQ0hLUE9TUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUywgLy8gMHgwOC0weDBGXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUywgLy8gMHgxMC0weDE3XG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUywgLy8gMHgxOC0weDFGXG4gIEFjdGlvbi5DSEtQT1NTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUywgLy8gMHgyMC0weDI3XG4gIEFjdGlvbi5GVU5DRVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLCAvLyAweDI4LTB4MkZcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDMwLTB4MzdcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLCAvLyAweDM4LTB4M0ZcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDQwLTB4NDdcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDQ4LTB4NEZcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDUwLTB4NTdcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5JRE5URVNDLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5DT05ULCAvLyAweDU4LTB4NUZcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDYwLTB4NjdcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDY4LTB4NkZcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDcwLTB4NzdcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLCAvLyAweDc4LTB4N0Zcbl07XG5cbmFjdGlvbnNJZGVudEVzY1tOYU5dID0gQWN0aW9uLkVORElERVM7XG5cbi8qKlxuICogSW5zaWRlIGludGVnZXJcbiAqL1xuZXhwb3J0IGNvbnN0IGFjdGlvbnNJbnQ6IEFjdGlvbltdID0gW1xuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULCAvLyAweDAwLTB4MDdcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCwgLy8gMHgwOC0weDBGXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsIC8vIDB4MTAtMHgxN1xuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULCAvLyAweDE4LTB4MUZcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLlBDVU5JVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCwgLy8gMHgyMC0weDI3XG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5OVU1CRVIsXG4gIEFjdGlvbi5FTkRJTlQsIC8vIDB4MjgtMHgyRlxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4MzAtMHgzN1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsIC8vIDB4MzgtMHgzRlxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg0MC0weDQ3XG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg0OC0weDRGXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg1MC0weDU3XG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5VTklULCAvLyAweDU4LTB4NUZcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsIC8vIDB4NjAtMHg2N1xuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsIC8vIDB4NjgtMHg2RlxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsIC8vIDB4NzAtMHg3N1xuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULCAvLyAweDc4LTB4N0Zcbl07XG5cbmFjdGlvbnNJbnRbTmFOXSA9IEFjdGlvbi5FTkRJTlQ7XG5cbi8qKlxuICogaW5zaWRlIHJlYWwsIGFmdGVyIGRvdFxuICovXG5leHBvcnQgY29uc3QgYWN0aW9uc051bWJlcjogQWN0aW9uW10gPSBbXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sIC8vIDB4MDAtMHgwN1xuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLCAvLyAweDA4LTB4MEZcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSwgLy8gMHgxMC0weDE3XG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sIC8vIDB4MTgtMHgxRlxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uUENVTklULFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLCAvLyAweDIwLTB4MjdcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSwgLy8gMHgyOC0weDJGXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCwgLy8gMHgzMC0weDM3XG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSwgLy8gMHgzOC0weDNGXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULCAvLyAweDQwLTB4NDdcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULCAvLyAweDQ4LTB4NEZcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULCAvLyAweDUwLTB4NTdcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLlVOSVQsIC8vIDB4NTgtMHg1RlxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg2MC0weDY3XG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg2OC0weDZGXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg3MC0weDc3XG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sIC8vIDB4NzgtMHg3RlxuXTtcblxuYWN0aW9uc051bWJlcltOYU5dID0gQWN0aW9uLkVORE5VTTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNDaGVja0VxOiBBY3Rpb25bXSA9IG1ha2VBY3Rpb25zKEFjdGlvbi5FTkQsIFtcbiAgNjEgLyo9Ki8sXG4gIEFjdGlvbi5FUVRBSUwsXG5dKTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNDb2xvbjogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uRU5ELCBbXG4gIDU4IC8qOiovLFxuICBBY3Rpb24uQ09MX0NPTCxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc0JhcjogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uRU5ELCBbXG4gIDYxIC8qPSovLFxuICBBY3Rpb24uRVFUQUlMLFxuICAxMjQgLyp8Ki8sXG4gIEFjdGlvbi5CQVJfQkFSLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zQW1wOiBBY3Rpb25bXSA9IG1ha2VBY3Rpb25zKEFjdGlvbi5FTkQsIFtcbiAgMzggLyomKi8sXG4gIEFjdGlvbi5BTVBfQU1QLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zU2xhc2g6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLkVORCwgW1xuICA0MiAvKiAqICovLFxuICBBY3Rpb24uQ09NTUVOVCxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc0NvbW1lbnQ6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLkNPTlQsIFtcbiAgNDIgLyogKiAqLyxcbiAgQWN0aW9uLkNPTU1TVCxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc0NvbW1lbnRTdGFyOiBBY3Rpb25bXSA9IG1ha2VBY3Rpb25zKEFjdGlvbi5DT01NRU5ULCBbXG4gIDQyIC8qICogKi8sXG4gIEFjdGlvbi5DT01NU1QsXG4gIDQ3IC8qIC8gKi8sXG4gIEFjdGlvbi5FTkROT1RLLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zTWludXNNaW51czogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uS0lMTDEsIFtcbiAgNjIgLyogPiAqLyxcbiAgQWN0aW9uLkVORE5PVEssXG5dKTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNMdDogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uRU5ELCBbXG4gIDYxIC8qPSovLFxuICBBY3Rpb24uRVFUQUlMLFxuICAzMyAvKiEqLyxcbiAgQWN0aW9uLkxUX0JHLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zTHRCYW5nOiBBY3Rpb25bXSA9IG1ha2VBY3Rpb25zKEFjdGlvbi5LSUxMMSwgW1xuICA0NSAvKi0qLyxcbiAgQWN0aW9uLkxUX0JHX00sXG5dKTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNMdEJhbmdNaW51czogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uS0lMTDIsIFtcbiAgNDUgLyotKi8sXG4gIEFjdGlvbi5FTkROT1RLLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zSWRlbnRFc2NDaHI6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLklERVNDSCwgW1xuICA5IC8qdGFiKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICAxMCAvKkxGKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICAxMyAvKkNSKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICAzMiAvKnNwKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zU3RyMTogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uQ09OVCwgW1xuICAzOSAvKicqLyxcbiAgQWN0aW9uLkVORFNUUixcbiAgMTAgLypMRiovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgMTMgLypDUiovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgOTIgLypcXCovLFxuICBBY3Rpb24uU1RSMUVTQyxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1N0cjI6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLkNPTlQsIFtcbiAgMzQgLypcIiovLFxuICBBY3Rpb24uRU5EU1RSLFxuICAxMCAvKkxGKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICAxMyAvKkNSKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICA5MiAvKlxcKi8sXG4gIEFjdGlvbi5TVFIyRVNDLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zU3RyMUVzYzogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uQ09OVCwgW1xuICAzOSAvKicqLyxcbiAgQWN0aW9uLkVOREVTVFIsXG4gIDEwIC8qTEYqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDEzIC8qQ1IqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDkyIC8qXFwqLyxcbiAgQWN0aW9uLlNUUjFFU0MsXG5dKTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNTdHIyRXNjOiBBY3Rpb25bXSA9IG1ha2VBY3Rpb25zKEFjdGlvbi5DT05ULCBbXG4gIDM0IC8qXCIqLyxcbiAgQWN0aW9uLkVOREVTVFIsXG4gIDEwIC8qTEYqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDEzIC8qQ1IqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDkyIC8qXFwqLyxcbiAgQWN0aW9uLlNUUjJFU0MsXG5dKTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNVUkw6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLlVSTCwgW1xuICA5IC8qdGFiKi8sXG4gIEFjdGlvbi5DT05ULFxuICAzMiAvKnNwKi8sXG4gIEFjdGlvbi5DT05ULFxuICAzNCAvKlwiKi8sXG4gIEFjdGlvbi5VUkwyLFxuICAzOSAvKicqLyxcbiAgQWN0aW9uLlVSTDEsXG4gIDQxIC8qKSovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgMTAgLypMRiovLFxuICBBY3Rpb24uQ09OVCxcbiAgMTMgLypDUiovLFxuICBBY3Rpb24uQ09OVCxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1VSTEluc2lkZTogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uQ09OVCwgW1xuICA0MSAvKikqLyxcbiAgQWN0aW9uLkVORFVSTCxcbiAgOSAvKlRBQiovLFxuICBBY3Rpb24uQ0hLU1AsXG4gIDEwIC8qTEYqLyxcbiAgQWN0aW9uLkNIS1NQLFxuICAxMyAvKkNSKi8sXG4gIEFjdGlvbi5DSEtTUCxcbiAgMzIgLypzcCovLFxuICBBY3Rpb24uQ0hLU1AsXG4gIDkyIC8qXFwqLyxcbiAgQWN0aW9uLlVSTEVTQyxcbiAgNDAgLyooKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICA5MSAvKlsqLyxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIDkzIC8qXSovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgMTIzIC8qeyovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgMTI1IC8qfSovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgTmFOLFxuICBBY3Rpb24uRU5EVVJMLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zVVJMSW5zaWRlMTogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uQ09OVCwgW1xuICAzOSAvKicqLyxcbiAgQWN0aW9uLlRFUk1VUkwsXG4gIDEwIC8qTEYqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDEzIC8qQ1IqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDkyIC8qXFwqLyxcbiAgQWN0aW9uLlVSTEVTQyxcbiAgTmFOLFxuICBBY3Rpb24uRU5EVVJMLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zVVJMSW5zaWRlMjogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uQ09OVCwgW1xuICAzNCAvKlwiKi8sXG4gIEFjdGlvbi5URVJNVVJMLFxuICAxMCAvKkxGKi8sXG4gIEFjdGlvbi5DSEtQT1NOLFxuICAxMyAvKkNSKi8sXG4gIEFjdGlvbi5DSEtQT1NOLFxuICA5MiAvKlxcKi8sXG4gIEFjdGlvbi5VUkxFU0MsXG4gIE5hTixcbiAgQWN0aW9uLkVORFVSTCxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1VSTFRhaWw6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLklOVkFMSUQsIFtcbiAgOSAvKnRhYiovLFxuICBBY3Rpb24uQ09OVCxcbiAgMTAgLypMRiovLFxuICBBY3Rpb24uQ09OVCxcbiAgMTMgLypDUiovLFxuICBBY3Rpb24uQ09OVCxcbiAgMzIgLypzcCovLFxuICBBY3Rpb24uQ09OVCxcbiAgNDEgLyopKi8sXG4gIEFjdGlvbi5GSU5VUkwsXG5dKTtcblxuZXhwb3J0IGNvbnN0IElOSVRJQUxfSU5ERVhfTUFTSyA9IDE1O1xuXG5leHBvcnQgY2xhc3MgVG9rZW5pemVyIHtcbiAgaW5kZXhNYXNrOiBudW1iZXI7XG4gIGJ1ZmZlcjogVG9rZW5bXTtcbiAgaGVhZDogbnVtYmVyID0gLTE7IC8vIHNhdmVkLCBvY2N1cGllZCBpZiA+PSAwXG4gIHRhaWw6IG51bWJlciA9IDA7IC8vIGF2YWlsYWJsZSwgcmVhZHkgdG8gd3JpdGVcbiAgY3VycjogbnVtYmVyID0gMDsgLy8gcmVhZHkgdG8gcmVhZFxuICBwb3NpdGlvbjogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgaW5wdXQ6IHN0cmluZywgcHVibGljIHJlYWRvbmx5IGhhbmRsZXI6IFRva2VuaXplckhhbmRsZXIpIHtcbiAgICB0aGlzLmluZGV4TWFzayA9IElOSVRJQUxfSU5ERVhfTUFTSztcbiAgICB0aGlzLmJ1ZmZlciA9IEFycmF5KHRoaXMuaW5kZXhNYXNrICsgMSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy5pbmRleE1hc2s7IGkrKykge1xuICAgICAgdGhpcy5idWZmZXJbaV0gPSBuZXcgVG9rZW4oKTtcbiAgICB9XG4gIH1cblxuICB0b2tlbigpOiBUb2tlbiB7XG4gICAgaWYgKHRoaXMudGFpbCA9PSB0aGlzLmN1cnIpIHtcbiAgICAgIHRoaXMuZmlsbEJ1ZmZlcigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5jdXJyXTtcbiAgfVxuXG4gIG50aFRva2VuKG46IG51bWJlcik6IFRva2VuIHtcbiAgICBpZiAoKCh0aGlzLnRhaWwgLSB0aGlzLmN1cnIpICYgdGhpcy5pbmRleE1hc2spIDw9IG4pIHtcbiAgICAgIHRoaXMuZmlsbEJ1ZmZlcigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5idWZmZXJbKHRoaXMuY3VyciArIG4pICYgdGhpcy5pbmRleE1hc2tdO1xuICB9XG5cbiAgY29uc3VtZSgpOiB2b2lkIHtcbiAgICB0aGlzLmN1cnIgPSAodGhpcy5jdXJyICsgMSkgJiB0aGlzLmluZGV4TWFzaztcbiAgfVxuXG4gIG1hcmsoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaGVhZCA+PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGX0NTU1RPS19CQURfQ0FMTCBtYXJrXCIpO1xuICAgIH1cbiAgICB0aGlzLmhlYWQgPSB0aGlzLmN1cnI7XG4gIH1cblxuICByZXNldCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5oZWFkIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRl9DU1NUT0tfQkFEX0NBTEwgcmVzZXRcIik7XG4gICAgfVxuICAgIHRoaXMuY3VyciA9IHRoaXMuaGVhZDtcbiAgICB0aGlzLmhlYWQgPSAtMTtcbiAgfVxuXG4gIHVubWFyaygpOiB2b2lkIHtcbiAgICB0aGlzLmhlYWQgPSAtMTtcbiAgfVxuXG4gIGhhc01hcmsoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaGVhZCA+PSAwO1xuICB9XG5cbiAgcHJpdmF0ZSByZWFsbG9jYXRlKCk6IHZvaWQge1xuICAgIGNvbnN0IG5ld0luZGV4TWFzayA9IDIgKiAodGhpcy5pbmRleE1hc2sgKyAxKSAtIDE7XG4gICAgY29uc3QgbmV3QnVmZmVyOiBUb2tlbltdID0gQXJyYXkobmV3SW5kZXhNYXNrICsgMSk7XG4gICAgbGV0IG9sZEluZGV4ID0gdGhpcy5oZWFkO1xuICAgIGxldCBuZXdJbmRleCA9IDA7XG4gICAgd2hpbGUgKG9sZEluZGV4ICE9IHRoaXMudGFpbCkge1xuICAgICAgbmV3QnVmZmVyW25ld0luZGV4XSA9IHRoaXMuYnVmZmVyW29sZEluZGV4XTtcbiAgICAgIGlmIChvbGRJbmRleCA9PSB0aGlzLmN1cnIpIHtcbiAgICAgICAgdGhpcy5jdXJyID0gbmV3SW5kZXg7XG4gICAgICB9XG4gICAgICBvbGRJbmRleCA9IChvbGRJbmRleCArIDEpICYgdGhpcy5pbmRleE1hc2s7XG4gICAgICBuZXdJbmRleCsrO1xuICAgIH1cbiAgICB0aGlzLmhlYWQgPSAwO1xuICAgIHRoaXMudGFpbCA9IG5ld0luZGV4O1xuICAgIHRoaXMuaW5kZXhNYXNrID0gbmV3SW5kZXhNYXNrO1xuICAgIHRoaXMuYnVmZmVyID0gbmV3QnVmZmVyO1xuICAgIHdoaWxlIChuZXdJbmRleCA8PSBuZXdJbmRleE1hc2spIHtcbiAgICAgIG5ld0J1ZmZlcltuZXdJbmRleCsrXSA9IG5ldyBUb2tlbigpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZXJyb3IocG9zaXRpb24sIHRva2VuLCBtbmVtb25pY3MpIHtcbiAgICBpZiAodGhpcy5oYW5kbGVyKSB7XG4gICAgICB0aGlzLmhhbmRsZXIuZXJyb3IobW5lbW9uaWNzLCB0b2tlbik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBmaWxsQnVmZmVyKCk6IHZvaWQge1xuICAgIGxldCB0YWlsID0gdGhpcy50YWlsO1xuICAgIGxldCBoZWFkID0gdGhpcy5oZWFkID49IDAgPyB0aGlzLmhlYWQgOiB0aGlzLmN1cnI7XG4gICAgbGV0IGluZGV4TWFzayA9IHRoaXMuaW5kZXhNYXNrO1xuICAgIGlmICh0YWlsID49IGhlYWQpIHtcbiAgICAgIGhlYWQgKz0gaW5kZXhNYXNrO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkLS07XG4gICAgfVxuICAgIGlmIChoZWFkID09IHRhaWwpIHtcbiAgICAgIC8vIG9ubHkgZXhwZWN0IHRvIGdldCBoZXJlIHdoZW4gbWFyayBpcyBpbiBlZmZlY3RcbiAgICAgIGlmICh0aGlzLmhlYWQgPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZfQ1NTVE9LX0lOVEVSTkFMXCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5yZWFsbG9jYXRlKCk7XG4gICAgICB0YWlsID0gdGhpcy50YWlsO1xuICAgICAgaW5kZXhNYXNrID0gdGhpcy5pbmRleE1hc2s7XG4gICAgICBoZWFkID0gaW5kZXhNYXNrOyAvLyB0aGlzLmhlYWQgaXMgemVyb1xuICAgIH1cbiAgICBsZXQgYWN0aW9ucyA9IGFjdGlvbnNOb3JtYWw7XG4gICAgY29uc3QgaW5wdXQgPSB0aGlzLmlucHV0O1xuICAgIGxldCBwb3NpdGlvbiA9IHRoaXMucG9zaXRpb247XG4gICAgY29uc3QgYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgbGV0IHRva2VuVHlwZTogVG9rZW5UeXBlID0gVG9rZW5UeXBlLkVPRjtcbiAgICBsZXQgdG9rZW5Qb3NpdGlvbjogbnVtYmVyID0gMDtcbiAgICBsZXQgdG9rZW5UZXh0OiBzdHJpbmcgPSBcIlwiO1xuICAgIGxldCB0b2tlbk51bTogbnVtYmVyID0gMDtcbiAgICBsZXQgc2VlblNwYWNlID0gZmFsc2U7XG4gICAgbGV0IHRva2VuOiBUb2tlbiA9IGJ1ZmZlclt0YWlsXTtcbiAgICBsZXQgYmFja3NsYXNoUG9zID0gLTk7IC8vIGZhciBlbm91Z2ggYmVmb3JlIHRoZSBzdGFydCBvZiB0aGUgc3RyaW5nXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IGNoYXJDb2RlID0gaW5wdXQuY2hhckNvZGVBdChwb3NpdGlvbik7XG4gICAgICBzd2l0Y2ggKGFjdGlvbnNbY2hhckNvZGVdIHx8IGFjdGlvbnNbNjVdIC8qQSovKSB7XG4gICAgICAgIGNhc2UgQWN0aW9uLklOVkFMSUQ6XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLklOVkFMSUQ7XG4gICAgICAgICAgaWYgKGlzTmFOKGNoYXJDb2RlKSkge1xuICAgICAgICAgICAgdG9rZW5UZXh0ID0gXCJFX0NTU19VTkVYUEVDVEVEX0VPRlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b2tlblRleHQgPSBcIkVfQ1NTX1VORVhQRUNURURfQ0hBUlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc05vcm1hbDtcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5TUEFDRTpcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIHNlZW5TcGFjZSA9IHRydWU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLklOVDpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0ludDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uSURFTlQ6XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLklERU5UO1xuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zSWRlbnQ7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkJBTkc6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkJBTkc7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNDaGVja0VxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TVFIxOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5TVFI7XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9ICsrcG9zaXRpb247IC8vIGFmdGVyIHF1b3RlXG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNTdHIxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TVFIyOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5TVFI7XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9ICsrcG9zaXRpb247IC8vIGFmdGVyIHF1b3RlXG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNTdHIyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5IQVNIOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSArK3Bvc2l0aW9uOyAvLyBhZnRlciBoYXNoXG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkhBU0g7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNJZGVudDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uRE9MTEFSOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5ET0xMQVI7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNDaGVja0VxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5QRVJDRU5UOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5QRVJDRU5UO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5BTVA6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkRPTExBUjtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0FtcDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uT19QQVI6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLk9fUEFSO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5DX1BBUjpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuQ19QQVI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNUQVI6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLlNUQVI7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNDaGVja0VxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5QTFVTOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5QTFVTO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5DT01NQTpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuQ09NTUE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLk1JTlVTOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5NSU5VUztcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc01pbnVzO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5ET1Q6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNOdW1PckNsYXNzO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5UT0NMQVNTOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5DTEFTUztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0lkZW50O1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TTEFTSDpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuU0xBU0g7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNTbGFzaDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uQ09MT046XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkNPTE9OO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zQ29sb247XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkNPTF9DT0w6XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuQ09MX0NPTDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VNSUNPTDpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuU0VNSUNPTDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uTFQ6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkxUO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zTHQ7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVROlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5FUTtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0NoZWNrRXE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkdUOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5HVDtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0NoZWNrRXE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlFNQVJLOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5RTUFSSztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uQVQ6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9ICsrcG9zaXRpb247IC8vIGFmdGVyIFwiYXRcIiBzaWduXG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkFUO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zSWRlbnQ7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLk9fQlJLOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5PX0JSSztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uQ19CUks6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkNfQlJLO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5PX0JSQzpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuT19CUkM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkNfQlJDOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5DX0JSQztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uQlNMQVNIOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIGJhY2tzbGFzaFBvcyA9IHRva2VuUG9zaXRpb247XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLklERU5UO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zSWRlbnRFc2NDaHI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkhBVDpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuSEFUO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zQ2hlY2tFcTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uQkFSOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5CQVI7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNCYXI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlRJTERFOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5USUxERTtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0NoZWNrRXE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVORDpcbiAgICAgICAgICAvLyBkb24ndCBjb25zdW1lIGN1cnJlbnQgY2hhclxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5FUVRBSUw6XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSAodG9rZW5UeXBlICtcbiAgICAgICAgICAgIFRva2VuVHlwZS5CQU5HX0VRIC1cbiAgICAgICAgICAgIFRva2VuVHlwZS5CQU5HKSBhcyBUb2tlblR5cGU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVORElOVDpcbiAgICAgICAgICAvLyBkb24ndCBjb25zdW1lIGN1cnJlbnQgY2hhclxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5JTlQ7XG4gICAgICAgICAgdG9rZW5OdW0gPSBwYXJzZUludChpbnB1dC5zdWJzdHJpbmcodG9rZW5Qb3NpdGlvbiwgcG9zaXRpb24pLCAxMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVORE5VTTpcbiAgICAgICAgICAvLyBkb24ndCBjb25zdW1lIGN1cnJlbnQgY2hhclxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5OVU07XG4gICAgICAgICAgdG9rZW5OdW0gPSBwYXJzZUZsb2F0KGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5DT05UOlxuICAgICAgICAgIC8vIGp1c3QgY29uc3VtZSBjdXJyZW50IGNoYXJcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5VTklUOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5OVU1FUklDO1xuICAgICAgICAgIHRva2VuTnVtID0gcGFyc2VGbG9hdChpbnB1dC5zdWJzdHJpbmcodG9rZW5Qb3NpdGlvbiwgcG9zaXRpb24pKTtcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0lkZW50O1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5QQ1VOSVQ6XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLk5VTUVSSUM7XG4gICAgICAgICAgdG9rZW5OdW0gPSBwYXJzZUZsb2F0KGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbikpO1xuICAgICAgICAgIHRva2VuVGV4dCA9IFwiJVwiO1xuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrOyAvLyBmb3IgY29uc2lzdGVuY3kgd2l0aCBhbHBoYWJldGljIHVuaXRzXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLk5VTUJFUjpcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zTnVtYmVyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FTkRJRE5UOlxuICAgICAgICAgIC8vIGRvbid0IGNvbnN1bWUgY3VycmVudCBjaGFyXG4gICAgICAgICAgLy8gdG9rZW5UeXBlIHNob3VsZCBiZSBzZXQgYWxyZWFkeVxuICAgICAgICAgIHRva2VuVGV4dCA9IGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLklETlRFU0M6XG4gICAgICAgICAgYmFja3NsYXNoUG9zID0gcG9zaXRpb24rKztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0lkZW50RXNjQ2hyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FTkRJREVTOlxuICAgICAgICAgIC8vIGVuZCBvZiBpZGVudGlmaWVyIHdpdGggZXNjYXBlc1xuICAgICAgICAgIC8vIGRvbid0IGNvbnN1bWUgY3VycmVudCBjaGFyXG4gICAgICAgICAgLy8gdG9rZW5UeXBlIHNob3VsZCBiZSBzZXQgYWxyZWFkeVxuICAgICAgICAgIHRva2VuVGV4dCA9IGVzY2FwZVBhcnNlKGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5FTkRTVFI6XG4gICAgICAgICAgdG9rZW5UZXh0ID0gaW5wdXQuc3Vic3RyaW5nKHRva2VuUG9zaXRpb24sIHBvc2l0aW9uKTsgLy8gY29uc3VtZSBjbG9zaW5nIHF1b3RlXG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uRU5ERVNUUjpcbiAgICAgICAgICB0b2tlblRleHQgPSBlc2NhcGVQYXJzZShpbnB1dC5zdWJzdHJpbmcodG9rZW5Qb3NpdGlvbiwgcG9zaXRpb24pKTsgLy8gY29uc3VtZSBjbG9zaW5nIHF1b3RlXG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uU1RSMUVTQzpcbiAgICAgICAgICBiYWNrc2xhc2hQb3MgPSBwb3NpdGlvbjtcbiAgICAgICAgICBwb3NpdGlvbiArPSAyOyAvLyBjb25zdW1lIGNoYXJhY3RlciBhZnRlciBiYWNrc2xhc2ggaW4gYW55IGNhc2VcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc1N0cjFFc2M7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNUUjJFU0M6XG4gICAgICAgICAgYmFja3NsYXNoUG9zID0gcG9zaXRpb247XG4gICAgICAgICAgcG9zaXRpb24gKz0gMjsgLy8gY29uc3VtZSBjaGFyYWN0ZXIgYWZ0ZXIgYmFja3NsYXNoIGluIGFueSBjYXNlXG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNTdHIyRXNjO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5CQVJfQkFSOlxuICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkJBUl9CQVI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkFNUF9BTVA6XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuQU1QX0FNUDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uRlVOQzpcbiAgICAgICAgICAvLyB0b2tlblR5cGUgY2FuIGJlIFRva2VuVHlwZS5JREVOVCxcbiAgICAgICAgICAvLyBUb2tlblR5cGUuQ0xBU1MsIFRva2VuVHlwZS5BVCxcbiAgICAgICAgICAvLyBUb2tlblR5cGUuSEFTSCwgVG9rZW5UeXBlLk5VTUVSSUNcbiAgICAgICAgICB0b2tlblRleHQgPSBpbnB1dC5zdWJzdHJpbmcodG9rZW5Qb3NpdGlvbiwgcG9zaXRpb24pO1xuICAgICAgICAgIGlmICh0b2tlblR5cGUgPT0gVG9rZW5UeXBlLklERU5UKSB7XG4gICAgICAgICAgICBwb3NpdGlvbisrOyAvLyBjb25zdW1lXG4gICAgICAgICAgICBpZiAodG9rZW5UZXh0LnRvTG93ZXJDYXNlKCkgPT0gXCJ1cmxcIikge1xuICAgICAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc1VSTDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuRlVOQztcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkZVTkNFUzpcbiAgICAgICAgICAvLyB0b2tlblR5cGUgY2FuIGJlIFRva2VuVHlwZS5JREVOVCxcbiAgICAgICAgICAvLyBUb2tlblR5cGUuQ0xBU1MsIFRva2VuVHlwZS5BVCxcbiAgICAgICAgICAvLyBUb2tlblR5cGUuSEFTSCwgVF9OVU1FUklDXG4gICAgICAgICAgdG9rZW5UZXh0ID0gZXNjYXBlUGFyc2UoaW5wdXQuc3Vic3RyaW5nKHRva2VuUG9zaXRpb24sIHBvc2l0aW9uKSk7XG4gICAgICAgICAgaWYgKHRva2VuVHlwZSA9PSBUb2tlblR5cGUuSURFTlQpIHtcbiAgICAgICAgICAgIHBvc2l0aW9uKys7IC8vIGNvbnN1bWVcbiAgICAgICAgICAgIGlmICh0b2tlblRleHQudG9Mb3dlckNhc2UoKSA9PSBcInVybFwiKSB7XG4gICAgICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zVVJMO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5GVU5DO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uQ09NTUVOVDpcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0NvbW1lbnQ7XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uQ09NTVNUOlxuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zQ29tbWVudFN0YXI7XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uRU5ETk9USzpcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc05vcm1hbDtcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5NSU5NSU46XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNNaW51c01pbnVzO1xuICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlRPSU5UOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5JTlQ7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNJbnQ7XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVE9OVU06XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLk5VTTtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc051bWJlcjtcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5UT0lERU5UOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5JREVOVDtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0lkZW50O1xuICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlRPSURFUzpcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuSURFTlQ7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNJZGVudEVzY0NocjtcbiAgICAgICAgICBiYWNrc2xhc2hQb3MgPSBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5LSUxMMTpcbiAgICAgICAgICBwb3NpdGlvbi0tO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5LSUxMMjpcbiAgICAgICAgICBwb3NpdGlvbiAtPSAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5VUkw6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNVUkxJbnNpZGU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlVSTDE6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9ICsrcG9zaXRpb247IC8vIHNraXAgcXVvdGVcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc1VSTEluc2lkZTE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlVSTDI6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9ICsrcG9zaXRpb247IC8vIHNraXAgcXVvdGVcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc1VSTEluc2lkZTI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVORFVSTDpcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuVVJMO1xuICAgICAgICAgIHRva2VuVGV4dCA9IGVzY2FwZVBhcnNlKGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbikpO1xuICAgICAgICAgIHBvc2l0aW9uKys7IC8vIHNraXAgJyknXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkZJTlVSTDpcbiAgICAgICAgICBwb3NpdGlvbisrOyAvLyBza2lwICcpJ1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5MVF9CRzpcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0x0QmFuZztcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5MVF9CR19NOlxuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zTHRCYW5nTWludXM7XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uQ0hLU1A6XG4gICAgICAgICAgLy8gbmV3bGluZSBpbiBub24tcXVvdGVkIFVSTCAtIGNoZWNrIGlmIGVuZCBvZiB1cmxcbiAgICAgICAgICBpZiAocG9zaXRpb24gLSBiYWNrc2xhc2hQb3MgPCA4KSB7XG4gICAgICAgICAgICAvLyBjbG9zZSBlbm91Z2g6IG1heSBiZSB2YWxpZFxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBpbnB1dFxuICAgICAgICAgICAgICAgIC5zdWJzdHJpbmcoYmFja3NsYXNoUG9zICsgMSwgcG9zaXRpb24gKyAxKVxuICAgICAgICAgICAgICAgIC5tYXRjaCgvXlswLTlhLWZBLUZdezAsNn0oXFxyXFxufFtcXG5cXHJdKXxbIFxcdF0kLylcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAvLyB2YWxpZCwga2VlcCBnb2luZ1xuICAgICAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgLy8gZW5kIG9mIHVybFxuICAgICAgICAvLyBmYWxsIHRocm91Z2hcbiAgICAgICAgY2FzZSBBY3Rpb24uVEVSTVVSTDpcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuVVJMO1xuICAgICAgICAgIHRva2VuVGV4dCA9IGVzY2FwZVBhcnNlKGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbikpO1xuICAgICAgICAgIHBvc2l0aW9uKys7IC8vIHNraXAgcXVvdGUgKG9yIG5ld2xpbmUpXG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNVUkxUYWlsO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5DSEtQT1NOOlxuICAgICAgICAgIC8vIG5ld2xpbmUgaW4gc3RyaW5nIG9yIHF1b3RlZCBVUkwgLSBjaGVjayB2YWxpZGl0eVxuICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgICAgaWYgKHBvc2l0aW9uIC0gYmFja3NsYXNoUG9zIDwgOSkge1xuICAgICAgICAgICAgLy8gY2xvc2UgZW5vdWdoOiBtYXkgYmUgdmFsaWRcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgaW5wdXRcbiAgICAgICAgICAgICAgICAuc3Vic3RyaW5nKGJhY2tzbGFzaFBvcyArIDEsIHBvc2l0aW9uKVxuICAgICAgICAgICAgICAgIC5tYXRjaCgvXlswLTlhLWZBLUZdezAsNn0oXFxyXFxufFtcXG5cXHJdKSQvKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIC8vIHZhbGlkLCBrZWVwIGdvaW5nXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGludmFsaWQgdG9rZW5cbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuSU5WQUxJRDtcbiAgICAgICAgICB0b2tlblRleHQgPSBcIkVfQ1NTX1VORVhQRUNURURfTkVXTElORVwiO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zTm9ybWFsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5DSEtQT1NTOlxuICAgICAgICAgIC8vIHNwYWNlIGluIGlkZW50aWZpZXIgLSBjaGVjayB2YWxpZGl0eVxuICAgICAgICAgIGlmIChwb3NpdGlvbiAtIGJhY2tzbGFzaFBvcyA8IDkpIHtcbiAgICAgICAgICAgIC8vIGNsb3NlIGVub3VnaDogbWF5IGJlIHZhbGlkXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGlucHV0XG4gICAgICAgICAgICAgICAgLnN1YnN0cmluZyhiYWNrc2xhc2hQb3MgKyAxLCBwb3NpdGlvbiArIDEpXG4gICAgICAgICAgICAgICAgLm1hdGNoKC9eWzAtOWEtZkEtRl17MCw2fVsgXFx0XSQvKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIC8vIHZhbGlkLCBrZWVwIGdvaW5nXG4gICAgICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGVuZCBvZiBpZGVudGlmaWVyXG4gICAgICAgICAgLy8gZG9uJ3QgY29uc3VtZSBjdXJyZW50IGNoYXJcbiAgICAgICAgICAvLyB0b2tlblR5cGUgc2hvdWxkIGJlIHNldCBhbHJlYWR5XG4gICAgICAgICAgdG9rZW5UZXh0ID0gZXNjYXBlUGFyc2UoaW5wdXQuc3Vic3RyaW5nKHRva2VuUG9zaXRpb24sIHBvc2l0aW9uKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLlVSTEVTQzpcbiAgICAgICAgICBiYWNrc2xhc2hQb3MgPSBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5JREVTQ0g6XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0lkZW50RXNjO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIEVPRlxuICAgICAgICAgIGlmIChhY3Rpb25zICE9PSBhY3Rpb25zTm9ybWFsKSB7XG4gICAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuSU5WQUxJRDtcbiAgICAgICAgICAgIHRva2VuVGV4dCA9IFwiRV9DU1NfVU5FWFBFQ1RFRF9TVEFURVwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuRU9GO1xuICAgICAgfVxuICAgICAgdG9rZW4udHlwZSA9IHRva2VuVHlwZTtcbiAgICAgIHRva2VuLnByZWNlZGVkQnlTcGFjZSA9IHNlZW5TcGFjZTtcbiAgICAgIHRva2VuLm51bSA9IHRva2VuTnVtO1xuICAgICAgdG9rZW4udGV4dCA9IHRva2VuVGV4dDtcbiAgICAgIHRva2VuLnBvc2l0aW9uID0gdG9rZW5Qb3NpdGlvbjtcbiAgICAgIHRhaWwrKztcbiAgICAgIGlmICh0YWlsID49IGhlYWQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBhY3Rpb25zID0gYWN0aW9uc05vcm1hbDtcbiAgICAgIHNlZW5TcGFjZSA9IGZhbHNlO1xuICAgICAgdG9rZW4gPSBidWZmZXJbdGFpbCAmIGluZGV4TWFza107XG4gICAgfVxuICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICB0aGlzLnRhaWwgPSB0YWlsICYgaW5kZXhNYXNrO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFRhc2sgLSBTdXBwb3J0IGZvciBhc3luY2hyb25vdXMgZXhlY3V0aW9uIGFuZCBjb29wZXJhdGl2ZVxuICogbXVsdGl0YXNraW5nLlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuXG4vKipcbiAqIEV4dGVybmFsIHRpbWVyLiBPbmx5IG5lZWRlZCBmb3IgdGVzdGluZy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUaW1lciB7XG4gIC8qKlxuICAgKiBAcmV0dXJuIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMuXG4gICAqL1xuICBjdXJyZW50VGltZSgpOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIENhbGxzIGZ1bmN0aW9uIGFmdGVyIGEgZ2l2ZW4gdGltZW91dC5cbiAgICogQHBhcmFtIGZuIGZ1bmN0aW9uIHRvIGNhbGwuXG4gICAqIEBwYXJhbSBkZWxheSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcy5cbiAgICogQHJldHVybiB1bmlxdWUgbnVtYmVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2xlYXIgdGhlIHRpbWVvdXQuXG4gICAqL1xuICBzZXRUaW1lb3V0KGZuOiAoKSA9PiB2b2lkLCBkZWxheTogbnVtYmVyKTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBDYWxscyBmdW5jdGlvbiBhZnRlciBhIGdpdmVuIHRpbWVvdXQuXG4gICAqIEBwYXJhbSB0b2tlbiB0aW1lb3V0IHRva2VuLlxuICAgKiBAcmV0dXJuLlxuICAgKi9cbiAgY2xlYXJUaW1lb3V0KHRva2VuOiBudW1iZXIpOiB2b2lkO1xufVxuXG4vKipcbiAqIFJlc3VsdCBvZiBhbiBhc3luY2hyb25vdXMgZnVuY3Rpb24gdGhhdCBtYXkgYmUgYXZhaWxhYmxlIGltbWVkaWF0ZWx5IG9yXG4gKiBzb21lIHRpbWUgbGF0ZXIuIFNpbWlsYXIgdG8gRGVmZXJyZWQuXG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3VsdDxUPiB7XG4gIC8qKlxuICAgKiBDYWxsIHRoZSBnaXZlbiBmdW5jdGlvbiB3aGVuIGFzeW5jaHJvbm91cyBmdW5jdGlvbiBpcyBmaW5pc2hlZC4gQ2FsbGJhY2tcbiAgICogaXMgZXhlY3V0ZWQgaW4gdGhlIHRhc2sncyBjb250ZXh0LlxuICAgKi9cbiAgdGhlbihjYWxsYmFjazogKHAxOiBUKSA9PiB2b2lkKTogdm9pZDtcblxuICAvKipcbiAgICogQ2FsbCB0aGUgZ2l2ZW4gYXN5bmNocm9ub3VzIGZ1bmN0aW9uIHdoZW4gc29tZSBhc3luY2hyb25vdXMgZnVuY3Rpb24gaXNcbiAgICogZmluaXNoZWQuIENhbGxiYWNrIGlzIGV4ZWN1dGVkIGluIHRoZSB0YXNrJ3MgY29udGV4dC5cbiAgICogQHRlbXBsYXRlIFQxXG4gICAqL1xuICB0aGVuQXN5bmM8VDE+KGNhbGxiYWNrOiAocDE6IFQpID0+IFJlc3VsdDxUMT4pOiBSZXN1bHQ8VDE+O1xuXG4gIC8qKlxuICAgKiBQcm9kdWNlIGEgUmVzdWx0IHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGdpdmVuIHZhbHVlIHdoZW4gdGhpcyBSZXN1bHQgaXNcbiAgICogcmVzb2x2ZWQuXG4gICAqIEB0ZW1wbGF0ZSBUMVxuICAgKi9cbiAgdGhlblJldHVybjxUMT4ocmVzdWx0OiBUMSk6IFJlc3VsdDxUMT47XG5cbiAgLyoqXG4gICAqIEZpbmlzaCBnaXZlbiBmcmFtZSB3aXRoIHRoZSByZXN1bHQgdmFsdWUgd2hlbiByZXN1bHQgYmVjb21lcyByZWFkeS5cbiAgICovXG4gIHRoZW5GaW5pc2goZnJhbWU6IEZyYW1lPFQ+KTogdm9pZDtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhpcyBSZXN1bHQgaXMgc3RpbGwgcGVuZGluZy5cbiAgICovXG4gIGlzUGVuZGluZygpOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBJZiB0aGlzIFJlc3VsdCBpcyByZXNvbHZlZCwgcmV0dXJuIHRoZSB2YWx1ZSB0aGF0IGl0IGhvbGRzLlxuICAgKi9cbiAgZ2V0KCk6IFQgfCBudWxsO1xufVxuXG5leHBvcnQgbGV0IHByaXZhdGVDdXJyZW50VGFzazogVGFzayB8IG51bGwgPSBudWxsO1xuXG5leHBvcnQgbGV0IHByaW1hcnlTY2hlZHVsZXI6IFNjaGVkdWxlciB8IG51bGwgPSBudWxsO1xuXG4vKipcbiAqIFJldHVybnMgY3VycmVudCB0YXNrLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3VycmVudFRhc2soKTogVGFzayB8IG51bGwge1xuICByZXR1cm4gcHJpdmF0ZUN1cnJlbnRUYXNrO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhbmQgcmV0dXJuIGEgbmV3IGZyYW1lIHdpdGggdGhlIGdpdmVuIG5hbWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuZXdGcmFtZTxUPihuYW1lOiBzdHJpbmcpOiBGcmFtZTxUPiB7XG4gIGlmICghcHJpdmF0ZUN1cnJlbnRUYXNrKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9UQVNLX05PX0NPTlRFWFRcIik7XG4gIH1cbiAgaWYgKCFwcml2YXRlQ3VycmVudFRhc2submFtZSkge1xuICAgIHByaXZhdGVDdXJyZW50VGFzay5uYW1lID0gbmFtZTtcbiAgfVxuICBjb25zdCB0YXNrID0gcHJpdmF0ZUN1cnJlbnRUYXNrO1xuICBjb25zdCBmcmFtZSA9IG5ldyBGcmFtZTxUPih0YXNrLCB0YXNrLnRvcCwgbmFtZSk7XG4gIHRhc2sudG9wID0gZnJhbWU7XG4gIGZyYW1lLnN0YXRlID0gRnJhbWVTdGF0ZS5BQ1RJVkU7XG4gIHJldHVybiBmcmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5ld0V2ZW50U291cmNlKCk6IEV2ZW50U291cmNlIHtcbiAgcmV0dXJuIG5ldyBFdmVudFNvdXJjZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3U2NoZWR1bGVyKG9wdF90aW1lcj86IFRpbWVyKTogU2NoZWR1bGVyIHtcbiAgcmV0dXJuIG5ldyBTY2hlZHVsZXIob3B0X3RpbWVyIHx8IG5ldyBUaW1lckltcGwoKSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5ld1Jlc3VsdDxUPihvcHRfdmFsdWU6IFQpOiBSZXN1bHQ8VD4ge1xuICByZXR1cm4gbmV3IFN5bmNSZXN1bHRJbXBsPFQ+KG9wdF92YWx1ZSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmcmFtZSBhbmQgcnVucyBjb2RlIGluIGl0cyBjb250ZXh0LCBjYXRjaGluZyBzeW5jaHJvbm91cyBhbmRcbiAqIGFzeW5jaHJvbm91cyBlcnJvcnMuIElmIGFuIGVycm9yIG9jY3Vycywgb25FcnIgaXMgcnVuIChpbiB0aGUgY29udGV4dCBvZlxuICogdGhlIHNhbWUgZnJhbWUpLiBBcyB1c3VhbCwgb25FcnIgaXMgc3VwcG9zZWQgZWl0aGVyIHByb2R1Y2UgYSByZXN1bHQgb3IgcmFpc2VcbiAqIGFuIGV4Y2VwdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZTxUPihcbiAgbmFtZTogYW55LFxuICBjb2RlOiAocDE6IEZyYW1lPFQ+KSA9PiB2b2lkLFxuICBvbkVycjogKHAxOiBGcmFtZTxUPiwgcDI6IEVycm9yKSA9PiB2b2lkLFxuKTogUmVzdWx0PFQ+IHtcbiAgY29uc3QgZnJhbWUgPSBuZXdGcmFtZTxUPihuYW1lKTtcbiAgZnJhbWUuaGFuZGxlciA9IG9uRXJyO1xuICB0cnkge1xuICAgIGNvZGUoZnJhbWUpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBzeW5jaHJvbm91cyBleGNlcHRpb25cbiAgICBmcmFtZS50YXNrLnJhaXNlKGVyciwgZnJhbWUpO1xuICB9XG4gIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0PFQ+KGZ1bmM6ICgpID0+IFJlc3VsdDxUPiwgb3B0X25hbWU/OiBzdHJpbmcpOiBUYXNrIHtcbiAgY29uc3Qgc2NoZWR1bGVyID0gcHJpdmF0ZUN1cnJlbnRUYXNrXG4gICAgPyBwcml2YXRlQ3VycmVudFRhc2suZ2V0U2NoZWR1bGVyKClcbiAgICA6IHByaW1hcnlTY2hlZHVsZXIgfHwgbmV3U2NoZWR1bGVyKCk7XG4gIHJldHVybiBzY2hlZHVsZXIucnVuKGZ1bmMsIG9wdF9uYW1lKTtcbn1cblxuLyoqXG4gKiBGcmFtZSBzdGF0ZS5cbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBlbnVtIEZyYW1lU3RhdGUge1xuICBJTklULCAvLyBiZWZvcmUgbmV3RnJhbWUgY2FsbFxuICBBQ1RJVkUsIC8vIGJlZm9yZSBmaW5pc2ggY2FsbFxuICBGSU5JU0hFRCwgLy8gYmVmb3JlIGNhbGxiYWNrIGNvbXBsZXRlXG4gIERFQUQsIC8vIHdoZW4gY2FsbGJhY2sgaXMgY29tcGxldGVcbn1cbmV4cG9ydCBjbGFzcyBUaW1lckltcGwgaW1wbGVtZW50cyBUaW1lciB7XG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGN1cnJlbnRUaW1lKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkudmFsdWVPZigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2V0VGltZW91dChmbjogKCkgPT4gdm9pZCwgZGVsYXk6IG51bWJlcikge1xuICAgIC8vIEhBQ0s6IGNhc3RpbmcgdG8gdW5rbm93biB0eXBlIHRvIHByZXZlbnQgVHlwZVNjcmlwdCBlcnJvclxuICAgIC8vIFtUUzIzNTJdIENvbnZlcnNpb24gb2YgdHlwZSAnVGltZXInIHRvIHR5cGUgJ251bWJlcicgbWF5IGJlIGEgbWlzdGFrZSBiZWNhdXNlIG5laXRoZXIgdHlwZSBzdWZmaWNpZW50bHkgb3ZlcmxhcHMgd2l0aCB0aGUgb3RoZXIuXG4gICAgY29uc3QgdGltZXI6IHVua25vd24gPSBzZXRUaW1lb3V0KGZuLCBkZWxheSk7XG4gICAgcmV0dXJuIHRpbWVyIGFzIG51bWJlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNsZWFyVGltZW91dCh0b2tlbjogbnVtYmVyKTogdm9pZCB7XG4gICAgY2xlYXJUaW1lb3V0KHRva2VuKTtcbiAgfVxufVxuXG4vKipcbiAqIEEgY2xhc3MgdG8gY3JlYXRlIHRhc2tzLlxuICovXG5leHBvcnQgY2xhc3MgU2NoZWR1bGVyIHtcbiAgdGltZW91dDogbnVtYmVyID0gMTtcbiAgc2xpY2U6IG51bWJlciA9IDI1O1xuICBzbGljZU92ZXJUaW1lOiBudW1iZXIgPSAwO1xuICBxdWV1ZTogQmFzZS5Qcmlvcml0eVF1ZXVlO1xuICB3YWtldXBUaW1lOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgdGltZW91dFRva2VuOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgaW5UaW1lU2xpY2U6IGJvb2xlYW4gPSBmYWxzZTtcbiAgb3JkZXI6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHRpbWVyOiBUaW1lcikge1xuICAgIHRoaXMucXVldWUgPSBuZXcgQmFzZS5Qcmlvcml0eVF1ZXVlKCk7XG4gICAgaWYgKCFwcmltYXJ5U2NoZWR1bGVyKSB7XG4gICAgICBwcmltYXJ5U2NoZWR1bGVyID0gdGhpcztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aW1lIHNsaWNlIGxlbmd0aC5cbiAgICogQHBhcmFtIHNsaWNlIGxlbmd0aCBpbiBtaWxsaXNlY29uZHMuXG4gICAqL1xuICBzZXRTbGljZShzbGljZTogbnVtYmVyKSB7XG4gICAgdGhpcy5zbGljZSA9IHNsaWNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGltZW91dCBiZXR3ZWVuIHRpbWUgc2xpY2VzLlxuICAgKiBAcGFyYW0gdGltZW91dCBpbiBtaWxsaXNlY29uZHMuXG4gICAqL1xuICBzZXRUaW1lb3V0KHRpbWVvdXQ6IG51bWJlcikge1xuICAgIHRoaXMudGltZW91dCA9IHRpbWVvdXQ7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IHRpbWUgc2xpY2UgaXMgb3Zlci5cbiAgICovXG4gIGlzVGltZVNsaWNlT3ZlcigpOiBib29sZWFuIHtcbiAgICBjb25zdCBub3cgPSB0aGlzLnRpbWVyLmN1cnJlbnRUaW1lKCk7XG4gICAgcmV0dXJuIG5vdyA+PSB0aGlzLnNsaWNlT3ZlclRpbWU7XG4gIH1cblxuICBwcml2YXRlIGFybSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pblRpbWVTbGljZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBuZXh0SW5RdWV1ZSA9IHRoaXMucXVldWUucGVlaygpIGFzIENvbnRpbnVhdGlvbjxhbnk+O1xuICAgIGNvbnN0IG5ld1RpbWUgPSBuZXh0SW5RdWV1ZS5zY2hlZHVsZWRUaW1lO1xuICAgIGNvbnN0IG5vdyA9IHRoaXMudGltZXIuY3VycmVudFRpbWUoKTtcbiAgICBpZiAodGhpcy50aW1lb3V0VG9rZW4gIT0gbnVsbCkge1xuICAgICAgaWYgKG5vdyArIHRoaXMudGltZW91dCA+IHRoaXMud2FrZXVwVGltZSkge1xuICAgICAgICByZXR1cm47IC8vIG5vIHVzZSByZS1hcm1pbmdcbiAgICAgIH1cbiAgICAgIHRoaXMudGltZXIuY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dFRva2VuKTtcbiAgICB9XG4gICAgbGV0IHRpbWVvdXQgPSBuZXdUaW1lIC0gbm93O1xuICAgIGlmICh0aW1lb3V0IDw9IHRoaXMudGltZW91dCkge1xuICAgICAgdGltZW91dCA9IHRoaXMudGltZW91dDtcbiAgICB9XG4gICAgdGhpcy53YWtldXBUaW1lID0gbm93ICsgdGltZW91dDtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB0aGlzLnRpbWVvdXRUb2tlbiA9IHRoaXMudGltZXIuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZWxmLnRpbWVvdXRUb2tlbiA9IG51bGw7XG4gICAgICBzZWxmLmRvVGltZVNsaWNlKCk7XG4gICAgfSwgdGltZW91dCk7XG4gIH1cblxuICBzY2hlZHVsZShjb250aW51YXRpb246IENvbnRpbnVhdGlvbjxhbnk+LCBvcHRfZGVsYXk/OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBjID0gY29udGludWF0aW9uIGFzIENvbnRpbnVhdGlvbjxhbnk+O1xuICAgIGNvbnN0IG5vdyA9IHRoaXMudGltZXIuY3VycmVudFRpbWUoKTtcbiAgICBjLm9yZGVyID0gdGhpcy5vcmRlcisrO1xuICAgIGMuc2NoZWR1bGVkVGltZSA9IG5vdyArIChvcHRfZGVsYXkgfHwgMCk7XG4gICAgdGhpcy5xdWV1ZS5hZGQoYyk7XG4gICAgdGhpcy5hcm0oKTtcbiAgfVxuXG4gIHByaXZhdGUgZG9UaW1lU2xpY2UoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudGltZW91dFRva2VuICE9IG51bGwpIHtcbiAgICAgIHRoaXMudGltZXIuY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dFRva2VuKTtcbiAgICAgIHRoaXMudGltZW91dFRva2VuID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5pblRpbWVTbGljZSA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBub3cgPSB0aGlzLnRpbWVyLmN1cnJlbnRUaW1lKCk7XG4gICAgICB0aGlzLnNsaWNlT3ZlclRpbWUgPSBub3cgKyB0aGlzLnNsaWNlO1xuICAgICAgd2hpbGUgKHRoaXMucXVldWUubGVuZ3RoKCkpIHtcbiAgICAgICAgY29uc3QgY29udGludWF0aW9uID0gdGhpcy5xdWV1ZS5wZWVrKCkgYXMgQ29udGludWF0aW9uPGFueT47XG4gICAgICAgIGlmIChjb250aW51YXRpb24uc2NoZWR1bGVkVGltZSA+IG5vdykge1xuICAgICAgICAgIGJyZWFrOyAvLyB0b28gZWFybHlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnF1ZXVlLnJlbW92ZSgpO1xuICAgICAgICBpZiAoIWNvbnRpbnVhdGlvbi5jYW5jZWxlZCkge1xuICAgICAgICAgIGNvbnRpbnVhdGlvbi5yZXN1bWVJbnRlcm5hbCgpO1xuICAgICAgICB9XG4gICAgICAgIG5vdyA9IHRoaXMudGltZXIuY3VycmVudFRpbWUoKTtcbiAgICAgICAgaWYgKG5vdyA+PSB0aGlzLnNsaWNlT3ZlclRpbWUpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2luZy5sb2dnZXIuZXJyb3IoZXJyKTtcbiAgICB9XG4gICAgdGhpcy5pblRpbWVTbGljZSA9IGZhbHNlO1xuICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCgpKSB7XG4gICAgICB0aGlzLmFybSgpO1xuICAgIH1cbiAgfVxuXG4gIHJ1bihmdW5jOiAoKSA9PiBSZXN1bHQ8YW55Piwgb3B0X25hbWU/OiBzdHJpbmcpOiBUYXNrIHtcbiAgICBjb25zdCB0YXNrID0gbmV3IFRhc2sodGhpcywgb3B0X25hbWUgfHwgXCJcIik7XG4gICAgdGFzay50b3AgPSBuZXcgRnJhbWU8YW55Pih0YXNrLCBudWxsLCBcImJvb3RzdHJhcFwiKTtcbiAgICB0YXNrLnRvcC5zdGF0ZSA9IEZyYW1lU3RhdGUuQUNUSVZFO1xuICAgIHRhc2sudG9wLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3QgZG9uZSA9ICgpID0+IHtcbiAgICAgICAgdGFzay5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgIGZvciAoY29uc3QgY2FsbGJhY2sgb2YgdGFzay5jYWxsYmFja3MpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLmVycm9yKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdHJ5IHtcbiAgICAgICAgZnVuYygpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIHRhc2sucmVzdWx0ID0gcmVzdWx0O1xuICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGFzay5yYWlzZShlcnIpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3Qgc2F2ZWRUYXNrID0gcHJpdmF0ZUN1cnJlbnRUYXNrO1xuICAgIHByaXZhdGVDdXJyZW50VGFzayA9IHRhc2s7XG4gICAgdGhpcy5zY2hlZHVsZSh0YXNrLnRvcC5zdXNwZW5kKFwiYm9vdHN0cmFwXCIpKTtcbiAgICBwcml2YXRlQ3VycmVudFRhc2sgPSBzYXZlZFRhc2s7XG4gICAgcmV0dXJuIHRhc2s7XG4gIH1cbn1cblxuLyoqXG4gKiBUYXNrIHN1c3BlbnNpb24gcG9pbnQuXG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgY2xhc3MgQ29udGludWF0aW9uPFQ+IGltcGxlbWVudHMgQmFzZS5Db21wYXJhYmxlIHtcbiAgc2NoZWR1bGVkVGltZTogbnVtYmVyID0gMDtcbiAgb3JkZXI6IG51bWJlciA9IDA7XG4gIHJlc3VsdDogVCA9IG51bGw7XG4gIGNhbmNlbGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHRhc2s6IFRhc2spIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY29tcGFyZShvdGhlckNvbXA6IEJhc2UuQ29tcGFyYWJsZSk6IG51bWJlciB7XG4gICAgLy8gZWFybGllciB3aW5zXG4gICAgY29uc3Qgb3RoZXIgPSBvdGhlckNvbXAgYXMgQ29udGludWF0aW9uPGFueT47XG4gICAgcmV0dXJuIG90aGVyLnNjaGVkdWxlZFRpbWUgLSB0aGlzLnNjaGVkdWxlZFRpbWUgfHwgb3RoZXIub3JkZXIgLSB0aGlzLm9yZGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnRpbnVhdGlvbidzIHRhc2tcbiAgICovXG4gIGdldFRhc2soKTogVGFzayB7XG4gICAgcmV0dXJuIHRoaXMudGFzaztcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2hlZHVsZSB0YXNrIGNvbnRpbnVhdGlvbiBhZnRlciB0aGUgZ2l2ZW4gKG9wdGlvbmFsKSBkZWxheS5cbiAgICogQHBhcmFtIG9wdF9kZWxheSBvcHRpb25hbCBkZWxheSBpbiBtaWxsaXNlY29uZHMuXG4gICAqL1xuICBzY2hlZHVsZShyZXN1bHQ6IFQsIG9wdF9kZWxheT86IG51bWJlcikge1xuICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0O1xuICAgIHRoaXMudGFzay5zY2hlZHVsZXIuc2NoZWR1bGUodGhpcywgb3B0X2RlbGF5KTtcbiAgfVxuXG4gIHJlc3VtZUludGVybmFsKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHRhc2sgPSB0aGlzLnRhc2s7XG4gICAgdGhpcy50YXNrID0gbnVsbDtcbiAgICBpZiAodGFzayAmJiB0YXNrLmNvbnRpbnVhdGlvbiA9PSB0aGlzKSB7XG4gICAgICB0YXNrLmNvbnRpbnVhdGlvbiA9IG51bGw7XG4gICAgICBjb25zdCBzYXZlZFRhc2sgPSBwcml2YXRlQ3VycmVudFRhc2s7XG4gICAgICBwcml2YXRlQ3VycmVudFRhc2sgPSB0YXNrO1xuICAgICAgdGFzay50b3AuZmluaXNoKHRoaXMucmVzdWx0KTtcbiAgICAgIHByaXZhdGVDdXJyZW50VGFzayA9IHNhdmVkVGFzaztcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VsIGNvbnRpbnVhdGlvblxuICAgKi9cbiAgY2FuY2VsKCkge1xuICAgIHRoaXMuY2FuY2VsZWQgPSB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogQW4gYXN5bmNocm9ub3VzLCB0aW1lLXNsaWNlZCB0YXNrLlxuICovXG5leHBvcnQgY2xhc3MgVGFzayB7XG4gIGNhbGxiYWNrczogKCgpID0+IHZvaWQpW10gPSBbXTtcbiAgZXhjZXB0aW9uOiBFcnJvciB8IG51bGwgPSBudWxsO1xuICBydW5uaW5nOiBib29sZWFuID0gdHJ1ZTtcbiAgcmVzdWx0OiBhbnkgPSBudWxsO1xuICB3YWl0VGFyZ2V0OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgdG9wOiBGcmFtZTxhbnk+IHwgbnVsbCA9IG51bGw7XG4gIGNvbnRpbnVhdGlvbjogQ29udGludWF0aW9uPGFueT4gfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgc2NoZWR1bGVyOiBTY2hlZHVsZXIsIHB1YmxpYyBuYW1lOiBzdHJpbmcpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gdGFzayBuYW1lLlxuICAgKi9cbiAgZ2V0TmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLm5hbWU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGVyciBleGNlcHRpb24gdG8gdGhyb3cgaW4gdGhlIHRhc2sncyBjb250ZXh0LlxuICAgKi9cbiAgaW50ZXJydXB0KGVycjogRXJyb3IpOiB2b2lkIHtcbiAgICB0aGlzLnJhaXNlKGVyciB8fCBuZXcgRXJyb3IoXCJFX1RBU0tfSU5URVJSVVBUXCIpKTtcbiAgICBpZiAodGhpcyAhPT0gcHJpdmF0ZUN1cnJlbnRUYXNrICYmIHRoaXMuY29udGludWF0aW9uKSB7XG4gICAgICAvLyBibG9ja2VkIG9uIHNvbWV0aGluZ1xuICAgICAgdGhpcy5jb250aW51YXRpb24uY2FuY2VsKCk7XG4gICAgICBjb25zdCBjb250aW51YXRpb24gPSBuZXcgQ29udGludWF0aW9uKHRoaXMpO1xuICAgICAgdGhpcy53YWl0VGFyZ2V0ID0gXCJpbnRlcnJ1cHRcIjtcbiAgICAgIHRoaXMuY29udGludWF0aW9uID0gY29udGludWF0aW9uO1xuICAgICAgdGhpcy5zY2hlZHVsZXIuc2NoZWR1bGUoY29udGludWF0aW9uKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB0aGlzIHRhc2sncyBzY2hlZHVsZXIuXG4gICAqL1xuICBnZXRTY2hlZHVsZXIoKTogU2NoZWR1bGVyIHtcbiAgICByZXR1cm4gdGhpcy5zY2hlZHVsZXI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB0cnVlIGlmIHRhc2sgaXMgc3RpbGwgcnVubmluZy5cbiAgICovXG4gIGlzUnVubmluZygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5ydW5uaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW4gdGhlIHRhc2sgaXMgZG9uZS4gQ2FsbGJhY2sgaXMgbm90XG4gICAqIGV4ZWN1dGVkIGluIGFueSB0YXNrIGNvbnRleHQuIE11bHRpcGxlIGNhbGxiYWNrcyBjYW4gYmUgcmVnaXN0ZXJlZCBhbmRcbiAgICogdGhleSB3aWxsIGJlIGNhbGxlZCBpbiB0aGUgcmVnaXN0cmF0aW9uIG9yZGVyLlxuICAgKi9cbiAgd2hlbkRvbmUoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXYWl0IGZvciB0YXNrIHRvIGZpbmlzaCAoZnJvbSBhbm90aGVyIHRhc2spLlxuICAgKi9cbiAgam9pbigpOiBSZXN1bHQ8YW55PiB7XG4gICAgY29uc3QgZnJhbWUgPSBuZXdGcmFtZTxhbnk+KFwiVGFzay5qb2luXCIpO1xuICAgIGlmICghdGhpcy5ydW5uaW5nKSB7XG4gICAgICBmcmFtZS5maW5pc2godGhpcy5yZXN1bHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjb250aW51YXRpb24gPSBmcmFtZS5zdXNwZW5kKHRoaXMpO1xuICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICB0aGlzLndoZW5Eb25lKCgpID0+IHtcbiAgICAgICAgY29udGludWF0aW9uLnNjaGVkdWxlKHNlbGYucmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogVW53aW5kIHRoZSBzdGFjay4gV2UgaGF2ZSB0d28gc3RhY2tzOiBhc3luYyAobWFpbnRhaW5lZCBieSBmcmFtZVxuICAgKiBwYXJlbnQgbGluaykgYW5kIHN5bmMgKHJlZ3VsYXIgSmF2YVNjcmlwdCBzdGFjaykuXG4gICAqL1xuICB1bndpbmQoKSB7XG4gICAgLy8gV2UgaGF2ZSBhIHNlcXVlbmNlIG9mIGZyYW1lcyBvbiB0aGUgc3RhY2suXG4gICAgd2hpbGUgKHRoaXMudG9wICYmICF0aGlzLnRvcC5oYW5kbGVyKSB7XG4gICAgICB0aGlzLnRvcCA9IHRoaXMudG9wLnBhcmVudDtcbiAgICB9XG4gICAgaWYgKHRoaXMudG9wICYmIHRoaXMudG9wLmhhbmRsZXIgJiYgdGhpcy5leGNlcHRpb24pIHtcbiAgICAgIC8vIGZvdW5kIGEgaGFuZGxlclxuICAgICAgY29uc3QgZXJyID0gdGhpcy5leGNlcHRpb247XG4gICAgICB0aGlzLmV4Y2VwdGlvbiA9IG51bGw7XG4gICAgICB0aGlzLnRvcC5oYW5kbGVyKHRoaXMudG9wLCBlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5leGNlcHRpb24pIHtcbiAgICAgICAgTG9nZ2luZy5sb2dnZXIuZXJyb3IoXG4gICAgICAgICAgdGhpcy5leGNlcHRpb24sXG4gICAgICAgICAgXCJVbmhhbmRsZWQgZXhjZXB0aW9uIGluIHRhc2tcIixcbiAgICAgICAgICB0aGlzLm5hbWUsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmFpc2UoZXJyOiBFcnJvciwgb3B0X2ZyYW1lPzogRnJhbWU8YW55Pik6IHZvaWQge1xuICAgIHRoaXMuZmlsbFN0YWNrKGVycik7XG4gICAgaWYgKG9wdF9mcmFtZSkge1xuICAgICAgbGV0IGYgPSB0aGlzLnRvcDtcbiAgICAgIHdoaWxlIChmICYmIGYgIT0gb3B0X2ZyYW1lKSB7XG4gICAgICAgIGYgPSBmLnBhcmVudDtcbiAgICAgIH1cbiAgICAgIGlmIChmID09IG9wdF9mcmFtZSkge1xuICAgICAgICB0aGlzLnRvcCA9IGY7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZXhjZXB0aW9uID0gZXJyO1xuICAgIHRoaXMudW53aW5kKCk7XG4gIH1cblxuICAvKipcbiAgICogRmlsbCB0aGUgc3RhY2sgdHJhY2UgaW4gdGhlIGV4Y2VwdGlvblxuICAgKiBAcGFyYW0gZXJyIGV4Y2VwdGlvblxuICAgKi9cbiAgZmlsbFN0YWNrKGVycjogRXJyb3IpIHtcbiAgICBsZXQgb3V0ID0gZXJyW1wiZnJhbWVUcmFjZVwiXTtcbiAgICBpZiAoIW91dCkge1xuICAgICAgb3V0ID0gZXJyW1wic3RhY2tcIl0gPyBgJHtlcnJbXCJzdGFja1wiXX1cXG5cXHQtLS0tIGFzeW5jIC0tLVxcbmAgOiBcIlwiO1xuICAgICAgZm9yIChsZXQgZiA9IHRoaXMudG9wOyBmOyBmID0gZi5wYXJlbnQpIHtcbiAgICAgICAgb3V0ICs9IFwiXFx0XCI7XG4gICAgICAgIG91dCArPSBmLmdldE5hbWUoKTtcbiAgICAgICAgb3V0ICs9IFwiXFxuXCI7XG4gICAgICB9XG4gICAgICBlcnJbXCJmcmFtZVRyYWNlXCJdID0gb3V0O1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBjbGFzcyBTeW5jUmVzdWx0SW1wbDxUPiBpbXBsZW1lbnRzIFJlc3VsdDxUPiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB2YWx1ZTogVCkge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0aGVuKGNhbGxiYWNrOiAoVDogYW55KSA9PiB2b2lkKSB7XG4gICAgY2FsbGJhY2sodGhpcy52YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0aGVuQXN5bmM8VDE+KGNhbGxiYWNrOiAocDE6IFQpID0+IFJlc3VsdDxUMT4pIHtcbiAgICByZXR1cm4gY2FsbGJhY2sodGhpcy52YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0aGVuUmV0dXJuPFQxPihyZXN1bHQ6IFQxKSB7XG4gICAgcmV0dXJuIG5ldyBTeW5jUmVzdWx0SW1wbChyZXN1bHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGhlbkZpbmlzaChmcmFtZTogRnJhbWU8VD4pOiB2b2lkIHtcbiAgICBmcmFtZS5maW5pc2godGhpcy52YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpc1BlbmRpbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0KCk6IFQgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXN1bHRJbXBsPFQ+IGltcGxlbWVudHMgUmVzdWx0PFQ+IHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGZyYW1lOiBGcmFtZTxUPikge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0aGVuKGNhbGxiYWNrOiAocDE6IFQpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLmZyYW1lLnRoZW4oY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGhlbkFzeW5jPFQxPihjYWxsYmFjazogKHAxOiBUKSA9PiBSZXN1bHQ8VDE+KTogUmVzdWx0PFQxPiB7XG4gICAgaWYgKHRoaXMuaXNQZW5kaW5nKCkpIHtcbiAgICAgIC8vIHRoZW5Bc3luYyBpcyBzcGVjaWFsLCBkbyB0aGUgdHJpY2sgd2l0aCB0aGUgY29udGV4dFxuICAgICAgY29uc3QgZnJhbWUgPSBuZXcgRnJhbWU8VCB8IFQxPihcbiAgICAgICAgdGhpcy5mcmFtZS50YXNrLFxuICAgICAgICB0aGlzLmZyYW1lLnBhcmVudCxcbiAgICAgICAgXCJBc3luY1Jlc3VsdC50aGVuQXN5bmNcIixcbiAgICAgICk7XG4gICAgICBmcmFtZS5zdGF0ZSA9IEZyYW1lU3RhdGUuQUNUSVZFO1xuICAgICAgdGhpcy5mcmFtZS5wYXJlbnQgPSBmcmFtZSBhcyBGcmFtZTxUPjtcbiAgICAgIHRoaXMuZnJhbWUudGhlbigocmVzMSkgPT4ge1xuICAgICAgICBjYWxsYmFjayhyZXMxKS50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKHJlczIpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpIGFzIFJlc3VsdDxUMT47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0aGlzLmZyYW1lLnJlcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGhlblJldHVybjxUMT4ocmVzdWx0OiBUMSkge1xuICAgIGlmICh0aGlzLmlzUGVuZGluZygpKSB7XG4gICAgICByZXR1cm4gdGhpcy50aGVuQXN5bmMoKCkgPT4gbmV3IFN5bmNSZXN1bHRJbXBsKHJlc3VsdCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFN5bmNSZXN1bHRJbXBsKHJlc3VsdCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGhlbkZpbmlzaChmcmFtZTogRnJhbWU8VD4pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc1BlbmRpbmcoKSkge1xuICAgICAgdGhpcy50aGVuKChyZXMpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKHJlcyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZnJhbWUuZmluaXNoKHRoaXMuZnJhbWUucmVzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpc1BlbmRpbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZnJhbWUuc3RhdGUgPT0gRnJhbWVTdGF0ZS5BQ1RJVkU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXQoKTogVCB8IG51bGwge1xuICAgIGlmICh0aGlzLmlzUGVuZGluZygpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXN1bHQgaXMgcGVuZGluZ1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZnJhbWUucmVzO1xuICB9XG59XG5cbi8qKlxuICogQXN5bmNocm9ub3VzIGV4ZWN1dGlvbiBmcmFtZS4gQ29ycmVzcG9uZHMgdG8gYW4gYXN5bmNocm9ub3VzIGZ1bmN0aW9uXG4gKiBpbnZvY2F0aW9uLlxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGNsYXNzIEZyYW1lPFQ+IHtcbiAgcmVzOiBUID0gbnVsbDtcbiAgc3RhdGU6IEZyYW1lU3RhdGU7XG4gIGNhbGxiYWNrOiAoKHAxOiBhbnkpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XG4gIGhhbmRsZXI6ICgocDE6IEZyYW1lPGFueT4sIHAyOiBFcnJvcikgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgdGFzazogVGFzaywgcHVibGljIHBhcmVudDogRnJhbWU8VD4sIHB1YmxpYyBuYW1lOiBzdHJpbmcpIHtcbiAgICB0aGlzLnN0YXRlID0gRnJhbWVTdGF0ZS5JTklUO1xuICB9XG5cbiAgcHJpdmF0ZSBjaGVja0Vudmlyb25tZW50KCk6IHZvaWQge1xuICAgIGlmICghcHJpdmF0ZUN1cnJlbnRUYXNrKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGX1RBU0tfTk9fQ09OVEVYVFwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMgIT09IHByaXZhdGVDdXJyZW50VGFzay50b3ApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZfVEFTS19OT1RfVE9QX0ZSQU1FXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHRvIGJlIHJldHVybmVkIGFzIHRoaXMgYXN5bmNocm9ub3VzIGZ1bmN0aW9uIHJldHVybiB2YWx1ZS5cbiAgICovXG4gIHJlc3VsdCgpOiBSZXN1bHQ8VD4ge1xuICAgIHJldHVybiBuZXcgUmVzdWx0SW1wbDxUPih0aGlzKTtcbiAgfVxuXG4gIGZpbmlzaChyZXM6IFQpIHtcbiAgICB0aGlzLmNoZWNrRW52aXJvbm1lbnQoKTtcbiAgICBpZiAocHJpdmF0ZUN1cnJlbnRUYXNrICYmICFwcml2YXRlQ3VycmVudFRhc2suZXhjZXB0aW9uKSB7XG4gICAgICB0aGlzLnJlcyA9IHJlcztcbiAgICB9XG4gICAgdGhpcy5zdGF0ZSA9IEZyYW1lU3RhdGUuRklOSVNIRUQ7XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLnBhcmVudDtcbiAgICBpZiAocHJpdmF0ZUN1cnJlbnRUYXNrKSB7XG4gICAgICBwcml2YXRlQ3VycmVudFRhc2sudG9wID0gZnJhbWU7XG4gICAgfVxuICAgIGlmICh0aGlzLmNhbGxiYWNrKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrKHJlcyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhpcy50YXNrLnJhaXNlKGVyciwgZnJhbWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBjYWxsYmFjayB3YXMgY2FsbGVkXG4gICAgICB0aGlzLnN0YXRlID0gRnJhbWVTdGF0ZS5ERUFEO1xuICAgIH1cbiAgfVxuXG4gIGdldFRhc2soKTogVGFzayB7XG4gICAgcmV0dXJuIHRoaXMudGFzaztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIGZyYW1lIG5hbWUuXG4gICAqL1xuICBnZXROYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgfVxuXG4gIGdldFNjaGVkdWxlcigpOiBTY2hlZHVsZXIge1xuICAgIHJldHVybiB0aGlzLnRhc2suc2NoZWR1bGVyO1xuICB9XG5cbiAgdGhlbihjYWxsYmFjazogKHAxOiBUKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgLy8gbGVnYWwgdG8gY2FsbCB3aGVuIGN1cnJlbnRUYXNrIGlzIG51bGxcbiAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgIGNhc2UgRnJhbWVTdGF0ZS5BQ1RJVkU6XG4gICAgICAgIGlmICh0aGlzLmNhbGxiYWNrKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRl9UQVNLX0ZSQU1FX0FMUkVBRFlfSEFTX0NBTExCQUNLXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRnJhbWVTdGF0ZS5GSU5JU0hFRDoge1xuICAgICAgICBjb25zdCB0YXNrID0gdGhpcy50YXNrO1xuICAgICAgICBjb25zdCBmcmFtZSA9IHRoaXMucGFyZW50O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNhbGxiYWNrKHRoaXMucmVzKTtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gRnJhbWVTdGF0ZS5ERUFEO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gRnJhbWVTdGF0ZS5ERUFEO1xuICAgICAgICAgIHRhc2sucmFpc2UoZXJyLCBmcmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIEZyYW1lU3RhdGUuREVBRDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRl9UQVNLX0RFQURfRlJBTUVcIik7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZfVEFTS19VTkVYUEVDVEVEX0ZSQU1FX1NUQVRFICR7dGhpcy5zdGF0ZX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSWYgdGhpcyB0YXNrIHdhcyBleGVjdXRlZCBsb25nZXIgdGhhbiB0YXNrJ3Mgc2xpY2UgcGFyYW1ldGVyLlxuICAgKiBAcmV0dXJuIGhvbGRzIHRydWVcbiAgICovXG4gIHRpbWVTbGljZSgpOiBSZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZyYW1lID0gbmV3RnJhbWU8Ym9vbGVhbj4oXCJGcmFtZS50aW1lU2xpY2VcIik7XG4gICAgY29uc3Qgc2NoZWR1bGVyID0gZnJhbWUuZ2V0U2NoZWR1bGVyKCk7XG4gICAgaWYgKHNjaGVkdWxlci5pc1RpbWVTbGljZU92ZXIoKSkge1xuICAgICAgTG9nZ2luZy5sb2dnZXIuZGVidWcoXCItLSB0aW1lIHNsaWNlIC0tXCIpO1xuICAgICAgZnJhbWUuc3VzcGVuZCgpLnNjaGVkdWxlKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBZaWVsZCB0byBvdGhlciB0YXNrcyBmb3IgdGhlIHNwZWNpZmllZCB0aW1lLlxuICAgKiBAcGFyYW0gZGVsYXkgaW4gbWlsbGlzZWNvbmRzLlxuICAgKiBAcmV0dXJuIGhvbGRzIHRydWVcbiAgICovXG4gIHNsZWVwKGRlbGF5OiBudW1iZXIpOiBSZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZyYW1lID0gbmV3RnJhbWU8Ym9vbGVhbj4oXCJGcmFtZS5zbGVlcFwiKTtcbiAgICBmcmFtZS5zdXNwZW5kKCkuc2NoZWR1bGUodHJ1ZSwgZGVsYXkpO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBlYXRlZGx5IGV4ZWN1dGUgdGhlIGdpdmVuIGZ1bmN0aW9uIGFzeW5jaHJvbm91c2x5IHVudGlsIGl0IHJldHVybnNcbiAgICogZmFsc2UuXG4gICAqIEByZXR1cm4gaG9sZHMgdHJ1ZS5cbiAgICovXG4gIGxvb3AoZnVuYzogKCkgPT4gUmVzdWx0PGJvb2xlYW4+KTogUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBmcmFtZSA9IG5ld0ZyYW1lPGJvb2xlYW4+KFwiRnJhbWUubG9vcFwiKTtcbiAgICBjb25zdCBzdGVwID0gKG1vcmUpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHdoaWxlIChtb3JlKSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gZnVuYygpO1xuICAgICAgICAgIGlmIChyZXN1bHQuaXNQZW5kaW5nKCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC50aGVuKHN0ZXApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQudGhlbigobSkgPT4ge1xuICAgICAgICAgICAgICBtb3JlID0gbTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZnJhbWUudGFzay5yYWlzZShlcnIsIGZyYW1lKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHN0ZXAodHJ1ZSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNpbWlsYXIgdG8gbG9vcCgpLCBidXQgcHJvdmlkZXMgYSBGcmFtZSBmb3IgbG9vcCBib2R5IGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJuIGhvbGRzIHRydWUuXG4gICAqL1xuICBsb29wV2l0aEZyYW1lKGZ1bmM6IChwMTogTG9vcEJvZHlGcmFtZSkgPT4gdm9pZCk6IFJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgdGFzayA9IHByaXZhdGVDdXJyZW50VGFzaztcbiAgICBpZiAoIXRhc2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkVfVEFTS19OT19DT05URVhUXCIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5sb29wKCgpID0+IHtcbiAgICAgIGxldCByZXN1bHQ6IFJlc3VsdDxib29sZWFuPjtcbiAgICAgIGRvIHtcbiAgICAgICAgY29uc3QgZnJhbWUgPSBuZXcgTG9vcEJvZHlGcmFtZSh0YXNrIGFzIFRhc2ssIHRhc2sudG9wKTtcbiAgICAgICAgdGFzay50b3AgPSBmcmFtZTtcbiAgICAgICAgZnJhbWUuc3RhdGUgPSBGcmFtZVN0YXRlLkFDVElWRTtcbiAgICAgICAgZnVuYyhmcmFtZSk7XG4gICAgICAgIHJlc3VsdCA9IGZyYW1lLnJlc3VsdCgpO1xuICAgICAgfSB3aGlsZSAoIXJlc3VsdC5pc1BlbmRpbmcoKSAmJiByZXN1bHQuZ2V0KCkpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcbiAgfVxuXG4gIHN1c3BlbmQob3B0X3dhaXRUYXJnZXQ/OiBhbnkpOiBDb250aW51YXRpb248VD4ge1xuICAgIHRoaXMuY2hlY2tFbnZpcm9ubWVudCgpO1xuICAgIGlmICh0aGlzLnRhc2suY29udGludWF0aW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX1RBU0tfQUxSRUFEWV9TVVNQRU5ERURcIik7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRpbnVhdGlvbjogQ29udGludWF0aW9uPFQ+ID0gbmV3IENvbnRpbnVhdGlvbih0aGlzLnRhc2spO1xuICAgIHRoaXMudGFzay5jb250aW51YXRpb24gPSBjb250aW51YXRpb247XG4gICAgcHJpdmF0ZUN1cnJlbnRUYXNrID0gbnVsbDtcbiAgICB0aGlzLnRhc2sud2FpdFRhcmdldCA9IG9wdF93YWl0VGFyZ2V0IHx8IG51bGw7XG4gICAgcmV0dXJuIGNvbnRpbnVhdGlvbjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTG9vcEJvZHlGcmFtZSBleHRlbmRzIEZyYW1lPGJvb2xlYW4+IHtcbiAgY29uc3RydWN0b3IodGFzazogVGFzaywgcGFyZW50OiBGcmFtZTxib29sZWFuPikge1xuICAgIHN1cGVyKHRhc2ssIHBhcmVudCwgXCJsb29wXCIpO1xuICB9XG5cbiAgY29udGludWVMb29wKCk6IHZvaWQge1xuICAgIHRoaXMuZmluaXNoKHRydWUpO1xuICB9XG5cbiAgYnJlYWtMb29wKCk6IHZvaWQge1xuICAgIHRoaXMuZmluaXNoKGZhbHNlKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRXZlbnRJdGVtIHtcbiAgbmV4dDogRXZlbnRJdGVtID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgZXZlbnQ6IEJhc2UuRXZlbnQpIHt9XG59XG5cbi8qKlxuICogQW4gY2xhc3MgdG8gbGlzdGVuIHRvIGV2ZW5zIGFuZCBwcmVzZW50IHRoZW0gYXMgYSByZWFkYWJsZSBhc3luY2hyb25vdXNcbiAqIHN0cmVhbSB0byB0YXNrcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEV2ZW50U291cmNlIHtcbiAgY29udGludWF0aW9uOiBDb250aW51YXRpb248Ym9vbGVhbj4gPSBudWxsO1xuICBsaXN0ZW5lcnM6IHtcbiAgICB0YXJnZXQ6IEJhc2UuRXZlbnRUYXJnZXQ7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGxpc3RlbmVyOiBCYXNlLkV2ZW50TGlzdGVuZXI7XG4gIH1bXSA9IFtdO1xuICBoZWFkOiBFdmVudEl0ZW07XG4gIHRhaWw6IEV2ZW50SXRlbTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmhlYWQgPSBuZXcgRXZlbnRJdGVtKG51bGwpO1xuICAgIHRoaXMudGFpbCA9IHRoaXMuaGVhZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRhY2hlcyBhcyBhbiBldmVudCBsaXN0ZW5lciB0byBhbiBFdmVudFRhcmdldC5cbiAgICovXG4gIGF0dGFjaChcbiAgICB0YXJnZXQ6IEJhc2UuRXZlbnRUYXJnZXQsXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIG9wdF9wcmV2ZW50RGVmYXVsdD86IGJvb2xlYW4sXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGxpc3RlbmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAob3B0X3ByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgICBpZiAoc2VsZi50YWlsLmV2ZW50KSB7XG4gICAgICAgIHNlbGYudGFpbC5uZXh0ID0gbmV3IEV2ZW50SXRlbShldmVudCk7XG4gICAgICAgIHNlbGYudGFpbCA9IHNlbGYudGFpbC5uZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi50YWlsLmV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIGNvbnN0IGNvbnRpbnVhdGlvbiA9IHNlbGYuY29udGludWF0aW9uO1xuICAgICAgICBpZiAoY29udGludWF0aW9uKSB7XG4gICAgICAgICAgc2VsZi5jb250aW51YXRpb24gPSBudWxsO1xuICAgICAgICAgIGNvbnRpbnVhdGlvbi5zY2hlZHVsZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKHsgdGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciB9KTtcbiAgfVxuXG4gIGRldGFjaCh0YXJnZXQ6IEJhc2UuRXZlbnRUYXJnZXQsIHR5cGU6IHN0cmluZyk6IHZvaWQge1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgaXRlbToge1xuICAgICAgdGFyZ2V0OiBCYXNlLlNpbXBsZUV2ZW50VGFyZ2V0O1xuICAgICAgdHlwZTogc3RyaW5nO1xuICAgICAgbGlzdGVuZXI6IEJhc2UuRXZlbnRMaXN0ZW5lcjtcbiAgICB9ID0gbnVsbDtcbiAgICB3aGlsZSAoaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aCkge1xuICAgICAgaXRlbSA9IHRoaXMubGlzdGVuZXJzW2ldO1xuICAgICAgaWYgKGl0ZW0udHlwZSA9PSB0eXBlICYmIGl0ZW0udGFyZ2V0ID09PSB0YXJnZXQpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICBpdGVtLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGl0ZW0udHlwZSwgaXRlbS5saXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIkVfVEFTS19FVkVOVF9TT1VSQ0VfTk9UX0FUVEFDSEVEXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWQgbmV4dCBkaXNwYXRjaGVkIGV2ZW50LCBibG9ja2luZyB0aGUgY3VycmVudCB0YXNrIGlmIG5lZWRlZC5cbiAgICovXG4gIG5leHRFdmVudCgpOiBSZXN1bHQ8QmFzZS5FdmVudD4ge1xuICAgIGNvbnN0IGZyYW1lOiBGcmFtZTxCYXNlLkV2ZW50PiA9IG5ld0ZyYW1lKFwiRXZlbnRTb3VyY2UubmV4dEV2ZW50XCIpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IHJlYWRFdmVudCA9ICgpID0+IHtcbiAgICAgIGlmIChzZWxmLmhlYWQuZXZlbnQpIHtcbiAgICAgICAgY29uc3QgZXZlbnQgPSBzZWxmLmhlYWQuZXZlbnQ7XG4gICAgICAgIGlmIChzZWxmLmhlYWQubmV4dCkge1xuICAgICAgICAgIHNlbGYuaGVhZCA9IHNlbGYuaGVhZC5uZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuaGVhZC5ldmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWUuZmluaXNoKGV2ZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5jb250aW51YXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRV9UQVNLX0VWRU5UX1NPVVJDRV9PVEhFUl9UQVNLX1dBSVRJTkdcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBmcmFtZUludGVybmFsOiBGcmFtZTxib29sZWFuPiA9IG5ld0ZyYW1lKFxuICAgICAgICAgIFwiRXZlbnRTb3VyY2UubmV4dEV2ZW50SW50ZXJuYWxcIixcbiAgICAgICAgKTtcbiAgICAgICAgc2VsZi5jb250aW51YXRpb24gPSBmcmFtZUludGVybmFsLnN1c3BlbmQoc2VsZik7XG4gICAgICAgIGZyYW1lSW50ZXJuYWwucmVzdWx0KCkudGhlbihyZWFkRXZlbnQpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmVhZEV2ZW50KCk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFRhc2tVdGlsIC0gVXRpbGl0aWVzIGFzeW5jaHJvbm91cyBleGVjdXRpb24gYW5kIGNvb3BlcmF0aXZlXG4gKiBtdWx0aXRhc2tpbmcuXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcblxuLyoqXG4gKiBBIGNsYXNzIHRoYXQgY2FuIGZldGNoIG9yIGNvbXB1dGUgYSByZXNvdXJjZSB0aGF0IG1heSBiZSBuZWVkZWQgYnkgbXVsdGlwbGVcbiAqIHRhc2tzLiBUaGUgZmlyc3QgdGltZSBhIHJlc291cmNlIGlzIHJlcXVlc3RlZCwgaXQgaXMgZmV0Y2hlZCBhbmQgdGhlbiBnaXZlblxuICogdG8gZXZlcnlvbmUgcmVxdWVzdGluZyBpdC5cbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0gZmV0Y2ggZnVuY3Rpb24gdGhhdCBmZXRjaGVzL2NvbXB1dGVzXG4gKiAgICBhIHJlc291cmNlOyBpdCB3aWxsIGJlIHJ1biBpbiBhIHNlcGFyYXRlIHRhc2suXG4gKi9cbmV4cG9ydCBjbGFzcyBGZXRjaGVyPFQ+IHtcbiAgbmFtZTogc3RyaW5nO1xuICBhcnJpdmVkOiBib29sZWFuID0gZmFsc2U7XG4gIHJlc291cmNlOiBUID0gbnVsbDtcbiAgdGFzazogVGFzay5UYXNrID0gbnVsbDtcbiAgcGlnZ3liYWNrczogKChwMTogYW55KSA9PiB2b2lkKVtdIHwgbnVsbCA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBmZXRjaDogKCkgPT4gVGFzay5SZXN1bHQ8VD4sIG9wdF9uYW1lPzogc3RyaW5nKSB7XG4gICAgdGhpcy5uYW1lID0gb3B0X25hbWU7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgZmV0Y2hpbmcvY29tcHV0aW5nIGEgcmVzb3VyY2UsIGRvbid0IGJsb2NrIGN1cnJlbnQgdGFzay5cbiAgICovXG4gIHN0YXJ0KCk6IHZvaWQge1xuICAgIGlmICghdGhpcy50YXNrKSB7XG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgIHRoaXMudGFzayA9IFRhc2suY3VycmVudFRhc2soKVxuICAgICAgICAuZ2V0U2NoZWR1bGVyKClcbiAgICAgICAgLnJ1bigoKSA9PiB7XG4gICAgICAgICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lKFwiRmV0Y2hlci5ydW5cIik7XG4gICAgICAgICAgc2VsZi5mZXRjaCgpLnRoZW4oKHJlc291cmNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwaWdnaWJhY2tzID0gc2VsZi5waWdneWJhY2tzO1xuICAgICAgICAgICAgc2VsZi5hcnJpdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYucmVzb3VyY2UgPSByZXNvdXJjZTtcbiAgICAgICAgICAgIHNlbGYudGFzayA9IG51bGw7XG4gICAgICAgICAgICBzZWxmLnBpZ2d5YmFja3MgPSBbXTtcbiAgICAgICAgICAgIGlmIChwaWdnaWJhY2tzKSB7XG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGlnZ2liYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBwaWdnaWJhY2tzW2ldKHJlc291cmNlKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLmVycm9yKGVyciwgXCJFcnJvcjpcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFtZS5maW5pc2gocmVzb3VyY2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgICAgICAgfSwgdGhpcy5uYW1lKTtcbiAgICB9XG4gIH1cblxuICBwaWdneWJhY2soZm46IChwMTogVCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmFycml2ZWQpIHtcbiAgICAgIGZuKHRoaXMucmVzb3VyY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBpZ2d5YmFja3MucHVzaChmbik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoZXMgdGhlIHJlc291cmNlLCB3YWl0cyBmb3IgaXQgdG8gYXJyaXZlIGlmIGl0IGlzIGFscmVhZHkgYmVpbmdcbiAgICogZmV0Y2hlZC5cbiAgICovXG4gIGdldCgpOiBUYXNrLlJlc3VsdDxUPiB7XG4gICAgaWYgKHRoaXMuYXJyaXZlZCkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRoaXMucmVzb3VyY2UpO1xuICAgIH1cbiAgICB0aGlzLnN0YXJ0KCk7XG4gICAgcmV0dXJuIHRoaXMudGFzay5qb2luKCkgYXMgVGFzay5SZXN1bHQ8VD47XG4gIH1cblxuICBoYXNBcnJpdmVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmFycml2ZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBXYWl0IGZvciBhbGwgRmV0Y2hlciBvYmplY3RzIGluIHRoZSBhcnJheSB0byBhcnJpdmVcbiAqL1xuZXhwb3J0IGNvbnN0IHdhaXRGb3JGZXRjaGVycyA9IDxUPihcbiAgZmV0Y2hlcnM6IEZldGNoZXI8VD5bXSxcbik6IFRhc2suUmVzdWx0PGJvb2xlYW4+ID0+IHtcbiAgaWYgKGZldGNoZXJzLmxlbmd0aCA9PSAwKSB7XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICB9XG4gIGlmIChmZXRjaGVycy5sZW5ndGggPT0gMSkge1xuICAgIHJldHVybiBmZXRjaGVyc1swXS5nZXQoKS50aGVuUmV0dXJuKHRydWUpO1xuICB9XG4gIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxib29sZWFuPihcIndhaXRGb3JGZXRjaGVzXCIpO1xuICBsZXQgaSA9IDA7XG4gIGZyYW1lXG4gICAgLmxvb3AoKCkgPT4ge1xuICAgICAgd2hpbGUgKGkgPCBmZXRjaGVycy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgZmV0Y2hlciA9IGZldGNoZXJzW2krK107XG4gICAgICAgIGlmICghZmV0Y2hlci5oYXNBcnJpdmVkKCkpIHtcbiAgICAgICAgICByZXR1cm4gZmV0Y2hlci5nZXQoKS50aGVuUmV0dXJuKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmFsc2UpO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgIH0pO1xuICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG59O1xuXG4vKipcbiAqIEByZXR1cm4gaG9sZGluZyBldmVudCB0eXBlIChsb2FkL2Vycm9yL2Fib3J0KVxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZEVsZW1lbnQoZWxlbTogRWxlbWVudCwgc3JjOiBzdHJpbmcpOiBGZXRjaGVyPHN0cmluZz4ge1xuICBsZXQgd2lkdGg6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBsZXQgaGVpZ2h0OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgaWYgKGVsZW0ubG9jYWxOYW1lID09IFwiaW1nXCIpIHtcbiAgICB3aWR0aCA9IGVsZW0uZ2V0QXR0cmlidXRlKFwid2lkdGhcIik7XG4gICAgaGVpZ2h0ID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIik7XG4gIH1cbiAgY29uc3QgZmV0Y2hlciA9IG5ldyBGZXRjaGVyKCgpID0+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxzdHJpbmc+ID0gVGFzay5uZXdGcmFtZShcImxvYWRJbWFnZVwiKTtcbiAgICBjb25zdCBjb250aW51YXRpb24gPSBmcmFtZS5zdXNwZW5kKGVsZW0pO1xuICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgY29uc3QgaGFuZGxlciA9IChldnQ6IEV2ZW50KSA9PiB7XG4gICAgICBpZiAoZG9uZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChlbGVtLmxvY2FsTmFtZSA9PSBcImltZ1wiKSB7XG4gICAgICAgIC8vIElFIHB1dHMgdGhlc2UgYm9ndXMgYXR0cmlidXRlcywgZXZlbiBpZiB0aGV5IHdlcmUgbm90IHByZXNlbnRcbiAgICAgICAgaWYgKCF3aWR0aCkge1xuICAgICAgICAgIGVsZW0ucmVtb3ZlQXR0cmlidXRlKFwid2lkdGhcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoZWlnaHQpIHtcbiAgICAgICAgICBlbGVtLnJlbW92ZUF0dHJpYnV0ZShcImhlaWdodFwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29udGludWF0aW9uLnNjaGVkdWxlKGV2dCA/IGV2dC50eXBlIDogXCJ0aW1lb3V0XCIpO1xuICAgIH07XG4gICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgaGFuZGxlciwgZmFsc2UpO1xuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICBpZiAoZWxlbS5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5TVkcpIHtcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlTlMoQmFzZS5OUy5YTElOSywgXCJ4bGluazpocmVmXCIsIHNyYyk7XG5cbiAgICAgIC8vIFNWRyBoYW5kbGVycyBhcmUgbm90IHJlbGlhYmxlXG4gICAgICBzZXRUaW1lb3V0KGhhbmRsZXIsIDMwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIChlbGVtIGFzIGFueSkuc3JjID0gc3JjO1xuICAgIH1cbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH0sIGBsb2FkRWxlbWVudCAke3NyY31gKTtcbiAgZmV0Y2hlci5zdGFydCgpO1xuICByZXR1cm4gZmV0Y2hlcjtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgTmV0IC0gRmV0Y2ggcmVzb3VyY2UgZnJvbSBhIFVSTC5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuL2xvZ2dpbmdcIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0ICogYXMgVGFza1V0aWwgZnJvbSBcIi4vdGFzay11dGlsXCI7XG5pbXBvcnQgeyBOZXQsIFhtbERvYyB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgVXNlckFnZW50WG1sIGZyb20gXCIuL2Fzc2V0cy91c2VyLWFnZW50LnhtbFwiO1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIFhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlIHtcbiAgREVGQVVMVCA9IFwiXCIsXG4gIEFSUkFZQlVGRkVSID0gXCJhcnJheWJ1ZmZlclwiLFxuICBCTE9CID0gXCJibG9iXCIsXG4gIERPQ1VNRU5UID0gXCJkb2N1bWVudFwiLFxuICBKU09OID0gXCJqc29uXCIsXG4gIFRFWFQgPSBcInRleHRcIixcbn1cblxuZXhwb3J0IHR5cGUgUmVzcG9uc2UgPSBOZXQuUmVzcG9uc2U7XG5cbmV4cG9ydCBmdW5jdGlvbiBhamF4KFxuICB1cmw6IHN0cmluZyxcbiAgb3B0X3R5cGU/OiBYTUxIdHRwUmVxdWVzdFJlc3BvbnNlVHlwZSxcbiAgb3B0X21ldGhvZD86IHN0cmluZyxcbiAgb3B0X2RhdGE/OiBzdHJpbmcsXG4gIG9wdF9jb250ZW50VHlwZT86IHN0cmluZyxcbik6IFRhc2suUmVzdWx0PFJlc3BvbnNlPiB7XG4gIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFJlc3BvbnNlPiA9IFRhc2submV3RnJhbWUoXCJhamF4XCIpO1xuICBjb25zdCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gIGNvbnN0IGNvbnRpbnVhdGlvbiA9IGZyYW1lLnN1c3BlbmQocmVxdWVzdCk7XG4gIGNvbnN0IHJlc3BvbnNlOiBSZXNwb25zZSA9IHtcbiAgICBzdGF0dXM6IDAsXG4gICAgc3RhdHVzVGV4dDogXCJcIixcbiAgICB1cmwsXG4gICAgY29udGVudFR5cGU6IG51bGwsXG4gICAgcmVzcG9uc2VUZXh0OiBudWxsLFxuICAgIHJlc3BvbnNlWE1MOiBudWxsLFxuICAgIHJlc3BvbnNlQmxvYjogbnVsbCxcbiAgfTtcbiAgcmVxdWVzdC5vcGVuKG9wdF9tZXRob2QgfHwgXCJHRVRcIiwgdXJsLCB0cnVlKTtcbiAgaWYgKG9wdF90eXBlKSB7XG4gICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBvcHRfdHlwZTtcbiAgfVxuICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICBpZiAocmVxdWVzdC5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICByZXNwb25zZS5zdGF0dXMgPSByZXF1ZXN0LnN0YXR1cztcbiAgICAgIHJlc3BvbnNlLnN0YXR1c1RleHQgPVxuICAgICAgICByZXF1ZXN0LnN0YXR1c1RleHQgfHwgKHJlcXVlc3Quc3RhdHVzID09IDQwNCAmJiBcIk5vdCBGb3VuZFwiKSB8fCBcIlwiO1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDAgfHwgcmVzcG9uc2Uuc3RhdHVzID09IDApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICghb3B0X3R5cGUgfHwgb3B0X3R5cGUgPT09IFhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlLkRPQ1VNRU5UKSAmJlxuICAgICAgICAgIHJlcXVlc3QucmVzcG9uc2VYTUwgJiZcbiAgICAgICAgICByZXF1ZXN0LnJlc3BvbnNlWE1MLmRvY3VtZW50RWxlbWVudC5sb2NhbE5hbWUgIT0gXCJwYXJzZXJlcnJvclwiXG4gICAgICAgICkge1xuICAgICAgICAgIHJlc3BvbnNlLnJlc3BvbnNlWE1MID0gcmVxdWVzdC5yZXNwb25zZVhNTDtcbiAgICAgICAgICByZXNwb25zZS5jb250ZW50VHlwZSA9IChyZXF1ZXN0LnJlc3BvbnNlWE1MIGFzIGFueSkuY29udGVudFR5cGU7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgKCFvcHRfdHlwZSB8fCBvcHRfdHlwZSA9PT0gWE1MSHR0cFJlcXVlc3RSZXNwb25zZVR5cGUuRE9DVU1FTlQpICYmXG4gICAgICAgICAgcmVxdWVzdC5yZXNwb25zZSBpbnN0YW5jZW9mIEhUTUxEb2N1bWVudFxuICAgICAgICApIHtcbiAgICAgICAgICByZXNwb25zZS5yZXNwb25zZVhNTCA9IHJlcXVlc3QucmVzcG9uc2U7XG4gICAgICAgICAgcmVzcG9uc2UuY29udGVudFR5cGUgPSAocmVxdWVzdC5yZXNwb25zZSBhcyBhbnkpLmNvbnRlbnRUeXBlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHRleHQgPSByZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICghb3B0X3R5cGUgfHwgb3B0X3R5cGUgPT09IFhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlLlRFWFQpICYmXG4gICAgICAgICAgICB0eXBlb2YgdGV4dCA9PSBcInN0cmluZ1wiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXNwb25zZS5yZXNwb25zZVRleHQgPSB0ZXh0O1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXRleHQpIHtcbiAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJVbmV4cGVjdGVkIGVtcHR5IHN1Y2Nlc3MgcmVzcG9uc2UgZm9yXCIsIHVybCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGV4dCA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgIHJlc3BvbnNlLnJlc3BvbnNlQmxvYiA9IG1ha2VCbG9iKFt0ZXh0XSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXNwb25zZS5yZXNwb25zZUJsb2IgPSB0ZXh0IGFzIEJsb2I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGNvbnRlbnRUeXBlSGVhZGVyID0gcmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKTtcbiAgICAgICAgICBpZiAoY29udGVudFR5cGVIZWFkZXIpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlLmNvbnRlbnRUeXBlID0gY29udGVudFR5cGVIZWFkZXIucmVwbGFjZSgvKC4qKTsuKiQvLCBcIiQxXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29udGludWF0aW9uLnNjaGVkdWxlKHJlc3BvbnNlKTtcbiAgICB9XG4gIH07XG4gIHRyeSB7XG4gICAgaWYgKG9wdF9kYXRhKSB7XG4gICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCIsXG4gICAgICAgIG9wdF9jb250ZW50VHlwZSB8fCBcInRleHQvcGxhaW47IGNoYXJzZXQ9VVRGLThcIixcbiAgICAgICk7XG4gICAgICByZXF1ZXN0LnNlbmQob3B0X2RhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoL15maWxlOnxeaHR0cHM/OlxcL1xcL1teL10rXFwuZ2l0aHVidXNlcmNvbnRlbnRcXC5jb218XFwub3BmJC8udGVzdCh1cmwpKSB7XG4gICAgICAgIC8vIEZpbGUgb3IgR2l0SHViIHJhdyBVUkwgb3IgLm9wZlxuICAgICAgICBpZiAoXG4gICAgICAgICAgL1xcL2Fvem9yYWJ1bmtvXFwvW14vXStcXC9jYXJkc1xcL1teL10rXFwvZmlsZXNcXC9bXi8uXStcXC5odG1sJC8udGVzdCh1cmwpXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIEFvem9yYWJ1bmtvJ3MgKFgpSFRNTCBzdXBwb3J0XG4gICAgICAgICAgcmVxdWVzdC5vdmVycmlkZU1pbWVUeXBlKFwidGV4dC9odG1sOyBjaGFyc2V0PVNoaWZ0X0pJU1wiKTtcbiAgICAgICAgfSBlbHNlIGlmICgvXFwuKGh0bWx8aHRtKSQvLnRlc3QodXJsKSkge1xuICAgICAgICAgIHJlcXVlc3Qub3ZlcnJpZGVNaW1lVHlwZShcInRleHQvaHRtbDsgY2hhcnNldD1VVEYtOFwiKTtcbiAgICAgICAgfSBlbHNlIGlmICgvXFwuKHhodG1sfHhodHx4bWx8b3BmKSQvLnRlc3QodXJsKSkge1xuICAgICAgICAgIHJlcXVlc3Qub3ZlcnJpZGVNaW1lVHlwZShcImFwcGxpY2F0aW9uL3htbDsgY2hhcnNldD1VVEYtOFwiKTtcbiAgICAgICAgfSBlbHNlIGlmICgvXFwuKHR4dHxjc3MpJC8udGVzdCh1cmwpKSB7XG4gICAgICAgICAgcmVxdWVzdC5vdmVycmlkZU1pbWVUeXBlKFwidGV4dC9wbGFpbjsgY2hhcnNldD1VVEYtOFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBmYWxsYmFjayB0byBIVE1MXG4gICAgICAgICAgcmVxdWVzdC5vdmVycmlkZU1pbWVUeXBlKFwidGV4dC9odG1sOyBjaGFyc2V0PVVURi04XCIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKC9eZGF0YTosKDx8JTNDfCUzYykvLnRlc3QodXJsKSkge1xuICAgICAgICByZXF1ZXN0Lm92ZXJyaWRlTWltZVR5cGUoXCJ0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLThcIik7XG4gICAgICB9IGVsc2UgaWYgKC9eZGF0YTosLy50ZXN0KHVybCkpIHtcbiAgICAgICAgcmVxdWVzdC5vdmVycmlkZU1pbWVUeXBlKFwidGV4dC9wbGFpbjsgY2hhcnNldD1VVEYtOFwiKTtcbiAgICAgIH1cbiAgICAgIHJlcXVlc3Quc2VuZChudWxsKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBMb2dnaW5nLmxvZ2dlci53YXJuKGUsIGBFcnJvciBmZXRjaGluZyAke3VybH1gKTtcbiAgICBjb250aW51YXRpb24uc2NoZWR1bGUocmVzcG9uc2UpO1xuICB9XG4gIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJuIEJsb2JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VCbG9iKFxuICBwYXJ0czogKHN0cmluZyB8IEJsb2IgfCBBcnJheUJ1ZmZlciB8IEFycmF5QnVmZmVyVmlldylbXSxcbiAgb3B0X3R5cGU/OiBzdHJpbmcsXG4pOiBhbnkge1xuICBjb25zdCB0eXBlID0gb3B0X3R5cGUgfHwgXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIjtcbiAgY29uc3QgYnVpbGRlckN0ciA9IHdpbmRvd1tcIldlYktpdEJsb2JCdWlsZGVyXCJdIHx8IHdpbmRvd1tcIk1TQmxvYkJ1aWxkZXJcIl07IC8vIGRlcHJlY2F0ZWRcbiAgaWYgKGJ1aWxkZXJDdHIpIHtcbiAgICBjb25zdCBidWlsZGVyID0gbmV3IGJ1aWxkZXJDdHIoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBidWlsZGVyLmFwcGVuZChwYXJ0c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBidWlsZGVyLmdldEJsb2IodHlwZSk7XG4gIH1cbiAgcmV0dXJuIG5ldyBCbG9iKHBhcnRzLCB7IHR5cGUgfSk7XG59XG5cbi8qKlxuICogQHJldHVybiBUYXNrLlJlc3VsdC48QXJyYXlCdWZmZXI+XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWFkQmxvYihibG9iOiBCbG9iKTogYW55IHtcbiAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8QXJyYXlCdWZmZXI+ID0gVGFzay5uZXdGcmFtZShcInJlYWRCbG9iXCIpO1xuICBjb25zdCBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgY29uc3QgY29udGludWF0aW9uID0gZnJhbWUuc3VzcGVuZChmaWxlUmVhZGVyKTtcbiAgZmlsZVJlYWRlci5hZGRFdmVudExpc3RlbmVyKFxuICAgIFwibG9hZFwiLFxuICAgICgpID0+IHtcbiAgICAgIGNvbnRpbnVhdGlvbi5zY2hlZHVsZShmaWxlUmVhZGVyLnJlc3VsdCBhcyBBcnJheUJ1ZmZlcik7XG4gICAgfSxcbiAgICBmYWxzZSxcbiAgKTtcbiAgZmlsZVJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKTtcbiAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmV2b2tlT2JqZWN0VVJMKHVybDogc3RyaW5nKTogdm9pZCB7XG4gICh3aW5kb3dbXCJVUkxcIl0gfHwgd2luZG93W1wid2Via2l0VVJMXCJdKS5yZXZva2VPYmplY3RVUkwodXJsKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJuIHVybFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT2JqZWN0VVJMKGJsb2I6IEJsb2IpOiBzdHJpbmcge1xuICByZXR1cm4gKHdpbmRvd1tcIlVSTFwiXSB8fCB3aW5kb3dbXCJ3ZWJraXRVUkxcIl0pLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgUmVzb3VyY2VcbiAqL1xuZXhwb3J0IGNsYXNzIFJlc291cmNlU3RvcmU8UmVzb3VyY2U+IGltcGxlbWVudHMgTmV0LlJlc291cmNlU3RvcmU8UmVzb3VyY2U+IHtcbiAgcmVzb3VyY2VzOiB7IFtrZXk6IHN0cmluZ106IFJlc291cmNlIH0gPSB7fTtcbiAgZmV0Y2hlcnM6IHsgW2tleTogc3RyaW5nXTogVGFza1V0aWwuRmV0Y2hlcjxSZXNvdXJjZT4gfSA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBwYXJzZXI6IChcbiAgICAgIHAxOiBSZXNwb25zZSxcbiAgICAgIHAyOiBSZXNvdXJjZVN0b3JlPFJlc291cmNlPixcbiAgICApID0+IFRhc2suUmVzdWx0PFJlc291cmNlPixcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogWE1MSHR0cFJlcXVlc3RSZXNwb25zZVR5cGUsXG4gICkge31cblxuICAvKipcbiAgICogQHJldHVybiByZXNvdXJjZSBmb3IgdGhlIGdpdmVuIFVSTFxuICAgKi9cbiAgbG9hZChcbiAgICB1cmw6IHN0cmluZyxcbiAgICBvcHRfcmVxdWlyZWQ/OiBib29sZWFuLFxuICAgIG9wdF9tZXNzYWdlPzogc3RyaW5nLFxuICApOiBUYXNrLlJlc3VsdDxSZXNvdXJjZT4ge1xuICAgIHVybCA9IEJhc2Uuc3RyaXBGcmFnbWVudCh1cmwpO1xuICAgIGNvbnN0IHJlc291cmNlID0gdGhpcy5yZXNvdXJjZXNbdXJsXTtcbiAgICBpZiAodHlwZW9mIHJlc291cmNlICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChyZXNvdXJjZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZldGNoKHVybCwgb3B0X3JlcXVpcmVkLCBvcHRfbWVzc2FnZSkuZ2V0KCk7XG4gIH1cblxuICBwcml2YXRlIGZldGNoSW5uZXIoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgb3B0X3JlcXVpcmVkPzogYm9vbGVhbixcbiAgICBvcHRfbWVzc2FnZT86IHN0cmluZyxcbiAgKTogVGFzay5SZXN1bHQ8UmVzb3VyY2U+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxSZXNvdXJjZT4gPSBUYXNrLm5ld0ZyYW1lKFwiZmV0Y2hcIik7XG5cbiAgICAvLyBIYWNrIGZvciBUT0NWaWV3LnNob3dUT0MoKVxuICAgIGNvbnN0IGlzVG9jQm94ID0gdXJsLmVuZHNXaXRoKFwiP3Zpdi10b2MtYm94XCIpO1xuICAgIGlmIChpc1RvY0JveCkge1xuICAgICAgdXJsID0gdXJsLnJlcGxhY2UoXCI/dml2LXRvYy1ib3hcIiwgXCJcIik7XG4gICAgfVxuICAgIGNvbnN0IHVzZXJBZ2VudFhtbFVybCA9IEJhc2UucmVzb2x2ZVVSTChcbiAgICAgIFwidXNlci1hZ2VudC54bWxcIixcbiAgICAgIEJhc2UucmVzb3VyY2VCYXNlVVJMLFxuICAgICk7XG4gICAgY29uc3QgaXNVc2VyQWdlbnRYbWwgPSAhaXNUb2NCb3ggJiYgdXJsID09PSB1c2VyQWdlbnRYbWxVcmw7XG4gICAgaWYgKGlzVXNlckFnZW50WG1sKSB7XG4gICAgICAvLyBDaGFuZ2UgXCJ1c2VyLWFnZW50LnhtbFwiIFVSTCB0byBkYXRhIFVSTFxuICAgICAgdXJsID0gYGRhdGE6YXBwbGljYXRpb24veG1sLCR7ZW5jb2RlVVJJQ29tcG9uZW50KFVzZXJBZ2VudFhtbCl9YDtcbiAgICB9XG5cbiAgICBhamF4KHVybCwgc2VsZi50eXBlKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSA0MDApIHtcbiAgICAgICAgaWYgKG9wdF9yZXF1aXJlZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIChvcHRfbWVzc2FnZSB8fCBgRmFpbGVkIHRvIGZldGNoIHJlcXVpcmVkIHJlc291cmNlOiAke3VybH1gKSArXG4gICAgICAgICAgICAgIGAgKCR7cmVzcG9uc2Uuc3RhdHVzfSR7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzVGV4dCA/IFwiIFwiICsgcmVzcG9uc2Uuc3RhdHVzVGV4dCA6IFwiXCJcbiAgICAgICAgICAgICAgfSlgLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc1RvY0JveCkge1xuICAgICAgICAvLyBIYWNrIGZvciBUT0NWaWV3LnNob3dUT0MoKVxuICAgICAgICB1cmwgKz0gXCI/dml2LXRvYy1ib3hcIjtcbiAgICAgICAgcmVzcG9uc2UudXJsICs9IFwiP3Zpdi10b2MtYm94XCI7XG4gICAgICB9IGVsc2UgaWYgKGlzVXNlckFnZW50WG1sKSB7XG4gICAgICAgIC8vIFJlc3RvcmUgXCJ1c2VyLWFnZW50LnhtbFwiIFVSTFxuICAgICAgICByZXNwb25zZS51cmwgPSB1cmwgPSB1c2VyQWdlbnRYbWxVcmw7XG4gICAgICB9XG4gICAgICBzZWxmLnBhcnNlcihyZXNwb25zZSwgc2VsZikudGhlbigocmVzb3VyY2UpID0+IHtcbiAgICAgICAgZGVsZXRlIHNlbGYuZmV0Y2hlcnNbdXJsXTtcbiAgICAgICAgc2VsZi5yZXNvdXJjZXNbdXJsXSA9IHJlc291cmNlO1xuICAgICAgICBmcmFtZS5maW5pc2gocmVzb3VyY2UpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gZmV0Y2hlciBmb3IgdGhlIHJlc291cmNlIGZvciB0aGUgZ2l2ZW4gVVJMXG4gICAqL1xuICBmZXRjaChcbiAgICB1cmw6IHN0cmluZyxcbiAgICBvcHRfcmVxdWlyZWQ/OiBib29sZWFuLFxuICAgIG9wdF9tZXNzYWdlPzogc3RyaW5nLFxuICApOiBUYXNrVXRpbC5GZXRjaGVyPFJlc291cmNlPiB7XG4gICAgdXJsID0gQmFzZS5zdHJpcEZyYWdtZW50KHVybCk7XG4gICAgY29uc3QgcmVzb3VyY2UgPSB0aGlzLnJlc291cmNlc1t1cmxdO1xuICAgIGlmIChyZXNvdXJjZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGxldCBmZXRjaGVyID0gdGhpcy5mZXRjaGVyc1t1cmxdO1xuICAgIGlmICghZmV0Y2hlcikge1xuICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICBmZXRjaGVyID0gbmV3IFRhc2tVdGlsLkZldGNoZXIoXG4gICAgICAgICgpID0+IHNlbGYuZmV0Y2hJbm5lcih1cmwsIG9wdF9yZXF1aXJlZCwgb3B0X21lc3NhZ2UpLFxuICAgICAgICBgRmV0Y2ggJHt1cmx9YCxcbiAgICAgICk7XG4gICAgICBzZWxmLmZldGNoZXJzW3VybF0gPSBmZXRjaGVyO1xuICAgICAgZmV0Y2hlci5zdGFydCgpO1xuICAgIH1cbiAgICByZXR1cm4gZmV0Y2hlcjtcbiAgfVxuXG4gIGdldCh1cmw6IHN0cmluZyk6IFhtbERvYy5YTUxEb2NIb2xkZXIge1xuICAgIGNvbnN0IHJlc291cmNlOiB1bmtub3duID0gdGhpcy5yZXNvdXJjZXNbQmFzZS5zdHJpcEZyYWdtZW50KHVybCldO1xuICAgIHJldHVybiByZXNvdXJjZSBhcyBYbWxEb2MuWE1MRG9jSG9sZGVyO1xuICB9XG5cbiAgZGVsZXRlKHVybDogc3RyaW5nKSB7XG4gICAgZGVsZXRlIHRoaXMucmVzb3VyY2VzW0Jhc2Uuc3RyaXBGcmFnbWVudCh1cmwpXTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBKU09OU3RvcmUgPSBSZXNvdXJjZVN0b3JlPEJhc2UuSlNPTj47XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUpTT05SZXNvdXJjZShcbiAgcmVzcG9uc2U6IFJlc3BvbnNlLFxuICBzdG9yZTogSlNPTlN0b3JlLFxuKTogVGFzay5SZXN1bHQ8QmFzZS5KU09OPiB7XG4gIGNvbnN0IHRleHQgPSByZXNwb25zZS5yZXNwb25zZVRleHQ7XG4gIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0ZXh0ID8gQmFzZS5zdHJpbmdUb0pTT04odGV4dCkgOiBudWxsKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5ld0pTT05TdG9yZSgpOiBKU09OU3RvcmUge1xuICByZXR1cm4gbmV3IFJlc291cmNlU3RvcmUocGFyc2VKU09OUmVzb3VyY2UsIFhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlLlRFWFQpO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBDc3NQYXJzZXIgLSBDU1MgUGFyc2VyLlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIENzc1Rva2VuaXplciBmcm9tIFwiLi9jc3MtdG9rZW5pemVyXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5pbXBvcnQgKiBhcyBOZXQgZnJvbSBcIi4vbmV0XCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcblxuLyoqXG4gKiBVc2VyIGFnZW50IHN0eWxlc2hlZXQgYmFzZSBzcGVjaWZpY2l0eS5cbiAqL1xuZXhwb3J0IGNvbnN0IFNQRUNJRklDSVRZX1VTRVJfQUdFTlQ6IG51bWJlciA9IDA7XG5cbi8qKlxuICogVXNlciBzdHlsZXNoZWV0IGJhc2Ugc3BlY2lmaWNpdHkuXG4gKi9cbmV4cG9ydCBjb25zdCBTUEVDSUZJQ0lUWV9VU0VSOiBudW1iZXIgPSAxNjc3NzIxNjtcblxuLyoqXG4gKiBBdXRob3Igc3R5bGVzaGVldCAoXCJub3JtYWxcIiBzdHlsZXNoZWV0KSBiYXNlIHNwZWNpZmljaXR5LlxuICovXG5leHBvcnQgY29uc3QgU1BFQ0lGSUNJVFlfQVVUSE9SOiBudW1iZXIgPSAzMzU1NDQzMjtcblxuLyoqXG4gKiBTdHlsZSBhdHRyaWJ1dGUgYmFzZSBzcGVjaWZpY2l0eS5cbiAqL1xuZXhwb3J0IGNvbnN0IFNQRUNJRklDSVRZX1NUWUxFOiBudW1iZXIgPSA1MDMzMTY0ODtcblxuLyoqXG4gKiBTdHlsZSBhdHRyaWJ1dGUgYmFzZSBzcGVjaWZpY2l0eSB3aGVuICFpbXBvcnRhbnQgaXMgdXNlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IFNQRUNJRklDSVRZX1NUWUxFX0lNUE9SVEFOVDogbnVtYmVyID0gNjcxMDg4NjQ7XG5cbi8qKlxuICogQXV0aG9yIHN0eWxlc2hlZXQgYmFzZSBzcGVjaWZpY2l0eSB3aGVuICFpbXBvcnRhbnQgaXMgdXNlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IFNQRUNJRklDSVRZX0FVVEhPUl9JTVBPUlRBTlQ6IG51bWJlciA9IDgzODg2MDgwO1xuXG4vKipcbiAqIFVzZXIgc3R5bGVzaGVldCBiYXNlIHNwZWNpZmljaXR5IHdoZW4gIWltcG9ydGFudCBpcyB1c2VkLlxuICovXG5leHBvcnQgY29uc3QgU1BFQ0lGSUNJVFlfVVNFUl9JTVBPUlRBTlQ6IG51bWJlciA9IDEwMDY2MzI5NjtcblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZW51bSBTdHlsZXNoZWV0Rmxhdm9yIHtcbiAgVVNFUl9BR0VOVCA9IFwiVUFcIixcbiAgVVNFUiA9IFwiVXNlclwiLFxuICBBVVRIT1IgPSBcIkF1dGhvclwiLFxufVxuXG4vKipcbiAqIENTUyBDb2xvciB2YWx1ZSBmcm9tIGhhc2ggdGV4dCAod2l0aG91dCAnIycgY2hhcmFjdGVyKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbG9yRnJvbUhhc2godGV4dDogc3RyaW5nKTogQ3NzLkNvbG9yIHtcbiAgbGV0IG51bSA9IHBhcnNlSW50KHRleHQsIDE2KTtcbiAgaWYgKGlzTmFOKG51bSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NTU19DT0xPUlwiKTtcbiAgfVxuICBpZiAodGV4dC5sZW5ndGggPT0gNikge1xuICAgIHJldHVybiBuZXcgQ3NzLkNvbG9yKG51bSk7XG4gIH1cbiAgaWYgKHRleHQubGVuZ3RoID09IDMpIHtcbiAgICBudW0gPVxuICAgICAgKG51bSAmIDE1KSB8XG4gICAgICAoKG51bSAmIDE1KSA8PCA0KSB8XG4gICAgICAoKG51bSAmIDI0MCkgPDwgNCkgfFxuICAgICAgKChudW0gJiAyNDApIDw8IDgpIHxcbiAgICAgICgobnVtICYgMzg0MCkgPDwgOCkgfFxuICAgICAgKChudW0gJiAzODQwKSA8PCAxMik7XG4gICAgcmV0dXJuIG5ldyBDc3MuQ29sb3IobnVtKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NTU19DT0xPUlwiKTtcbn1cblxuZXhwb3J0IGNsYXNzIFBhcnNlckhhbmRsZXIgaW1wbGVtZW50cyBDc3NUb2tlbml6ZXIuVG9rZW5pemVySGFuZGxlciB7XG4gIGZsYXZvcjogU3R5bGVzaGVldEZsYXZvcjtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSkge1xuICAgIHRoaXMuZmxhdm9yID0gU3R5bGVzaGVldEZsYXZvci5BVVRIT1I7XG4gIH1cblxuICBnZXRDdXJyZW50VG9rZW4oKTogQ3NzVG9rZW5pemVyLlRva2VuIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGdldFNjb3BlKCk6IEV4cHJzLkxleGljYWxTY29wZSB7XG4gICAgcmV0dXJuIHRoaXMuc2NvcGU7XG4gIH1cblxuICBlcnJvcihtbmVtb25pY3M6IHN0cmluZywgdG9rZW46IENzc1Rva2VuaXplci5Ub2tlbik6IHZvaWQge31cblxuICBzdGFydFN0eWxlc2hlZXQoZmxhdm9yOiBTdHlsZXNoZWV0Rmxhdm9yKTogdm9pZCB7XG4gICAgdGhpcy5mbGF2b3IgPSBmbGF2b3I7XG4gIH1cblxuICB0YWdTZWxlY3Rvcihuczogc3RyaW5nIHwgbnVsbCwgbmFtZTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge31cblxuICBjbGFzc1NlbGVjdG9yKG5hbWU6IHN0cmluZyk6IHZvaWQge31cblxuICBwc2V1ZG9jbGFzc1NlbGVjdG9yKG5hbWU6IHN0cmluZywgcGFyYW1zOiAobnVtYmVyIHwgc3RyaW5nKVtdKTogdm9pZCB7fVxuXG4gIHBzZXVkb2VsZW1lbnRTZWxlY3RvcihuYW1lOiBzdHJpbmcsIHBhcmFtczogKG51bWJlciB8IHN0cmluZylbXSk6IHZvaWQge31cblxuICBpZFNlbGVjdG9yKGlkOiBzdHJpbmcpOiB2b2lkIHt9XG5cbiAgYXR0cmlidXRlU2VsZWN0b3IoXG4gICAgbnM6IHN0cmluZyxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgb3A6IENzc1Rva2VuaXplci5Ub2tlblR5cGUsXG4gICAgdmFsdWU6IHN0cmluZyB8IG51bGwsXG4gICk6IHZvaWQge31cblxuICBkZXNjZW5kYW50U2VsZWN0b3IoKTogdm9pZCB7fVxuXG4gIGNoaWxkU2VsZWN0b3IoKTogdm9pZCB7fVxuXG4gIGFkamFjZW50U2libGluZ1NlbGVjdG9yKCk6IHZvaWQge31cblxuICBmb2xsb3dpbmdTaWJsaW5nU2VsZWN0b3IoKTogdm9pZCB7fVxuXG4gIG5leHRTZWxlY3RvcigpOiB2b2lkIHt9XG5cbiAgc3RhcnRTZWxlY3RvclJ1bGUoKTogdm9pZCB7fVxuXG4gIHN0YXJ0Rm9udEZhY2VSdWxlKCk6IHZvaWQge31cblxuICBzdGFydEZvb3Rub3RlUnVsZShwc2V1ZG9lbGVtOiBzdHJpbmcgfCBudWxsKTogdm9pZCB7fVxuXG4gIHN0YXJ0Vmlld3BvcnRSdWxlKCk6IHZvaWQge31cblxuICBzdGFydERlZmluZVJ1bGUoKTogdm9pZCB7fVxuXG4gIHN0YXJ0UmVnaW9uUnVsZSgpOiB2b2lkIHt9XG5cbiAgc3RhcnRQYWdlUnVsZSgpOiB2b2lkIHt9XG5cbiAgc3RhcnRQYWdlTWFyZ2luQm94UnVsZShuYW1lOiBzdHJpbmcpOiB2b2lkIHt9XG5cbiAgc3RhcnRXaGVuUnVsZShleHByOiBDc3MuRXhwcik6IHZvaWQge31cblxuICBzdGFydE1lZGlhUnVsZShleHByOiBDc3MuRXhwcik6IHZvaWQge1xuICAgIHRoaXMuc3RhcnRXaGVuUnVsZShleHByKTtcbiAgfVxuXG4gIHN0YXJ0Rmxvd1J1bGUoZmxvd05hbWU6IHN0cmluZyk6IHZvaWQge31cblxuICBzdGFydFBhZ2VUZW1wbGF0ZVJ1bGUoKTogdm9pZCB7fVxuXG4gIHN0YXJ0UGFnZU1hc3RlclJ1bGUoXG4gICAgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwc2V1ZG9OYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGNsYXNzZXM6IHN0cmluZ1tdLFxuICApOiB2b2lkIHt9XG5cbiAgc3RhcnRQYXJ0aXRpb25SdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7fVxuXG4gIHN0YXJ0UGFydGl0aW9uR3JvdXBSdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7fVxuXG4gIHN0YXJ0UnVsZUJvZHkoKTogdm9pZCB7fVxuXG4gIHByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwsIGltcG9ydGFudDogYm9vbGVhbik6IHZvaWQge31cblxuICBlbmRSdWxlKCk6IHZvaWQge31cblxuICAvKipcbiAgICogQHBhcmFtIGZ1bmNOYW1lIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0YWtpbmcgYSBzZWxlY3RvciBsaXN0IGFzIGFuXG4gICAqICAgICBhcmd1bWVudFxuICAgKi9cbiAgc3RhcnRGdW5jV2l0aFNlbGVjdG9yKGZ1bmNOYW1lOiBzdHJpbmcpOiB2b2lkIHt9XG5cbiAgZW5kRnVuY1dpdGhTZWxlY3RvcigpOiB2b2lkIHt9XG5cbiAgZ2V0SW1wb3J0YW50U3BlY2lmaWNpdHkoKTogbnVtYmVyIHtcbiAgICBzd2l0Y2ggKHRoaXMuZmxhdm9yKSB7XG4gICAgICBjYXNlIFN0eWxlc2hlZXRGbGF2b3IuVVNFUl9BR0VOVDpcbiAgICAgICAgcmV0dXJuIFNQRUNJRklDSVRZX1VTRVJfQUdFTlQ7XG4gICAgICBjYXNlIFN0eWxlc2hlZXRGbGF2b3IuVVNFUjpcbiAgICAgICAgcmV0dXJuIFNQRUNJRklDSVRZX1VTRVJfSU1QT1JUQU5UO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFNQRUNJRklDSVRZX0FVVEhPUl9JTVBPUlRBTlQ7XG4gICAgfVxuICB9XG5cbiAgZ2V0QmFzZVNwZWNpZmljaXR5KCk6IG51bWJlciB7XG4gICAgc3dpdGNoICh0aGlzLmZsYXZvcikge1xuICAgICAgY2FzZSBTdHlsZXNoZWV0Rmxhdm9yLlVTRVJfQUdFTlQ6XG4gICAgICAgIHJldHVybiBTUEVDSUZJQ0lUWV9VU0VSX0FHRU5UO1xuICAgICAgY2FzZSBTdHlsZXNoZWV0Rmxhdm9yLlVTRVI6XG4gICAgICAgIHJldHVybiBTUEVDSUZJQ0lUWV9VU0VSO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFNQRUNJRklDSVRZX0FVVEhPUjtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERpc3BhdGNoUGFyc2VySGFuZGxlciBleHRlbmRzIFBhcnNlckhhbmRsZXIge1xuICBzdGFjazogUGFyc2VySGFuZGxlcltdID0gW107XG4gIHRva2VuaXplcjogQ3NzVG9rZW5pemVyLlRva2VuaXplciA9IG51bGw7XG4gIHNsYXZlOiBQYXJzZXJIYW5kbGVyID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihudWxsKTtcbiAgfVxuXG4gIHB1c2hIYW5kbGVyKHNsYXZlOiBQYXJzZXJIYW5kbGVyKTogdm9pZCB7XG4gICAgdGhpcy5zdGFjay5wdXNoKHRoaXMuc2xhdmUpO1xuICAgIHRoaXMuc2xhdmUgPSBzbGF2ZTtcbiAgfVxuXG4gIHBvcEhhbmRsZXIoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZSA9IHRoaXMuc3RhY2sucG9wKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRDdXJyZW50VG9rZW4oKTogQ3NzVG9rZW5pemVyLlRva2VuIHtcbiAgICBpZiAodGhpcy50b2tlbml6ZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLnRva2VuaXplci50b2tlbigpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFNjb3BlKCk6IEV4cHJzLkxleGljYWxTY29wZSB7XG4gICAgcmV0dXJuIHRoaXMuc2xhdmUuZ2V0U2NvcGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3J3YXJkcyBjYWxsIHRvIHNsYXZlLlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVycm9yKG1uZW1vbmljczogc3RyaW5nLCB0b2tlbjogQ3NzVG9rZW5pemVyLlRva2VuKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5lcnJvcihtbmVtb25pY3MsIHRva2VuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgYnkgYSBzbGF2ZS5cbiAgICovXG4gIGVycm9yTXNnKG1uZW1vbmljczogc3RyaW5nLCB0b2tlbjogQ3NzVG9rZW5pemVyLlRva2VuKTogdm9pZCB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihtbmVtb25pY3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRTdHlsZXNoZWV0KGZsYXZvcjogU3R5bGVzaGVldEZsYXZvcik6IHZvaWQge1xuICAgIHN1cGVyLnN0YXJ0U3R5bGVzaGVldChmbGF2b3IpO1xuICAgIGlmICh0aGlzLnN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIFRoaXMgY2FuIG9jY3VyIGFzIGEgcmVzdWx0IG9mIGFuIGVycm9yXG4gICAgICB0aGlzLnNsYXZlID0gdGhpcy5zdGFja1swXTtcbiAgICAgIHRoaXMuc3RhY2sgPSBbXTtcbiAgICB9XG4gICAgdGhpcy5zbGF2ZS5zdGFydFN0eWxlc2hlZXQoZmxhdm9yKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRhZ1NlbGVjdG9yKG5zOiBzdHJpbmcgfCBudWxsLCBuYW1lOiBzdHJpbmcgfCBudWxsKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS50YWdTZWxlY3RvcihucywgbmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjbGFzc1NlbGVjdG9yKG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuY2xhc3NTZWxlY3RvcihuYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBzZXVkb2NsYXNzU2VsZWN0b3IobmFtZTogc3RyaW5nLCBwYXJhbXM6IChudW1iZXIgfCBzdHJpbmcpW10pOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLnBzZXVkb2NsYXNzU2VsZWN0b3IobmFtZSwgcGFyYW1zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBzZXVkb2VsZW1lbnRTZWxlY3RvcihuYW1lOiBzdHJpbmcsIHBhcmFtczogKG51bWJlciB8IHN0cmluZylbXSk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUucHNldWRvZWxlbWVudFNlbGVjdG9yKG5hbWUsIHBhcmFtcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpZFNlbGVjdG9yKGlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLmlkU2VsZWN0b3IoaWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXR0cmlidXRlU2VsZWN0b3IoXG4gICAgbnM6IHN0cmluZyxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgb3A6IENzc1Rva2VuaXplci5Ub2tlblR5cGUsXG4gICAgdmFsdWU6IHN0cmluZyB8IG51bGwsXG4gICk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuYXR0cmlidXRlU2VsZWN0b3IobnMsIG5hbWUsIG9wLCB2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBkZXNjZW5kYW50U2VsZWN0b3IoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5kZXNjZW5kYW50U2VsZWN0b3IoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNoaWxkU2VsZWN0b3IoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5jaGlsZFNlbGVjdG9yKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhZGphY2VudFNpYmxpbmdTZWxlY3RvcigpOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLmFkamFjZW50U2libGluZ1NlbGVjdG9yKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmb2xsb3dpbmdTaWJsaW5nU2VsZWN0b3IoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5mb2xsb3dpbmdTaWJsaW5nU2VsZWN0b3IoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG5leHRTZWxlY3RvcigpOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLm5leHRTZWxlY3RvcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRTZWxlY3RvclJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydFNlbGVjdG9yUnVsZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRGb250RmFjZVJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydEZvbnRGYWNlUnVsZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRGb290bm90ZVJ1bGUocHNldWRvZWxlbTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRGb290bm90ZVJ1bGUocHNldWRvZWxlbSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFZpZXdwb3J0UnVsZSgpOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLnN0YXJ0Vmlld3BvcnRSdWxlKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydERlZmluZVJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydERlZmluZVJ1bGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UmVnaW9uUnVsZSgpOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLnN0YXJ0UmVnaW9uUnVsZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYWdlUnVsZSgpOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLnN0YXJ0UGFnZVJ1bGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFnZU1hcmdpbkJveFJ1bGUobmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydFBhZ2VNYXJnaW5Cb3hSdWxlKG5hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRXaGVuUnVsZShleHByOiBDc3MuRXhwcik6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRXaGVuUnVsZShleHByKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Rmxvd1J1bGUoZmxvd05hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRGbG93UnVsZShmbG93TmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhZ2VUZW1wbGF0ZVJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydFBhZ2VUZW1wbGF0ZVJ1bGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFnZU1hc3RlclJ1bGUoXG4gICAgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwc2V1ZG9OYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGNsYXNzZXM6IHN0cmluZ1tdLFxuICApOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLnN0YXJ0UGFnZU1hc3RlclJ1bGUobmFtZSwgcHNldWRvTmFtZSwgY2xhc3Nlcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhcnRpdGlvblJ1bGUoXG4gICAgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwc2V1ZG9OYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGNsYXNzZXM6IHN0cmluZ1tdLFxuICApOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLnN0YXJ0UGFydGl0aW9uUnVsZShuYW1lLCBwc2V1ZG9OYW1lLCBjbGFzc2VzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFydGl0aW9uR3JvdXBSdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydFBhcnRpdGlvbkdyb3VwUnVsZShuYW1lLCBwc2V1ZG9OYW1lLCBjbGFzc2VzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UnVsZUJvZHkoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydFJ1bGVCb2R5KCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLnByb3BlcnR5KG5hbWUsIHZhbHVlLCBpbXBvcnRhbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZW5kUnVsZSgpOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLmVuZFJ1bGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0RnVuY1dpdGhTZWxlY3RvcihmdW5jTmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydEZ1bmNXaXRoU2VsZWN0b3IoZnVuY05hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZW5kRnVuY1dpdGhTZWxlY3RvcigpOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLmVuZEZ1bmNXaXRoU2VsZWN0b3IoKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2tpcHBpbmdQYXJzZXJIYW5kbGVyIGV4dGVuZHMgUGFyc2VySGFuZGxlciB7XG4gIGRlcHRoOiBudW1iZXIgPSAwO1xuICBmbGF2b3I6IFN0eWxlc2hlZXRGbGF2b3I7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBwdWJsaWMgb3duZXI6IERpc3BhdGNoUGFyc2VySGFuZGxlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgdG9wTGV2ZWwsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlKTtcbiAgICBpZiAob3duZXIpIHtcbiAgICAgIHRoaXMuZmxhdm9yID0gb3duZXIuZmxhdm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldEN1cnJlbnRUb2tlbigpOiBDc3NUb2tlbml6ZXIuVG9rZW4ge1xuICAgIHJldHVybiB0aGlzLm93bmVyLmdldEN1cnJlbnRUb2tlbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXJyb3IobW5lbW9uaWNzOiBzdHJpbmcsIHRva2VuOiBDc3NUb2tlbml6ZXIuVG9rZW4pOiB2b2lkIHtcbiAgICB0aGlzLm93bmVyLmVycm9yTXNnKG1uZW1vbmljcywgdG9rZW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRSdWxlQm9keSgpOiB2b2lkIHtcbiAgICB0aGlzLmRlcHRoKys7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBlbmRSdWxlKCk6IHZvaWQge1xuICAgIGlmICgtLXRoaXMuZGVwdGggPT0gMCAmJiAhdGhpcy50b3BMZXZlbCkge1xuICAgICAgdGhpcy5vd25lci5wb3BIYW5kbGVyKCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTbGF2ZVBhcnNlckhhbmRsZXIgZXh0ZW5kcyBTa2lwcGluZ1BhcnNlckhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIG93bmVyOiBEaXNwYXRjaFBhcnNlckhhbmRsZXIsXG4gICAgdG9wTGV2ZWw6IGJvb2xlYW4sXG4gICkge1xuICAgIHN1cGVyKHNjb3BlLCBvd25lciwgdG9wTGV2ZWwpO1xuICB9XG5cbiAgcmVwb3J0KG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuZXJyb3IobWVzc2FnZSwgdGhpcy5nZXRDdXJyZW50VG9rZW4oKSk7XG4gIH1cblxuICByZXBvcnRBbmRTa2lwKG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0KG1lc3NhZ2UpO1xuICAgIHRoaXMub3duZXIucHVzaEhhbmRsZXIoXG4gICAgICBuZXcgU2tpcHBpbmdQYXJzZXJIYW5kbGVyKHRoaXMuc2NvcGUsIHRoaXMub3duZXIsIGZhbHNlKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRTZWxlY3RvclJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnRBbmRTa2lwKFwiRV9DU1NfVU5FWFBFQ1RFRF9TRUxFQ1RPUlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Rm9udEZhY2VSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0QW5kU2tpcChcIkVfQ1NTX1VORVhQRUNURURfRk9OVF9GQUNFXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRGb290bm90ZVJ1bGUocHNldWRvZWxlbTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0QW5kU2tpcChcIkVfQ1NTX1VORVhQRUNURURfRk9PVE5PVEVcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFZpZXdwb3J0UnVsZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX1ZJRVdQT1JUXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnREZWZpbmVSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0QW5kU2tpcChcIkVfQ1NTX1VORVhQRUNURURfREVGSU5FXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRSZWdpb25SdWxlKCk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0QW5kU2tpcChcIkVfQ1NTX1VORVhQRUNURURfUkVHSU9OXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYWdlUnVsZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX1BBR0VcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFdoZW5SdWxlKGV4cHI6IENzcy5FeHByKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnRBbmRTa2lwKFwiRV9DU1NfVU5FWFBFQ1RFRF9XSEVOXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRGbG93UnVsZShmbG93TmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnRBbmRTa2lwKFwiRV9DU1NfVU5FWFBFQ1RFRF9GTE9XXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYWdlVGVtcGxhdGVSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0QW5kU2tpcChcIkVfQ1NTX1VORVhQRUNURURfUEFHRV9URU1QTEFURVwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFnZU1hc3RlclJ1bGUoXG4gICAgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwc2V1ZG9OYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGNsYXNzZXM6IHN0cmluZ1tdLFxuICApOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX1BBR0VfTUFTVEVSXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYXJ0aXRpb25SdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnRBbmRTa2lwKFwiRV9DU1NfVU5FWFBFQ1RFRF9QQVJUSVRJT05cIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhcnRpdGlvbkdyb3VwUnVsZShcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0QW5kU2tpcChcIkVfQ1NTX1VORVhQRUNURURfUEFSVElUSU9OX0dST1VQXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRGdW5jV2l0aFNlbGVjdG9yKGZ1bmNOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX1NFTEVDVE9SX0ZVTkNcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBlbmRGdW5jV2l0aFNlbGVjdG9yKCk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0QW5kU2tpcChcIkVfQ1NTX1VORVhQRUNURURfRU5EX1NFTEVDVE9SX0ZVTkNcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLmVycm9yKFwiRV9DU1NfVU5FWFBFQ1RFRF9QUk9QRVJUWVwiLCB0aGlzLmdldEN1cnJlbnRUb2tlbigpKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgYWN0aW9uc0Jhc2U6IEFjdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zU3R5bGVBdHRyaWJ1dGU6IEFjdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zU2VsZWN0b3I6IEFjdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zU2VsZWN0b3JJbkZ1bmM6IEFjdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zU2VsZWN0b3JDb250OiBBY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1NlbGVjdG9yU3RhcnQ6IEFjdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zUHJvcFZhbDogQWN0aW9uW10gPSBbXTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNFeHByVmFsOiBBY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc0V4cHJPcDogQWN0aW9uW10gPSBbXTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNFcnJvcjogQWN0aW9uW10gPSBbXTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNFcnJvckRlY2w6IEFjdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zRXJyb3JTZWxlY3RvcjogQWN0aW9uW10gPSBbXTtcblxuZXhwb3J0IGNvbnN0IHByaW9yaXR5OiBudW1iZXJbXSA9IFtdO1xuXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBlbnVtIEFjdGlvbiB7XG4gIFNFTEVDVE9SX05BTUVfMSA9IDEsXG4gIFNFTEVDVE9SX05BTUUsXG4gIFNFTEVDVE9SX0FOWV8xLFxuICBTRUxFQ1RPUl9BTlksXG4gIFNFTEVDVE9SX0lEXzEsXG4gIFNFTEVDVE9SX0lELFxuICBTRUxFQ1RPUl9DTEFTU18xLFxuICBTRUxFQ1RPUl9DTEFTUyxcbiAgU0VMRUNUT1JfQVRUUl8xLFxuICBTRUxFQ1RPUl9BVFRSLFxuICBTRUxFQ1RPUl9DSElMRCxcbiAgU0VMRUNUT1JfU0lCTElORyxcbiAgU0VMRUNUT1JfQk9EWSxcbiAgU0VMRUNUT1JfUFNFVURPQ0xBU1MsXG4gIFZBTF9JREVOVCxcbiAgVkFMX0hBU0gsXG4gIFZBTF9OVU0sXG4gIFZBTF9JTlQsXG4gIFZBTF9OVU1FUklDLFxuICBWQUxfU1RSLFxuICBWQUxfVVJMLFxuICBWQUxfQ09NTUEsXG4gIFZBTF9TTEFTSCxcbiAgVkFMX0ZVTkMsXG4gIFZBTF9DX1BBUixcbiAgVkFMX0VORCxcbiAgUlVMRV9FTkQsXG4gIElERU5ULFxuICBTRUxFQ1RPUl9TVEFSVCxcbiAgQVQsXG4gIEVYUFJfSURFTlQsXG4gIEVYUFJfTlVNLFxuICBFWFBSX05VTUVSSUMsXG4gIEVYUFJfU1RSLFxuICBFWFBSX1BBUkFNLFxuICBFWFBSX1BSRUZJWCxcbiAgRVhQUl9JTkZJWCxcbiAgRVhQUl9GVU5DLFxuICBFWFBSX0NfUEFSLFxuICBFWFBSX09fUEFSLFxuICBTRUxFQ1RPUl9ORVhULFxuICBTRUxFQ1RPUl9QU0VVRE9FTEVNLFxuICBFWFBSX09fQlJDLFxuICBWQUxfRklOSVNILFxuICBFWFBSX0lORklYX05BTUUsXG4gIFBST1AsXG4gIFZBTF9CQU5HLFxuICBWQUxfQlJDLFxuICBFWFBSX1NFTUlDT0wsXG4gIEVSUk9SX1BVU0gsXG4gIEVSUk9SX1BPUCxcbiAgRVJST1JfUE9QX0RFQ0wsXG4gIEVSUk9SX1NFTUlDT0wsXG4gIFZBTF9QTFVTLFxuICBTRUxFQ1RPUl9QU0VVRE9DTEFTU18xLFxuICBTRUxFQ1RPUl9GT0xMT1dJTkdfU0lCTElORyxcbiAgRE9ORSA9IDIwMCxcbn1cblxuZXhwb3J0IGNvbnN0IE9QX01FRElBX0FORDogbnVtYmVyID0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5MQVNUICsgMTtcblxuKCgpID0+IHtcbiAgYWN0aW9uc0Jhc2VbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVF0gPSBBY3Rpb24uSURFTlQ7XG4gIGFjdGlvbnNCYXNlW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RBUl0gPSBBY3Rpb24uU0VMRUNUT1JfU1RBUlQ7XG4gIGFjdGlvbnNCYXNlW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuSEFTSF0gPSBBY3Rpb24uU0VMRUNUT1JfU1RBUlQ7XG4gIGFjdGlvbnNCYXNlW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ0xBU1NdID0gQWN0aW9uLlNFTEVDVE9SX1NUQVJUO1xuICBhY3Rpb25zQmFzZVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJLXSA9IEFjdGlvbi5TRUxFQ1RPUl9TVEFSVDtcbiAgYWN0aW9uc0Jhc2VbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xPTl0gPSBBY3Rpb24uU0VMRUNUT1JfU1RBUlQ7XG4gIGFjdGlvbnNCYXNlW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQVRdID0gQWN0aW9uLkFUO1xuICBhY3Rpb25zQmFzZVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfQlJDXSA9IEFjdGlvbi5SVUxFX0VORDtcbiAgYWN0aW9uc0Jhc2VbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FT0ZdID0gQWN0aW9uLkRPTkU7XG4gIGFjdGlvbnNTdHlsZUF0dHJpYnV0ZVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UXSA9IEFjdGlvbi5QUk9QO1xuICBhY3Rpb25zU3R5bGVBdHRyaWJ1dGVbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FT0ZdID0gQWN0aW9uLkRPTkU7XG4gIGFjdGlvbnNTZWxlY3RvclN0YXJ0W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlRdID0gQWN0aW9uLlNFTEVDVE9SX05BTUU7XG4gIGFjdGlvbnNTZWxlY3RvclN0YXJ0W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RBUl0gPSBBY3Rpb24uU0VMRUNUT1JfQU5ZO1xuICBhY3Rpb25zU2VsZWN0b3JTdGFydFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkhBU0hdID0gQWN0aW9uLlNFTEVDVE9SX0lEO1xuICBhY3Rpb25zU2VsZWN0b3JTdGFydFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNMQVNTXSA9IEFjdGlvbi5TRUxFQ1RPUl9DTEFTUztcbiAgYWN0aW9uc1NlbGVjdG9yU3RhcnRbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSS10gPSBBY3Rpb24uU0VMRUNUT1JfQVRUUjtcbiAgYWN0aW9uc1NlbGVjdG9yU3RhcnRbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xPTl0gPVxuICAgIEFjdGlvbi5TRUxFQ1RPUl9QU0VVRE9DTEFTUztcblxuICBhY3Rpb25zU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5HVF0gPSBBY3Rpb24uU0VMRUNUT1JfQ0hJTEQ7XG4gIGFjdGlvbnNTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlBMVVNdID0gQWN0aW9uLlNFTEVDVE9SX1NJQkxJTkc7XG4gIGFjdGlvbnNTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlRJTERFXSA9XG4gICAgQWN0aW9uLlNFTEVDVE9SX0ZPTExPV0lOR19TSUJMSU5HO1xuICBhY3Rpb25zU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVF0gPSBBY3Rpb24uU0VMRUNUT1JfTkFNRV8xO1xuICBhY3Rpb25zU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVEFSXSA9IEFjdGlvbi5TRUxFQ1RPUl9BTllfMTtcbiAgYWN0aW9uc1NlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuSEFTSF0gPSBBY3Rpb24uU0VMRUNUT1JfSURfMTtcbiAgYWN0aW9uc1NlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ0xBU1NdID0gQWN0aW9uLlNFTEVDVE9SX0NMQVNTXzE7XG4gIGFjdGlvbnNTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJLXSA9IEFjdGlvbi5TRUxFQ1RPUl9BVFRSXzE7XG4gIGFjdGlvbnNTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJDXSA9IEFjdGlvbi5TRUxFQ1RPUl9CT0RZO1xuICBhY3Rpb25zU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xPTl0gPSBBY3Rpb24uU0VMRUNUT1JfUFNFVURPQ0xBU1NfMTtcbiAgYWN0aW9uc1NlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MX0NPTF0gPSBBY3Rpb24uU0VMRUNUT1JfUFNFVURPRUxFTTtcbiAgYWN0aW9uc1NlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09NTUFdID0gQWN0aW9uLlNFTEVDVE9SX05FWFQ7XG4gIGFjdGlvbnNTZWxlY3RvckluRnVuY1tDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UXSA9IEFjdGlvbi5TRUxFQ1RPUl9OQU1FXzE7XG4gIGFjdGlvbnNTZWxlY3RvckluRnVuY1tDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUQVJdID0gQWN0aW9uLlNFTEVDVE9SX0FOWV8xO1xuICBhY3Rpb25zU2VsZWN0b3JJbkZ1bmNbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5IQVNIXSA9IEFjdGlvbi5TRUxFQ1RPUl9JRF8xO1xuICBhY3Rpb25zU2VsZWN0b3JJbkZ1bmNbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DTEFTU10gPSBBY3Rpb24uU0VMRUNUT1JfQ0xBU1NfMTtcbiAgYWN0aW9uc1NlbGVjdG9ySW5GdW5jW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUktdID0gQWN0aW9uLlNFTEVDVE9SX0FUVFJfMTtcbiAgYWN0aW9uc1NlbGVjdG9ySW5GdW5jW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVJdID0gQWN0aW9uLkRPTkU7XG4gIGFjdGlvbnNTZWxlY3RvckluRnVuY1tDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTE9OXSA9XG4gICAgQWN0aW9uLlNFTEVDVE9SX1BTRVVET0NMQVNTXzE7XG4gIGFjdGlvbnNTZWxlY3RvckNvbnRbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVF0gPSBBY3Rpb24uU0VMRUNUT1JfTkFNRTtcbiAgYWN0aW9uc1NlbGVjdG9yQ29udFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUQVJdID0gQWN0aW9uLlNFTEVDVE9SX0FOWTtcbiAgYWN0aW9uc1NlbGVjdG9yQ29udFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkhBU0hdID0gQWN0aW9uLlNFTEVDVE9SX0lEO1xuICBhY3Rpb25zU2VsZWN0b3JDb250W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ0xBU1NdID0gQWN0aW9uLlNFTEVDVE9SX0NMQVNTO1xuICBhY3Rpb25zU2VsZWN0b3JDb250W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT05dID1cbiAgICBBY3Rpb24uU0VMRUNUT1JfUFNFVURPQ0xBU1M7XG4gIGFjdGlvbnNTZWxlY3RvckNvbnRbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xfQ09MXSA9XG4gICAgQWN0aW9uLlNFTEVDVE9SX1BTRVVET0VMRU07XG4gIGFjdGlvbnNTZWxlY3RvckNvbnRbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSS10gPSBBY3Rpb24uU0VMRUNUT1JfQVRUUjtcbiAgYWN0aW9uc1NlbGVjdG9yQ29udFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJDXSA9IEFjdGlvbi5TRUxFQ1RPUl9CT0RZO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UXSA9IEFjdGlvbi5WQUxfSURFTlQ7XG4gIGFjdGlvbnNQcm9wVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuSEFTSF0gPSBBY3Rpb24uVkFMX0hBU0g7XG4gIGFjdGlvbnNQcm9wVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuTlVNXSA9IEFjdGlvbi5WQUxfTlVNO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklOVF0gPSBBY3Rpb24uVkFMX0lOVDtcbiAgYWN0aW9uc1Byb3BWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU1FUklDXSA9IEFjdGlvbi5WQUxfTlVNRVJJQztcbiAgYWN0aW9uc1Byb3BWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVFJdID0gQWN0aW9uLlZBTF9TVFI7XG4gIGFjdGlvbnNQcm9wVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuVVJMXSA9IEFjdGlvbi5WQUxfVVJMO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTU1BXSA9IEFjdGlvbi5WQUxfQ09NTUE7XG4gIGFjdGlvbnNQcm9wVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuU0xBU0hdID0gQWN0aW9uLlZBTF9TTEFTSDtcbiAgYWN0aW9uc1Byb3BWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5GVU5DXSA9IEFjdGlvbi5WQUxfRlVOQztcbiAgYWN0aW9uc1Byb3BWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX1BBUl0gPSBBY3Rpb24uVkFMX0NfUEFSO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNFTUlDT0xdID0gQWN0aW9uLlZBTF9FTkQ7XG4gIGFjdGlvbnNQcm9wVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19CUkNdID0gQWN0aW9uLlZBTF9CUkM7XG4gIGFjdGlvbnNQcm9wVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQkFOR10gPSBBY3Rpb24uVkFMX0JBTkc7XG4gIGFjdGlvbnNQcm9wVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuUExVU10gPSBBY3Rpb24uVkFMX1BMVVM7XG4gIGFjdGlvbnNQcm9wVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRU9GXSA9IEFjdGlvbi5WQUxfRklOSVNIO1xuICBhY3Rpb25zRXhwclZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UXSA9IEFjdGlvbi5FWFBSX0lERU5UO1xuICBhY3Rpb25zRXhwclZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk5VTV0gPSBBY3Rpb24uRVhQUl9OVU07XG4gIGFjdGlvbnNFeHByVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuSU5UXSA9IEFjdGlvbi5FWFBSX05VTTtcbiAgYWN0aW9uc0V4cHJWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU1FUklDXSA9IEFjdGlvbi5FWFBSX05VTUVSSUM7XG4gIGFjdGlvbnNFeHByVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RSXSA9IEFjdGlvbi5FWFBSX1NUUjtcbiAgYWN0aW9uc0V4cHJWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX1BBUl0gPSBBY3Rpb24uRVhQUl9PX1BBUjtcbiAgYWN0aW9uc0V4cHJWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5GVU5DXSA9IEFjdGlvbi5FWFBSX0ZVTkM7XG4gIGFjdGlvbnNFeHByVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQkFOR10gPSBBY3Rpb24uRVhQUl9QUkVGSVg7XG4gIGFjdGlvbnNFeHByVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuTUlOVVNdID0gQWN0aW9uLkVYUFJfUFJFRklYO1xuICBhY3Rpb25zRXhwclZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkRPTExBUl0gPSBBY3Rpb24uRVhQUl9QQVJBTTtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UXSA9IEFjdGlvbi5FWFBSX0lORklYX05BTUU7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT01NQV0gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkdUXSA9IEFjdGlvbi5FWFBSX0lORklYO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuTFRdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5HVF9FUV0gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkxUX0VRXSA9IEFjdGlvbi5FWFBSX0lORklYO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRVFdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FUV9FUV0gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBTkdfRVFdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5BTVBfQU1QXSA9IEFjdGlvbi5FWFBSX0lORklYO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQkFSX0JBUl0gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlBMVVNdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5NSU5VU10gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNMQVNIXSA9IEFjdGlvbi5FWFBSX0lORklYO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuUEVSQ0VOVF0gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUQVJdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xPTl0gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlFNQVJLXSA9IEFjdGlvbi5FWFBSX0lORklYO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVJdID0gQWN0aW9uLkVYUFJfQ19QQVI7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSQ10gPSBBY3Rpb24uRVhQUl9PX0JSQztcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNFTUlDT0xdID0gQWN0aW9uLkVYUFJfU0VNSUNPTDtcbiAgYWN0aW9uc0Vycm9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRU9GXSA9IEFjdGlvbi5ET05FO1xuICBhY3Rpb25zRXJyb3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSQ10gPSBBY3Rpb24uRVJST1JfUFVTSDtcbiAgYWN0aW9uc0Vycm9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19CUkNdID0gQWN0aW9uLkVSUk9SX1BPUDtcbiAgYWN0aW9uc0Vycm9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUktdID0gQWN0aW9uLkVSUk9SX1BVU0g7XG4gIGFjdGlvbnNFcnJvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfQlJLXSA9IEFjdGlvbi5FUlJPUl9QT1A7XG4gIGFjdGlvbnNFcnJvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fUEFSXSA9IEFjdGlvbi5FUlJPUl9QVVNIO1xuICBhY3Rpb25zRXJyb3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX1BBUl0gPSBBY3Rpb24uRVJST1JfUE9QO1xuICBhY3Rpb25zRXJyb3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TRU1JQ09MXSA9IEFjdGlvbi5FUlJPUl9TRU1JQ09MO1xuICBhY3Rpb25zRXJyb3JEZWNsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRU9GXSA9IEFjdGlvbi5ET05FO1xuICBhY3Rpb25zRXJyb3JEZWNsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUkNdID0gQWN0aW9uLkVSUk9SX1BVU0g7XG4gIGFjdGlvbnNFcnJvckRlY2xbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSQ10gPSBBY3Rpb24uRVJST1JfUE9QX0RFQ0w7XG4gIGFjdGlvbnNFcnJvckRlY2xbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSS10gPSBBY3Rpb24uRVJST1JfUFVTSDtcbiAgYWN0aW9uc0Vycm9yRGVjbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfQlJLXSA9IEFjdGlvbi5FUlJPUl9QT1A7XG4gIGFjdGlvbnNFcnJvckRlY2xbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX1BBUl0gPSBBY3Rpb24uRVJST1JfUFVTSDtcbiAgYWN0aW9uc0Vycm9yRGVjbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSXSA9IEFjdGlvbi5FUlJPUl9QT1A7XG4gIGFjdGlvbnNFcnJvckRlY2xbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TRU1JQ09MXSA9IEFjdGlvbi5FUlJPUl9TRU1JQ09MO1xuICBhY3Rpb25zRXJyb3JTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVPRl0gPSBBY3Rpb24uRE9ORTtcbiAgYWN0aW9uc0Vycm9yU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSQ10gPSBBY3Rpb24uRVJST1JfUFVTSDtcbiAgYWN0aW9uc0Vycm9yU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSQ10gPSBBY3Rpb24uRVJST1JfUE9QO1xuICBhY3Rpb25zRXJyb3JTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJLXSA9IEFjdGlvbi5FUlJPUl9QVVNIO1xuICBhY3Rpb25zRXJyb3JTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfQlJLXSA9IEFjdGlvbi5FUlJPUl9QT1A7XG4gIGFjdGlvbnNFcnJvclNlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19QQVJdID0gQWN0aW9uLkVSUk9SX1BVU0g7XG4gIGFjdGlvbnNFcnJvclNlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVJdID0gQWN0aW9uLkVSUk9SX1BPUDtcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX1BBUl0gPSAwO1xuICBwcmlvcml0eVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTU1BXSA9IDA7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuUU1BUktdID0gMTtcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xPTl0gPSAxO1xuICBwcmlvcml0eVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkFNUF9BTVBdID0gMjtcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5CQVJfQkFSXSA9IDI7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuTFRdID0gMztcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5HVF0gPSAzO1xuICBwcmlvcml0eVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkxUX0VRXSA9IDM7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuR1RfRVFdID0gMztcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FUV0gPSAzO1xuICBwcmlvcml0eVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVRX0VRXSA9IDM7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQkFOR19FUV0gPSAzO1xuICBwcmlvcml0eVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlBMVVNdID0gNDtcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5NSU5VU10gPSA0O1xuICBwcmlvcml0eVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUQVJdID0gNTtcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TTEFTSF0gPSA1O1xuICBwcmlvcml0eVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlBFUkNFTlRdID0gNTtcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FT0ZdID0gNjtcbiAgcHJpb3JpdHlbT1BfTUVESUFfQU5EXSA9IDI7XG59KSgpO1xuXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBlbnVtIEV4cHJDb250ZXh0IHtcbiAgUFJPUCxcbiAgV0hFTixcbiAgTUVESUEsXG4gIElNUE9SVCxcbn1cblxuZXhwb3J0IGNsYXNzIFBhcnNlciB7XG4gIHZhbFN0YWNrOiBhbnlbXSA9IFtdO1xuICBuYW1lc3BhY2VQcmVmaXhUb1VSSTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuICBkZWZhdWx0TmFtZXNwYWNlVVJJOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgcHJvcE5hbWU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwcm9wSW1wb3J0YW50OiBib29sZWFuID0gZmFsc2U7XG4gIGV4cHJDb250ZXh0OiBFeHByQ29udGV4dDtcbiAgcmVzdWx0OiBDc3MuVmFsID0gbnVsbDtcbiAgaW1wb3J0UmVhZHk6IGJvb2xlYW4gPSBmYWxzZTtcbiAgaW1wb3J0VVJMOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgaW1wb3J0Q29uZGl0aW9uOiBDc3MuRXhwciA9IG51bGw7XG4gIGVycm9yQnJhY2tldHM6IG51bWJlcltdID0gW107XG4gIHJ1bGVTdGFjazogc3RyaW5nW10gPSBbXTtcbiAgcmVnaW9uUnVsZTogYm9vbGVhbiA9IGZhbHNlO1xuICBwYWdlUnVsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBhY3Rpb25zOiBBY3Rpb25bXSxcbiAgICBwdWJsaWMgdG9rZW5pemVyOiBDc3NUb2tlbml6ZXIuVG9rZW5pemVyLFxuICAgIHB1YmxpYyByZWFkb25seSBoYW5kbGVyOiBQYXJzZXJIYW5kbGVyLFxuICAgIHB1YmxpYyBiYXNlVVJMOiBzdHJpbmcsXG4gICkge1xuICAgIHRoaXMuZXhwckNvbnRleHQgPSBFeHByQ29udGV4dC5NRURJQTtcbiAgfVxuXG4gIGV4dHJhY3RWYWxzKHNlcDogc3RyaW5nLCBpbmRleDogbnVtYmVyKTogQ3NzLlZhbFtdIHtcbiAgICBjb25zdCBhcnI6IENzcy5WYWxbXSA9IFtdO1xuICAgIGNvbnN0IHZhbFN0YWNrID0gdGhpcy52YWxTdGFjaztcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgYXJyLnB1c2godmFsU3RhY2tbaW5kZXgrK10gYXMgQ3NzLlZhbCk7XG4gICAgICBpZiAoaW5kZXggPT0gdmFsU3RhY2subGVuZ3RoKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKHZhbFN0YWNrW2luZGV4KytdICE9IHNlcCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIHN0YXRlXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgdmFsU3RhY2tSZWR1Y2Uoc2VwOiBzdHJpbmcsIHRva2VuOiBDc3NUb2tlbml6ZXIuVG9rZW4pOiBDc3MuVmFsIHtcbiAgICBjb25zdCB2YWxTdGFjayA9IHRoaXMudmFsU3RhY2s7XG4gICAgbGV0IGluZGV4ID0gdmFsU3RhY2subGVuZ3RoO1xuICAgIGxldCB2O1xuICAgIGRvIHtcbiAgICAgIHYgPSB2YWxTdGFja1stLWluZGV4XTtcbiAgICB9IHdoaWxlICh0eXBlb2YgdiAhPSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiB2ICE9IFwic3RyaW5nXCIpO1xuICAgIGxldCBjb3VudCA9IHZhbFN0YWNrLmxlbmd0aCAtIChpbmRleCArIDEpO1xuICAgIGlmIChjb3VudCA+IDEpIHtcbiAgICAgIHZhbFN0YWNrLnNwbGljZShcbiAgICAgICAgaW5kZXggKyAxLFxuICAgICAgICBjb3VudCxcbiAgICAgICAgbmV3IENzcy5TcGFjZUxpc3QodmFsU3RhY2suc2xpY2UoaW5kZXggKyAxLCB2YWxTdGFjay5sZW5ndGgpKSxcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChzZXAgPT0gXCIsXCIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpbmRleCsrO1xuICAgIGRvIHtcbiAgICAgIHYgPSB2YWxTdGFja1stLWluZGV4XTtcbiAgICB9IHdoaWxlICh0eXBlb2YgdiAhPSBcInVuZGVmaW5lZFwiICYmICh0eXBlb2YgdiAhPSBcInN0cmluZ1wiIHx8IHYgPT0gXCIsXCIpKTtcbiAgICBjb3VudCA9IHZhbFN0YWNrLmxlbmd0aCAtIChpbmRleCArIDEpO1xuICAgIGlmICh2ID09IFwiKFwiKSB7XG4gICAgICBpZiAoc2VwICE9IFwiKVwiKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlci5lcnJvcihcIkVfQ1NTX01JU01BVENIRURfQ19QQVJcIiwgdG9rZW4pO1xuICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3JEZWNsO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGZ1bmMgPSBuZXcgQ3NzLkZ1bmMoXG4gICAgICAgIHZhbFN0YWNrW2luZGV4IC0gMV0gYXMgc3RyaW5nLFxuICAgICAgICB0aGlzLmV4dHJhY3RWYWxzKFwiLFwiLCBpbmRleCArIDEpLFxuICAgICAgKTtcbiAgICAgIHZhbFN0YWNrLnNwbGljZShpbmRleCAtIDEsIGNvdW50ICsgMiwgZnVuYyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHNlcCAhPSBcIjtcIiB8fCBpbmRleCA+PSAwKSB7XG4gICAgICB0aGlzLmhhbmRsZXIuZXJyb3IoXCJFX0NTU19VTkVYUEVDVEVEX1ZBTF9FTkRcIiwgdG9rZW4pO1xuICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yRGVjbDtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoY291bnQgPiAxKSB7XG4gICAgICByZXR1cm4gbmV3IENzcy5Db21tYUxpc3QodGhpcy5leHRyYWN0VmFscyhcIixcIiwgaW5kZXggKyAxKSk7XG4gICAgfVxuICAgIHJldHVybiB2YWxTdGFja1swXSBhcyBDc3MuVmFsO1xuICB9XG5cbiAgZXhwckVycm9yKG1uZW1vbmljczogc3RyaW5nLCB0b2tlbjogQ3NzVG9rZW5pemVyLlRva2VuKSB7XG4gICAgdGhpcy5hY3Rpb25zID0gdGhpcy5wcm9wTmFtZSA/IGFjdGlvbnNFcnJvckRlY2wgOiBhY3Rpb25zRXJyb3I7XG4gICAgdGhpcy5oYW5kbGVyLmVycm9yKG1uZW1vbmljcywgdG9rZW4pO1xuICB9XG5cbiAgZXhwclN0YWNrUmVkdWNlKG9wOiBudW1iZXIsIHRva2VuOiBDc3NUb2tlbml6ZXIuVG9rZW4pOiBib29sZWFuIHtcbiAgICBjb25zdCB2YWxTdGFjayA9IHRoaXMudmFsU3RhY2s7XG4gICAgY29uc3QgaGFuZGxlciA9IHRoaXMuaGFuZGxlcjtcbiAgICBsZXQgdmFsID0gdmFsU3RhY2sucG9wKCkgYXMgRXhwcnMuVmFsO1xuICAgIGxldCB2YWwyOiBFeHBycy5WYWw7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGxldCB0b2sgPSB2YWxTdGFjay5wb3AoKTtcbiAgICAgIGlmIChvcCA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSKSB7XG4gICAgICAgIGNvbnN0IGFyZ3M6IEV4cHJzLlZhbFtdID0gW3ZhbF07XG4gICAgICAgIHdoaWxlICh0b2sgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT01NQSkge1xuICAgICAgICAgIGFyZ3MudW5zaGlmdCh2YWxTdGFjay5wb3AoKSk7XG4gICAgICAgICAgdG9rID0gdmFsU3RhY2sucG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0b2sgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIGlmICh0b2sgPT0gXCJ7XCIpIHtcbiAgICAgICAgICAgIC8vIHJlYWNoZWQgQ1NTIHBvcnRpb24gb2YgdGhlIHN0YWNrXG4gICAgICAgICAgICB3aGlsZSAoYXJncy5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgICBjb25zdCBlMSA9IGFyZ3Muc2hpZnQoKTtcbiAgICAgICAgICAgICAgY29uc3QgZTIgPSBhcmdzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgIGNvbnN0IGVyID0gbmV3IEV4cHJzLk9yTWVkaWEoaGFuZGxlci5nZXRTY29wZSgpLCBlMSwgZTIpO1xuICAgICAgICAgICAgICBhcmdzLnVuc2hpZnQoZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsU3RhY2sucHVzaChuZXcgQ3NzLkV4cHIoYXJnc1swXSkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSBlbHNlIGlmICh0b2sgPT0gXCIoXCIpIHtcbiAgICAgICAgICAgIC8vIGNhbGxcbiAgICAgICAgICAgIGNvbnN0IG5hbWUyID0gdmFsU3RhY2sucG9wKCkgYXMgc3RyaW5nO1xuICAgICAgICAgICAgY29uc3QgbmFtZTEgPSB2YWxTdGFjay5wb3AoKSBhcyBzdHJpbmcgfCBudWxsO1xuICAgICAgICAgICAgdmFsID0gbmV3IEV4cHJzLkNhbGwoXG4gICAgICAgICAgICAgIGhhbmRsZXIuZ2V0U2NvcGUoKSxcbiAgICAgICAgICAgICAgRXhwcnMubWFrZVF1YWxpZmllZE5hbWUobmFtZTEsIG5hbWUyKSxcbiAgICAgICAgICAgICAgYXJncyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBvcCA9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuRU9GO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0b2sgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX1BBUikge1xuICAgICAgICAgIGlmICh2YWwuaXNNZWRpYU5hbWUoKSkge1xuICAgICAgICAgICAgdmFsID0gbmV3IEV4cHJzLk1lZGlhVGVzdChcbiAgICAgICAgICAgICAgaGFuZGxlci5nZXRTY29wZSgpLFxuICAgICAgICAgICAgICB2YWwgYXMgRXhwcnMuTWVkaWFOYW1lLFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb3AgPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVPRjtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0b2sgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIC8vIHJlYWNoZWQgQ1NTIHBvcnRpb24gb2YgdGhlIHN0YWNrIG9yIGEgY2FsbFxuICAgICAgICAgIHZhbFN0YWNrLnB1c2godG9rKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCh0b2sgYXMgbnVtYmVyKSA8IDApIHtcbiAgICAgICAgLy8gcHJlZml4XG4gICAgICAgIGlmICh0b2sgPT0gLUNzc1Rva2VuaXplci5Ub2tlblR5cGUuQkFORykge1xuICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5Ob3QoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwpO1xuICAgICAgICB9IGVsc2UgaWYgKHRvayA9PSAtQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5NSU5VUykge1xuICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5OZWdhdGUoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZXhwckVycm9yKFwiRl9VTkVYUEVDVEVEX1NUQVRFXCIsIHRva2VuKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGluZml4XG4gICAgICAgIGlmIChwcmlvcml0eVtvcF0gPiBwcmlvcml0eVt0b2sgYXMgbnVtYmVyXSkge1xuICAgICAgICAgIHZhbFN0YWNrLnB1c2godG9rKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB2YWwyID0gdmFsU3RhY2sucG9wKCkgYXMgRXhwcnMuVmFsO1xuICAgICAgICBzd2l0Y2ggKHRvaykge1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5BTVBfQU1QOlxuICAgICAgICAgICAgdmFsID0gbmV3IEV4cHJzLkFuZChoYW5kbGVyLmdldFNjb3BlKCksIHZhbDIsIHZhbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIE9QX01FRElBX0FORDpcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5BbmRNZWRpYShoYW5kbGVyLmdldFNjb3BlKCksIHZhbDIsIHZhbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuQkFSX0JBUjpcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5PcihoYW5kbGVyLmdldFNjb3BlKCksIHZhbDIsIHZhbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuTFQ6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuTHQoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkdUOlxuICAgICAgICAgICAgdmFsID0gbmV3IEV4cHJzLkd0KGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsMiwgdmFsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5MVF9FUTpcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5MZShoYW5kbGVyLmdldFNjb3BlKCksIHZhbDIsIHZhbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuR1RfRVE6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuR2UoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVROlxuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FUV9FUTpcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5FcShoYW5kbGVyLmdldFNjb3BlKCksIHZhbDIsIHZhbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuQkFOR19FUTpcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5OZShoYW5kbGVyLmdldFNjb3BlKCksIHZhbDIsIHZhbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuUExVUzpcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5BZGQoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk1JTlVTOlxuICAgICAgICAgICAgdmFsID0gbmV3IEV4cHJzLlN1YnRyYWN0KGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsMiwgdmFsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVEFSOlxuICAgICAgICAgICAgdmFsID0gbmV3IEV4cHJzLk11bHRpcGx5KGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsMiwgdmFsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TTEFTSDpcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5EaXZpZGUoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlBFUkNFTlQ6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuTW9kdWxvKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsMiwgdmFsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xPTjpcbiAgICAgICAgICAgIGlmICh2YWxTdGFjay5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgIHN3aXRjaCAodmFsU3RhY2tbdmFsU3RhY2subGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuUU1BUks6XG4gICAgICAgICAgICAgICAgICB2YWxTdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5Db25kKFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLmdldFNjb3BlKCksXG4gICAgICAgICAgICAgICAgICAgIHZhbFN0YWNrLnBvcCgpIGFzIEV4cHJzLlZhbCxcbiAgICAgICAgICAgICAgICAgICAgdmFsMixcbiAgICAgICAgICAgICAgICAgICAgdmFsLFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX1BBUjpcbiAgICAgICAgICAgICAgICAgIGlmICh2YWwyLmlzTWVkaWFOYW1lKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gbmV3IEV4cHJzLk1lZGlhVGVzdChcbiAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLmdldFNjb3BlKCksXG4gICAgICAgICAgICAgICAgICAgICAgdmFsMiBhcyBFeHBycy5NZWRpYU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgdmFsLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leHByRXJyb3IoXCJFX0NTU19NRURJQV9URVNUXCIsIHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuZXhwckVycm9yKFwiRV9DU1NfRVhQUl9DT05EXCIsIHRva2VuKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlFNQVJLOlxuICAgICAgICAgICAgaWYgKG9wICE9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT04pIHtcbiAgICAgICAgICAgICAgdGhpcy5leHByRXJyb3IoXCJFX0NTU19FWFBSX0NPTkRcIiwgdG9rZW4pO1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBmYWxsIHRocm91Z2hcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuT19QQVI6XG4gICAgICAgICAgICAvLyBkb24ndCByZWR1Y2VcbiAgICAgICAgICAgIHZhbFN0YWNrLnB1c2godmFsMik7XG4gICAgICAgICAgICB2YWxTdGFjay5wdXNoKHRvayk7XG4gICAgICAgICAgICB2YWxTdGFjay5wdXNoKHZhbCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRoaXMuZXhwckVycm9yKFwiRl9VTkVYUEVDVEVEX1NUQVRFXCIsIHRva2VuKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB2YWxTdGFjay5wdXNoKHZhbCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmVhZFBzZXVkb1BhcmFtcygpOiAobnVtYmVyIHwgc3RyaW5nKVtdIHtcbiAgICBjb25zdCBhcnIgPSBbXTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgY29uc3QgdG9rZW4gPSB0aGlzLnRva2VuaXplci50b2tlbigpO1xuICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVDpcbiAgICAgICAgICBhcnIucHVzaCh0b2tlbi50ZXh0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlBMVVM6XG4gICAgICAgICAgYXJyLnB1c2goXCIrXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuTlVNOlxuICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSU5UOlxuICAgICAgICAgIGFyci5wdXNoKHRva2VuLm51bSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGFycjtcbiAgICAgIH1cbiAgICAgIHRoaXMudG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVhZCBgYW4rYmAgYXJndW1lbnQgb2YgcHNldWRvY2xhc3Nlcy4gUm91Z2hseSBiYXNlZCBvbiB0aGUgYWxnb3JpdGhtIGF0XG4gICAqIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3Mtc3ludGF4LyN0aGUtYW5iLXR5cGVcbiAgICovXG4gIHByaXZhdGUgcmVhZE50aFBzZXVkb1BhcmFtcygpOiBudW1iZXJbXSB8IG51bGwge1xuICAgIGxldCBoYXNMZWFkaW5nUGx1cyA9IGZhbHNlO1xuICAgIGxldCB0b2tlbiA9IHRoaXMudG9rZW5pemVyLnRva2VuKCk7XG4gICAgaWYgKHRva2VuLnR5cGUgPT09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuUExVUykge1xuICAgICAgLy8gJysnXG4gICAgICBoYXNMZWFkaW5nUGx1cyA9IHRydWU7XG4gICAgICB0aGlzLnRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICB0b2tlbiA9IHRoaXMudG9rZW5pemVyLnRva2VuKCk7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIHRva2VuLnR5cGUgPT09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQgJiZcbiAgICAgICh0b2tlbi50ZXh0ID09PSBcImV2ZW5cIiB8fCB0b2tlbi50ZXh0ID09PSBcIm9kZFwiKVxuICAgICkge1xuICAgICAgLy8gJ2V2ZW4nIG9yICdvZGQnXG4gICAgICB0aGlzLnRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICByZXR1cm4gWzIsIHRva2VuLnRleHQgPT09IFwib2RkXCIgPyAxIDogMF07XG4gICAgfVxuICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk5VTUVSSUM6XG4gICAgICAgIGlmIChoYXNMZWFkaW5nUGx1cyAmJiB0b2tlbi5udW0gPCAwKSB7XG4gICAgICAgICAgLy8gcmVqZWN0ICcrLWFuJ1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgIC8vIEZBTExUSFJPVUdIXG4gICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQ6XG4gICAgICAgIGlmIChoYXNMZWFkaW5nUGx1cyAmJiB0b2tlbi50ZXh0LmNoYXJBdCgwKSA9PT0gXCItXCIpIHtcbiAgICAgICAgICAvLyByZWplY3QgJystbidcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rZW4udGV4dCA9PT0gXCJuXCIgfHwgdG9rZW4udGV4dCA9PT0gXCItblwiKSB7XG4gICAgICAgICAgLy8gJ2FuJywgJ2FuICtiJywgJ2FuIC1iJywgJ24nLCAnbiArYicsICduIC1iJywgJy1uJywgJy1uICtiJyAnLW4gLWInXG4gICAgICAgICAgaWYgKGhhc0xlYWRpbmdQbHVzICYmIHRva2VuLnByZWNlZGVkQnlTcGFjZSkge1xuICAgICAgICAgICAgLy8gcmVqZWN0ICcrIGFuJ1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBhID0gdG9rZW4udGV4dCA9PT0gXCItblwiID8gLTEgOiAxO1xuICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk5VTUVSSUMpIHtcbiAgICAgICAgICAgIGEgPSB0b2tlbi5udW07XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBiID0gMDtcbiAgICAgICAgICB0aGlzLnRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgdG9rZW4gPSB0aGlzLnRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgIGNvbnN0IGhhc01pbnVzU2lnbiA9IHRva2VuLnR5cGUgPT09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuTUlOVVM7XG4gICAgICAgICAgY29uc3QgaGFzU2lnbiA9XG4gICAgICAgICAgICB0b2tlbi50eXBlID09PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlBMVVMgfHwgaGFzTWludXNTaWduO1xuICAgICAgICAgIGlmIChoYXNTaWduKSB7XG4gICAgICAgICAgICAvLyAnYW4gK2InLCAnYW4gLSBiJ1xuICAgICAgICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgdG9rZW4gPSB0aGlzLnRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlQpIHtcbiAgICAgICAgICAgIGIgPSB0b2tlbi5udW07XG5cbiAgICAgICAgICAgIGlmICgxIC8gYiA9PT0gMSAvIC0wKSB7XG4gICAgICAgICAgICAgIC8vIG5lZ2F0aXZlIHplcm86ICdhbiAtMCdcbiAgICAgICAgICAgICAgYiA9IDA7XG4gICAgICAgICAgICAgIGlmIChoYXNTaWduKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8vIHJlamVjdCAnYW4gKyAtMCcsICdhbiAtIC0wJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGIgPCAwKSB7XG4gICAgICAgICAgICAgIC8vIG5lZ2F0aXZlOiAnYW4gLWInXG4gICAgICAgICAgICAgIGlmIChoYXNTaWduKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8vIHJlamVjdCAnYW4gKyAtYicsICdhbiAtIC1iJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGIgPj0gMCkge1xuICAgICAgICAgICAgICAvLyBwb3NpdGl2ZSBvciBwb3NpdGl2ZSB6ZXJvOiAnYW4gK2InXG4gICAgICAgICAgICAgIGlmICghaGFzU2lnbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNTaWduKSB7XG4gICAgICAgICAgICAvLyByZWplY3QgJ2FuICsgKG5vbi1pbnRlZ2VyKSdcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gW2EsIGhhc01pbnVzU2lnbiAmJiBiID4gMCA/IC1iIDogYl07XG4gICAgICAgIH0gZWxzZSBpZiAodG9rZW4udGV4dCA9PT0gXCJuLVwiIHx8IHRva2VuLnRleHQgPT09IFwiLW4tXCIpIHtcbiAgICAgICAgICAvLyAnYW4tIGInLCAnLW4tIGInXG4gICAgICAgICAgaWYgKGhhc0xlYWRpbmdQbHVzICYmIHRva2VuLnByZWNlZGVkQnlTcGFjZSkge1xuICAgICAgICAgICAgLy8gcmVqZWN0ICcrIGFuLSBiJ1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBhID0gdG9rZW4udGV4dCA9PT0gXCItbi1cIiA/IC0xIDogMTtcbiAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU1FUklDKSB7XG4gICAgICAgICAgICBhID0gdG9rZW4ubnVtO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgdG9rZW4gPSB0aGlzLnRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklOVCkge1xuICAgICAgICAgICAgaWYgKHRva2VuLm51bSA8IDAgfHwgMSAvIHRva2VuLm51bSA9PT0gMSAvIC0wKSB7XG4gICAgICAgICAgICAgIC8vIHJlamVjdCAnYW4tIC1iJywgJ2FuLSAtMCdcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLnRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIHJldHVybiBbYSwgdG9rZW4ubnVtXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IHIgPSB0b2tlbi50ZXh0Lm1hdGNoKC9ebigtWzAtOV0rKSQvKTtcbiAgICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgLy8gJ24tYicsICdhbi1iJ1xuICAgICAgICAgICAgaWYgKGhhc0xlYWRpbmdQbHVzICYmIHRva2VuLnByZWNlZGVkQnlTcGFjZSkge1xuICAgICAgICAgICAgICAvLyByZWplY3QgJysgYW4tYidcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICB0b2tlbi50eXBlID09PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk5VTUVSSUMgPyB0b2tlbi5udW0gOiAxLFxuICAgICAgICAgICAgICBwYXJzZUludChyWzFdLCAxMCksXG4gICAgICAgICAgICBdO1xuICAgICAgICAgIH1cbiAgICAgICAgICByID0gdG9rZW4udGV4dC5tYXRjaCgvXi1uKC1bMC05XSspJC8pO1xuXG4gICAgICAgICAgLy8gJy1uLWInXG4gICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgIHRoaXMudG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIHJldHVybiBbLTEsIHBhcnNlSW50KHJbMV0sIDEwKV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklOVDpcbiAgICAgICAgaWYgKGhhc0xlYWRpbmdQbHVzICYmICh0b2tlbi5wcmVjZWRlZEJ5U3BhY2UgfHwgdG9rZW4ubnVtIDwgMCkpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgIHJldHVybiBbMCwgdG9rZW4ubnVtXTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBtYWtlQ29uZGl0aW9uKGNsYXNzZXM6IHN0cmluZyB8IG51bGwsIGNvbmRpdGlvbjogRXhwcnMuVmFsKTogQ3NzLkV4cHIge1xuICAgIGNvbnN0IHNjb3BlID0gdGhpcy5oYW5kbGVyLmdldFNjb3BlKCk7XG4gICAgaWYgKCFzY29wZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbmRpdGlvbiA9IGNvbmRpdGlvbiB8fCBzY29wZS5fdHJ1ZTtcbiAgICBpZiAoY2xhc3Nlcykge1xuICAgICAgY29uc3QgY2xhc3NMaXN0ID0gY2xhc3Nlcy5zcGxpdCgvXFxzKy8pO1xuICAgICAgZm9yIChjb25zdCBjbGFzc05hbWUgb2YgY2xhc3NMaXN0KSB7XG4gICAgICAgIHN3aXRjaCAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgY2FzZSBcInZlcnRpY2FsXCI6XG4gICAgICAgICAgICBjb25kaXRpb24gPSBFeHBycy5hbmQoXG4gICAgICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgICAgICBjb25kaXRpb24sXG4gICAgICAgICAgICAgIG5ldyBFeHBycy5Ob3Qoc2NvcGUsIG5ldyBFeHBycy5OYW1lZChzY29wZSwgXCJwcmVmLWhvcml6b250YWxcIikpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJob3Jpem9udGFsXCI6XG4gICAgICAgICAgICBjb25kaXRpb24gPSBFeHBycy5hbmQoXG4gICAgICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgICAgICBjb25kaXRpb24sXG4gICAgICAgICAgICAgIG5ldyBFeHBycy5OYW1lZChzY29wZSwgXCJwcmVmLWhvcml6b250YWxcIiksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImRheVwiOlxuICAgICAgICAgICAgY29uZGl0aW9uID0gRXhwcnMuYW5kKFxuICAgICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgICAgY29uZGl0aW9uLFxuICAgICAgICAgICAgICBuZXcgRXhwcnMuTm90KHNjb3BlLCBuZXcgRXhwcnMuTmFtZWQoc2NvcGUsIFwicHJlZi1uaWdodC1tb2RlXCIpKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwibmlnaHRcIjpcbiAgICAgICAgICAgIGNvbmRpdGlvbiA9IEV4cHJzLmFuZChcbiAgICAgICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgICAgIGNvbmRpdGlvbixcbiAgICAgICAgICAgICAgbmV3IEV4cHJzLk5hbWVkKHNjb3BlLCBcInByZWYtbmlnaHQtbW9kZVwiKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uZGl0aW9uID0gc2NvcGUuX2ZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjb25kaXRpb24gPT09IHNjb3BlLl90cnVlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBDc3MuRXhwcihjb25kaXRpb24pO1xuICB9XG5cbiAgaXNJbnNpZGVQcm9wZXJ0eU9ubHlSdWxlKCk6IGJvb2xlYW4ge1xuICAgIHN3aXRjaCAodGhpcy5ydWxlU3RhY2tbdGhpcy5ydWxlU3RhY2subGVuZ3RoIC0gMV0pIHtcbiAgICAgIGNhc2UgXCJbc2VsZWN0b3JdXCI6XG4gICAgICBjYXNlIFwiZm9udC1mYWNlXCI6XG4gICAgICBjYXNlIFwiLWVwdWJ4LWZsb3dcIjpcbiAgICAgIGNhc2UgXCItZXB1Yngtdmlld3BvcnRcIjpcbiAgICAgIGNhc2UgXCItZXB1YngtZGVmaW5lXCI6XG4gICAgICBjYXNlIFwiLWFkYXB0LWZvb3Rub3RlLWFyZWFcIjpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJ1blBhcnNlcihcbiAgICBjb3VudDogbnVtYmVyLFxuICAgIHBhcnNpbmdWYWx1ZSxcbiAgICBwYXJzaW5nU3R5bGVBdHRyOiBib29sZWFuLFxuICAgIHBhcnNpbmdNZWRpYVF1ZXJ5LFxuICAgIHBhcnNpbmdGdW5jdGlvblBhcmFtLFxuICApOiBib29sZWFuIHtcbiAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5oYW5kbGVyO1xuICAgIGNvbnN0IHRva2VuaXplciA9IHRoaXMudG9rZW5pemVyO1xuICAgIGNvbnN0IHZhbFN0YWNrID0gdGhpcy52YWxTdGFjaztcbiAgICBsZXQgdG9rZW46IENzc1Rva2VuaXplci5Ub2tlbjtcbiAgICBsZXQgdG9rZW4xOiBDc3NUb2tlbml6ZXIuVG9rZW47XG4gICAgbGV0IG5zOiBzdHJpbmcgfCBudWxsO1xuICAgIGxldCB0ZXh0OiBzdHJpbmcgfCBudWxsO1xuICAgIGxldCBudW06IG51bWJlcjtcbiAgICBsZXQgdmFsOiBDc3MuVmFsO1xuICAgIGxldCBwYXJhbXM6IChudW1iZXIgfCBzdHJpbmcpW107XG4gICAgaWYgKHBhcnNpbmdNZWRpYVF1ZXJ5KSB7XG4gICAgICB0aGlzLmV4cHJDb250ZXh0ID0gRXhwckNvbnRleHQuTUVESUE7XG4gICAgICB0aGlzLnZhbFN0YWNrLnB1c2goXCJ7XCIpO1xuICAgIH1cbiAgICBwYXJzZXJMb29wOiBmb3IgKDsgY291bnQgPiAwOyAtLWNvdW50KSB7XG4gICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgc3dpdGNoICh0aGlzLmFjdGlvbnNbdG9rZW4udHlwZV0pIHtcbiAgICAgICAgY2FzZSBBY3Rpb24uSURFTlQ6XG4gICAgICAgICAgLy8gZmlndXJlIG91dCBpZiB0aGlzIGlzIGEgcHJvcGVydHkgYXNzaWdubWVudCBvciBzZWxlY3RvclxuICAgICAgICAgIGlmICh0b2tlbml6ZXIubnRoVG9rZW4oMSkudHlwZSAhPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTE9OKSB7XG4gICAgICAgICAgICAvLyBjYW5ub3QgYmUgcHJvcGVydHkgYXNzaWdubWVudFxuICAgICAgICAgICAgaWYgKHRoaXMuaXNJbnNpZGVQcm9wZXJ0eU9ubHlSdWxlKCkpIHtcbiAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX0NPTE9OX0VYUEVDVEVEXCIsIHRva2VuaXplci5udGhUb2tlbigxKSk7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvckRlY2w7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JTdGFydDtcbiAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFNlbGVjdG9yUnVsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuMSA9IHRva2VuaXplci5udGhUb2tlbigyKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0b2tlbjEucHJlY2VkZWRCeVNwYWNlIHx8XG4gICAgICAgICAgICAodG9rZW4xLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVCAmJlxuICAgICAgICAgICAgICB0b2tlbjEudHlwZSAhPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkZVTkMpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICAvLyBjYW5ub3QgYmUgYSBzZWxlY3RvclxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBjYW4gYmUgZWl0aGVyIGEgc2VsZWN0b3Igb3IgYSBwcm9wZXJ0eSBhc3NpZ25tZW50XG4gICAgICAgICAgICB0b2tlbml6ZXIubWFyaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnByb3BOYW1lID0gdG9rZW4udGV4dDtcbiAgICAgICAgICB0aGlzLnByb3BJbXBvcnRhbnQgPSBmYWxzZTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1Byb3BWYWw7XG4gICAgICAgICAgdmFsU3RhY2suc3BsaWNlKDAsIHZhbFN0YWNrLmxlbmd0aCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlBST1A6XG4gICAgICAgICAgLy8gZmlndXJlIG91dCBpZiB0aGlzIGlzIGEgcHJvcGVydHkgYXNzaWdubWVudCBvciBzZWxlY3RvclxuICAgICAgICAgIGlmICh0b2tlbml6ZXIubnRoVG9rZW4oMSkudHlwZSAhPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTE9OKSB7XG4gICAgICAgICAgICAvLyBjYW5ub3QgYmUgcHJvcGVydHkgYXNzaWdubWVudFxuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yRGVjbDtcbiAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19DT0xPTl9FWFBFQ1RFRFwiLCB0b2tlbml6ZXIubnRoVG9rZW4oMSkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMucHJvcE5hbWUgPSB0b2tlbi50ZXh0O1xuICAgICAgICAgIHRoaXMucHJvcEltcG9ydGFudCA9IGZhbHNlO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zUHJvcFZhbDtcbiAgICAgICAgICB2YWxTdGFjay5zcGxpY2UoMCwgdmFsU3RhY2subGVuZ3RoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfU1RBUlQ6XG4gICAgICAgICAgLy8gZG9uJ3QgY29uc3VtZSwgcHJvY2VzcyBhZ2FpblxuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvclN0YXJ0O1xuICAgICAgICAgIGhhbmRsZXIuc3RhcnRTZWxlY3RvclJ1bGUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfTkFNRV8xOlxuICAgICAgICAgIGlmICghdG9rZW4ucHJlY2VkZWRCeVNwYWNlKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3JTZWxlY3RvcjtcbiAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19TUEFDRV9FWFBFQ1RFRFwiLCB0b2tlbik7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaGFuZGxlci5kZXNjZW5kYW50U2VsZWN0b3IoKTtcblxuICAgICAgICAvLyBmYWxsIHRocm91Z2hcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfTkFNRTpcbiAgICAgICAgICBpZiAodG9rZW5pemVyLm50aFRva2VuKDEpLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5CQVIpIHtcbiAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgbnMgPSB0aGlzLm5hbWVzcGFjZVByZWZpeFRvVVJJW3Rva2VuLnRleHRdO1xuICAgICAgICAgICAgaWYgKG5zICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UOlxuICAgICAgICAgICAgICAgICAgaGFuZGxlci50YWdTZWxlY3RvcihucywgdG9rZW4udGV4dCk7XG4gICAgICAgICAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVEFSOlxuICAgICAgICAgICAgICAgICAgaGFuZGxlci50YWdTZWxlY3RvcihucywgbnVsbCk7XG4gICAgICAgICAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3I7XG4gICAgICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfTkFNRVNQQUNFXCIsIHRva2VuKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yO1xuICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfVU5ERUNMQVJFRF9QUkVGSVhcIiwgdG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVyLnRhZ1NlbGVjdG9yKHRoaXMuZGVmYXVsdE5hbWVzcGFjZVVSSSwgdG9rZW4udGV4dCk7XG4gICAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX0FOWV8xOlxuICAgICAgICAgIGlmICghdG9rZW4ucHJlY2VkZWRCeVNwYWNlKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3JTZWxlY3RvcjtcbiAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19TUEFDRV9FWFBFQ1RFRFwiLCB0b2tlbik7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaGFuZGxlci5kZXNjZW5kYW50U2VsZWN0b3IoKTtcblxuICAgICAgICAvLyBmYWxsIHRocm91Z2hcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfQU5ZOlxuICAgICAgICAgIGlmICh0b2tlbml6ZXIubnRoVG9rZW4oMSkudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBUikge1xuICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVDpcbiAgICAgICAgICAgICAgICBoYW5kbGVyLnRhZ1NlbGVjdG9yKG51bGwsIHRva2VuLnRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJzaW5nRnVuY3Rpb25QYXJhbSkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVEFSOlxuICAgICAgICAgICAgICAgIGhhbmRsZXIudGFnU2VsZWN0b3IobnVsbCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JJbkZ1bmM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3I7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX05BTUVTUEFDRVwiLCB0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhhbmRsZXIudGFnU2VsZWN0b3IodGhpcy5kZWZhdWx0TmFtZXNwYWNlVVJJLCBudWxsKTtcbiAgICAgICAgICAgIGlmIChwYXJzaW5nRnVuY3Rpb25QYXJhbSkge1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JJbkZ1bmM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfSURfMTpcbiAgICAgICAgICBpZiAodG9rZW4ucHJlY2VkZWRCeVNwYWNlKSB7XG4gICAgICAgICAgICBoYW5kbGVyLmRlc2NlbmRhbnRTZWxlY3RvcigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAvLyBmYWxsIHRocm91Z2hcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfSUQ6XG4gICAgICAgICAgaGFuZGxlci5pZFNlbGVjdG9yKHRva2VuLnRleHQpO1xuICAgICAgICAgIGlmIChwYXJzaW5nRnVuY3Rpb25QYXJhbSkge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3I7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX0NMQVNTXzE6XG4gICAgICAgICAgaWYgKHRva2VuLnByZWNlZGVkQnlTcGFjZSkge1xuICAgICAgICAgICAgaGFuZGxlci5kZXNjZW5kYW50U2VsZWN0b3IoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgLy8gZmFsbCB0aHJvdWdoXG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX0NMQVNTOlxuICAgICAgICAgIGhhbmRsZXIuY2xhc3NTZWxlY3Rvcih0b2tlbi50ZXh0KTtcbiAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvckluRnVuYztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TRUxFQ1RPUl9QU0VVRE9DTEFTU18xOlxuICAgICAgICAgIGlmICh0b2tlbi5wcmVjZWRlZEJ5U3BhY2UpIHtcbiAgICAgICAgICAgIGhhbmRsZXIuZGVzY2VuZGFudFNlbGVjdG9yKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIC8vIGZhbGwgdGhyb3VnaFxuICAgICAgICBjYXNlIEFjdGlvbi5TRUxFQ1RPUl9QU0VVRE9DTEFTUzpcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgcHNldWRvY2xhc3NUeXBlOiBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVDpcbiAgICAgICAgICAgICAgaGFuZGxlci5wc2V1ZG9jbGFzc1NlbGVjdG9yKHRva2VuLnRleHQsIG51bGwpO1xuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JJbkZ1bmM7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkZVTkM6XG4gICAgICAgICAgICAgIHRleHQgPSB0b2tlbi50ZXh0O1xuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICBzd2l0Y2ggKHRleHQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwibm90XCI6XG4gICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JTdGFydDtcbiAgICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRGdW5jV2l0aFNlbGVjdG9yKFwibm90XCIpO1xuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJ1blBhcnNlcihcbiAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvclNlbGVjdG9yO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgYnJlYWsgcGFyc2VyTG9vcDtcbiAgICAgICAgICAgICAgICBjYXNlIFwibGFuZ1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJocmVmLWVwdWItdHlwZVwiOlxuICAgICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcyA9IFt0b2tlbi50ZXh0XTtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBicmVhayBwc2V1ZG9jbGFzc1R5cGU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcIm50aC1jaGlsZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJudGgtb2YtdHlwZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJudGgtbGFzdC1jaGlsZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJudGgtbGFzdC1vZi10eXBlXCI6XG4gICAgICAgICAgICAgICAgICBwYXJhbXMgPSB0aGlzLnJlYWROdGhQc2V1ZG9QYXJhbXMoKTtcbiAgICAgICAgICAgICAgICAgIGlmICghcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrIHBzZXVkb2NsYXNzVHlwZTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAvLyBUT0RPXG4gICAgICAgICAgICAgICAgICBwYXJhbXMgPSB0aGlzLnJlYWRQc2V1ZG9QYXJhbXMoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5wc2V1ZG9jbGFzc1NlbGVjdG9yKHRleHQgYXMgc3RyaW5nLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JJbkZ1bmM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19QU0VVRE9DTEFTU19TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvcjtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfUFNFVURPRUxFTTpcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQ6XG4gICAgICAgICAgICAgIGhhbmRsZXIucHNldWRvZWxlbWVudFNlbGVjdG9yKHRva2VuLnRleHQsIG51bGwpO1xuICAgICAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JJbkZ1bmM7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkZVTkM6XG4gICAgICAgICAgICAgIHRleHQgPSB0b2tlbi50ZXh0O1xuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICBpZiAodGV4dCA9PSBcIm50aC1mcmFnbWVudFwiKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zID0gdGhpcy5yZWFkTnRoUHNldWRvUGFyYW1zKCk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmFtcyA9IHRoaXMucmVhZFBzZXVkb1BhcmFtcygpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVIpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLnBzZXVkb2VsZW1lbnRTZWxlY3Rvcih0ZXh0IGFzIHN0cmluZywgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvckluRnVuYztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfUFNFVURPRUxFTV9TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvcjtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfQVRUUl8xOlxuICAgICAgICAgIGlmICh0b2tlbi5wcmVjZWRlZEJ5U3BhY2UpIHtcbiAgICAgICAgICAgIGhhbmRsZXIuZGVzY2VuZGFudFNlbGVjdG9yKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIC8vIGZhbGwgdGhyb3VnaFxuICAgICAgICBjYXNlIEFjdGlvbi5TRUxFQ1RPUl9BVFRSOlxuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UKSB7XG4gICAgICAgICAgICB0ZXh0ID0gdG9rZW4udGV4dDtcbiAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RBUikge1xuICAgICAgICAgICAgdGV4dCA9IG51bGw7XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBUikge1xuICAgICAgICAgICAgdGV4dCA9IFwiXCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvclNlbGVjdG9yO1xuICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX0FUVFJcIiwgdG9rZW4pO1xuICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuQkFSKSB7XG4gICAgICAgICAgICBucyA9IHRleHQgPyB0aGlzLm5hbWVzcGFjZVByZWZpeFRvVVJJW3RleHRdIDogdGV4dDtcbiAgICAgICAgICAgIGlmIChucyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvclNlbGVjdG9yO1xuICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfVU5ERUNMQVJFRF9QUkVGSVhcIiwgdG9rZW4pO1xuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVCkge1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3JTZWxlY3RvcjtcbiAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX0FUVFJfTkFNRV9FWFBFQ1RFRFwiLCB0b2tlbik7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4dCA9IHRva2VuLnRleHQ7XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbnMgPSBcIlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FUTpcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5USUxERV9FUTpcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5CQVJfRVE6XG4gICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSEFUX0VROlxuICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkRPTExBUl9FUTpcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVEFSX0VROlxuICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTF9DT0w6XG4gICAgICAgICAgICAgIG51bSA9IHRva2VuLnR5cGU7XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfQlJLOlxuICAgICAgICAgICAgICBoYW5kbGVyLmF0dHJpYnV0ZVNlbGVjdG9yKFxuICAgICAgICAgICAgICAgIG5zIGFzIHN0cmluZyxcbiAgICAgICAgICAgICAgICB0ZXh0IGFzIHN0cmluZyxcbiAgICAgICAgICAgICAgICBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVPRixcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JJbkZ1bmM7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yU2VsZWN0b3I7XG4gICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19BVFRSX09QX0VYUEVDVEVEXCIsIHRva2VuKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UOlxuICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUUjpcbiAgICAgICAgICAgICAgaGFuZGxlci5hdHRyaWJ1dGVTZWxlY3RvcihcbiAgICAgICAgICAgICAgICBucyBhcyBzdHJpbmcsXG4gICAgICAgICAgICAgICAgdGV4dCBhcyBzdHJpbmcsXG4gICAgICAgICAgICAgICAgbnVtLFxuICAgICAgICAgICAgICAgIHRva2VuLnRleHQsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yU2VsZWN0b3I7XG4gICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19BVFRSX1ZBTF9FWFBFQ1RFRFwiLCB0b2tlbik7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodG9rZW4udHlwZSAhPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfQlJLKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3JTZWxlY3RvcjtcbiAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19BVFRSXCIsIHRva2VuKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvckluRnVuYztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TRUxFQ1RPUl9DSElMRDpcbiAgICAgICAgICBoYW5kbGVyLmNoaWxkU2VsZWN0b3IoKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JDb250O1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX1NJQkxJTkc6XG4gICAgICAgICAgaGFuZGxlci5hZGphY2VudFNpYmxpbmdTZWxlY3RvcigpO1xuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvckNvbnQ7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfRk9MTE9XSU5HX1NJQkxJTkc6XG4gICAgICAgICAgaGFuZGxlci5mb2xsb3dpbmdTaWJsaW5nU2VsZWN0b3IoKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JDb250O1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX0JPRFk6XG4gICAgICAgICAgaWYgKHRoaXMucmVnaW9uUnVsZSkge1xuICAgICAgICAgICAgdGhpcy5ydWxlU3RhY2sucHVzaChcIi1lcHVieC1yZWdpb25cIik7XG4gICAgICAgICAgICB0aGlzLnJlZ2lvblJ1bGUgPSBmYWxzZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGFnZVJ1bGUpIHtcbiAgICAgICAgICAgIHRoaXMucnVsZVN0YWNrLnB1c2goXCJwYWdlXCIpO1xuICAgICAgICAgICAgdGhpcy5wYWdlUnVsZSA9IGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJ1bGVTdGFjay5wdXNoKFwiW3NlbGVjdG9yXVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaGFuZGxlci5zdGFydFJ1bGVCb2R5KCk7XG4gICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Jhc2U7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfTkVYVDpcbiAgICAgICAgICBoYW5kbGVyLm5leHRTZWxlY3RvcigpO1xuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvclN0YXJ0O1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlZBTF9JREVOVDpcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKENzcy5nZXROYW1lKHRva2VuLnRleHQpKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfSEFTSDpcbiAgICAgICAgICBudW0gPSBwYXJzZUludCh0b2tlbi50ZXh0LCAxNik7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhbFN0YWNrLnB1c2goY29sb3JGcm9tSGFzaCh0b2tlbi50ZXh0KSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfQ09MT1JcIiwgdG9rZW4pO1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfTlVNOlxuICAgICAgICAgIHZhbFN0YWNrLnB1c2gobmV3IENzcy5OdW0odG9rZW4ubnVtKSk7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX0lOVDpcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKG5ldyBDc3MuSW50KHRva2VuLm51bSkpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlZBTF9OVU1FUklDOlxuICAgICAgICAgIGlmIChFeHBycy5pc1ZpZXdwb3J0UmVsYXRpdmVMZW5ndGhVbml0KHRva2VuLnRleHQpKSB7XG4gICAgICAgICAgICAvLyBUcmVhdCBudW1lcmljIHZhbHVlIHdpdGggdmlld3BvcnQgdW5pdCBhcyBudW1lcmljIGluIGV4cHIuXG4gICAgICAgICAgICB2YWxTdGFjay5wdXNoKFxuICAgICAgICAgICAgICBuZXcgQ3NzLkV4cHIoXG4gICAgICAgICAgICAgICAgbmV3IEV4cHJzLk51bWVyaWMoaGFuZGxlci5nZXRTY29wZSgpLCB0b2tlbi5udW0sIHRva2VuLnRleHQpLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsU3RhY2sucHVzaChuZXcgQ3NzLk51bWVyaWModG9rZW4ubnVtLCB0b2tlbi50ZXh0KSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlZBTF9TVFI6XG4gICAgICAgICAgdmFsU3RhY2sucHVzaChuZXcgQ3NzLlN0cih0b2tlbi50ZXh0KSk7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX1VSTDpcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKG5ldyBDc3MuVVJMKEJhc2UucmVzb2x2ZVVSTCh0b2tlbi50ZXh0LCB0aGlzLmJhc2VVUkwpKSk7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX0NPTU1BOlxuICAgICAgICAgIHRoaXMudmFsU3RhY2tSZWR1Y2UoXCIsXCIsIHRva2VuKTtcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKFwiLFwiKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfU0xBU0g6XG4gICAgICAgICAgdmFsU3RhY2sucHVzaChDc3Muc2xhc2gpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlZBTF9GVU5DOlxuICAgICAgICAgIHRleHQgPSB0b2tlbi50ZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgaWYgKHRleHQgPT0gXCItZXB1YngtZXhwclwiIHx8IHRleHQgPT0gXCJjYWxjXCIgfHwgdGV4dCA9PSBcImVudlwiKSB7XG4gICAgICAgICAgICAvLyBzcGVjaWFsIGNhc2VcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByVmFsO1xuICAgICAgICAgICAgdGhpcy5leHByQ29udGV4dCA9IEV4cHJDb250ZXh0LlBST1A7XG4gICAgICAgICAgICB2YWxTdGFjay5wdXNoKFwie1wiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsU3RhY2sucHVzaCh0ZXh0KTtcbiAgICAgICAgICAgIHZhbFN0YWNrLnB1c2goXCIoXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfQ19QQVI6XG4gICAgICAgICAgdGhpcy52YWxTdGFja1JlZHVjZShcIilcIiwgdG9rZW4pO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlZBTF9CQU5HOlxuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICB0b2tlbjEgPSB0b2tlbml6ZXIubnRoVG9rZW4oMSk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UICYmXG4gICAgICAgICAgICB0b2tlbi50ZXh0LnRvTG93ZXJDYXNlKCkgPT0gXCJpbXBvcnRhbnRcIiAmJlxuICAgICAgICAgICAgKHRva2VuMS50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuU0VNSUNPTCB8fFxuICAgICAgICAgICAgICB0b2tlbjEudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVPRiB8fFxuICAgICAgICAgICAgICB0b2tlbjEudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfQlJDKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIHRoaXMucHJvcEltcG9ydGFudCA9IHRydWU7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5leHByRXJyb3IoXCJFX0NTU19TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfUExVUzpcbiAgICAgICAgICB0b2tlbjEgPSB0b2tlbml6ZXIubnRoVG9rZW4oMSk7XG4gICAgICAgICAgc3dpdGNoICh0b2tlbjEudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk5VTTpcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU1FUklDOlxuICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklOVDpcbiAgICAgICAgICAgICAgaWYgKCF0b2tlbjEucHJlY2VkZWRCeVNwYWNlKSB7XG4gICAgICAgICAgICAgICAgLy8gUGx1cyBiZWZvcmUgbnVtYmVyLCBpZ25vcmVcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0aGlzLmFjdGlvbnMgPT09IGFjdGlvbnNQcm9wVmFsICYmIHRva2VuaXplci5oYXNNYXJrKCkpIHtcbiAgICAgICAgICAgIHRva2VuaXplci5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yU3RhcnQ7XG4gICAgICAgICAgICBoYW5kbGVyLnN0YXJ0U2VsZWN0b3JSdWxlKCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5leHByRXJyb3IoXCJFX0NTU19VTkVYUEVDVEVEX1BMVVNcIiwgdG9rZW4pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfRU5EOlxuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG5cbiAgICAgICAgLy8gZmFsbCB0aHJvdWdoXG4gICAgICAgIGNhc2UgQWN0aW9uLlZBTF9CUkM6XG4gICAgICAgICAgdG9rZW5pemVyLnVubWFyaygpO1xuICAgICAgICAgIHZhbCA9IHRoaXMudmFsU3RhY2tSZWR1Y2UoXCI7XCIsIHRva2VuKTtcbiAgICAgICAgICBpZiAodmFsICYmIHRoaXMucHJvcE5hbWUpIHtcbiAgICAgICAgICAgIGhhbmRsZXIucHJvcGVydHkodGhpcy5wcm9wTmFtZSBhcyBzdHJpbmcsIHZhbCwgdGhpcy5wcm9wSW1wb3J0YW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5hY3Rpb25zID0gcGFyc2luZ1N0eWxlQXR0ciA/IGFjdGlvbnNTdHlsZUF0dHJpYnV0ZSA6IGFjdGlvbnNCYXNlO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfRklOSVNIOlxuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgdG9rZW5pemVyLnVubWFyaygpO1xuICAgICAgICAgIHZhbCA9IHRoaXMudmFsU3RhY2tSZWR1Y2UoXCI7XCIsIHRva2VuKTtcbiAgICAgICAgICBpZiAocGFyc2luZ1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdCA9IHZhbDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5wcm9wTmFtZSAmJiB2YWwpIHtcbiAgICAgICAgICAgIGhhbmRsZXIucHJvcGVydHkodGhpcy5wcm9wTmFtZSBhcyBzdHJpbmcsIHZhbCwgdGhpcy5wcm9wSW1wb3J0YW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBhcnNpbmdTdHlsZUF0dHIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmV4cHJFcnJvcihcIkVfQ1NTX1NZTlRBWFwiLCB0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVYUFJfSURFTlQ6XG4gICAgICAgICAgdG9rZW4xID0gdG9rZW5pemVyLm50aFRva2VuKDEpO1xuICAgICAgICAgIGlmICh0b2tlbjEudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNMQVNTKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHRva2VuaXplci5udGhUb2tlbigyKS50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuT19QQVIgJiZcbiAgICAgICAgICAgICAgIXRva2VuaXplci5udGhUb2tlbigyKS5wcmVjZWRlZEJ5U3BhY2VcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB2YWxTdGFjay5wdXNoKHRva2VuLnRleHQsIHRva2VuMS50ZXh0LCBcIihcIik7XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YWxTdGFjay5wdXNoKFxuICAgICAgICAgICAgICAgIG5ldyBFeHBycy5OYW1lZChcbiAgICAgICAgICAgICAgICAgIGhhbmRsZXIuZ2V0U2NvcGUoKSxcbiAgICAgICAgICAgICAgICAgIEV4cHJzLm1ha2VRdWFsaWZpZWROYW1lKHRva2VuLnRleHQsIHRva2VuMS50ZXh0KSxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXhwck9wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICB0aGlzLmV4cHJDb250ZXh0ID09IEV4cHJDb250ZXh0Lk1FRElBIHx8XG4gICAgICAgICAgICAgIHRoaXMuZXhwckNvbnRleHQgPT0gRXhwckNvbnRleHQuSU1QT1JUXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaWYgKHRva2VuLnRleHQudG9Mb3dlckNhc2UoKSA9PSBcIm5vdFwiKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICB2YWxTdGFjay5wdXNoKFxuICAgICAgICAgICAgICAgICAgbmV3IEV4cHJzLk1lZGlhTmFtZShoYW5kbGVyLmdldFNjb3BlKCksIHRydWUsIHRva2VuMS50ZXh0KSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbi50ZXh0LnRvTG93ZXJDYXNlKCkgPT0gXCJvbmx5XCIpIHtcbiAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsU3RhY2sucHVzaChcbiAgICAgICAgICAgICAgICAgIG5ldyBFeHBycy5NZWRpYU5hbWUoaGFuZGxlci5nZXRTY29wZSgpLCBmYWxzZSwgdG9rZW4udGV4dCksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFsU3RhY2sucHVzaChuZXcgRXhwcnMuTmFtZWQoaGFuZGxlci5nZXRTY29wZSgpLCB0b2tlbi50ZXh0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXhwck9wO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX0ZVTkM6XG4gICAgICAgICAgdmFsU3RhY2sucHVzaChudWxsLCB0b2tlbi50ZXh0LCBcIihcIik7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uRVhQUl9OVU06XG4gICAgICAgICAgdmFsU3RhY2sucHVzaChuZXcgRXhwcnMuQ29uc3QoaGFuZGxlci5nZXRTY29wZSgpLCB0b2tlbi5udW0pKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByT3A7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVYUFJfTlVNRVJJQzpcbiAgICAgICAgICB0ZXh0ID0gdG9rZW4udGV4dDtcbiAgICAgICAgICBpZiAodGV4dCA9PSBcIiVcIikge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcE5hbWUgJiYgdGhpcy5wcm9wTmFtZS5tYXRjaCgvaGVpZ2h0fF4odG9wfGJvdHRvbSkkLykpIHtcbiAgICAgICAgICAgICAgdGV4dCA9IFwidmhcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRleHQgPSBcInZ3XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhbFN0YWNrLnB1c2gobmV3IEV4cHJzLk51bWVyaWMoaGFuZGxlci5nZXRTY29wZSgpLCB0b2tlbi5udW0sIHRleHQpKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByT3A7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVYUFJfU1RSOlxuICAgICAgICAgIHZhbFN0YWNrLnB1c2gobmV3IEV4cHJzLkNvbnN0KGhhbmRsZXIuZ2V0U2NvcGUoKSwgdG9rZW4udGV4dCkpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0V4cHJPcDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uRVhQUl9QQVJBTTpcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdG9rZW4udHlwZSAhPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklOVCB8fFxuICAgICAgICAgICAgdG9rZW4ucHJlY2VkZWRCeVNwYWNlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLmV4cHJFcnJvcihcIkVfQ1NTX1NZTlRBWFwiLCB0b2tlbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbFN0YWNrLnB1c2gobmV3IEV4cHJzLlBhcmFtKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdG9rZW4ubnVtKSk7XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0V4cHJPcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVYUFJfUFJFRklYOlxuICAgICAgICAgIHZhbFN0YWNrLnB1c2goLXRva2VuLnR5cGUpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVYUFJfSU5GSVg6XG4gICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0V4cHJWYWw7XG4gICAgICAgICAgdGhpcy5leHByU3RhY2tSZWR1Y2UodG9rZW4udHlwZSwgdG9rZW4pO1xuICAgICAgICAgIHZhbFN0YWNrLnB1c2godG9rZW4udHlwZSk7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uRVhQUl9JTkZJWF9OQU1FOlxuICAgICAgICAgIGlmICh0b2tlbi50ZXh0LnRvTG93ZXJDYXNlKCkgPT0gXCJhbmRcIikge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0V4cHJWYWw7XG4gICAgICAgICAgICB0aGlzLmV4cHJTdGFja1JlZHVjZShPUF9NRURJQV9BTkQsIHRva2VuKTtcbiAgICAgICAgICAgIHZhbFN0YWNrLnB1c2goT1BfTUVESUFfQU5EKTtcbiAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZXhwckVycm9yKFwiRV9DU1NfU1lOVEFYXCIsIHRva2VuKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVYUFJfQ19QQVI6XG4gICAgICAgICAgaWYgKHRoaXMuZXhwclN0YWNrUmVkdWNlKHRva2VuLnR5cGUsIHRva2VuKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcE5hbWUpIHtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1Byb3BWYWw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLmV4cHJFcnJvcihcIkVfQ1NTX1VOQkFMQU5DRURfUEFSXCIsIHRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uRVhQUl9PX0JSQzpcbiAgICAgICAgICBpZiAodGhpcy5leHByU3RhY2tSZWR1Y2UoQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX1BBUiwgdG9rZW4pKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wTmFtZSB8fCB0aGlzLmV4cHJDb250ZXh0ID09IEV4cHJDb250ZXh0LklNUE9SVCkge1xuICAgICAgICAgICAgICB0aGlzLmV4cHJFcnJvcihcIkVfQ1NTX1VORVhQRUNURURfQlJDXCIsIHRva2VuKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICh0aGlzLmV4cHJDb250ZXh0ID09IEV4cHJDb250ZXh0LldIRU4pIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0V2hlblJ1bGUodmFsU3RhY2sucG9wKCkgYXMgQ3NzLkV4cHIpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRNZWRpYVJ1bGUodmFsU3RhY2sucG9wKCkgYXMgQ3NzLkV4cHIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRoaXMucnVsZVN0YWNrLnB1c2goXCJtZWRpYVwiKTtcbiAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFJ1bGVCb2R5KCk7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNCYXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX1NFTUlDT0w6XG4gICAgICAgICAgaWYgKHRoaXMuZXhwclN0YWNrUmVkdWNlKENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVIsIHRva2VuKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcE5hbWUgfHwgdGhpcy5leHByQ29udGV4dCAhPSBFeHByQ29udGV4dC5JTVBPUlQpIHtcbiAgICAgICAgICAgICAgdGhpcy5leHByRXJyb3IoXCJFX0NTU19VTkVYUEVDVEVEX1NFTUlDT0xcIiwgdG9rZW4pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5pbXBvcnRDb25kaXRpb24gPSB2YWxTdGFjay5wb3AoKSBhcyBDc3MuRXhwcjtcbiAgICAgICAgICAgICAgdGhpcy5pbXBvcnRSZWFkeSA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNCYXNlO1xuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVYUFJfT19QQVI6XG4gICAgICAgICAgdmFsU3RhY2sucHVzaCh0b2tlbi50eXBlKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5SVUxFX0VORDpcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zQmFzZTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGhhbmRsZXIuZW5kUnVsZSgpO1xuICAgICAgICAgIGlmICh0aGlzLnJ1bGVTdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMucnVsZVN0YWNrLnBvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uQVQ6XG4gICAgICAgICAgdGV4dCA9IHRva2VuLnRleHQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICBzd2l0Y2ggKHRleHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbXBvcnRcIjpcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVFIgfHxcbiAgICAgICAgICAgICAgICB0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuVVJMXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW1wb3J0VVJMID0gdG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgdG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNFTUlDT0wgfHxcbiAgICAgICAgICAgICAgICAgIHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FT0ZcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuaW1wb3J0UmVhZHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wTmFtZSA9IG51bGw7IC8vIHNpZ25hbHMgQCBydWxlXG4gICAgICAgICAgICAgICAgICB0aGlzLmV4cHJDb250ZXh0ID0gRXhwckNvbnRleHQuSU1QT1JUO1xuICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0V4cHJWYWw7XG4gICAgICAgICAgICAgICAgICB2YWxTdGFjay5wdXNoKFwie1wiKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfSU1QT1JUX1NZTlRBWFwiLCB0b2tlbik7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvcjtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjYXNlIFwibmFtZXNwYWNlXCI6XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVDpcbiAgICAgICAgICAgICAgICAgIHRleHQgPSB0b2tlbi50ZXh0OyAvLyBQcmVmaXhcbiAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUUiB8fFxuICAgICAgICAgICAgICAgICAgICAgIHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5VUkwpICYmXG4gICAgICAgICAgICAgICAgICAgIHRva2VuaXplci5udGhUb2tlbigxKS50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuU0VNSUNPTFxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmFtZXNwYWNlUHJlZml4VG9VUklbdGV4dF0gPSB0b2tlbi50ZXh0O1xuICAgICAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVFI6XG4gICAgICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlVSTDpcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5pemVyLm50aFRva2VuKDEpLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TRU1JQ09MXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWZhdWx0TmFtZXNwYWNlVVJJID0gdG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfTkFNRVNQQUNFX1NZTlRBWFwiLCB0b2tlbik7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvcjtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjYXNlIFwiY2hhcnNldFwiOlxuICAgICAgICAgICAgICAvLyBVc2VsZXNzIGluIEVQVUIgKG9ubHkgVVRGLTggb3IgVVRGLTE2IGlzIGFsbG93ZWQgYW55d2F5IGFuZFxuICAgICAgICAgICAgICAvLyB3ZSBhcmUgYXQgdGhlIG1lcmN5IG9mIHRoZSBicm93c2VyIGNoYXJzZXQgaGFuZGxpbmcgYW55d2F5KS5cbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVFIgJiZcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIubnRoVG9rZW4oMSkudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNFTUlDT0xcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IHRva2VuLnRleHQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAodGV4dCAhPSBcInV0Zi04XCIgJiYgdGV4dCAhPSBcInV0Zi0xNlwiKSB7XG4gICAgICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKGBFX0NTU19VTkVYUEVDVEVEX0NIQVJTRVQgJHt0ZXh0fWAsIHRva2VuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19DSEFSU0VUX1NZTlRBWFwiLCB0b2tlbik7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvcjtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjYXNlIFwiZm9udC1mYWNlXCI6XG4gICAgICAgICAgICBjYXNlIFwiLWVwdWJ4LXBhZ2UtdGVtcGxhdGVcIjpcbiAgICAgICAgICAgIGNhc2UgXCItZXB1YngtZGVmaW5lXCI6XG4gICAgICAgICAgICBjYXNlIFwiLWVwdWJ4LXZpZXdwb3J0XCI6XG4gICAgICAgICAgICAgIGlmICh0b2tlbml6ZXIubnRoVG9rZW4oMSkudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJDKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodGV4dCkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImZvbnQtZmFjZVwiOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0Rm9udEZhY2VSdWxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIi1lcHVieC1wYWdlLXRlbXBsYXRlXCI6XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRQYWdlVGVtcGxhdGVSdWxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIi1lcHVieC1kZWZpbmVcIjpcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydERlZmluZVJ1bGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiLWVwdWJ4LXZpZXdwb3J0XCI6XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRWaWV3cG9ydFJ1bGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucnVsZVN0YWNrLnB1c2godGV4dCk7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFJ1bGVCb2R5KCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiLWFkYXB0LWZvb3Rub3RlLWFyZWFcIjpcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJDOlxuICAgICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRGb290bm90ZVJ1bGUobnVsbCk7XG4gICAgICAgICAgICAgICAgICB0aGlzLnJ1bGVTdGFjay5wdXNoKHRleHQpO1xuICAgICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFJ1bGVCb2R5KCk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MX0NPTDpcbiAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICB0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQgJiZcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5pemVyLm50aFRva2VuKDEpLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSQ1xuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSB0b2tlbi50ZXh0O1xuICAgICAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0Rm9vdG5vdGVSdWxlKHRleHQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJ1bGVTdGFjay5wdXNoKFwiLWFkYXB0LWZvb3Rub3RlLWFyZWFcIik7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIi1lcHVieC1yZWdpb25cIjpcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFJlZ2lvblJ1bGUoKTtcbiAgICAgICAgICAgICAgdGhpcy5yZWdpb25SdWxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yU3RhcnQ7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSBcInBhZ2VcIjpcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFBhZ2VSdWxlKCk7XG4gICAgICAgICAgICAgIHRoaXMucGFnZVJ1bGUgPSB0cnVlO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JDb250O1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNhc2UgXCJ0b3AtbGVmdC1jb3JuZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ0b3AtbGVmdFwiOlxuICAgICAgICAgICAgY2FzZSBcInRvcC1jZW50ZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ0b3AtcmlnaHRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ0b3AtcmlnaHQtY29ybmVyXCI6XG4gICAgICAgICAgICBjYXNlIFwicmlnaHQtdG9wXCI6XG4gICAgICAgICAgICBjYXNlIFwicmlnaHQtbWlkZGxlXCI6XG4gICAgICAgICAgICBjYXNlIFwicmlnaHQtYm90dG9tXCI6XG4gICAgICAgICAgICBjYXNlIFwiYm90dG9tLXJpZ2h0LWNvcm5lclwiOlxuICAgICAgICAgICAgY2FzZSBcImJvdHRvbS1yaWdodFwiOlxuICAgICAgICAgICAgY2FzZSBcImJvdHRvbS1jZW50ZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJib3R0b20tbGVmdFwiOlxuICAgICAgICAgICAgY2FzZSBcImJvdHRvbS1sZWZ0LWNvcm5lclwiOlxuICAgICAgICAgICAgY2FzZSBcImxlZnQtYm90dG9tXCI6XG4gICAgICAgICAgICBjYXNlIFwibGVmdC1taWRkbGVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJsZWZ0LXRvcFwiOlxuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJDKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0UGFnZU1hcmdpbkJveFJ1bGUodGV4dCk7XG4gICAgICAgICAgICAgICAgdGhpcy5ydWxlU3RhY2sucHVzaCh0ZXh0KTtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0UnVsZUJvZHkoKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCItZXB1Yngtd2hlblwiOlxuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICB0aGlzLnByb3BOYW1lID0gbnVsbDsgLy8gc2lnbmFscyBAIHJ1bGVcbiAgICAgICAgICAgICAgdGhpcy5leHByQ29udGV4dCA9IEV4cHJDb250ZXh0LldIRU47XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByVmFsO1xuICAgICAgICAgICAgICB2YWxTdGFjay5wdXNoKFwie1wiKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjYXNlIFwibWVkaWFcIjpcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgdGhpcy5wcm9wTmFtZSA9IG51bGw7IC8vIHNpZ25hbHMgQCBydWxlXG4gICAgICAgICAgICAgIHRoaXMuZXhwckNvbnRleHQgPSBFeHByQ29udGV4dC5NRURJQTtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0V4cHJWYWw7XG4gICAgICAgICAgICAgIHZhbFN0YWNrLnB1c2goXCJ7XCIpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNhc2UgXCItZXB1YngtZmxvd1wiOlxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLm50aFRva2VuKDEpLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVCAmJlxuICAgICAgICAgICAgICAgIHRva2VuaXplci5udGhUb2tlbigyKS50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUkNcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydEZsb3dSdWxlKHRva2VuaXplci5udGhUb2tlbigxKS50ZXh0KTtcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJ1bGVTdGFjay5wdXNoKHRleHQpO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIi1lcHVieC1wYWdlLW1hc3RlclwiOlxuICAgICAgICAgICAgY2FzZSBcIi1lcHVieC1wYXJ0aXRpb25cIjpcbiAgICAgICAgICAgIGNhc2UgXCItZXB1YngtcGFydGl0aW9uLWdyb3VwXCI6IHtcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgbGV0IHJ1bGVOYW1lOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICAgICAgICAgICAgbGV0IHJ1bGVQc2V1ZG9OYW1lOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICAgICAgICAgICAgY29uc3QgY2xhc3Nlczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVCkge1xuICAgICAgICAgICAgICAgIHJ1bGVOYW1lID0gdG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xPTiAmJlxuICAgICAgICAgICAgICAgIHRva2VuaXplci5udGhUb2tlbigxKS50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlRcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcnVsZVBzZXVkb05hbWUgPSB0b2tlbml6ZXIubnRoVG9rZW4oMSkudGV4dDtcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB3aGlsZSAoXG4gICAgICAgICAgICAgICAgdG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkZVTkMgJiZcbiAgICAgICAgICAgICAgICB0b2tlbi50ZXh0LnRvTG93ZXJDYXNlKCkgPT0gXCJjbGFzc1wiICYmXG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLm50aFRva2VuKDEpLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVCAmJlxuICAgICAgICAgICAgICAgIHRva2VuaXplci5udGhUb2tlbigyKS50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVJcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKHRva2VuaXplci5udGhUb2tlbigxKS50ZXh0KTtcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUkMpIHtcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodGV4dCkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIi1lcHVieC1wYWdlLW1hc3RlclwiOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0UGFnZU1hc3RlclJ1bGUoXG4gICAgICAgICAgICAgICAgICAgICAgcnVsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgcnVsZVBzZXVkb05hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiLWVwdWJ4LXBhcnRpdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0UGFydGl0aW9uUnVsZShcbiAgICAgICAgICAgICAgICAgICAgICBydWxlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBydWxlUHNldWRvTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCItZXB1YngtcGFydGl0aW9uLWdyb3VwXCI6XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRQYXJ0aXRpb25Hcm91cFJ1bGUoXG4gICAgICAgICAgICAgICAgICAgICAgcnVsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgcnVsZVBzZXVkb05hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucnVsZVN0YWNrLnB1c2godGV4dCk7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFJ1bGVCb2R5KCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiXCI6XG4gICAgICAgICAgICAgIC8vIE5vIHRleHQgYWZ0ZXIgQFxuICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKGBFX0NTU19VTkVYUEVDVEVEX0FUJHt0ZXh0fWAsIHRva2VuKTtcblxuICAgICAgICAgICAgICAvLyBFcnJvciByZWNvdmVyeSB1c2luZyBzZWxlY3RvciBydWxlcy5cbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yU2VsZWN0b3I7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihgRV9DU1NfQVRfVU5LTk9XTiAke3RleHR9YCwgdG9rZW4pO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3I7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoYW5kbGVyLmVycm9yKGBFX0NTU19BVF9TWU5UQVggJHt0ZXh0fWAsIHRva2VuKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3I7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVSUk9SX1BVU0g6XG4gICAgICAgICAgLy8gT3BlbiBicmFja2V0IHdoaWxlIHNraXBwaW5nIGVycm9yIHN5bnRheFxuICAgICAgICAgIGlmIChwYXJzaW5nVmFsdWUgfHwgcGFyc2luZ1N0eWxlQXR0cikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuZXJyb3JCcmFja2V0cy5wdXNoKHRva2VuLnR5cGUgKyAxKTtcblxuICAgICAgICAgIC8vIEV4cGVjdGVkIGNsb3NpbmcgYnJhY2tldFxuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVSUk9SX1BPUF9ERUNMOlxuICAgICAgICAgIC8vIENsb3NlIGJyYWNrZXQgd2hpbGUgc2tpcHBpbmcgZXJyb3Igc3ludGF4IGluIGRlY2xhcmF0aW9uXG4gICAgICAgICAgaWYgKHBhcnNpbmdWYWx1ZSB8fCBwYXJzaW5nU3R5bGVBdHRyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuZXJyb3JCcmFja2V0cy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Jhc2U7XG5cbiAgICAgICAgICAgIC8vIERvbid0IGNvbnN1bWUgY2xvc2luZyBicmFjZVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgIC8vIGZhbGwgdGhyb3VnaFxuICAgICAgICBjYXNlIEFjdGlvbi5FUlJPUl9QT1A6XG4gICAgICAgICAgLy8gQ2xvc2UgYnJhY2tldCB3aGlsZSBza2lwcGluZyBlcnJvciBzeW50YXhcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLmVycm9yQnJhY2tldHMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgdGhpcy5lcnJvckJyYWNrZXRzW3RoaXMuZXJyb3JCcmFja2V0cy5sZW5ndGggLSAxXSA9PSB0b2tlbi50eXBlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yQnJhY2tldHMucG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMuZXJyb3JCcmFja2V0cy5sZW5ndGggPT0gMCAmJlxuICAgICAgICAgICAgdG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfQlJDXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zQmFzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uRVJST1JfU0VNSUNPTDpcbiAgICAgICAgICBpZiAocGFyc2luZ1ZhbHVlIHx8IHBhcnNpbmdTdHlsZUF0dHIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5lcnJvckJyYWNrZXRzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zQmFzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uRE9ORTpcbiAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICBoYW5kbGVyLmVuZEZ1bmNXaXRoU2VsZWN0b3IoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKHBhcnNpbmdWYWx1ZSB8fCBwYXJzaW5nU3R5bGVBdHRyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBhcnNpbmdNZWRpYVF1ZXJ5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5leHByU3RhY2tSZWR1Y2UoQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX1BBUiwgdG9rZW4pKSB7XG4gICAgICAgICAgICAgIHRoaXMucmVzdWx0ID0gdmFsU3RhY2sucG9wKCkgYXMgQ3NzLlZhbDtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwYXJzaW5nRnVuY3Rpb25QYXJhbSkge1xuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlZBTElEKSB7XG4gICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IodG9rZW4udGV4dCwgdG9rZW4pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX1NZTlRBWFwiLCB0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0aGlzLmFjdGlvbnMgPT09IGFjdGlvbnNQcm9wVmFsICYmIHRva2VuaXplci5oYXNNYXJrKCkpIHtcbiAgICAgICAgICAgIHRva2VuaXplci5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yU3RhcnQ7XG4gICAgICAgICAgICBoYW5kbGVyLnN0YXJ0U2VsZWN0b3JSdWxlKCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5hY3Rpb25zICE9PSBhY3Rpb25zRXJyb3IgJiZcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyAhPT0gYWN0aW9uc0Vycm9yU2VsZWN0b3IgJiZcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyAhPT0gYWN0aW9uc0Vycm9yRGVjbFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlZBTElEKSB7XG4gICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IodG9rZW4udGV4dCwgdG9rZW4pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX1NZTlRBWFwiLCB0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pc0luc2lkZVByb3BlcnR5T25seVJ1bGUoKSkge1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3JEZWNsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yU2VsZWN0b3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTsgLy8gTGV0IGVycm9yLXJlY292ZXJ5IHRvIHJlLXByb2Nlc3MgdGhlIG9mZmVuZGluZyB0b2tlblxuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7IC8vIE5vdCBkb25lIHlldC5cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRXJyb3JIYW5kbGVyIGV4dGVuZHMgUGFyc2VySGFuZGxlciB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlKSB7XG4gICAgc3VwZXIobnVsbCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBlcnJvcihtbmVtb25pY3M6IHN0cmluZywgdG9rZW46IENzc1Rva2VuaXplci5Ub2tlbik6IHZvaWQge1xuICAgIHRocm93IG5ldyBFcnJvcihtbmVtb25pY3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0U2NvcGUoKTogRXhwcnMuTGV4aWNhbFNjb3BlIHtcbiAgICByZXR1cm4gdGhpcy5zY29wZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTdHlsZXNoZWV0KFxuICB0b2tlbml6ZXI6IENzc1Rva2VuaXplci5Ub2tlbml6ZXIsXG4gIGhhbmRsZXI6IFBhcnNlckhhbmRsZXIsXG4gIGJhc2VVUkw6IHN0cmluZyxcbiAgY2xhc3Nlczogc3RyaW5nIHwgbnVsbCxcbiAgbWVkaWE6IHN0cmluZyB8IG51bGwsXG4pOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcInBhcnNlU3R5bGVzaGVldFwiKTtcbiAgY29uc3QgcGFyc2VyID0gbmV3IFBhcnNlcihhY3Rpb25zQmFzZSwgdG9rZW5pemVyLCBoYW5kbGVyLCBiYXNlVVJMKTtcbiAgbGV0IGNvbmRpdGlvbjogQ3NzLkV4cHIgPSBudWxsO1xuICBpZiAobWVkaWEpIHtcbiAgICBjb25kaXRpb24gPSBwYXJzZU1lZGlhUXVlcnkoXG4gICAgICBuZXcgQ3NzVG9rZW5pemVyLlRva2VuaXplcihtZWRpYSwgaGFuZGxlciksXG4gICAgICBoYW5kbGVyLFxuICAgICAgYmFzZVVSTCxcbiAgICApO1xuICB9XG4gIGNvbmRpdGlvbiA9IHBhcnNlci5tYWtlQ29uZGl0aW9uKGNsYXNzZXMsIGNvbmRpdGlvbiAmJiBjb25kaXRpb24udG9FeHByKCkpO1xuICBpZiAoY29uZGl0aW9uKSB7XG4gICAgaGFuZGxlci5zdGFydE1lZGlhUnVsZShjb25kaXRpb24pO1xuICAgIGhhbmRsZXIuc3RhcnRSdWxlQm9keSgpO1xuICB9XG4gIGZyYW1lXG4gICAgLmxvb3AoKCkgPT4ge1xuICAgICAgd2hpbGUgKCFwYXJzZXIucnVuUGFyc2VyKDEwMCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpKSB7XG4gICAgICAgIGlmIChwYXJzZXIuaW1wb3J0UmVhZHkpIHtcbiAgICAgICAgICBjb25zdCByZXNvbHZlZFVSTCA9IEJhc2UucmVzb2x2ZVVSTChcbiAgICAgICAgICAgIHBhcnNlci5pbXBvcnRVUkwgYXMgc3RyaW5nLFxuICAgICAgICAgICAgYmFzZVVSTCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChwYXJzZXIuaW1wb3J0Q29uZGl0aW9uKSB7XG4gICAgICAgICAgICBoYW5kbGVyLnN0YXJ0TWVkaWFSdWxlKHBhcnNlci5pbXBvcnRDb25kaXRpb24pO1xuICAgICAgICAgICAgaGFuZGxlci5zdGFydFJ1bGVCb2R5KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGlubmVyRnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgICAgICAgXCJwYXJzZVN0eWxlc2hlZXQuaW1wb3J0XCIsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBwYXJzZVN0eWxlc2hlZXRGcm9tVVJMKHJlc29sdmVkVVJMLCBoYW5kbGVyLCBudWxsLCBudWxsKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChwYXJzZXIuaW1wb3J0Q29uZGl0aW9uKSB7XG4gICAgICAgICAgICAgIGhhbmRsZXIuZW5kUnVsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyc2VyLmltcG9ydFJlYWR5ID0gZmFsc2U7XG4gICAgICAgICAgICBwYXJzZXIuaW1wb3J0VVJMID0gbnVsbDtcbiAgICAgICAgICAgIHBhcnNlci5pbXBvcnRDb25kaXRpb24gPSBudWxsO1xuICAgICAgICAgICAgaW5uZXJGcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGlubmVyRnJhbWUucmVzdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgciA9IGZyYW1lLnRpbWVTbGljZSgpO1xuICAgICAgICBpZiAoci5pc1BlbmRpbmcpIHtcbiAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGZhbHNlKTtcbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGlmIChjb25kaXRpb24pIHtcbiAgICAgICAgaGFuZGxlci5lbmRSdWxlKCk7XG4gICAgICB9XG4gICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgfSk7XG4gIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU3R5bGVzaGVldEZyb21UZXh0KFxuICB0ZXh0OiBzdHJpbmcsXG4gIGhhbmRsZXI6IFBhcnNlckhhbmRsZXIsXG4gIGJhc2VVUkw6IHN0cmluZyxcbiAgY2xhc3Nlczogc3RyaW5nIHwgbnVsbCxcbiAgbWVkaWE6IHN0cmluZyB8IG51bGwsXG4pOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gIHJldHVybiBUYXNrLmhhbmRsZShcbiAgICBcInBhcnNlU3R5bGVzaGVldEZyb21UZXh0XCIsXG4gICAgKGZyYW1lKSA9PiB7XG4gICAgICBjb25zdCB0b2sgPSBuZXcgQ3NzVG9rZW5pemVyLlRva2VuaXplcih0ZXh0LCBoYW5kbGVyKTtcbiAgICAgIHBhcnNlU3R5bGVzaGVldCh0b2ssIGhhbmRsZXIsIGJhc2VVUkwsIGNsYXNzZXMsIG1lZGlhKS50aGVuRmluaXNoKGZyYW1lKTtcbiAgICB9LFxuICAgIChmcmFtZSwgZXJyKSA9PiB7XG4gICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKGVyciwgYEZhaWxlZCB0byBwYXJzZSBzdHlsZXNoZWV0IHRleHQ6ICR7dGV4dH1gKTtcbiAgICAgIGZyYW1lLmZpbmlzaChmYWxzZSk7XG4gICAgfSxcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU3R5bGVzaGVldEZyb21VUkwoXG4gIHVybDogc3RyaW5nLFxuICBoYW5kbGVyOiBQYXJzZXJIYW5kbGVyLFxuICBjbGFzc2VzOiBzdHJpbmcgfCBudWxsLFxuICBtZWRpYTogc3RyaW5nIHwgbnVsbCxcbik6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgcmV0dXJuIFRhc2suaGFuZGxlKFxuICAgIFwicGFyc2VTdHlsZXNoZWV0RnJvbVVSTFwiLFxuICAgIChmcmFtZSkgPT4ge1xuICAgICAgTmV0LmFqYXgodXJsKS50aGVuKCh4aHIpID0+IHtcbiAgICAgICAgaWYgKCF4aHIucmVzcG9uc2VUZXh0KSB7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcnNlU3R5bGVzaGVldEZyb21UZXh0KFxuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVGV4dCxcbiAgICAgICAgICAgIGhhbmRsZXIsXG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICBjbGFzc2VzLFxuICAgICAgICAgICAgbWVkaWEsXG4gICAgICAgICAgKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oYEZhaWxlZCB0byBwYXJzZSBzdHlsZXNoZWV0IGZyb20gJHt1cmx9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgKGZyYW1lLCBlcnIpID0+IHtcbiAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oZXJyLCBcIkV4Y2VwdGlvbiB3aGlsZSBmZXRjaGluZyBhbmQgcGFyc2luZzpcIiwgdXJsKTtcbiAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICB9LFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VWYWx1ZShcbiAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgdG9rZW5pemVyOiBDc3NUb2tlbml6ZXIuVG9rZW5pemVyLFxuICBiYXNlVVJMOiBzdHJpbmcsXG4pOiBDc3MuVmFsIHtcbiAgY29uc3QgcGFyc2VyID0gbmV3IFBhcnNlcihcbiAgICBhY3Rpb25zUHJvcFZhbCxcbiAgICB0b2tlbml6ZXIsXG4gICAgbmV3IEVycm9ySGFuZGxlcihzY29wZSksXG4gICAgYmFzZVVSTCxcbiAgKTtcbiAgcGFyc2VyLnJ1blBhcnNlcihOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIHRydWUsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICByZXR1cm4gcGFyc2VyLnJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU3R5bGVBdHRyaWJ1dGUoXG4gIHRva2VuaXplcjogQ3NzVG9rZW5pemVyLlRva2VuaXplcixcbiAgaGFuZGxlcjogUGFyc2VySGFuZGxlcixcbiAgYmFzZVVSTDogc3RyaW5nLFxuKTogdm9pZCB7XG4gIGNvbnN0IHBhcnNlciA9IG5ldyBQYXJzZXIoYWN0aW9uc1N0eWxlQXR0cmlidXRlLCB0b2tlbml6ZXIsIGhhbmRsZXIsIGJhc2VVUkwpO1xuICBwYXJzZXIucnVuUGFyc2VyKE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwgZmFsc2UsIHRydWUsIGZhbHNlLCBmYWxzZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU1lZGlhUXVlcnkoXG4gIHRva2VuaXplcjogQ3NzVG9rZW5pemVyLlRva2VuaXplcixcbiAgaGFuZGxlcjogUGFyc2VySGFuZGxlcixcbiAgYmFzZVVSTDogc3RyaW5nLFxuKTogQ3NzLkV4cHIge1xuICBjb25zdCBwYXJzZXIgPSBuZXcgUGFyc2VyKGFjdGlvbnNFeHByVmFsLCB0b2tlbml6ZXIsIGhhbmRsZXIsIGJhc2VVUkwpO1xuICBwYXJzZXIucnVuUGFyc2VyKE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwgZmFsc2UsIGZhbHNlLCB0cnVlLCBmYWxzZSk7XG4gIHJldHVybiBwYXJzZXIucmVzdWx0IGFzIENzcy5FeHByO1xufVxuXG5leHBvcnQgY29uc3QgbnVtUHJvcDogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7XG4gIFwiei1pbmRleFwiOiB0cnVlLFxuICBcImNvbHVtbi1jb3VudFwiOiB0cnVlLFxuICBcImZsb3ctbGluZ2VyXCI6IHRydWUsXG4gIG9wYWNpdHk6IHRydWUsXG4gIHBhZ2U6IHRydWUsXG4gIFwiZmxvdy1wcmlvcml0eVwiOiB0cnVlLFxuICB1dGlsaXphdGlvbjogdHJ1ZSxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB0YWtlc09ubHlOdW0ocHJvcE5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gISFudW1Qcm9wW3Byb3BOYW1lXTtcbn1cblxuLyoqXG4gKiBAcmV0dXJuIHZhbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZXZhbHVhdGVFeHByVG9DU1MoXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gIHZhbDogRXhwcnMuVmFsLFxuICBwcm9wTmFtZTogc3RyaW5nLFxuKTogQ3NzLlZhbCB7XG4gIGNvbnN0IHJlc3VsdCA9IHZhbC5ldmFsdWF0ZShjb250ZXh0KTtcbiAgc3dpdGNoICh0eXBlb2YgcmVzdWx0KSB7XG4gICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgaWYgKCF0YWtlc09ubHlOdW0ocHJvcE5hbWUpKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ3NzLk51bWVyaWMocmVzdWx0IGFzIG51bWJlciwgXCJweFwiKTtcbiAgICAgIH0gZWxzZSBpZiAocmVzdWx0ID09IE1hdGgucm91bmQocmVzdWx0IGFzIG51bWJlcikpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDc3MuSW50KHJlc3VsdCBhcyBudW1iZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDc3MuTnVtKHJlc3VsdCBhcyBudW1iZXIpO1xuICAgICAgfVxuICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIHJldHVybiBDc3MuZW1wdHk7XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE86IHdoZXJlIGJhc2VVUkwgc2hvdWxkIGNvbWUgZnJvbT8/P1xuICAgICAgcmV0dXJuIHBhcnNlVmFsdWUoXG4gICAgICAgIHZhbC5zY29wZSxcbiAgICAgICAgbmV3IENzc1Rva2VuaXplci5Ub2tlbml6ZXIocmVzdWx0IGFzIHN0cmluZywgbnVsbCksXG4gICAgICAgIFwiXCIsXG4gICAgICApO1xuICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICByZXR1cm4gcmVzdWx0ID8gQ3NzLmlkZW50Ll90cnVlIDogQ3NzLmlkZW50Ll9mYWxzZTtcbiAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICByZXR1cm4gQ3NzLmVtcHR5O1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcIkVfVU5FWFBFQ1RFRFwiKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJuIHZhbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZXZhbHVhdGVDU1NUb0NTUyhcbiAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgdmFsOiBDc3MuVmFsLFxuICBwcm9wTmFtZTogc3RyaW5nLFxuKTogQ3NzLlZhbCB7XG4gIGlmICh2YWwuaXNFeHByKCkpIHtcbiAgICByZXR1cm4gZXZhbHVhdGVFeHByVG9DU1MoY29udGV4dCwgKHZhbCBhcyBDc3MuRXhwcikuZXhwciwgcHJvcE5hbWUpO1xuICB9XG4gIHJldHVybiB2YWw7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgTWF0Y2hlcnMgLSBEZWZpbml0aW9ucyBvZiBNYXRjaGVyLlxuICovXG5pbXBvcnQgKiBhcyBBc3NlcnRzIGZyb20gXCIuL2Fzc2VydHNcIjtcblxuLyoqXG4gKiBDaGVja2VzIHdoZXRoZXIgZ2l2ZW4gb3JkZXIgY2FuIGJlIHJlcHJlc2VudGVkIGFzIGFuK2Igd2l0aCBhIG5vbi1uZWdhdGl2ZVxuICogaW50ZXJnZXIgblxuICovXG5leHBvcnQgZnVuY3Rpb24gbWF0Y2hBTlBsdXNCKG9yZGVyOiBudW1iZXIsIGE6IG51bWJlciwgYjogbnVtYmVyKTogYm9vbGVhbiB7XG4gIG9yZGVyIC09IGI7XG4gIGlmIChhID09PSAwKSB7XG4gICAgcmV0dXJuIG9yZGVyID09PSAwO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBvcmRlciAlIGEgPT09IDAgJiYgb3JkZXIgLyBhID49IDA7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBNYXRjaGVyIHtcbiAgbWF0Y2hlcygpOiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgQW55TWF0Y2hlciBpbXBsZW1lbnRzIE1hdGNoZXIge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbWF0Y2hlcnM6IE1hdGNoZXJbXSkge31cblxuICAvKiogQG92ZXJyaWRlICovXG4gIG1hdGNoZXMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubWF0Y2hlcnMuc29tZSgobWF0Y2hlcikgPT4gbWF0Y2hlci5tYXRjaGVzKCkpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBbGxNYXRjaGVyIGltcGxlbWVudHMgTWF0Y2hlciB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBtYXRjaGVyczogTWF0Y2hlcltdKSB7fVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgbWF0Y2hlcygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5tYXRjaGVycy5ldmVyeSgobWF0Y2hlcikgPT4gbWF0Y2hlci5tYXRjaGVzKCkpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBOdGhGcmFnbWVudE1hdGNoZXIgaW1wbGVtZW50cyBNYXRjaGVyIHtcbiAgc3RhdGljIGZyYWdtZW50SW5kaWNlcyA9IHt9O1xuXG4gIHN0YXRpYyByZWdpc3RlckZyYWdtZW50SW5kZXgoXG4gICAgZWxlbWVudE9mZnNldDogbnVtYmVyLFxuICAgIGZyYWdtZW50SW5kZXg6IG51bWJlcixcbiAgICBwcmlvcml0eTogbnVtYmVyLFxuICApIHtcbiAgICBjb25zdCBpbmRpY2VzID0gTnRoRnJhZ21lbnRNYXRjaGVyLmZyYWdtZW50SW5kaWNlcztcbiAgICBpZiAoXG4gICAgICAhaW5kaWNlc1tlbGVtZW50T2Zmc2V0XSB8fFxuICAgICAgaW5kaWNlc1tlbGVtZW50T2Zmc2V0XS5wcmlvcml0eSA8PSBwcmlvcml0eVxuICAgICkge1xuICAgICAgaW5kaWNlc1tlbGVtZW50T2Zmc2V0XSA9IHsgZnJhZ21lbnRJbmRleCwgcHJpb3JpdHkgfTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgY2xlYXJGcmFnbWVudEluZGljZXMoKSB7XG4gICAgTnRoRnJhZ21lbnRNYXRjaGVyLmZyYWdtZW50SW5kaWNlcyA9IHt9O1xuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGVsZW1lbnRPZmZzZXQ6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgYTogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBiOiBudW1iZXIsXG4gICkge31cblxuICAvKiogQG92ZXJyaWRlICovXG4gIG1hdGNoZXMoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZW50cnkgPSBOdGhGcmFnbWVudE1hdGNoZXIuZnJhZ21lbnRJbmRpY2VzW3RoaXMuZWxlbWVudE9mZnNldF07XG4gICAgcmV0dXJuIChcbiAgICAgIGVudHJ5ICE9IG51bGwgJiZcbiAgICAgIGVudHJ5LmZyYWdtZW50SW5kZXggIT0gbnVsbCAmJlxuICAgICAgbWF0Y2hBTlBsdXNCKGVudHJ5LmZyYWdtZW50SW5kZXgsIHRoaXMuYSwgdGhpcy5iKVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hdGNoZXJCdWlsZGVyIHtcbiAgc3RhdGljIGJ1aWxkVmlld0NvbmRpdGlvbk1hdGNoZXIoXG4gICAgZWxlbWVudE9mZnNldDogbnVtYmVyLFxuICAgIHZpZXdDb25kaXRpb246IHN0cmluZyxcbiAgKTogTWF0Y2hlciB7XG4gICAgY29uc3Qgc3RycyA9IHZpZXdDb25kaXRpb24uc3BsaXQoXCJfXCIpO1xuICAgIGlmIChzdHJzWzBdID09IFwiTkZTXCIpIHtcbiAgICAgIHJldHVybiBuZXcgTnRoRnJhZ21lbnRNYXRjaGVyKFxuICAgICAgICBlbGVtZW50T2Zmc2V0LFxuICAgICAgICBwYXJzZUludChzdHJzWzFdLCAxMCksXG4gICAgICAgIHBhcnNlSW50KHN0cnNbMl0sIDEwKSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIEFzc2VydHMuZmFpbChgdW5rbm93biB2aWV3IGNvbmRpdGlvbi4gY29uZGl0aW9uPSR7dmlld0NvbmRpdGlvbn1gKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBidWlsZEFsbE1hdGNoZXIobWF0Y2hlcnM6IE1hdGNoZXJbXSk6IE1hdGNoZXIge1xuICAgIHJldHVybiBuZXcgQWxsTWF0Y2hlcihtYXRjaGVycyk7XG4gIH1cblxuICBzdGF0aWMgYnVpbGRBbnlNYXRjaGVyKG1hdGNoZXJzOiBNYXRjaGVyW10pOiBNYXRjaGVyIHtcbiAgICByZXR1cm4gbmV3IEFueU1hdGNoZXIobWF0Y2hlcnMpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENzc0Nhc2NhZGUgLSBDU1MgQ2FzY2FkZS5cbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIENzc1BhcnNlciBmcm9tIFwiLi9jc3MtcGFyc2VyXCI7XG5pbXBvcnQgKiBhcyBDc3NQcm9wIGZyb20gXCIuL2Nzcy1wcm9wXCI7XG5pbXBvcnQgKiBhcyBDc3NUb2tlbml6ZXIgZnJvbSBcIi4vY3NzLXRva2VuaXplclwiO1xuaW1wb3J0ICogYXMgQ3NzVmFsaWRhdG9yIGZyb20gXCIuL2Nzcy12YWxpZGF0b3JcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuL2xvZ2dpbmdcIjtcbmltcG9ydCAqIGFzIE1hdGNoZXJzIGZyb20gXCIuL21hdGNoZXJzXCI7XG5pbXBvcnQgKiBhcyBQbHVnaW4gZnJvbSBcIi4vcGx1Z2luXCI7XG5pbXBvcnQgKiBhcyBWdHJlZSBmcm9tIFwiLi92dHJlZVwiO1xuaW1wb3J0IHsgQ3NzQ2FzY2FkZSB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudFN0eWxlIGV4dGVuZHMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUge31cblxuZXhwb3J0IGNvbnN0IGluaGVyaXRlZFByb3BzID0ge1xuICBhemltdXRoOiB0cnVlLFxuICBcImJvcmRlci1jb2xsYXBzZVwiOiB0cnVlLFxuICBcImJvcmRlci1zcGFjaW5nXCI6IHRydWUsXG4gIFwiY2FwdGlvbi1zaWRlXCI6IHRydWUsXG4gIFwiY2xpcC1ydWxlXCI6IHRydWUsXG4gIGNvbG9yOiB0cnVlLFxuICBcImNvbG9yLWludGVycG9sYXRpb25cIjogdHJ1ZSxcbiAgXCJjb2xvci1yZW5kZXJpbmdcIjogdHJ1ZSxcbiAgY3Vyc29yOiB0cnVlLFxuICBkaXJlY3Rpb246IHRydWUsXG4gIGVsZXZhdGlvbjogdHJ1ZSxcbiAgXCJlbXB0eS1jZWxsc1wiOiB0cnVlLFxuICBmaWxsOiB0cnVlLFxuICBcImZpbGwtb3BhY2l0eVwiOiB0cnVlLFxuICBcImZpbGwtcnVsZVwiOiB0cnVlLFxuICBcImZvbnQta2VybmluZ1wiOiB0cnVlLFxuICBcImZvbnQtc2l6ZVwiOiB0cnVlLFxuICBcImZvbnQtc2l6ZS1hZGp1c3RcIjogdHJ1ZSxcbiAgXCJmb250LWZhbWlseVwiOiB0cnVlLFxuICBcImZvbnQtZmVhdHVyZS1zZXR0aW5nc1wiOiB0cnVlLFxuICBcImZvbnQtc3R5bGVcIjogdHJ1ZSxcbiAgXCJmb250LXN0cmV0Y2hcIjogdHJ1ZSxcbiAgXCJmb250LXZhcmlhbnRcIjogdHJ1ZSxcbiAgXCJmb250LXdlaWdodFwiOiB0cnVlLFxuICBcImdseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsXCI6IHRydWUsXG4gIGh5cGhlbnM6IHRydWUsXG4gIFwiaHlwaGVuYXRlLWNoYXJhY3RlclwiOiB0cnVlLFxuICBcImh5cGhlbmF0ZS1saW1pdC1jaGFyc1wiOiB0cnVlLFxuICBcImh5cGhlbmF0ZS1saW1pdC1sYXN0XCI6IHRydWUsXG4gIFwiaW1hZ2UtcmVuZGVyaW5nXCI6IHRydWUsXG4gIFwiaW1hZ2UtcmVzb2x1dGlvblwiOiB0cnVlLFxuICBcImxldHRlci1zcGFjaW5nXCI6IHRydWUsXG4gIFwibGluZS1icmVha1wiOiB0cnVlLFxuICBcImxpbmUtaGVpZ2h0XCI6IHRydWUsXG4gIFwibGlzdC1zdHlsZS1pbWFnZVwiOiB0cnVlLFxuICBcImxpc3Qtc3R5bGUtcG9zaXRpb25cIjogdHJ1ZSxcbiAgXCJsaXN0LXN0eWxlLXR5cGVcIjogdHJ1ZSxcbiAgbWFya2VyOiB0cnVlLFxuICBcIm1hcmtlci1lbmRcIjogdHJ1ZSxcbiAgXCJtYXJrZXItbWlkXCI6IHRydWUsXG4gIFwibWFya2VyLXN0YXJ0XCI6IHRydWUsXG4gIG9ycGhhbnM6IHRydWUsXG4gIFwib3ZlcmZsb3ctd3JhcFwiOiB0cnVlLFxuICBcInBhaW50LW9yZGVyXCI6IHRydWUsXG4gIFwicG9pbnRlci1ldmVudHNcIjogdHJ1ZSxcbiAgXCJwaXRjaC1yYW5nZVwiOiB0cnVlLFxuICBxdW90ZXM6IHRydWUsXG4gIHJpY2huZXNzOiB0cnVlLFxuICBcInJ1YnktYWxpZ25cIjogdHJ1ZSxcbiAgXCJydWJ5LXBvc2l0aW9uXCI6IHRydWUsXG4gIFwic3BlYWstaGVhZGVyXCI6IHRydWUsXG4gIFwic3BlYWstbnVtZXJhbFwiOiB0cnVlLFxuICBcInNwZWFrLXB1bmN0dWF0aW9uXCI6IHRydWUsXG4gIFwic3BlZWNoLXJhdGVcIjogdHJ1ZSxcbiAgXCJzaGFwZS1yZW5kZXJpbmdcIjogdHJ1ZSxcbiAgc3RyZXNzOiB0cnVlLFxuICBzdHJva2U6IHRydWUsXG4gIFwic3Ryb2tlLWRhc2hhcnJheVwiOiB0cnVlLFxuICBcInN0cm9rZS1kYXNob2Zmc2V0XCI6IHRydWUsXG4gIFwic3Ryb2tlLWxpbmVjYXBcIjogdHJ1ZSxcbiAgXCJzdHJva2UtbGluZWpvaW5cIjogdHJ1ZSxcbiAgXCJzdHJva2UtbWl0ZXJsaW1pdFwiOiB0cnVlLFxuICBcInN0cm9rZS1vcGFjaXR5XCI6IHRydWUsXG4gIFwic3Ryb2tlLXdpZHRoXCI6IHRydWUsXG4gIFwidGFiLXNpemVcIjogdHJ1ZSxcbiAgXCJ0ZXh0LWFsaWduXCI6IHRydWUsXG4gIFwidGV4dC1hbGlnbi1sYXN0XCI6IHRydWUsXG4gIFwidGV4dC1hbmNob3JcIjogdHJ1ZSxcbiAgXCJ0ZXh0LWRlY29yYXRpb24tc2tpcFwiOiB0cnVlLFxuICBcInRleHQtZW1waGFzaXMtY29sb3JcIjogdHJ1ZSxcbiAgXCJ0ZXh0LWVtcGhhc2lzLXBvc2l0aW9uXCI6IHRydWUsXG4gIFwidGV4dC1lbXBoYXNpcy1zdHlsZVwiOiB0cnVlLFxuICBcInRleHQtY29tYmluZS11cHJpZ2h0XCI6IHRydWUsXG4gIFwidGV4dC1pbmRlbnRcIjogdHJ1ZSxcbiAgXCJ0ZXh0LWp1c3RpZnlcIjogdHJ1ZSxcbiAgXCJ0ZXh0LXJlbmRlcmluZ1wiOiB0cnVlLFxuICBcInRleHQtc2l6ZS1hZGp1c3RcIjogdHJ1ZSxcbiAgXCJ0ZXh0LXRyYW5zZm9ybVwiOiB0cnVlLFxuICBcInRleHQtdW5kZXJsaW5lLXBvc2l0aW9uXCI6IHRydWUsXG4gIHZpc2liaWxpdHk6IHRydWUsXG4gIFwidm9pY2UtZmFtaWx5XCI6IHRydWUsXG4gIHZvbHVtZTogdHJ1ZSxcbiAgXCJ3aGl0ZS1zcGFjZVwiOiB0cnVlLFxuICB3aWRvd3M6IHRydWUsXG4gIFwid29yZC1icmVha1wiOiB0cnVlLFxuICBcIndvcmQtc3BhY2luZ1wiOiB0cnVlLFxuICBcIndvcmQtd3JhcFwiOiB0cnVlLFxuICBcIndyaXRpbmctbW9kZVwiOiB0cnVlLFxufTtcblxuZXhwb3J0IGNvbnN0IHBvbHlmaWxsZWRJbmhlcml0ZWRQcm9wcyA9IFtcbiAgXCJib3gtZGVjb3JhdGlvbi1icmVha1wiLFxuICAvLyBUT0RPOiBib3gtZGVjb3JhdGlvbi1ibG9jayBzaG91bGQgbm90IGJlIGluaGVyaXRlZC5cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Zpdmxpb3N0eWxlL3Zpdmxpb3N0eWxlLmpzL2lzc3Vlcy8yNTlcbiAgXCJpbWFnZS1yZXNvbHV0aW9uXCIsXG4gIFwib3JwaGFuc1wiLFxuICBcIndpZG93c1wiLFxuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvbHlmaWxsZWRJbmhlcml0ZWRQcm9wcygpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IGhvb2tzOiBQbHVnaW4uUG9seWZpbGxlZEluaGVyaXRlZFByb3BzSG9va1tdID0gUGx1Z2luLmdldEhvb2tzRm9yTmFtZShcbiAgICBQbHVnaW4uSE9PS1MuUE9MWUZJTExFRF9JTkhFUklURURfUFJPUFMsXG4gICk7XG4gIHJldHVybiBob29rcy5yZWR1Y2UoXG4gICAgKHByb3BzLCBmKSA9PiBwcm9wcy5jb25jYXQoZigpKSxcbiAgICBbXS5jb25jYXQocG9seWZpbGxlZEluaGVyaXRlZFByb3BzKSxcbiAgKTtcbn1cblxuZXhwb3J0IGNvbnN0IHN1cHBvcnRlZE5hbWVzcGFjZXMgPSB7XG4gIFwiaHR0cDovL3d3dy5pZHBmLm9yZy8yMDA3L29wc1wiOiB0cnVlLFxuICBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIjogdHJ1ZSxcbiAgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiOiB0cnVlLFxufTtcblxuZXhwb3J0IGNvbnN0IGNvdXBsZWRQYXR0ZXJucyA9IFtcbiAgXCJtYXJnaW4tJVwiLFxuICBcInBhZGRpbmctJVwiLFxuICBcImJvcmRlci0lLXdpZHRoXCIsXG4gIFwiYm9yZGVyLSUtc3R5bGVcIixcbiAgXCJib3JkZXItJS1jb2xvclwiLFxuICBcIiVcIixcbl07XG5cbmV4cG9ydCBjb25zdCBjb3VwbGVkRXh0ZW50UGF0dGVybnMgPSBbXCJtYXgtJVwiLCBcIm1pbi0lXCIsIFwiJVwiXTtcblxuZXhwb3J0IGNvbnN0IGdlb21OYW1lczogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSAoKCkgPT4ge1xuICBjb25zdCBzaWRlcyA9IFtcImxlZnRcIiwgXCJyaWdodFwiLCBcInRvcFwiLCBcImJvdHRvbVwiXTtcbiAgY29uc3QgbmFtZXMgPSB7XG4gICAgd2lkdGg6IHRydWUsXG4gICAgaGVpZ2h0OiB0cnVlLFxuICAgIFwibWF4LXdpZHRoXCI6IHRydWUsXG4gICAgXCJtYXgtaGVpZ2h0XCI6IHRydWUsXG4gICAgXCJtaW4td2lkdGhcIjogdHJ1ZSxcbiAgICBcIm1pbi1oZWlnaHRcIjogdHJ1ZSxcbiAgfTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VwbGVkUGF0dGVybnMubGVuZ3RoOyBpKyspIHtcbiAgICBmb3IgKGxldCBrID0gMDsgayA8IHNpZGVzLmxlbmd0aDsgaysrKSB7XG4gICAgICBjb25zdCBuYW1lID0gY291cGxlZFBhdHRlcm5zW2ldLnJlcGxhY2UoXCIlXCIsIHNpZGVzW2tdKTtcbiAgICAgIG5hbWVzW25hbWVdID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5hbWVzO1xufSkoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkQ291cGxpbmdNYXAoXG4gIHNpZGVNYXA6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0sXG4gIGV4dGVudE1hcDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSxcbik6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0ge1xuICBjb25zdCBtYXAgPSB7fTtcbiAgZm9yIChjb25zdCBwYXR0ZXJuIG9mIGNvdXBsZWRQYXR0ZXJucykge1xuICAgIGZvciAoY29uc3Qgc2lkZSBpbiBzaWRlTWFwKSB7XG4gICAgICBjb25zdCBuYW1lMSA9IHBhdHRlcm4ucmVwbGFjZShcIiVcIiwgc2lkZSk7XG4gICAgICBjb25zdCBuYW1lMiA9IHBhdHRlcm4ucmVwbGFjZShcIiVcIiwgc2lkZU1hcFtzaWRlXSk7XG4gICAgICBtYXBbbmFtZTFdID0gbmFtZTI7XG4gICAgICBtYXBbbmFtZTJdID0gbmFtZTE7XG4gICAgfVxuICB9XG4gIGZvciAoY29uc3QgZXh0ZW50UGF0dGVybiBvZiBjb3VwbGVkRXh0ZW50UGF0dGVybnMpIHtcbiAgICBmb3IgKGNvbnN0IGV4dGVudCBpbiBleHRlbnRNYXApIHtcbiAgICAgIGNvbnN0IG5hbWUxID0gZXh0ZW50UGF0dGVybi5yZXBsYWNlKFwiJVwiLCBleHRlbnQpO1xuICAgICAgY29uc3QgbmFtZTIgPSBleHRlbnRQYXR0ZXJuLnJlcGxhY2UoXCIlXCIsIGV4dGVudE1hcFtleHRlbnRdKTtcbiAgICAgIG1hcFtuYW1lMV0gPSBuYW1lMjtcbiAgICAgIG1hcFtuYW1lMl0gPSBuYW1lMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1hcDtcbn1cblxuZXhwb3J0IGNvbnN0IGNvdXBsaW5nTWFwVmVydCA9IGJ1aWxkQ291cGxpbmdNYXAoXG4gIHtcbiAgICBcImJsb2NrLXN0YXJ0XCI6IFwicmlnaHRcIixcbiAgICBcImJsb2NrLWVuZFwiOiBcImxlZnRcIixcbiAgICBcImlubGluZS1zdGFydFwiOiBcInRvcFwiLFxuICAgIFwiaW5saW5lLWVuZFwiOiBcImJvdHRvbVwiLFxuICB9LFxuICB7IFwiYmxvY2stc2l6ZVwiOiBcIndpZHRoXCIsIFwiaW5saW5lLXNpemVcIjogXCJoZWlnaHRcIiB9LFxuKTtcblxuZXhwb3J0IGNvbnN0IGNvdXBsaW5nTWFwSG9yID0gYnVpbGRDb3VwbGluZ01hcChcbiAge1xuICAgIFwiYmxvY2stc3RhcnRcIjogXCJ0b3BcIixcbiAgICBcImJsb2NrLWVuZFwiOiBcImJvdHRvbVwiLFxuICAgIFwiaW5saW5lLXN0YXJ0XCI6IFwibGVmdFwiLFxuICAgIFwiaW5saW5lLWVuZFwiOiBcInJpZ2h0XCIsXG4gIH0sXG4gIHsgXCJibG9jay1zaXplXCI6IFwiaGVpZ2h0XCIsIFwiaW5saW5lLXNpemVcIjogXCJ3aWR0aFwiIH0sXG4pO1xuXG5leHBvcnQgY29uc3QgY291cGxpbmdNYXBWZXJ0UnRsID0gYnVpbGRDb3VwbGluZ01hcChcbiAge1xuICAgIFwiYmxvY2stc3RhcnRcIjogXCJyaWdodFwiLFxuICAgIFwiYmxvY2stZW5kXCI6IFwibGVmdFwiLFxuICAgIFwiaW5saW5lLXN0YXJ0XCI6IFwiYm90dG9tXCIsXG4gICAgXCJpbmxpbmUtZW5kXCI6IFwidG9wXCIsXG4gIH0sXG4gIHsgXCJibG9jay1zaXplXCI6IFwid2lkdGhcIiwgXCJpbmxpbmUtc2l6ZVwiOiBcImhlaWdodFwiIH0sXG4pO1xuXG5leHBvcnQgY29uc3QgY291cGxpbmdNYXBIb3JSdGwgPSBidWlsZENvdXBsaW5nTWFwKFxuICB7XG4gICAgXCJibG9jay1zdGFydFwiOiBcInRvcFwiLFxuICAgIFwiYmxvY2stZW5kXCI6IFwiYm90dG9tXCIsXG4gICAgXCJpbmxpbmUtc3RhcnRcIjogXCJyaWdodFwiLFxuICAgIFwiaW5saW5lLWVuZFwiOiBcImxlZnRcIixcbiAgfSxcbiAgeyBcImJsb2NrLXNpemVcIjogXCJoZWlnaHRcIiwgXCJpbmxpbmUtc2l6ZVwiOiBcIndpZHRoXCIgfSxcbik7XG5cbmV4cG9ydCBjbGFzcyBDYXNjYWRlVmFsdWUge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmFsdWU6IENzcy5WYWwsXG4gICAgcHVibGljIHJlYWRvbmx5IHByaW9yaXR5OiBudW1iZXIsXG4gICkge31cblxuICBnZXRCYXNlVmFsdWUoKTogQ2FzY2FkZVZhbHVlIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZpbHRlclZhbHVlKHZpc2l0b3I6IENzcy5WaXNpdG9yKTogQ2FzY2FkZVZhbHVlIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMudmFsdWUudmlzaXQodmlzaXRvcik7XG4gICAgaWYgKHZhbHVlID09PSB0aGlzLnZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBDYXNjYWRlVmFsdWUodmFsdWUsIHRoaXMucHJpb3JpdHkpO1xuICB9XG5cbiAgaW5jcmVhc2VTcGVjaWZpY2l0eShzcGVjaWZpY2l0eTogbnVtYmVyKTogQ2FzY2FkZVZhbHVlIHtcbiAgICBpZiAoc3BlY2lmaWNpdHkgPT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ2FzY2FkZVZhbHVlKHRoaXMudmFsdWUsIHRoaXMucHJpb3JpdHkgKyBzcGVjaWZpY2l0eSk7XG4gIH1cblxuICBldmFsdWF0ZShjb250ZXh0OiBFeHBycy5Db250ZXh0LCBwcm9wTmFtZTogc3RyaW5nKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIENzc1BhcnNlci5ldmFsdWF0ZUNTU1RvQ1NTKGNvbnRleHQsIHRoaXMudmFsdWUsIHByb3BOYW1lKTtcbiAgfVxuXG4gIGlzRW5hYmxlZChjb250ZXh0OiBFeHBycy5Db250ZXh0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuLyoqXG4gKiBJbnRlcm5hbCBzdWJjbGFzcyBvZiBDYXNjYWRlVmFsdWUuIFNob3VsZCBuZXZlciBiZSBzZWVuIG91dHNpZGUgb2YgdGhlXG4gKiBjYXNjYWRlIGVuZ2luZS5cbiAqL1xuZXhwb3J0IGNsYXNzIENvbmRpdGlvbmFsQ2FzY2FkZVZhbHVlIGV4dGVuZHMgQ2FzY2FkZVZhbHVlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgdmFsdWU6IENzcy5WYWwsXG4gICAgcHJpb3JpdHk6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29uZGl0aW9uOiBFeHBycy5WYWwsXG4gICkge1xuICAgIHN1cGVyKHZhbHVlLCBwcmlvcml0eSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRCYXNlVmFsdWUoKTogQ2FzY2FkZVZhbHVlIHtcbiAgICByZXR1cm4gbmV3IENhc2NhZGVWYWx1ZSh0aGlzLnZhbHVlLCB0aGlzLnByaW9yaXR5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZpbHRlclZhbHVlKHZpc2l0b3I6IENzcy5WaXNpdG9yKTogQ2FzY2FkZVZhbHVlIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMudmFsdWUudmlzaXQodmlzaXRvcik7XG4gICAgaWYgKHZhbHVlID09PSB0aGlzLnZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBDb25kaXRpb25hbENhc2NhZGVWYWx1ZSh2YWx1ZSwgdGhpcy5wcmlvcml0eSwgdGhpcy5jb25kaXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaW5jcmVhc2VTcGVjaWZpY2l0eShzcGVjaWZpY2l0eTogbnVtYmVyKTogQ2FzY2FkZVZhbHVlIHtcbiAgICBpZiAoc3BlY2lmaWNpdHkgPT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ29uZGl0aW9uYWxDYXNjYWRlVmFsdWUoXG4gICAgICB0aGlzLnZhbHVlLFxuICAgICAgdGhpcy5wcmlvcml0eSArIHNwZWNpZmljaXR5LFxuICAgICAgdGhpcy5jb25kaXRpb24sXG4gICAgKTtcbiAgfVxuXG4gIGlzRW5hYmxlZChjb250ZXh0OiBFeHBycy5Db250ZXh0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhdGhpcy5jb25kaXRpb24uZXZhbHVhdGUoY29udGV4dCk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0gdHYgY3VycmVudCB2YWx1ZSAoY2Fubm90IGJlIGNvbmRpdGlvbmFsKVxuICogQHBhcmFtIGF2IGNhc2NhZGVkIHZhbHVlIChjYW4gYmUgY29uZGl0aW9uYWwpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYXNjYWRlVmFsdWVzKFxuICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICB0djogQ2FzY2FkZVZhbHVlLFxuICBhdjogQ2FzY2FkZVZhbHVlLFxuKTogQ2FzY2FkZVZhbHVlIHtcbiAgaWYgKCh0diA9PSBudWxsIHx8IGF2LnByaW9yaXR5ID4gdHYucHJpb3JpdHkpICYmIGF2LmlzRW5hYmxlZChjb250ZXh0KSkge1xuICAgIHJldHVybiBhdi5nZXRCYXNlVmFsdWUoKTtcbiAgfVxuICByZXR1cm4gdHY7XG59XG5cbmV4cG9ydCB0eXBlIEVsZW1lbnRTdHlsZU1hcCA9IHtcbiAgW2tleTogc3RyaW5nXTogRWxlbWVudFN0eWxlO1xufTtcblxuZXhwb3J0IGNvbnN0IFNQRUNJQUxTID0ge1xuICBcInJlZ2lvbi1pZFwiOiB0cnVlLFxuICBcImZyYWdtZW50LXNlbGVjdG9yLWlkXCI6IHRydWUsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gaXNTcGVjaWFsTmFtZShuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuICEhU1BFQ0lBTFNbbmFtZV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc01hcE5hbWUobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBuYW1lLmNoYXJBdCgwKSA9PSBcIl9cIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvcE5hbWUobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBuYW1lLmNoYXJBdCgwKSAhPSBcIl9cIiAmJiAhU1BFQ0lBTFNbbmFtZV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0luaGVyaXRlZChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuICEhaW5oZXJpdGVkUHJvcHNbbmFtZV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9wKHN0eWxlOiBFbGVtZW50U3R5bGUsIG5hbWU6IHN0cmluZyk6IENhc2NhZGVWYWx1ZSB7XG4gIHJldHVybiBzdHlsZVtuYW1lXSBhcyBDYXNjYWRlVmFsdWU7XG59XG5cbi8qKlxuICogQHJldHVybiB2b2lkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRQcm9wKFxuICBzdHlsZTogRWxlbWVudFN0eWxlLFxuICBuYW1lOiBzdHJpbmcsXG4gIHZhbHVlOiBDYXNjYWRlVmFsdWUsXG4pOiBhbnkge1xuICBpZiAoIXZhbHVlKSB7XG4gICAgZGVsZXRlIHN0eWxlW25hbWVdO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlW25hbWVdID0gdmFsdWU7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0eWxlTWFwKFxuICBzdHlsZTogRWxlbWVudFN0eWxlLFxuICBuYW1lOiBzdHJpbmcsXG4pOiBFbGVtZW50U3R5bGVNYXAge1xuICByZXR1cm4gc3R5bGVbbmFtZV0gYXMgRWxlbWVudFN0eWxlTWFwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TXV0YWJsZVN0eWxlTWFwKFxuICBzdHlsZTogRWxlbWVudFN0eWxlLFxuICBuYW1lOiBzdHJpbmcsXG4pOiBFbGVtZW50U3R5bGVNYXAge1xuICBsZXQgciA9IHN0eWxlW25hbWVdIGFzIEVsZW1lbnRTdHlsZU1hcDtcbiAgaWYgKCFyKSB7XG4gICAgciA9IHt9O1xuICAgIHN0eWxlW25hbWVdID0gcjtcbiAgfVxuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGNvbnN0IGdldFZpZXdDb25kaXRpb25hbFN0eWxlTWFwID0gKFxuICBzdHlsZTogRWxlbWVudFN0eWxlLFxuKTogeyBtYXRjaGVyOiBNYXRjaGVycy5NYXRjaGVyOyBzdHlsZXM6IEVsZW1lbnRTdHlsZU1hcCB9W10gPT4ge1xuICBsZXQgciA9IHN0eWxlW1wiX3ZpZXdDb25kaXRpb25hbFN0eWxlc1wiXSBhcyB7XG4gICAgbWF0Y2hlcjogTWF0Y2hlcnMuTWF0Y2hlcjtcbiAgICBzdHlsZXM6IEVsZW1lbnRTdHlsZU1hcDtcbiAgfVtdO1xuICBpZiAoIXIpIHtcbiAgICByID0gW107XG4gICAgc3R5bGVbXCJfdmlld0NvbmRpdGlvbmFsU3R5bGVzXCJdID0gcjtcbiAgfVxuICByZXR1cm4gcjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTcGVjaWFsKHN0eWxlOiBFbGVtZW50U3R5bGUsIG5hbWU6IHN0cmluZyk6IENhc2NhZGVWYWx1ZVtdIHtcbiAgcmV0dXJuIHN0eWxlW25hbWVdIGFzIENhc2NhZGVWYWx1ZVtdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TXV0YWJsZVNwZWNpYWwoXG4gIHN0eWxlOiBFbGVtZW50U3R5bGUsXG4gIG5hbWU6IHN0cmluZyxcbik6IENhc2NhZGVWYWx1ZVtdIHtcbiAgbGV0IHIgPSBzdHlsZVtuYW1lXSBhcyBDYXNjYWRlVmFsdWVbXTtcbiAgaWYgKCFyKSB7XG4gICAgciA9IFtdO1xuICAgIHN0eWxlW25hbWVdID0gcjtcbiAgfVxuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlSW4oXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gIHRhcmdldDogRWxlbWVudFN0eWxlLFxuICBzdHlsZTogRWxlbWVudFN0eWxlLFxuICBzcGVjaWZpY2l0eTogbnVtYmVyLFxuICBwc2V1ZG9lbGVtZW50OiBzdHJpbmcgfCBudWxsLFxuICByZWdpb25JZDogc3RyaW5nIHwgbnVsbCxcbiAgdmlld0NvbmRpdGlvbk1hdGNoZXI6IE1hdGNoZXJzLk1hdGNoZXIgfCBudWxsLFxuKTogdm9pZCB7XG4gIGNvbnN0IGhpZXJhcmNoeSA9IFtcbiAgICB7IGlkOiBwc2V1ZG9lbGVtZW50LCBzdHlsZUtleTogXCJfcHNldWRvc1wiIH0sXG4gICAgeyBpZDogcmVnaW9uSWQsIHN0eWxlS2V5OiBcIl9yZWdpb25zXCIgfSxcbiAgXTtcbiAgaGllcmFyY2h5LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICBpZiAoaXRlbS5pZCkge1xuICAgICAgY29uc3Qgc3R5bGVNYXAgPSBnZXRNdXRhYmxlU3R5bGVNYXAodGFyZ2V0LCBpdGVtLnN0eWxlS2V5KTtcbiAgICAgIHRhcmdldCA9IHN0eWxlTWFwW2l0ZW0uaWRdO1xuICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgdGFyZ2V0ID0ge30gYXMgRWxlbWVudFN0eWxlO1xuICAgICAgICBzdHlsZU1hcFtpdGVtLmlkXSA9IHRhcmdldDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBpZiAodmlld0NvbmRpdGlvbk1hdGNoZXIpIHtcbiAgICBjb25zdCBzdHlsZU1hcCA9IGdldFZpZXdDb25kaXRpb25hbFN0eWxlTWFwKHRhcmdldCk7XG4gICAgdGFyZ2V0ID0ge30gYXMgRWxlbWVudFN0eWxlO1xuICAgIHN0eWxlTWFwLnB1c2goe1xuICAgICAgc3R5bGVzOiB0YXJnZXQgYXMgRWxlbWVudFN0eWxlTWFwLFxuICAgICAgbWF0Y2hlcjogdmlld0NvbmRpdGlvbk1hdGNoZXIsXG4gICAgfSk7XG4gIH1cbiAgZm9yIChjb25zdCBwcm9wIGluIHN0eWxlKSB7XG4gICAgaWYgKGlzTWFwTmFtZShwcm9wKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChpc1NwZWNpYWxOYW1lKHByb3ApKSB7XG4gICAgICAvLyBzcGVjaWFsIHByb3BlcnRpZXM6IGxpc3Qgb2YgYWxsIGFzc2lnbmVkIHZhbHVlc1xuICAgICAgY29uc3QgYXMgPSBnZXRTcGVjaWFsKHN0eWxlLCBwcm9wKTtcbiAgICAgIGNvbnN0IHRzID0gZ2V0TXV0YWJsZVNwZWNpYWwodGFyZ2V0LCBwcm9wKTtcbiAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRzLCBhcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHJlZ3VsYXIgcHJvcGVydGllczogaGlnaGVyIHByaW9yaXR5IHdpbnNcbiAgICAgIGNvbnN0IGF2ID0gZ2V0UHJvcChzdHlsZSwgcHJvcCkuaW5jcmVhc2VTcGVjaWZpY2l0eShzcGVjaWZpY2l0eSk7XG4gICAgICBjb25zdCB0diA9IGdldFByb3AodGFyZ2V0LCBwcm9wKTtcbiAgICAgIHNldFByb3AodGFyZ2V0LCBwcm9wLCBjYXNjYWRlVmFsdWVzKGNvbnRleHQsIHR2LCBhdikpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VBbGwoXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gIHN0eWxlczogRWxlbWVudFN0eWxlW10sXG4pOiBFbGVtZW50U3R5bGUge1xuICBjb25zdCB0YXJnZXQgPSB7fSBhcyBFbGVtZW50U3R5bGU7XG4gIGZvciAobGV0IGsgPSAwOyBrIDwgc3R5bGVzLmxlbmd0aDsgaysrKSB7XG4gICAgbWVyZ2VJbihjb250ZXh0LCB0YXJnZXQsIHN0eWxlc1trXSwgMCwgbnVsbCwgbnVsbCwgbnVsbCk7XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoYWluQWN0aW9ucyhcbiAgY2hhaW46IENoYWluZWRBY3Rpb25bXSxcbiAgYWN0aW9uOiBDYXNjYWRlQWN0aW9uLFxuKTogQ2FzY2FkZUFjdGlvbiB7XG4gIGlmIChjaGFpbi5sZW5ndGggPiAwKSB7XG4gICAgY2hhaW4uc29ydCgoYSwgYikgPT4gYi5nZXRQcmlvcml0eSgpIC0gYS5nZXRQcmlvcml0eSgpKTtcbiAgICBsZXQgY2hhaW5lZDogQ2hhaW5lZEFjdGlvbiB8IG51bGwgPSBudWxsO1xuICAgIGZvciAobGV0IGkgPSBjaGFpbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY2hhaW5lZCA9IGNoYWluW2ldO1xuICAgICAgY2hhaW5lZC5jaGFpbmVkID0gYWN0aW9uO1xuICAgICAgYWN0aW9uID0gY2hhaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGNoYWluZWQ7XG4gIH1cbiAgcmV0dXJuIGFjdGlvbjtcbn1cblxuZXhwb3J0IGNsYXNzIEluaGVyaXRhbmNlVmlzaXRvciBleHRlbmRzIENzcy5GaWx0ZXJWaXNpdG9yIHtcbiAgcHJvcE5hbWU6IHN0cmluZyA9IFwiXCI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHByb3BzOiBFbGVtZW50U3R5bGUsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBzZXRQcm9wTmFtZShuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnByb3BOYW1lID0gbmFtZTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Rm9udFNpemUoKSB7XG4gICAgY29uc3QgY2FzY3ZhbCA9IGdldFByb3AodGhpcy5wcm9wcywgXCJmb250LXNpemVcIik7XG4gICAgY29uc3QgbiA9IGNhc2N2YWwudmFsdWUgYXMgQ3NzLk51bWVyaWM7XG4gICAgaWYgKCFFeHBycy5pc0Fic29sdXRlTGVuZ3RoVW5pdChuLnVuaXQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIHN0YXRlXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbi5udW0gKiBFeHBycy5kZWZhdWx0VW5pdFNpemVzW24udW5pdF07XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdE51bWVyaWMobnVtZXJpYzogQ3NzLk51bWVyaWMpOiBDc3MuVmFsIHtcbiAgICBBc3NlcnRzLmFzc2VydCh0aGlzLmNvbnRleHQpO1xuICAgIGlmICh0aGlzLnByb3BOYW1lID09PSBcImZvbnQtc2l6ZVwiKSB7XG4gICAgICByZXR1cm4gY29udmVydEZvbnRTaXplVG9QeChudW1lcmljLCB0aGlzLmdldEZvbnRTaXplKCksIHRoaXMuY29udGV4dCk7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIG51bWVyaWMudW5pdCA9PSBcImVtXCIgfHxcbiAgICAgIG51bWVyaWMudW5pdCA9PSBcImV4XCIgfHxcbiAgICAgIG51bWVyaWMudW5pdCA9PSBcInJlbVwiXG4gICAgKSB7XG4gICAgICByZXR1cm4gY29udmVydEZvbnRSZWxhdGl2ZUxlbmd0aFRvUHgoXG4gICAgICAgIG51bWVyaWMsXG4gICAgICAgIHRoaXMuZ2V0Rm9udFNpemUoKSxcbiAgICAgICAgdGhpcy5jb250ZXh0LFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKG51bWVyaWMudW5pdCA9PSBcIiVcIikge1xuICAgICAgaWYgKHRoaXMucHJvcE5hbWUgPT09IFwibGluZS1oZWlnaHRcIikge1xuICAgICAgICByZXR1cm4gbnVtZXJpYztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHVuaXQgPSB0aGlzLnByb3BOYW1lLm1hdGNoKC9oZWlnaHR8Xih0b3B8Ym90dG9tKSQvKSA/IFwidmhcIiA6IFwidndcIjtcbiAgICAgIHJldHVybiBuZXcgQ3NzLk51bWVyaWMobnVtZXJpYy5udW0sIHVuaXQpO1xuICAgIH1cbiAgICByZXR1cm4gbnVtZXJpYztcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0RXhwcihleHByOiBDc3MuRXhwcik6IENzcy5WYWwge1xuICAgIGlmICh0aGlzLnByb3BOYW1lID09IFwiZm9udC1zaXplXCIpIHtcbiAgICAgIGNvbnN0IHZhbCA9IENzc1BhcnNlci5ldmFsdWF0ZUNTU1RvQ1NTKHRoaXMuY29udGV4dCwgZXhwciwgdGhpcy5wcm9wTmFtZSk7XG4gICAgICByZXR1cm4gdmFsLnZpc2l0KHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gZXhwcjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydEZvbnRSZWxhdGl2ZUxlbmd0aFRvUHgoXG4gIG51bWVyaWM6IENzcy5OdW1lcmljLFxuICBiYXNlRm9udFNpemU6IG51bWJlcixcbiAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbik6IENzcy5OdW1lcmljIHtcbiAgY29uc3QgdW5pdCA9IG51bWVyaWMudW5pdDtcbiAgY29uc3QgbnVtID0gbnVtZXJpYy5udW07XG4gIGlmICh1bml0ID09PSBcImVtXCIgfHwgdW5pdCA9PT0gXCJleFwiKSB7XG4gICAgY29uc3QgcmF0aW8gPSBFeHBycy5kZWZhdWx0VW5pdFNpemVzW3VuaXRdIC8gRXhwcnMuZGVmYXVsdFVuaXRTaXplc1tcImVtXCJdO1xuICAgIHJldHVybiBuZXcgQ3NzLk51bWVyaWMobnVtICogcmF0aW8gKiBiYXNlRm9udFNpemUsIFwicHhcIik7XG4gIH0gZWxzZSBpZiAodW5pdCA9PT0gXCJyZW1cIikge1xuICAgIHJldHVybiBuZXcgQ3NzLk51bWVyaWMobnVtICogY29udGV4dC5mb250U2l6ZSgpLCBcInB4XCIpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudW1lcmljO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0Rm9udFNpemVUb1B4KFxuICBudW1lcmljOiBDc3MuTnVtZXJpYyxcbiAgcGFyZW50Rm9udFNpemU6IG51bWJlcixcbiAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbik6IENzcy5OdW1lcmljIHtcbiAgbnVtZXJpYyA9IGNvbnZlcnRGb250UmVsYXRpdmVMZW5ndGhUb1B4KG51bWVyaWMsIHBhcmVudEZvbnRTaXplLCBjb250ZXh0KTtcbiAgY29uc3QgdW5pdCA9IG51bWVyaWMudW5pdDtcbiAgY29uc3QgbnVtID0gbnVtZXJpYy5udW07XG4gIGlmICh1bml0ID09PSBcInB4XCIpIHtcbiAgICByZXR1cm4gbnVtZXJpYztcbiAgfSBlbHNlIGlmICh1bml0ID09PSBcIiVcIikge1xuICAgIHJldHVybiBuZXcgQ3NzLk51bWVyaWMoKG51bSAvIDEwMCkgKiBwYXJlbnRGb250U2l6ZSwgXCJweFwiKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IENzcy5OdW1lcmljKG51bSAqIGNvbnRleHQucXVlcnlVbml0U2l6ZSh1bml0LCBmYWxzZSksIFwicHhcIik7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgQWN0aW9uVGFibGUgPSB7XG4gIFtrZXk6IHN0cmluZ106IENhc2NhZGVBY3Rpb247XG59O1xuXG5leHBvcnQgY2xhc3MgQ2FzY2FkZUFjdGlvbiB7XG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7fVxuXG4gIG1lcmdlV2l0aChvdGhlcjogQ2FzY2FkZUFjdGlvbik6IENhc2NhZGVBY3Rpb24ge1xuICAgIHJldHVybiBuZXcgQ29tcG91bmRBY3Rpb24oW3RoaXMsIG90aGVyXSk7XG4gIH1cblxuICBjbG9uZSgpOiBDYXNjYWRlQWN0aW9uIHtcbiAgICAvLyBNdXRhYmxlIGFjdGlvbnMgd2lsbCBvdmVycmlkZVxuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb25kaXRpb25JdGVtQWN0aW9uIGV4dGVuZHMgQ2FzY2FkZUFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBjb25kaXRpb25JdGVtOiBDb25kaXRpb25JdGVtKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgY2FzY2FkZUluc3RhbmNlLnB1c2hDb25kaXRpb25JdGVtKFxuICAgICAgdGhpcy5jb25kaXRpb25JdGVtLmZyZXNoKGNhc2NhZGVJbnN0YW5jZSksXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcG91bmRBY3Rpb24gZXh0ZW5kcyBDYXNjYWRlQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGxpc3Q6IENhc2NhZGVBY3Rpb25bXSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmxpc3RbaV0uYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBtZXJnZVdpdGgob3RoZXI6IENhc2NhZGVBY3Rpb24pOiBDYXNjYWRlQWN0aW9uIHtcbiAgICB0aGlzLmxpc3QucHVzaChvdGhlcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjbG9uZSgpOiBDYXNjYWRlQWN0aW9uIHtcbiAgICByZXR1cm4gbmV3IENvbXBvdW5kQWN0aW9uKFtdLmNvbmNhdCh0aGlzLmxpc3QpKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQXBwbHlSdWxlQWN0aW9uIGV4dGVuZHMgQ2FzY2FkZUFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBzdHlsZTogRWxlbWVudFN0eWxlLFxuICAgIHB1YmxpYyByZWFkb25seSBzcGVjaWZpY2l0eTogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBwc2V1ZG9lbGVtZW50OiBzdHJpbmcgfCBudWxsLFxuICAgIHB1YmxpYyByZWFkb25seSByZWdpb25JZDogc3RyaW5nIHwgbnVsbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmlld0NvbmRpdGlvbklkOiBzdHJpbmcgfCBudWxsLFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBtZXJnZUluKFxuICAgICAgY2FzY2FkZUluc3RhbmNlLmNvbnRleHQsXG4gICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudFN0eWxlLFxuICAgICAgdGhpcy5zdHlsZSxcbiAgICAgIHRoaXMuc3BlY2lmaWNpdHksXG4gICAgICB0aGlzLnBzZXVkb2VsZW1lbnQsXG4gICAgICB0aGlzLnJlZ2lvbklkLFxuICAgICAgY2FzY2FkZUluc3RhbmNlLmJ1aWxkVmlld0NvbmRpdGlvbk1hdGNoZXIodGhpcy52aWV3Q29uZGl0aW9uSWQpLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENoYWluZWRBY3Rpb24gZXh0ZW5kcyBDYXNjYWRlQWN0aW9uIHtcbiAgY2hhaW5lZDogQ2FzY2FkZUFjdGlvbiA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gIH1cblxuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgbWFrZVByaW1hcnkoY2FzY2FkZTogQ2FzY2FkZSk6IGJvb2xlYW4ge1xuICAgIC8vIGNhbm5vdCBiZSBtYWRlIHByaW1hcnlcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENoZWNrQ2xhc3NBY3Rpb24gZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGNsYXNzTmFtZTogc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgaWYgKGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50Q2xhc3NOYW1lcy5pbmNsdWRlcyh0aGlzLmNsYXNzTmFtZSkpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDEwO1xuICB9XG4gIC8vIGNsYXNzIHNob3VsZCBiZSBjaGVja2VkIGFmdGVyIGlkXG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbWFrZVByaW1hcnkoY2FzY2FkZTogQ2FzY2FkZSk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmNoYWluZWQpIHtcbiAgICAgIGNhc2NhZGUuaW5zZXJ0SW5UYWJsZShjYXNjYWRlLmNsYXNzZXMsIHRoaXMuY2xhc3NOYW1lLCB0aGlzLmNoYWluZWQpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tJZEFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgaWQ6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGlmIChcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50SWQgPT0gdGhpcy5pZCB8fFxuICAgICAgY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRYbWxJZCA9PSB0aGlzLmlkXG4gICAgKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAxMTtcbiAgfVxuICAvLyBpZCBzaG91bGQgYmUgY2hlY2tlZCBhZnRlciA6cm9vdFxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG1ha2VQcmltYXJ5KGNhc2NhZGU6IENhc2NhZGUpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5jaGFpbmVkKSB7XG4gICAgICBjYXNjYWRlLmluc2VydEluVGFibGUoY2FzY2FkZS5pZHMsIHRoaXMuaWQsIHRoaXMuY2hhaW5lZCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGVja0xvY2FsTmFtZUFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbG9jYWxOYW1lOiBzdHJpbmcpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRMb2NhbE5hbWUgPT0gdGhpcy5sb2NhbE5hbWUpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDg7XG4gIH1cbiAgLy8gdGFnIGlzIGEgcHJldHR5IGdvb2QgdGhpbmcgdG8gY2hlY2ssIGFmdGVyIGVwdWI6dHlwZVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG1ha2VQcmltYXJ5KGNhc2NhZGU6IENhc2NhZGUpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5jaGFpbmVkKSB7XG4gICAgICBjYXNjYWRlLmluc2VydEluVGFibGUoY2FzY2FkZS50YWdzLCB0aGlzLmxvY2FsTmFtZSwgdGhpcy5jaGFpbmVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENoZWNrTlNUYWdBY3Rpb24gZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IG5zOiBzdHJpbmcsIHB1YmxpYyByZWFkb25seSBsb2NhbE5hbWU6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGlmIChcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50TG9jYWxOYW1lID09IHRoaXMubG9jYWxOYW1lICYmXG4gICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudE5hbWVzcGFjZSA9PSB0aGlzLm5zXG4gICAgKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiA4O1xuICB9XG4gIC8vIHRhZyBpcyBhIHByZXR0eSBnb29kIHRoaW5nIHRvIGNoZWNrLCBhZnRlciBlcHViOnR5cGVcblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBtYWtlUHJpbWFyeShjYXNjYWRlOiBDYXNjYWRlKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuY2hhaW5lZCkge1xuICAgICAgbGV0IHByZWZpeCA9IGNhc2NhZGUubnNQcmVmaXhbdGhpcy5uc107XG4gICAgICBpZiAoIXByZWZpeCkge1xuICAgICAgICBwcmVmaXggPSBgbnMke2Nhc2NhZGUubnNDb3VudCsrfTpgO1xuICAgICAgICBjYXNjYWRlLm5zUHJlZml4W3RoaXMubnNdID0gcHJlZml4O1xuICAgICAgfVxuICAgICAgY29uc3QgbnNUYWcgPSBwcmVmaXggKyB0aGlzLmxvY2FsTmFtZTtcbiAgICAgIGNhc2NhZGUuaW5zZXJ0SW5UYWJsZShjYXNjYWRlLm5zdGFncywgbnNUYWcsIHRoaXMuY2hhaW5lZCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGVja1RhcmdldEVwdWJUeXBlQWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBlcHViVHlwZVBhdHQ6IFJlZ0V4cCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNvbnN0IGVsZW0gPSBjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQ7XG4gICAgaWYgKGVsZW0gJiYgY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRMb2NhbE5hbWUgPT0gXCJhXCIpIHtcbiAgICAgIGNvbnN0IGhyZWYgPSBlbGVtLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG4gICAgICBpZiAoaHJlZiAmJiBocmVmLm1hdGNoKC9eIy8pKSB7XG4gICAgICAgIGNvbnN0IGlkID0gaHJlZi5zdWJzdHJpbmcoMSk7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGVsZW0ub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICBjb25zdCBlcHViVHlwZSA9IHRhcmdldC5nZXRBdHRyaWJ1dGVOUyhCYXNlLk5TLmVwdWIsIFwidHlwZVwiKTtcbiAgICAgICAgICBpZiAoZXB1YlR5cGUgJiYgZXB1YlR5cGUubWF0Y2godGhpcy5lcHViVHlwZVBhdHQpKSB7XG4gICAgICAgICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENoZWNrTmFtZXNwYWNlQWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBuczogc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgaWYgKGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50TmFtZXNwYWNlID09IHRoaXMubnMpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tBdHRyaWJ1dGVQcmVzZW50QWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBuczogc3RyaW5nLCBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgaWYgKFxuICAgICAgY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRFbGVtZW50ICYmXG4gICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQuaGFzQXR0cmlidXRlTlModGhpcy5ucywgdGhpcy5uYW1lKVxuICAgICkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGVja0F0dHJpYnV0ZUVxQWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBuczogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbHVlOiBzdHJpbmcsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGlmIChcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50RWxlbWVudCAmJlxuICAgICAgY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZU5TKHRoaXMubnMsIHRoaXMubmFtZSkgPT1cbiAgICAgICAgdGhpcy52YWx1ZVxuICAgICkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy5uYW1lID09IFwidHlwZVwiICYmIHRoaXMubnMgPT0gQmFzZS5OUy5lcHViKSB7XG4gICAgICByZXR1cm4gOTsgLy8gZXB1Yjp0eXBlIGlzIGEgcHJldHR5IGdvb2QgdGhpbmcgdG8gY2hlY2tcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBtYWtlUHJpbWFyeShjYXNjYWRlOiBDYXNjYWRlKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMubmFtZSA9PSBcInR5cGVcIiAmJiB0aGlzLm5zID09IEJhc2UuTlMuZXB1Yikge1xuICAgICAgaWYgKHRoaXMuY2hhaW5lZCkge1xuICAgICAgICBjYXNjYWRlLmluc2VydEluVGFibGUoY2FzY2FkZS5lcHVidHlwZXMsIHRoaXMudmFsdWUsIHRoaXMuY2hhaW5lZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGVja05hbWVzcGFjZVN1cHBvcnRlZEFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbnM6IHN0cmluZywgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGlmIChjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IG5zID0gY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZU5TKFxuICAgICAgICB0aGlzLm5zLFxuICAgICAgICB0aGlzLm5hbWUsXG4gICAgICApO1xuICAgICAgaWYgKG5zICYmIHN1cHBvcnRlZE5hbWVzcGFjZXNbbnNdKSB7XG4gICAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBtYWtlUHJpbWFyeShjYXNjYWRlOiBDYXNjYWRlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGVja0F0dHJpYnV0ZVJlZ0V4cEFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbnM6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSByZWdleHA6IFJlZ0V4cCxcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgaWYgKGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50RWxlbWVudCkge1xuICAgICAgY29uc3QgYXR0ciA9IGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGVOUyhcbiAgICAgICAgdGhpcy5ucyxcbiAgICAgICAgdGhpcy5uYW1lLFxuICAgICAgKTtcbiAgICAgIGlmIChhdHRyICYmIGF0dHIubWF0Y2godGhpcy5yZWdleHApKSB7XG4gICAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tMYW5nQWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBsYW5nUmVnRXhwOiBSZWdFeHApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoY2FzY2FkZUluc3RhbmNlLmxhbmcubWF0Y2godGhpcy5sYW5nUmVnRXhwKSkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJc0ZpcnN0QWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGlmIChjYXNjYWRlSW5zdGFuY2UuaXNGaXJzdCkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNSb290QWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGlmIChjYXNjYWRlSW5zdGFuY2UuaXNSb290KSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAxMjsgLy8gOnJvb3QgaXMgdGhlIGZpcnN0IHRoaW5nIHRvIGNoZWNrXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzTnRoQWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBhOiBudW1iZXIsIHB1YmxpYyByZWFkb25seSBiOiBudW1iZXIpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrZXMgd2hldGhlciBnaXZlbiBvcmRlciBjYW4gYmUgcmVwcmVzZW50ZWQgYXMgYW4rYiB3aXRoIGEgbm9uLW5lZ2F0aXZlXG4gICAqIGludGVyZ2VyIG5cbiAgICovXG4gIHByb3RlY3RlZCBtYXRjaEFOUGx1c0Iob3JkZXI6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBNYXRjaGVycy5tYXRjaEFOUGx1c0Iob3JkZXIsIHRoaXMuYSwgdGhpcy5iKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNOdGhTaWJsaW5nQWN0aW9uIGV4dGVuZHMgSXNOdGhBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihhOiBudW1iZXIsIGI6IG51bWJlcikge1xuICAgIHN1cGVyKGEsIGIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5tYXRjaEFOUGx1c0IoY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRTaWJsaW5nT3JkZXIpKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiA1O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJc050aFNpYmxpbmdPZlR5cGVBY3Rpb24gZXh0ZW5kcyBJc050aEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKGE6IG51bWJlciwgYjogbnVtYmVyKSB7XG4gICAgc3VwZXIoYSwgYik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNvbnN0IG9yZGVyID1cbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50U2libGluZ1R5cGVDb3VudHNbXG4gICAgICAgIGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50TmFtZXNwYWNlXG4gICAgICBdW2Nhc2NhZGVJbnN0YW5jZS5jdXJyZW50TG9jYWxOYW1lXTtcbiAgICBpZiAodGhpcy5tYXRjaEFOUGx1c0Iob3JkZXIpKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiA1O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJc050aExhc3RTaWJsaW5nQWN0aW9uIGV4dGVuZHMgSXNOdGhBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihhOiBudW1iZXIsIGI6IG51bWJlcikge1xuICAgIHN1cGVyKGEsIGIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBsZXQgb3JkZXIgPSBjYXNjYWRlSW5zdGFuY2UuY3VycmVudEZvbGxvd2luZ1NpYmxpbmdPcmRlcjtcbiAgICBpZiAob3JkZXIgPT09IG51bGwpIHtcbiAgICAgIG9yZGVyID0gY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRGb2xsb3dpbmdTaWJsaW5nT3JkZXIgPVxuICAgICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQucGFyZW50Tm9kZS5jaGlsZEVsZW1lbnRDb3VudCAtXG4gICAgICAgIGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50U2libGluZ09yZGVyICtcbiAgICAgICAgMTtcbiAgICB9XG4gICAgaWYgKHRoaXMubWF0Y2hBTlBsdXNCKG9yZGVyKSkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNOdGhMYXN0U2libGluZ09mVHlwZUFjdGlvbiBleHRlbmRzIElzTnRoQWN0aW9uIHtcbiAgY29uc3RydWN0b3IoYTogbnVtYmVyLCBiOiBudW1iZXIpIHtcbiAgICBzdXBlcihhLCBiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgY29uc3QgY291bnRzID0gY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRGb2xsb3dpbmdTaWJsaW5nVHlwZUNvdW50cztcbiAgICBpZiAoIWNvdW50c1tjYXNjYWRlSW5zdGFuY2UuY3VycmVudE5hbWVzcGFjZV0pIHtcbiAgICAgIGxldCBlbGVtID0gY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRFbGVtZW50O1xuICAgICAgZG8ge1xuICAgICAgICBjb25zdCBucyA9IGVsZW0ubmFtZXNwYWNlVVJJO1xuICAgICAgICBjb25zdCBsb2NhbE5hbWUgPSBlbGVtLmxvY2FsTmFtZTtcbiAgICAgICAgbGV0IG5zQ291bnRzID0gY291bnRzW25zXTtcbiAgICAgICAgaWYgKCFuc0NvdW50cykge1xuICAgICAgICAgIG5zQ291bnRzID0gY291bnRzW25zXSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIG5zQ291bnRzW2xvY2FsTmFtZV0gPSAobnNDb3VudHNbbG9jYWxOYW1lXSB8fCAwKSArIDE7XG4gICAgICB9IHdoaWxlICgoZWxlbSA9IGVsZW0ubmV4dEVsZW1lbnRTaWJsaW5nKSk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHRoaXMubWF0Y2hBTlBsdXNCKFxuICAgICAgICBjb3VudHNbY2FzY2FkZUluc3RhbmNlLmN1cnJlbnROYW1lc3BhY2VdW1xuICAgICAgICAgIGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50TG9jYWxOYW1lXG4gICAgICAgIF0sXG4gICAgICApXG4gICAgKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiA0O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJc0VtcHR5QWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGxldCBub2RlOiBOb2RlIHwgbnVsbCA9IGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50RWxlbWVudC5maXJzdENoaWxkO1xuICAgIHdoaWxlIChub2RlKSB7XG4gICAgICBzd2l0Y2ggKG5vZGUubm9kZVR5cGUpIHtcbiAgICAgICAgY2FzZSBOb2RlLkVMRU1FTlRfTk9ERTpcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgTm9kZS5URVhUX05PREU6XG4gICAgICAgICAgaWYgKChub2RlIGFzIFRleHQpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICB9XG4gICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiA0O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJc0VuYWJsZWRBY3Rpb24gZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgY29uc3QgZWxlbSA9IGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50RWxlbWVudDtcbiAgICBpZiAoKGVsZW0gYXMgYW55KS5kaXNhYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzRGlzYWJsZWRBY3Rpb24gZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgY29uc3QgZWxlbSA9IGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50RWxlbWVudDtcbiAgICBpZiAoKGVsZW0gYXMgYW55KS5kaXNhYmxlZCA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNDaGVja2VkQWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNvbnN0IGVsZW0gPSBjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQ7XG4gICAgaWYgKChlbGVtIGFzIGFueSkuc2VsZWN0ZWQgPT09IHRydWUgfHwgKGVsZW0gYXMgYW55KS5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiA1O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGVja0NvbmRpdGlvbkFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgY29uZGl0aW9uOiBzdHJpbmcpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoY2FzY2FkZUluc3RhbmNlLmNvbmRpdGlvbnNbdGhpcy5jb25kaXRpb25dKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjYXNjYWRlSW5zdGFuY2UuZGVwZW5kZW50Q29uZGl0aW9ucy5wdXNoKHRoaXMuY29uZGl0aW9uKTtcbiAgICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBjYXNjYWRlSW5zdGFuY2UuZGVwZW5kZW50Q29uZGl0aW9ucy5wb3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiA1O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGVja0FwcGxpZWRBY3Rpb24gZXh0ZW5kcyBDYXNjYWRlQWN0aW9uIHtcbiAgYXBwbGllZCA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIHRoaXMuYXBwbGllZCA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjbG9uZSgpOiBDYXNjYWRlQWN0aW9uIHtcbiAgICBjb25zdCBjbG9uZWQgPSBuZXcgQ2hlY2tBcHBsaWVkQWN0aW9uKCk7XG4gICAgY2xvbmVkLmFwcGxpZWQgPSB0aGlzLmFwcGxpZWQ7XG4gICAgcmV0dXJuIGNsb25lZDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTmVnYXRlQWN0aW9uc1NldCBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjaGVja0FwcGxpZWRBY3Rpb246IENoZWNrQXBwbGllZEFjdGlvbjtcbiAgZmlyc3RBY3Rpb246IENhc2NhZGVBY3Rpb247XG5cbiAgY29uc3RydWN0b3IobGlzdDogQ2hhaW5lZEFjdGlvbltdKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmNoZWNrQXBwbGllZEFjdGlvbiA9IG5ldyBDaGVja0FwcGxpZWRBY3Rpb24oKTtcbiAgICB0aGlzLmZpcnN0QWN0aW9uID0gY2hhaW5BY3Rpb25zKGxpc3QsIHRoaXMuY2hlY2tBcHBsaWVkQWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgdGhpcy5maXJzdEFjdGlvbi5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIGlmICghdGhpcy5jaGVja0FwcGxpZWRBY3Rpb24uYXBwbGllZCkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICAgIHRoaXMuY2hlY2tBcHBsaWVkQWN0aW9uLmFwcGxpZWQgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuICh0aGlzLmZpcnN0QWN0aW9uIGFzIENoYWluZWRBY3Rpb24pLmdldFByaW9yaXR5KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBBbiBvYmplY3QgdGhhdCBpcyBub3RpZmllZCBhcyBlbGVtZW50cyBhcmUgcHVzaGVkIGFuZCBwb3BwZWQgYW5kIHR5cGljYWxseVxuICogY29udHJvbHMgYSBcIm5hbWVkIGNvbmRpdGlvblwiICh3aGljaCBpcyBhIGNvdW50IGFzc29jaWF0ZWQgd2l0aCBhIG5hbWUpLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbmRpdGlvbkl0ZW0ge1xuICAvKipcbiAgICogUmV0dXJucyBhIFwiZnJlc2hcIiBjb3B5IG9mIHRoaXMgaXRlbS4gTWF5IGJlIHRoaXMgaWYgaW1tdXRhYmxlLlxuICAgKi9cbiAgZnJlc2goY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiBDb25kaXRpb25JdGVtO1xuXG4gIC8qKlxuICAgKiBEZXB0aCBpcyAwIGZvciBlbGVtZW50IGl0c2VsZiBhbmQgaXRzIHNpYmxpbmdzLCAxIGZvciBkaXJlY3QgY2hpbGRyZW4gYW5kXG4gICAqIC0xIGZvciB0aGUgcGFyZW50LlxuICAgKi9cbiAgcHVzaChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSwgZGVwdGg6IG51bWJlcik6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gcmV0dXJuIHRydWUgaWYgbm8gbW9yZSBub3RpZmljYXRpb25zIGFyZSBkZXNpcmVkXG4gICAqL1xuICBwb3AoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UsIGRlcHRoOiBudW1iZXIpOiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgQWJzdHJhY3RDb25kaXRpb25JdGVtIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbmRpdGlvbjogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSB2aWV3Q29uZGl0aW9uSWQ6IHN0cmluZyB8IG51bGwsXG4gICAgcHVibGljIHJlYWRvbmx5IHZpZXdDb25kaXRpb246IE1hdGNoZXJzLk1hdGNoZXIsXG4gICkge31cblxuICBpbmNyZW1lbnQoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpIHtcbiAgICBjYXNjYWRlSW5zdGFuY2UuaW5jcmVtZW50KHRoaXMuY29uZGl0aW9uLCB0aGlzLnZpZXdDb25kaXRpb24pO1xuICB9XG5cbiAgZGVjcmVtZW50KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKSB7XG4gICAgY2FzY2FkZUluc3RhbmNlLmRlY3JlbWVudCh0aGlzLmNvbmRpdGlvbiwgdGhpcy52aWV3Q29uZGl0aW9uKTtcbiAgfVxuXG4gIGJ1aWxkVmlld0NvbmRpdGlvbk1hdGNoZXIoXG4gICAgY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UsXG4gICk6IE1hdGNoZXJzLk1hdGNoZXIge1xuICAgIHJldHVybiBjYXNjYWRlSW5zdGFuY2UuYnVpbGRWaWV3Q29uZGl0aW9uTWF0Y2hlcih0aGlzLnZpZXdDb25kaXRpb25JZCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlc2NlbmRhbnRDb25kaXRpb25JdGVtIGV4dGVuZHMgQWJzdHJhY3RDb25kaXRpb25JdGVtXG4gIGltcGxlbWVudHMgQ29uZGl0aW9uSXRlbSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvbmRpdGlvbjogc3RyaW5nLFxuICAgIHZpZXdDb25kaXRpb25JZDogc3RyaW5nIHwgbnVsbCxcbiAgICB2aWV3Q29uZGl0aW9uOiBNYXRjaGVycy5NYXRjaGVyLFxuICApIHtcbiAgICBzdXBlcihjb25kaXRpb24sIHZpZXdDb25kaXRpb25JZCwgdmlld0NvbmRpdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmcmVzaChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IENvbmRpdGlvbkl0ZW0ge1xuICAgIHJldHVybiBuZXcgRGVzY2VuZGFudENvbmRpdGlvbkl0ZW0oXG4gICAgICB0aGlzLmNvbmRpdGlvbixcbiAgICAgIHRoaXMudmlld0NvbmRpdGlvbklkLFxuICAgICAgdGhpcy5idWlsZFZpZXdDb25kaXRpb25NYXRjaGVyKGNhc2NhZGVJbnN0YW5jZSksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHB1c2goY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UsIGRlcHRoOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBpZiAoZGVwdGggPT0gMCkge1xuICAgICAgdGhpcy5pbmNyZW1lbnQoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcG9wKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgIHRoaXMuZGVjcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGlsZENvbmRpdGlvbkl0ZW0gZXh0ZW5kcyBBYnN0cmFjdENvbmRpdGlvbkl0ZW1cbiAgaW1wbGVtZW50cyBDb25kaXRpb25JdGVtIHtcbiAgY29uc3RydWN0b3IoXG4gICAgY29uZGl0aW9uOiBzdHJpbmcsXG4gICAgdmlld0NvbmRpdGlvbklkOiBzdHJpbmcgfCBudWxsLFxuICAgIHZpZXdDb25kaXRpb246IE1hdGNoZXJzLk1hdGNoZXIsXG4gICkge1xuICAgIHN1cGVyKGNvbmRpdGlvbiwgdmlld0NvbmRpdGlvbklkLCB2aWV3Q29uZGl0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZyZXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogQ29uZGl0aW9uSXRlbSB7XG4gICAgcmV0dXJuIG5ldyBDaGlsZENvbmRpdGlvbkl0ZW0oXG4gICAgICB0aGlzLmNvbmRpdGlvbixcbiAgICAgIHRoaXMudmlld0NvbmRpdGlvbklkLFxuICAgICAgdGhpcy5idWlsZFZpZXdDb25kaXRpb25NYXRjaGVyKGNhc2NhZGVJbnN0YW5jZSksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHB1c2goY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UsIGRlcHRoOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBpZiAoZGVwdGggPT0gMCkge1xuICAgICAgdGhpcy5pbmNyZW1lbnQoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9IGVsc2UgaWYgKGRlcHRoID09IDEpIHtcbiAgICAgIHRoaXMuZGVjcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBvcChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSwgZGVwdGg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICB0aGlzLmRlY3JlbWVudChjYXNjYWRlSW5zdGFuY2UpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmIChkZXB0aCA9PSAxKSB7XG4gICAgICB0aGlzLmluY3JlbWVudChjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFkamFjZW50U2libGluZ0NvbmRpdGlvbkl0ZW0gZXh0ZW5kcyBBYnN0cmFjdENvbmRpdGlvbkl0ZW1cbiAgaW1wbGVtZW50cyBDb25kaXRpb25JdGVtIHtcbiAgZmlyZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBjb25kaXRpb246IHN0cmluZyxcbiAgICB2aWV3Q29uZGl0aW9uSWQ6IHN0cmluZyB8IG51bGwsXG4gICAgdmlld0NvbmRpdGlvbjogTWF0Y2hlcnMuTWF0Y2hlcixcbiAgKSB7XG4gICAgc3VwZXIoY29uZGl0aW9uLCB2aWV3Q29uZGl0aW9uSWQsIHZpZXdDb25kaXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZnJlc2goY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiBDb25kaXRpb25JdGVtIHtcbiAgICByZXR1cm4gbmV3IEFkamFjZW50U2libGluZ0NvbmRpdGlvbkl0ZW0oXG4gICAgICB0aGlzLmNvbmRpdGlvbixcbiAgICAgIHRoaXMudmlld0NvbmRpdGlvbklkLFxuICAgICAgdGhpcy5idWlsZFZpZXdDb25kaXRpb25NYXRjaGVyKGNhc2NhZGVJbnN0YW5jZSksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHB1c2goY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UsIGRlcHRoOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5maXJlZCkge1xuICAgICAgdGhpcy5kZWNyZW1lbnQoY2FzY2FkZUluc3RhbmNlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwb3AoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UsIGRlcHRoOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5maXJlZCkge1xuICAgICAgdGhpcy5kZWNyZW1lbnQoY2FzY2FkZUluc3RhbmNlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoZGVwdGggPT0gMCkge1xuICAgICAgLy8gTGVhdmluZyBlbGVtZW50IHRoYXQgdHJpZ2dlcmVkIHRoaXMgaXRlbS5cbiAgICAgIHRoaXMuZmlyZWQgPSB0cnVlO1xuICAgICAgdGhpcy5pbmNyZW1lbnQoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGb2xsb3dpbmdTaWJsaW5nQ29uZGl0aW9uSXRlbSBleHRlbmRzIEFic3RyYWN0Q29uZGl0aW9uSXRlbVxuICBpbXBsZW1lbnRzIENvbmRpdGlvbkl0ZW0ge1xuICBmaXJlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvbmRpdGlvbjogc3RyaW5nLFxuICAgIHZpZXdDb25kaXRpb25JZDogc3RyaW5nIHwgbnVsbCxcbiAgICB2aWV3Q29uZGl0aW9uOiBNYXRjaGVycy5NYXRjaGVyLFxuICApIHtcbiAgICBzdXBlcihjb25kaXRpb24sIHZpZXdDb25kaXRpb25JZCwgdmlld0NvbmRpdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmcmVzaChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IENvbmRpdGlvbkl0ZW0ge1xuICAgIHJldHVybiBuZXcgRm9sbG93aW5nU2libGluZ0NvbmRpdGlvbkl0ZW0oXG4gICAgICB0aGlzLmNvbmRpdGlvbixcbiAgICAgIHRoaXMudmlld0NvbmRpdGlvbklkLFxuICAgICAgdGhpcy5idWlsZFZpZXdDb25kaXRpb25NYXRjaGVyKGNhc2NhZGVJbnN0YW5jZSksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHB1c2goY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UsIGRlcHRoOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5maXJlZCkge1xuICAgICAgaWYgKGRlcHRoID09IC0xKSB7XG4gICAgICAgIHRoaXMuaW5jcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgICB9IGVsc2UgaWYgKGRlcHRoID09IDApIHtcbiAgICAgICAgdGhpcy5kZWNyZW1lbnQoY2FzY2FkZUluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcG9wKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuZmlyZWQpIHtcbiAgICAgIGlmIChkZXB0aCA9PSAtMSkge1xuICAgICAgICB0aGlzLmRlY3JlbWVudChjYXNjYWRlSW5zdGFuY2UpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoZGVwdGggPT0gMCkge1xuICAgICAgICB0aGlzLmluY3JlbWVudChjYXNjYWRlSW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZGVwdGggPT0gMCkge1xuICAgICAgICAvLyBMZWF2aW5nIGVsZW1lbnQgdGhhdCB0cmlnZ2VyZWQgdGhpcyBpdGVtLlxuICAgICAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pbmNyZW1lbnQoY2FzY2FkZUluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogTm90IGEgdHJ1ZSBjb25kaXRpb24gaXRlbSwgdGhpcyBjbGFzcyBtYW5hZ2VzIHByb3BlciBoYW5kbGluZyBvZiBcImFmdGVyXCJcbiAqIHBzZXVkb2VsZW1lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBBZnRlclBzZXVkb2VsZW1lbnRJdGVtIGltcGxlbWVudHMgQ29uZGl0aW9uSXRlbSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBhZnRlcnByb3A6IEVsZW1lbnRTdHlsZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZWxlbWVudDogRWxlbWVudCxcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZyZXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogQ29uZGl0aW9uSXRlbSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwdXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcG9wKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5wcm9jZXNzUHNldWRvZWxlbWVudFByb3BzKHRoaXMuYWZ0ZXJwcm9wLCB0aGlzLmVsZW1lbnQpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIE5vdCBhIHRydWUgY29uZGl0aW9uIGl0ZW0sIHRoaXMgY2xhc3MgcmVzdG9yZXMgY3VycmVudCBsYW5ndWFnZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFJlc3RvcmVMYW5nSXRlbSBpbXBsZW1lbnRzIENvbmRpdGlvbkl0ZW0ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbGFuZzogc3RyaW5nKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZyZXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogQ29uZGl0aW9uSXRlbSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwdXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcG9wKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5sYW5nID0gdGhpcy5sYW5nO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIE5vdCBhIHRydWUgY29uZGl0aW9uIGl0ZW0sIHRoaXMgY2xhc3MgbWFuYWdlcyBpbmhlcml0YW5jZSBvZiBxdW90ZXMgcHJvcGVydHlcbiAqL1xuZXhwb3J0IGNsYXNzIFF1b3Rlc1Njb3BlSXRlbSBpbXBsZW1lbnRzIENvbmRpdGlvbkl0ZW0ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgb2xkUXVvdGVzOiBDc3MuU3RyW10pIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZnJlc2goY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiBDb25kaXRpb25JdGVtIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHB1c2goY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UsIGRlcHRoOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwb3AoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UsIGRlcHRoOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBpZiAoZGVwdGggPT0gMCkge1xuICAgICAgY2FzY2FkZUluc3RhbmNlLnF1b3RlcyA9IHRoaXMub2xkUXVvdGVzO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuZXhwb3J0IHR5cGUgQ291bnRlclZhbHVlcyA9IHtcbiAgW2tleTogc3RyaW5nXTogbnVtYmVyW107XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIENvdW50ZXJMaXN0ZW5lciB7XG4gIGNvdW50ZXJzT2ZJZChpZDogc3RyaW5nLCBjb3VudGVyczogQ291bnRlclZhbHVlcyk7XG5cbiAgZ2V0RXhwckNvbnRlbnRMaXN0ZW5lcigpOiBWdHJlZS5FeHByQ29udGVudExpc3RlbmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvdW50ZXJSZXNvbHZlciB7XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIEV4cHJzLlZhbCwgd2hvc2UgdmFsdWUgaXMgY2FsY3VsYXRlZCBhdCB0aGUgbGF5b3V0IHRpbWUgYnlcbiAgICogcmV0cmlldmluZyB0aGUgaW5uZXJtb3N0IHBhZ2UtYmFzZWQgY291bnRlciAobnVsbCBpZiBpdCBkb2VzIG5vdCBleGlzdCkgYnlcbiAgICogaXRzIG5hbWUgYW5kIGZvcm1hdHRpbmcgdGhlIHZhbHVlIGludG8gYSBzdHJpbmcuXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIHBhZ2UtYmFzZWQgY291bnRlciB0byBiZSByZXRyaWV2ZWRcbiAgICogQHBhcmFtIGZvcm1hdCBBIGZ1bmN0aW9uIHRoYXQgZm9ybWF0cyB0aGUgY291bnRlciB2YWx1ZSBpbnRvIGEgc3RyaW5nXG4gICAqL1xuICBnZXRQYWdlQ291bnRlclZhbChcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgZm9ybWF0OiAocDE6IG51bWJlciB8IG51bGwpID0+IHN0cmluZyxcbiAgKTogRXhwcnMuVmFsO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIEV4cHJzLlZhbCwgd2hvc2UgdmFsdWUgaXMgY2FsY3VsYXRlZCBhdCB0aGUgbGF5b3V0IHRpbWUgYnlcbiAgICogcmV0cmlldmluZyB0aGUgcGFnZS1iYXNlZCBjb3VudGVycyBieSBpdHMgbmFtZSBhbmQgZm9ybWF0dGluZyB0aGUgdmFsdWVzXG4gICAqIGludG8gYSBzdHJpbmcuXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIHBhZ2UtYmFzZWQgY291bnRlcnMgdG8gYmUgcmV0cmlldmVkXG4gICAqIEBwYXJhbSBmb3JtYXQgQSBmdW5jdGlvbiB0aGF0IGZvcm1hdHMgdGhlIGNvdW50ZXIgdmFsdWVzIChwYXNzZWQgYXMgYW5cbiAgICogICAgIGFycmF5IG9yZGVyZWQgYnkgdGhlIG5lc3RpbmcgZGVwdGggd2l0aCB0aGUgb3V0ZXJtb3N0IGNvdW50ZXIgZmlyc3QgYW5kXG4gICAqICAgICB0aGUgaW5uZXJtb3N0IGxhc3QpIGludG8gYSBzdHJpbmdcbiAgICovXG4gIGdldFBhZ2VDb3VudGVyc1ZhbChuYW1lOiBzdHJpbmcsIGZvcm1hdDogKHAxOiBudW1iZXJbXSkgPT4gc3RyaW5nKTogRXhwcnMuVmFsO1xuXG4gIGdldFRhcmdldENvdW50ZXJWYWwoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGZvcm1hdDogKHAxOiBudW1iZXIgfCBudWxsKSA9PiBzdHJpbmcsXG4gICk6IEV4cHJzLlZhbDtcblxuICBnZXRUYXJnZXRDb3VudGVyc1ZhbChcbiAgICB1cmw6IHN0cmluZyxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgZm9ybWF0OiAocDE6IG51bWJlcltdKSA9PiBzdHJpbmcsXG4gICk6IEV4cHJzLlZhbDtcblxuICBzZXRTdHlsZXIoc3R5bGVyOiBhbnkpO1xufVxuXG5leHBvcnQgY2xhc3MgQXR0clZhbHVlRmlsdGVyVmlzaXRvciBleHRlbmRzIENzcy5GaWx0ZXJWaXNpdG9yIHtcbiAgY29uc3RydWN0b3IocHVibGljIGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVWYWx1ZUZyb21TdHJpbmcoc3RyOiBzdHJpbmcgfCBudWxsLCB0eXBlOiBzdHJpbmcpOiBDc3MuVmFsIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJ1cmxcIjpcbiAgICAgICAgaWYgKHN0cikge1xuICAgICAgICAgIHJldHVybiBuZXcgQ3NzLlVSTChzdHIpOyAvLyBUT0RPIHNob3VsZCBjb252ZXJ0IHRvIGFic29sdXRlIHBhdGhcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENzcy5VUkwoXCJhYm91dDppbnZhbGlkXCIpO1xuICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHN0cikge1xuICAgICAgICAgIHJldHVybiBuZXcgQ3NzLlN0cihzdHIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ3NzLlN0cihcIlwiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEZ1bmMoZnVuYzogQ3NzLkZ1bmMpOiBDc3MuVmFsIHtcbiAgICBpZiAoZnVuYy5uYW1lICE9PSBcImF0dHJcIikge1xuICAgICAgcmV0dXJuIHN1cGVyLnZpc2l0RnVuYyhmdW5jKTtcbiAgICB9XG4gICAgbGV0IHR5cGUgPSBcInN0cmluZ1wiO1xuICAgIGxldCBhdHRyaWJ1dGVOYW1lOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgZGVmYXVsdFZhbHVlOiBDc3MuVmFsID0gbnVsbDtcbiAgICBpZiAoZnVuYy52YWx1ZXNbMF0gaW5zdGFuY2VvZiBDc3MuU3BhY2VMaXN0KSB7XG4gICAgICBjb25zdCB2YWx1ZXMgPSAoZnVuYy52YWx1ZXNbMF0gYXMgQ3NzLlNwYWNlTGlzdCkudmFsdWVzO1xuICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPj0gMikge1xuICAgICAgICB0eXBlID0gdmFsdWVzWzFdLnN0cmluZ1ZhbHVlKCk7XG4gICAgICB9XG4gICAgICBhdHRyaWJ1dGVOYW1lID0gdmFsdWVzWzBdLnN0cmluZ1ZhbHVlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF0dHJpYnV0ZU5hbWUgPSBmdW5jLnZhbHVlc1swXS5zdHJpbmdWYWx1ZSgpO1xuICAgIH1cbiAgICBpZiAoZnVuYy52YWx1ZXMubGVuZ3RoID4gMSkge1xuICAgICAgZGVmYXVsdFZhbHVlID0gdGhpcy5jcmVhdGVWYWx1ZUZyb21TdHJpbmcoXG4gICAgICAgIGZ1bmMudmFsdWVzWzFdLnN0cmluZ1ZhbHVlKCksXG4gICAgICAgIHR5cGUsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWZhdWx0VmFsdWUgPSB0aGlzLmNyZWF0ZVZhbHVlRnJvbVN0cmluZyhudWxsLCB0eXBlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZWxlbWVudCAmJiB0aGlzLmVsZW1lbnQuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGVWYWx1ZUZyb21TdHJpbmcoXG4gICAgICAgIHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSksXG4gICAgICAgIHR5cGUsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb250ZW50UHJvcFZpc2l0b3IgZXh0ZW5kcyBDc3MuRmlsdGVyVmlzaXRvciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBjYXNjYWRlOiBDYXNjYWRlSW5zdGFuY2UsXG4gICAgcHVibGljIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvdW50ZXJSZXNvbHZlcjogQ291bnRlclJlc29sdmVyLFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRJZGVudChpZGVudDogQ3NzLklkZW50KTogQ3NzLlZhbCB7XG4gICAgY29uc3QgY2FzY2FkZSA9IHRoaXMuY2FzY2FkZTtcbiAgICBjb25zdCBxdW90ZXMgPSBjYXNjYWRlLnF1b3RlcztcbiAgICBjb25zdCBtYXhEZXB0aCA9IE1hdGguZmxvb3IocXVvdGVzLmxlbmd0aCAvIDIpIC0gMTtcbiAgICBzd2l0Y2ggKGlkZW50Lm5hbWUpIHtcbiAgICAgIGNhc2UgXCJvcGVuLXF1b3RlXCI6IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcXVvdGVzWzIgKiBNYXRoLm1pbihtYXhEZXB0aCwgY2FzY2FkZS5xdW90ZURlcHRoKV07XG4gICAgICAgIGNhc2NhZGUucXVvdGVEZXB0aCsrO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgY2FzZSBcImNsb3NlLXF1b3RlXCI6XG4gICAgICAgIGlmIChjYXNjYWRlLnF1b3RlRGVwdGggPiAwKSB7XG4gICAgICAgICAgY2FzY2FkZS5xdW90ZURlcHRoLS07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHF1b3Rlc1syICogTWF0aC5taW4obWF4RGVwdGgsIGNhc2NhZGUucXVvdGVEZXB0aCkgKyAxXTtcbiAgICAgIGNhc2UgXCJuby1vcGVuLXF1b3RlXCI6XG4gICAgICAgIGNhc2NhZGUucXVvdGVEZXB0aCsrO1xuICAgICAgICByZXR1cm4gbmV3IENzcy5TdHIoXCJcIik7XG4gICAgICBjYXNlIFwibm8tY2xvc2UtcXVvdGVcIjpcbiAgICAgICAgaWYgKGNhc2NhZGUucXVvdGVEZXB0aCA+IDApIHtcbiAgICAgICAgICBjYXNjYWRlLnF1b3RlRGVwdGgtLTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENzcy5TdHIoXCJcIik7XG4gICAgfVxuICAgIHJldHVybiBpZGVudDtcbiAgfVxuXG4gIHByaXZhdGUgZm9ybWF0KG51bTogbnVtYmVyLCB0eXBlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGxldCB1cHBlciA9IGZhbHNlOyAvLyB0eXBlID09IFwiYXJtZW5pYW5cIjtcbiAgICAvLyBjb250ZW50LWNvdW50ZXItMTAueGh0IGFzc3VtZXMgYXJtZW5pYW4gaXMgdXBwZXJjYXNlLCBlbmFibGUgaWYgZGVzaXJlZFxuXG4gICAgbGV0IGxvd2VyID0gZmFsc2U7XG4gICAgbGV0IHI6IFJlZ0V4cE1hdGNoQXJyYXk7XG4gICAgaWYgKChyID0gdHlwZS5tYXRjaCgvXnVwcGVyLSguKikvKSkgIT0gbnVsbCkge1xuICAgICAgdXBwZXIgPSB0cnVlO1xuICAgICAgdHlwZSA9IHJbMV07XG4gICAgfSBlbHNlIGlmICgociA9IHR5cGUubWF0Y2goL15sb3dlci0oLiopLykpICE9IG51bGwpIHtcbiAgICAgIGxvd2VyID0gdHJ1ZTtcbiAgICAgIHR5cGUgPSByWzFdO1xuICAgIH1cbiAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICBpZiAoYWRkaXRpdmVOdW1iZXJpbmdbdHlwZV0pIHtcbiAgICAgIHJlc3VsdCA9IGFkZGl0aXZlRm9ybWF0KGFkZGl0aXZlTnVtYmVyaW5nW3R5cGVdLCBudW0pO1xuICAgIH0gZWxzZSBpZiAoYWxwaGFiZXRpY051bWJlcmluZ1t0eXBlXSkge1xuICAgICAgcmVzdWx0ID0gYWxwaGFiZXRpY0Zvcm1hdChhbHBoYWJldGljTnVtYmVyaW5nW3R5cGVdLCBudW0pO1xuICAgIH0gZWxzZSBpZiAoZml4ZWRbdHlwZV0gIT0gbnVsbCkge1xuICAgICAgcmVzdWx0ID0gZml4ZWRbdHlwZV07XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwiZGVjaW1hbC1sZWFkaW5nLXplcm9cIikge1xuICAgICAgcmVzdWx0ID0gYCR7bnVtfWA7XG4gICAgICBpZiAocmVzdWx0Lmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIHJlc3VsdCA9IGAwJHtyZXN1bHR9YDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJjamstaWRlb2dyYXBoaWNcIiB8fCB0eXBlID09IFwidHJhZC1jaGluZXNlLWluZm9ybWFsXCIpIHtcbiAgICAgIHJlc3VsdCA9IGNoaW5lc2VDb3VudGVyKG51bSwgY2hpbmVzZVRyYWRJbmZvcm1hbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IGAke251bX1gO1xuICAgIH1cbiAgICBpZiAodXBwZXIpIHtcbiAgICAgIHJldHVybiByZXN1bHQudG9VcHBlckNhc2UoKTtcbiAgICB9XG4gICAgaWYgKGxvd2VyKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICB2aXNpdEZ1bmNDb3VudGVyKHZhbHVlczogQ3NzLlZhbFtdKTogQ3NzLlZhbCB7XG4gICAgY29uc3QgY291bnRlck5hbWUgPSB2YWx1ZXNbMF0udG9TdHJpbmcoKTtcbiAgICBjb25zdCB0eXBlID0gdmFsdWVzLmxlbmd0aCA+IDEgPyB2YWx1ZXNbMV0uc3RyaW5nVmFsdWUoKSA6IFwiZGVjaW1hbFwiO1xuICAgIGNvbnN0IGFyciA9IHRoaXMuY2FzY2FkZS5jb3VudGVyc1tjb3VudGVyTmFtZV07XG4gICAgaWYgKGFyciAmJiBhcnIubGVuZ3RoKSB7XG4gICAgICBjb25zdCBudW12YWwgPSAoYXJyICYmIGFyci5sZW5ndGggJiYgYXJyW2Fyci5sZW5ndGggLSAxXSkgfHwgMDtcbiAgICAgIHJldHVybiBuZXcgQ3NzLlN0cih0aGlzLmZvcm1hdChudW12YWwsIHR5cGUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICBjb25zdCBjID0gbmV3IENzcy5FeHByKFxuICAgICAgICB0aGlzLmNvdW50ZXJSZXNvbHZlci5nZXRQYWdlQ291bnRlclZhbChjb3VudGVyTmFtZSwgKG51bXZhbCkgPT5cbiAgICAgICAgICBzZWxmLmZvcm1hdChudW12YWwgfHwgMCwgdHlwZSksXG4gICAgICAgICksXG4gICAgICApO1xuICAgICAgcmV0dXJuIG5ldyBDc3MuU3BhY2VMaXN0KFtjXSk7XG4gICAgfVxuICB9XG5cbiAgdmlzaXRGdW5jQ291bnRlcnModmFsdWVzOiBDc3MuVmFsW10pOiBDc3MuVmFsIHtcbiAgICBjb25zdCBjb3VudGVyTmFtZSA9IHZhbHVlc1swXS50b1N0cmluZygpO1xuICAgIGNvbnN0IHNlcGFyYXRvciA9IHZhbHVlc1sxXS5zdHJpbmdWYWx1ZSgpO1xuICAgIGNvbnN0IHR5cGUgPSB2YWx1ZXMubGVuZ3RoID4gMiA/IHZhbHVlc1syXS5zdHJpbmdWYWx1ZSgpIDogXCJkZWNpbWFsXCI7XG4gICAgY29uc3QgYXJyID0gdGhpcy5jYXNjYWRlLmNvdW50ZXJzW2NvdW50ZXJOYW1lXTtcbiAgICBjb25zdCBzYiA9IG5ldyBCYXNlLlN0cmluZ0J1ZmZlcigpO1xuICAgIGlmIChhcnIgJiYgYXJyLmxlbmd0aCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgc2IuYXBwZW5kKHNlcGFyYXRvcik7XG4gICAgICAgIH1cbiAgICAgICAgc2IuYXBwZW5kKHRoaXMuZm9ybWF0KGFycltpXSwgdHlwZSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBjID0gbmV3IENzcy5FeHByKFxuICAgICAgdGhpcy5jb3VudGVyUmVzb2x2ZXIuZ2V0UGFnZUNvdW50ZXJzVmFsKGNvdW50ZXJOYW1lLCAobnVtdmFscykgPT4ge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IFtdIGFzIHN0cmluZ1tdO1xuICAgICAgICBpZiAobnVtdmFscy5sZW5ndGgpIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bXZhbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhcnRzLnB1c2goc2VsZi5mb3JtYXQobnVtdmFsc1tpXSwgdHlwZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtZW50Q291bnRlcnMgPSBzYi50b1N0cmluZygpO1xuICAgICAgICBpZiAoZWxlbWVudENvdW50ZXJzLmxlbmd0aCkge1xuICAgICAgICAgIHBhcnRzLnB1c2goZWxlbWVudENvdW50ZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydHMubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oc2VwYXJhdG9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5mb3JtYXQoMCwgdHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG4gICAgcmV0dXJuIG5ldyBDc3MuU3BhY2VMaXN0KFtjXSk7XG4gIH1cblxuICB2aXNpdEZ1bmNUYXJnZXRDb3VudGVyKHZhbHVlczogQ3NzLlZhbFtdKTogQ3NzLlZhbCB7XG4gICAgY29uc3QgdGFyZ2V0VXJsID0gdmFsdWVzWzBdO1xuICAgIGxldCB0YXJnZXRVcmxTdHI6IHN0cmluZztcbiAgICBpZiAodGFyZ2V0VXJsIGluc3RhbmNlb2YgQ3NzLlVSTCkge1xuICAgICAgdGFyZ2V0VXJsU3RyID0gdGFyZ2V0VXJsLnVybDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0VXJsU3RyID0gdGFyZ2V0VXJsLnN0cmluZ1ZhbHVlKCk7XG4gICAgfVxuICAgIGNvbnN0IGNvdW50ZXJOYW1lID0gdmFsdWVzWzFdLnRvU3RyaW5nKCk7XG4gICAgY29uc3QgdHlwZSA9IHZhbHVlcy5sZW5ndGggPiAyID8gdmFsdWVzWzJdLnN0cmluZ1ZhbHVlKCkgOiBcImRlY2ltYWxcIjtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBjID0gbmV3IENzcy5FeHByKFxuICAgICAgdGhpcy5jb3VudGVyUmVzb2x2ZXIuZ2V0VGFyZ2V0Q291bnRlclZhbChcbiAgICAgICAgdGFyZ2V0VXJsU3RyLFxuICAgICAgICBjb3VudGVyTmFtZSxcbiAgICAgICAgKG51bXZhbCkgPT4gc2VsZi5mb3JtYXQobnVtdmFsIHx8IDAsIHR5cGUpLFxuICAgICAgKSxcbiAgICApO1xuICAgIHJldHVybiBuZXcgQ3NzLlNwYWNlTGlzdChbY10pO1xuICB9XG5cbiAgdmlzaXRGdW5jVGFyZ2V0Q291bnRlcnModmFsdWVzOiBDc3MuVmFsW10pOiBDc3MuVmFsIHtcbiAgICBjb25zdCB0YXJnZXRVcmwgPSB2YWx1ZXNbMF07XG4gICAgbGV0IHRhcmdldFVybFN0cjogc3RyaW5nO1xuICAgIGlmICh0YXJnZXRVcmwgaW5zdGFuY2VvZiBDc3MuVVJMKSB7XG4gICAgICB0YXJnZXRVcmxTdHIgPSB0YXJnZXRVcmwudXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXRVcmxTdHIgPSB0YXJnZXRVcmwuc3RyaW5nVmFsdWUoKTtcbiAgICB9XG4gICAgY29uc3QgY291bnRlck5hbWUgPSB2YWx1ZXNbMV0udG9TdHJpbmcoKTtcbiAgICBjb25zdCBzZXBhcmF0b3IgPSB2YWx1ZXNbMl0uc3RyaW5nVmFsdWUoKTtcbiAgICBjb25zdCB0eXBlID0gdmFsdWVzLmxlbmd0aCA+IDMgPyB2YWx1ZXNbM10uc3RyaW5nVmFsdWUoKSA6IFwiZGVjaW1hbFwiO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGMgPSBuZXcgQ3NzLkV4cHIoXG4gICAgICB0aGlzLmNvdW50ZXJSZXNvbHZlci5nZXRUYXJnZXRDb3VudGVyc1ZhbChcbiAgICAgICAgdGFyZ2V0VXJsU3RyLFxuICAgICAgICBjb3VudGVyTmFtZSxcbiAgICAgICAgKG51bXZhbHMpID0+IHtcbiAgICAgICAgICBjb25zdCBwYXJ0cyA9IG51bXZhbHMubWFwKChudW12YWwpID0+IHNlbGYuZm9ybWF0KG51bXZhbCwgdHlwZSkpO1xuICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJ0cy5qb2luKHNlcGFyYXRvcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmZvcm1hdCgwLCB0eXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICk7XG4gICAgcmV0dXJuIG5ldyBDc3MuU3BhY2VMaXN0KFtjXSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEZ1bmMoZnVuYzogQ3NzLkZ1bmMpOiBDc3MuVmFsIHtcbiAgICBzd2l0Y2ggKGZ1bmMubmFtZSkge1xuICAgICAgY2FzZSBcImNvdW50ZXJcIjpcbiAgICAgICAgaWYgKGZ1bmMudmFsdWVzLmxlbmd0aCA8PSAyKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMudmlzaXRGdW5jQ291bnRlcihmdW5jLnZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiY291bnRlcnNcIjpcbiAgICAgICAgaWYgKGZ1bmMudmFsdWVzLmxlbmd0aCA8PSAzKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMudmlzaXRGdW5jQ291bnRlcnMoZnVuYy52YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInRhcmdldC1jb3VudGVyXCI6XG4gICAgICAgIGlmIChmdW5jLnZhbHVlcy5sZW5ndGggPD0gMykge1xuICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0RnVuY1RhcmdldENvdW50ZXIoZnVuYy52YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInRhcmdldC1jb3VudGVyc1wiOlxuICAgICAgICBpZiAoZnVuYy52YWx1ZXMubGVuZ3RoIDw9IDQpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy52aXNpdEZ1bmNUYXJnZXRDb3VudGVycyhmdW5jLnZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJFX0NTU19DT05URU5UX1BST1A6XCIsIGZ1bmMudG9TdHJpbmcoKSk7XG4gICAgcmV0dXJuIG5ldyBDc3MuU3RyKFwiXCIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByb21hbihudW06IG51bWJlcik6IHN0cmluZyB7XG4gIGlmIChudW0gPD0gMCB8fCBudW0gIT0gTWF0aC5yb3VuZChudW0pIHx8IG51bSA+IDM5OTkpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICBjb25zdCBkaWdpdHMgPSBbXCJJXCIsIFwiVlwiLCBcIlhcIiwgXCJMXCIsIFwiQ1wiLCBcIkRcIiwgXCJNXCJdO1xuICBsZXQgb2Zmc2V0ID0gMDtcbiAgbGV0IGFjYyA9IFwiXCI7XG4gIHdoaWxlIChudW0gPiAwKSB7XG4gICAgbGV0IGRpZ2l0ID0gbnVtICUgMTA7XG4gICAgbnVtID0gKG51bSAtIGRpZ2l0KSAvIDEwO1xuICAgIGxldCByZXN1bHQgPSBcIlwiO1xuICAgIGlmIChkaWdpdCA9PSA5KSB7XG4gICAgICByZXN1bHQgKz0gZGlnaXRzW29mZnNldF0gKyBkaWdpdHNbb2Zmc2V0ICsgMl07XG4gICAgfSBlbHNlIGlmIChkaWdpdCA9PSA0KSB7XG4gICAgICByZXN1bHQgKz0gZGlnaXRzW29mZnNldF0gKyBkaWdpdHNbb2Zmc2V0ICsgMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkaWdpdCA+PSA1KSB7XG4gICAgICAgIHJlc3VsdCArPSBkaWdpdHNbb2Zmc2V0ICsgMV07XG4gICAgICAgIGRpZ2l0IC09IDU7XG4gICAgICB9XG4gICAgICB3aGlsZSAoZGlnaXQgPiAwKSB7XG4gICAgICAgIHJlc3VsdCArPSBkaWdpdHNbb2Zmc2V0XTtcbiAgICAgICAgZGlnaXQtLTtcbiAgICAgIH1cbiAgICB9XG4gICAgYWNjID0gcmVzdWx0ICsgYWNjO1xuICAgIG9mZnNldCArPSAyO1xuICB9XG4gIHJldHVybiBhY2M7XG59XG5cbmV4cG9ydCBjb25zdCBhZGRpdGl2ZU51bWJlcmluZyA9IHtcbiAgcm9tYW46IFtcbiAgICA0OTk5LFxuICAgIDEwMDAsXG4gICAgXCJNXCIsXG4gICAgOTAwLFxuICAgIFwiQ01cIixcbiAgICA1MDAsXG4gICAgXCJEXCIsXG4gICAgNDAwLFxuICAgIFwiQ0RcIixcbiAgICAxMDAsXG4gICAgXCJDXCIsXG4gICAgOTAsXG4gICAgXCJYQ1wiLFxuICAgIDUwLFxuICAgIFwiTFwiLFxuICAgIDQwLFxuICAgIFwiWExcIixcbiAgICAxMCxcbiAgICBcIlhcIixcbiAgICA5LFxuICAgIFwiSVhcIixcbiAgICA1LFxuICAgIFwiVlwiLFxuICAgIDQsXG4gICAgXCJJVlwiLFxuICAgIDEsXG4gICAgXCJJXCIsXG4gIF0sXG4gIGFybWVuaWFuOiBbXG4gICAgOTk5OSxcbiAgICA5MDAwLFxuICAgIFwiXFx1MDU4NFwiLFxuICAgIDgwMDAsXG4gICAgXCJcXHUwNTgzXCIsXG4gICAgNzAwMCxcbiAgICBcIlxcdTA1ODJcIixcbiAgICA2MDAwLFxuICAgIFwiXFx1MDU4MVwiLFxuICAgIDUwMDAsXG4gICAgXCJcXHUwNTgwXCIsXG4gICAgNDAwMCxcbiAgICBcIlxcdTA1N2ZcIixcbiAgICAzMDAwLFxuICAgIFwiXFx1MDU3ZVwiLFxuICAgIDIwMDAsXG4gICAgXCJcXHUwNTdkXCIsXG4gICAgMTAwMCxcbiAgICBcIlxcdTA1N2NcIixcbiAgICA5MDAsXG4gICAgXCJcXHUwNTdiXCIsXG4gICAgODAwLFxuICAgIFwiXFx1MDU3YVwiLFxuICAgIDcwMCxcbiAgICBcIlxcdTA1NzlcIixcbiAgICA2MDAsXG4gICAgXCJcXHUwNTc4XCIsXG4gICAgNTAwLFxuICAgIFwiXFx1MDU3N1wiLFxuICAgIDQwMCxcbiAgICBcIlxcdTA1NzZcIixcbiAgICAzMDAsXG4gICAgXCJcXHUwNTc1XCIsXG4gICAgMjAwLFxuICAgIFwiXFx1MDU3NFwiLFxuICAgIDEwMCxcbiAgICBcIlxcdTA1NzNcIixcbiAgICA5MCxcbiAgICBcIlxcdTA1NzJcIixcbiAgICA4MCxcbiAgICBcIlxcdTA1NzFcIixcbiAgICA3MCxcbiAgICBcIlxcdTA1NzBcIixcbiAgICA2MCxcbiAgICBcIlxcdTA1NmZcIixcbiAgICA1MCxcbiAgICBcIlxcdTA1NmVcIixcbiAgICA0MCxcbiAgICBcIlxcdTA1NmRcIixcbiAgICAzMCxcbiAgICBcIlxcdTA1NmNcIixcbiAgICAyMCxcbiAgICBcIlxcdTA1NmJcIixcbiAgICAxMCxcbiAgICBcIlxcdTA1NmFcIixcbiAgICA5LFxuICAgIFwiXFx1MDU2OVwiLFxuICAgIDgsXG4gICAgXCJcXHUwNTY4XCIsXG4gICAgNyxcbiAgICBcIlxcdTA1NjdcIixcbiAgICA2LFxuICAgIFwiXFx1MDU2NlwiLFxuICAgIDUsXG4gICAgXCJcXHUwNTY1XCIsXG4gICAgNCxcbiAgICBcIlxcdTA1NjRcIixcbiAgICAzLFxuICAgIFwiXFx1MDU2M1wiLFxuICAgIDIsXG4gICAgXCJcXHUwNTYyXCIsXG4gICAgMSxcbiAgICBcIlxcdTA1NjFcIixcbiAgXSxcbiAgZ2VvcmdpYW46IFtcbiAgICAxOTk5OSxcbiAgICAxMDAwMCxcbiAgICBcIlxcdTEwZjVcIixcbiAgICA5MDAwLFxuICAgIFwiXFx1MTBmMFwiLFxuICAgIDgwMDAsXG4gICAgXCJcXHUxMGVmXCIsXG4gICAgNzAwMCxcbiAgICBcIlxcdTEwZjRcIixcbiAgICA2MDAwLFxuICAgIFwiXFx1MTBlZVwiLFxuICAgIDUwMDAsXG4gICAgXCJcXHUxMGVkXCIsXG4gICAgNDAwMCxcbiAgICBcIlxcdTEwZWNcIixcbiAgICAzMDAwLFxuICAgIFwiXFx1MTBlYlwiLFxuICAgIDIwMDAsXG4gICAgXCJcXHUxMGVhXCIsXG4gICAgMTAwMCxcbiAgICBcIlxcdTEwZTlcIixcbiAgICA5MDAsXG4gICAgXCJcXHUxMGU4XCIsXG4gICAgODAwLFxuICAgIFwiXFx1MTBlN1wiLFxuICAgIDcwMCxcbiAgICBcIlxcdTEwZTZcIixcbiAgICA2MDAsXG4gICAgXCJcXHUxMGU1XCIsXG4gICAgNTAwLFxuICAgIFwiXFx1MTBlNFwiLFxuICAgIDQwMCxcbiAgICBcIlxcdTEwZjNcIixcbiAgICAzMDAsXG4gICAgXCJcXHUxMGUyXCIsXG4gICAgMjAwLFxuICAgIFwiXFx1MTBlMVwiLFxuICAgIDEwMCxcbiAgICBcIlxcdTEwZTBcIixcbiAgICA5MCxcbiAgICBcIlxcdTEwZGZcIixcbiAgICA4MCxcbiAgICBcIlxcdTEwZGVcIixcbiAgICA3MCxcbiAgICBcIlxcdTEwZGRcIixcbiAgICA2MCxcbiAgICBcIlxcdTEwZjJcIixcbiAgICA1MCxcbiAgICBcIlxcdTEwZGNcIixcbiAgICA0MCxcbiAgICBcIlxcdTEwZGJcIixcbiAgICAzMCxcbiAgICBcIlxcdTEwZGFcIixcbiAgICAyMCxcbiAgICBcIlxcdTEwZDlcIixcbiAgICAxMCxcbiAgICBcIlxcdTEwZDhcIixcbiAgICA5LFxuICAgIFwiXFx1MTBkN1wiLFxuICAgIDgsXG4gICAgXCJcXHUxMGYxXCIsXG4gICAgNyxcbiAgICBcIlxcdTEwZDZcIixcbiAgICA2LFxuICAgIFwiXFx1MTBkNVwiLFxuICAgIDUsXG4gICAgXCJcXHUxMGQ0XCIsXG4gICAgNCxcbiAgICBcIlxcdTEwZDNcIixcbiAgICAzLFxuICAgIFwiXFx1MTBkMlwiLFxuICAgIDIsXG4gICAgXCJcXHUxMGQxXCIsXG4gICAgMSxcbiAgICBcIlxcdTEwZDBcIixcbiAgXSxcbiAgaGVicmV3OiBbXG4gICAgOTk5LFxuICAgIDQwMCxcbiAgICBcIlxcdTA1ZWFcIixcbiAgICAzMDAsXG4gICAgXCJcXHUwNWU5XCIsXG4gICAgMjAwLFxuICAgIFwiXFx1MDVlOFwiLFxuICAgIDEwMCxcbiAgICBcIlxcdTA1ZTdcIixcbiAgICA5MCxcbiAgICBcIlxcdTA1ZTZcIixcbiAgICA4MCxcbiAgICBcIlxcdTA1ZTRcIixcbiAgICA3MCxcbiAgICBcIlxcdTA1ZTJcIixcbiAgICA2MCxcbiAgICBcIlxcdTA1ZTFcIixcbiAgICA1MCxcbiAgICBcIlxcdTA1ZTBcIixcbiAgICA0MCxcbiAgICBcIlxcdTA1ZGVcIixcbiAgICAzMCxcbiAgICBcIlxcdTA1ZGNcIixcbiAgICAyMCxcbiAgICBcIlxcdTA1ZGJcIixcbiAgICAxOSxcbiAgICBcIlxcdTA1ZDlcXHUwNWQ4XCIsXG4gICAgMTgsXG4gICAgXCJcXHUwNWQ5XFx1MDVkN1wiLFxuICAgIDE3LFxuICAgIFwiXFx1MDVkOVxcdTA1ZDZcIixcbiAgICAxNixcbiAgICBcIlxcdTA1ZDhcXHUwNWQ2XCIsXG4gICAgMTUsXG4gICAgXCJcXHUwNWQ4XFx1MDVkNVwiLFxuICAgIDEwLFxuICAgIFwiXFx1MDVkOVwiLFxuICAgIDksXG4gICAgXCJcXHUwNWQ4XCIsXG4gICAgOCxcbiAgICBcIlxcdTA1ZDdcIixcbiAgICA3LFxuICAgIFwiXFx1MDVkNlwiLFxuICAgIDYsXG4gICAgXCJcXHUwNWQ1XCIsXG4gICAgNSxcbiAgICBcIlxcdTA1ZDRcIixcbiAgICA0LFxuICAgIFwiXFx1MDVkM1wiLFxuICAgIDMsXG4gICAgXCJcXHUwNWQyXCIsXG4gICAgMixcbiAgICBcIlxcdTA1ZDFcIixcbiAgICAxLFxuICAgIFwiXFx1MDVkMFwiLFxuICBdLFxufTtcblxuZXhwb3J0IGNvbnN0IGFscGhhYmV0aWNOdW1iZXJpbmcgPSB7XG4gIGxhdGluOiBcImEtelwiLFxuICBhbHBoYTogXCJhLXpcIixcbiAgZ3JlZWs6IFwiXFx1MDNiMS1cXHUwM2MxXFx1MDNjMy1cXHUwM2M5XCIsXG4gIHJ1c3NpYW46IFwiXFx1MDQzMC1cXHUwNDM4XFx1MDQzYS1cXHUwNDQ5XFx1MDQ0ZC1cXHUwNDRmXCIsXG59O1xuXG5leHBvcnQgY29uc3QgZml4ZWQgPSB7XG4gIHNxdWFyZTogXCJcXHUyNWEwXCIsXG4gIGRpc2M6IFwiXFx1MjAyMlwiLFxuICBjaXJjbGU6IFwiXFx1MjVlNlwiLFxuICBub25lOiBcIlwiLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZGl0aXZlRm9ybWF0KGVudHJpZXM6IGFueVtdLCBudW06IG51bWJlcik6IHN0cmluZyB7XG4gIGNvbnN0IG1heCA9IGVudHJpZXNbMF0gYXMgbnVtYmVyO1xuICBpZiAobnVtID4gbWF4IHx8IG51bSA8PSAwIHx8IG51bSAhPSBNYXRoLnJvdW5kKG51bSkpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgY29uc3QgdmFsdWUgPSBlbnRyaWVzW2ldIGFzIG51bWJlcjtcbiAgICBsZXQgY291bnQgPSBNYXRoLmZsb29yKG51bSAvIHZhbHVlKTtcbiAgICBpZiAoY291bnQgPiAyMCkge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIG51bSAtPSBjb3VudCAqIHZhbHVlO1xuICAgIHdoaWxlIChjb3VudCA+IDApIHtcbiAgICAgIHJlc3VsdCArPSBlbnRyaWVzW2kgKyAxXTtcbiAgICAgIGNvdW50LS07XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHBhbmRBbHBoYWJldChzdHI6IHN0cmluZyk6IHN0cmluZ1tdIHwgbnVsbCB7XG4gIGNvbnN0IGFyciA9IFtdO1xuICBsZXQgaSA9IDA7XG4gIHdoaWxlIChpIDwgc3RyLmxlbmd0aCkge1xuICAgIGlmIChzdHIuc3Vic3RyKGkgKyAxLCAxKSA9PSBcIi1cIikge1xuICAgICAgY29uc3QgZmlyc3QgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgIGNvbnN0IGxhc3QgPSBzdHIuY2hhckNvZGVBdChpICsgMik7XG4gICAgICBpICs9IDM7XG4gICAgICBmb3IgKGxldCBrID0gZmlyc3Q7IGsgPD0gbGFzdDsgaysrKSB7XG4gICAgICAgIGFyci5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoaykpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhcnIucHVzaChzdHIuc3Vic3RyKGkrKywgMSkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWxwaGFiZXRpY0Zvcm1hdChhbHBoYWJldFN0cjogc3RyaW5nLCBudW06IG51bWJlcik6IHN0cmluZyB7XG4gIGlmIChudW0gPD0gMCB8fCBudW0gIT0gTWF0aC5yb3VuZChudW0pKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgY29uc3QgYWxwaGFiZXQgPSBleHBhbmRBbHBoYWJldChhbHBoYWJldFN0cik7XG4gIGxldCByZXN1bHQgPSBcIlwiO1xuICBkbyB7XG4gICAgbnVtLS07XG4gICAgY29uc3QgZGlnaXQgPSBudW0gJSBhbHBoYWJldC5sZW5ndGg7XG4gICAgcmVzdWx0ID0gYWxwaGFiZXRbZGlnaXRdICsgcmVzdWx0O1xuICAgIG51bSA9IChudW0gLSBkaWdpdCkgLyBhbHBoYWJldC5sZW5ndGg7XG4gIH0gd2hpbGUgKG51bSA+IDApO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgdHlwZSBDaGluZXNlTnVtYmVyaW5nID0ge1xuICBkaWdpdHM6IHN0cmluZztcbiAgbWFya2Vyczogc3RyaW5nO1xuICBuZWdhdGl2ZTogc3RyaW5nO1xuICBmb3JtYWw6IGJvb2xlYW47XG59O1xuXG4vKipcbiAqIEZyb20gaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1saXN0cy9cbiAqL1xuZXhwb3J0IGNvbnN0IGNoaW5lc2VUcmFkSW5mb3JtYWw6IENoaW5lc2VOdW1iZXJpbmcgPSB7XG4gIGZvcm1hbDogZmFsc2UsXG4gIGRpZ2l0czogXCJcXHU5NmY2XFx1NGUwMFxcdTRlOGNcXHU0ZTA5XFx1NTZkYlxcdTRlOTRcXHU1MTZkXFx1NGUwM1xcdTUxNmJcXHU0ZTVkXCIsXG4gIG1hcmtlcnM6IFwiXFx1NTM0MVxcdTc2N2VcXHU1MzQzXCIsXG4gIG5lZ2F0aXZlOiBcIlxcdThjYTBcIixcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGluZXNlQ291bnRlcihcbiAgbnVtOiBudW1iZXIsXG4gIG51bWJlcmluZzogQ2hpbmVzZU51bWJlcmluZyxcbik6IHN0cmluZyB7XG4gIGlmIChudW0gPiA5OTk5IHx8IG51bSA8IC05OTk5KSB7XG4gICAgcmV0dXJuIGAke251bX1gOyAvLyBUT0RPOiBzaG91bGQgYmUgY2prLWRlY2ltYWxcbiAgfVxuICBpZiAobnVtID09IDApIHtcbiAgICByZXR1cm4gbnVtYmVyaW5nLmRpZ2l0cy5jaGFyQXQoMCk7XG4gIH1cbiAgY29uc3QgcmVzID0gbmV3IEJhc2UuU3RyaW5nQnVmZmVyKCk7XG4gIGlmIChudW0gPCAwKSB7XG4gICAgcmVzLmFwcGVuZChudW1iZXJpbmcubmVnYXRpdmUpO1xuICAgIG51bSA9IC1udW07XG4gIH1cbiAgaWYgKG51bSA8IDEwKSB7XG4gICAgcmVzLmFwcGVuZChudW1iZXJpbmcuZGlnaXRzLmNoYXJBdChudW0pKTtcbiAgfSBlbHNlIGlmICghbnVtYmVyaW5nLmZvcm1hbCAmJiBudW0gPD0gMTkpIHtcbiAgICByZXMuYXBwZW5kKG51bWJlcmluZy5tYXJrZXJzLmNoYXJBdCgwKSk7XG4gICAgaWYgKG51bSAhPSAwKSB7XG4gICAgICByZXMuYXBwZW5kKG51bWJlcmluZy5kaWdpdHMuY2hhckF0KG51bSAtIDEwKSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IHRob3VzYW5kcyA9IE1hdGguZmxvb3IobnVtIC8gMTAwMCk7XG4gICAgaWYgKHRob3VzYW5kcykge1xuICAgICAgcmVzLmFwcGVuZChudW1iZXJpbmcuZGlnaXRzLmNoYXJBdCh0aG91c2FuZHMpKTtcbiAgICAgIHJlcy5hcHBlbmQobnVtYmVyaW5nLm1hcmtlcnMuY2hhckF0KDIpKTtcbiAgICB9XG4gICAgY29uc3QgaHVuZHJlZHMgPSBNYXRoLmZsb29yKG51bSAvIDEwMCkgJSAxMDtcbiAgICBpZiAoaHVuZHJlZHMpIHtcbiAgICAgIHJlcy5hcHBlbmQobnVtYmVyaW5nLmRpZ2l0cy5jaGFyQXQoaHVuZHJlZHMpKTtcbiAgICAgIHJlcy5hcHBlbmQobnVtYmVyaW5nLm1hcmtlcnMuY2hhckF0KDEpKTtcbiAgICB9XG4gICAgY29uc3QgdGVucyA9IE1hdGguZmxvb3IobnVtIC8gMTApICUgMTA7XG4gICAgaWYgKHRlbnMpIHtcbiAgICAgIHJlcy5hcHBlbmQobnVtYmVyaW5nLmRpZ2l0cy5jaGFyQXQodGVucykpO1xuICAgICAgcmVzLmFwcGVuZChudW1iZXJpbmcubWFya2Vycy5jaGFyQXQoMCkpO1xuICAgIH1cbiAgICBjb25zdCBvbmVzID0gbnVtICUgMTA7XG4gICAgaWYgKG9uZXMpIHtcbiAgICAgIHJlcy5hcHBlbmQobnVtYmVyaW5nLmRpZ2l0cy5jaGFyQXQob25lcykpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHJlcy5hcHBlbmQoXCJcXHUzMDAxXCIpO1xuICByZXR1cm4gcmVzLnRvU3RyaW5nKCk7XG59XG5cbi8qKlxuICogRml0dGluZyBvcmRlciBhbmQgc3BlY2lmaWNpdHkgaW4gdGhlIHNhbWUgbnVtYmVyLiBPcmRlciBpcyByZWNvcmRlZCBpbiB0aGVcbiAqIGZyYWN0aW9uYWwgcGFydC4gU2VsZWN0IHZhbHVlIHNvIHRoYXRcbiAqXG4gKiAgIDB4N0ZGRkZGRkYgIT0gMHg3RkZGRkZGRiArIE9SREVSX0lOQ1JFTUVOVFxuICpcbiAqL1xuZXhwb3J0IGNvbnN0IE9SREVSX0lOQ1JFTUVOVCA9IDEgLyAxMDQ4NTc2O1xuXG5leHBvcnQgZnVuY3Rpb24gY29weVRhYmxlKHNyYzogQWN0aW9uVGFibGUsIGRzdDogQWN0aW9uVGFibGUpOiB2b2lkIHtcbiAgZm9yIChjb25zdCBuIGluIHNyYykge1xuICAgIGRzdFtuXSA9IHNyY1tuXS5jbG9uZSgpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDYXNjYWRlIHtcbiAgbnNDb3VudDogbnVtYmVyID0gMDtcbiAgbnNQcmVmaXg6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcbiAgdGFnczogQWN0aW9uVGFibGUgPSB7fTtcbiAgbnN0YWdzOiBBY3Rpb25UYWJsZSA9IHt9O1xuICBlcHVidHlwZXM6IEFjdGlvblRhYmxlID0ge307XG4gIGNsYXNzZXM6IEFjdGlvblRhYmxlID0ge307XG4gIGlkczogQWN0aW9uVGFibGUgPSB7fTtcbiAgcGFnZXR5cGVzOiBBY3Rpb25UYWJsZSA9IHt9O1xuICBvcmRlcjogbnVtYmVyID0gMDtcblxuICBjbG9uZSgpOiBDYXNjYWRlIHtcbiAgICBjb25zdCByID0gbmV3IENhc2NhZGUoKTtcbiAgICByLm5zQ291bnQgPSB0aGlzLm5zQ291bnQ7XG4gICAgZm9yIChjb25zdCBwIGluIHRoaXMubnNQcmVmaXgpIHtcbiAgICAgIHIubnNQcmVmaXhbcF0gPSB0aGlzLm5zUHJlZml4W3BdO1xuICAgIH1cbiAgICBjb3B5VGFibGUodGhpcy50YWdzLCByLnRhZ3MpO1xuICAgIGNvcHlUYWJsZSh0aGlzLm5zdGFncywgci5uc3RhZ3MpO1xuICAgIGNvcHlUYWJsZSh0aGlzLmVwdWJ0eXBlcywgci5lcHVidHlwZXMpO1xuICAgIGNvcHlUYWJsZSh0aGlzLmNsYXNzZXMsIHIuY2xhc3Nlcyk7XG4gICAgY29weVRhYmxlKHRoaXMuaWRzLCByLmlkcyk7XG4gICAgY29weVRhYmxlKHRoaXMucGFnZXR5cGVzLCByLnBhZ2V0eXBlcyk7XG4gICAgci5vcmRlciA9IHRoaXMub3JkZXI7XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICBpbnNlcnRJblRhYmxlKHRhYmxlOiBBY3Rpb25UYWJsZSwga2V5OiBzdHJpbmcsIGFjdGlvbjogQ2FzY2FkZUFjdGlvbik6IHZvaWQge1xuICAgIGNvbnN0IGEgPSB0YWJsZVtrZXldO1xuICAgIGlmIChhKSB7XG4gICAgICBhY3Rpb24gPSBhLm1lcmdlV2l0aChhY3Rpb24pO1xuICAgIH1cbiAgICB0YWJsZVtrZXldID0gYWN0aW9uO1xuICB9XG5cbiAgY3JlYXRlSW5zdGFuY2UoXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjb3VudGVyTGlzdGVuZXI6IENvdW50ZXJMaXN0ZW5lcixcbiAgICBjb3VudGVyUmVzb2x2ZXI6IENvdW50ZXJSZXNvbHZlcixcbiAgICBsYW5nLFxuICApOiBDYXNjYWRlSW5zdGFuY2Uge1xuICAgIHJldHVybiBuZXcgQ2FzY2FkZUluc3RhbmNlKFxuICAgICAgdGhpcyxcbiAgICAgIGNvbnRleHQsXG4gICAgICBjb3VudGVyTGlzdGVuZXIsXG4gICAgICBjb3VudGVyUmVzb2x2ZXIsXG4gICAgICBsYW5nLFxuICAgICk7XG4gIH1cblxuICBuZXh0T3JkZXIoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gKHRoaXMub3JkZXIgKz0gT1JERVJfSU5DUkVNRU5UKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2FzY2FkZUluc3RhbmNlIHtcbiAgY29kZTogQ2FzY2FkZTtcbiAgc3RhY2sgPSBbW10sIFtdXSBhcyBDb25kaXRpb25JdGVtW11bXTtcbiAgY29uZGl0aW9ucyA9IHt9IGFzIHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XG4gIGN1cnJlbnRFbGVtZW50OiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGN1cnJlbnRFbGVtZW50T2Zmc2V0OiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgY3VycmVudFN0eWxlOiBFbGVtZW50U3R5bGUgfCBudWxsID0gbnVsbDtcbiAgY3VycmVudENsYXNzTmFtZXM6IHN0cmluZ1tdIHwgbnVsbCA9IG51bGw7XG4gIGN1cnJlbnRMb2NhbE5hbWU6IHN0cmluZyA9IFwiXCI7XG4gIGN1cnJlbnROYW1lc3BhY2U6IHN0cmluZyA9IFwiXCI7XG4gIGN1cnJlbnRJZDogc3RyaW5nID0gXCJcIjtcbiAgY3VycmVudFhtbElkOiBzdHJpbmcgPSBcIlwiO1xuICBjdXJyZW50TlNUYWc6IHN0cmluZyA9IFwiXCI7XG4gIGN1cnJlbnRFcHViVHlwZXM6IHN0cmluZ1tdIHwgbnVsbCA9IG51bGw7XG4gIGN1cnJlbnRQYWdlVHlwZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGlzRmlyc3Q6IGJvb2xlYW4gPSB0cnVlO1xuICBpc1Jvb3Q6IGJvb2xlYW4gPSB0cnVlO1xuICBjb3VudGVyczogeyBba2V5OiBzdHJpbmddOiBudW1iZXJbXSB9ID0ge307XG4gIGNvdW50ZXJTY29waW5nOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfVtdID0gW3t9XTtcbiAgcXVvdGVzOiBDc3MuU3RyW107XG4gIHF1b3RlRGVwdGg6IG51bWJlciA9IDA7XG4gIGxhbmc6IHN0cmluZyA9IFwiXCI7XG4gIHNpYmxpbmdPcmRlclN0YWNrOiBudW1iZXJbXSA9IFswXTtcbiAgY3VycmVudFNpYmxpbmdPcmRlcjogbnVtYmVyID0gMDtcbiAgc2libGluZ1R5cGVDb3VudHNTdGFjazogeyBba2V5OiBzdHJpbmddOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9IH1bXSA9IFt7fV07XG4gIGN1cnJlbnRTaWJsaW5nVHlwZUNvdW50czogeyBba2V5OiBzdHJpbmddOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9IH07XG4gIGN1cnJlbnRGb2xsb3dpbmdTaWJsaW5nT3JkZXI6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBmb2xsb3dpbmdTaWJsaW5nT3JkZXJTdGFjazogKG51bWJlciB8IG51bGwpW107XG4gIGZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzU3RhY2s6IHtcbiAgICBba2V5OiBzdHJpbmddOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9O1xuICB9W10gPSBbe31dO1xuICBjdXJyZW50Rm9sbG93aW5nU2libGluZ1R5cGVDb3VudHM6IHtcbiAgICBba2V5OiBzdHJpbmddOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9O1xuICB9O1xuICB2aWV3Q29uZGl0aW9uczogeyBba2V5OiBzdHJpbmddOiBNYXRjaGVycy5NYXRjaGVyW10gfSA9IHt9O1xuICBkZXBlbmRlbnRDb25kaXRpb25zOiBzdHJpbmdbXSA9IFtdO1xuICBlbGVtZW50U3RhY2s6IEVsZW1lbnRbXTtcbiAgY3VycmVudERvYz86IERvY3VtZW50IHwgbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBjYXNjYWRlOiBDYXNjYWRlLFxuICAgIHB1YmxpYyByZWFkb25seSBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSBjb3VudGVyTGlzdGVuZXI6IENvdW50ZXJMaXN0ZW5lcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY291bnRlclJlc29sdmVyOiBDb3VudGVyUmVzb2x2ZXIsXG4gICAgbGFuZzogc3RyaW5nLFxuICApIHtcbiAgICB0aGlzLmNvZGUgPSBjYXNjYWRlO1xuICAgIHRoaXMucXVvdGVzID0gW1xuICAgICAgbmV3IENzcy5TdHIoXCJcXHUyMDFjXCIpLFxuICAgICAgbmV3IENzcy5TdHIoXCJcXHUyMDFkXCIpLFxuICAgICAgbmV3IENzcy5TdHIoXCJcXHUyMDE4XCIpLFxuICAgICAgbmV3IENzcy5TdHIoXCJcXHUyMDE5XCIpLFxuICAgIF07XG4gICAgdGhpcy5jdXJyZW50U2libGluZ1R5cGVDb3VudHMgPSB0aGlzLnNpYmxpbmdUeXBlQ291bnRzU3RhY2tbMF07XG4gICAgdGhpcy5mb2xsb3dpbmdTaWJsaW5nT3JkZXJTdGFjayA9IFt0aGlzLmN1cnJlbnRGb2xsb3dpbmdTaWJsaW5nT3JkZXJdO1xuICAgIHRoaXMuY3VycmVudEZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzID0gdGhpcy5zaWJsaW5nVHlwZUNvdW50c1N0YWNrWzBdO1xuICAgIGlmIChWSVZMSU9TVFlMRV9ERUJVRykge1xuICAgICAgdGhpcy5lbGVtZW50U3RhY2sgPSBbXTtcbiAgICB9XG4gIH1cblxuICBwdXNoQ29uZGl0aW9uSXRlbShpdGVtOiBDb25kaXRpb25JdGVtKTogdm9pZCB7XG4gICAgdGhpcy5zdGFja1t0aGlzLnN0YWNrLmxlbmd0aCAtIDFdLnB1c2goaXRlbSk7XG4gIH1cblxuICBpbmNyZW1lbnQoY29uZGl0aW9uOiBzdHJpbmcsIHZpZXdDb25kaXRpb246IE1hdGNoZXJzLk1hdGNoZXIpOiB2b2lkIHtcbiAgICB0aGlzLmNvbmRpdGlvbnNbY29uZGl0aW9uXSA9ICh0aGlzLmNvbmRpdGlvbnNbY29uZGl0aW9uXSB8fCAwKSArIDE7XG4gICAgaWYgKCF2aWV3Q29uZGl0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLnZpZXdDb25kaXRpb25zW2NvbmRpdGlvbl0pIHtcbiAgICAgIHRoaXMudmlld0NvbmRpdGlvbnNbY29uZGl0aW9uXS5wdXNoKHZpZXdDb25kaXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnZpZXdDb25kaXRpb25zW2NvbmRpdGlvbl0gPSBbdmlld0NvbmRpdGlvbl07XG4gICAgfVxuICB9XG5cbiAgZGVjcmVtZW50KGNvbmRpdGlvbjogc3RyaW5nLCB2aWV3Q29uZGl0aW9uOiBNYXRjaGVycy5NYXRjaGVyKTogdm9pZCB7XG4gICAgdGhpcy5jb25kaXRpb25zW2NvbmRpdGlvbl0tLTtcbiAgICBpZiAoIXRoaXMudmlld0NvbmRpdGlvbnNbY29uZGl0aW9uXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnZpZXdDb25kaXRpb25zW2NvbmRpdGlvbl0gPSB0aGlzLnZpZXdDb25kaXRpb25zW2NvbmRpdGlvbl0uZmlsdGVyKFxuICAgICAgKGl0ZW0pID0+IGl0ZW0gIT09IHZpZXdDb25kaXRpb24sXG4gICAgKTtcbiAgICBpZiAodGhpcy52aWV3Q29uZGl0aW9uc1tjb25kaXRpb25dLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZGVsZXRlIHRoaXMudmlld0NvbmRpdGlvbnNbY29uZGl0aW9uXTtcbiAgICB9XG4gIH1cblxuICBidWlsZFZpZXdDb25kaXRpb25NYXRjaGVyKHZpZXdDb25kaXRpb25JZDogc3RyaW5nIHwgbnVsbCk6IE1hdGNoZXJzLk1hdGNoZXIge1xuICAgIGxldCBtYXRjaGVyOiBNYXRjaGVycy5NYXRjaGVyID0gbnVsbDtcbiAgICBpZiAodmlld0NvbmRpdGlvbklkKSB7XG4gICAgICBBc3NlcnRzLmFzc2VydCh0aGlzLmN1cnJlbnRFbGVtZW50T2Zmc2V0KTtcbiAgICAgIG1hdGNoZXIgPSBNYXRjaGVycy5NYXRjaGVyQnVpbGRlci5idWlsZFZpZXdDb25kaXRpb25NYXRjaGVyKFxuICAgICAgICB0aGlzLmN1cnJlbnRFbGVtZW50T2Zmc2V0LFxuICAgICAgICB2aWV3Q29uZGl0aW9uSWQsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBkZXBlbmRlbnRDb25kaXRpb25NYXRjaGVycyA9IHRoaXMuZGVwZW5kZW50Q29uZGl0aW9uc1xuICAgICAgLm1hcCgoY29uZGl0aW9uSWQpID0+IHtcbiAgICAgICAgY29uc3QgY29uZGl0aW9ucyA9IHRoaXMudmlld0NvbmRpdGlvbnNbY29uZGl0aW9uSWRdO1xuICAgICAgICBpZiAoY29uZGl0aW9ucyAmJiBjb25kaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gY29uZGl0aW9ucy5sZW5ndGggPT09IDFcbiAgICAgICAgICAgID8gY29uZGl0aW9uc1swXVxuICAgICAgICAgICAgOiBNYXRjaGVycy5NYXRjaGVyQnVpbGRlci5idWlsZEFueU1hdGNoZXIoW10uY29uY2F0KGNvbmRpdGlvbnMpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0pO1xuICAgIGlmIChkZXBlbmRlbnRDb25kaXRpb25NYXRjaGVycy5sZW5ndGggPD0gMCkge1xuICAgICAgcmV0dXJuIG1hdGNoZXI7XG4gICAgfVxuICAgIGlmIChtYXRjaGVyID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gZGVwZW5kZW50Q29uZGl0aW9uTWF0Y2hlcnMubGVuZ3RoID09PSAxXG4gICAgICAgID8gZGVwZW5kZW50Q29uZGl0aW9uTWF0Y2hlcnNbMF1cbiAgICAgICAgOiBNYXRjaGVycy5NYXRjaGVyQnVpbGRlci5idWlsZEFsbE1hdGNoZXIoZGVwZW5kZW50Q29uZGl0aW9uTWF0Y2hlcnMpO1xuICAgIH1cbiAgICByZXR1cm4gTWF0Y2hlcnMuTWF0Y2hlckJ1aWxkZXIuYnVpbGRBbGxNYXRjaGVyKFxuICAgICAgW21hdGNoZXJdLmNvbmNhdChkZXBlbmRlbnRDb25kaXRpb25NYXRjaGVycyksXG4gICAgKTtcbiAgfVxuXG4gIGFwcGx5QWN0aW9uKHRhYmxlOiBBY3Rpb25UYWJsZSwga2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBhY3Rpb24gPSB0YWJsZVtrZXldO1xuICAgIGlmIChhY3Rpb24pIHtcbiAgICAgIGFjdGlvbi5hcHBseSh0aGlzKTtcbiAgICB9XG4gIH1cblxuICBwdXNoUnVsZShcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgICBwYWdlVHlwZTogc3RyaW5nIHwgbnVsbCxcbiAgICBiYXNlU3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5jdXJyZW50RWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5jdXJyZW50RWxlbWVudE9mZnNldCA9IG51bGw7XG4gICAgdGhpcy5jdXJyZW50U3R5bGUgPSBiYXNlU3R5bGU7XG4gICAgdGhpcy5jdXJyZW50TmFtZXNwYWNlID0gXCJcIjtcbiAgICB0aGlzLmN1cnJlbnRMb2NhbE5hbWUgPSBcIlwiO1xuICAgIHRoaXMuY3VycmVudElkID0gXCJcIjtcbiAgICB0aGlzLmN1cnJlbnRYbWxJZCA9IFwiXCI7XG4gICAgdGhpcy5jdXJyZW50Q2xhc3NOYW1lcyA9IGNsYXNzZXM7XG4gICAgdGhpcy5jdXJyZW50TlNUYWcgPSBcIlwiO1xuICAgIHRoaXMuY3VycmVudEVwdWJUeXBlcyA9IEVNUFRZO1xuICAgIHRoaXMuY3VycmVudFBhZ2VUeXBlID0gcGFnZVR5cGU7XG4gICAgdGhpcy5hcHBseUFjdGlvbnMoKTtcbiAgfVxuXG4gIGRlZmluZUNvdW50ZXIoY291bnRlck5hbWU6IHN0cmluZywgdmFsdWU6IG51bWJlcikge1xuICAgIGlmICh0aGlzLmNvdW50ZXJzW2NvdW50ZXJOYW1lXSkge1xuICAgICAgdGhpcy5jb3VudGVyc1tjb3VudGVyTmFtZV0ucHVzaCh2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY291bnRlcnNbY291bnRlck5hbWVdID0gW3ZhbHVlXTtcbiAgICB9XG4gICAgbGV0IHNjb3BpbmcgPSB0aGlzLmNvdW50ZXJTY29waW5nW3RoaXMuY291bnRlclNjb3BpbmcubGVuZ3RoIC0gMV07XG4gICAgaWYgKCFzY29waW5nKSB7XG4gICAgICBzY29waW5nID0ge307XG4gICAgICB0aGlzLmNvdW50ZXJTY29waW5nW3RoaXMuY291bnRlclNjb3BpbmcubGVuZ3RoIC0gMV0gPSBzY29waW5nO1xuICAgIH1cbiAgICBzY29waW5nW2NvdW50ZXJOYW1lXSA9IHRydWU7XG4gIH1cblxuICBwdXNoQ291bnRlcnMocHJvcHM6IEVsZW1lbnRTdHlsZSk6IHZvaWQge1xuICAgIGxldCBkaXNwbGF5VmFsID0gQ3NzLmlkZW50LmlubGluZTtcbiAgICBjb25zdCBkaXNwbGF5ID0gcHJvcHNbXCJkaXNwbGF5XCJdO1xuICAgIGlmIChkaXNwbGF5KSB7XG4gICAgICBkaXNwbGF5VmFsID0gZGlzcGxheS5ldmFsdWF0ZSh0aGlzLmNvbnRleHQpO1xuICAgIH1cbiAgICBsZXQgcmVzZXRNYXA6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSBudWxsO1xuICAgIGxldCBpbmNyZW1lbnRNYXA6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSBudWxsO1xuICAgIGxldCBzZXRNYXA6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSBudWxsO1xuICAgIGNvbnN0IHJlc2V0ID0gcHJvcHNbXCJjb3VudGVyLXJlc2V0XCJdO1xuICAgIGlmIChyZXNldCkge1xuICAgICAgY29uc3QgcmVzZXRWYWwgPSByZXNldC5ldmFsdWF0ZSh0aGlzLmNvbnRleHQpO1xuICAgICAgaWYgKHJlc2V0VmFsKSB7XG4gICAgICAgIHJlc2V0TWFwID0gQ3NzUHJvcC50b0NvdW50ZXJzKHJlc2V0VmFsLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc2V0ID0gcHJvcHNbXCJjb3VudGVyLXNldFwiXTtcbiAgICBpZiAoc2V0KSB7XG4gICAgICBjb25zdCBzZXRWYWwgPSBzZXQuZXZhbHVhdGUodGhpcy5jb250ZXh0KTtcbiAgICAgIGlmIChzZXRWYWwpIHtcbiAgICAgICAgc2V0TWFwID0gQ3NzUHJvcC50b0NvdW50ZXJzKHNldFZhbCwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpbmNyZW1lbnQgPSBwcm9wc1tcImNvdW50ZXItaW5jcmVtZW50XCJdO1xuICAgIGlmIChpbmNyZW1lbnQpIHtcbiAgICAgIGNvbnN0IGluY3JlbWVudFZhbCA9IGluY3JlbWVudC5ldmFsdWF0ZSh0aGlzLmNvbnRleHQpO1xuICAgICAgaWYgKGluY3JlbWVudFZhbCkge1xuICAgICAgICBpbmNyZW1lbnRNYXAgPSBDc3NQcm9wLnRvQ291bnRlcnMoaW5jcmVtZW50VmFsLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChcbiAgICAgICh0aGlzLmN1cnJlbnRMb2NhbE5hbWUgPT0gXCJvbFwiIHx8IHRoaXMuY3VycmVudExvY2FsTmFtZSA9PSBcInVsXCIpICYmXG4gICAgICB0aGlzLmN1cnJlbnROYW1lc3BhY2UgPT0gQmFzZS5OUy5YSFRNTFxuICAgICkge1xuICAgICAgaWYgKCFyZXNldE1hcCkge1xuICAgICAgICByZXNldE1hcCA9IHt9O1xuICAgICAgfVxuICAgICAgcmVzZXRNYXBbXCJ1YS1saXN0LWl0ZW1cIl0gPSAwO1xuICAgIH1cbiAgICBpZiAoZGlzcGxheVZhbCA9PT0gQ3NzLmlkZW50Lmxpc3RfaXRlbSkge1xuICAgICAgaWYgKCFpbmNyZW1lbnRNYXApIHtcbiAgICAgICAgaW5jcmVtZW50TWFwID0ge307XG4gICAgICB9XG4gICAgICBpbmNyZW1lbnRNYXBbXCJ1YS1saXN0LWl0ZW1cIl0gPSAxO1xuICAgIH1cbiAgICBpZiAocmVzZXRNYXApIHtcbiAgICAgIGZvciAoY29uc3QgcmVzZXRDb3VudGVyTmFtZSBpbiByZXNldE1hcCkge1xuICAgICAgICB0aGlzLmRlZmluZUNvdW50ZXIocmVzZXRDb3VudGVyTmFtZSwgcmVzZXRNYXBbcmVzZXRDb3VudGVyTmFtZV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2V0TWFwKSB7XG4gICAgICBmb3IgKGNvbnN0IHNldENvdW50ZXJOYW1lIGluIHNldE1hcCkge1xuICAgICAgICBpZiAoIXRoaXMuY291bnRlcnNbc2V0Q291bnRlck5hbWVdKSB7XG4gICAgICAgICAgdGhpcy5kZWZpbmVDb3VudGVyKHNldENvdW50ZXJOYW1lLCBzZXRNYXBbc2V0Q291bnRlck5hbWVdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBjb3VudGVyVmFsdWVzID0gdGhpcy5jb3VudGVyc1tzZXRDb3VudGVyTmFtZV07XG4gICAgICAgICAgY291bnRlclZhbHVlc1tjb3VudGVyVmFsdWVzLmxlbmd0aCAtIDFdID0gc2V0TWFwW3NldENvdW50ZXJOYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaW5jcmVtZW50TWFwKSB7XG4gICAgICBmb3IgKGNvbnN0IGluY3JlbWVudENvdW50ZXJOYW1lIGluIGluY3JlbWVudE1hcCkge1xuICAgICAgICBpZiAoIXRoaXMuY291bnRlcnNbaW5jcmVtZW50Q291bnRlck5hbWVdKSB7XG4gICAgICAgICAgdGhpcy5kZWZpbmVDb3VudGVyKGluY3JlbWVudENvdW50ZXJOYW1lLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb3VudGVyVmFsdWVzID0gdGhpcy5jb3VudGVyc1tpbmNyZW1lbnRDb3VudGVyTmFtZV07XG4gICAgICAgIGNvdW50ZXJWYWx1ZXNbY291bnRlclZhbHVlcy5sZW5ndGggLSAxXSArPVxuICAgICAgICAgIGluY3JlbWVudE1hcFtpbmNyZW1lbnRDb3VudGVyTmFtZV07XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkaXNwbGF5VmFsID09PSBDc3MuaWRlbnQubGlzdF9pdGVtKSB7XG4gICAgICBjb25zdCBsaXN0SXRlbUNvdW50cyA9IHRoaXMuY291bnRlcnNbXCJ1YS1saXN0LWl0ZW1cIl07XG4gICAgICBjb25zdCBsaXN0SXRlbUNvdW50ID0gbGlzdEl0ZW1Db3VudHNbbGlzdEl0ZW1Db3VudHMubGVuZ3RoIC0gMV07XG4gICAgICBwcm9wc1tcInVhLWxpc3QtaXRlbS1jb3VudFwiXSA9IG5ldyBDYXNjYWRlVmFsdWUoXG4gICAgICAgIG5ldyBDc3MuTnVtKGxpc3RJdGVtQ291bnQpLFxuICAgICAgICAwLFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5jb3VudGVyU2NvcGluZy5wdXNoKG51bGwpO1xuICB9XG5cbiAgcG9wQ291bnRlcnMoKTogdm9pZCB7XG4gICAgY29uc3Qgc2NvcGluZyA9IHRoaXMuY291bnRlclNjb3BpbmcucG9wKCk7XG4gICAgaWYgKHNjb3BpbmcpIHtcbiAgICAgIGZvciAoY29uc3QgY291bnRlck5hbWUgaW4gc2NvcGluZykge1xuICAgICAgICBjb25zdCBhcnIgPSB0aGlzLmNvdW50ZXJzW2NvdW50ZXJOYW1lXTtcbiAgICAgICAgaWYgKGFycikge1xuICAgICAgICAgIGlmIChhcnIubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNvdW50ZXJzW2NvdW50ZXJOYW1lXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyLnBvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByb2Nlc3NQc2V1ZG9lbGVtZW50UHJvcHMocHNldWRvcHJvcHM6IEVsZW1lbnRTdHlsZSwgZWxlbWVudDogRWxlbWVudCk6IHZvaWQge1xuICAgIHRoaXMucHVzaENvdW50ZXJzKHBzZXVkb3Byb3BzKTtcbiAgICBpZiAocHNldWRvcHJvcHNbXCJjb250ZW50XCJdKSB7XG4gICAgICBwc2V1ZG9wcm9wc1tcImNvbnRlbnRcIl0gPSBwc2V1ZG9wcm9wc1tcImNvbnRlbnRcIl0uZmlsdGVyVmFsdWUoXG4gICAgICAgIG5ldyBDb250ZW50UHJvcFZpc2l0b3IodGhpcywgZWxlbWVudCwgdGhpcy5jb3VudGVyUmVzb2x2ZXIpLFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5wb3BDb3VudGVycygpO1xuICB9XG5cbiAgcHVzaEVsZW1lbnQoXG4gICAgZWxlbWVudDogRWxlbWVudCxcbiAgICBiYXNlU3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgICBlbGVtZW50T2Zmc2V0OiBudW1iZXIsXG4gICk6IHZvaWQge1xuICAgIGlmIChWSVZMSU9TVFlMRV9ERUJVRykge1xuICAgICAgdGhpcy5lbGVtZW50U3RhY2sucHVzaChlbGVtZW50KTtcbiAgICB9XG5cbiAgICAvLyBkbyBub3QgYXBwbHkgcGFnZSBydWxlc1xuICAgIHRoaXMuY3VycmVudFBhZ2VUeXBlID0gbnVsbDtcbiAgICB0aGlzLmN1cnJlbnRFbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLmN1cnJlbnRFbGVtZW50T2Zmc2V0ID0gZWxlbWVudE9mZnNldDtcbiAgICB0aGlzLmN1cnJlbnRTdHlsZSA9IGJhc2VTdHlsZTtcbiAgICB0aGlzLmN1cnJlbnROYW1lc3BhY2UgPSBlbGVtZW50Lm5hbWVzcGFjZVVSSTtcbiAgICB0aGlzLmN1cnJlbnRMb2NhbE5hbWUgPSBlbGVtZW50LmxvY2FsTmFtZTtcbiAgICBjb25zdCBwcmVmaXggPSB0aGlzLmNvZGUubnNQcmVmaXhbdGhpcy5jdXJyZW50TmFtZXNwYWNlXTtcbiAgICBpZiAocHJlZml4KSB7XG4gICAgICB0aGlzLmN1cnJlbnROU1RhZyA9IHByZWZpeCArIHRoaXMuY3VycmVudExvY2FsTmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50TlNUYWcgPSBcIlwiO1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRJZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiaWRcIik7XG4gICAgdGhpcy5jdXJyZW50WG1sSWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZU5TKEJhc2UuTlMuWE1MLCBcImlkXCIpO1xuICAgIGNvbnN0IGNsYXNzZXMgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICAgIGlmIChjbGFzc2VzKSB7XG4gICAgICB0aGlzLmN1cnJlbnRDbGFzc05hbWVzID0gY2xhc3Nlcy5zcGxpdCgvXFxzKy8pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmN1cnJlbnRDbGFzc05hbWVzID0gRU1QVFk7XG4gICAgfVxuICAgIGNvbnN0IHR5cGVzID0gZWxlbWVudC5nZXRBdHRyaWJ1dGVOUyhCYXNlLk5TLmVwdWIsIFwidHlwZVwiKTtcbiAgICBpZiAodHlwZXMpIHtcbiAgICAgIHRoaXMuY3VycmVudEVwdWJUeXBlcyA9IHR5cGVzLnNwbGl0KC9cXHMrLyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY3VycmVudEVwdWJUeXBlcyA9IEVNUFRZO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGlzLmN1cnJlbnRMb2NhbE5hbWUgPT0gXCJzdHlsZVwiICYmXG4gICAgICB0aGlzLmN1cnJlbnROYW1lc3BhY2UgPT0gQmFzZS5OUy5GQjJcbiAgICApIHtcbiAgICAgIC8vIHNwZWNpYWwgY2FzZVxuICAgICAgY29uc3QgY2xhc3NOYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpIHx8IFwiXCI7XG4gICAgICB0aGlzLmN1cnJlbnRDbGFzc05hbWVzID0gW2NsYXNzTmFtZV07XG4gICAgfVxuICAgIGNvbnN0IGxhbmcgPSBCYXNlLmdldExhbmdBdHRyaWJ1dGUoZWxlbWVudCk7XG4gICAgaWYgKGxhbmcpIHtcbiAgICAgIHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAxXS5wdXNoKG5ldyBSZXN0b3JlTGFuZ0l0ZW0odGhpcy5sYW5nKSk7XG4gICAgICB0aGlzLmxhbmcgPSBsYW5nLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIGNvbnN0IGlzUm9vdCA9IHRoaXMuaXNSb290O1xuICAgIGNvbnN0IHNpYmxpbmdPcmRlclN0YWNrID0gdGhpcy5zaWJsaW5nT3JkZXJTdGFjaztcbiAgICB0aGlzLmN1cnJlbnRTaWJsaW5nT3JkZXIgPSArK3NpYmxpbmdPcmRlclN0YWNrW1xuICAgICAgc2libGluZ09yZGVyU3RhY2subGVuZ3RoIC0gMVxuICAgIF07XG4gICAgc2libGluZ09yZGVyU3RhY2sucHVzaCgwKTtcbiAgICBjb25zdCBzaWJsaW5nVHlwZUNvdW50c1N0YWNrID0gdGhpcy5zaWJsaW5nVHlwZUNvdW50c1N0YWNrO1xuICAgIGNvbnN0IGN1cnJlbnRTaWJsaW5nVHlwZUNvdW50cyA9ICh0aGlzLmN1cnJlbnRTaWJsaW5nVHlwZUNvdW50cyA9XG4gICAgICBzaWJsaW5nVHlwZUNvdW50c1N0YWNrW3NpYmxpbmdUeXBlQ291bnRzU3RhY2subGVuZ3RoIC0gMV0pO1xuICAgIGxldCBjdXJyZW50TmFtZXNwYWNlVHlwZUNvdW50cyA9XG4gICAgICBjdXJyZW50U2libGluZ1R5cGVDb3VudHNbdGhpcy5jdXJyZW50TmFtZXNwYWNlXTtcbiAgICBpZiAoIWN1cnJlbnROYW1lc3BhY2VUeXBlQ291bnRzKSB7XG4gICAgICBjdXJyZW50TmFtZXNwYWNlVHlwZUNvdW50cyA9IGN1cnJlbnRTaWJsaW5nVHlwZUNvdW50c1tcbiAgICAgICAgdGhpcy5jdXJyZW50TmFtZXNwYWNlXG4gICAgICBdID0ge307XG4gICAgfVxuICAgIGN1cnJlbnROYW1lc3BhY2VUeXBlQ291bnRzW3RoaXMuY3VycmVudExvY2FsTmFtZV0gPVxuICAgICAgKGN1cnJlbnROYW1lc3BhY2VUeXBlQ291bnRzW3RoaXMuY3VycmVudExvY2FsTmFtZV0gfHwgMCkgKyAxO1xuICAgIHNpYmxpbmdUeXBlQ291bnRzU3RhY2sucHVzaCh7fSk7XG4gICAgY29uc3QgZm9sbG93aW5nU2libGluZ09yZGVyU3RhY2sgPSB0aGlzLmZvbGxvd2luZ1NpYmxpbmdPcmRlclN0YWNrO1xuICAgIGlmIChcbiAgICAgIGZvbGxvd2luZ1NpYmxpbmdPcmRlclN0YWNrW2ZvbGxvd2luZ1NpYmxpbmdPcmRlclN0YWNrLmxlbmd0aCAtIDFdICE9PSBudWxsXG4gICAgKSB7XG4gICAgICB0aGlzLmN1cnJlbnRGb2xsb3dpbmdTaWJsaW5nT3JkZXIgPSAtLWZvbGxvd2luZ1NpYmxpbmdPcmRlclN0YWNrW1xuICAgICAgICBmb2xsb3dpbmdTaWJsaW5nT3JkZXJTdGFjay5sZW5ndGggLSAxXG4gICAgICBdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmN1cnJlbnRGb2xsb3dpbmdTaWJsaW5nT3JkZXIgPSBudWxsO1xuICAgIH1cbiAgICBmb2xsb3dpbmdTaWJsaW5nT3JkZXJTdGFjay5wdXNoKG51bGwpO1xuICAgIGNvbnN0IGZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzU3RhY2sgPSB0aGlzXG4gICAgICAuZm9sbG93aW5nU2libGluZ1R5cGVDb3VudHNTdGFjaztcbiAgICBjb25zdCBjdXJyZW50Rm9sbG93aW5nU2libGluZ1R5cGVDb3VudHMgPSAodGhpcy5jdXJyZW50Rm9sbG93aW5nU2libGluZ1R5cGVDb3VudHMgPVxuICAgICAgZm9sbG93aW5nU2libGluZ1R5cGVDb3VudHNTdGFja1tcbiAgICAgICAgZm9sbG93aW5nU2libGluZ1R5cGVDb3VudHNTdGFjay5sZW5ndGggLSAxXG4gICAgICBdKTtcbiAgICBpZiAoXG4gICAgICBjdXJyZW50Rm9sbG93aW5nU2libGluZ1R5cGVDb3VudHMgJiZcbiAgICAgIGN1cnJlbnRGb2xsb3dpbmdTaWJsaW5nVHlwZUNvdW50c1t0aGlzLmN1cnJlbnROYW1lc3BhY2VdXG4gICAgKSB7XG4gICAgICBjdXJyZW50Rm9sbG93aW5nU2libGluZ1R5cGVDb3VudHNbdGhpcy5jdXJyZW50TmFtZXNwYWNlXVtcbiAgICAgICAgdGhpcy5jdXJyZW50TG9jYWxOYW1lXG4gICAgICBdLS07XG4gICAgfVxuICAgIGZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzU3RhY2sucHVzaCh7fSk7XG4gICAgdGhpcy5hcHBseUFjdGlvbnMoKTtcbiAgICB0aGlzLmFwcGx5QXR0ckZpbHRlcihlbGVtZW50KTtcbiAgICBjb25zdCBxdW90ZXNDYXNjID0gYmFzZVN0eWxlW1wicXVvdGVzXCJdO1xuICAgIGxldCBpdGVtVG9QdXNoTGFzdDogUXVvdGVzU2NvcGVJdGVtIHwgbnVsbCA9IG51bGw7XG4gICAgaWYgKHF1b3Rlc0Nhc2MpIHtcbiAgICAgIGNvbnN0IHF1b3Rlc1ZhbCA9IHF1b3Rlc0Nhc2MuZXZhbHVhdGUodGhpcy5jb250ZXh0KTtcbiAgICAgIGlmIChxdW90ZXNWYWwpIHtcbiAgICAgICAgaXRlbVRvUHVzaExhc3QgPSBuZXcgUXVvdGVzU2NvcGVJdGVtKHRoaXMucXVvdGVzKTtcbiAgICAgICAgaWYgKHF1b3Rlc1ZhbCA9PT0gQ3NzLmlkZW50Lm5vbmUpIHtcbiAgICAgICAgICB0aGlzLnF1b3RlcyA9IFtuZXcgQ3NzLlN0cihcIlwiKSwgbmV3IENzcy5TdHIoXCJcIildO1xuICAgICAgICB9IGVsc2UgaWYgKHF1b3Rlc1ZhbCBpbnN0YW5jZW9mIENzcy5TcGFjZUxpc3QpIHtcbiAgICAgICAgICB0aGlzLnF1b3RlcyA9IChxdW90ZXNWYWwgYXMgQ3NzLlNwYWNlTGlzdCkudmFsdWVzIGFzIENzcy5TdHJbXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnB1c2hDb3VudGVycyh0aGlzLmN1cnJlbnRTdHlsZSk7XG4gICAgY29uc3QgaWQgPVxuICAgICAgdGhpcy5jdXJyZW50SWQgfHwgdGhpcy5jdXJyZW50WG1sSWQgfHwgZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpIHx8IFwiXCI7XG4gICAgaWYgKGlzUm9vdCB8fCBpZCkge1xuICAgICAgY29uc3QgY291bnRlcnM6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyW10gfSA9IHt9O1xuICAgICAgT2JqZWN0LmtleXModGhpcy5jb3VudGVycykuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgICBjb3VudGVyc1tuYW1lXSA9IEFycmF5LmZyb20odGhpcy5jb3VudGVyc1tuYW1lXSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuY291bnRlckxpc3RlbmVyLmNvdW50ZXJzT2ZJZChpZCwgY291bnRlcnMpO1xuICAgIH1cbiAgICBjb25zdCBwc2V1ZG9zID0gZ2V0U3R5bGVNYXAodGhpcy5jdXJyZW50U3R5bGUsIFwiX3BzZXVkb3NcIik7XG4gICAgaWYgKHBzZXVkb3MpIHtcbiAgICAgIGxldCBiZWZvcmUgPSB0cnVlO1xuICAgICAgZm9yIChjb25zdCBwc2V1ZG9OYW1lIG9mIHBzZXVkb05hbWVzKSB7XG4gICAgICAgIGlmICghcHNldWRvTmFtZSkge1xuICAgICAgICAgIC8vIGNvbnRlbnRcbiAgICAgICAgICBiZWZvcmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwc2V1ZG9Qcm9wcyA9IHBzZXVkb3NbcHNldWRvTmFtZV07XG4gICAgICAgIGlmIChwc2V1ZG9Qcm9wcykge1xuICAgICAgICAgIGlmIChiZWZvcmUpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BzZXVkb2VsZW1lbnRQcm9wcyhwc2V1ZG9Qcm9wcywgZWxlbWVudCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAyXS5wdXNoKFxuICAgICAgICAgICAgICBuZXcgQWZ0ZXJQc2V1ZG9lbGVtZW50SXRlbShwc2V1ZG9Qcm9wcywgZWxlbWVudCksXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXRlbVRvUHVzaExhc3QpIHtcbiAgICAgIHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAyXS5wdXNoKGl0ZW1Ub1B1c2hMYXN0KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFwcGx5QXR0ckZpbHRlcklubmVyKHZpc2l0b3IsIGVsZW1lbnRTdHlsZSk6IHZvaWQge1xuICAgIGZvciAoY29uc3QgcHJvcE5hbWUgaW4gZWxlbWVudFN0eWxlKSB7XG4gICAgICBpZiAoaXNQcm9wTmFtZShwcm9wTmFtZSkpIHtcbiAgICAgICAgZWxlbWVudFN0eWxlW3Byb3BOYW1lXSA9IGVsZW1lbnRTdHlsZVtwcm9wTmFtZV0uZmlsdGVyVmFsdWUodmlzaXRvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhcHBseUF0dHJGaWx0ZXIoZWxlbWVudCk6IHZvaWQge1xuICAgIGNvbnN0IHZpc2l0b3IgPSBuZXcgQXR0clZhbHVlRmlsdGVyVmlzaXRvcihlbGVtZW50KTtcbiAgICBjb25zdCBjdXJyZW50U3R5bGUgPSB0aGlzLmN1cnJlbnRTdHlsZTtcbiAgICBjb25zdCBwc2V1ZG9NYXAgPSBnZXRTdHlsZU1hcChjdXJyZW50U3R5bGUsIFwiX3BzZXVkb3NcIik7XG4gICAgZm9yIChjb25zdCBwc2V1ZG9OYW1lIGluIHBzZXVkb01hcCkge1xuICAgICAgdGhpcy5hcHBseUF0dHJGaWx0ZXJJbm5lcih2aXNpdG9yLCBwc2V1ZG9NYXBbcHNldWRvTmFtZV0pO1xuICAgIH1cbiAgICB0aGlzLmFwcGx5QXR0ckZpbHRlcklubmVyKHZpc2l0b3IsIGN1cnJlbnRTdHlsZSk7XG4gIH1cblxuICBwcml2YXRlIGFwcGx5QWN0aW9ucygpOiB2b2lkIHtcbiAgICBsZXQgaTogbnVtYmVyO1xuICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmN1cnJlbnRDbGFzc05hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmFwcGx5QWN0aW9uKHRoaXMuY29kZS5jbGFzc2VzLCB0aGlzLmN1cnJlbnRDbGFzc05hbWVzW2ldKTtcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMuY3VycmVudEVwdWJUeXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5hcHBseUFjdGlvbih0aGlzLmNvZGUuZXB1YnR5cGVzLCB0aGlzLmN1cnJlbnRFcHViVHlwZXNbaV0pO1xuICAgIH1cbiAgICB0aGlzLmFwcGx5QWN0aW9uKHRoaXMuY29kZS5pZHMsIHRoaXMuY3VycmVudElkKTtcbiAgICB0aGlzLmFwcGx5QWN0aW9uKHRoaXMuY29kZS50YWdzLCB0aGlzLmN1cnJlbnRMb2NhbE5hbWUpO1xuICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhbE5hbWUgIT0gXCJcIikge1xuICAgICAgLy8gVW5pdmVyc2FsIHNlbGVjdG9yIGRvZXMgbm90IGFwcGx5IHRvIHBhZ2UtbWFzdGVyLXJlbGF0ZWQgcnVsZXMuXG4gICAgICB0aGlzLmFwcGx5QWN0aW9uKHRoaXMuY29kZS50YWdzLCBcIipcIik7XG4gICAgfVxuICAgIHRoaXMuYXBwbHlBY3Rpb24odGhpcy5jb2RlLm5zdGFncywgdGhpcy5jdXJyZW50TlNUYWcpO1xuXG4gICAgLy8gQXBwbHkgcGFnZSBydWxlcyBvbmx5IHdoZW4gY3VycmVudFBhZ2VUeXBlIGlzIG5vdCBudWxsXG4gICAgaWYgKHRoaXMuY3VycmVudFBhZ2VUeXBlICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmFwcGx5QWN0aW9uKHRoaXMuY29kZS5wYWdldHlwZXMsIHRoaXMuY3VycmVudFBhZ2VUeXBlKTtcblxuICAgICAgLy8gV2UgcmVwcmVzZW50IHBhZ2UgcnVsZXMgd2l0aG91dCBzZWxlY3RvcnMgYnkgKiwgdGhvdWdoIGl0IGlzIGlsbGVnYWwgaW5cbiAgICAgIC8vIENTU1xuICAgICAgdGhpcy5hcHBseUFjdGlvbih0aGlzLmNvZGUucGFnZXR5cGVzLCBcIipcIik7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudEVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuY3VycmVudERvYyA9IG51bGw7XG4gICAgdGhpcy5zdGFjay5wdXNoKFtdKTtcbiAgICBmb3IgKGxldCBkZXB0aCA9IDE7IGRlcHRoID49IC0xOyAtLWRlcHRoKSB7XG4gICAgICBjb25zdCBsaXN0ID0gdGhpcy5zdGFja1t0aGlzLnN0YWNrLmxlbmd0aCAtIGRlcHRoIC0gMl07XG4gICAgICBpID0gMDtcbiAgICAgIHdoaWxlIChpIDwgbGlzdC5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGxpc3RbaV0ucHVzaCh0aGlzLCBkZXB0aCkpIHtcbiAgICAgICAgICAvLyBkb25lXG4gICAgICAgICAgbGlzdC5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuaXNGaXJzdCA9IHRydWU7XG4gICAgdGhpcy5pc1Jvb3QgPSBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgcG9wKCk6IHZvaWQge1xuICAgIGZvciAobGV0IGRlcHRoID0gMTsgZGVwdGggPj0gLTE7IC0tZGVwdGgpIHtcbiAgICAgIGNvbnN0IGxpc3QgPSB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gZGVwdGggLSAyXTtcbiAgICAgIGxldCBpID0gMDtcbiAgICAgIHdoaWxlIChpIDwgbGlzdC5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGxpc3RbaV0ucG9wKHRoaXMsIGRlcHRoKSkge1xuICAgICAgICAgIC8vIGRvbmVcbiAgICAgICAgICBsaXN0LnNwbGljZShpLCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5zdGFjay5wb3AoKTtcbiAgICB0aGlzLmlzRmlyc3QgPSBmYWxzZTtcbiAgfVxuXG4gIHBvcFJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5wb3AoKTtcbiAgfVxuXG4gIHBvcEVsZW1lbnQoZWxlbWVudDogRWxlbWVudCk6IHZvaWQge1xuICAgIGlmIChWSVZMSU9TVFlMRV9ERUJVRykge1xuICAgICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudFN0YWNrLnBvcCgpO1xuICAgICAgaWYgKGUgIT09IGVsZW1lbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjYWxsIHRvIHBvcEVsZW1lbnRcIik7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc2libGluZ09yZGVyU3RhY2sucG9wKCk7XG4gICAgdGhpcy5zaWJsaW5nVHlwZUNvdW50c1N0YWNrLnBvcCgpO1xuICAgIHRoaXMuZm9sbG93aW5nU2libGluZ09yZGVyU3RhY2sucG9wKCk7XG4gICAgdGhpcy5mb2xsb3dpbmdTaWJsaW5nVHlwZUNvdW50c1N0YWNrLnBvcCgpO1xuICAgIHRoaXMucG9wKCk7XG4gICAgdGhpcy5wb3BDb3VudGVycygpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBFTVBUWSA9IFtdO1xuXG4vKipcbiAqIFBzZXVkb2VsZW1lbnQgbmFtZXMgaW4gdGhlIG9yZGVyIHRoZXkgc2hvdWxkIGJlIHByb2Nlc3NlZCwgZW1wdHkgc3RyaW5nIGlzXG4gKiB0aGUgcGxhY2Ugd2hlcmUgdGhlIGVsZW1lbnQncyBET00gY2hpbGRyZW4gYXJlIHByb2Nlc3NlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHBzZXVkb05hbWVzID0gW1xuICBcImJlZm9yZVwiLFxuICBcInRyYW5zY2x1c2lvbi1iZWZvcmVcIixcbiAgXCJmb290bm90ZS1jYWxsXCIsXG4gIFwiZm9vdG5vdGUtbWFya2VyXCIsXG4gIFwiaW5uZXJcIixcbiAgXCJmaXJzdC1sZXR0ZXJcIixcbiAgXCJmaXJzdC1saW5lXCIsXG4gIFwiXCIsXG4gIC8qIGNvbnRlbnQgKi9cbiAgXCJ0cmFuc2NsdXNpb24tYWZ0ZXJcIixcbiAgXCJhZnRlclwiLFxuXTtcblxuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZW51bSBQYXJzZVN0YXRlIHtcbiAgVE9QLFxuICBTRUxFQ1RPUixcbiAgUlVMRSxcbn1cblxuLyoqXG4gKiBDYXNjYWRlIGZvciBiYXNlIFVzZXIgQWdlbnQgc3R5bGVzaGVldC5cbiAqL1xuZXhwb3J0IGxldCB1YUJhc2VDYXNjYWRlOiBDYXNjYWRlID0gbnVsbDtcbmV4cG9ydCBmdW5jdGlvbiBzZXRVQUJhc2VDYXNjYWRlKHZhbHVlOiBDYXNjYWRlKTogdm9pZCB7XG4gIHVhQmFzZUNhc2NhZGUgPSB2YWx1ZTtcbn1cblxuLy8tLS0tLS0tLS0tLS0tIHBhcnNpbmcgLS0tLS0tLS0tLS0tXG5leHBvcnQgY2xhc3MgQ2FzY2FkZVBhcnNlckhhbmRsZXIgZXh0ZW5kcyBDc3NQYXJzZXIuU2xhdmVQYXJzZXJIYW5kbGVyXG4gIGltcGxlbWVudHMgQ3NzVmFsaWRhdG9yLlByb3BlcnR5UmVjZWl2ZXIge1xuICBjaGFpbjogQ2hhaW5lZEFjdGlvbltdID0gbnVsbDtcbiAgc3BlY2lmaWNpdHk6IG51bWJlciA9IDA7XG4gIGVsZW1lbnRTdHlsZTogRWxlbWVudFN0eWxlID0gbnVsbDtcbiAgY29uZGl0aW9uQ291bnQ6IG51bWJlciA9IDA7XG4gIHBzZXVkb2VsZW1lbnQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBmb290bm90ZUNvbnRlbnQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY2FzY2FkZTogQ2FzY2FkZTtcbiAgc3RhdGU6IFBhcnNlU3RhdGU7XG4gIHZpZXdDb25kaXRpb25JZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGluc2lkZVNlbGVjdG9yUnVsZTogUGFyc2VTdGF0ZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIG93bmVyOiBDc3NQYXJzZXIuRGlzcGF0Y2hQYXJzZXJIYW5kbGVyLFxuICAgIHB1YmxpYyByZWFkb25seSBjb25kaXRpb246IEV4cHJzLlZhbCxcbiAgICBwYXJlbnQ6IENhc2NhZGVQYXJzZXJIYW5kbGVyLFxuICAgIHB1YmxpYyByZWFkb25seSByZWdpb25JZDogc3RyaW5nIHwgbnVsbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmFsaWRhdG9yU2V0OiBDc3NWYWxpZGF0b3IuVmFsaWRhdG9yU2V0LFxuICAgIHRvcExldmVsOiBib29sZWFuLFxuICApIHtcbiAgICBzdXBlcihzY29wZSwgb3duZXIsIHRvcExldmVsKTtcbiAgICB0aGlzLmNhc2NhZGUgPSBwYXJlbnRcbiAgICAgID8gcGFyZW50LmNhc2NhZGVcbiAgICAgIDogdWFCYXNlQ2FzY2FkZVxuICAgICAgPyB1YUJhc2VDYXNjYWRlLmNsb25lKClcbiAgICAgIDogbmV3IENhc2NhZGUoKTtcbiAgICB0aGlzLnN0YXRlID0gUGFyc2VTdGF0ZS5UT1A7XG4gIH1cblxuICBwcm90ZWN0ZWQgaW5zZXJ0Tm9uUHJpbWFyeShhY3Rpb246IENhc2NhZGVBY3Rpb24pOiB2b2lkIHtcbiAgICB0aGlzLmNhc2NhZGUuaW5zZXJ0SW5UYWJsZSh0aGlzLmNhc2NhZGUudGFncywgXCIqXCIsIGFjdGlvbik7XG4gIH1cblxuICBwcm9jZXNzQ2hhaW4oYWN0aW9uOiBDYXNjYWRlQWN0aW9uKTogdm9pZCB7XG4gICAgY29uc3QgY2hhaW5lZCA9IGNoYWluQWN0aW9ucyh0aGlzLmNoYWluLCBhY3Rpb24pO1xuICAgIGlmIChcbiAgICAgIGNoYWluZWQgIT09IGFjdGlvbiAmJlxuICAgICAgKGNoYWluZWQgYXMgQ2hhaW5lZEFjdGlvbikubWFrZVByaW1hcnkodGhpcy5jYXNjYWRlKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmluc2VydE5vblByaW1hcnkoY2hhaW5lZCk7XG4gIH1cblxuICBpc0luc2lkZVNlbGVjdG9yUnVsZShtbmVtb25pY3M6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLnN0YXRlICE9IFBhcnNlU3RhdGUuVE9QKSB7XG4gICAgICB0aGlzLnJlcG9ydEFuZFNraXAobW5lbW9uaWNzKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0YWdTZWxlY3Rvcihuczogc3RyaW5nIHwgbnVsbCwgbmFtZTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xuICAgIGlmICghbmFtZSAmJiAhbnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zcGVjaWZpY2l0eSArPSAxO1xuICAgIGlmIChuYW1lICYmIG5zKSB7XG4gICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrTlNUYWdBY3Rpb24obnMsIG5hbWUudG9Mb3dlckNhc2UoKSkpO1xuICAgIH0gZWxzZSBpZiAobmFtZSkge1xuICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0xvY2FsTmFtZUFjdGlvbihuYW1lLnRvTG93ZXJDYXNlKCkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja05hbWVzcGFjZUFjdGlvbihucyBhcyBzdHJpbmcpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjbGFzc1NlbGVjdG9yKG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh0aGlzLnBzZXVkb2VsZW1lbnQpIHtcbiAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oYDo6JHt0aGlzLnBzZXVkb2VsZW1lbnR9YCwgYGZvbGxvd2VkIGJ5IC4ke25hbWV9YCk7XG4gICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKFwiXCIpKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc3BlY2lmaWNpdHkgKz0gMjU2O1xuICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tDbGFzc0FjdGlvbihuYW1lKSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwc2V1ZG9jbGFzc1NlbGVjdG9yKG5hbWU6IHN0cmluZywgcGFyYW1zOiAobnVtYmVyIHwgc3RyaW5nKVtdKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucHNldWRvZWxlbWVudCkge1xuICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihgOjoke3RoaXMucHNldWRvZWxlbWVudH1gLCBgZm9sbG93ZWQgYnkgOiR7bmFtZX1gKTtcbiAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIikpOyAvLyBhbHdheXMgZmFpbHNcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3dpdGNoIChuYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIGNhc2UgXCJlbmFibGVkXCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNFbmFibGVkQWN0aW9uKCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkaXNhYmxlZFwiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzRGlzYWJsZWRBY3Rpb24oKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImNoZWNrZWRcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc0NoZWNrZWRBY3Rpb24oKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJvb3RcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc1Jvb3RBY3Rpb24oKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImxpbmtcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0xvY2FsTmFtZUFjdGlvbihcImFcIikpO1xuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrQXR0cmlidXRlUHJlc2VudEFjdGlvbihcIlwiLCBcImhyZWZcIikpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCItYWRhcHQtaHJlZi1lcHViLXR5cGVcIjpcbiAgICAgIGNhc2UgXCJocmVmLWVwdWItdHlwZVwiOlxuICAgICAgICBpZiAocGFyYW1zICYmIHBhcmFtcy5sZW5ndGggPT0gMSAmJiB0eXBlb2YgcGFyYW1zWzBdID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcmFtc1swXSBhcyBzdHJpbmc7XG4gICAgICAgICAgY29uc3QgcGF0dCA9IG5ldyBSZWdFeHAoYChefHMpJHtCYXNlLmVzY2FwZVJlZ0V4cCh2YWx1ZSl9KFxcJHxzKWApO1xuICAgICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tUYXJnZXRFcHViVHlwZUFjdGlvbihwYXR0KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKSk7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIi1hZGFwdC1mb290bm90ZS1jb250ZW50XCI6XG4gICAgICBjYXNlIFwiZm9vdG5vdGUtY29udGVudFwiOlxuICAgICAgICAvLyBjb250ZW50IGluc2lkZSB0aGUgZm9vdG5vdGVcbiAgICAgICAgdGhpcy5mb290bm90ZUNvbnRlbnQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ2aXNpdGVkXCI6XG4gICAgICBjYXNlIFwiYWN0aXZlXCI6XG4gICAgICBjYXNlIFwiaG92ZXJcIjpcbiAgICAgIGNhc2UgXCJmb2N1c1wiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKFwiXCIpKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImxhbmdcIjpcbiAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMubGVuZ3RoID09IDEgJiYgdHlwZW9mIHBhcmFtc1swXSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgY29uc3QgbGFuZ1ZhbHVlID0gcGFyYW1zWzBdIGFzIHN0cmluZztcbiAgICAgICAgICB0aGlzLmNoYWluLnB1c2goXG4gICAgICAgICAgICBuZXcgQ2hlY2tMYW5nQWN0aW9uKFxuICAgICAgICAgICAgICBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgICAgIGBeJHtCYXNlLmVzY2FwZVJlZ0V4cChsYW5nVmFsdWUudG9Mb3dlckNhc2UoKSl9KFxcJHwtKWAsXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKSk7IC8vIGFsd2F5cyBmYWlzXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibnRoLWNoaWxkXCI6XG4gICAgICBjYXNlIFwibnRoLWxhc3QtY2hpbGRcIjpcbiAgICAgIGNhc2UgXCJudGgtb2YtdHlwZVwiOlxuICAgICAgY2FzZSBcIm50aC1sYXN0LW9mLXR5cGVcIjoge1xuICAgICAgICBjb25zdCBBY3Rpb25DbGFzcyA9IG50aFNlbGVjdG9yQWN0aW9uQ2xhc3Nlc1tuYW1lLnRvTG93ZXJDYXNlKCldO1xuICAgICAgICBpZiAocGFyYW1zICYmIHBhcmFtcy5sZW5ndGggPT0gMikge1xuICAgICAgICAgIHRoaXMuY2hhaW4ucHVzaChcbiAgICAgICAgICAgIG5ldyBBY3Rpb25DbGFzcyhwYXJhbXNbMF0gYXMgbnVtYmVyLCBwYXJhbXNbMV0gYXMgbnVtYmVyKSxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIikpOyAvLyBhbHdheXMgZmFpbHNcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJmaXJzdC1jaGlsZFwiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzRmlyc3RBY3Rpb24oKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImxhc3QtY2hpbGRcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc050aExhc3RTaWJsaW5nQWN0aW9uKDAsIDEpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZmlyc3Qtb2YtdHlwZVwiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzTnRoU2libGluZ09mVHlwZUFjdGlvbigwLCAxKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImxhc3Qtb2YtdHlwZVwiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzTnRoTGFzdFNpYmxpbmdPZlR5cGVBY3Rpb24oMCwgMSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJvbmx5LWNoaWxkXCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNGaXJzdEFjdGlvbigpKTtcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc050aExhc3RTaWJsaW5nQWN0aW9uKDAsIDEpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwib25seS1vZi10eXBlXCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNOdGhTaWJsaW5nT2ZUeXBlQWN0aW9uKDAsIDEpKTtcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc050aExhc3RTaWJsaW5nT2ZUeXBlQWN0aW9uKDAsIDEpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZW1wdHlcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc0VtcHR5QWN0aW9uKCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJiZWZvcmVcIjpcbiAgICAgIGNhc2UgXCJhZnRlclwiOlxuICAgICAgY2FzZSBcImZpcnN0LWxpbmVcIjpcbiAgICAgIGNhc2UgXCJmaXJzdC1sZXR0ZXJcIjpcbiAgICAgICAgdGhpcy5wc2V1ZG9lbGVtZW50U2VsZWN0b3IobmFtZSwgcGFyYW1zKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihgdW5rbm93biBwc2V1ZG8tY2xhc3Mgc2VsZWN0b3I6ICR7bmFtZX1gKTtcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKSk7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdGhpcy5zcGVjaWZpY2l0eSArPSAyNTY7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwc2V1ZG9lbGVtZW50U2VsZWN0b3IobmFtZTogc3RyaW5nLCBwYXJhbXM6IChudW1iZXIgfCBzdHJpbmcpW10pOiB2b2lkIHtcbiAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgIGNhc2UgXCJiZWZvcmVcIjpcbiAgICAgIGNhc2UgXCJhZnRlclwiOlxuICAgICAgY2FzZSBcImZpcnN0LWxpbmVcIjpcbiAgICAgIGNhc2UgXCJmaXJzdC1sZXR0ZXJcIjpcbiAgICAgIGNhc2UgXCJmb290bm90ZS1jYWxsXCI6XG4gICAgICBjYXNlIFwiZm9vdG5vdGUtbWFya2VyXCI6XG4gICAgICBjYXNlIFwiaW5uZXJcIjpcbiAgICAgIGNhc2UgXCJhZnRlci1pZi1jb250aW51ZXNcIjpcbiAgICAgICAgaWYgKCF0aGlzLnBzZXVkb2VsZW1lbnQpIHtcbiAgICAgICAgICB0aGlzLnBzZXVkb2VsZW1lbnQgPSBuYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXG4gICAgICAgICAgICBgRG91YmxlIHBzZXVkb2VsZW1lbnQgOjoke3RoaXMucHNldWRvZWxlbWVudH06OiR7bmFtZX1gLFxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKSk7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImZpcnN0LW4tbGluZXNcIjpcbiAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMubGVuZ3RoID09IDEgJiYgdHlwZW9mIHBhcmFtc1swXSA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgY29uc3QgbiA9IE1hdGgucm91bmQocGFyYW1zWzBdIGFzIG51bWJlcik7XG4gICAgICAgICAgaWYgKG4gPiAwICYmIG4gPT0gcGFyYW1zWzBdKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucHNldWRvZWxlbWVudCkge1xuICAgICAgICAgICAgICB0aGlzLnBzZXVkb2VsZW1lbnQgPSBgZmlyc3QtJHtufS1saW5lc2A7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFxuICAgICAgICAgICAgICAgIGBEb3VibGUgcHNldWRvZWxlbWVudCA6OiR7dGhpcy5wc2V1ZG9lbGVtZW50fTo6JHtuYW1lfWAsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIikpOyAvLyBhbHdheXMgZmFpbHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKFwiXCIpKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm50aC1mcmFnbWVudFwiOlxuICAgICAgICBpZiAocGFyYW1zICYmIHBhcmFtcy5sZW5ndGggPT0gMikge1xuICAgICAgICAgIHRoaXMudmlld0NvbmRpdGlvbklkID0gYE5GU18ke3BhcmFtc1swXX1fJHtwYXJhbXNbMV19YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKFwiXCIpKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKGBVbnJlY29nbml6ZWQgcHNldWRvZWxlbWVudDogOjoke25hbWV9YCk7XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIikpOyAvLyBhbHdheXMgZmFpbHNcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRoaXMuc3BlY2lmaWNpdHkgKz0gMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGlkU2VsZWN0b3IoaWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuc3BlY2lmaWNpdHkgKz0gNjU1MzY7XG4gICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0lkQWN0aW9uKGlkKSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhdHRyaWJ1dGVTZWxlY3RvcihcbiAgICBuczogc3RyaW5nLFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBvcDogQ3NzVG9rZW5pemVyLlRva2VuVHlwZSxcbiAgICB2YWx1ZTogc3RyaW5nIHwgbnVsbCxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5zcGVjaWZpY2l0eSArPSAyNTY7XG4gICAgbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB2YWx1ZSA9IHZhbHVlIHx8IFwiXCI7XG4gICAgbGV0IGFjdGlvbjtcbiAgICBzd2l0Y2ggKG9wKSB7XG4gICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuRU9GOlxuICAgICAgICBhY3Rpb24gPSBuZXcgQ2hlY2tBdHRyaWJ1dGVQcmVzZW50QWN0aW9uKG5zLCBuYW1lKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuRVE6XG4gICAgICAgIGFjdGlvbiA9IG5ldyBDaGVja0F0dHJpYnV0ZUVxQWN0aW9uKG5zLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlRJTERFX0VROlxuICAgICAgICBpZiAoIXZhbHVlIHx8IHZhbHVlLm1hdGNoKC9cXHMvKSkge1xuICAgICAgICAgIGFjdGlvbiA9IG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWN0aW9uID0gbmV3IENoZWNrQXR0cmlidXRlUmVnRXhwQWN0aW9uKFxuICAgICAgICAgICAgbnMsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgbmV3IFJlZ0V4cChgKF58XFxcXHMpJHtCYXNlLmVzY2FwZVJlZ0V4cCh2YWx1ZSl9KFxcJHxcXFxccylgKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBUl9FUTpcbiAgICAgICAgYWN0aW9uID0gbmV3IENoZWNrQXR0cmlidXRlUmVnRXhwQWN0aW9uKFxuICAgICAgICAgIG5zLFxuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgbmV3IFJlZ0V4cChgXiR7QmFzZS5lc2NhcGVSZWdFeHAodmFsdWUpfShcXCR8LSlgKSxcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSEFUX0VROlxuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgYWN0aW9uID0gbmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKFwiXCIpOyAvLyBhbHdheXMgZmFpbHNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhY3Rpb24gPSBuZXcgQ2hlY2tBdHRyaWJ1dGVSZWdFeHBBY3Rpb24oXG4gICAgICAgICAgICBucyxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBuZXcgUmVnRXhwKGBeJHtCYXNlLmVzY2FwZVJlZ0V4cCh2YWx1ZSl9YCksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5ET0xMQVJfRVE6XG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICBhY3Rpb24gPSBuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIik7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGlvbiA9IG5ldyBDaGVja0F0dHJpYnV0ZVJlZ0V4cEFjdGlvbihcbiAgICAgICAgICAgIG5zLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIG5ldyBSZWdFeHAoYCR7QmFzZS5lc2NhcGVSZWdFeHAodmFsdWUpfVxcJGApLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RBUl9FUTpcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgIGFjdGlvbiA9IG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWN0aW9uID0gbmV3IENoZWNrQXR0cmlidXRlUmVnRXhwQWN0aW9uKFxuICAgICAgICAgICAgbnMsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgbmV3IFJlZ0V4cChCYXNlLmVzY2FwZVJlZ0V4cCh2YWx1ZSkpLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MX0NPTDpcbiAgICAgICAgaWYgKHZhbHVlID09IFwic3VwcG9ydGVkXCIpIHtcbiAgICAgICAgICBhY3Rpb24gPSBuZXcgQ2hlY2tOYW1lc3BhY2VTdXBwb3J0ZWRBY3Rpb24obnMsIG5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJVbnN1cHBvcnRlZCA6OiBhdHRyIHNlbGVjdG9yIG9wOlwiLCB2YWx1ZSk7XG4gICAgICAgICAgYWN0aW9uID0gbmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKFwiXCIpOyAvLyBhbHdheXMgZmFpbHNcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJVbnN1cHBvcnRlZCBhdHRyIHNlbGVjdG9yOlwiLCBvcCk7XG4gICAgICAgIGFjdGlvbiA9IG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgfVxuICAgIHRoaXMuY2hhaW4ucHVzaChhY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZGVzY2VuZGFudFNlbGVjdG9yKCk6IHZvaWQge1xuICAgIGNvbnN0IGNvbmRpdGlvbiA9IGBkJHtjb25kaXRpb25Db3VudCsrfWA7XG4gICAgdGhpcy5wcm9jZXNzQ2hhaW4oXG4gICAgICBuZXcgQ29uZGl0aW9uSXRlbUFjdGlvbihcbiAgICAgICAgbmV3IERlc2NlbmRhbnRDb25kaXRpb25JdGVtKGNvbmRpdGlvbiwgdGhpcy52aWV3Q29uZGl0aW9uSWQsIG51bGwpLFxuICAgICAgKSxcbiAgICApO1xuICAgIHRoaXMuY2hhaW4gPSBbbmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKGNvbmRpdGlvbildO1xuICAgIHRoaXMudmlld0NvbmRpdGlvbklkID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNoaWxkU2VsZWN0b3IoKTogdm9pZCB7XG4gICAgY29uc3QgY29uZGl0aW9uID0gYGMke2NvbmRpdGlvbkNvdW50Kyt9YDtcbiAgICB0aGlzLnByb2Nlc3NDaGFpbihcbiAgICAgIG5ldyBDb25kaXRpb25JdGVtQWN0aW9uKFxuICAgICAgICBuZXcgQ2hpbGRDb25kaXRpb25JdGVtKGNvbmRpdGlvbiwgdGhpcy52aWV3Q29uZGl0aW9uSWQsIG51bGwpLFxuICAgICAgKSxcbiAgICApO1xuICAgIHRoaXMuY2hhaW4gPSBbbmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKGNvbmRpdGlvbildO1xuICAgIHRoaXMudmlld0NvbmRpdGlvbklkID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFkamFjZW50U2libGluZ1NlbGVjdG9yKCk6IHZvaWQge1xuICAgIGNvbnN0IGNvbmRpdGlvbiA9IGBhJHtjb25kaXRpb25Db3VudCsrfWA7XG4gICAgdGhpcy5wcm9jZXNzQ2hhaW4oXG4gICAgICBuZXcgQ29uZGl0aW9uSXRlbUFjdGlvbihcbiAgICAgICAgbmV3IEFkamFjZW50U2libGluZ0NvbmRpdGlvbkl0ZW0oY29uZGl0aW9uLCB0aGlzLnZpZXdDb25kaXRpb25JZCwgbnVsbCksXG4gICAgICApLFxuICAgICk7XG4gICAgdGhpcy5jaGFpbiA9IFtuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oY29uZGl0aW9uKV07XG4gICAgdGhpcy52aWV3Q29uZGl0aW9uSWQgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZm9sbG93aW5nU2libGluZ1NlbGVjdG9yKCk6IHZvaWQge1xuICAgIGNvbnN0IGNvbmRpdGlvbiA9IGBmJHtjb25kaXRpb25Db3VudCsrfWA7XG4gICAgdGhpcy5wcm9jZXNzQ2hhaW4oXG4gICAgICBuZXcgQ29uZGl0aW9uSXRlbUFjdGlvbihcbiAgICAgICAgbmV3IEZvbGxvd2luZ1NpYmxpbmdDb25kaXRpb25JdGVtKFxuICAgICAgICAgIGNvbmRpdGlvbixcbiAgICAgICAgICB0aGlzLnZpZXdDb25kaXRpb25JZCxcbiAgICAgICAgICBudWxsLFxuICAgICAgICApLFxuICAgICAgKSxcbiAgICApO1xuICAgIHRoaXMuY2hhaW4gPSBbbmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKGNvbmRpdGlvbildO1xuICAgIHRoaXMudmlld0NvbmRpdGlvbklkID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG5leHRTZWxlY3RvcigpOiB2b2lkIHtcbiAgICB0aGlzLmZpbmlzaENoYWluKCk7XG4gICAgdGhpcy5wc2V1ZG9lbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLmZvb3Rub3RlQ29udGVudCA9IGZhbHNlO1xuICAgIHRoaXMuc3BlY2lmaWNpdHkgPSAwO1xuICAgIHRoaXMuY2hhaW4gPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0U2VsZWN0b3JSdWxlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzSW5zaWRlU2VsZWN0b3JSdWxlKFwiRV9DU1NfVU5FWFBFQ1RFRF9TRUxFQ1RPUlwiKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlID0gUGFyc2VTdGF0ZS5TRUxFQ1RPUjtcbiAgICB0aGlzLmVsZW1lbnRTdHlsZSA9IHt9IGFzIEVsZW1lbnRTdHlsZTtcbiAgICB0aGlzLnBzZXVkb2VsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuc3BlY2lmaWNpdHkgPSAwO1xuICAgIHRoaXMuZm9vdG5vdGVDb250ZW50ID0gZmFsc2U7XG4gICAgdGhpcy5jaGFpbiA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXJyb3IobW5lbW9uaWNzOiBzdHJpbmcsIHRva2VuOiBDc3NUb2tlbml6ZXIuVG9rZW4pOiB2b2lkIHtcbiAgICBzdXBlci5lcnJvcihtbmVtb25pY3MsIHRva2VuKTtcbiAgICBpZiAodGhpcy5zdGF0ZSA9PSBQYXJzZVN0YXRlLlNFTEVDVE9SKSB7XG4gICAgICB0aGlzLnN0YXRlID0gUGFyc2VTdGF0ZS5UT1A7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRTdHlsZXNoZWV0KGZsYXZvcjogQ3NzUGFyc2VyLlN0eWxlc2hlZXRGbGF2b3IpOiB2b2lkIHtcbiAgICBzdXBlci5zdGFydFN0eWxlc2hlZXQoZmxhdm9yKTtcbiAgICB0aGlzLnN0YXRlID0gUGFyc2VTdGF0ZS5UT1A7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFJ1bGVCb2R5KCk6IHZvaWQge1xuICAgIHRoaXMuZmluaXNoQ2hhaW4oKTtcbiAgICBzdXBlci5zdGFydFJ1bGVCb2R5KCk7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT0gUGFyc2VTdGF0ZS5TRUxFQ1RPUikge1xuICAgICAgdGhpcy5zdGF0ZSA9IFBhcnNlU3RhdGUuVE9QO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVuZFJ1bGUoKTogdm9pZCB7XG4gICAgc3VwZXIuZW5kUnVsZSgpO1xuICAgIHRoaXMuaW5zaWRlU2VsZWN0b3JSdWxlID0gUGFyc2VTdGF0ZS5UT1A7XG4gIH1cblxuICBmaW5pc2hDaGFpbigpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jaGFpbikge1xuICAgICAgY29uc3Qgc3BlY2lmaWNpdHk6IG51bWJlciA9IHRoaXMuc3BlY2lmaWNpdHkgKyB0aGlzLmNhc2NhZGUubmV4dE9yZGVyKCk7XG4gICAgICB0aGlzLnByb2Nlc3NDaGFpbih0aGlzLm1ha2VBcHBseVJ1bGVBY3Rpb24oc3BlY2lmaWNpdHkpKTtcbiAgICAgIHRoaXMuY2hhaW4gPSBudWxsO1xuICAgICAgdGhpcy5wc2V1ZG9lbGVtZW50ID0gbnVsbDtcbiAgICAgIHRoaXMudmlld0NvbmRpdGlvbklkID0gbnVsbDtcbiAgICAgIHRoaXMuZm9vdG5vdGVDb250ZW50ID0gZmFsc2U7XG4gICAgICB0aGlzLnNwZWNpZmljaXR5ID0gMDtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgbWFrZUFwcGx5UnVsZUFjdGlvbihzcGVjaWZpY2l0eTogbnVtYmVyKTogQXBwbHlSdWxlQWN0aW9uIHtcbiAgICBsZXQgcmVnaW9uSWQgPSB0aGlzLnJlZ2lvbklkO1xuICAgIGlmICh0aGlzLmZvb3Rub3RlQ29udGVudCkge1xuICAgICAgaWYgKHJlZ2lvbklkKSB7XG4gICAgICAgIHJlZ2lvbklkID0gXCJ4eHgtYm9ndXMteHh4XCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWdpb25JZCA9IFwiZm9vdG5vdGVcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBBcHBseVJ1bGVBY3Rpb24oXG4gICAgICB0aGlzLmVsZW1lbnRTdHlsZSxcbiAgICAgIHNwZWNpZmljaXR5LFxuICAgICAgdGhpcy5wc2V1ZG9lbGVtZW50LFxuICAgICAgcmVnaW9uSWQsXG4gICAgICB0aGlzLnZpZXdDb25kaXRpb25JZCxcbiAgICApO1xuICB9XG5cbiAgc3BlY2lhbChuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsKSB7XG4gICAgbGV0IHZhbDogQ2FzY2FkZVZhbHVlO1xuICAgIGlmICghdGhpcy5jb25kaXRpb24pIHtcbiAgICAgIHZhbCA9IG5ldyBDYXNjYWRlVmFsdWUodmFsdWUsIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWwgPSBuZXcgQ29uZGl0aW9uYWxDYXNjYWRlVmFsdWUodmFsdWUsIDAsIHRoaXMuY29uZGl0aW9uKTtcbiAgICB9XG4gICAgY29uc3QgYXJyID0gZ2V0TXV0YWJsZVNwZWNpYWwodGhpcy5lbGVtZW50U3R5bGUsIG5hbWUpO1xuICAgIGFyci5wdXNoKHZhbCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLnZhbGlkYXRvclNldC52YWxpZGF0ZVByb3BlcnR5QW5kSGFuZGxlU2hvcnRoYW5kKFxuICAgICAgbmFtZSxcbiAgICAgIHZhbHVlLFxuICAgICAgaW1wb3J0YW50LFxuICAgICAgdGhpcyxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaW52YWxpZFByb3BlcnR5VmFsdWUobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0KGBFX0lOVkFMSURfUFJPUEVSVFlfVkFMVUUgJHtuYW1lfTogJHt2YWx1ZS50b1N0cmluZygpfWApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdW5rbm93blByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydChgRV9JTlZBTElEX1BST1BFUlRZICR7bmFtZX06ICR7dmFsdWUudG9TdHJpbmcoKX1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNpbXBsZVByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwsIGltcG9ydGFudCk6IHZvaWQge1xuICAgIGlmIChcbiAgICAgIG5hbWUgPT0gXCJkaXNwbGF5XCIgJiZcbiAgICAgICh2YWx1ZSA9PT0gQ3NzLmlkZW50Lm9lYl9wYWdlX2hlYWQgfHwgdmFsdWUgPT09IENzcy5pZGVudC5vZWJfcGFnZV9mb290KVxuICAgICkge1xuICAgICAgdGhpcy5zaW1wbGVQcm9wZXJ0eShcbiAgICAgICAgXCJmbG93LW9wdGlvbnNcIixcbiAgICAgICAgbmV3IENzcy5TcGFjZUxpc3QoW0Nzcy5pZGVudC5leGNsdXNpdmUsIENzcy5pZGVudC5fc3RhdGljXSksXG4gICAgICAgIGltcG9ydGFudCxcbiAgICAgICk7XG4gICAgICB0aGlzLnNpbXBsZVByb3BlcnR5KFwiZmxvdy1pbnRvXCIsIHZhbHVlLCBpbXBvcnRhbnQpO1xuICAgICAgdmFsdWUgPSBDc3MuaWRlbnQuYmxvY2s7XG4gICAgfVxuICAgIGNvbnN0IGhvb2tzID0gUGx1Z2luLmdldEhvb2tzRm9yTmFtZShcIlNJTVBMRV9QUk9QRVJUWVwiKTtcbiAgICBob29rcy5mb3JFYWNoKChob29rKSA9PiB7XG4gICAgICBjb25zdCBvcmlnaW5hbCA9IHsgbmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlLCBpbXBvcnRhbnQ6IGltcG9ydGFudCB9O1xuICAgICAgY29uc3QgY29udmVydGVkID0gaG9vayhvcmlnaW5hbCk7XG4gICAgICBuYW1lID0gY29udmVydGVkW1wibmFtZVwiXTtcbiAgICAgIHZhbHVlID0gY29udmVydGVkW1widmFsdWVcIl07XG4gICAgICBpbXBvcnRhbnQgPSBjb252ZXJ0ZWRbXCJpbXBvcnRhbnRcIl07XG4gICAgfSk7XG4gICAgY29uc3Qgc3BlY2lmaWNpdHkgPSBpbXBvcnRhbnRcbiAgICAgID8gdGhpcy5nZXRJbXBvcnRhbnRTcGVjaWZpY2l0eSgpXG4gICAgICA6IHRoaXMuZ2V0QmFzZVNwZWNpZmljaXR5KCk7XG4gICAgY29uc3QgY2FzY3ZhbCA9IHRoaXMuY29uZGl0aW9uXG4gICAgICA/IG5ldyBDb25kaXRpb25hbENhc2NhZGVWYWx1ZSh2YWx1ZSwgc3BlY2lmaWNpdHksIHRoaXMuY29uZGl0aW9uKVxuICAgICAgOiBuZXcgQ2FzY2FkZVZhbHVlKHZhbHVlLCBzcGVjaWZpY2l0eSk7XG4gICAgc2V0UHJvcCh0aGlzLmVsZW1lbnRTdHlsZSwgbmFtZSwgY2FzY3ZhbCk7XG4gIH1cblxuICBmaW5pc2goKTogQ2FzY2FkZSB7XG4gICAgcmV0dXJuIHRoaXMuY2FzY2FkZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0RnVuY1dpdGhTZWxlY3RvcihmdW5jTmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgc3dpdGNoIChmdW5jTmFtZSkge1xuICAgICAgY2FzZSBcIm5vdFwiOiB7XG4gICAgICAgIGNvbnN0IG5vdFBhcnNlckhhbmRsZXIgPSBuZXcgTm90UGFyYW1ldGVyUGFyc2VySGFuZGxlcih0aGlzKTtcbiAgICAgICAgbm90UGFyc2VySGFuZGxlci5zdGFydFNlbGVjdG9yUnVsZSgpO1xuICAgICAgICB0aGlzLm93bmVyLnB1c2hIYW5kbGVyKG5vdFBhcnNlckhhbmRsZXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBudGhTZWxlY3RvckFjdGlvbkNsYXNzZXM6IHsgW2tleTogc3RyaW5nXTogdHlwZW9mIElzTnRoQWN0aW9uIH0gPSB7XG4gIFwibnRoLWNoaWxkXCI6IElzTnRoU2libGluZ0FjdGlvbixcbiAgXCJudGgtb2YtdHlwZVwiOiBJc050aFNpYmxpbmdPZlR5cGVBY3Rpb24sXG4gIFwibnRoLWxhc3QtY2hpbGRcIjogSXNOdGhMYXN0U2libGluZ0FjdGlvbixcbiAgXCJudGgtbGFzdC1vZi10eXBlXCI6IElzTnRoTGFzdFNpYmxpbmdPZlR5cGVBY3Rpb24sXG59O1xuXG5leHBvcnQgbGV0IGNvbmRpdGlvbkNvdW50OiBudW1iZXIgPSAwO1xuXG5leHBvcnQgY2xhc3MgTm90UGFyYW1ldGVyUGFyc2VySGFuZGxlciBleHRlbmRzIENhc2NhZGVQYXJzZXJIYW5kbGVyIHtcbiAgcGFyZW50Q2hhaW46IENoYWluZWRBY3Rpb25bXTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgcGFyZW50OiBDYXNjYWRlUGFyc2VySGFuZGxlcikge1xuICAgIHN1cGVyKFxuICAgICAgcGFyZW50LnNjb3BlLFxuICAgICAgcGFyZW50Lm93bmVyLFxuICAgICAgcGFyZW50LmNvbmRpdGlvbixcbiAgICAgIHBhcmVudCxcbiAgICAgIHBhcmVudC5yZWdpb25JZCxcbiAgICAgIHBhcmVudC52YWxpZGF0b3JTZXQsXG4gICAgICBmYWxzZSxcbiAgICApO1xuICAgIHRoaXMucGFyZW50Q2hhaW4gPSBwYXJlbnQuY2hhaW47XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydEZ1bmNXaXRoU2VsZWN0b3IoZnVuY05hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmIChmdW5jTmFtZSA9PSBcIm5vdFwiKSB7XG4gICAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX05PVFwiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFJ1bGVCb2R5KCk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0QW5kU2tpcChcIkVfQ1NTX1VORVhQRUNURURfUlVMRV9CT0RZXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbmV4dFNlbGVjdG9yKCk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0QW5kU2tpcChcIkVfQ1NTX1VORVhQRUNURURfTkVYVF9TRUxFQ1RPUlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVuZEZ1bmNXaXRoU2VsZWN0b3IoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY2hhaW4gJiYgdGhpcy5jaGFpbi5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLnBhcmVudENoYWluLnB1c2gobmV3IE5lZ2F0ZUFjdGlvbnNTZXQodGhpcy5jaGFpbikpO1xuICAgIH1cbiAgICB0aGlzLnBhcmVudC5zcGVjaWZpY2l0eSArPSB0aGlzLnNwZWNpZmljaXR5O1xuICAgIHRoaXMub3duZXIucG9wSGFuZGxlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXJyb3IobW5lbW9uaWNzOiBzdHJpbmcsIHRva2VuOiBDc3NUb2tlbml6ZXIuVG9rZW4pOiB2b2lkIHtcbiAgICBzdXBlci5lcnJvcihtbmVtb25pY3MsIHRva2VuKTtcbiAgICB0aGlzLm93bmVyLnBvcEhhbmRsZXIoKTtcbiAgfVxufVxuXG4vKipcbiAqIEBvdmVycmlkZVxuICovXG5leHBvcnQgY2xhc3MgRGVmaW5lUGFyc2VySGFuZGxlciBleHRlbmRzIENzc1BhcnNlci5TbGF2ZVBhcnNlckhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIG93bmVyOiBDc3NQYXJzZXIuRGlzcGF0Y2hQYXJzZXJIYW5kbGVyLFxuICApIHtcbiAgICBzdXBlcihzY29wZSwgb3duZXIsIGZhbHNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwsIGltcG9ydGFudDogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmICh0aGlzLnNjb3BlLnZhbHVlc1tuYW1lXSkge1xuICAgICAgdGhpcy5lcnJvcihgRV9DU1NfTkFNRV9SRURFRklORUQgJHtuYW1lfWAsIHRoaXMuZ2V0Q3VycmVudFRva2VuKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB1bml0ID0gbmFtZS5tYXRjaCgvaGVpZ2h0fF4odG9wfGJvdHRvbSkkLykgPyBcInZoXCIgOiBcInZ3XCI7XG4gICAgICBjb25zdCBkaW0gPSBuZXcgRXhwcnMuTnVtZXJpYyh0aGlzLnNjb3BlLCAxMDAsIHVuaXQpO1xuICAgICAgdGhpcy5zY29wZS5kZWZpbmVOYW1lKG5hbWUsIHZhbHVlLnRvRXhwcih0aGlzLnNjb3BlLCBkaW0pKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb3BTZXRQYXJzZXJIYW5kbGVyIGV4dGVuZHMgQ3NzUGFyc2VyLlNsYXZlUGFyc2VySGFuZGxlclxuICBpbXBsZW1lbnRzIENzc1ZhbGlkYXRvci5Qcm9wZXJ0eVJlY2VpdmVyIHtcbiAgb3JkZXI6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIG93bmVyOiBDc3NQYXJzZXIuRGlzcGF0Y2hQYXJzZXJIYW5kbGVyLFxuICAgIHB1YmxpYyByZWFkb25seSBjb25kaXRpb246IEV4cHJzLlZhbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZWxlbWVudFN0eWxlOiBFbGVtZW50U3R5bGUsXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbGlkYXRvclNldDogQ3NzVmFsaWRhdG9yLlZhbGlkYXRvclNldCxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG93bmVyLCBmYWxzZSk7XG4gICAgdGhpcy5vcmRlciA9IDA7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAoaW1wb3J0YW50KSB7XG4gICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiRV9JTVBPUlRBTlRfTk9UX0FMTE9XRURcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudmFsaWRhdG9yU2V0LnZhbGlkYXRlUHJvcGVydHlBbmRIYW5kbGVTaG9ydGhhbmQoXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBpbXBvcnRhbnQsXG4gICAgICAgIHRoaXMsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGludmFsaWRQcm9wZXJ0eVZhbHVlKG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkIHtcbiAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFxuICAgICAgXCJFX0lOVkFMSURfUFJPUEVSVFlfVkFMVUVcIixcbiAgICAgIGAke25hbWV9OmAsXG4gICAgICB2YWx1ZS50b1N0cmluZygpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB1bmtub3duUHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCk6IHZvaWQge1xuICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJFX0lOVkFMSURfUFJPUEVSVFlcIiwgYCR7bmFtZX06YCwgdmFsdWUudG9TdHJpbmcoKSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzaW1wbGVQcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQpOiB2b2lkIHtcbiAgICBsZXQgc3BlY2lmaWNpdHkgPSBpbXBvcnRhbnRcbiAgICAgID8gdGhpcy5nZXRJbXBvcnRhbnRTcGVjaWZpY2l0eSgpXG4gICAgICA6IHRoaXMuZ2V0QmFzZVNwZWNpZmljaXR5KCk7XG4gICAgc3BlY2lmaWNpdHkgKz0gdGhpcy5vcmRlcjtcbiAgICB0aGlzLm9yZGVyICs9IE9SREVSX0lOQ1JFTUVOVDtcbiAgICBjb25zdCBhdiA9IHRoaXMuY29uZGl0aW9uXG4gICAgICA/IG5ldyBDb25kaXRpb25hbENhc2NhZGVWYWx1ZSh2YWx1ZSwgc3BlY2lmaWNpdHksIHRoaXMuY29uZGl0aW9uKVxuICAgICAgOiBuZXcgQ2FzY2FkZVZhbHVlKHZhbHVlLCBzcGVjaWZpY2l0eSk7XG4gICAgc2V0UHJvcCh0aGlzLmVsZW1lbnRTdHlsZSwgbmFtZSwgYXYpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eVBhcnNlckhhbmRsZXIgZXh0ZW5kcyBDc3NQYXJzZXIuRXJyb3JIYW5kbGVyXG4gIGltcGxlbWVudHMgQ3NzVmFsaWRhdG9yLlByb3BlcnR5UmVjZWl2ZXIge1xuICBlbGVtZW50U3R5bGUgPSB7fSBhcyBFbGVtZW50U3R5bGU7XG4gIG9yZGVyOiBudW1iZXIgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbGlkYXRvclNldDogQ3NzVmFsaWRhdG9yLlZhbGlkYXRvclNldCxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50OiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy52YWxpZGF0b3JTZXQudmFsaWRhdGVQcm9wZXJ0eUFuZEhhbmRsZVNob3J0aGFuZChcbiAgICAgIG5hbWUsXG4gICAgICB2YWx1ZSxcbiAgICAgIGltcG9ydGFudCxcbiAgICAgIHRoaXMsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGludmFsaWRQcm9wZXJ0eVZhbHVlKG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkIHtcbiAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFxuICAgICAgXCJFX0lOVkFMSURfUFJPUEVSVFlfVkFMVUVcIixcbiAgICAgIGAke25hbWV9OmAsXG4gICAgICB2YWx1ZS50b1N0cmluZygpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB1bmtub3duUHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCk6IHZvaWQge1xuICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJFX0lOVkFMSURfUFJPUEVSVFlcIiwgYCR7bmFtZX06YCwgdmFsdWUudG9TdHJpbmcoKSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzaW1wbGVQcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQpOiB2b2lkIHtcbiAgICBsZXQgc3BlY2lmaWNpdHkgPSBpbXBvcnRhbnRcbiAgICAgID8gQ3NzUGFyc2VyLlNQRUNJRklDSVRZX1NUWUxFX0lNUE9SVEFOVFxuICAgICAgOiBDc3NQYXJzZXIuU1BFQ0lGSUNJVFlfU1RZTEU7XG4gICAgc3BlY2lmaWNpdHkgKz0gdGhpcy5vcmRlcjtcbiAgICB0aGlzLm9yZGVyICs9IE9SREVSX0lOQ1JFTUVOVDtcbiAgICBjb25zdCBjYXNjdmFsID0gbmV3IENhc2NhZGVWYWx1ZSh2YWx1ZSwgc3BlY2lmaWNpdHkpO1xuICAgIHNldFByb3AodGhpcy5lbGVtZW50U3R5bGUsIG5hbWUsIGNhc2N2YWwpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoVmlld0NvbmRpdGlvbmFsU3R5bGVzKFxuICBzdHlsZTogRWxlbWVudFN0eWxlLFxuICBjYWxsYmFjazogKHAxOiBFbGVtZW50U3R5bGUpID0+IGFueSxcbik6IHZvaWQge1xuICBjb25zdCB2aWV3Q29uZGl0aW9uYWxTdHlsZXMgPSBnZXRWaWV3Q29uZGl0aW9uYWxTdHlsZU1hcChzdHlsZSk7XG4gIGlmICghdmlld0NvbmRpdGlvbmFsU3R5bGVzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZpZXdDb25kaXRpb25hbFN0eWxlcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgIGlmICghZW50cnkubWF0Y2hlci5tYXRjaGVzKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2FsbGJhY2soZW50cnkuc3R5bGVzKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZVZpZXdDb25kaXRpb25hbFN0eWxlcyhcbiAgY2FzY01hcDogeyBba2V5OiBzdHJpbmddOiBDYXNjYWRlVmFsdWUgfSxcbiAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbik6IHZvaWQge1xuICBmb3JFYWNoVmlld0NvbmRpdGlvbmFsU3R5bGVzKHN0eWxlLCAodmlld0NvbmRpdGlvbmFsU3R5bGVzKSA9PiB7XG4gICAgbWVyZ2VTdHlsZShjYXNjTWFwLCB2aWV3Q29uZGl0aW9uYWxTdHlsZXMsIGNvbnRleHQpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU3R5bGVBdHRyaWJ1dGUoXG4gIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gIHZhbGlkYXRvclNldDogQ3NzVmFsaWRhdG9yLlZhbGlkYXRvclNldCxcbiAgYmFzZVVSTDogc3RyaW5nLFxuICBzdHlsZUF0dHJWYWx1ZTogc3RyaW5nLFxuKTogRWxlbWVudFN0eWxlIHtcbiAgY29uc3QgaGFuZGxlciA9IG5ldyBQcm9wZXJ0eVBhcnNlckhhbmRsZXIoc2NvcGUsIHZhbGlkYXRvclNldCk7XG4gIGNvbnN0IHRva2VuaXplciA9IG5ldyBDc3NUb2tlbml6ZXIuVG9rZW5pemVyKHN0eWxlQXR0clZhbHVlLCBoYW5kbGVyKTtcbiAgdHJ5IHtcbiAgICBDc3NQYXJzZXIucGFyc2VTdHlsZUF0dHJpYnV0ZSh0b2tlbml6ZXIsIGhhbmRsZXIsIGJhc2VVUkwpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnaW5nLmxvZ2dlci53YXJuKGVyciwgXCJTdHlsZSBhdHRyaWJ1dGUgcGFyc2UgZXJyb3I6XCIpO1xuICB9XG4gIHJldHVybiBoYW5kbGVyLmVsZW1lbnRTdHlsZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmVydGljYWwoXG4gIGNhc2NhZGVkOiB7IFtrZXk6IHN0cmluZ106IENhc2NhZGVWYWx1ZSB9LFxuICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICB2ZXJ0aWNhbDogYm9vbGVhbixcbik6IGJvb2xlYW4ge1xuICBjb25zdCB3cml0aW5nTW9kZUNhc2MgPSBjYXNjYWRlZFtcIndyaXRpbmctbW9kZVwiXTtcbiAgaWYgKHdyaXRpbmdNb2RlQ2FzYykge1xuICAgIGNvbnN0IHdyaXRpbmdNb2RlID0gd3JpdGluZ01vZGVDYXNjLmV2YWx1YXRlKGNvbnRleHQsIFwid3JpdGluZy1tb2RlXCIpO1xuICAgIGlmICh3cml0aW5nTW9kZSAmJiB3cml0aW5nTW9kZSAhPT0gQ3NzLmlkZW50LmluaGVyaXQpIHtcbiAgICAgIHJldHVybiB3cml0aW5nTW9kZSA9PT0gQ3NzLmlkZW50LnZlcnRpY2FsX3JsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmVydGljYWw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1J0bChcbiAgY2FzY2FkZWQ6IHsgW2tleTogc3RyaW5nXTogQ2FzY2FkZVZhbHVlIH0sXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gIHJ0bDogYm9vbGVhbixcbik6IGJvb2xlYW4ge1xuICBjb25zdCBkaXJlY3Rpb25DYXNjID0gY2FzY2FkZWRbXCJkaXJlY3Rpb25cIl07XG4gIGlmIChkaXJlY3Rpb25DYXNjKSB7XG4gICAgY29uc3QgZGlyZWN0aW9uID0gZGlyZWN0aW9uQ2FzYy5ldmFsdWF0ZShjb250ZXh0LCBcImRpcmVjdGlvblwiKTtcbiAgICBpZiAoZGlyZWN0aW9uICYmIGRpcmVjdGlvbiAhPT0gQ3NzLmlkZW50LmluaGVyaXQpIHtcbiAgICAgIHJldHVybiBkaXJlY3Rpb24gPT09IENzcy5pZGVudC5ydGw7XG4gICAgfVxuICB9XG4gIHJldHVybiBydGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuQ2FzY2FkZWRTdHlsZShcbiAgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgcmVnaW9uSWRzOiBzdHJpbmdbXSxcbiAgaXNGb290bm90ZTogYm9vbGVhbixcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuKTogeyBba2V5OiBzdHJpbmddOiBDYXNjYWRlVmFsdWUgfSB7XG4gIGNvbnN0IGNhc2NNYXAgPSB7fSBhcyB7IFtrZXk6IHN0cmluZ106IENhc2NhZGVWYWx1ZSB9O1xuICBmb3IgKGNvbnN0IG4gaW4gc3R5bGUpIHtcbiAgICBpZiAoaXNQcm9wTmFtZShuKSkge1xuICAgICAgY2FzY01hcFtuXSA9IGdldFByb3Aoc3R5bGUsIG4pO1xuICAgIH1cbiAgfVxuICBtZXJnZVZpZXdDb25kaXRpb25hbFN0eWxlcyhjYXNjTWFwLCBjb250ZXh0LCBzdHlsZSk7XG4gIGZvckVhY2hTdHlsZXNJblJlZ2lvbihcbiAgICBzdHlsZSxcbiAgICByZWdpb25JZHMsXG4gICAgaXNGb290bm90ZSxcbiAgICAocmVnaW9uSWQsIHJlZ2lvblN0eWxlKSA9PiB7XG4gICAgICBtZXJnZVN0eWxlKGNhc2NNYXAsIHJlZ2lvblN0eWxlLCBjb250ZXh0KTtcbiAgICAgIG1lcmdlVmlld0NvbmRpdGlvbmFsU3R5bGVzKGNhc2NNYXAsIGNvbnRleHQsIHJlZ2lvblN0eWxlKTtcbiAgICB9LFxuICApO1xuICByZXR1cm4gY2FzY01hcDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2hTdHlsZXNJblJlZ2lvbihcbiAgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgcmVnaW9uSWRzOiBzdHJpbmdbXSxcbiAgaXNGb290bm90ZTogYm9vbGVhbixcbiAgY2FsbGJhY2s6IChwMTogc3RyaW5nLCBwMjogRWxlbWVudFN0eWxlKSA9PiBhbnksXG4pOiB2b2lkIHtcbiAgY29uc3QgcmVnaW9ucyA9IGdldFN0eWxlTWFwKHN0eWxlLCBcIl9yZWdpb25zXCIpO1xuICBpZiAoKHJlZ2lvbklkcyB8fCBpc0Zvb3Rub3RlKSAmJiByZWdpb25zKSB7XG4gICAgaWYgKGlzRm9vdG5vdGUpIHtcbiAgICAgIGNvbnN0IGZvb3Rub3RlUmVnaW9uID0gW1wiZm9vdG5vdGVcIl07XG4gICAgICBpZiAoIXJlZ2lvbklkcykge1xuICAgICAgICByZWdpb25JZHMgPSBmb290bm90ZVJlZ2lvbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlZ2lvbklkcyA9IHJlZ2lvbklkcy5jb25jYXQoZm9vdG5vdGVSZWdpb24pO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IHJlZ2lvbklkIG9mIHJlZ2lvbklkcykge1xuICAgICAgY29uc3QgcmVnaW9uU3R5bGUgPSByZWdpb25zW3JlZ2lvbklkXTtcbiAgICAgIGlmIChyZWdpb25TdHlsZSkge1xuICAgICAgICBjYWxsYmFjayhyZWdpb25JZCwgcmVnaW9uU3R5bGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VTdHlsZShcbiAgdG86IHsgW2tleTogc3RyaW5nXTogQ2FzY2FkZVZhbHVlIH0sXG4gIGZyb206IEVsZW1lbnRTdHlsZSxcbiAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbik6IHZvaWQge1xuICBmb3IgKGNvbnN0IHByb3BlcnR5IGluIGZyb20pIHtcbiAgICBpZiAoaXNQcm9wTmFtZShwcm9wZXJ0eSkpIHtcbiAgICAgIGNvbnN0IG5ld1ZhbCA9IGdldFByb3AoZnJvbSwgcHJvcGVydHkpO1xuICAgICAgY29uc3Qgb2xkVmFsID0gdG9bcHJvcGVydHldO1xuICAgICAgdG9bcHJvcGVydHldID0gY2FzY2FkZVZhbHVlcyhjb250ZXh0LCBvbGRWYWwsIG5ld1ZhbCBhcyBDYXNjYWRlVmFsdWUpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIENvbnZlcnQgbG9naWNhbCBwcm9wZXJ0aWVzIHRvIHBoeXNpY2FsIG9uZXMsIHRha2luZyBzcGVjaWZpY2l0eSBpbnRvIGFjY291bnQuXG4gKiBAcGFyYW0gc3JjIFNvdXJjZSBwcm9wZXJ0aWVzIG1hcFxuICogQHBhcmFtIGRlc3QgRGVzdGluYXRpb24gbWFwXG4gKiBAcGFyYW0gdHJhbnNmb3JtIElmIHN1cHBsaWVkLCBwcm9wZXJ0eSB2YWx1ZXMgYXJlIHRyYW5zZm9ybWVkIGJ5IHRoaXNcbiAqICAgICBmdW5jdGlvbiBiZWZvcmUgaW5zZXJ0ZWQgaW50byB0aGUgZGVzdGluYXRpb24gbWFwLiBUaGUgZmlyc3QgcGFyYW1ldGVyIGlzXG4gKiAgICAgdGhlIHByb3BlcnR5IG5hbWUgYW5kIHRoZSBzZWNvbmQgb25lIGlzIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBjb25zdCBjb252ZXJ0VG9QaHlzaWNhbCA9IDxUPihcbiAgc3JjOiB7IFtrZXk6IHN0cmluZ106IENhc2NhZGVWYWx1ZSB9LFxuICBkZXN0OiB7IFtrZXk6IHN0cmluZ106IFQgfSxcbiAgdmVydGljYWw6IGJvb2xlYW4sXG4gIHJ0bDogYm9vbGVhbixcbiAgdHJhbnNmb3JtOiAocDE6IHN0cmluZywgcDI6IENhc2NhZGVWYWx1ZSkgPT4gVCxcbikgPT4ge1xuICBjb25zdCBjb3VwbGluZ01hcCA9IHZlcnRpY2FsXG4gICAgPyBydGxcbiAgICAgID8gY291cGxpbmdNYXBWZXJ0UnRsXG4gICAgICA6IGNvdXBsaW5nTWFwVmVydFxuICAgIDogcnRsXG4gICAgPyBjb3VwbGluZ01hcEhvclJ0bFxuICAgIDogY291cGxpbmdNYXBIb3I7XG4gIGZvciAoY29uc3QgcHJvcE5hbWUgaW4gc3JjKSB7XG4gICAgaWYgKHNyYy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgIGNvbnN0IGNhc2NWYWwgPSBzcmNbcHJvcE5hbWVdO1xuICAgICAgaWYgKCFjYXNjVmFsKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgY291cGxlZE5hbWUgPSBjb3VwbGluZ01hcFtwcm9wTmFtZV07XG4gICAgICBsZXQgdGFyZ2V0TmFtZTogc3RyaW5nO1xuICAgICAgaWYgKGNvdXBsZWROYW1lKSB7XG4gICAgICAgIGNvbnN0IGNvdXBsZWRDYXNjVmFsID0gc3JjW2NvdXBsZWROYW1lXTtcbiAgICAgICAgaWYgKGNvdXBsZWRDYXNjVmFsICYmIGNvdXBsZWRDYXNjVmFsLnByaW9yaXR5ID4gY2FzY1ZhbC5wcmlvcml0eSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHRhcmdldE5hbWUgPSBnZW9tTmFtZXNbY291cGxlZE5hbWVdID8gY291cGxlZE5hbWUgOiBwcm9wTmFtZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldE5hbWUgPSBwcm9wTmFtZTtcbiAgICAgIH1cbiAgICAgIGRlc3RbdGFyZ2V0TmFtZV0gPSB0cmFuc2Zvcm0ocHJvcE5hbWUsIGNhc2NWYWwpO1xuICAgIH1cbiAgfVxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENzc0xvZ2ljYWxVdGlsIC0gVXRpbGl0aWVzIHJlbGF0ZWQgdG8gQ1NTIExvZ2ljYWwgUHJvcGVydGllcyBhbmQgVmFsdWVzIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtbG9naWNhbC9cbiAqL1xudHlwZSBDb252ZXJzaW9uTWFwID0ge1xuICByZWdleHA6IFJlZ0V4cDtcbiAgdG86IHN0cmluZztcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZVJlZ0V4cE1hcChcbiAgdmFsdWVNYXBzOiB7XG4gICAgW2tleTogc3RyaW5nXTogeyBba2V5OiBzdHJpbmddOiB7IGxvZ2ljYWw6IHN0cmluZzsgcGh5c2ljYWw6IHN0cmluZyB9W10gfTtcbiAgfSxcbiAgdG9QaHlzaWNhbDogYm9vbGVhbixcbik6IHsgW2tleTogc3RyaW5nXTogeyBba2V5OiBzdHJpbmddOiBDb252ZXJzaW9uTWFwW10gfSB9IHtcbiAgY29uc3QgbWFwID0ge307XG4gIE9iamVjdC5rZXlzKHZhbHVlTWFwcyBhcyBvYmplY3QpLmZvckVhY2goKHdyaXRpbmdNb2RlKSA9PiB7XG4gICAgY29uc3QgZGVzdCA9IChtYXBbd3JpdGluZ01vZGVdID0ge30pO1xuICAgIGNvbnN0IHNyYyA9IHZhbHVlTWFwc1t3cml0aW5nTW9kZV07XG4gICAgT2JqZWN0LmtleXMoc3JjIGFzIG9iamVjdCkuZm9yRWFjaCgoZGlyZWN0aW9uKSA9PiB7XG4gICAgICBkZXN0W2RpcmVjdGlvbl0gPSBzcmNbZGlyZWN0aW9uXS5tYXAoKHApID0+IHtcbiAgICAgICAgY29uc3QgZnJvbSA9IHRvUGh5c2ljYWwgPyBwLmxvZ2ljYWwgOiBwLnBoeXNpY2FsO1xuICAgICAgICBjb25zdCB0byA9IHRvUGh5c2ljYWwgPyBwLnBoeXNpY2FsIDogcC5sb2dpY2FsO1xuICAgICAgICByZXR1cm4geyByZWdleHA6IG5ldyBSZWdFeHAoYCgtPykke2Zyb219KC0/KWApLCB0bzogYFxcJDEke3RvfVxcJDJgIH07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBtYXA7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnQoXG4gIHZhbHVlOiBzdHJpbmcsXG4gIHdyaXRpbmdNb2RlOiBzdHJpbmcsXG4gIGRpcmVjdGlvbjogc3RyaW5nIHwgbnVsbCxcbiAgbWFwczogeyBba2V5OiBzdHJpbmddOiB7IFtrZXk6IHN0cmluZ106IENvbnZlcnNpb25NYXBbXSB9IH0sXG4pOiBzdHJpbmcge1xuICBjb25zdCBtYXBzMiA9IG1hcHNbd3JpdGluZ01vZGVdO1xuICBpZiAoIW1hcHMyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIHdyaXRpbmctbW9kZTogJHt3cml0aW5nTW9kZX1gKTtcbiAgfVxuICBjb25zdCBtYXAgPSBtYXBzMltkaXJlY3Rpb24gfHwgXCJsdHJcIl07XG4gIGlmICghbWFwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIGRpcmVjdGlvbjogJHtkaXJlY3Rpb259YCk7XG4gIH1cbiAgZm9yIChjb25zdCBwIG9mIG1hcCkge1xuICAgIGNvbnN0IHJlcGxhY2VkID0gdmFsdWUucmVwbGFjZShwLnJlZ2V4cCwgcC50byk7XG4gICAgaWYgKHJlcGxhY2VkICE9PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHJlcGxhY2VkO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5jb25zdCB2YWx1ZXM6IHtcbiAgW2tleTogc3RyaW5nXTogeyBba2V5OiBzdHJpbmddOiB7IGxvZ2ljYWw6IHN0cmluZzsgcGh5c2ljYWw6IHN0cmluZyB9W10gfTtcbn0gPSB7XG4gIFwiaG9yaXpvbnRhbC10YlwiOiB7XG4gICAgbHRyOiBbXG4gICAgICB7IGxvZ2ljYWw6IFwiaW5saW5lLXN0YXJ0XCIsIHBoeXNpY2FsOiBcImxlZnRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1lbmRcIiwgcGh5c2ljYWw6IFwicmlnaHRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImJsb2NrLXN0YXJ0XCIsIHBoeXNpY2FsOiBcInRvcFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stZW5kXCIsIHBoeXNpY2FsOiBcImJvdHRvbVwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiaW5saW5lLXNpemVcIiwgcGh5c2ljYWw6IFwid2lkdGhcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImJsb2NrLXNpemVcIiwgcGh5c2ljYWw6IFwiaGVpZ2h0XCIgfSxcbiAgICBdLFxuICAgIHJ0bDogW1xuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zdGFydFwiLCBwaHlzaWNhbDogXCJyaWdodFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiaW5saW5lLWVuZFwiLCBwaHlzaWNhbDogXCJsZWZ0XCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1zdGFydFwiLCBwaHlzaWNhbDogXCJ0b3BcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImJsb2NrLWVuZFwiLCBwaHlzaWNhbDogXCJib3R0b21cIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zaXplXCIsIHBoeXNpY2FsOiBcIndpZHRoXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1zaXplXCIsIHBoeXNpY2FsOiBcImhlaWdodFwiIH0sXG4gICAgXSxcbiAgfSxcbiAgXCJ2ZXJ0aWNhbC1ybFwiOiB7XG4gICAgbHRyOiBbXG4gICAgICB7IGxvZ2ljYWw6IFwiaW5saW5lLXN0YXJ0XCIsIHBoeXNpY2FsOiBcInRvcFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiaW5saW5lLWVuZFwiLCBwaHlzaWNhbDogXCJib3R0b21cIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImJsb2NrLXN0YXJ0XCIsIHBoeXNpY2FsOiBcInJpZ2h0XCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1lbmRcIiwgcGh5c2ljYWw6IFwibGVmdFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiaW5saW5lLXNpemVcIiwgcGh5c2ljYWw6IFwiaGVpZ2h0XCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1zaXplXCIsIHBoeXNpY2FsOiBcIndpZHRoXCIgfSxcbiAgICBdLFxuICAgIHJ0bDogW1xuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zdGFydFwiLCBwaHlzaWNhbDogXCJib3R0b21cIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1lbmRcIiwgcGh5c2ljYWw6IFwidG9wXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1zdGFydFwiLCBwaHlzaWNhbDogXCJyaWdodFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stZW5kXCIsIHBoeXNpY2FsOiBcImxlZnRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zaXplXCIsIHBoeXNpY2FsOiBcImhlaWdodFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stc2l6ZVwiLCBwaHlzaWNhbDogXCJ3aWR0aFwiIH0sXG4gICAgXSxcbiAgfSxcbiAgXCJ2ZXJ0aWNhbC1sclwiOiB7XG4gICAgbHRyOiBbXG4gICAgICB7IGxvZ2ljYWw6IFwiaW5saW5lLXN0YXJ0XCIsIHBoeXNpY2FsOiBcInRvcFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiaW5saW5lLWVuZFwiLCBwaHlzaWNhbDogXCJib3R0b21cIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImJsb2NrLXN0YXJ0XCIsIHBoeXNpY2FsOiBcImxlZnRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImJsb2NrLWVuZFwiLCBwaHlzaWNhbDogXCJyaWdodFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiaW5saW5lLXNpemVcIiwgcGh5c2ljYWw6IFwiaGVpZ2h0XCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1zaXplXCIsIHBoeXNpY2FsOiBcIndpZHRoXCIgfSxcbiAgICBdLFxuICAgIHJ0bDogW1xuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zdGFydFwiLCBwaHlzaWNhbDogXCJib3R0b21cIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1lbmRcIiwgcGh5c2ljYWw6IFwidG9wXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1zdGFydFwiLCBwaHlzaWNhbDogXCJsZWZ0XCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1lbmRcIiwgcGh5c2ljYWw6IFwicmlnaHRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zaXplXCIsIHBoeXNpY2FsOiBcImhlaWdodFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stc2l6ZVwiLCBwaHlzaWNhbDogXCJ3aWR0aFwiIH0sXG4gICAgXSxcbiAgfSxcbn07XG5jb25zdCB0b1BoeXNpY2FsTWFwcyA9IGNyZWF0ZVJlZ0V4cE1hcCh2YWx1ZXMsIHRydWUpO1xuXG5leHBvcnQgZnVuY3Rpb24gdG9QaHlzaWNhbChcbiAgdmFsdWU6IHN0cmluZyxcbiAgd3JpdGluZ01vZGU6IHN0cmluZyxcbiAgZGlyZWN0aW9uPzogc3RyaW5nIHwgbnVsbCxcbik6IHN0cmluZyB7XG4gIHJldHVybiBjb252ZXJ0KHZhbHVlLCB3cml0aW5nTW9kZSwgZGlyZWN0aW9uIHx8IG51bGwsIHRvUGh5c2ljYWxNYXBzKTtcbn1cbmNvbnN0IHRvTG9naWNhbE1hcHMgPSBjcmVhdGVSZWdFeHBNYXAodmFsdWVzLCBmYWxzZSk7XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0xvZ2ljYWwoXG4gIHZhbHVlOiBzdHJpbmcsXG4gIHdyaXRpbmdNb2RlOiBzdHJpbmcsXG4gIGRpcmVjdGlvbj86IHN0cmluZyB8IG51bGwsXG4pOiBzdHJpbmcge1xuICByZXR1cm4gY29udmVydCh2YWx1ZSwgd3JpdGluZ01vZGUsIGRpcmVjdGlvbiB8fCBudWxsLCB0b0xvZ2ljYWxNYXBzKTtcbn1cbmNvbnN0IGxpbmVSZWxhdGl2ZVZhbHVlczoge1xuICBba2V5OiBzdHJpbmddOiB7IGxvZ2ljYWw6IHN0cmluZzsgcGh5c2ljYWw6IHN0cmluZyB9W107XG59ID0ge1xuICBcImhvcml6b250YWwtdGJcIjogW1xuICAgIHsgbG9naWNhbDogXCJsaW5lLWxlZnRcIiwgcGh5c2ljYWw6IFwibGVmdFwiIH0sXG4gICAgeyBsb2dpY2FsOiBcImxpbmUtcmlnaHRcIiwgcGh5c2ljYWw6IFwicmlnaHRcIiB9LFxuICAgIHsgbG9naWNhbDogXCJvdmVyXCIsIHBoeXNpY2FsOiBcInRvcFwiIH0sXG4gICAgeyBsb2dpY2FsOiBcInVuZGVyXCIsIHBoeXNpY2FsOiBcImJvdHRvbVwiIH0sXG4gIF0sXG4gIFwidmVydGljYWwtcmxcIjogW1xuICAgIHsgbG9naWNhbDogXCJsaW5lLWxlZnRcIiwgcGh5c2ljYWw6IFwidG9wXCIgfSxcbiAgICB7IGxvZ2ljYWw6IFwibGluZS1yaWdodFwiLCBwaHlzaWNhbDogXCJib3R0b21cIiB9LFxuICAgIHsgbG9naWNhbDogXCJvdmVyXCIsIHBoeXNpY2FsOiBcInJpZ2h0XCIgfSxcbiAgICB7IGxvZ2ljYWw6IFwidW5kZXJcIiwgcGh5c2ljYWw6IFwibGVmdFwiIH0sXG4gIF0sXG4gIFwidmVydGljYWwtbHJcIjogW1xuICAgIHsgbG9naWNhbDogXCJsaW5lLWxlZnRcIiwgcGh5c2ljYWw6IFwidG9wXCIgfSxcbiAgICB7IGxvZ2ljYWw6IFwibGluZS1yaWdodFwiLCBwaHlzaWNhbDogXCJib3R0b21cIiB9LFxuICAgIHsgbG9naWNhbDogXCJvdmVyXCIsIHBoeXNpY2FsOiBcInJpZ2h0XCIgfSxcbiAgICB7IGxvZ2ljYWw6IFwidW5kZXJcIiwgcGh5c2ljYWw6IFwibGVmdFwiIH0sXG4gIF0sXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdG9MaW5lUmVsYXRpdmUodmFsdWU6IHN0cmluZywgd3JpdGluZ01vZGU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IG1hcHMgPSBsaW5lUmVsYXRpdmVWYWx1ZXNbd3JpdGluZ01vZGVdO1xuICBpZiAoIW1hcHMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYHVua25vd24gd3JpdGluZy1tb2RlOiAke3dyaXRpbmdNb2RlfWApO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWFwcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChtYXBzW2ldLnBoeXNpY2FsID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuIG1hcHNbaV0ubG9naWNhbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgU2l6aW5nIC0gQ1NTIEludHJpbnNpYyAmIEV4dHJpbnNpYyBTaXppbmdcbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBWdHJlZSBmcm9tIFwiLi92dHJlZVwiO1xuXG4vKipcbiAqIEJveCBzaXplcyBkZWZpbmVkIGluIGNzcy1zaXppbmcuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZW51bSBTaXplIHtcbiAgRklMTF9BVkFJTEFCTEVfSU5MSU5FX1NJWkUgPSBcImZpbGwtYXZhaWxhYmxlIGlubGluZSBzaXplXCIsXG4gIEZJTExfQVZBSUxBQkxFX0JMT0NLX1NJWkUgPSBcImZpbGwtYXZhaWxhYmxlIGJsb2NrIHNpemVcIixcbiAgRklMTF9BVkFJTEFCTEVfV0lEVEggPSBcImZpbGwtYXZhaWxhYmxlIHdpZHRoXCIsXG4gIEZJTExfQVZBSUxBQkxFX0hFSUdIVCA9IFwiZmlsbC1hdmFpbGFibGUgaGVpZ2h0XCIsXG4gIE1BWF9DT05URU5UX0lOTElORV9TSVpFID0gXCJtYXgtY29udGVudCBpbmxpbmUgc2l6ZVwiLFxuICBNQVhfQ09OVEVOVF9CTE9DS19TSVpFID0gXCJtYXgtY29udGVudCBibG9jayBzaXplXCIsXG4gIE1BWF9DT05URU5UX1dJRFRIID0gXCJtYXgtY29udGVudCB3aWR0aFwiLFxuICBNQVhfQ09OVEVOVF9IRUlHSFQgPSBcIm1heC1jb250ZW50IGhlaWdodFwiLFxuICBNSU5fQ09OVEVOVF9JTkxJTkVfU0laRSA9IFwibWluLWNvbnRlbnQgaW5saW5lIHNpemVcIixcbiAgTUlOX0NPTlRFTlRfQkxPQ0tfU0laRSA9IFwibWluLWNvbnRlbnQgYmxvY2sgc2l6ZVwiLFxuICBNSU5fQ09OVEVOVF9XSURUSCA9IFwibWluLWNvbnRlbnQgd2lkdGhcIixcbiAgTUlOX0NPTlRFTlRfSEVJR0hUID0gXCJtaW4tY29udGVudCBoZWlnaHRcIixcbiAgRklUX0NPTlRFTlRfSU5MSU5FX1NJWkUgPSBcImZpdC1jb250ZW50IGlubGluZSBzaXplXCIsXG4gIEZJVF9DT05URU5UX0JMT0NLX1NJWkUgPSBcImZpdC1jb250ZW50IGJsb2NrIHNpemVcIixcbiAgRklUX0NPTlRFTlRfV0lEVEggPSBcImZpdC1jb250ZW50IHdpZHRoXCIsXG4gIEZJVF9DT05URU5UX0hFSUdIVCA9IFwiZml0LWNvbnRlbnQgaGVpZ2h0XCIsXG59XG5cbi8qKlxuICogR2V0IHNwZWNpZmllZCBzaXplcyBmb3IgdGhlIGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTaXplKFxuICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgZWxlbWVudDogRWxlbWVudCxcbiAgc2l6ZXM6IFNpemVbXSxcbik6IHsgW2tleSBpbiBTaXplXTogbnVtYmVyIH0ge1xuICBjb25zdCBvcmlnaW5hbCA9IHtcbiAgICBkaXNwbGF5OiAoZWxlbWVudCBhcyBhbnkpLnN0eWxlLmRpc3BsYXksXG4gICAgcG9zaXRpb246IChlbGVtZW50IGFzIGFueSkuc3R5bGUucG9zaXRpb24sXG4gICAgd2lkdGg6IChlbGVtZW50IGFzIGFueSkuc3R5bGUud2lkdGggYXMgc3RyaW5nLFxuICAgIG1heFdpZHRoOiAoZWxlbWVudCBhcyBhbnkpLnN0eWxlLm1heFdpZHRoIGFzIHN0cmluZyxcbiAgICBtaW5XaWR0aDogKGVsZW1lbnQgYXMgYW55KS5zdHlsZS5taW5XaWR0aCBhcyBzdHJpbmcsXG4gICAgaGVpZ2h0OiAoZWxlbWVudCBhcyBhbnkpLnN0eWxlLmhlaWdodCBhcyBzdHJpbmcsXG4gICAgbWF4SGVpZ2h0OiAoZWxlbWVudCBhcyBhbnkpLnN0eWxlLm1heEhlaWdodCBhcyBzdHJpbmcsXG4gICAgbWluSGVpZ2h0OiAoZWxlbWVudCBhcyBhbnkpLnN0eWxlLm1pbkhlaWdodCBhcyBzdHJpbmcsXG4gIH07XG4gIGNvbnN0IGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgY29uc3QgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuXG4gIC8vIHdyYXAgdGhlIGVsZW1lbnQgd2l0aCBhIGR1bW15IGNvbnRhaW5lciBlbGVtZW50XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lciwgXCJwb3NpdGlvblwiLCBvcmlnaW5hbC5wb3NpdGlvbik7XG4gIHBhcmVudC5pbnNlcnRCZWZvcmUoY29udGFpbmVyLCBlbGVtZW50KTtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwid2lkdGhcIiwgXCJhdXRvXCIpO1xuICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwibWF4LXdpZHRoXCIsIFwibm9uZVwiKTtcbiAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcIm1pbi13aWR0aFwiLCBcIjBcIik7XG4gIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJoZWlnaHRcIiwgXCJhdXRvXCIpO1xuICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwibWF4LWhlaWdodFwiLCBcIm5vbmVcIik7XG4gIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJtaW4taGVpZ2h0XCIsIFwiMFwiKTtcblxuICBmdW5jdGlvbiBnZXRDb21wdXRlZFZhbHVlKG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGNsaWVudExheW91dC5nZXRFbGVtZW50Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKG5hbWUpO1xuICB9XG4gIGNvbnN0IHdyaXRpbmdNb2RlUHJvcGVydHkgPSBCYXNlLmdldFByZWZpeGVkUHJvcGVydHlOYW1lcyhcIndyaXRpbmctbW9kZVwiKTtcbiAgY29uc3Qgd3JpdGluZ01vZGVWYWx1ZSA9XG4gICAgKHdyaXRpbmdNb2RlUHJvcGVydHkgPyBnZXRDb21wdXRlZFZhbHVlKHdyaXRpbmdNb2RlUHJvcGVydHlbMF0pIDogbnVsbCkgfHxcbiAgICBnZXRDb21wdXRlZFZhbHVlKFwid3JpdGluZy1tb2RlXCIpO1xuICBjb25zdCBpc1ZlcnRpY2FsID1cbiAgICB3cml0aW5nTW9kZVZhbHVlID09PSBcInZlcnRpY2FsLXJsXCIgfHxcbiAgICB3cml0aW5nTW9kZVZhbHVlID09PSBcInRiLXJsXCIgfHxcbiAgICB3cml0aW5nTW9kZVZhbHVlID09PSBcInZlcnRpY2FsLWxyXCIgfHxcbiAgICB3cml0aW5nTW9kZVZhbHVlID09PSBcInRiLWxyXCI7XG4gIGNvbnN0IGlubGluZVNpemVOYW1lID0gaXNWZXJ0aWNhbCA/IFwiaGVpZ2h0XCIgOiBcIndpZHRoXCI7XG4gIGNvbnN0IGJsb2NrU2l6ZU5hbWUgPSBpc1ZlcnRpY2FsID8gXCJ3aWR0aFwiIDogXCJoZWlnaHRcIjtcblxuICBmdW5jdGlvbiBnZXRGaWxsQXZhaWxhYmxlSW5saW5lKCk6IHN0cmluZyB7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwicG9zaXRpb25cIiwgXCJzdGF0aWNcIik7XG4gICAgcmV0dXJuIGdldENvbXB1dGVkVmFsdWUoaW5saW5lU2l6ZU5hbWUpO1xuICB9XG5cbiAgLy8gSW5saW5lIHNpemUgb2YgYW4gaW5saW5lLWJsb2NrIGVsZW1lbnQgaXMgdGhlIGZpdC1jb250ZW50XG4gIC8vIChzaHJpbmstdG8tZml0KSBpbmxpbmUgc2l6ZS5cbiAgZnVuY3Rpb24gZ2V0TWF4Q29udGVudElubGluZSgpOiBzdHJpbmcge1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJkaXNwbGF5XCIsIFwiaW5saW5lLWJsb2NrXCIpO1xuXG4gICAgLy8gV2hlbiB0aGUgYXZhaWxhYmxlIGlubGluZSBzaXplIGlzIHN1ZmZpY2llbnRseSBsYXJnZSwgdGhlIGZpdC1jb250ZW50XG4gICAgLy8gaW5saW5lIHNpemUgZXF1YWxzIHRvIHRoZSBtYXgtY29udGVudCBpbmxpbmUgc2l6ZS5cbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lciwgaW5saW5lU2l6ZU5hbWUsIFwiOTk5OTk5OTlweFwiKTsgLy8gJ3N1ZmZpY2llbnRseSBsYXJnZScgdmFsdWVcbiAgICBjb25zdCByID0gZ2V0Q29tcHV0ZWRWYWx1ZShpbmxpbmVTaXplTmFtZSk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIsIGlubGluZVNpemVOYW1lLCBcIlwiKTtcbiAgICByZXR1cm4gcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1pbkNvbnRlbnRJbmxpbmUoKTogc3RyaW5nIHtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwiZGlzcGxheVwiLCBcImlubGluZS1ibG9ja1wiKTtcblxuICAgIC8vIFdoZW4gdGhlIGF2YWlsYWJsZSBpbmxpbmUgc2l6ZSBpcyB6ZXJvLCB0aGUgZml0LWNvbnRlbnQgaW5saW5lIHNpemVcbiAgICAvLyBlcXVhbHMgdG8gdGhlIG1pbi1jb250ZW50IGlubGluZSBzaXplLlxuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLCBpbmxpbmVTaXplTmFtZSwgXCIwXCIpO1xuICAgIGNvbnN0IHIgPSBnZXRDb21wdXRlZFZhbHVlKGlubGluZVNpemVOYW1lKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lciwgaW5saW5lU2l6ZU5hbWUsIFwiXCIpO1xuICAgIHJldHVybiByO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Rml0Q29udGVudElubGluZSgpOiBzdHJpbmcge1xuICAgIGNvbnN0IGZpbGxBdmFpbGFibGVJbmxpbmUgPSBnZXRGaWxsQXZhaWxhYmxlSW5saW5lKCk7XG4gICAgY29uc3QgbWluQ29udGVudElubGluZSA9IGdldE1pbkNvbnRlbnRJbmxpbmUoKTtcbiAgICBjb25zdCBwYXJzZWRGaWxsQXZhaWxhYmxlID0gcGFyc2VGbG9hdChmaWxsQXZhaWxhYmxlSW5saW5lKTtcbiAgICBpZiAocGFyc2VkRmlsbEF2YWlsYWJsZSA8PSBwYXJzZUZsb2F0KG1pbkNvbnRlbnRJbmxpbmUpKSB7XG4gICAgICByZXR1cm4gbWluQ29udGVudElubGluZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbWF4Q29udGVudElubGluZSA9IGdldE1heENvbnRlbnRJbmxpbmUoKTtcbiAgICAgIGlmIChwYXJzZWRGaWxsQXZhaWxhYmxlIDw9IHBhcnNlRmxvYXQobWF4Q29udGVudElubGluZSkpIHtcbiAgICAgICAgcmV0dXJuIGZpbGxBdmFpbGFibGVJbmxpbmU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbWF4Q29udGVudElubGluZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJZGVhbEJsb2NrKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGdldENvbXB1dGVkVmFsdWUoYmxvY2tTaXplTmFtZSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRGaWxsQXZhaWxhYmxlQmxvY2soKTogc3RyaW5nIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZXR0aW5nIGZpbGwtYXZhaWxhYmxlIGJsb2NrIHNpemUgaXMgbm90IGltcGxlbWVudGVkXCIpO1xuICB9XG4gIGNvbnN0IHJlc3VsdCA9IHt9IGFzIHsgW2tleSBpbiBTaXplXTogbnVtYmVyIH07XG4gIHNpemVzLmZvckVhY2goKHNpemUpID0+IHtcbiAgICBsZXQgcjogc3RyaW5nO1xuICAgIHN3aXRjaCAoc2l6ZSkge1xuICAgICAgY2FzZSBTaXplLkZJTExfQVZBSUxBQkxFX0lOTElORV9TSVpFOlxuICAgICAgICByID0gZ2V0RmlsbEF2YWlsYWJsZUlubGluZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU2l6ZS5NQVhfQ09OVEVOVF9JTkxJTkVfU0laRTpcbiAgICAgICAgciA9IGdldE1heENvbnRlbnRJbmxpbmUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNpemUuTUlOX0NPTlRFTlRfSU5MSU5FX1NJWkU6XG4gICAgICAgIHIgPSBnZXRNaW5Db250ZW50SW5saW5lKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTaXplLkZJVF9DT05URU5UX0lOTElORV9TSVpFOlxuICAgICAgICByID0gZ2V0Rml0Q29udGVudElubGluZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU2l6ZS5GSUxMX0FWQUlMQUJMRV9CTE9DS19TSVpFOlxuICAgICAgICByID0gZ2V0RmlsbEF2YWlsYWJsZUJsb2NrKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTaXplLk1BWF9DT05URU5UX0JMT0NLX1NJWkU6XG4gICAgICBjYXNlIFNpemUuTUlOX0NPTlRFTlRfQkxPQ0tfU0laRTpcbiAgICAgIGNhc2UgU2l6ZS5GSVRfQ09OVEVOVF9CTE9DS19TSVpFOlxuICAgICAgICByID0gZ2V0SWRlYWxCbG9jaygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU2l6ZS5GSUxMX0FWQUlMQUJMRV9XSURUSDpcbiAgICAgICAgciA9IGlzVmVydGljYWwgPyBnZXRGaWxsQXZhaWxhYmxlQmxvY2soKSA6IGdldEZpbGxBdmFpbGFibGVJbmxpbmUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNpemUuRklMTF9BVkFJTEFCTEVfSEVJR0hUOlxuICAgICAgICByID0gaXNWZXJ0aWNhbCA/IGdldEZpbGxBdmFpbGFibGVJbmxpbmUoKSA6IGdldEZpbGxBdmFpbGFibGVCbG9jaygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU2l6ZS5NQVhfQ09OVEVOVF9XSURUSDpcbiAgICAgICAgciA9IGlzVmVydGljYWwgPyBnZXRJZGVhbEJsb2NrKCkgOiBnZXRNYXhDb250ZW50SW5saW5lKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTaXplLk1BWF9DT05URU5UX0hFSUdIVDpcbiAgICAgICAgciA9IGlzVmVydGljYWwgPyBnZXRNYXhDb250ZW50SW5saW5lKCkgOiBnZXRJZGVhbEJsb2NrKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTaXplLk1JTl9DT05URU5UX1dJRFRIOlxuICAgICAgICByID0gaXNWZXJ0aWNhbCA/IGdldElkZWFsQmxvY2soKSA6IGdldE1pbkNvbnRlbnRJbmxpbmUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNpemUuTUlOX0NPTlRFTlRfSEVJR0hUOlxuICAgICAgICByID0gaXNWZXJ0aWNhbCA/IGdldE1pbkNvbnRlbnRJbmxpbmUoKSA6IGdldElkZWFsQmxvY2soKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNpemUuRklUX0NPTlRFTlRfV0lEVEg6XG4gICAgICAgIHIgPSBpc1ZlcnRpY2FsID8gZ2V0SWRlYWxCbG9jaygpIDogZ2V0Rml0Q29udGVudElubGluZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU2l6ZS5GSVRfQ09OVEVOVF9IRUlHSFQ6XG4gICAgICAgIHIgPSBpc1ZlcnRpY2FsID8gZ2V0Rml0Q29udGVudElubGluZSgpIDogZ2V0SWRlYWxCbG9jaygpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmVzdWx0W3NpemVdID0gcGFyc2VGbG9hdChyKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwicG9zaXRpb25cIiwgb3JpZ2luYWwucG9zaXRpb24pO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJkaXNwbGF5XCIsIG9yaWdpbmFsLmRpc3BsYXkpO1xuICB9KTtcbiAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcIndpZHRoXCIsIG9yaWdpbmFsLndpZHRoKTtcbiAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcIm1heC13aWR0aFwiLCBvcmlnaW5hbC5tYXhXaWR0aCk7XG4gIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJtaW4td2lkdGhcIiwgb3JpZ2luYWwubWluV2lkdGgpO1xuICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwiaGVpZ2h0XCIsIG9yaWdpbmFsLmhlaWdodCk7XG4gIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJtYXgtaGVpZ2h0XCIsIG9yaWdpbmFsLm1heEhlaWdodCk7XG4gIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJtaW4taGVpZ2h0XCIsIG9yaWdpbmFsLm1pbkhlaWdodCk7XG4gIHBhcmVudC5pbnNlcnRCZWZvcmUoZWxlbWVudCwgY29udGFpbmVyKTtcbiAgcGFyZW50LnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCIvKipcbiAqIFRoaXMgbGlicmFyeSBtb2RpZmllcyB0aGUgZGlmZi1wYXRjaC1tYXRjaCBsaWJyYXJ5IGJ5IE5laWwgRnJhc2VyXG4gKiBieSByZW1vdmluZyB0aGUgcGF0Y2ggYW5kIG1hdGNoIGZ1bmN0aW9uYWxpdHkgYW5kIGNlcnRhaW4gYWR2YW5jZWRcbiAqIG9wdGlvbnMgaW4gdGhlIGRpZmYgZnVuY3Rpb24uIFRoZSBvcmlnaW5hbCBsaWNlbnNlIGlzIGFzIGZvbGxvd3M6XG4gKlxuICogPT09XG4gKlxuICogRGlmZiBNYXRjaCBhbmQgUGF0Y2hcbiAqXG4gKiBDb3B5cmlnaHQgMjAwNiBHb29nbGUgSW5jLlxuICogaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2dvb2dsZS1kaWZmLW1hdGNoLXBhdGNoL1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuXG4vKipcbiAqIFRoZSBkYXRhIHN0cnVjdHVyZSByZXByZXNlbnRpbmcgYSBkaWZmIGlzIGFuIGFycmF5IG9mIHR1cGxlczpcbiAqIFtbRElGRl9ERUxFVEUsICdIZWxsbyddLCBbRElGRl9JTlNFUlQsICdHb29kYnllJ10sIFtESUZGX0VRVUFMLCAnIHdvcmxkLiddXVxuICogd2hpY2ggbWVhbnM6IGRlbGV0ZSAnSGVsbG8nLCBhZGQgJ0dvb2RieWUnIGFuZCBrZWVwICcgd29ybGQuJ1xuICovXG52YXIgRElGRl9ERUxFVEUgPSAtMTtcbnZhciBESUZGX0lOU0VSVCA9IDE7XG52YXIgRElGRl9FUVVBTCA9IDA7XG5cblxuLyoqXG4gKiBGaW5kIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIHR3byB0ZXh0cy4gIFNpbXBsaWZpZXMgdGhlIHByb2JsZW0gYnkgc3RyaXBwaW5nXG4gKiBhbnkgY29tbW9uIHByZWZpeCBvciBzdWZmaXggb2ZmIHRoZSB0ZXh0cyBiZWZvcmUgZGlmZmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0MSBPbGQgc3RyaW5nIHRvIGJlIGRpZmZlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0MiBOZXcgc3RyaW5nIHRvIGJlIGRpZmZlZC5cbiAqIEBwYXJhbSB7SW50fE9iamVjdH0gW2N1cnNvcl9wb3NdIEVkaXQgcG9zaXRpb24gaW4gdGV4dDEgb3Igb2JqZWN0IHdpdGggbW9yZSBpbmZvXG4gKiBAcmV0dXJuIHtBcnJheX0gQXJyYXkgb2YgZGlmZiB0dXBsZXMuXG4gKi9cbmZ1bmN0aW9uIGRpZmZfbWFpbih0ZXh0MSwgdGV4dDIsIGN1cnNvcl9wb3MsIF9maXhfdW5pY29kZSkge1xuICAvLyBDaGVjayBmb3IgZXF1YWxpdHlcbiAgaWYgKHRleHQxID09PSB0ZXh0Mikge1xuICAgIGlmICh0ZXh0MSkge1xuICAgICAgcmV0dXJuIFtbRElGRl9FUVVBTCwgdGV4dDFdXTtcbiAgICB9XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgaWYgKGN1cnNvcl9wb3MgIT0gbnVsbCkge1xuICAgIHZhciBlZGl0ZGlmZiA9IGZpbmRfY3Vyc29yX2VkaXRfZGlmZih0ZXh0MSwgdGV4dDIsIGN1cnNvcl9wb3MpO1xuICAgIGlmIChlZGl0ZGlmZikge1xuICAgICAgcmV0dXJuIGVkaXRkaWZmO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRyaW0gb2ZmIGNvbW1vbiBwcmVmaXggKHNwZWVkdXApLlxuICB2YXIgY29tbW9ubGVuZ3RoID0gZGlmZl9jb21tb25QcmVmaXgodGV4dDEsIHRleHQyKTtcbiAgdmFyIGNvbW1vbnByZWZpeCA9IHRleHQxLnN1YnN0cmluZygwLCBjb21tb25sZW5ndGgpO1xuICB0ZXh0MSA9IHRleHQxLnN1YnN0cmluZyhjb21tb25sZW5ndGgpO1xuICB0ZXh0MiA9IHRleHQyLnN1YnN0cmluZyhjb21tb25sZW5ndGgpO1xuXG4gIC8vIFRyaW0gb2ZmIGNvbW1vbiBzdWZmaXggKHNwZWVkdXApLlxuICBjb21tb25sZW5ndGggPSBkaWZmX2NvbW1vblN1ZmZpeCh0ZXh0MSwgdGV4dDIpO1xuICB2YXIgY29tbW9uc3VmZml4ID0gdGV4dDEuc3Vic3RyaW5nKHRleHQxLmxlbmd0aCAtIGNvbW1vbmxlbmd0aCk7XG4gIHRleHQxID0gdGV4dDEuc3Vic3RyaW5nKDAsIHRleHQxLmxlbmd0aCAtIGNvbW1vbmxlbmd0aCk7XG4gIHRleHQyID0gdGV4dDIuc3Vic3RyaW5nKDAsIHRleHQyLmxlbmd0aCAtIGNvbW1vbmxlbmd0aCk7XG5cbiAgLy8gQ29tcHV0ZSB0aGUgZGlmZiBvbiB0aGUgbWlkZGxlIGJsb2NrLlxuICB2YXIgZGlmZnMgPSBkaWZmX2NvbXB1dGVfKHRleHQxLCB0ZXh0Mik7XG5cbiAgLy8gUmVzdG9yZSB0aGUgcHJlZml4IGFuZCBzdWZmaXguXG4gIGlmIChjb21tb25wcmVmaXgpIHtcbiAgICBkaWZmcy51bnNoaWZ0KFtESUZGX0VRVUFMLCBjb21tb25wcmVmaXhdKTtcbiAgfVxuICBpZiAoY29tbW9uc3VmZml4KSB7XG4gICAgZGlmZnMucHVzaChbRElGRl9FUVVBTCwgY29tbW9uc3VmZml4XSk7XG4gIH1cbiAgZGlmZl9jbGVhbnVwTWVyZ2UoZGlmZnMsIF9maXhfdW5pY29kZSk7XG4gIHJldHVybiBkaWZmcztcbn07XG5cblxuLyoqXG4gKiBGaW5kIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIHR3byB0ZXh0cy4gIEFzc3VtZXMgdGhhdCB0aGUgdGV4dHMgZG8gbm90XG4gKiBoYXZlIGFueSBjb21tb24gcHJlZml4IG9yIHN1ZmZpeC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0MSBPbGQgc3RyaW5nIHRvIGJlIGRpZmZlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0MiBOZXcgc3RyaW5nIHRvIGJlIGRpZmZlZC5cbiAqIEByZXR1cm4ge0FycmF5fSBBcnJheSBvZiBkaWZmIHR1cGxlcy5cbiAqL1xuZnVuY3Rpb24gZGlmZl9jb21wdXRlXyh0ZXh0MSwgdGV4dDIpIHtcbiAgdmFyIGRpZmZzO1xuXG4gIGlmICghdGV4dDEpIHtcbiAgICAvLyBKdXN0IGFkZCBzb21lIHRleHQgKHNwZWVkdXApLlxuICAgIHJldHVybiBbW0RJRkZfSU5TRVJULCB0ZXh0Ml1dO1xuICB9XG5cbiAgaWYgKCF0ZXh0Mikge1xuICAgIC8vIEp1c3QgZGVsZXRlIHNvbWUgdGV4dCAoc3BlZWR1cCkuXG4gICAgcmV0dXJuIFtbRElGRl9ERUxFVEUsIHRleHQxXV07XG4gIH1cblxuICB2YXIgbG9uZ3RleHQgPSB0ZXh0MS5sZW5ndGggPiB0ZXh0Mi5sZW5ndGggPyB0ZXh0MSA6IHRleHQyO1xuICB2YXIgc2hvcnR0ZXh0ID0gdGV4dDEubGVuZ3RoID4gdGV4dDIubGVuZ3RoID8gdGV4dDIgOiB0ZXh0MTtcbiAgdmFyIGkgPSBsb25ndGV4dC5pbmRleE9mKHNob3J0dGV4dCk7XG4gIGlmIChpICE9PSAtMSkge1xuICAgIC8vIFNob3J0ZXIgdGV4dCBpcyBpbnNpZGUgdGhlIGxvbmdlciB0ZXh0IChzcGVlZHVwKS5cbiAgICBkaWZmcyA9IFtcbiAgICAgIFtESUZGX0lOU0VSVCwgbG9uZ3RleHQuc3Vic3RyaW5nKDAsIGkpXSxcbiAgICAgIFtESUZGX0VRVUFMLCBzaG9ydHRleHRdLFxuICAgICAgW0RJRkZfSU5TRVJULCBsb25ndGV4dC5zdWJzdHJpbmcoaSArIHNob3J0dGV4dC5sZW5ndGgpXVxuICAgIF07XG4gICAgLy8gU3dhcCBpbnNlcnRpb25zIGZvciBkZWxldGlvbnMgaWYgZGlmZiBpcyByZXZlcnNlZC5cbiAgICBpZiAodGV4dDEubGVuZ3RoID4gdGV4dDIubGVuZ3RoKSB7XG4gICAgICBkaWZmc1swXVswXSA9IGRpZmZzWzJdWzBdID0gRElGRl9ERUxFVEU7XG4gICAgfVxuICAgIHJldHVybiBkaWZmcztcbiAgfVxuXG4gIGlmIChzaG9ydHRleHQubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gU2luZ2xlIGNoYXJhY3RlciBzdHJpbmcuXG4gICAgLy8gQWZ0ZXIgdGhlIHByZXZpb3VzIHNwZWVkdXAsIHRoZSBjaGFyYWN0ZXIgY2FuJ3QgYmUgYW4gZXF1YWxpdHkuXG4gICAgcmV0dXJuIFtbRElGRl9ERUxFVEUsIHRleHQxXSwgW0RJRkZfSU5TRVJULCB0ZXh0Ml1dO1xuICB9XG5cbiAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoZSBwcm9ibGVtIGNhbiBiZSBzcGxpdCBpbiB0d28uXG4gIHZhciBobSA9IGRpZmZfaGFsZk1hdGNoXyh0ZXh0MSwgdGV4dDIpO1xuICBpZiAoaG0pIHtcbiAgICAvLyBBIGhhbGYtbWF0Y2ggd2FzIGZvdW5kLCBzb3J0IG91dCB0aGUgcmV0dXJuIGRhdGEuXG4gICAgdmFyIHRleHQxX2EgPSBobVswXTtcbiAgICB2YXIgdGV4dDFfYiA9IGhtWzFdO1xuICAgIHZhciB0ZXh0Ml9hID0gaG1bMl07XG4gICAgdmFyIHRleHQyX2IgPSBobVszXTtcbiAgICB2YXIgbWlkX2NvbW1vbiA9IGhtWzRdO1xuICAgIC8vIFNlbmQgYm90aCBwYWlycyBvZmYgZm9yIHNlcGFyYXRlIHByb2Nlc3NpbmcuXG4gICAgdmFyIGRpZmZzX2EgPSBkaWZmX21haW4odGV4dDFfYSwgdGV4dDJfYSk7XG4gICAgdmFyIGRpZmZzX2IgPSBkaWZmX21haW4odGV4dDFfYiwgdGV4dDJfYik7XG4gICAgLy8gTWVyZ2UgdGhlIHJlc3VsdHMuXG4gICAgcmV0dXJuIGRpZmZzX2EuY29uY2F0KFtbRElGRl9FUVVBTCwgbWlkX2NvbW1vbl1dLCBkaWZmc19iKTtcbiAgfVxuXG4gIHJldHVybiBkaWZmX2Jpc2VjdF8odGV4dDEsIHRleHQyKTtcbn07XG5cblxuLyoqXG4gKiBGaW5kIHRoZSAnbWlkZGxlIHNuYWtlJyBvZiBhIGRpZmYsIHNwbGl0IHRoZSBwcm9ibGVtIGluIHR3b1xuICogYW5kIHJldHVybiB0aGUgcmVjdXJzaXZlbHkgY29uc3RydWN0ZWQgZGlmZi5cbiAqIFNlZSBNeWVycyAxOTg2IHBhcGVyOiBBbiBPKE5EKSBEaWZmZXJlbmNlIEFsZ29yaXRobSBhbmQgSXRzIFZhcmlhdGlvbnMuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDEgT2xkIHN0cmluZyB0byBiZSBkaWZmZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDIgTmV3IHN0cmluZyB0byBiZSBkaWZmZWQuXG4gKiBAcmV0dXJuIHtBcnJheX0gQXJyYXkgb2YgZGlmZiB0dXBsZXMuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBkaWZmX2Jpc2VjdF8odGV4dDEsIHRleHQyKSB7XG4gIC8vIENhY2hlIHRoZSB0ZXh0IGxlbmd0aHMgdG8gcHJldmVudCBtdWx0aXBsZSBjYWxscy5cbiAgdmFyIHRleHQxX2xlbmd0aCA9IHRleHQxLmxlbmd0aDtcbiAgdmFyIHRleHQyX2xlbmd0aCA9IHRleHQyLmxlbmd0aDtcbiAgdmFyIG1heF9kID0gTWF0aC5jZWlsKCh0ZXh0MV9sZW5ndGggKyB0ZXh0Ml9sZW5ndGgpIC8gMik7XG4gIHZhciB2X29mZnNldCA9IG1heF9kO1xuICB2YXIgdl9sZW5ndGggPSAyICogbWF4X2Q7XG4gIHZhciB2MSA9IG5ldyBBcnJheSh2X2xlbmd0aCk7XG4gIHZhciB2MiA9IG5ldyBBcnJheSh2X2xlbmd0aCk7XG4gIC8vIFNldHRpbmcgYWxsIGVsZW1lbnRzIHRvIC0xIGlzIGZhc3RlciBpbiBDaHJvbWUgJiBGaXJlZm94IHRoYW4gbWl4aW5nXG4gIC8vIGludGVnZXJzIGFuZCB1bmRlZmluZWQuXG4gIGZvciAodmFyIHggPSAwOyB4IDwgdl9sZW5ndGg7IHgrKykge1xuICAgIHYxW3hdID0gLTE7XG4gICAgdjJbeF0gPSAtMTtcbiAgfVxuICB2MVt2X29mZnNldCArIDFdID0gMDtcbiAgdjJbdl9vZmZzZXQgKyAxXSA9IDA7XG4gIHZhciBkZWx0YSA9IHRleHQxX2xlbmd0aCAtIHRleHQyX2xlbmd0aDtcbiAgLy8gSWYgdGhlIHRvdGFsIG51bWJlciBvZiBjaGFyYWN0ZXJzIGlzIG9kZCwgdGhlbiB0aGUgZnJvbnQgcGF0aCB3aWxsIGNvbGxpZGVcbiAgLy8gd2l0aCB0aGUgcmV2ZXJzZSBwYXRoLlxuICB2YXIgZnJvbnQgPSAoZGVsdGEgJSAyICE9PSAwKTtcbiAgLy8gT2Zmc2V0cyBmb3Igc3RhcnQgYW5kIGVuZCBvZiBrIGxvb3AuXG4gIC8vIFByZXZlbnRzIG1hcHBpbmcgb2Ygc3BhY2UgYmV5b25kIHRoZSBncmlkLlxuICB2YXIgazFzdGFydCA9IDA7XG4gIHZhciBrMWVuZCA9IDA7XG4gIHZhciBrMnN0YXJ0ID0gMDtcbiAgdmFyIGsyZW5kID0gMDtcbiAgZm9yICh2YXIgZCA9IDA7IGQgPCBtYXhfZDsgZCsrKSB7XG4gICAgLy8gV2FsayB0aGUgZnJvbnQgcGF0aCBvbmUgc3RlcC5cbiAgICBmb3IgKHZhciBrMSA9IC1kICsgazFzdGFydDsgazEgPD0gZCAtIGsxZW5kOyBrMSArPSAyKSB7XG4gICAgICB2YXIgazFfb2Zmc2V0ID0gdl9vZmZzZXQgKyBrMTtcbiAgICAgIHZhciB4MTtcbiAgICAgIGlmIChrMSA9PT0gLWQgfHwgKGsxICE9PSBkICYmIHYxW2sxX29mZnNldCAtIDFdIDwgdjFbazFfb2Zmc2V0ICsgMV0pKSB7XG4gICAgICAgIHgxID0gdjFbazFfb2Zmc2V0ICsgMV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB4MSA9IHYxW2sxX29mZnNldCAtIDFdICsgMTtcbiAgICAgIH1cbiAgICAgIHZhciB5MSA9IHgxIC0gazE7XG4gICAgICB3aGlsZSAoXG4gICAgICAgIHgxIDwgdGV4dDFfbGVuZ3RoICYmIHkxIDwgdGV4dDJfbGVuZ3RoICYmXG4gICAgICAgIHRleHQxLmNoYXJBdCh4MSkgPT09IHRleHQyLmNoYXJBdCh5MSlcbiAgICAgICkge1xuICAgICAgICB4MSsrO1xuICAgICAgICB5MSsrO1xuICAgICAgfVxuICAgICAgdjFbazFfb2Zmc2V0XSA9IHgxO1xuICAgICAgaWYgKHgxID4gdGV4dDFfbGVuZ3RoKSB7XG4gICAgICAgIC8vIFJhbiBvZmYgdGhlIHJpZ2h0IG9mIHRoZSBncmFwaC5cbiAgICAgICAgazFlbmQgKz0gMjtcbiAgICAgIH0gZWxzZSBpZiAoeTEgPiB0ZXh0Ml9sZW5ndGgpIHtcbiAgICAgICAgLy8gUmFuIG9mZiB0aGUgYm90dG9tIG9mIHRoZSBncmFwaC5cbiAgICAgICAgazFzdGFydCArPSAyO1xuICAgICAgfSBlbHNlIGlmIChmcm9udCkge1xuICAgICAgICB2YXIgazJfb2Zmc2V0ID0gdl9vZmZzZXQgKyBkZWx0YSAtIGsxO1xuICAgICAgICBpZiAoazJfb2Zmc2V0ID49IDAgJiYgazJfb2Zmc2V0IDwgdl9sZW5ndGggJiYgdjJbazJfb2Zmc2V0XSAhPT0gLTEpIHtcbiAgICAgICAgICAvLyBNaXJyb3IgeDIgb250byB0b3AtbGVmdCBjb29yZGluYXRlIHN5c3RlbS5cbiAgICAgICAgICB2YXIgeDIgPSB0ZXh0MV9sZW5ndGggLSB2MltrMl9vZmZzZXRdO1xuICAgICAgICAgIGlmICh4MSA+PSB4Mikge1xuICAgICAgICAgICAgLy8gT3ZlcmxhcCBkZXRlY3RlZC5cbiAgICAgICAgICAgIHJldHVybiBkaWZmX2Jpc2VjdFNwbGl0Xyh0ZXh0MSwgdGV4dDIsIHgxLCB5MSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gV2FsayB0aGUgcmV2ZXJzZSBwYXRoIG9uZSBzdGVwLlxuICAgIGZvciAodmFyIGsyID0gLWQgKyBrMnN0YXJ0OyBrMiA8PSBkIC0gazJlbmQ7IGsyICs9IDIpIHtcbiAgICAgIHZhciBrMl9vZmZzZXQgPSB2X29mZnNldCArIGsyO1xuICAgICAgdmFyIHgyO1xuICAgICAgaWYgKGsyID09PSAtZCB8fCAoazIgIT09IGQgJiYgdjJbazJfb2Zmc2V0IC0gMV0gPCB2MltrMl9vZmZzZXQgKyAxXSkpIHtcbiAgICAgICAgeDIgPSB2MltrMl9vZmZzZXQgKyAxXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHgyID0gdjJbazJfb2Zmc2V0IC0gMV0gKyAxO1xuICAgICAgfVxuICAgICAgdmFyIHkyID0geDIgLSBrMjtcbiAgICAgIHdoaWxlIChcbiAgICAgICAgeDIgPCB0ZXh0MV9sZW5ndGggJiYgeTIgPCB0ZXh0Ml9sZW5ndGggJiZcbiAgICAgICAgdGV4dDEuY2hhckF0KHRleHQxX2xlbmd0aCAtIHgyIC0gMSkgPT09IHRleHQyLmNoYXJBdCh0ZXh0Ml9sZW5ndGggLSB5MiAtIDEpXG4gICAgICApIHtcbiAgICAgICAgeDIrKztcbiAgICAgICAgeTIrKztcbiAgICAgIH1cbiAgICAgIHYyW2syX29mZnNldF0gPSB4MjtcbiAgICAgIGlmICh4MiA+IHRleHQxX2xlbmd0aCkge1xuICAgICAgICAvLyBSYW4gb2ZmIHRoZSBsZWZ0IG9mIHRoZSBncmFwaC5cbiAgICAgICAgazJlbmQgKz0gMjtcbiAgICAgIH0gZWxzZSBpZiAoeTIgPiB0ZXh0Ml9sZW5ndGgpIHtcbiAgICAgICAgLy8gUmFuIG9mZiB0aGUgdG9wIG9mIHRoZSBncmFwaC5cbiAgICAgICAgazJzdGFydCArPSAyO1xuICAgICAgfSBlbHNlIGlmICghZnJvbnQpIHtcbiAgICAgICAgdmFyIGsxX29mZnNldCA9IHZfb2Zmc2V0ICsgZGVsdGEgLSBrMjtcbiAgICAgICAgaWYgKGsxX29mZnNldCA+PSAwICYmIGsxX29mZnNldCA8IHZfbGVuZ3RoICYmIHYxW2sxX29mZnNldF0gIT09IC0xKSB7XG4gICAgICAgICAgdmFyIHgxID0gdjFbazFfb2Zmc2V0XTtcbiAgICAgICAgICB2YXIgeTEgPSB2X29mZnNldCArIHgxIC0gazFfb2Zmc2V0O1xuICAgICAgICAgIC8vIE1pcnJvciB4MiBvbnRvIHRvcC1sZWZ0IGNvb3JkaW5hdGUgc3lzdGVtLlxuICAgICAgICAgIHgyID0gdGV4dDFfbGVuZ3RoIC0geDI7XG4gICAgICAgICAgaWYgKHgxID49IHgyKSB7XG4gICAgICAgICAgICAvLyBPdmVybGFwIGRldGVjdGVkLlxuICAgICAgICAgICAgcmV0dXJuIGRpZmZfYmlzZWN0U3BsaXRfKHRleHQxLCB0ZXh0MiwgeDEsIHkxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gRGlmZiB0b29rIHRvbyBsb25nIGFuZCBoaXQgdGhlIGRlYWRsaW5lIG9yXG4gIC8vIG51bWJlciBvZiBkaWZmcyBlcXVhbHMgbnVtYmVyIG9mIGNoYXJhY3RlcnMsIG5vIGNvbW1vbmFsaXR5IGF0IGFsbC5cbiAgcmV0dXJuIFtbRElGRl9ERUxFVEUsIHRleHQxXSwgW0RJRkZfSU5TRVJULCB0ZXh0Ml1dO1xufTtcblxuXG4vKipcbiAqIEdpdmVuIHRoZSBsb2NhdGlvbiBvZiB0aGUgJ21pZGRsZSBzbmFrZScsIHNwbGl0IHRoZSBkaWZmIGluIHR3byBwYXJ0c1xuICogYW5kIHJlY3Vyc2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDEgT2xkIHN0cmluZyB0byBiZSBkaWZmZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDIgTmV3IHN0cmluZyB0byBiZSBkaWZmZWQuXG4gKiBAcGFyYW0ge251bWJlcn0geCBJbmRleCBvZiBzcGxpdCBwb2ludCBpbiB0ZXh0MS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IEluZGV4IG9mIHNwbGl0IHBvaW50IGluIHRleHQyLlxuICogQHJldHVybiB7QXJyYXl9IEFycmF5IG9mIGRpZmYgdHVwbGVzLlxuICovXG5mdW5jdGlvbiBkaWZmX2Jpc2VjdFNwbGl0Xyh0ZXh0MSwgdGV4dDIsIHgsIHkpIHtcbiAgdmFyIHRleHQxYSA9IHRleHQxLnN1YnN0cmluZygwLCB4KTtcbiAgdmFyIHRleHQyYSA9IHRleHQyLnN1YnN0cmluZygwLCB5KTtcbiAgdmFyIHRleHQxYiA9IHRleHQxLnN1YnN0cmluZyh4KTtcbiAgdmFyIHRleHQyYiA9IHRleHQyLnN1YnN0cmluZyh5KTtcblxuICAvLyBDb21wdXRlIGJvdGggZGlmZnMgc2VyaWFsbHkuXG4gIHZhciBkaWZmcyA9IGRpZmZfbWFpbih0ZXh0MWEsIHRleHQyYSk7XG4gIHZhciBkaWZmc2IgPSBkaWZmX21haW4odGV4dDFiLCB0ZXh0MmIpO1xuXG4gIHJldHVybiBkaWZmcy5jb25jYXQoZGlmZnNiKTtcbn07XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgdGhlIGNvbW1vbiBwcmVmaXggb2YgdHdvIHN0cmluZ3MuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDEgRmlyc3Qgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQyIFNlY29uZCBzdHJpbmcuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBjb21tb24gdG8gdGhlIHN0YXJ0IG9mIGVhY2hcbiAqICAgICBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGRpZmZfY29tbW9uUHJlZml4KHRleHQxLCB0ZXh0Mikge1xuICAvLyBRdWljayBjaGVjayBmb3IgY29tbW9uIG51bGwgY2FzZXMuXG4gIGlmICghdGV4dDEgfHwgIXRleHQyIHx8IHRleHQxLmNoYXJBdCgwKSAhPT0gdGV4dDIuY2hhckF0KDApKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgLy8gQmluYXJ5IHNlYXJjaC5cbiAgLy8gUGVyZm9ybWFuY2UgYW5hbHlzaXM6IGh0dHA6Ly9uZWlsLmZyYXNlci5uYW1lL25ld3MvMjAwNy8xMC8wOS9cbiAgdmFyIHBvaW50ZXJtaW4gPSAwO1xuICB2YXIgcG9pbnRlcm1heCA9IE1hdGgubWluKHRleHQxLmxlbmd0aCwgdGV4dDIubGVuZ3RoKTtcbiAgdmFyIHBvaW50ZXJtaWQgPSBwb2ludGVybWF4O1xuICB2YXIgcG9pbnRlcnN0YXJ0ID0gMDtcbiAgd2hpbGUgKHBvaW50ZXJtaW4gPCBwb2ludGVybWlkKSB7XG4gICAgaWYgKFxuICAgICAgdGV4dDEuc3Vic3RyaW5nKHBvaW50ZXJzdGFydCwgcG9pbnRlcm1pZCkgPT1cbiAgICAgIHRleHQyLnN1YnN0cmluZyhwb2ludGVyc3RhcnQsIHBvaW50ZXJtaWQpXG4gICAgKSB7XG4gICAgICBwb2ludGVybWluID0gcG9pbnRlcm1pZDtcbiAgICAgIHBvaW50ZXJzdGFydCA9IHBvaW50ZXJtaW47XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvaW50ZXJtYXggPSBwb2ludGVybWlkO1xuICAgIH1cbiAgICBwb2ludGVybWlkID0gTWF0aC5mbG9vcigocG9pbnRlcm1heCAtIHBvaW50ZXJtaW4pIC8gMiArIHBvaW50ZXJtaW4pO1xuICB9XG5cbiAgaWYgKGlzX3N1cnJvZ2F0ZV9wYWlyX3N0YXJ0KHRleHQxLmNoYXJDb2RlQXQocG9pbnRlcm1pZCAtIDEpKSkge1xuICAgIHBvaW50ZXJtaWQtLTtcbiAgfVxuXG4gIHJldHVybiBwb2ludGVybWlkO1xufTtcblxuXG4vKipcbiAqIERldGVybWluZSB0aGUgY29tbW9uIHN1ZmZpeCBvZiB0d28gc3RyaW5ncy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0MSBGaXJzdCBzdHJpbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDIgU2Vjb25kIHN0cmluZy5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIGNvbW1vbiB0byB0aGUgZW5kIG9mIGVhY2ggc3RyaW5nLlxuICovXG5mdW5jdGlvbiBkaWZmX2NvbW1vblN1ZmZpeCh0ZXh0MSwgdGV4dDIpIHtcbiAgLy8gUXVpY2sgY2hlY2sgZm9yIGNvbW1vbiBudWxsIGNhc2VzLlxuICBpZiAoIXRleHQxIHx8ICF0ZXh0MiB8fCB0ZXh0MS5zbGljZSgtMSkgIT09IHRleHQyLnNsaWNlKC0xKSkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIC8vIEJpbmFyeSBzZWFyY2guXG4gIC8vIFBlcmZvcm1hbmNlIGFuYWx5c2lzOiBodHRwOi8vbmVpbC5mcmFzZXIubmFtZS9uZXdzLzIwMDcvMTAvMDkvXG4gIHZhciBwb2ludGVybWluID0gMDtcbiAgdmFyIHBvaW50ZXJtYXggPSBNYXRoLm1pbih0ZXh0MS5sZW5ndGgsIHRleHQyLmxlbmd0aCk7XG4gIHZhciBwb2ludGVybWlkID0gcG9pbnRlcm1heDtcbiAgdmFyIHBvaW50ZXJlbmQgPSAwO1xuICB3aGlsZSAocG9pbnRlcm1pbiA8IHBvaW50ZXJtaWQpIHtcbiAgICBpZiAoXG4gICAgICB0ZXh0MS5zdWJzdHJpbmcodGV4dDEubGVuZ3RoIC0gcG9pbnRlcm1pZCwgdGV4dDEubGVuZ3RoIC0gcG9pbnRlcmVuZCkgPT1cbiAgICAgIHRleHQyLnN1YnN0cmluZyh0ZXh0Mi5sZW5ndGggLSBwb2ludGVybWlkLCB0ZXh0Mi5sZW5ndGggLSBwb2ludGVyZW5kKVxuICAgICkge1xuICAgICAgcG9pbnRlcm1pbiA9IHBvaW50ZXJtaWQ7XG4gICAgICBwb2ludGVyZW5kID0gcG9pbnRlcm1pbjtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9pbnRlcm1heCA9IHBvaW50ZXJtaWQ7XG4gICAgfVxuICAgIHBvaW50ZXJtaWQgPSBNYXRoLmZsb29yKChwb2ludGVybWF4IC0gcG9pbnRlcm1pbikgLyAyICsgcG9pbnRlcm1pbik7XG4gIH1cblxuICBpZiAoaXNfc3Vycm9nYXRlX3BhaXJfZW5kKHRleHQxLmNoYXJDb2RlQXQodGV4dDEubGVuZ3RoIC0gcG9pbnRlcm1pZCkpKSB7XG4gICAgcG9pbnRlcm1pZC0tO1xuICB9XG5cbiAgcmV0dXJuIHBvaW50ZXJtaWQ7XG59O1xuXG5cbi8qKlxuICogRG8gdGhlIHR3byB0ZXh0cyBzaGFyZSBhIHN1YnN0cmluZyB3aGljaCBpcyBhdCBsZWFzdCBoYWxmIHRoZSBsZW5ndGggb2YgdGhlXG4gKiBsb25nZXIgdGV4dD9cbiAqIFRoaXMgc3BlZWR1cCBjYW4gcHJvZHVjZSBub24tbWluaW1hbCBkaWZmcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0MSBGaXJzdCBzdHJpbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDIgU2Vjb25kIHN0cmluZy5cbiAqIEByZXR1cm4ge0FycmF5LjxzdHJpbmc+fSBGaXZlIGVsZW1lbnQgQXJyYXksIGNvbnRhaW5pbmcgdGhlIHByZWZpeCBvZlxuICogICAgIHRleHQxLCB0aGUgc3VmZml4IG9mIHRleHQxLCB0aGUgcHJlZml4IG9mIHRleHQyLCB0aGUgc3VmZml4IG9mXG4gKiAgICAgdGV4dDIgYW5kIHRoZSBjb21tb24gbWlkZGxlLiAgT3IgbnVsbCBpZiB0aGVyZSB3YXMgbm8gbWF0Y2guXG4gKi9cbmZ1bmN0aW9uIGRpZmZfaGFsZk1hdGNoXyh0ZXh0MSwgdGV4dDIpIHtcbiAgdmFyIGxvbmd0ZXh0ID0gdGV4dDEubGVuZ3RoID4gdGV4dDIubGVuZ3RoID8gdGV4dDEgOiB0ZXh0MjtcbiAgdmFyIHNob3J0dGV4dCA9IHRleHQxLmxlbmd0aCA+IHRleHQyLmxlbmd0aCA/IHRleHQyIDogdGV4dDE7XG4gIGlmIChsb25ndGV4dC5sZW5ndGggPCA0IHx8IHNob3J0dGV4dC5sZW5ndGggKiAyIDwgbG9uZ3RleHQubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG51bGw7ICAvLyBQb2ludGxlc3MuXG4gIH1cblxuICAvKipcbiAgICogRG9lcyBhIHN1YnN0cmluZyBvZiBzaG9ydHRleHQgZXhpc3Qgd2l0aGluIGxvbmd0ZXh0IHN1Y2ggdGhhdCB0aGUgc3Vic3RyaW5nXG4gICAqIGlzIGF0IGxlYXN0IGhhbGYgdGhlIGxlbmd0aCBvZiBsb25ndGV4dD9cbiAgICogQ2xvc3VyZSwgYnV0IGRvZXMgbm90IHJlZmVyZW5jZSBhbnkgZXh0ZXJuYWwgdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbG9uZ3RleHQgTG9uZ2VyIHN0cmluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHNob3J0dGV4dCBTaG9ydGVyIHN0cmluZy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGkgU3RhcnQgaW5kZXggb2YgcXVhcnRlciBsZW5ndGggc3Vic3RyaW5nIHdpdGhpbiBsb25ndGV4dC5cbiAgICogQHJldHVybiB7QXJyYXkuPHN0cmluZz59IEZpdmUgZWxlbWVudCBBcnJheSwgY29udGFpbmluZyB0aGUgcHJlZml4IG9mXG4gICAqICAgICBsb25ndGV4dCwgdGhlIHN1ZmZpeCBvZiBsb25ndGV4dCwgdGhlIHByZWZpeCBvZiBzaG9ydHRleHQsIHRoZSBzdWZmaXhcbiAgICogICAgIG9mIHNob3J0dGV4dCBhbmQgdGhlIGNvbW1vbiBtaWRkbGUuICBPciBudWxsIGlmIHRoZXJlIHdhcyBubyBtYXRjaC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIGRpZmZfaGFsZk1hdGNoSV8obG9uZ3RleHQsIHNob3J0dGV4dCwgaSkge1xuICAgIC8vIFN0YXJ0IHdpdGggYSAxLzQgbGVuZ3RoIHN1YnN0cmluZyBhdCBwb3NpdGlvbiBpIGFzIGEgc2VlZC5cbiAgICB2YXIgc2VlZCA9IGxvbmd0ZXh0LnN1YnN0cmluZyhpLCBpICsgTWF0aC5mbG9vcihsb25ndGV4dC5sZW5ndGggLyA0KSk7XG4gICAgdmFyIGogPSAtMTtcbiAgICB2YXIgYmVzdF9jb21tb24gPSAnJztcbiAgICB2YXIgYmVzdF9sb25ndGV4dF9hLCBiZXN0X2xvbmd0ZXh0X2IsIGJlc3Rfc2hvcnR0ZXh0X2EsIGJlc3Rfc2hvcnR0ZXh0X2I7XG4gICAgd2hpbGUgKChqID0gc2hvcnR0ZXh0LmluZGV4T2Yoc2VlZCwgaiArIDEpKSAhPT0gLTEpIHtcbiAgICAgIHZhciBwcmVmaXhMZW5ndGggPSBkaWZmX2NvbW1vblByZWZpeChcbiAgICAgICAgbG9uZ3RleHQuc3Vic3RyaW5nKGkpLCBzaG9ydHRleHQuc3Vic3RyaW5nKGopKTtcbiAgICAgIHZhciBzdWZmaXhMZW5ndGggPSBkaWZmX2NvbW1vblN1ZmZpeChcbiAgICAgICAgbG9uZ3RleHQuc3Vic3RyaW5nKDAsIGkpLCBzaG9ydHRleHQuc3Vic3RyaW5nKDAsIGopKTtcbiAgICAgIGlmIChiZXN0X2NvbW1vbi5sZW5ndGggPCBzdWZmaXhMZW5ndGggKyBwcmVmaXhMZW5ndGgpIHtcbiAgICAgICAgYmVzdF9jb21tb24gPSBzaG9ydHRleHQuc3Vic3RyaW5nKFxuICAgICAgICAgIGogLSBzdWZmaXhMZW5ndGgsIGopICsgc2hvcnR0ZXh0LnN1YnN0cmluZyhqLCBqICsgcHJlZml4TGVuZ3RoKTtcbiAgICAgICAgYmVzdF9sb25ndGV4dF9hID0gbG9uZ3RleHQuc3Vic3RyaW5nKDAsIGkgLSBzdWZmaXhMZW5ndGgpO1xuICAgICAgICBiZXN0X2xvbmd0ZXh0X2IgPSBsb25ndGV4dC5zdWJzdHJpbmcoaSArIHByZWZpeExlbmd0aCk7XG4gICAgICAgIGJlc3Rfc2hvcnR0ZXh0X2EgPSBzaG9ydHRleHQuc3Vic3RyaW5nKDAsIGogLSBzdWZmaXhMZW5ndGgpO1xuICAgICAgICBiZXN0X3Nob3J0dGV4dF9iID0gc2hvcnR0ZXh0LnN1YnN0cmluZyhqICsgcHJlZml4TGVuZ3RoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGJlc3RfY29tbW9uLmxlbmd0aCAqIDIgPj0gbG9uZ3RleHQubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICBiZXN0X2xvbmd0ZXh0X2EsIGJlc3RfbG9uZ3RleHRfYixcbiAgICAgICAgYmVzdF9zaG9ydHRleHRfYSwgYmVzdF9zaG9ydHRleHRfYiwgYmVzdF9jb21tb25cbiAgICAgIF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZpcnN0IGNoZWNrIGlmIHRoZSBzZWNvbmQgcXVhcnRlciBpcyB0aGUgc2VlZCBmb3IgYSBoYWxmLW1hdGNoLlxuICB2YXIgaG0xID0gZGlmZl9oYWxmTWF0Y2hJXyhsb25ndGV4dCwgc2hvcnR0ZXh0LCBNYXRoLmNlaWwobG9uZ3RleHQubGVuZ3RoIC8gNCkpO1xuICAvLyBDaGVjayBhZ2FpbiBiYXNlZCBvbiB0aGUgdGhpcmQgcXVhcnRlci5cbiAgdmFyIGhtMiA9IGRpZmZfaGFsZk1hdGNoSV8obG9uZ3RleHQsIHNob3J0dGV4dCwgTWF0aC5jZWlsKGxvbmd0ZXh0Lmxlbmd0aCAvIDIpKTtcbiAgdmFyIGhtO1xuICBpZiAoIWhtMSAmJiAhaG0yKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSBpZiAoIWhtMikge1xuICAgIGhtID0gaG0xO1xuICB9IGVsc2UgaWYgKCFobTEpIHtcbiAgICBobSA9IGhtMjtcbiAgfSBlbHNlIHtcbiAgICAvLyBCb3RoIG1hdGNoZWQuICBTZWxlY3QgdGhlIGxvbmdlc3QuXG4gICAgaG0gPSBobTFbNF0ubGVuZ3RoID4gaG0yWzRdLmxlbmd0aCA/IGhtMSA6IGhtMjtcbiAgfVxuXG4gIC8vIEEgaGFsZi1tYXRjaCB3YXMgZm91bmQsIHNvcnQgb3V0IHRoZSByZXR1cm4gZGF0YS5cbiAgdmFyIHRleHQxX2EsIHRleHQxX2IsIHRleHQyX2EsIHRleHQyX2I7XG4gIGlmICh0ZXh0MS5sZW5ndGggPiB0ZXh0Mi5sZW5ndGgpIHtcbiAgICB0ZXh0MV9hID0gaG1bMF07XG4gICAgdGV4dDFfYiA9IGhtWzFdO1xuICAgIHRleHQyX2EgPSBobVsyXTtcbiAgICB0ZXh0Ml9iID0gaG1bM107XG4gIH0gZWxzZSB7XG4gICAgdGV4dDJfYSA9IGhtWzBdO1xuICAgIHRleHQyX2IgPSBobVsxXTtcbiAgICB0ZXh0MV9hID0gaG1bMl07XG4gICAgdGV4dDFfYiA9IGhtWzNdO1xuICB9XG4gIHZhciBtaWRfY29tbW9uID0gaG1bNF07XG4gIHJldHVybiBbdGV4dDFfYSwgdGV4dDFfYiwgdGV4dDJfYSwgdGV4dDJfYiwgbWlkX2NvbW1vbl07XG59O1xuXG5cbi8qKlxuICogUmVvcmRlciBhbmQgbWVyZ2UgbGlrZSBlZGl0IHNlY3Rpb25zLiAgTWVyZ2UgZXF1YWxpdGllcy5cbiAqIEFueSBlZGl0IHNlY3Rpb24gY2FuIG1vdmUgYXMgbG9uZyBhcyBpdCBkb2Vzbid0IGNyb3NzIGFuIGVxdWFsaXR5LlxuICogQHBhcmFtIHtBcnJheX0gZGlmZnMgQXJyYXkgb2YgZGlmZiB0dXBsZXMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGZpeF91bmljb2RlIFdoZXRoZXIgdG8gbm9ybWFsaXplIHRvIGEgdW5pY29kZS1jb3JyZWN0IGRpZmZcbiAqL1xuZnVuY3Rpb24gZGlmZl9jbGVhbnVwTWVyZ2UoZGlmZnMsIGZpeF91bmljb2RlKSB7XG4gIGRpZmZzLnB1c2goW0RJRkZfRVFVQUwsICcnXSk7ICAvLyBBZGQgYSBkdW1teSBlbnRyeSBhdCB0aGUgZW5kLlxuICB2YXIgcG9pbnRlciA9IDA7XG4gIHZhciBjb3VudF9kZWxldGUgPSAwO1xuICB2YXIgY291bnRfaW5zZXJ0ID0gMDtcbiAgdmFyIHRleHRfZGVsZXRlID0gJyc7XG4gIHZhciB0ZXh0X2luc2VydCA9ICcnO1xuICB2YXIgY29tbW9ubGVuZ3RoO1xuICB3aGlsZSAocG9pbnRlciA8IGRpZmZzLmxlbmd0aCkge1xuICAgIGlmIChwb2ludGVyIDwgZGlmZnMubGVuZ3RoIC0gMSAmJiAhZGlmZnNbcG9pbnRlcl1bMV0pIHtcbiAgICAgIGRpZmZzLnNwbGljZShwb2ludGVyLCAxKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBzd2l0Y2ggKGRpZmZzW3BvaW50ZXJdWzBdKSB7XG4gICAgICBjYXNlIERJRkZfSU5TRVJUOlxuXG4gICAgICAgIGNvdW50X2luc2VydCsrO1xuICAgICAgICB0ZXh0X2luc2VydCArPSBkaWZmc1twb2ludGVyXVsxXTtcbiAgICAgICAgcG9pbnRlcisrO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRElGRl9ERUxFVEU6XG4gICAgICAgIGNvdW50X2RlbGV0ZSsrO1xuICAgICAgICB0ZXh0X2RlbGV0ZSArPSBkaWZmc1twb2ludGVyXVsxXTtcbiAgICAgICAgcG9pbnRlcisrO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRElGRl9FUVVBTDpcbiAgICAgICAgdmFyIHByZXZpb3VzX2VxdWFsaXR5ID0gcG9pbnRlciAtIGNvdW50X2luc2VydCAtIGNvdW50X2RlbGV0ZSAtIDE7XG4gICAgICAgIGlmIChmaXhfdW5pY29kZSkge1xuICAgICAgICAgIC8vIHByZXZlbnQgc3BsaXR0aW5nIG9mIHVuaWNvZGUgc3Vycm9nYXRlIHBhaXJzLiAgd2hlbiBmaXhfdW5pY29kZSBpcyB0cnVlLFxuICAgICAgICAgIC8vIHdlIGFzc3VtZSB0aGF0IHRoZSBvbGQgYW5kIG5ldyB0ZXh0IGluIHRoZSBkaWZmIGFyZSBjb21wbGV0ZSBhbmQgY29ycmVjdFxuICAgICAgICAgIC8vIHVuaWNvZGUtZW5jb2RlZCBKUyBzdHJpbmdzLCBidXQgdGhlIHR1cGxlIGJvdW5kYXJpZXMgbWF5IGZhbGwgYmV0d2VlblxuICAgICAgICAgIC8vIHN1cnJvZ2F0ZSBwYWlycy4gIHdlIGZpeCB0aGlzIGJ5IHNoYXZpbmcgb2ZmIHN0cmF5IHN1cnJvZ2F0ZXMgZnJvbSB0aGUgZW5kXG4gICAgICAgICAgLy8gb2YgdGhlIHByZXZpb3VzIGVxdWFsaXR5IGFuZCB0aGUgYmVnaW5uaW5nIG9mIHRoaXMgZXF1YWxpdHkuICB0aGlzIG1heSBjcmVhdGVcbiAgICAgICAgICAvLyBlbXB0eSBlcXVhbGl0aWVzIG9yIGEgY29tbW9uIHByZWZpeCBvciBzdWZmaXguICBmb3IgZXhhbXBsZSwgaWYgQUIgYW5kIEFDIGFyZVxuICAgICAgICAgIC8vIGVtb2ppcywgYFtbMCwgJ0EnXSwgWy0xLCAnQkEnXSwgWzAsICdDJ11dYCB3b3VsZCB0dXJuIGludG8gZGVsZXRpbmcgJ0FCQUMnIGFuZFxuICAgICAgICAgIC8vIGluc2VydGluZyAnQUMnLCBhbmQgdGhlbiB0aGUgY29tbW9uIHN1ZmZpeCAnQUMnIHdpbGwgYmUgZWxpbWluYXRlZC4gIGluIHRoaXNcbiAgICAgICAgICAvLyBwYXJ0aWN1bGFyIGNhc2UsIGJvdGggZXF1YWxpdGllcyBnbyBhd2F5LCB3ZSBhYnNvcmIgYW55IHByZXZpb3VzIGluZXF1YWxpdGllcyxcbiAgICAgICAgICAvLyBhbmQgd2Uga2VlcCBzY2FubmluZyBmb3IgdGhlIG5leHQgZXF1YWxpdHkgYmVmb3JlIHJld3JpdGluZyB0aGUgdHVwbGVzLlxuICAgICAgICAgIGlmIChwcmV2aW91c19lcXVhbGl0eSA+PSAwICYmIGVuZHNfd2l0aF9wYWlyX3N0YXJ0KGRpZmZzW3ByZXZpb3VzX2VxdWFsaXR5XVsxXSkpIHtcbiAgICAgICAgICAgIHZhciBzdHJheSA9IGRpZmZzW3ByZXZpb3VzX2VxdWFsaXR5XVsxXS5zbGljZSgtMSk7XG4gICAgICAgICAgICBkaWZmc1twcmV2aW91c19lcXVhbGl0eV1bMV0gPSBkaWZmc1twcmV2aW91c19lcXVhbGl0eV1bMV0uc2xpY2UoMCwgLTEpO1xuICAgICAgICAgICAgdGV4dF9kZWxldGUgPSBzdHJheSArIHRleHRfZGVsZXRlO1xuICAgICAgICAgICAgdGV4dF9pbnNlcnQgPSBzdHJheSArIHRleHRfaW5zZXJ0O1xuICAgICAgICAgICAgaWYgKCFkaWZmc1twcmV2aW91c19lcXVhbGl0eV1bMV0pIHtcbiAgICAgICAgICAgICAgLy8gZW1wdGllZCBvdXQgcHJldmlvdXMgZXF1YWxpdHksIHNvIGRlbGV0ZSBpdCBhbmQgaW5jbHVkZSBwcmV2aW91cyBkZWxldGUvaW5zZXJ0XG4gICAgICAgICAgICAgIGRpZmZzLnNwbGljZShwcmV2aW91c19lcXVhbGl0eSwgMSk7XG4gICAgICAgICAgICAgIHBvaW50ZXItLTtcbiAgICAgICAgICAgICAgdmFyIGsgPSBwcmV2aW91c19lcXVhbGl0eSAtIDE7XG4gICAgICAgICAgICAgIGlmIChkaWZmc1trXSAmJiBkaWZmc1trXVswXSA9PT0gRElGRl9JTlNFUlQpIHtcbiAgICAgICAgICAgICAgICBjb3VudF9pbnNlcnQrKztcbiAgICAgICAgICAgICAgICB0ZXh0X2luc2VydCA9IGRpZmZzW2tdWzFdICsgdGV4dF9pbnNlcnQ7XG4gICAgICAgICAgICAgICAgay0tO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChkaWZmc1trXSAmJiBkaWZmc1trXVswXSA9PT0gRElGRl9ERUxFVEUpIHtcbiAgICAgICAgICAgICAgICBjb3VudF9kZWxldGUrKztcbiAgICAgICAgICAgICAgICB0ZXh0X2RlbGV0ZSA9IGRpZmZzW2tdWzFdICsgdGV4dF9kZWxldGU7XG4gICAgICAgICAgICAgICAgay0tO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHByZXZpb3VzX2VxdWFsaXR5ID0gaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHN0YXJ0c193aXRoX3BhaXJfZW5kKGRpZmZzW3BvaW50ZXJdWzFdKSkge1xuICAgICAgICAgICAgdmFyIHN0cmF5ID0gZGlmZnNbcG9pbnRlcl1bMV0uY2hhckF0KDApO1xuICAgICAgICAgICAgZGlmZnNbcG9pbnRlcl1bMV0gPSBkaWZmc1twb2ludGVyXVsxXS5zbGljZSgxKTtcbiAgICAgICAgICAgIHRleHRfZGVsZXRlICs9IHN0cmF5O1xuICAgICAgICAgICAgdGV4dF9pbnNlcnQgKz0gc3RyYXk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwb2ludGVyIDwgZGlmZnMubGVuZ3RoIC0gMSAmJiAhZGlmZnNbcG9pbnRlcl1bMV0pIHtcbiAgICAgICAgICAvLyBmb3IgZW1wdHkgZXF1YWxpdHkgbm90IGF0IGVuZCwgd2FpdCBmb3IgbmV4dCBlcXVhbGl0eVxuICAgICAgICAgIGRpZmZzLnNwbGljZShwb2ludGVyLCAxKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGV4dF9kZWxldGUubGVuZ3RoID4gMCB8fCB0ZXh0X2luc2VydC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgLy8gbm90ZSB0aGF0IGRpZmZfY29tbW9uUHJlZml4IGFuZCBkaWZmX2NvbW1vblN1ZmZpeCBhcmUgdW5pY29kZS1hd2FyZVxuICAgICAgICAgIGlmICh0ZXh0X2RlbGV0ZS5sZW5ndGggPiAwICYmIHRleHRfaW5zZXJ0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIEZhY3RvciBvdXQgYW55IGNvbW1vbiBwcmVmaXhlcy5cbiAgICAgICAgICAgIGNvbW1vbmxlbmd0aCA9IGRpZmZfY29tbW9uUHJlZml4KHRleHRfaW5zZXJ0LCB0ZXh0X2RlbGV0ZSk7XG4gICAgICAgICAgICBpZiAoY29tbW9ubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgIGlmIChwcmV2aW91c19lcXVhbGl0eSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgZGlmZnNbcHJldmlvdXNfZXF1YWxpdHldWzFdICs9IHRleHRfaW5zZXJ0LnN1YnN0cmluZygwLCBjb21tb25sZW5ndGgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpZmZzLnNwbGljZSgwLCAwLCBbRElGRl9FUVVBTCwgdGV4dF9pbnNlcnQuc3Vic3RyaW5nKDAsIGNvbW1vbmxlbmd0aCldKTtcbiAgICAgICAgICAgICAgICBwb2ludGVyKys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGV4dF9pbnNlcnQgPSB0ZXh0X2luc2VydC5zdWJzdHJpbmcoY29tbW9ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgdGV4dF9kZWxldGUgPSB0ZXh0X2RlbGV0ZS5zdWJzdHJpbmcoY29tbW9ubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZhY3RvciBvdXQgYW55IGNvbW1vbiBzdWZmaXhlcy5cbiAgICAgICAgICAgIGNvbW1vbmxlbmd0aCA9IGRpZmZfY29tbW9uU3VmZml4KHRleHRfaW5zZXJ0LCB0ZXh0X2RlbGV0ZSk7XG4gICAgICAgICAgICBpZiAoY29tbW9ubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgIGRpZmZzW3BvaW50ZXJdWzFdID1cbiAgICAgICAgICAgICAgICB0ZXh0X2luc2VydC5zdWJzdHJpbmcodGV4dF9pbnNlcnQubGVuZ3RoIC0gY29tbW9ubGVuZ3RoKSArIGRpZmZzW3BvaW50ZXJdWzFdO1xuICAgICAgICAgICAgICB0ZXh0X2luc2VydCA9IHRleHRfaW5zZXJ0LnN1YnN0cmluZygwLCB0ZXh0X2luc2VydC5sZW5ndGggLSBjb21tb25sZW5ndGgpO1xuICAgICAgICAgICAgICB0ZXh0X2RlbGV0ZSA9IHRleHRfZGVsZXRlLnN1YnN0cmluZygwLCB0ZXh0X2RlbGV0ZS5sZW5ndGggLSBjb21tb25sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBEZWxldGUgdGhlIG9mZmVuZGluZyByZWNvcmRzIGFuZCBhZGQgdGhlIG1lcmdlZCBvbmVzLlxuICAgICAgICAgIHZhciBuID0gY291bnRfaW5zZXJ0ICsgY291bnRfZGVsZXRlO1xuICAgICAgICAgIGlmICh0ZXh0X2RlbGV0ZS5sZW5ndGggPT09IDAgJiYgdGV4dF9pbnNlcnQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciAtIG4sIG4pO1xuICAgICAgICAgICAgcG9pbnRlciA9IHBvaW50ZXIgLSBuO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGV4dF9kZWxldGUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciAtIG4sIG4sIFtESUZGX0lOU0VSVCwgdGV4dF9pbnNlcnRdKTtcbiAgICAgICAgICAgIHBvaW50ZXIgPSBwb2ludGVyIC0gbiArIDE7XG4gICAgICAgICAgfSBlbHNlIGlmICh0ZXh0X2luc2VydC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGRpZmZzLnNwbGljZShwb2ludGVyIC0gbiwgbiwgW0RJRkZfREVMRVRFLCB0ZXh0X2RlbGV0ZV0pO1xuICAgICAgICAgICAgcG9pbnRlciA9IHBvaW50ZXIgLSBuICsgMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIgLSBuLCBuLCBbRElGRl9ERUxFVEUsIHRleHRfZGVsZXRlXSwgW0RJRkZfSU5TRVJULCB0ZXh0X2luc2VydF0pO1xuICAgICAgICAgICAgcG9pbnRlciA9IHBvaW50ZXIgLSBuICsgMjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvaW50ZXIgIT09IDAgJiYgZGlmZnNbcG9pbnRlciAtIDFdWzBdID09PSBESUZGX0VRVUFMKSB7XG4gICAgICAgICAgLy8gTWVyZ2UgdGhpcyBlcXVhbGl0eSB3aXRoIHRoZSBwcmV2aW91cyBvbmUuXG4gICAgICAgICAgZGlmZnNbcG9pbnRlciAtIDFdWzFdICs9IGRpZmZzW3BvaW50ZXJdWzFdO1xuICAgICAgICAgIGRpZmZzLnNwbGljZShwb2ludGVyLCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwb2ludGVyKys7XG4gICAgICAgIH1cbiAgICAgICAgY291bnRfaW5zZXJ0ID0gMDtcbiAgICAgICAgY291bnRfZGVsZXRlID0gMDtcbiAgICAgICAgdGV4dF9kZWxldGUgPSAnJztcbiAgICAgICAgdGV4dF9pbnNlcnQgPSAnJztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGlmIChkaWZmc1tkaWZmcy5sZW5ndGggLSAxXVsxXSA9PT0gJycpIHtcbiAgICBkaWZmcy5wb3AoKTsgIC8vIFJlbW92ZSB0aGUgZHVtbXkgZW50cnkgYXQgdGhlIGVuZC5cbiAgfVxuXG4gIC8vIFNlY29uZCBwYXNzOiBsb29rIGZvciBzaW5nbGUgZWRpdHMgc3Vycm91bmRlZCBvbiBib3RoIHNpZGVzIGJ5IGVxdWFsaXRpZXNcbiAgLy8gd2hpY2ggY2FuIGJlIHNoaWZ0ZWQgc2lkZXdheXMgdG8gZWxpbWluYXRlIGFuIGVxdWFsaXR5LlxuICAvLyBlLmc6IEE8aW5zPkJBPC9pbnM+QyAtPiA8aW5zPkFCPC9pbnM+QUNcbiAgdmFyIGNoYW5nZXMgPSBmYWxzZTtcbiAgcG9pbnRlciA9IDE7XG4gIC8vIEludGVudGlvbmFsbHkgaWdub3JlIHRoZSBmaXJzdCBhbmQgbGFzdCBlbGVtZW50IChkb24ndCBuZWVkIGNoZWNraW5nKS5cbiAgd2hpbGUgKHBvaW50ZXIgPCBkaWZmcy5sZW5ndGggLSAxKSB7XG4gICAgaWYgKGRpZmZzW3BvaW50ZXIgLSAxXVswXSA9PT0gRElGRl9FUVVBTCAmJlxuICAgICAgZGlmZnNbcG9pbnRlciArIDFdWzBdID09PSBESUZGX0VRVUFMKSB7XG4gICAgICAvLyBUaGlzIGlzIGEgc2luZ2xlIGVkaXQgc3Vycm91bmRlZCBieSBlcXVhbGl0aWVzLlxuICAgICAgaWYgKGRpZmZzW3BvaW50ZXJdWzFdLnN1YnN0cmluZyhkaWZmc1twb2ludGVyXVsxXS5sZW5ndGggLVxuICAgICAgICBkaWZmc1twb2ludGVyIC0gMV1bMV0ubGVuZ3RoKSA9PT0gZGlmZnNbcG9pbnRlciAtIDFdWzFdKSB7XG4gICAgICAgIC8vIFNoaWZ0IHRoZSBlZGl0IG92ZXIgdGhlIHByZXZpb3VzIGVxdWFsaXR5LlxuICAgICAgICBkaWZmc1twb2ludGVyXVsxXSA9IGRpZmZzW3BvaW50ZXIgLSAxXVsxXSArXG4gICAgICAgICAgZGlmZnNbcG9pbnRlcl1bMV0uc3Vic3RyaW5nKDAsIGRpZmZzW3BvaW50ZXJdWzFdLmxlbmd0aCAtXG4gICAgICAgICAgICBkaWZmc1twb2ludGVyIC0gMV1bMV0ubGVuZ3RoKTtcbiAgICAgICAgZGlmZnNbcG9pbnRlciArIDFdWzFdID0gZGlmZnNbcG9pbnRlciAtIDFdWzFdICsgZGlmZnNbcG9pbnRlciArIDFdWzFdO1xuICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciAtIDEsIDEpO1xuICAgICAgICBjaGFuZ2VzID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoZGlmZnNbcG9pbnRlcl1bMV0uc3Vic3RyaW5nKDAsIGRpZmZzW3BvaW50ZXIgKyAxXVsxXS5sZW5ndGgpID09XG4gICAgICAgIGRpZmZzW3BvaW50ZXIgKyAxXVsxXSkge1xuICAgICAgICAvLyBTaGlmdCB0aGUgZWRpdCBvdmVyIHRoZSBuZXh0IGVxdWFsaXR5LlxuICAgICAgICBkaWZmc1twb2ludGVyIC0gMV1bMV0gKz0gZGlmZnNbcG9pbnRlciArIDFdWzFdO1xuICAgICAgICBkaWZmc1twb2ludGVyXVsxXSA9XG4gICAgICAgICAgZGlmZnNbcG9pbnRlcl1bMV0uc3Vic3RyaW5nKGRpZmZzW3BvaW50ZXIgKyAxXVsxXS5sZW5ndGgpICtcbiAgICAgICAgICBkaWZmc1twb2ludGVyICsgMV1bMV07XG4gICAgICAgIGRpZmZzLnNwbGljZShwb2ludGVyICsgMSwgMSk7XG4gICAgICAgIGNoYW5nZXMgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBwb2ludGVyKys7XG4gIH1cbiAgLy8gSWYgc2hpZnRzIHdlcmUgbWFkZSwgdGhlIGRpZmYgbmVlZHMgcmVvcmRlcmluZyBhbmQgYW5vdGhlciBzaGlmdCBzd2VlcC5cbiAgaWYgKGNoYW5nZXMpIHtcbiAgICBkaWZmX2NsZWFudXBNZXJnZShkaWZmcywgZml4X3VuaWNvZGUpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBpc19zdXJyb2dhdGVfcGFpcl9zdGFydChjaGFyQ29kZSkge1xuICByZXR1cm4gY2hhckNvZGUgPj0gMHhEODAwICYmIGNoYXJDb2RlIDw9IDB4REJGRjtcbn1cblxuZnVuY3Rpb24gaXNfc3Vycm9nYXRlX3BhaXJfZW5kKGNoYXJDb2RlKSB7XG4gIHJldHVybiBjaGFyQ29kZSA+PSAweERDMDAgJiYgY2hhckNvZGUgPD0gMHhERkZGO1xufVxuXG5mdW5jdGlvbiBzdGFydHNfd2l0aF9wYWlyX2VuZChzdHIpIHtcbiAgcmV0dXJuIGlzX3N1cnJvZ2F0ZV9wYWlyX2VuZChzdHIuY2hhckNvZGVBdCgwKSk7XG59XG5cbmZ1bmN0aW9uIGVuZHNfd2l0aF9wYWlyX3N0YXJ0KHN0cikge1xuICByZXR1cm4gaXNfc3Vycm9nYXRlX3BhaXJfc3RhcnQoc3RyLmNoYXJDb2RlQXQoc3RyLmxlbmd0aCAtIDEpKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlX2VtcHR5X3R1cGxlcyh0dXBsZXMpIHtcbiAgdmFyIHJldCA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHR1cGxlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmICh0dXBsZXNbaV1bMV0ubGVuZ3RoID4gMCkge1xuICAgICAgcmV0LnB1c2godHVwbGVzW2ldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gbWFrZV9lZGl0X3NwbGljZShiZWZvcmUsIG9sZE1pZGRsZSwgbmV3TWlkZGxlLCBhZnRlcikge1xuICBpZiAoZW5kc193aXRoX3BhaXJfc3RhcnQoYmVmb3JlKSB8fCBzdGFydHNfd2l0aF9wYWlyX2VuZChhZnRlcikpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gcmVtb3ZlX2VtcHR5X3R1cGxlcyhbXG4gICAgW0RJRkZfRVFVQUwsIGJlZm9yZV0sXG4gICAgW0RJRkZfREVMRVRFLCBvbGRNaWRkbGVdLFxuICAgIFtESUZGX0lOU0VSVCwgbmV3TWlkZGxlXSxcbiAgICBbRElGRl9FUVVBTCwgYWZ0ZXJdXG4gIF0pO1xufVxuXG5mdW5jdGlvbiBmaW5kX2N1cnNvcl9lZGl0X2RpZmYob2xkVGV4dCwgbmV3VGV4dCwgY3Vyc29yX3Bvcykge1xuICAvLyBub3RlOiB0aGlzIHJ1bnMgYWZ0ZXIgZXF1YWxpdHkgY2hlY2sgaGFzIHJ1bGVkIG91dCBleGFjdCBlcXVhbGl0eVxuICB2YXIgb2xkUmFuZ2UgPSB0eXBlb2YgY3Vyc29yX3BvcyA9PT0gJ251bWJlcicgP1xuICAgIHsgaW5kZXg6IGN1cnNvcl9wb3MsIGxlbmd0aDogMCB9IDogY3Vyc29yX3Bvcy5vbGRSYW5nZTtcbiAgdmFyIG5ld1JhbmdlID0gdHlwZW9mIGN1cnNvcl9wb3MgPT09ICdudW1iZXInID9cbiAgICBudWxsIDogY3Vyc29yX3Bvcy5uZXdSYW5nZTtcbiAgLy8gdGFrZSBpbnRvIGFjY291bnQgdGhlIG9sZCBhbmQgbmV3IHNlbGVjdGlvbiB0byBnZW5lcmF0ZSB0aGUgYmVzdCBkaWZmXG4gIC8vIHBvc3NpYmxlIGZvciBhIHRleHQgZWRpdC4gIGZvciBleGFtcGxlLCBhIHRleHQgY2hhbmdlIGZyb20gXCJ4eHhcIiB0byBcInh4XCJcbiAgLy8gY291bGQgYmUgYSBkZWxldGUgb3IgZm9yd2FyZHMtZGVsZXRlIG9mIGFueSBvbmUgb2YgdGhlIHgncywgb3IgdGhlXG4gIC8vIHJlc3VsdCBvZiBzZWxlY3RpbmcgdHdvIG9mIHRoZSB4J3MgYW5kIHR5cGluZyBcInhcIi5cbiAgdmFyIG9sZExlbmd0aCA9IG9sZFRleHQubGVuZ3RoO1xuICB2YXIgbmV3TGVuZ3RoID0gbmV3VGV4dC5sZW5ndGg7XG4gIGlmIChvbGRSYW5nZS5sZW5ndGggPT09IDAgJiYgKG5ld1JhbmdlID09PSBudWxsIHx8IG5ld1JhbmdlLmxlbmd0aCA9PT0gMCkpIHtcbiAgICAvLyBzZWUgaWYgd2UgaGF2ZSBhbiBpbnNlcnQgb3IgZGVsZXRlIGJlZm9yZSBvciBhZnRlciBjdXJzb3JcbiAgICB2YXIgb2xkQ3Vyc29yID0gb2xkUmFuZ2UuaW5kZXg7XG4gICAgdmFyIG9sZEJlZm9yZSA9IG9sZFRleHQuc2xpY2UoMCwgb2xkQ3Vyc29yKTtcbiAgICB2YXIgb2xkQWZ0ZXIgPSBvbGRUZXh0LnNsaWNlKG9sZEN1cnNvcik7XG4gICAgdmFyIG1heWJlTmV3Q3Vyc29yID0gbmV3UmFuZ2UgPyBuZXdSYW5nZS5pbmRleCA6IG51bGw7XG4gICAgZWRpdEJlZm9yZToge1xuICAgICAgLy8gaXMgdGhpcyBhbiBpbnNlcnQgb3IgZGVsZXRlIHJpZ2h0IGJlZm9yZSBvbGRDdXJzb3I/XG4gICAgICB2YXIgbmV3Q3Vyc29yID0gb2xkQ3Vyc29yICsgbmV3TGVuZ3RoIC0gb2xkTGVuZ3RoO1xuICAgICAgaWYgKG1heWJlTmV3Q3Vyc29yICE9PSBudWxsICYmIG1heWJlTmV3Q3Vyc29yICE9PSBuZXdDdXJzb3IpIHtcbiAgICAgICAgYnJlYWsgZWRpdEJlZm9yZTtcbiAgICAgIH1cbiAgICAgIGlmIChuZXdDdXJzb3IgPCAwIHx8IG5ld0N1cnNvciA+IG5ld0xlbmd0aCkge1xuICAgICAgICBicmVhayBlZGl0QmVmb3JlO1xuICAgICAgfVxuICAgICAgdmFyIG5ld0JlZm9yZSA9IG5ld1RleHQuc2xpY2UoMCwgbmV3Q3Vyc29yKTtcbiAgICAgIHZhciBuZXdBZnRlciA9IG5ld1RleHQuc2xpY2UobmV3Q3Vyc29yKTtcbiAgICAgIGlmIChuZXdBZnRlciAhPT0gb2xkQWZ0ZXIpIHtcbiAgICAgICAgYnJlYWsgZWRpdEJlZm9yZTtcbiAgICAgIH1cbiAgICAgIHZhciBwcmVmaXhMZW5ndGggPSBNYXRoLm1pbihvbGRDdXJzb3IsIG5ld0N1cnNvcik7XG4gICAgICB2YXIgb2xkUHJlZml4ID0gb2xkQmVmb3JlLnNsaWNlKDAsIHByZWZpeExlbmd0aCk7XG4gICAgICB2YXIgbmV3UHJlZml4ID0gbmV3QmVmb3JlLnNsaWNlKDAsIHByZWZpeExlbmd0aCk7XG4gICAgICBpZiAob2xkUHJlZml4ICE9PSBuZXdQcmVmaXgpIHtcbiAgICAgICAgYnJlYWsgZWRpdEJlZm9yZTtcbiAgICAgIH1cbiAgICAgIHZhciBvbGRNaWRkbGUgPSBvbGRCZWZvcmUuc2xpY2UocHJlZml4TGVuZ3RoKTtcbiAgICAgIHZhciBuZXdNaWRkbGUgPSBuZXdCZWZvcmUuc2xpY2UocHJlZml4TGVuZ3RoKTtcbiAgICAgIHJldHVybiBtYWtlX2VkaXRfc3BsaWNlKG9sZFByZWZpeCwgb2xkTWlkZGxlLCBuZXdNaWRkbGUsIG9sZEFmdGVyKTtcbiAgICB9XG4gICAgZWRpdEFmdGVyOiB7XG4gICAgICAvLyBpcyB0aGlzIGFuIGluc2VydCBvciBkZWxldGUgcmlnaHQgYWZ0ZXIgb2xkQ3Vyc29yP1xuICAgICAgaWYgKG1heWJlTmV3Q3Vyc29yICE9PSBudWxsICYmIG1heWJlTmV3Q3Vyc29yICE9PSBvbGRDdXJzb3IpIHtcbiAgICAgICAgYnJlYWsgZWRpdEFmdGVyO1xuICAgICAgfVxuICAgICAgdmFyIGN1cnNvciA9IG9sZEN1cnNvcjtcbiAgICAgIHZhciBuZXdCZWZvcmUgPSBuZXdUZXh0LnNsaWNlKDAsIGN1cnNvcik7XG4gICAgICB2YXIgbmV3QWZ0ZXIgPSBuZXdUZXh0LnNsaWNlKGN1cnNvcik7XG4gICAgICBpZiAobmV3QmVmb3JlICE9PSBvbGRCZWZvcmUpIHtcbiAgICAgICAgYnJlYWsgZWRpdEFmdGVyO1xuICAgICAgfVxuICAgICAgdmFyIHN1ZmZpeExlbmd0aCA9IE1hdGgubWluKG9sZExlbmd0aCAtIGN1cnNvciwgbmV3TGVuZ3RoIC0gY3Vyc29yKTtcbiAgICAgIHZhciBvbGRTdWZmaXggPSBvbGRBZnRlci5zbGljZShvbGRBZnRlci5sZW5ndGggLSBzdWZmaXhMZW5ndGgpO1xuICAgICAgdmFyIG5ld1N1ZmZpeCA9IG5ld0FmdGVyLnNsaWNlKG5ld0FmdGVyLmxlbmd0aCAtIHN1ZmZpeExlbmd0aCk7XG4gICAgICBpZiAob2xkU3VmZml4ICE9PSBuZXdTdWZmaXgpIHtcbiAgICAgICAgYnJlYWsgZWRpdEFmdGVyO1xuICAgICAgfVxuICAgICAgdmFyIG9sZE1pZGRsZSA9IG9sZEFmdGVyLnNsaWNlKDAsIG9sZEFmdGVyLmxlbmd0aCAtIHN1ZmZpeExlbmd0aCk7XG4gICAgICB2YXIgbmV3TWlkZGxlID0gbmV3QWZ0ZXIuc2xpY2UoMCwgbmV3QWZ0ZXIubGVuZ3RoIC0gc3VmZml4TGVuZ3RoKTtcbiAgICAgIHJldHVybiBtYWtlX2VkaXRfc3BsaWNlKG9sZEJlZm9yZSwgb2xkTWlkZGxlLCBuZXdNaWRkbGUsIG9sZFN1ZmZpeCk7XG4gICAgfVxuICB9XG4gIGlmIChvbGRSYW5nZS5sZW5ndGggPiAwICYmIG5ld1JhbmdlICYmIG5ld1JhbmdlLmxlbmd0aCA9PT0gMCkge1xuICAgIHJlcGxhY2VSYW5nZToge1xuICAgICAgLy8gc2VlIGlmIGRpZmYgY291bGQgYmUgYSBzcGxpY2Ugb2YgdGhlIG9sZCBzZWxlY3Rpb24gcmFuZ2VcbiAgICAgIHZhciBvbGRQcmVmaXggPSBvbGRUZXh0LnNsaWNlKDAsIG9sZFJhbmdlLmluZGV4KTtcbiAgICAgIHZhciBvbGRTdWZmaXggPSBvbGRUZXh0LnNsaWNlKG9sZFJhbmdlLmluZGV4ICsgb2xkUmFuZ2UubGVuZ3RoKTtcbiAgICAgIHZhciBwcmVmaXhMZW5ndGggPSBvbGRQcmVmaXgubGVuZ3RoO1xuICAgICAgdmFyIHN1ZmZpeExlbmd0aCA9IG9sZFN1ZmZpeC5sZW5ndGg7XG4gICAgICBpZiAobmV3TGVuZ3RoIDwgcHJlZml4TGVuZ3RoICsgc3VmZml4TGVuZ3RoKSB7XG4gICAgICAgIGJyZWFrIHJlcGxhY2VSYW5nZTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdQcmVmaXggPSBuZXdUZXh0LnNsaWNlKDAsIHByZWZpeExlbmd0aCk7XG4gICAgICB2YXIgbmV3U3VmZml4ID0gbmV3VGV4dC5zbGljZShuZXdMZW5ndGggLSBzdWZmaXhMZW5ndGgpO1xuICAgICAgaWYgKG9sZFByZWZpeCAhPT0gbmV3UHJlZml4IHx8IG9sZFN1ZmZpeCAhPT0gbmV3U3VmZml4KSB7XG4gICAgICAgIGJyZWFrIHJlcGxhY2VSYW5nZTtcbiAgICAgIH1cbiAgICAgIHZhciBvbGRNaWRkbGUgPSBvbGRUZXh0LnNsaWNlKHByZWZpeExlbmd0aCwgb2xkTGVuZ3RoIC0gc3VmZml4TGVuZ3RoKTtcbiAgICAgIHZhciBuZXdNaWRkbGUgPSBuZXdUZXh0LnNsaWNlKHByZWZpeExlbmd0aCwgbmV3TGVuZ3RoIC0gc3VmZml4TGVuZ3RoKTtcbiAgICAgIHJldHVybiBtYWtlX2VkaXRfc3BsaWNlKG9sZFByZWZpeCwgb2xkTWlkZGxlLCBuZXdNaWRkbGUsIG9sZFN1ZmZpeCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGRpZmYodGV4dDEsIHRleHQyLCBjdXJzb3JfcG9zKSB7XG4gIC8vIG9ubHkgcGFzcyBmaXhfdW5pY29kZT10cnVlIGF0IHRoZSB0b3AgbGV2ZWwsIG5vdCB3aGVuIGRpZmZfbWFpbiBpc1xuICAvLyByZWN1cnNpdmVseSBpbnZva2VkXG4gIHJldHVybiBkaWZmX21haW4odGV4dDEsIHRleHQyLCBjdXJzb3JfcG9zLCB0cnVlKTtcbn1cblxuZGlmZi5JTlNFUlQgPSBESUZGX0lOU0VSVDtcbmRpZmYuREVMRVRFID0gRElGRl9ERUxFVEU7XG5kaWZmLkVRVUFMID0gRElGRl9FUVVBTDtcblxubW9kdWxlLmV4cG9ydHMgPSBkaWZmO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFR5cGVzIC0gVHlwZSBkZWZpbmlpb25zLlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIERpZmYgZnJvbSBcIi4vZGlmZlwiO1xuaW1wb3J0ICogYXMgRXhwcnMgZnJvbSBcIi4vZXhwcnNcIjtcbmltcG9ydCAqIGFzIEdlb21ldHJ5VXRpbCBmcm9tIFwiLi9nZW9tZXRyeS11dGlsXCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFRhc2tVdGlsIGZyb20gXCIuL3Rhc2stdXRpbFwiO1xuXG5leHBvcnQgdHlwZSBGb3JtYXR0aW5nQ29udGV4dFR5cGUgPVxuICB8IFwiQmxvY2tcIlxuICB8IFwiUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJcIlxuICB8IFwiVGFibGVcIjtcblxuZXhwb3J0IHR5cGUgRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50VHlwZSA9XG4gIHwgXCJBZnRlcklmQ29udGludWVcIlxuICB8IFwiRW50aXJlVGFibGVcIlxuICB8IFwiUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJcIlxuICB8IFwiVGFibGVSb3dcIjtcblxuZXhwb3J0IG5hbWVzcGFjZSBDc3NDYXNjYWRlIHtcbiAgZXhwb3J0IGludGVyZmFjZSBFbGVtZW50U3R5bGUge31cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDc3NTdHlsZXIge1xuICBleHBvcnQgaW50ZXJmYWNlIEFic3RyYWN0U3R5bGVyIHtcbiAgICBnZXRTdHlsZShlbGVtZW50OiBFbGVtZW50LCBkZWVwOiBib29sZWFuKTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGU7XG4gICAgcHJvY2Vzc0NvbnRlbnQoZWxlbWVudDogRWxlbWVudCwgc3R5bGVzOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSk7XG4gIH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBMYXlvdXQge1xuICAvKipcbiAgICogUmVwcmVzZW50cyBhIGNvbnN0cmFpbnQgb24gbGF5b3V0XG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIExheW91dENvbnN0cmFpbnQge1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgaWYgdGhpcyBjb25zdHJhaW50IGFsbG93cyB0aGUgbm9kZSBjb250ZXh0IHRvIGJlIGxhaWQgb3V0IGF0IHRoZVxuICAgICAqIGN1cnJlbnQgcG9zaXRpb24uXG4gICAgICovXG4gICAgYWxsb3dMYXlvdXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbjtcbiAgfVxuICAvKipcbiAgICogUmVwcmVzZW50cyBjb25zdHJhaW50cyBvbiBsYXlpbmcgb3V0IGZyYWdtZW50c1xuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBGcmFnbWVudExheW91dENvbnN0cmFpbnQge1xuICAgIGZsYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGU6IEZyYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGU7XG4gICAgYWxsb3dMYXlvdXQoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBvdmVyZmxvd25Ob2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBjb2x1bW46IENvbHVtbixcbiAgICApOiBib29sZWFuO1xuICAgIG5leHRDYW5kaWRhdGUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbjtcbiAgICBwb3N0TGF5b3V0KFxuICAgICAgYWxsb3dlZDogYm9vbGVhbixcbiAgICAgIHBvc2l0aW9uQWZ0ZXI6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgaW5pdGlhbFBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGNvbHVtbjogQ29sdW1uLFxuICAgICk7XG4gICAgZmluaXNoQnJlYWsoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBjb2x1bW46IENvbHVtbixcbiAgICApOiBUYXNrLlJlc3VsdDxib29sZWFuPjtcbiAgICBlcXVhbHNUbyhjb25zdHJhaW50OiBGcmFnbWVudExheW91dENvbnN0cmFpbnQpOiBib29sZWFuO1xuICAgIGdldFByaW9yaXR5T2ZGaW5pc2hCcmVhaygpOiBudW1iZXI7XG4gIH1cblxuICAvKipcbiAgICogUG90ZW50aWFsIGJyZWFraW5nIHBvc2l0aW9uLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBCcmVha1Bvc2l0aW9uIHtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIGJyZWFrIHBvc2l0aW9uLCBpZiBmb3VuZFxuICAgICAqL1xuICAgIGZpbmRBY2NlcHRhYmxlQnJlYWsoY29sdW1uOiBDb2x1bW4sIHBlbmFsdHk6IG51bWJlcik6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gcGVuYWx0eSBmb3IgdGhpcyBicmVhayBwb3NpdGlvblxuICAgICAqL1xuICAgIGdldE1pbkJyZWFrUGVuYWx0eSgpOiBudW1iZXI7XG4gICAgY2FsY3VsYXRlT2Zmc2V0KGNvbHVtbjogQ29sdW1uKTogeyBjdXJyZW50OiBudW1iZXI7IG1pbmltdW06IG51bWJlciB9O1xuICAgIGJyZWFrUG9zaXRpb25DaG9zZW4oY29sdW1uOiBDb2x1bW4pOiB2b2lkO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBBYnN0cmFjdEJyZWFrUG9zaXRpb24gZXh0ZW5kcyBCcmVha1Bvc2l0aW9uIHtcbiAgICBnZXROb2RlQ29udGV4dCgpOiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgfVxuXG4gIGV4cG9ydCB0eXBlIEJyZWFrUG9zaXRpb25BbmROb2RlQ29udGV4dCA9IHtcbiAgICBicmVha1Bvc2l0aW9uOiBCcmVha1Bvc2l0aW9uO1xuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgfTtcblxuICAvKipcbiAgICogUG90ZW50aWFsIGJyZWFraW5nIHBvc2l0aW9uIGluc2lkZSBDU1MgYm94IChiZXR3ZWVuIGxpbmVzKS5cbiAgICogQHBhcmFtIGNoZWNrUG9pbnRzIGFycmF5IG9mIGJyZWFraW5nIHBvaW50cyBmb3JcbiAgICogICAgYnJlYWthYmxlIGJsb2NrXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEJveEJyZWFrUG9zaXRpb24gZXh0ZW5kcyBBYnN0cmFjdEJyZWFrUG9zaXRpb24ge1xuICAgIGJyZWFrTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgIHJlYWRvbmx5IGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdO1xuICAgIHJlYWRvbmx5IHBlbmFsdHk6IG51bWJlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBQb3RlbnRpYWwgZWRnZSBicmVha2luZyBwb3NpdGlvbi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRWRnZUJyZWFrUG9zaXRpb24gZXh0ZW5kcyBBYnN0cmFjdEJyZWFrUG9zaXRpb24ge1xuICAgIG92ZXJmbG93SWZSZXBldGl0aXZlRWxlbWVudHNEcm9wcGVkOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICByZWFkb25seSBicmVha09uRWRnZTogc3RyaW5nIHwgbnVsbDtcbiAgICBvdmVyZmxvd3M6IGJvb2xlYW47XG4gICAgcmVhZG9ubHkgY29tcHV0ZWRCbG9ja1NpemU6IG51bWJlcjtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgQ29sdW1uIGV4dGVuZHMgVnRyZWUuQ29udGFpbmVyIHtcbiAgICBsYXN0OiBOb2RlO1xuICAgIHZpZXdEb2N1bWVudDogRG9jdW1lbnQ7XG4gICAgZmxvd1Jvb3RGb3JtYXR0aW5nQ29udGV4dDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgaXNGbG9hdDogYm9vbGVhbjtcbiAgICBpc0Zvb3Rub3RlOiBib29sZWFuO1xuICAgIHN0YXJ0RWRnZTogbnVtYmVyO1xuICAgIGVuZEVkZ2U6IG51bWJlcjtcbiAgICBiZWZvcmVFZGdlOiBudW1iZXI7XG4gICAgYWZ0ZXJFZGdlOiBudW1iZXI7XG4gICAgZm9vdG5vdGVFZGdlOiBudW1iZXI7XG4gICAgYm94OiBHZW9tZXRyeVV0aWwuUmVjdDtcbiAgICBjaHVua1Bvc2l0aW9uczogVnRyZWUuQ2h1bmtQb3NpdGlvbltdO1xuICAgIGJhbmRzOiBHZW9tZXRyeVV0aWwuQmFuZFtdO1xuICAgIG92ZXJmbG93bjogYm9vbGVhbjtcbiAgICBicmVha1Bvc2l0aW9uczogQnJlYWtQb3NpdGlvbltdO1xuICAgIHBhZ2VCcmVha1R5cGU6IHN0cmluZyB8IG51bGw7XG4gICAgZm9yY2VOb25maXR0aW5nOiBib29sZWFuO1xuICAgIGxlZnRGbG9hdEVkZ2U6IG51bWJlcjtcbiAgICAvKipcbiAgICAgKiBib3R0b20gb2YgdGhlIGJvdHRvbW1vc3QgbGVmdCBmbG9hdFxuICAgICAqL1xuICAgIHJpZ2h0RmxvYXRFZGdlOiBudW1iZXI7XG4gICAgLyoqXG4gICAgICogYm90dG9tIG9mIHRoZSBib3R0b21tb3N0IHJpZ2h0IGZsb2F0XG4gICAgICovXG4gICAgYm90dG9tbW9zdEZsb2F0VG9wOiBudW1iZXI7XG4gICAgLyoqXG4gICAgICogVG9wIG9mIHRoZSBib3R0b21tb3N0IGZsb2F0XG4gICAgICovXG4gICAgc3RvcEF0T3ZlcmZsb3c6IGJvb2xlYW47XG4gICAgbGFzdEFmdGVyUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbiB8IG51bGw7XG4gICAgZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50czogRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50W107XG4gICAgcHNldWRvUGFyZW50OiBDb2x1bW47XG4gICAgbm9kZUNvbnRleHRPdmVyZmxvd2luZ0R1ZVRvUmVwZXRpdGl2ZUVsZW1lbnRzOiBWdHJlZS5Ob2RlQ29udGV4dCB8IG51bGw7XG4gICAgYmxvY2tEaXN0YW5jZVRvQmxvY2tFbmRGbG9hdHM6IG51bWJlcjtcbiAgICBjb21wdXRlZEJsb2NrU2l6ZTogbnVtYmVyO1xuXG4gICAgbGF5b3V0Q29udGV4dDogVnRyZWUuTGF5b3V0Q29udGV4dDtcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dDtcbiAgICByZWFkb25seSBsYXlvdXRDb25zdHJhaW50OiBMYXlvdXRDb25zdHJhaW50O1xuICAgIHJlYWRvbmx5IHBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dDtcblxuICAgIGdldFRvcEVkZ2UoKTogbnVtYmVyO1xuICAgIGdldEJvdHRvbUVkZ2UoKTogbnVtYmVyO1xuICAgIGdldExlZnRFZGdlKCk6IG51bWJlcjtcbiAgICBnZXRSaWdodEVkZ2UoKTogbnVtYmVyO1xuICAgIGlzRmxvYXROb2RlQ29udGV4dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuO1xuICAgIHN0b3BCeU92ZXJmbG93KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW47XG4gICAgaXNPdmVyZmxvd24oZWRnZTogbnVtYmVyKTogYm9vbGVhbjtcbiAgICBnZXRFeGNsdXNpb25zKCk6IEdlb21ldHJ5VXRpbC5TaGFwZVtdO1xuICAgIG9wZW5BbGxWaWV3cyhwb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+O1xuICAgIGNhbGN1bGF0ZU9mZnNldEluTm9kZUZvck5vZGVDb250ZXh0KHBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24pOiBudW1iZXI7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNvdW50IGZpcnN0LVhYWCBuZXN0aW5nIGlkZW50aWZpZXJcbiAgICAgKi9cbiAgICBtYXliZVBlZWxPZmYoXG4gICAgICBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBjb3VudDogbnVtYmVyLFxuICAgICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICAvKipcbiAgICAgKiBCdWlsZHMgdGhlIHZpZXcgdW50aWwgYSBDU1MgYm94IGVkZ2UgaXMgcmVhY2hlZC5cbiAgICAgKiBAcGFyYW0gcG9zaXRpb24gc3RhcnQgc291cmNlIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSBjaGVja1BvaW50cyBhcnJheSB0byBhcHBlbmQgcG9zc2libGUgYnJlYWtpbmcgcG9pbnRzLlxuICAgICAqIEByZXR1cm4gaG9sZGluZyBib3ggZWRnZSBwb3NpdGlvbiByZWFjaGVkIG9yIG51bGwgaWYgdGhlIHNvdXJjZSBpcyBleGhhdXN0ZWQuXG4gICAgICovXG4gICAgYnVpbGRWaWV3VG9OZXh0QmxvY2tFZGdlKFxuICAgICAgcG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+O1xuICAgIG5leHRJblRyZWUoXG4gICAgICBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBhdFVuZm9yY2VkQnJlYWs/OiBib29sZWFuLFxuICAgICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICAvKipcbiAgICAgKiBCdWlsZHMgdGhlIHZpZXcgZm9yIGEgc2luZ2xlIHVuYnJlYWthYmxlIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHBvc2l0aW9uIHN0YXJ0IHNvdXJjZSBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJuIGhvbGRpbmcgYm94IGVkZ2UgcG9zaXRpb24gcmVhY2hlZCBvciBudWxsIGlmIHRoZSBzb3VyY2UgaXMgZXhoYXVzdGVkLlxuICAgICAqL1xuICAgIGJ1aWxkRGVlcEVsZW1lbnRWaWV3KFxuICAgICAgcG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHNpbmdsZSBmbG9hdGluZyBlbGVtZW50IChmb3IgZXhjbHVzaW9uIGFyZWFzKS5cbiAgICAgKiBAcGFyYW0gcmVmIGNvbnRhaW5lcidzIGNoaWxkIHRvIGluc2VydCBmbG9hdCBiZWZvcmUgKGNhbiBiZSBudWxsKS5cbiAgICAgKiBAcGFyYW0gc2lkZSBmbG9hdCBzaWRlIChcImxlZnRcIiBvciBcInJpZ2h0XCIpLlxuICAgICAqIEBwYXJhbSB3aWR0aCBmbG9hdCBpbmxpbmUgZGltZW5zaW9uLlxuICAgICAqIEBwYXJhbSBoZWlnaHQgZmxvYXQgYm94IHByb2dyZXNzaW9uIGRpbWVuc2lvbi5cbiAgICAgKiBAcmV0dXJuIG5ld2x5IGNyZWF0ZWQgZmxvYXQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBjcmVhdGVGbG9hdChcbiAgICAgIHJlZjogTm9kZSxcbiAgICAgIHNpZGU6IHN0cmluZyxcbiAgICAgIHdpZHRoOiBudW1iZXIsXG4gICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICApOiBFbGVtZW50O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgdGhlIGV4Y2x1c2lvbiBmbG9hdHMuXG4gICAgICovXG4gICAga2lsbEZsb2F0cygpOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBleGNsdXNpb24gZmxvYXRzIGZvciBhIGNvbHVtbi5cbiAgICAgKi9cbiAgICBjcmVhdGVGbG9hdHMoKTogdm9pZDtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbm9kZUNvbnRleHQgcG9zaXRpb24gYWZ0ZXIgdGhlIGJsb2NrXG4gICAgICogQHBhcmFtIGNoZWNrUG9pbnRzIGFycmF5IG9mIHBvc3NpYmxlIGJyZWFraW5nIHBvaW50cy5cbiAgICAgKiBAcGFyYW0gaW5kZXggaW5kZXggb2YgdGhlIGJyZWFraW5nIHBvaW50XG4gICAgICogQHBhcmFtIGJveE9mZnNldCBib3ggb2Zmc2V0XG4gICAgICogQHJldHVybiBlZGdlIHBvc2l0aW9uXG4gICAgICovXG4gICAgY2FsY3VsYXRlRWRnZShcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgICAgaW5kZXg6IG51bWJlcixcbiAgICAgIGJveE9mZnNldDogbnVtYmVyLFxuICAgICk6IG51bWJlcjtcbiAgICAvKipcbiAgICAgKiBQYXJzZSBDU1MgY29tcHV0ZWQgbGVuZ3RoIChpbiBwaXhlbHMpXG4gICAgICogQHBhcmFtIHZhbCBDU1MgbGVuZ3RoIGluIFwicHhcIiB1bml0cyBvciBhIG51bWJlci5cbiAgICAgKiBAcmV0dXJuIHZhbHVlIGluIHBpeGVscyBvciAwIGlmIG5vdCBwYXJzYWJsZVxuICAgICAqL1xuICAgIHBhcnNlQ29tcHV0ZWRMZW5ndGgodmFsOiBzdHJpbmcgfCBudW1iZXIpOiBudW1iZXI7XG4gICAgLyoqXG4gICAgICogUmVhZHMgZWxlbWVudCdzIGNvbXB1dGVkIENTUyBtYXJnaW4uXG4gICAgICovXG4gICAgZ2V0Q29tcHV0ZWRNYXJnaW4oZWxlbWVudDogRWxlbWVudCk6IEdlb21ldHJ5VXRpbC5JbnNldHM7XG4gICAgLyoqXG4gICAgICogUmVhZHMgZWxlbWVudCdzIGNvbXB1dGVkIHBhZGRpbmcgKyBib3JkZXJzLlxuICAgICAqL1xuICAgIGdldENvbXB1dGVkUGFkZGluZ0JvcmRlcihlbGVtZW50OiBFbGVtZW50KTogR2VvbWV0cnlVdGlsLkluc2V0cztcbiAgICAvKipcbiAgICAgKiBSZWFkcyBlbGVtZW50J3MgY29tcHV0ZWQgQ1NTIGluc2V0cyhtYXJnaW5zICsgYm9yZGVyICsgcGFkZGluZyBvciBtYXJnaW5zIDpcbiAgICAgKiBkZXBlbmRzIG9uIGJveC1zaXppbmcpXG4gICAgICovXG4gICAgZ2V0Q29tcHV0ZWRJbnNldHMoZWxlbWVudDogRWxlbWVudCk6IEdlb21ldHJ5VXRpbC5JbnNldHM7XG4gICAgLyoqXG4gICAgICogU2V0IGVsZW1lbnQncyBjb21wdXRlZCBDU1MgaW5zZXRzIHRvIENvbHVtbiBDb250YWluZXJcbiAgICAgKi9cbiAgICBzZXRDb21wdXRlZEluc2V0cyhlbGVtZW50OiBFbGVtZW50LCBjb250YWluZXI6IENvbHVtbik6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogU2V0IGVsZW1lbnQncyBjb21wdXRlZCB3aWR0aCBhbmQgaGVpZ2h0IHRvIENvbHVtbiBDb250YWluZXJcbiAgICAgKi9cbiAgICBzZXRDb21wdXRlZFdpZHRoQW5kSGVpZ2h0KGVsZW1lbnQ6IEVsZW1lbnQsIGNvbnRhaW5lcjogQ29sdW1uKTogdm9pZDtcbiAgICAvKipcbiAgICAgKiBMYXlvdXQgYSBzaW5nbGUgdW5icmVha2FibGUgZWxlbWVudC5cbiAgICAgKi9cbiAgICBsYXlvdXRVbmJyZWFrYWJsZShcbiAgICAgIG5vZGVDb250ZXh0SW46IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICAvKipcbiAgICAgKiBMYXlvdXQgYSBzaW5nbGUgZmxvYXQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBsYXlvdXRGbG9hdChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG5cbiAgICBzZXR1cEZsb2F0QXJlYShcbiAgICAgIGFyZWE6IFBhZ2VGbG9hdEFyZWEsXG4gICAgICBmbG9hdFJlZmVyZW5jZTogUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZSxcbiAgICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgICAgYW5jaG9yRWRnZTogbnVtYmVyIHwgbnVsbCxcbiAgICAgIHN0cmF0ZWd5OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dFN0cmF0ZWd5LFxuICAgICAgY29uZGl0aW9uOiBQYWdlRmxvYXRzLlBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbixcbiAgICApOiBib29sZWFuO1xuICAgIGNyZWF0ZVBhZ2VGbG9hdEFyZWEoXG4gICAgICBmbG9hdDogUGFnZUZsb2F0cy5QYWdlRmxvYXQgfCBudWxsLFxuICAgICAgZmxvYXRTaWRlOiBzdHJpbmcsXG4gICAgICBhbmNob3JFZGdlOiBudW1iZXIgfCBudWxsLFxuICAgICAgc3RyYXRlZ3k6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3ksXG4gICAgICBjb25kaXRpb246IFBhZ2VGbG9hdHMuUGFnZUZsb2F0UGxhY2VtZW50Q29uZGl0aW9uLFxuICAgICk6IFBhZ2VGbG9hdEFyZWEgfCBudWxsO1xuICAgIGxheW91dFNpbmdsZVBhZ2VGbG9hdEZyYWdtZW50KFxuICAgICAgY29udGludWF0aW9uczogUGFnZUZsb2F0cy5QYWdlRmxvYXRDb250aW51YXRpb25bXSxcbiAgICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgICAgY2xlYXJTaWRlOiBzdHJpbmcgfCBudWxsLFxuICAgICAgYWxsb3dGcmFnbWVudGVkOiBib29sZWFuLFxuICAgICAgc3RyYXRlZ3k6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3ksXG4gICAgICBhbmNob3JFZGdlOiBudW1iZXIgfCBudWxsLFxuICAgICAgcGFnZUZsb2F0RnJhZ21lbnQ/OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdEZyYWdtZW50IHwgbnVsbCxcbiAgICApOiBUYXNrLlJlc3VsdDxTaW5nbGVQYWdlRmxvYXRMYXlvdXRSZXN1bHQ+O1xuICAgIGxheW91dFBhZ2VGbG9hdElubmVyKFxuICAgICAgY29udGludWF0aW9uOiBQYWdlRmxvYXRzLlBhZ2VGbG9hdENvbnRpbnVhdGlvbixcbiAgICAgIHN0cmF0ZWd5OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dFN0cmF0ZWd5LFxuICAgICAgYW5jaG9yRWRnZTogbnVtYmVyIHwgbnVsbCxcbiAgICAgIHBhZ2VGbG9hdEZyYWdtZW50PzogUGFnZUZsb2F0cy5QYWdlRmxvYXRGcmFnbWVudCxcbiAgICApOiBUYXNrLlJlc3VsdDxib29sZWFuPjtcbiAgICBzZXRGbG9hdEFuY2hvclZpZXdOb2RlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgIHJlc29sdmVGbG9hdFJlZmVyZW5jZUZyb21Db2x1bW5TcGFuKFxuICAgICAgZmxvYXRSZWZlcmVuY2U6IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UsXG4gICAgICBjb2x1bW5TcGFuOiBDc3MuVmFsLFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICk6IFRhc2suUmVzdWx0PFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2U+O1xuICAgIGxheW91dFBhZ2VGbG9hdChcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgY3JlYXRlSnVzdGlmaWNhdGlvbkFkanVzdG1lbnRFbGVtZW50KFxuICAgICAgaW5zZXJ0aW9uUG9pbnQ6IE5vZGUsXG4gICAgICBkb2M6IERvY3VtZW50LFxuICAgICAgcGFyZW50Tm9kZTogTm9kZSxcbiAgICAgIHZlcnRpY2FsOiBib29sZWFuLFxuICAgICk6IEhUTUxFbGVtZW50O1xuICAgIGFkZEFuZEFkanVzdEp1c3RpZmljYXRpb25FbGVtZW50KFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgaW5zZXJ0QWZ0ZXI6IGJvb2xlYW4sXG4gICAgICBub2RlOiBOb2RlLFxuICAgICAgaW5zZXJ0aW9uUG9pbnQ6IE5vZGUsXG4gICAgICBkb2M6IERvY3VtZW50LFxuICAgICAgcGFyZW50Tm9kZTogTm9kZSxcbiAgICApOiBIVE1MRWxlbWVudDtcbiAgICBjb21wZW5zYXRlSnVzdGlmaWNhdGlvbkxpbmVIZWlnaHQoXG4gICAgICBzcGFuOiBFbGVtZW50LFxuICAgICAgYnI6IEVsZW1lbnQsXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgKTogdm9pZDtcbiAgICAvKipcbiAgICAgKiBGaXgganVzdGlmaWNhdGlvbiBvZiB0aGUgbGFzdCBsaW5lIG9mIHRleHQgYnJva2VuIGFjcm9zcyBwYWdlcyAoaWZcbiAgICAgKiBuZWVkZWQpLlxuICAgICAqL1xuICAgIGZpeEp1c3RpZmljYXRpb25JZk5lZWRlZChcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGVuZE9mQ29sdW1uOiBib29sZWFuLFxuICAgICk6IHZvaWQ7XG4gICAgcHJvY2Vzc0xpbmVTdHlsaW5nKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgcmVzTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+O1xuICAgIGlzTG9uZUltYWdlKGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdKTogYm9vbGVhbjtcbiAgICBnZXRUcmFpbGluZ01hcmdpbkVkZ2VBZGp1c3RtZW50KFxuICAgICAgdHJhaWxpbmdFZGdlQ29udGV4dHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgKTogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIExheW91dCBhIHNpbmdsZSBDU1MgYm94LlxuICAgICAqL1xuICAgIGxheW91dEJyZWFrYWJsZUJsb2NrKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICBwb3N0TGF5b3V0QmxvY2soXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgICApOiB2b2lkO1xuICAgIGZpbmRFbmRPZkxpbmUoXG4gICAgICBsaW5lUG9zaXRpb246IG51bWJlcixcbiAgICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgICAgaXNVcGRhdGVNYXhSZWFjaGVkQWZ0ZXJFZGdlOiBib29sZWFuLFxuICAgICk6IHtcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICAgIGluZGV4OiBudW1iZXI7XG4gICAgICBjaGVja1BvaW50SW5kZXg6IG51bWJlcjtcbiAgICB9O1xuICAgIGZpbmRBY2NlcHRhYmxlQnJlYWtJbnNpZGUoXG4gICAgICBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgICAgIGVkZ2VQb3NpdGlvbjogbnVtYmVyLFxuICAgICAgZm9yY2U6IGJvb2xlYW4sXG4gICAgKTogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgcmVzb2x2ZVRleHROb2RlQnJlYWtlcihub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBUZXh0Tm9kZUJyZWFrZXI7XG4gICAgLyoqXG4gICAgICogUmVhZCByYW5nZXMgc2tpcHBpbmcgc3BlY2lhbCBlbG1lbnRzXG4gICAgICovXG4gICAgZ2V0UmFuZ2VCb3hlcyhzdGFydDogTm9kZSwgZW5kOiBOb2RlKTogVnRyZWUuQ2xpZW50UmVjdFtdO1xuICAgIC8qKlxuICAgICAqIEdpdmUgYmxvY2sncyBpbml0aWFsIGFuZCBmaW5hbCBub2RlcywgZmluZCBwb3NpdGlvbnMgb2YgdGhlIGxpbmUgYm90dG9tcy5cbiAgICAgKiBUaGlzIGlzLCBvZiBjb3Vyc2UsIHNvbWV3aGF0IGhhY2t5IGltcGxlbWVudGF0aW9uLlxuICAgICAqIEByZXR1cm4gcG9zaXRpb24gb2YgbGluZSBicmVha3NcbiAgICAgKi9cbiAgICBmaW5kTGluZVBvc2l0aW9ucyhjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSk6IG51bWJlcltdO1xuICAgIGNhbGN1bGF0ZUNsb25lZFBhZGRpbmdCb3JkZXIobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogbnVtYmVyO1xuICAgIGZpbmRCb3hCcmVha1Bvc2l0aW9uKFxuICAgICAgYnA6IEJveEJyZWFrUG9zaXRpb24sXG4gICAgICBmb3JjZTogYm9vbGVhbixcbiAgICApOiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICBnZXRBZnRlckVkZ2VPZkJsb2NrQ29udGFpbmVyKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IG51bWJlcjtcbiAgICBmaW5kRmlyc3RPdmVyZmxvd2luZ0VkZ2VBbmRDaGVja1BvaW50KFxuICAgICAgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgKTogeyBlZGdlOiBudW1iZXI7IGNoZWNrUG9pbnQ6IFZ0cmVlLk5vZGVDb250ZXh0IHwgbnVsbCB9O1xuICAgIGZpbmRFZGdlQnJlYWtQb3NpdGlvbihicDogRWRnZUJyZWFrUG9zaXRpb24pOiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICAvKipcbiAgICAgKiBGaW5hbGl6ZSBhIGxpbmUgYnJlYWsuXG4gICAgICogQHJldHVybiBob2xpbmcgdHJ1ZVxuICAgICAqL1xuICAgIGZpbmlzaEJyZWFrKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgZm9yY2VSZW1vdmVTZWxmOiBib29sZWFuLFxuICAgICAgZW5kT2ZDb2x1bW46IGJvb2xlYW4sXG4gICAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgZmluZEFjY2VwdGFibGVCcmVha1Bvc2l0aW9uKCk6IEJyZWFrUG9zaXRpb25BbmROb2RlQ29udGV4dDtcbiAgICBkb0ZpbmlzaEJyZWFrKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgb3ZlcmZsb3duTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgaW5pdGlhbE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGluaXRpYWxDb21wdXRlZEJsb2NrU2l6ZTogbnVtYmVyLFxuICAgICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGEgcGFnZSBicmVhayBpcyBhY2NlcHRhYmxlIGF0IHRoaXMgcG9zaXRpb25cbiAgICAgKi9cbiAgICBpc0JyZWFrYWJsZShmbG93UG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbjtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGFuIGluZGVudCB2YWx1ZSBpcyB6ZXJvXG4gICAgICovXG4gICAgemVyb0luZGVudCh2YWw6IHN0cmluZyB8IG51bWJlcik6IGJvb2xlYW47XG4gICAgLyoqXG4gICAgICogQHJldHVybiB0cnVlIGlmIG92ZXJmbG93c1xuICAgICAqL1xuICAgIGNoZWNrT3ZlcmZsb3dBbmRTYXZlRWRnZShcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIHRyYWlsaW5nRWRnZUNvbnRleHRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgICk6IGJvb2xlYW47XG4gICAgLyoqXG4gICAgICogU2F2ZSBhIHBvc3NpYmxlIHBhZ2UgYnJlYWsgcG9zaXRpb24gb24gYSBDU1MgYmxvY2sgZWRnZS4gQ2hlY2sgaWYgaXRcbiAgICAgKiBvdmVyZmxvd3MuXG4gICAgICogQHJldHVybiB0cnVlIGlmIG92ZXJmbG93c1xuICAgICAqL1xuICAgIGNoZWNrT3ZlcmZsb3dBbmRTYXZlRWRnZUFuZEJyZWFrUG9zaXRpb24oXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICB0cmFpbGluZ0VkZ2VDb250ZXh0czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgICAgIHNhdmVFdmVuT3ZlcmZsb3duOiBib29sZWFuLFxuICAgICAgYnJlYWtBdFRoZUVkZ2U6IHN0cmluZyB8IG51bGwsXG4gICAgKTogYm9vbGVhbjtcbiAgICBhcHBseUNsZWFyYW5jZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuO1xuICAgIGlzQkZDKGZvcm1hdHRpbmdDb250ZXh0OiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCk6IGJvb2xlYW47XG4gICAgLyoqXG4gICAgICogU2tpcHMgcG9zaXRpb25zIHVudGlsIGVpdGhlciB0aGUgc3RhcnQgb2YgdW5icmVha2FibGUgYmxvY2sgb3IgaW5saW5lXG4gICAgICogY29udGVudC4gQWxzbyBzZXRzIGJyZWFrQmVmb3JlIG9uIHRoZSByZXN1bHQgY29tYmluaW5nIGJyZWFrLWJlZm9yZSBhbmRcbiAgICAgKiBicmVhay1hZnRlciBwcm9wZXJ0aWVzIGZyb20gYWxsIGVsZW1lbnRzIHRoYXQgbWVldCBhdCB0aGUgZWRnZS5cbiAgICAgKi9cbiAgICBza2lwRWRnZXMoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBsZWFkaW5nRWRnZTogYm9vbGVhbixcbiAgICAgIGZvcmNlZEJyZWFrVmFsdWU6IHN0cmluZyB8IG51bGwsXG4gICAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+O1xuICAgIC8qKlxuICAgICAqIFNraXBzIG5vbi1yZW5kZXJhYmxlIHBvc2l0aW9ucyB1bnRpbCBpdCBoaXRzIHRoZSBlbmQgb2YgdGhlIGZsb3cgb3Igc29tZVxuICAgICAqIHJlbmRlcmFibGUgY29udGVudC4gUmV0dXJucyB0aGUgbm9kZUNvbnRleHQgdGhhdCB3YXMgcGFzc2VkIGluIGlmIHNvbWVcbiAgICAgKiBjb250ZW50IHJlbWFpbnMgYW5kIG51bGwgaWYgYWxsIGNvbnRlbnQgY291bGQgYmUgc2tpcHBlZC5cbiAgICAgKi9cbiAgICBza2lwVGFpbEVkZ2VzKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICBsYXlvdXRGbG9hdE9yRm9vdG5vdGUoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+O1xuICAgIC8qKlxuICAgICAqIExheW91dCBuZXh0IHBvcnRpb24gb2YgdGhlIHNvdXJjZS5cbiAgICAgKi9cbiAgICBsYXlvdXROZXh0KFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICAgICBmb3JjZWRCcmVha1ZhbHVlPzogc3RyaW5nIHwgbnVsbCxcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgY2xlYXJPdmVyZmxvd25WaWV3Tm9kZXMoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICByZW1vdmVTZWxmOiBib29sZWFuLFxuICAgICk6IHZvaWQ7XG4gICAgaW5pdEdlb20oKTogdm9pZDtcbiAgICBpbml0KCk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogU2F2ZSB0aGUgcG90ZW50aWFsIGJyZWFraW5nIHBvc2l0aW9uIGF0IHRoZSBlZGdlLiBTaG91bGQsIGluIGdlbmVyYWwsIHNhdmVcbiAgICAgKiBcImFmdGVyXCIgcG9zaXRpb24gYnV0IG9ubHkgYWZ0ZXIgc2tpcHBpbmcgYWxsIG9mIHRoZSBcImJlZm9yZVwiIG9uZXMgYW5kXG4gICAgICogZ2V0dGluZyB0byB0aGUgbm9uLWVtcHR5IGNvbnRlbnQgKHRvIGdldCBicmVha0F0RWRnZSByaWdodCkuXG4gICAgICovXG4gICAgc2F2ZUVkZ2VCcmVha1Bvc2l0aW9uKFxuICAgICAgcG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgYnJlYWtBdEVkZ2U6IHN0cmluZyB8IG51bGwsXG4gICAgICBvdmVyZmxvd3M6IGJvb2xlYW4sXG4gICAgKTogdm9pZDtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY2hlY2tQb2ludHMgYXJyYXkgb2YgYnJlYWtpbmcgcG9pbnRzIGZvciBicmVha2FibGUgYmxvY2tcbiAgICAgKi9cbiAgICBzYXZlQm94QnJlYWtQb3NpdGlvbihjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSk6IHZvaWQ7XG4gICAgdXBkYXRlTWF4UmVhY2hlZEFmdGVyRWRnZShhZnRlckVkZ2U6IG51bWJlcik6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNodW5rUG9zaXRpb24gc3RhcnRpbmcgcG9zaXRpb24uXG4gICAgICogQHJldHVybiBob2xkaW5nIGVuZCBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBsYXlvdXQoXG4gICAgICBjaHVua1Bvc2l0aW9uOiBWdHJlZS5DaHVua1Bvc2l0aW9uLFxuICAgICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICAgICBicmVha0FmdGVyPzogc3RyaW5nIHwgbnVsbCxcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5DaHVua1Bvc2l0aW9uPjtcbiAgICBpc0Z1bGxXaXRoUGFnZUZsb2F0cygpOiBib29sZWFuO1xuICAgIGdldE1heEJsb2NrU2l6ZU9mUGFnZUZsb2F0cygpOiBudW1iZXI7XG4gICAgZG9GaW5pc2hCcmVha09mRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyhub2RlQ29udGV4dCk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIG5vZGVDb250ZXh0IHN0YXJ0aW5nIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm4gaG9sZGluZyBlbmQgcG9zaXRpb24uXG4gICAgICovXG4gICAgZG9MYXlvdXQoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBsZWFkaW5nRWRnZTogYm9vbGVhbixcbiAgICAgIGJyZWFrQWZ0ZXI/OiBzdHJpbmcgfCBudWxsLFxuICAgICk6IFRhc2suUmVzdWx0PHtcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICAgIG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICB9PjtcbiAgICAvKipcbiAgICAgKiBSZS1sYXlvdXQgYWxyZWFkeSBsYWlkLW91dCBjaHVua3MuIFJldHVybiB0aGUgcG9zaXRpb24gb2YgdGhlIGxhc3QgZmxvdyBpZlxuICAgICAqIHRoZXJlIGlzIGFuIG92ZXJmbG93LlxuICAgICAqIFRPRE86IGRlYWwgd2l0aCBjaHVua3MgdGhhdCBkaWQgbm90IGZpdCBhdCBhbGwuXG4gICAgICogQHJldHVybiBob2xkaW5nIGVuZCBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICByZWRvTGF5b3V0KCk6IFRhc2suUmVzdWx0PFZ0cmVlLkNodW5rUG9zaXRpb24+O1xuICAgIHNhdmVEaXN0YW5jZVRvQmxvY2tFbmRGbG9hdHMoKTogdm9pZDtcbiAgICBjb2xsZWN0RWxlbWVudHNPZmZzZXQoKTogUmVwZXRpdGl2ZUVsZW1lbnQuRWxlbWVudHNPZmZzZXRbXTtcbiAgfVxuXG4gIGV4cG9ydCB0eXBlIFNpbmdsZVBhZ2VGbG9hdExheW91dFJlc3VsdCA9IHtcbiAgICBmbG9hdEFyZWE6IFBhZ2VGbG9hdEFyZWEgfCBudWxsO1xuICAgIHBhZ2VGbG9hdEZyYWdtZW50OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdEZyYWdtZW50IHwgbnVsbDtcbiAgICBuZXdQb3NpdGlvbjogVnRyZWUuQ2h1bmtQb3NpdGlvbiB8IG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIGJyZWFraW5nIHBvaW50IHJlc29sdmVyIGZvciBUZXh0IE5vZGUuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRleHROb2RlQnJlYWtlciB7XG4gICAgYnJlYWtUZXh0Tm9kZShcbiAgICAgIHRleHROb2RlOiBUZXh0LFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgbG93OiBudW1iZXIsXG4gICAgICBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgICAgIGNoZWNrcG9pbnRJbmRleDogbnVtYmVyLFxuICAgICAgZm9yY2U6IGJvb2xlYW4sXG4gICAgKTogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgYnJlYWtBZnRlclNvZnRIeXBoZW4oXG4gICAgICB0ZXh0Tm9kZTogVGV4dCxcbiAgICAgIHRleHQ6IHN0cmluZyxcbiAgICAgIHZpZXdJbmRleDogbnVtYmVyLFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICk6IG51bWJlcjtcbiAgICBicmVha0FmdGVyT3RoZXJDaGFyYWN0ZXIoXG4gICAgICB0ZXh0Tm9kZTogVGV4dCxcbiAgICAgIHRleHQ6IHN0cmluZyxcbiAgICAgIHZpZXdJbmRleDogbnVtYmVyLFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICk6IG51bWJlcjtcbiAgICB1cGRhdGVOb2RlQ29udGV4dChcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIHZpZXdJbmRleDogbnVtYmVyLFxuICAgICAgdGV4dE5vZGU6IFRleHQsXG4gICAgKTogVnRyZWUuTm9kZUNvbnRleHQ7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIExheW91dE1vZGUge1xuICAgIGRvTGF5b3V0KFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICBhY2NlcHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBjb2x1bW46IExheW91dC5Db2x1bW4pOiBib29sZWFuO1xuICAgIHBvc3RMYXlvdXQoXG4gICAgICBwb3NpdGlvbkFmdGVyOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGluaXRpYWxQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgICBhY2NlcHRlZDogYm9vbGVhbixcbiAgICApOiBib29sZWFuO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBQYWdlRmxvYXRBcmVhIGV4dGVuZHMgQ29sdW1uIHtcbiAgICBhZGp1c3RDb250ZW50UmVsYXRpdmVTaXplOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IGZsb2F0U2lkZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHBhcmVudENvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyO1xuXG4gICAgY29udmVydFBlcmNlbnRhZ2VTaXplc1RvUHgodGFyZ2V0OiBFbGVtZW50KTogdm9pZDtcbiAgICBmaXhGbG9hdFNpemVBbmRQb3NpdGlvbihub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiB2b2lkO1xuICAgIGdldENvbnRlbnRJbmxpbmVTaXplKCk6IG51bWJlcjtcbiAgfVxufVxuXG5leHBvcnQgbmFtZXNwYWNlIExheW91dFByb2Nlc3NvciB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgQmxvY2tGb3JtYXR0aW5nQ29udGV4dCBleHRlbmRzIFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0IHt9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGlzSW5zdGFuY2VPZkJsb2NrRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgb2JqZWN0OiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCxcbiAgKTogb2JqZWN0IGlzIEJsb2NrRm9ybWF0dGluZ0NvbnRleHQge1xuICAgIHJldHVybiBvYmplY3QgJiYgb2JqZWN0LmZvcm1hdHRpbmdDb250ZXh0VHlwZSA9PT0gXCJCbG9ja1wiO1xuICB9XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgTmV0IHtcbiAgZXhwb3J0IHR5cGUgUmVzcG9uc2UgPSB7XG4gICAgc3RhdHVzOiBudW1iZXI7XG4gICAgc3RhdHVzVGV4dDogc3RyaW5nIHwgbnVsbDtcbiAgICB1cmw6IHN0cmluZztcbiAgICBjb250ZW50VHlwZTogc3RyaW5nIHwgbnVsbDtcbiAgICByZXNwb25zZVRleHQ6IHN0cmluZyB8IG51bGw7XG4gICAgcmVzcG9uc2VYTUw6IERvY3VtZW50O1xuICAgIHJlc3BvbnNlQmxvYjogQmxvYjtcbiAgfTtcblxuICBleHBvcnQgaW50ZXJmYWNlIFJlc291cmNlU3RvcmU8UmVzb3VyY2U+IHtcbiAgICByZXNvdXJjZXM6IHsgW2tleTogc3RyaW5nXTogUmVzb3VyY2UgfTtcbiAgICBmZXRjaGVyczogeyBba2V5OiBzdHJpbmddOiBUYXNrVXRpbC5GZXRjaGVyPFJlc291cmNlPiB9O1xuICAgIHJlYWRvbmx5IHBhcnNlcjogKFxuICAgICAgcDE6IFJlc3BvbnNlLFxuICAgICAgcDI6IFJlc291cmNlU3RvcmU8UmVzb3VyY2U+LFxuICAgICkgPT4gVGFzay5SZXN1bHQ8UmVzb3VyY2U+O1xuICAgIHJlYWRvbmx5IHR5cGU6IFhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlO1xuXG4gICAgLyoqXG4gICAgICogQHJldHVybiByZXNvdXJjZSBmb3IgdGhlIGdpdmVuIFVSTFxuICAgICAqL1xuICAgIGxvYWQoXG4gICAgICB1cmw6IHN0cmluZyxcbiAgICAgIG9wdF9yZXF1aXJlZD86IGJvb2xlYW4sXG4gICAgICBvcHRfbWVzc2FnZT86IHN0cmluZyxcbiAgICApOiBUYXNrLlJlc3VsdDxSZXNvdXJjZT47XG4gICAgLyoqXG4gICAgICogQHJldHVybiBmZXRjaGVyIGZvciB0aGUgcmVzb3VyY2UgZm9yIHRoZSBnaXZlbiBVUkxcbiAgICAgKi9cbiAgICBmZXRjaChcbiAgICAgIHVybDogc3RyaW5nLFxuICAgICAgb3B0X3JlcXVpcmVkPzogYm9vbGVhbixcbiAgICAgIG9wdF9tZXNzYWdlPzogc3RyaW5nLFxuICAgICk6IFRhc2tVdGlsLkZldGNoZXI8UmVzb3VyY2U+O1xuICAgIGdldCh1cmw6IHN0cmluZyk6IFhtbERvYy5YTUxEb2NIb2xkZXI7XG4gICAgZGVsZXRlKHVybDogc3RyaW5nKTogdm9pZDtcbiAgfVxufVxuXG5leHBvcnQgbmFtZXNwYWNlIFBhZ2VGbG9hdHMge1xuICAvKipcbiAgICogQGVudW0ge3N0cmluZ31cbiAgICovXG4gIGV4cG9ydCBlbnVtIEZsb2F0UmVmZXJlbmNlIHtcbiAgICBJTkxJTkUgPSBcImlubGluZVwiLFxuICAgIENPTFVNTiA9IFwiY29sdW1uXCIsXG4gICAgUkVHSU9OID0gXCJyZWdpb25cIixcbiAgICBQQUdFID0gXCJwYWdlXCIsXG4gIH1cblxuICBleHBvcnQgdHlwZSBQYWdlRmxvYXRJRCA9IHN0cmluZztcblxuICBleHBvcnQgaW50ZXJmYWNlIFBhZ2VGbG9hdCB7XG4gICAgb3JkZXI6IG51bWJlciB8IG51bGw7XG4gICAgaWQ6IFBhZ2VGbG9hdElEIHwgbnVsbDtcbiAgICByZWFkb25seSBub2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbjtcbiAgICByZWFkb25seSBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2U7XG4gICAgcmVhZG9ubHkgZmxvYXRTaWRlOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgY2xlYXJTaWRlOiBzdHJpbmcgfCBudWxsO1xuICAgIHJlYWRvbmx5IGZsb3dOYW1lOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgZmxvYXRNaW5XcmFwQmxvY2s6IENzcy5OdW1lcmljIHwgbnVsbDtcblxuICAgIGdldE9yZGVyKCk6IG51bWJlcjtcbiAgICBnZXRJZCgpOiBQYWdlRmxvYXRJRDtcbiAgICBpc0FsbG93ZWRPbkNvbnRleHQocGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCk6IGJvb2xlYW47XG4gICAgaXNBbGxvd2VkVG9QcmVjZWRlKG90aGVyOiBQYWdlRmxvYXQpOiBib29sZWFuO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBQYWdlRmxvYXRGcmFnbWVudCB7XG4gICAgcmVhZG9ubHkgZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlO1xuICAgIHJlYWRvbmx5IGZsb2F0U2lkZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IGNvbnRpbnVhdGlvbnM6IFBhZ2VGbG9hdENvbnRpbnVhdGlvbltdO1xuICAgIHJlYWRvbmx5IGFyZWE6IFZ0cmVlLkNvbnRhaW5lcjtcbiAgICByZWFkb25seSBjb250aW51ZXM6IGJvb2xlYW47XG5cbiAgICBoYXNGbG9hdChmbG9hdDogUGFnZUZsb2F0KTogYm9vbGVhbjtcbiAgICBmaW5kTm90QWxsb3dlZEZsb2F0KGNvbnRleHQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQpOiBQYWdlRmxvYXQgfCBudWxsO1xuICAgIGdldE91dGVyU2hhcGUoKTogR2VvbWV0cnlVdGlsLlNoYXBlO1xuICAgIGdldE91dGVyUmVjdCgpOiBHZW9tZXRyeVV0aWwuUmVjdDtcbiAgICBnZXRPcmRlcigpOiBudW1iZXI7XG4gICAgc2hvdWxkQmVTdGFzaGVkQmVmb3JlKGZsb2F0OiBQYWdlRmxvYXQpOiBib29sZWFuO1xuICAgIGFkZENvbnRpbnVhdGlvbnMoY29udGludWF0aW9uczogUGFnZUZsb2F0Q29udGludWF0aW9uW10pOiB2b2lkO1xuICAgIGdldEZsb3dOYW1lKCk6IHN0cmluZztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgUGFnZUZsb2F0Q29udGludWF0aW9uIHtcbiAgICByZWFkb25seSBmbG9hdDogUGFnZUZsb2F0O1xuICAgIHJlYWRvbmx5IG5vZGVQb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uO1xuXG4gICAgZXF1YWxzKG90aGVyOiBQYWdlRmxvYXRDb250aW51YXRpb24gfCBudWxsKTogYm9vbGVhbjtcbiAgfVxuXG4gIGV4cG9ydCB0eXBlIFBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbiA9IHtcbiAgICBba2V5OiBzdHJpbmddOiBib29sZWFuO1xuICB9O1xuXG4gIGV4cG9ydCBpbnRlcmZhY2UgUGFnZUZsb2F0TGF5b3V0Q29udGV4dCB7XG4gICAgd3JpdGluZ01vZGU6IENzcy5WYWw7XG4gICAgZGlyZWN0aW9uOiBDc3MuVmFsO1xuICAgIGZsb2F0RnJhZ21lbnRzOiBQYWdlRmxvYXRGcmFnbWVudFtdO1xuICAgIHJlYWRvbmx5IHBhcmVudDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dDtcbiAgICByZWFkb25seSBmbG93TmFtZTogc3RyaW5nIHwgbnVsbDtcbiAgICByZWFkb25seSBnZW5lcmF0aW5nTm9kZVBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24gfCBudWxsO1xuXG4gICAgZ2V0Q29udGFpbmVyKGZsb2F0UmVmZXJlbmNlPzogRmxvYXRSZWZlcmVuY2UpOiBWdHJlZS5Db250YWluZXI7XG4gICAgc2V0Q29udGFpbmVyKGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyKTtcbiAgICBhZGRQYWdlRmxvYXQoZmxvYXQ6IFBhZ2VGbG9hdCk6IHZvaWQ7XG4gICAgZ2V0UGFnZUZsb2F0TGF5b3V0Q29udGV4dChcbiAgICAgIGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSxcbiAgICApOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0O1xuICAgIGZpbmRQYWdlRmxvYXRCeU5vZGVQb3NpdGlvbihcbiAgICAgIG5vZGVQb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uLFxuICAgICk6IFBhZ2VGbG9hdCB8IG51bGw7XG4gICAgaXNGb3JiaWRkZW4oZmxvYXQ6IFBhZ2VGbG9hdCk6IGJvb2xlYW47XG4gICAgYWRkUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgICBmbG9hdEZyYWdtZW50OiBQYWdlRmxvYXRGcmFnbWVudCxcbiAgICAgIGRvbnRJbnZhbGlkYXRlPzogYm9vbGVhbixcbiAgICApOiB2b2lkO1xuICAgIHJlbW92ZVBhZ2VGbG9hdEZyYWdtZW50KFxuICAgICAgZmxvYXRGcmFnbWVudDogUGFnZUZsb2F0RnJhZ21lbnQsXG4gICAgICBkb250SW52YWxpZGF0ZT86IGJvb2xlYW4sXG4gICAgKTogdm9pZDtcbiAgICBmaW5kUGFnZUZsb2F0RnJhZ21lbnQoZmxvYXQ6IFBhZ2VGbG9hdCk6IFBhZ2VGbG9hdEZyYWdtZW50IHwgbnVsbDtcbiAgICBoYXNGbG9hdEZyYWdtZW50cyhjb25kaXRpb24/OiAocDE6IFBhZ2VGbG9hdEZyYWdtZW50KSA9PiBib29sZWFuKTogYm9vbGVhbjtcbiAgICBoYXNDb250aW51aW5nRmxvYXRGcmFnbWVudHNJbkZsb3coZmxvd05hbWU6IHN0cmluZyk6IGJvb2xlYW47XG4gICAgcmVnaXN0ZXJQYWdlRmxvYXRBbmNob3IoZmxvYXQ6IFBhZ2VGbG9hdCwgYW5jaG9yVmlld05vZGU6IE5vZGUpOiB2b2lkO1xuICAgIGNvbGxlY3RQYWdlRmxvYXRBbmNob3JzKCk6IGFueTtcbiAgICBpc0FuY2hvckFscmVhZHlBcHBlYXJlZChmbG9hdElkOiBQYWdlRmxvYXRJRCk6IGJvb2xlYW47XG4gICAgZGVmZXJQYWdlRmxvYXQoY29udGludWF0aW9uOiBQYWdlRmxvYXRDb250aW51YXRpb24pOiB2b2lkO1xuICAgIGhhc1ByZWNlZGluZ0Zsb2F0c0RlZmVycmVkVG9OZXh0KFxuICAgICAgZmxvYXQ6IFBhZ2VGbG9hdCxcbiAgICAgIGlnbm9yZVJlZmVyZW5jZT86IGJvb2xlYW4sXG4gICAgKTogYm9vbGVhbjtcbiAgICBnZXRMYXN0Rm9sbG93aW5nRmxvYXRJbkZyYWdtZW50cyhmbG9hdDogUGFnZUZsb2F0KTogUGFnZUZsb2F0IHwgbnVsbDtcbiAgICBnZXREZWZlcnJlZFBhZ2VGbG9hdENvbnRpbnVhdGlvbnMoXG4gICAgICBmbG93TmFtZT86IHN0cmluZyB8IG51bGwsXG4gICAgKTogUGFnZUZsb2F0Q29udGludWF0aW9uW107XG4gICAgZ2V0UGFnZUZsb2F0Q29udGludWF0aW9uc0RlZmVycmVkVG9OZXh0KFxuICAgICAgZmxvd05hbWU/OiBzdHJpbmcgfCBudWxsLFxuICAgICk6IFBhZ2VGbG9hdENvbnRpbnVhdGlvbltdO1xuICAgIGdldEZsb2F0c0RlZmVycmVkVG9OZXh0SW5DaGlsZENvbnRleHRzKCk6IFBhZ2VGbG9hdFtdO1xuICAgIGNoZWNrQW5kRm9yYmlkTm90QWxsb3dlZEZsb2F0KCk6IGJvb2xlYW47XG4gICAgY2hlY2tBbmRGb3JiaWRGbG9hdEZvbGxvd2luZ0RlZmVycmVkRmxvYXQoKTogYm9vbGVhbjtcbiAgICBmaW5pc2goKTogdm9pZDtcbiAgICBoYXNTYW1lQ29udGFpbmVyQXMob3RoZXI6IFBhZ2VGbG9hdExheW91dENvbnRleHQpOiBib29sZWFuO1xuICAgIGludmFsaWRhdGUoKTogdm9pZDtcbiAgICBkZXRhY2hDaGlsZHJlbigpOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0W107XG4gICAgYXR0YWNoQ2hpbGRyZW4oY2hpbGRyZW46IFBhZ2VGbG9hdExheW91dENvbnRleHRbXSk6IHZvaWQ7XG4gICAgaXNJbnZhbGlkYXRlZCgpOiBib29sZWFuO1xuICAgIHZhbGlkYXRlKCk6IHZvaWQ7XG4gICAgcmVtb3ZlRW5kRmxvYXRGcmFnbWVudHMoZmxvYXRTaWRlOiBzdHJpbmcpOiB2b2lkO1xuICAgIHN0YXNoRW5kRmxvYXRGcmFnbWVudHMoZmxvYXQ6IFBhZ2VGbG9hdCk6IHZvaWQ7XG4gICAgcmVzdG9yZVN0YXNoZWRGcmFnbWVudHMoZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlKTogdm9pZDtcbiAgICBkaXNjYXJkU3Rhc2hlZEZyYWdtZW50cyhmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UpOiB2b2lkO1xuICAgIGdldFN0YXNoZWRGbG9hdEZyYWdtZW50cyhcbiAgICAgIGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSxcbiAgICApOiBQYWdlRmxvYXRGcmFnbWVudFtdO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBhbmNob3JFZGdlIE51bGwgaW5kaWNhdGVzIHRoYXQgdGhlIGFuY2hvciBpcyBub3QgaW4gdGhlIGN1cnJlbnRcbiAgICAgKiAgICAgY29udGFpbmVyLlxuICAgICAqIEByZXR1cm4gTG9naWNhbCBmbG9hdCBzaWRlIChzbmFwLWJsb2NrIGlzIHJlc29sdmVkIHdoZW4gaW5pdD1mYWxzZSkuIE51bGxcbiAgICAgKiAgICAgaW5kaWNhdGVzIHRoYXQgdGhlIGZsb2F0IGFyZWEgZG9lcyBub3QgZml0IGluc2lkZSB0aGUgY29udGFpbmVyXG4gICAgICovXG4gICAgc2V0RmxvYXRBcmVhRGltZW5zaW9ucyhcbiAgICAgIGFyZWE6IExheW91dC5QYWdlRmxvYXRBcmVhLFxuICAgICAgZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlLFxuICAgICAgZmxvYXRTaWRlOiBzdHJpbmcsXG4gICAgICBhbmNob3JFZGdlOiBudW1iZXIgfCBudWxsLFxuICAgICAgaW5pdDogYm9vbGVhbixcbiAgICAgIGZvcmNlOiBib29sZWFuLFxuICAgICAgY29uZGl0aW9uOiBQYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb24sXG4gICAgKTogc3RyaW5nIHwgbnVsbDtcbiAgICBnZXRGbG9hdEZyYWdtZW50RXhjbHVzaW9ucygpOiBHZW9tZXRyeVV0aWwuU2hhcGVbXTtcbiAgICBnZXRNYXhSZWFjaGVkQWZ0ZXJFZGdlKCk6IG51bWJlcjtcbiAgICBnZXRCbG9ja1N0YXJ0RWRnZU9mQmxvY2tFbmRGbG9hdHMoKTogbnVtYmVyO1xuICAgIGdldFBhZ2VGbG9hdENsZWFyRWRnZShjbGVhcjogc3RyaW5nLCBjb2x1bW46IExheW91dC5Db2x1bW4pOiBudW1iZXI7XG4gICAgZ2V0UGFnZUZsb2F0UGxhY2VtZW50Q29uZGl0aW9uKFxuICAgICAgZmxvYXQ6IFBhZ2VGbG9hdCxcbiAgICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgICAgY2xlYXJTaWRlOiBzdHJpbmcgfCBudWxsLFxuICAgICk6IFBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbjtcbiAgICBnZXRMYXlvdXRDb25zdHJhaW50cygpOiBMYXlvdXQuTGF5b3V0Q29uc3RyYWludFtdO1xuICAgIGFkZExheW91dENvbnN0cmFpbnQoXG4gICAgICBsYXlvdXRDb25zdHJhaW50OiBMYXlvdXQuTGF5b3V0Q29uc3RyYWludCxcbiAgICAgIGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSxcbiAgICApOiB2b2lkO1xuICAgIGdldE1heEJsb2NrU2l6ZU9mUGFnZUZsb2F0cygpOiBudW1iZXI7XG4gICAgbG9jaygpOiB2b2lkO1xuICAgIHVubG9jaygpOiB2b2lkO1xuICAgIGlzTG9ja2VkKCk6IGJvb2xlYW47XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFBhZ2VGbG9hdExheW91dFN0cmF0ZWd5IHtcbiAgICBhcHBsaWVzVG9Ob2RlQ29udGV4dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuO1xuICAgIGFwcGxpZXNUb0Zsb2F0KGZsb2F0OiBQYWdlRmxvYXQpOiBib29sZWFuO1xuICAgIGNyZWF0ZVBhZ2VGbG9hdChcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgKTogVGFzay5SZXN1bHQ8UGFnZUZsb2F0PjtcbiAgICBjcmVhdGVQYWdlRmxvYXRGcmFnbWVudChcbiAgICAgIGNvbnRpbnVhdGlvbnM6IFBhZ2VGbG9hdENvbnRpbnVhdGlvbltdLFxuICAgICAgZmxvYXRTaWRlOiBzdHJpbmcsXG4gICAgICBmbG9hdEFyZWE6IExheW91dC5QYWdlRmxvYXRBcmVhLFxuICAgICAgY29udGludWVzOiBib29sZWFuLFxuICAgICk6IFBhZ2VGbG9hdEZyYWdtZW50O1xuICAgIGZpbmRQYWdlRmxvYXRGcmFnbWVudChcbiAgICAgIGZsb2F0OiBQYWdlRmxvYXQsXG4gICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICk6IFBhZ2VGbG9hdEZyYWdtZW50IHwgbnVsbDtcbiAgICBhZGp1c3RQYWdlRmxvYXRBcmVhKFxuICAgICAgZmxvYXRBcmVhOiBMYXlvdXQuUGFnZUZsb2F0QXJlYSxcbiAgICAgIGZsb2F0Q29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgKTtcbiAgICBmb3JiaWQoZmxvYXQ6IFBhZ2VGbG9hdCwgcGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCk7XG4gIH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBTZWxlY3RvcnMge1xuICBleHBvcnQgaW50ZXJmYWNlIEFmdGVySWZDb250aW51ZXMge1xuICAgIHJlYWRvbmx5IHNvdXJjZU5vZGU6IEVsZW1lbnQ7XG4gICAgcmVhZG9ubHkgc3R5bGVyOiBQc2V1ZG9FbGVtZW50LlBzZXVkb2VsZW1lbnRTdHlsZXI7XG5cbiAgICBjcmVhdGVFbGVtZW50KFxuICAgICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgICAgcGFyZW50Tm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICk6IFRhc2suUmVzdWx0PEVsZW1lbnQ+O1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBBZnRlcklmQ29udGludWVzTGF5b3V0Q29uc3RyYWludFxuICAgIGV4dGVuZHMgTGF5b3V0LkZyYWdtZW50TGF5b3V0Q29uc3RyYWludCB7XG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgIGFmdGVySWZDb250aW51ZXM6IEFmdGVySWZDb250aW51ZXM7XG4gICAgcHNldWRvRWxlbWVudEhlaWdodDogbnVtYmVyO1xuXG4gICAgZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk6IEFmdGVySWZDb250aW51ZXNFbGVtZW50c09mZnNldDtcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBpc0luc3RhbmNlT2ZBZnRlcklmQ29udGludWVzTGF5b3V0Q29uc3RyYWludChcbiAgICBvYmplY3Q6IExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnQsXG4gICk6IG9iamVjdCBpcyBBZnRlcklmQ29udGludWVzTGF5b3V0Q29uc3RyYWludCB7XG4gICAgcmV0dXJuIG9iamVjdCAmJiBvYmplY3QuZmxhZ21lbnRMYXlvdXRDb25zdHJhaW50VHlwZSA9PSBcIkFmdGVySWZDb250aW51ZVwiO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBBZnRlcklmQ29udGludWVzRWxlbWVudHNPZmZzZXRcbiAgICBleHRlbmRzIFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0IHtcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgcHNldWRvRWxlbWVudEhlaWdodDogbnVtYmVyO1xuXG4gICAgYWZmZWN0VG8obm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbjtcbiAgfVxufVxuXG5leHBvcnQgbmFtZXNwYWNlIFBzZXVkb0VsZW1lbnQge1xuICBleHBvcnQgaW50ZXJmYWNlIFBzZXVkb2VsZW1lbnRTdHlsZXIgZXh0ZW5kcyBDc3NTdHlsZXIuQWJzdHJhY3RTdHlsZXIge1xuICAgIGNvbnRlbnRQcm9jZXNzZWQ6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9O1xuICAgIHJlYWRvbmx5IGVsZW1lbnQ6IEVsZW1lbnQ7XG4gICAgc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuICAgIHN0eWxlcjogQ3NzU3R5bGVyLkFic3RyYWN0U3R5bGVyO1xuICAgIHJlYWRvbmx5IGNvbnRleHQ6IEV4cHJzLkNvbnRleHQ7XG4gICAgcmVhZG9ubHkgZXhwckNvbnRlbnRMaXN0ZW5lcjogVnRyZWUuRXhwckNvbnRlbnRMaXN0ZW5lcjtcbiAgfVxufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJlcGV0aXRpdmVFbGVtZW50IHtcbiAgZXhwb3J0IGludGVyZmFjZSBSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0XG4gICAgZXh0ZW5kcyBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCB7XG4gICAgaXNSb290OiBib29sZWFuO1xuICAgIHJlcGV0aXRpdmVFbGVtZW50czogUmVwZXRpdGl2ZUVsZW1lbnRzO1xuICAgIHJlYWRvbmx5IHBhcmVudDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgcmVhZG9ubHkgcm9vdFNvdXJjZU5vZGU6IEVsZW1lbnQ7XG4gICAgZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk6IFJlcGV0aXRpdmVFbGVtZW50cztcbiAgICBnZXRSb290Vmlld05vZGUocG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0KTogRWxlbWVudCB8IG51bGw7XG4gICAgZ2V0Um9vdE5vZGVDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICk6IFZ0cmVlLk5vZGVDb250ZXh0IHwgbnVsbDtcbiAgICBpbml0aWFsaXplUmVwZXRpdGl2ZUVsZW1lbnRzKHZlcnRpY2FsOiBib29sZWFuKTogdm9pZDtcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBpc0luc3RhbmNlT2ZSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgIG9iamVjdDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQsXG4gICk6IG9iamVjdCBpcyBSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0IHtcbiAgICBpZiAoIW9iamVjdCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCB0eXBlID0gb2JqZWN0LmZvcm1hdHRpbmdDb250ZXh0VHlwZTtcbiAgICByZXR1cm4gKFxuICAgICAgdHlwZSA9PT0gXCJSZXBldGl0aXZlRWxlbWVudHNPd25lclwiIHx8XG4gICAgICBUYWJsZS5pc0luc3RhbmNlT2ZUYWJsZUZvcm1hdHRpbmdDb250ZXh0KG9iamVjdClcbiAgICApOyAvLyBzdWJzZXRcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudHNPZmZzZXQge1xuICAgIGNhbGN1bGF0ZU9mZnNldChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBudW1iZXI7XG4gICAgY2FsY3VsYXRlTWluaW11bU9mZnNldChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBudW1iZXI7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFJlcGV0aXRpdmVFbGVtZW50cyBleHRlbmRzIEVsZW1lbnRzT2Zmc2V0IHtcbiAgICBpc1NraXBIZWFkZXI6IGJvb2xlYW47XG4gICAgaXNTa2lwRm9vdGVyOiBib29sZWFuO1xuICAgIGVuYWJsZVNraXBwaW5nRm9vdGVyOiBib29sZWFuO1xuICAgIGVuYWJsZVNraXBwaW5nSGVhZGVyOiBib29sZWFuO1xuICAgIGRvbmVJbml0aWFsTGF5b3V0OiBib29sZWFuO1xuICAgIGZpcnN0Q29udGVudFNvdXJjZU5vZGU6IEVsZW1lbnQgfCBudWxsO1xuICAgIGxhc3RDb250ZW50U291cmNlTm9kZTogRWxlbWVudCB8IG51bGw7XG4gICAgYWxsb3dJbnNlcnQ6IGJvb2xlYW47XG4gICAgYWxsb3dJbnNlcnRSZXBlYXRpdGl2ZUVsZW1lbnRzOiBib29sZWFuO1xuICAgIG93bmVyU291cmNlTm9kZTogRWxlbWVudDtcblxuICAgIHNldEhlYWRlck5vZGVDb250ZXh0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IHZvaWQ7XG4gICAgc2V0Rm9vdGVyTm9kZUNvbnRleHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogdm9pZDtcbiAgICB1cGRhdGVIZWlnaHQoY29sdW1uOiBMYXlvdXQuQ29sdW1uKTogdm9pZDtcbiAgICBwcmVwYXJlTGF5b3V0RnJhZ21lbnQoKTogdm9pZDtcbiAgICBhcHBlbmRIZWFkZXJUb0ZyYWdtZW50KFxuICAgICAgcm9vdE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGZpcnN0Q2hpbGQ6IE5vZGUgfCBudWxsLFxuICAgICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+O1xuICAgIGFwcGVuZEZvb3RlclRvRnJhZ21lbnQoXG4gICAgICByb290Tm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgZmlyc3RDaGlsZDogTm9kZSB8IG51bGwsXG4gICAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgYXBwZW5kRWxlbWVudFRvRnJhZ21lbnQoXG4gICAgICBub2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbixcbiAgICAgIHJvb3ROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBmaXJzdENoaWxkOiBOb2RlIHwgbnVsbCxcbiAgICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICApOiBUYXNrLlJlc3VsdDxib29sZWFuPjtcbiAgICBtb3ZlQ2hpbGRyZW4oZnJvbTogRWxlbWVudCwgdG86IEVsZW1lbnQsIGZpcnN0Q2hpbGQ6IE5vZGUgfCBudWxsKTogdm9pZDtcbiAgICBpc0FmdGVyTGFzdENvbnRlbnQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbjtcbiAgICBpc0ZpcnN0Q29udGVudE5vZGUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbjtcbiAgICBpc0VuYWJsZVRvVXBkYXRlU3RhdGUoKTogYm9vbGVhbjtcbiAgICB1cGRhdGVTdGF0ZSgpOiB2b2lkO1xuICAgIHByZXZlbnRTa2lwcGluZ0hlYWRlcigpOiB2b2lkO1xuICAgIHByZXZlbnRTa2lwcGluZ0Zvb3RlcigpOiB2b2lkO1xuICAgIGlzSGVhZGVyUmVnaXN0ZXJlZCgpOiBib29sZWFuO1xuICAgIGlzRm9vdGVyUmVnaXN0ZXJlZCgpOiBib29sZWFuO1xuICAgIGlzSGVhZGVyU291cmNlTm9kZShub2RlOiBOb2RlKTogYm9vbGVhbjtcbiAgICBpc0Zvb3RlclNvdXJjZU5vZGUobm9kZTogTm9kZSk6IGJvb2xlYW47XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0Q29uc3RyYWludFxuICAgIGV4dGVuZHMgTGF5b3V0LkZyYWdtZW50TGF5b3V0Q29uc3RyYWludCB7XG4gICAgZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk6IFJlcGV0aXRpdmVFbGVtZW50cztcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBpc0luc3RhbmNlT2ZSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dENvbnN0cmFpbnQoXG4gICAgb2JqZWN0OiBMYXlvdXQuRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50LFxuICApOiBvYmplY3QgaXMgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRDb25zdHJhaW50IHtcbiAgICBpZiAoIW9iamVjdCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCB0eXBlID0gb2JqZWN0LmZsYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGU7XG4gICAgcmV0dXJuIChcbiAgICAgIHR5cGUgPT09IFwiUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJcIiB8fFxuICAgICAgVGFibGUuaXNJbnN0YW5jZU9mVGFibGVSb3dMYXlvdXRDb25zdHJhaW50KG9iamVjdClcbiAgICApOyAvLyBzdWJzZXRcbiAgfVxufVxuXG5leHBvcnQgbmFtZXNwYWNlIFRhYmxlIHtcbiAgZXhwb3J0IGludGVyZmFjZSBUYWJsZUZvcm1hdHRpbmdDb250ZXh0XG4gICAgZXh0ZW5kcyBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0IHtcbiAgICAvLyBGSVhNRVxuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGlzSW5zdGFuY2VPZlRhYmxlRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgb2JqZWN0OiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCxcbiAgKTogb2JqZWN0IGlzIFRhYmxlRm9ybWF0dGluZ0NvbnRleHQge1xuICAgIHJldHVybiBvYmplY3QgJiYgb2JqZWN0LmZvcm1hdHRpbmdDb250ZXh0VHlwZSA9PT0gXCJUYWJsZVwiO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBUYWJsZVJvd0xheW91dENvbnN0cmFpbnRcbiAgICBleHRlbmRzIFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0Q29uc3RyYWludCB7XG4gICAgY2VsbEZyYWdtZW50TGF5b3V0Q29uc3RyYWludHM6IHtcbiAgICAgIGNvbnN0cmFpbnRzOiBMYXlvdXQuRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50W107XG4gICAgICBicmVha1Bvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICB9W107XG5cbiAgICByZW1vdmVEdW1teVJvd05vZGVzKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IHZvaWQ7XG4gICAgZ2V0RWxlbWVudHNPZmZzZXRzRm9yVGFibGVDZWxsKFxuICAgICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgICk6IFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0W107XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gaXNJbnN0YW5jZU9mVGFibGVSb3dMYXlvdXRDb25zdHJhaW50KFxuICAgIG9iamVjdDogTGF5b3V0LkZyYWdtZW50TGF5b3V0Q29uc3RyYWludCxcbiAgKTogb2JqZWN0IGlzIFRhYmxlUm93TGF5b3V0Q29uc3RyYWludCB7XG4gICAgcmV0dXJuIG9iamVjdCAmJiBvYmplY3QuZmxhZ21lbnRMYXlvdXRDb25zdHJhaW50VHlwZSA9PT0gXCJUYWJsZVJvd1wiO1xuICB9XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgVnRyZWUge1xuICBleHBvcnQgdHlwZSBDbGllbnRSZWN0ID0ge1xuICAgIGxlZnQ6IG51bWJlcjtcbiAgICB0b3A6IG51bWJlcjtcbiAgICByaWdodDogbnVtYmVyO1xuICAgIGJvdHRvbTogbnVtYmVyO1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludGVyZmFjZSB0byByZWFkIHRoZSBwb3NpdGlvbiBhc3NpZ25lZCB0byB0aGUgZWxlbWVudHMgYW5kIHJhbmdlcyBieSB0aGVcbiAgICogYnJvd3Nlci5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgQ2xpZW50TGF5b3V0IHtcbiAgICBnZXRSYW5nZUNsaWVudFJlY3RzKHJhbmdlOiBSYW5nZSk6IENsaWVudFJlY3RbXTtcbiAgICBnZXRFbGVtZW50Q2xpZW50UmVjdChlbGVtZW50OiBFbGVtZW50KTogQ2xpZW50UmVjdDtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIGVsZW1lbnQncyBjb21wdXRlZCBzdHlsZVxuICAgICAqL1xuICAgIGdldEVsZW1lbnRDb21wdXRlZFN0eWxlKGVsZW1lbnQ6IEVsZW1lbnQpOiBDU1NTdHlsZURlY2xhcmF0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0eWxpbmcsIGNyZWF0aW5nIGEgc2luZ2xlIG5vZGUncyB2aWV3LCBldGMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIExheW91dENvbnRleHQge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbmFsbHkgZXF1aXZhbGVudCwgYnV0IHVuaW5pdGlhbGl6ZWQgbGF5b3V0IGNvbnRleHQsXG4gICAgICogc3VpdGFibGUgZm9yIGJ1aWxkaW5nIGEgc2VwYXJhdGUgY29sdW1uLlxuICAgICAqL1xuICAgIGNsb25lKCk6IExheW91dENvbnRleHQ7XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjdXJyZW50IHNvdXJjZSBub2RlIGFuZCBjcmVhdGUgYSB2aWV3LiBQYXJhbWV0ZXIgZmlyc3RUaW1lXG4gICAgICogaXMgdHJ1ZSAoYW5kIHBvc3NpYmx5IG9mZnNldEluTm9kZSA+IDApIGlmIG5vZGUgd2FzIGJyb2tlbiBvblxuICAgICAqIHRoZSBwcmV2aW91cyBwYWdlLlxuICAgICAqIEByZXR1cm4gdHJ1ZSBpZiBjaGlsZHJlbiBzaG91bGQgYmUgcHJvY2Vzc2VkIGFzIHdlbGxcbiAgICAgKi9cbiAgICBzZXRDdXJyZW50KFxuICAgICAgbm9kZUNvbnRleHQ6IE5vZGVDb250ZXh0LFxuICAgICAgZmlyc3RUaW1lOiBib29sZWFuLFxuICAgICAgYXRVbmZvcmNlZEJyZWFrPzogYm9vbGVhbixcbiAgICApOiBUYXNrLlJlc3VsdDxib29sZWFuPjtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvbnRhaW5lciBlbGVtZW50IHRoYXQgaG9sZHMgdmlldyBlbGVtZW50cyBwcm9kdWNlZCBmcm9tIHRoZVxuICAgICAqIHNvdXJjZS5cbiAgICAgKi9cbiAgICBzZXRWaWV3Um9vdCh2aWV3Um9vdDogRWxlbWVudCwgaXNGb290bm90ZTogYm9vbGVhbik7XG4gICAgLyoqXG4gICAgICogTW92ZXMgdG8gdGhlIG5leHQgdmlldyBub2RlLCBjcmVhdGluZyBpdCBhbmQgYXBwZW5kaW5nIGl0IHRvIHRoZSB2aWV3IHRyZWVcbiAgICAgKiBpZiBuZWVkZWQuXG4gICAgICogQHJldHVybiB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBuZXh0IHZpZXcgbm9kZVxuICAgICAqL1xuICAgIG5leHRJblRyZWUoXG4gICAgICBub2RlQ29udGV4dDogTm9kZUNvbnRleHQsXG4gICAgICBhdFVuZm9yY2VkQnJlYWs/OiBib29sZWFuLFxuICAgICk6IFRhc2suUmVzdWx0PE5vZGVDb250ZXh0PjtcbiAgICAvKipcbiAgICAgKiBBcHBseSBwc2V1ZG8tZWxlbWVudCBzdHlsZXMgKGlmIGFueSkuXG4gICAgICogQHBhcmFtIHRhcmdldCBlbGVtZW50IHRvIGFwcGx5IHN0eWxlcyB0b1xuICAgICAqL1xuICAgIGFwcGx5UHNldWRvZWxlbWVudFN0eWxlKFxuICAgICAgbm9kZUNvbnRleHQ6IE5vZGVDb250ZXh0LFxuICAgICAgcHNldWRvTmFtZTogc3RyaW5nLFxuICAgICAgdGFyZ2V0OiBFbGVtZW50LFxuICAgICk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogQXBwbHkgc3R5bGVzIHRvIGZvb3Rub3RlIGNvbnRhaW5lci5cbiAgICAgKiBAcGFyYW0gdGFyZ2V0IGVsZW1lbnQgdG8gYXBwbHkgc3R5bGVzIHRvXG4gICAgICogQHJldHVybiB2ZXJ0aWNhbFxuICAgICAqL1xuICAgIGFwcGx5Rm9vdG5vdGVTdHlsZShcbiAgICAgIHZlcnRpY2FsOiBib29sZWFuLFxuICAgICAgcnRsOiBib29sZWFuLFxuICAgICAgdGFyZ2V0OiBFbGVtZW50LFxuICAgICk6IGJvb2xlYW47XG4gICAgLyoqXG4gICAgICogUGVlbCBvZmYgaW5uZXJtb3N0IGZpcnN0LVhYWCBwc2V1ZG9lbGVtZW50LCBjcmVhdGUgYW5kIGNyZWF0ZSB2aWV3IG5vZGVzXG4gICAgICogYWZ0ZXIgdGhlIGVuZCBvZiB0aGF0IHBzZXVkb2VsZW1lbnQuXG4gICAgICovXG4gICAgcGVlbE9mZihcbiAgICAgIG5vZGVDb250ZXh0OiBOb2RlQ29udGV4dCxcbiAgICAgIG5vZGVPZmZzZXQ6IG51bWJlcixcbiAgICApOiBUYXNrLlJlc3VsdDxOb2RlQ29udGV4dD47XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBhIGJsb2NrLWVuZCBlZGdlIG9mIGEgZnJhZ21lbnRlZCBibG9jay5cbiAgICAgKi9cbiAgICBwcm9jZXNzRnJhZ21lbnRlZEJsb2NrRWRnZShub2RlQ29udGV4dDogTm9kZUNvbnRleHQpO1xuICAgIGNvbnZlcnRMZW5ndGhUb1B4KFxuICAgICAgbnVtZXJpYzogQ3NzLk51bWVyaWMsXG4gICAgICB2aWV3Tm9kZTogTm9kZSxcbiAgICAgIGNsaWVudExheW91dDogQ2xpZW50TGF5b3V0LFxuICAgICk6IG51bWJlciB8IENzcy5OdW1lcmljO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgaWYgdHdvIE5vZGVQb3NpdGlvbnMgcmVwcmVzZW50cyB0aGUgc2FtZSBwb3NpdGlvbiBpbiB0aGUgZG9jdW1lbnQuXG4gICAgICovXG4gICAgaXNTYW1lTm9kZVBvc2l0aW9uKFxuICAgICAgbm9kZVBvc2l0aW9uMTogTm9kZVBvc2l0aW9uLFxuICAgICAgbm9kZVBvc2l0aW9uMjogTm9kZVBvc2l0aW9uLFxuICAgICk6IGJvb2xlYW47XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIHR5cGU6IHN0cmluZyxcbiAgICAgIGxpc3RlbmVyOiBCYXNlLkV2ZW50TGlzdGVuZXIsXG4gICAgICBjYXB0dXJlPzogYm9vbGVhbixcbiAgICApOiB2b2lkO1xuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICB0eXBlOiBzdHJpbmcsXG4gICAgICBsaXN0ZW5lcjogQmFzZS5FdmVudExpc3RlbmVyLFxuICAgICAgY2FwdHVyZT86IGJvb2xlYW4sXG4gICAgKTogdm9pZDtcbiAgICBkaXNwYXRjaEV2ZW50KGV2dDogQmFzZS5FdmVudCk6IHZvaWQ7XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0dGluZyBjb250ZXh0LlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBGb3JtYXR0aW5nQ29udGV4dCB7XG4gICAgZm9ybWF0dGluZ0NvbnRleHRUeXBlOiBGb3JtYXR0aW5nQ29udGV4dFR5cGU7XG4gICAgZ2V0TmFtZSgpOiBzdHJpbmc7XG4gICAgaXNGaXJzdFRpbWUobm9kZUNvbnRleHQ6IE5vZGVDb250ZXh0LCBmaXJzdFRpbWU6IGJvb2xlYW4pOiBib29sZWFuO1xuICAgIGdldFBhcmVudCgpOiBGb3JtYXR0aW5nQ29udGV4dDtcbiAgICBzYXZlU3RhdGUoKTogYW55O1xuICAgIHJlc3RvcmVTdGF0ZShzdGF0ZTogYW55KTtcbiAgfVxuXG4gIGV4cG9ydCB0eXBlIE5vZGVQb3NpdGlvblN0ZXAgPSB7XG4gICAgbm9kZTogTm9kZTtcbiAgICBzaGFkb3dUeXBlOiBTaGFkb3dUeXBlO1xuICAgIHNoYWRvd0NvbnRleHQ6IFNoYWRvd0NvbnRleHQgfCBudWxsO1xuICAgIG5vZGVTaGFkb3c6IFNoYWRvd0NvbnRleHQgfCBudWxsO1xuICAgIHNoYWRvd1NpYmxpbmc6IE5vZGVQb3NpdGlvblN0ZXAgfCBudWxsO1xuICAgIGZvcm1hdHRpbmdDb250ZXh0OiBGb3JtYXR0aW5nQ29udGV4dCB8IG51bGw7XG4gICAgZnJhZ21lbnRJbmRleDogbnVtYmVyO1xuICB9O1xuXG4gIGV4cG9ydCB0eXBlIE5vZGVQb3NpdGlvbiA9IHtcbiAgICBzdGVwczogTm9kZVBvc2l0aW9uU3RlcFtdO1xuICAgIG9mZnNldEluTm9kZTogbnVtYmVyO1xuICAgIGFmdGVyOiBib29sZWFuO1xuICAgIHByZXByb2Nlc3NlZFRleHRDb250ZW50OiBEaWZmLkNoYW5nZVtdIHwgbnVsbDtcbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxpbmcgb2YgcHVyZWx5IHdoaXRlc3BhY2Ugc2VxdWVuY2VzIGJldHdlZW4gYmxvY2tzXG4gICAqIEBlbnVtIHtudW1iZXJ9XG4gICAqL1xuICBleHBvcnQgZW51bSBXaGl0ZXNwYWNlIHtcbiAgICAvKipcbiAgICAgKiBXaGl0ZXNwYWNlIHNlcXVlbmNlIGJldHdlZW4gYmxvY2tzIGlzIGlnbm9yZWRcbiAgICAgKi9cbiAgICBJR05PUkUsXG4gICAgLyoqXG4gICAgICogV2hpdGVzcGFjZSBzZXF1ZW5jZSBiZXR3ZWVuIGJsb2NrcyBpcyBpZ25vcmVkIHVubGVzcyBpdCBjb250YWluZXMgbmV3bGluZVxuICAgICAqL1xuICAgIE5FV0xJTkUsXG4gICAgLyoqXG4gICAgICogV2hpdGVzcGFjZSBzZXF1ZW5jZSBiZXR3ZWVuIGJsb2NrcyBpcyBwcmVzZXJ2ZWRcbiAgICAgKi9cbiAgICBQUkVTRVJWRSxcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgQ29udGFpbmVyIHtcbiAgICBsZWZ0OiBudW1iZXI7XG4gICAgdG9wOiBudW1iZXI7XG4gICAgbWFyZ2luTGVmdDogbnVtYmVyO1xuICAgIG1hcmdpblJpZ2h0OiBudW1iZXI7XG4gICAgbWFyZ2luVG9wOiBudW1iZXI7XG4gICAgbWFyZ2luQm90dG9tOiBudW1iZXI7XG4gICAgYm9yZGVyTGVmdDogbnVtYmVyO1xuICAgIGJvcmRlclJpZ2h0OiBudW1iZXI7XG4gICAgYm9yZGVyVG9wOiBudW1iZXI7XG4gICAgYm9yZGVyQm90dG9tOiBudW1iZXI7XG4gICAgcGFkZGluZ0xlZnQ6IG51bWJlcjtcbiAgICBwYWRkaW5nUmlnaHQ6IG51bWJlcjtcbiAgICBwYWRkaW5nVG9wOiBudW1iZXI7XG4gICAgcGFkZGluZ0JvdHRvbTogbnVtYmVyO1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgb3JpZ2luWDogbnVtYmVyO1xuICAgIG9yaWdpblk6IG51bWJlcjtcbiAgICBleGNsdXNpb25zOiBHZW9tZXRyeVV0aWwuU2hhcGVbXTtcbiAgICBpbm5lclNoYXBlOiBHZW9tZXRyeVV0aWwuU2hhcGU7XG4gICAgY29tcHV0ZWRCbG9ja1NpemU6IG51bWJlcjtcbiAgICBzbmFwV2lkdGg6IG51bWJlcjtcbiAgICBzbmFwSGVpZ2h0OiBudW1iZXI7XG4gICAgc25hcE9mZnNldFg6IG51bWJlcjtcbiAgICBzbmFwT2Zmc2V0WTogbnVtYmVyO1xuICAgIHZlcnRpY2FsOiBib29sZWFuOyAvLyB2ZXJ0aWNhbCB3cml0aW5nXG4gICAgZWxlbWVudDogRWxlbWVudDtcblxuICAgIGdldEluc2V0VG9wKCk6IG51bWJlcjtcbiAgICBnZXRJbnNldEJvdHRvbSgpOiBudW1iZXI7XG4gICAgZ2V0SW5zZXRMZWZ0KCk6IG51bWJlcjtcbiAgICBnZXRJbnNldFJpZ2h0KCk6IG51bWJlcjtcbiAgICBnZXRJbnNldEJlZm9yZSgpOiBudW1iZXI7XG4gICAgZ2V0SW5zZXRBZnRlcigpOiBudW1iZXI7XG4gICAgZ2V0SW5zZXRTdGFydCgpOiBudW1iZXI7XG4gICAgZ2V0SW5zZXRFbmQoKTogbnVtYmVyO1xuICAgIGdldEJlZm9yZUVkZ2UoYm94OiBDbGllbnRSZWN0KTogbnVtYmVyO1xuICAgIGdldEFmdGVyRWRnZShib3g6IENsaWVudFJlY3QpOiBudW1iZXI7XG4gICAgZ2V0U3RhcnRFZGdlKGJveDogQ2xpZW50UmVjdCk6IG51bWJlcjtcbiAgICBnZXRFbmRFZGdlKGJveDogQ2xpZW50UmVjdCk6IG51bWJlcjtcbiAgICBnZXRJbmxpbmVTaXplKGJveDogQ2xpZW50UmVjdCk6IG51bWJlcjtcbiAgICBnZXRCb3hTaXplKGJveDogQ2xpZW50UmVjdCk6IG51bWJlcjtcbiAgICBnZXRCb3hEaXIoKTogbnVtYmVyO1xuICAgIGdldElubGluZURpcigpOiBudW1iZXI7XG4gICAgY29weUZyb20ob3RoZXI6IENvbnRhaW5lcik6IHZvaWQ7XG4gICAgc2V0VmVydGljYWxQb3NpdGlvbih0b3A6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiB2b2lkO1xuICAgIHNldEhvcml6b250YWxQb3NpdGlvbihsZWZ0OiBudW1iZXIsIHdpZHRoOiBudW1iZXIpOiB2b2lkO1xuICAgIHNldEJsb2NrUG9zaXRpb24oc3RhcnQ6IG51bWJlciwgZXh0ZW50OiBudW1iZXIpOiB2b2lkO1xuICAgIHNldElubGluZVBvc2l0aW9uKHN0YXJ0OiBudW1iZXIsIGV4dGVudDogbnVtYmVyKTogdm9pZDtcbiAgICBjbGVhcigpOiB2b2lkO1xuICAgIGdldElubmVyU2hhcGUoKTogR2VvbWV0cnlVdGlsLlNoYXBlO1xuICAgIGdldElubmVyUmVjdCgpOiBHZW9tZXRyeVV0aWwuUmVjdDtcbiAgICBnZXRQYWRkaW5nUmVjdCgpOiBHZW9tZXRyeVV0aWwuUmVjdDtcbiAgICBnZXRPdXRlclNoYXBlKFxuICAgICAgb3V0ZXJTaGFwZVByb3A6IENzcy5WYWwsXG4gICAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgICk6IEdlb21ldHJ5VXRpbC5TaGFwZTtcbiAgICBnZXRPdXRlclJlY3QoKTogR2VvbWV0cnlVdGlsLlJlY3Q7XG4gIH1cblxuICAvKipcbiAgICogQGVudW0ge251bWJlcn1cbiAgICovXG4gIGV4cG9ydCBlbnVtIFNoYWRvd1R5cGUge1xuICAgIE5PTkUsXG4gICAgQ09OVEVOVCxcbiAgICBST09UTEVTUyxcbiAgICBST09URUQsXG4gIH1cblxuICAvKipcbiAgICogRGF0YSBhYm91dCBzaGFkb3cgdHJlZSBpbnN0YW5jZS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgU2hhZG93Q29udGV4dCB7XG4gICAgcmVhZG9ubHkgb3duZXI6IEVsZW1lbnQ7XG4gICAgcmVhZG9ubHkgcm9vdDogRWxlbWVudDtcbiAgICByZWFkb25seSB4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXI7XG4gICAgcmVhZG9ubHkgcGFyZW50U2hhZG93OiBTaGFkb3dDb250ZXh0O1xuICAgIHN1YlNoYWRvdzogU2hhZG93Q29udGV4dDtcbiAgICByZWFkb25seSB0eXBlOiBWdHJlZS5TaGFkb3dUeXBlO1xuICAgIHJlYWRvbmx5IHN0eWxlcjogb2JqZWN0O1xuXG4gICAgZXF1YWxzKG90aGVyOiBTaGFkb3dDb250ZXh0KTogYm9vbGVhbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCA6Zmlyc3QtbGV0dGVyIG9yIDpmaXJzdC1saW5lIHBzZXVkb2VsZW1lbnRzXG4gICAqIEBwYXJhbSBjb3VudCAwIC0gZmlyc3QtbGV0dGVyLCAxIG9yIG1vcmUgLSBmaXJzdCBsaW5lKHMpXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEZpcnN0UHNldWRvIHtcbiAgICByZWFkb25seSBvdXRlcjogRmlyc3RQc2V1ZG87XG4gICAgcmVhZG9ubHkgY291bnQ6IG51bWJlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBOb2RlQ29udGV4dCByZXByZXNlbnRzIGEgcG9zaXRpb24gaW4gdGhlIGRvY3VtZW50ICsgbGF5b3V0LXJlbGF0ZWRcbiAgICogaW5mb3JtYXRpb24gYXR0YWNoZWQgdG8gaXQuIFdoZW4gYWZ0ZXI9ZmFsc2UgYW5kIG9mZnNldEluTm9kZT0wLCB0aGVcbiAgICogcG9zaXRpb24gaXMgaW5zaWRlIHRoZSBlbGVtZW50IChub2RlKSwgYnV0IGp1c3QgYmVmb3JlIGl0cyBmaXJzdCBjaGlsZC5cbiAgICogV2hlbiBvZmZzZXRJbk5vZGU+MCBpdCByZXByZXNlbnRzIG9mZnNldCBpbiB0aGUgdGV4dHVhbCBjb250ZW50IG9mIHRoZVxuICAgKiBub2RlLiBXaGVuIGFmdGVyPXRydWUgaXQgcmVwcmVzZW50cyBwb3NpdGlvbiByaWdodCBhZnRlciB0aGUgbGFzdCBjaGlsZFxuICAgKiBvZiB0aGUgbm9kZS4gYm94T2Zmc2V0IGlzIGluY3JlbWVudGVkIGJ5IDEgZm9yIGFueSB2YWxpZCBub2RlIHBvc2l0aW9uLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBOb2RlQ29udGV4dCB7XG4gICAgLy8gcG9zaXRpb24gaXRzZWxmXG4gICAgb2Zmc2V0SW5Ob2RlOiBudW1iZXI7XG4gICAgYWZ0ZXI6IGJvb2xlYW47XG4gICAgc2hhZG93VHlwZTogU2hhZG93VHlwZTsgLy8gcGFyZW50J3Mgc2hhZG93IHR5cGVcbiAgICBzaGFkb3dDb250ZXh0OiBWdHJlZS5TaGFkb3dDb250ZXh0O1xuICAgIG5vZGVTaGFkb3c6IFZ0cmVlLlNoYWRvd0NvbnRleHQ7XG4gICAgc2hhZG93U2libGluZzogTm9kZUNvbnRleHQ7IC8vIG5leHQgXCJzaWJsaW5nXCIgaW4gdGhlIHNoYWRvdyB0cmVlXG4gICAgLy8gb3RoZXIgc3R1ZmZcbiAgICBzaGFyZWQ6IGJvb2xlYW47XG4gICAgaW5saW5lOiBib29sZWFuO1xuICAgIG92ZXJmbG93OiBib29sZWFuO1xuICAgIGJyZWFrUGVuYWx0eTogbnVtYmVyO1xuICAgIGRpc3BsYXk6IHN0cmluZyB8IG51bGw7XG4gICAgZmxvYXRSZWZlcmVuY2U6IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2U7XG4gICAgZmxvYXRTaWRlOiBzdHJpbmcgfCBudWxsO1xuICAgIGNsZWFyU2lkZTogc3RyaW5nIHwgbnVsbDtcbiAgICBmbG9hdE1pbldyYXBCbG9jazogQ3NzLk51bWVyaWMgfCBudWxsO1xuICAgIGNvbHVtblNwYW46IENzcy5WYWwgfCBudWxsO1xuICAgIHZlcnRpY2FsQWxpZ246IHN0cmluZztcbiAgICBjYXB0aW9uU2lkZTogc3RyaW5nO1xuICAgIGlubGluZUJvcmRlclNwYWNpbmc6IG51bWJlcjtcbiAgICBibG9ja0JvcmRlclNwYWNpbmc6IG51bWJlcjtcbiAgICBmbGV4Q29udGFpbmVyOiBib29sZWFuO1xuICAgIHdoaXRlc3BhY2U6IFdoaXRlc3BhY2U7XG4gICAgaHlwaGVuYXRlQ2hhcmFjdGVyOiBzdHJpbmcgfCBudWxsO1xuICAgIGJyZWFrV29yZDogYm9vbGVhbjtcbiAgICBlc3RhYmxpc2hlc0JGQzogYm9vbGVhbjtcbiAgICBjb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZTogYm9vbGVhbjtcbiAgICBicmVha0JlZm9yZTogc3RyaW5nIHwgbnVsbDtcbiAgICBicmVha0FmdGVyOiBzdHJpbmcgfCBudWxsO1xuICAgIHZpZXdOb2RlOiBOb2RlO1xuICAgIGNsZWFyU3BhY2VyOiBOb2RlO1xuICAgIGluaGVyaXRlZFByb3BzOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB8IHN0cmluZyB8IENzcy5WYWwgfTtcbiAgICB2ZXJ0aWNhbDogYm9vbGVhbjtcbiAgICBkaXJlY3Rpb246IHN0cmluZztcbiAgICBmaXJzdFBzZXVkbzogRmlyc3RQc2V1ZG87XG4gICAgbGFuZzogc3RyaW5nIHwgbnVsbDtcbiAgICBwcmVwcm9jZXNzZWRUZXh0Q29udGVudDogRGlmZi5DaGFuZ2VbXSB8IG51bGw7XG4gICAgZm9ybWF0dGluZ0NvbnRleHQ6IEZvcm1hdHRpbmdDb250ZXh0O1xuICAgIHJlcGVhdE9uQnJlYWs6IHN0cmluZyB8IG51bGw7XG4gICAgcGx1Z2luUHJvcHM6IHtcbiAgICAgIFtrZXk6IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IHVuZGVmaW5lZCB8IG51bGwgfCAobnVtYmVyIHwgbnVsbClbXTtcbiAgICB9O1xuICAgIGZyYWdtZW50SW5kZXg6IG51bWJlcjtcbiAgICBhZnRlcklmQ29udGludWVzOiBTZWxlY3RvcnMuQWZ0ZXJJZkNvbnRpbnVlcztcbiAgICBmb290bm90ZVBvbGljeTogQ3NzLklkZW50IHwgbnVsbDtcblxuICAgIHNvdXJjZU5vZGU6IE5vZGU7XG4gICAgcGFyZW50OiBOb2RlQ29udGV4dDtcbiAgICBib3hPZmZzZXQ6IG51bWJlcjtcblxuICAgIHJlc2V0VmlldygpOiB2b2lkO1xuICAgIG1vZGlmeSgpOiBOb2RlQ29udGV4dDtcbiAgICBjb3B5KCk6IE5vZGVDb250ZXh0O1xuICAgIGNsb25lKCk6IE5vZGVDb250ZXh0O1xuICAgIHRvTm9kZVBvc2l0aW9uU3RlcCgpOiBOb2RlUG9zaXRpb25TdGVwO1xuICAgIHRvTm9kZVBvc2l0aW9uKCk6IE5vZGVQb3NpdGlvbjtcbiAgICBpc0luc2lkZUJGQygpOiBib29sZWFuO1xuICAgIGdldENvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlKCk6IE5vZGVDb250ZXh0O1xuICAgIC8qKlxuICAgICAqIFdhbGsgdXAgTm9kZUNvbnRleHQgdHJlZSAoc3RhcnRpbmcgZnJvbSBpdHNlbGYpIGFuZCBjYWxsIHRoZSBjYWxsYmFjayBmb3JcbiAgICAgKiBlYWNoIGJsb2NrLlxuICAgICAqL1xuICAgIHdhbGtVcEJsb2NrcyhjYWxsYmFjazogKHAxOiBOb2RlQ29udGV4dCkgPT4gYW55KTogdm9pZDtcbiAgICBiZWxvbmdzVG8oZm9ybWF0dGluZ0NvbnRleHQ6IEZvcm1hdHRpbmdDb250ZXh0KTogYm9vbGVhbjtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgQ2h1bmtQb3NpdGlvbiB7XG4gICAgZmxvYXRzOiBOb2RlUG9zaXRpb25bXTtcbiAgICBwcmltYXJ5OiBOb2RlUG9zaXRpb247XG5cbiAgICBjbG9uZSgpOiBDaHVua1Bvc2l0aW9uO1xuICAgIGlzU2FtZVBvc2l0aW9uKG90aGVyOiBDaHVua1Bvc2l0aW9uKTogYm9vbGVhbjtcbiAgfVxuXG4gIGV4cG9ydCB0eXBlIEV4cHJDb250ZW50TGlzdGVuZXIgPSAoXG4gICAgcDE6IEV4cHJzLlZhbCxcbiAgICBwMjogc3RyaW5nLFxuICAgIHAzOiBEb2N1bWVudCxcbiAgKSA9PiBOb2RlIHwgbnVsbDtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBYbWxEb2Mge1xuICBleHBvcnQgaW50ZXJmYWNlIFhNTERvY0hvbGRlciB7XG4gICAgbGFuZzogc3RyaW5nIHwgbnVsbDtcbiAgICB0b3RhbE9mZnNldDogbnVtYmVyO1xuICAgIHJvb3Q6IEVsZW1lbnQ7XG4gICAgYm9keTogRWxlbWVudDtcbiAgICBoZWFkOiBFbGVtZW50O1xuICAgIGxhc3Q6IEVsZW1lbnQ7XG4gICAgbGFzdE9mZnNldDogbnVtYmVyO1xuICAgIGlkTWFwOiB7IFtrZXk6IHN0cmluZ106IEVsZW1lbnQgfTtcbiAgICByZWFkb25seSBzdG9yZTogWE1MRG9jU3RvcmU7XG4gICAgcmVhZG9ubHkgdXJsOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgZG9jdW1lbnQ6IERvY3VtZW50O1xuXG4gICAgZG9jKCk6IE5vZGVMaXN0O1xuICAgIGdldEVsZW1lbnRPZmZzZXQoZWxlbWVudDogRWxlbWVudCk6IG51bWJlcjtcbiAgICBnZXROb2RlT2Zmc2V0KHNyY05vZGU6IE5vZGUsIG9mZnNldEluTm9kZTogbnVtYmVyLCBhZnRlcjogYm9vbGVhbik6IG51bWJlcjtcbiAgICBnZXRUb3RhbE9mZnNldCgpOiBudW1iZXI7XG4gICAgLyoqXG4gICAgICogQHJldHVybiBsYXN0IG5vZGUgc3VjaCB0aGF0IGl0cyBvZmZzZXQgaXMgbGVzcyBvciBlcXVhbCB0byB0aGUgZ2l2ZW5cbiAgICAgKi9cbiAgICBnZXROb2RlQnlPZmZzZXQob2Zmc2V0OiBudW1iZXIpOiBOb2RlO1xuICAgIC8qKlxuICAgICAqIEdldCBlbGVtZW50IGJ5IFVSTCBpbiB0aGUgc291cmNlIGRvY3VtZW50KHMpLiBVUkwgbXVzdCBiZSBpbiBlaXRoZXIgJyNpZCdcbiAgICAgKiBvciAndXJsI2lkJyBmb3JtLlxuICAgICAqL1xuICAgIGdldEVsZW1lbnQodXJsOiBzdHJpbmcpOiBFbGVtZW50IHwgbnVsbDtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgUHJlZGljYXRlIHtcbiAgICByZWFkb25seSBmbjogKHAxOiBOb2RlKSA9PiBib29sZWFuO1xuXG4gICAgY2hlY2sobm9kZTogTm9kZSk6IGJvb2xlYW47XG4gICAgd2l0aEF0dHJpYnV0ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpOiBQcmVkaWNhdGU7XG4gICAgd2l0aENoaWxkKG5hbWU6IHN0cmluZywgb3B0X2NoaWxkUHJlZGljYXRlPzogUHJlZGljYXRlKTogUHJlZGljYXRlO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBOb2RlTGlzdCB7XG4gICAgcmVhZG9ubHkgbm9kZXM6IE5vZGVbXTtcblxuICAgIGFzQXJyYXkoKTogTm9kZVtdO1xuICAgIHNpemUoKTogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIEZpbHRlciB3aXRoIHByZWRpY2F0ZVxuICAgICAqL1xuICAgIHByZWRpY2F0ZShwcjogUHJlZGljYXRlKTogTm9kZUxpc3Q7XG4gICAgZm9yRWFjaE5vZGUoZm46IChwMTogTm9kZSwgcDI6IChwMTogTm9kZSkgPT4gdm9pZCkgPT4gdm9pZCk6IE5vZGVMaXN0O1xuICAgIGZvckVhY2g8VD4oZm46IChwMTogTm9kZSkgPT4gVCk6IFRbXTtcbiAgICBmb3JFYWNoTm9uTnVsbDxUPihmbjogKHAxOiBOb2RlKSA9PiBUKTogVFtdO1xuICAgIGNoaWxkKHRhZzogc3RyaW5nKTogTm9kZUxpc3Q7XG4gICAgY2hpbGRFbGVtZW50cygpOiBOb2RlTGlzdDtcbiAgICBhdHRyaWJ1dGUobmFtZTogc3RyaW5nKTogKHN0cmluZyB8IG51bGwpW107XG4gICAgdGV4dENvbnRlbnQoKTogKHN0cmluZyB8IG51bGwpW107XG4gIH1cblxuICBleHBvcnQgdHlwZSBYTUxEb2NTdG9yZSA9IE5ldC5SZXNvdXJjZVN0b3JlPFhNTERvY0hvbGRlcj47XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBEaWZmIHV0aWxpdHlcbiAqL1xuXG5pbXBvcnQgZmFzdGRpZmYgZnJvbSBcImZhc3QtZGlmZlwiO1xuXG5leHBvcnQgdHlwZSBDaGFuZ2UgPSAobnVtYmVyIHwgc3RyaW5nKVtdO1xuXG5leHBvcnQgZnVuY3Rpb24gZGlmZkNoYXJzKG9yaWdpbmFsVGV4dDogc3RyaW5nLCBuZXdUZXh0OiBzdHJpbmcpOiBDaGFuZ2VbXSB7XG4gIHJldHVybiBmYXN0ZGlmZihvcmlnaW5hbFRleHQsIG5ld1RleHQsIDApO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzdG9yZU9yaWdpbmFsVGV4dChjaGFuZ2VzOiBDaGFuZ2VbXSk6IGFueSB7XG4gIHJldHVybiBjaGFuZ2VzLnJlZHVjZSgocmVzdWx0LCBpdGVtKSA9PiB7XG4gICAgaWYgKGl0ZW1bMF0gPT09IGZhc3RkaWZmLklOU0VSVCkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdCArIGl0ZW1bMV07XG4gIH0sIFwiXCIpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzdG9yZU5ld1RleHQoY2hhbmdlczogQ2hhbmdlW10pOiBhbnkge1xuICByZXR1cm4gY2hhbmdlcy5yZWR1Y2UoKHJlc3VsdCwgaXRlbSkgPT4ge1xuICAgIGlmIChpdGVtWzBdID09PSBmYXN0ZGlmZi5ERUxFVEUpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQgKyBpdGVtWzFdO1xuICB9LCBcIlwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVOZXdJbmRleChjaGFuZ2VzOiBDaGFuZ2VbXSwgb2xkSW5kZXg6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiByZXNvbHZlSW5kZXgoY2hhbmdlcywgb2xkSW5kZXgsIDEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZU9yaWdpbmFsSW5kZXgoXG4gIGNoYW5nZXM6IENoYW5nZVtdLFxuICBuZXdJbmRleDogbnVtYmVyLFxuKTogbnVtYmVyIHtcbiAgcmV0dXJuIHJlc29sdmVJbmRleChjaGFuZ2VzLCBuZXdJbmRleCwgLTEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUluZGV4KFxuICBjaGFuZ2VzOiBDaGFuZ2VbXSxcbiAgaW5kZXg6IG51bWJlcixcbiAgY29lZjogbnVtYmVyLFxuKTogbnVtYmVyIHtcbiAgbGV0IGRpZmYgPSAwO1xuICBsZXQgY3VycmVudCA9IDA7XG4gIGNoYW5nZXMuc29tZSgoY2hhbmdlKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAoY2hhbmdlWzFdIGFzIHN0cmluZykubGVuZ3RoOyBpKyspIHtcbiAgICAgIHN3aXRjaCAoKGNoYW5nZVswXSBhcyBudW1iZXIpICogY29lZikge1xuICAgICAgICBjYXNlIGZhc3RkaWZmLklOU0VSVDpcbiAgICAgICAgICBkaWZmKys7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZmFzdGRpZmYuREVMRVRFOlxuICAgICAgICAgIGRpZmYtLTtcbiAgICAgICAgICBjdXJyZW50Kys7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZmFzdGRpZmYuRVFVQUw6XG4gICAgICAgICAgY3VycmVudCsrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnQgPiBpbmRleCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbiAgcmV0dXJuIE1hdGgubWF4KE1hdGgubWluKGluZGV4LCBjdXJyZW50IC0gMSkgKyBkaWZmLCAwKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgVnRyZWUgLSBCYXNpYyB2aWV3IHRyZWUgZGF0YSBzdHJ1Y3R1cmVzIGFuZCBzdXBwb3J0IHV0aWxpdGllcy5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBDc3NQYXJzZXIgZnJvbSBcIi4vY3NzLXBhcnNlclwiO1xuaW1wb3J0ICogYXMgQ3NzUHJvcCBmcm9tIFwiLi9jc3MtcHJvcFwiO1xuaW1wb3J0ICogYXMgQ3NzVG9rZW5pemVyIGZyb20gXCIuL2Nzcy10b2tlbml6ZXJcIjtcbmltcG9ydCAqIGFzIERpZmYgZnJvbSBcIi4vZGlmZlwiO1xuaW1wb3J0ICogYXMgRXhwcnMgZnJvbSBcIi4vZXhwcnNcIjtcbmltcG9ydCAqIGFzIEdlb21ldHJ5VXRpbCBmcm9tIFwiLi9nZW9tZXRyeS11dGlsXCI7XG5pbXBvcnQgKiBhcyBUYXNrVXRpbCBmcm9tIFwiLi90YXNrLXV0aWxcIjtcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuL2Fzc2VydHNcIjtcbmltcG9ydCB7IFBhZ2VGbG9hdHMsIFNlbGVjdG9ycywgVnRyZWUsIFhtbERvYyB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBkZWxheWVkUHJvcHMgPSB7XG4gIHRyYW5zZm9ybTogdHJ1ZSxcbiAgXCJ0cmFuc2Zvcm0tb3JpZ2luXCI6IHRydWUsXG59O1xuXG5leHBvcnQgY29uc3QgZGVsYXllZFByb3BzSWZSZWxhdGl2ZVBvc2l0aW9uZWQgPSB7XG4gIHRvcDogdHJ1ZSxcbiAgYm90dG9tOiB0cnVlLFxuICBsZWZ0OiB0cnVlLFxuICByaWdodDogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjbGFzcyBEZWxheWVkSXRlbSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyB0YXJnZXQ6IEVsZW1lbnQsXG4gICAgcHVibGljIG5hbWU6IHN0cmluZyxcbiAgICBwdWJsaWMgdmFsdWU6IENzcy5WYWwsXG4gICkge31cbn1cblxuZXhwb3J0IHR5cGUgUGFnZUh5cGVybGlua0V2ZW50ID0ge1xuICB0eXBlOiBzdHJpbmc7XG4gIHRhcmdldDtcbiAgY3VycmVudFRhcmdldDtcbiAgYW5jaG9yRWxlbWVudDogRWxlbWVudDtcbiAgaHJlZjogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgVHJpZ2dlciA9IHtcbiAgb2JzZXJ2ZXI6IHN0cmluZztcbiAgZXZlbnQ6IHN0cmluZztcbiAgYWN0aW9uOiBzdHJpbmc7XG4gIHJlZjogc3RyaW5nO1xufTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnMgPSB7XG4gIHNob3c6IGZ1bmN0aW9uKG9iaikge1xuICAgIG9iai5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gIH0sXG4gIGhpZGU6IGZ1bmN0aW9uKG9iaikge1xuICAgIG9iai5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgfSxcbiAgcGxheTogZnVuY3Rpb24ob2JqKSB7XG4gICAgb2JqLmN1cnJlbnRUaW1lID0gMDtcbiAgICBvYmoucGxheSgpO1xuICB9LFxuICBwYXVzZTogZnVuY3Rpb24ob2JqKSB7XG4gICAgb2JqLnBhdXNlKCk7XG4gIH0sXG4gIHJlc3VtZTogZnVuY3Rpb24ob2JqKSB7XG4gICAgb2JqLnBsYXkoKTtcbiAgfSxcbiAgbXV0ZTogZnVuY3Rpb24ob2JqKSB7XG4gICAgb2JqLm11dGVkID0gdHJ1ZTtcbiAgfSxcbiAgdW5tdXRlOiBmdW5jdGlvbihvYmopIHtcbiAgICBvYmoubXV0ZWQgPSBmYWxzZTtcbiAgfSxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlTGlzdGVuZXIoXG4gIHJlZnM6IEVsZW1lbnRbXSxcbiAgYWN0aW9uOiBzdHJpbmcsXG4pOiBFdmVudExpc3RlbmVyIHwgbnVsbCB7XG4gIGNvbnN0IGFjdGlvbkZuID0gYWN0aW9uc1thY3Rpb25dO1xuICBpZiAoYWN0aW9uRm4pIHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCByZWZzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYWN0aW9uRm4ocmVmc1trXSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge31cbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgY2xhc3MgUGFnZSBleHRlbmRzIEJhc2UuU2ltcGxlRXZlbnRUYXJnZXQge1xuICBwcml2YXRlIHN0YXRpYyBBVVRPX1BBR0VfV0lEVEhfQVRUUklCVVRFOiBzdHJpbmcgPVxuICAgIFwiZGF0YS12aXZsaW9zdHlsZS1hdXRvLXBhZ2Utd2lkdGhcIjtcbiAgcHJpdmF0ZSBzdGF0aWMgQVVUT19QQUdFX0hFSUdIVF9BVFRSSUJVVEU6IHN0cmluZyA9XG4gICAgXCJkYXRhLXZpdmxpb3N0eWxlLWF1dG8tcGFnZS1oZWlnaHRcIjtcbiAgcGFnZUFyZWFFbGVtZW50OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBkZWxheWVkSXRlbXM6IERlbGF5ZWRJdGVtW10gPSBbXTtcbiAgaHJlZkhhbmRsZXI6IChlOiBFdmVudCkgPT4gdm9pZDtcbiAgZWxlbWVudHNCeUlkOiB7IFtrZXk6IHN0cmluZ106IEVsZW1lbnRbXSB9ID0ge307XG4gIGRpbWVuc2lvbnM6IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfSA9IHsgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuICBpc0ZpcnN0UGFnZTogYm9vbGVhbiA9IGZhbHNlO1xuICBpc0xhc3RQYWdlOiBib29sZWFuID0gZmFsc2U7XG4gIGlzQXV0b1BhZ2VXaWR0aDogYm9vbGVhbiA9IHRydWU7XG4gIGlzQXV0b1BhZ2VIZWlnaHQ6IGJvb2xlYW4gPSB0cnVlO1xuICBzcGluZUluZGV4OiBudW1iZXIgPSAwO1xuICBwb3NpdGlvbjogTGF5b3V0UG9zaXRpb24gPSBudWxsO1xuICBvZmZzZXQ6IG51bWJlciA9IC0xO1xuICBzaWRlOiBDb25zdGFudHMuUGFnZVNpZGUgfCBudWxsID0gbnVsbDtcbiAgZmV0Y2hlcnM6IFRhc2tVdGlsLkZldGNoZXI8e30+W10gPSBbXTtcbiAgbWFyZ2luQm94ZXM6IHtcbiAgICB0b3A6IHsgW2tleTogc3RyaW5nXTogQ29udGFpbmVyIH07XG4gICAgYm90dG9tOiB7IFtrZXk6IHN0cmluZ106IENvbnRhaW5lciB9O1xuICAgIGxlZnQ6IHsgW2tleTogc3RyaW5nXTogQ29udGFpbmVyIH07XG4gICAgcmlnaHQ6IHsgW2tleTogc3RyaW5nXTogQ29udGFpbmVyIH07XG4gIH0gPSB7IHRvcDoge30sIGJvdHRvbToge30sIGxlZnQ6IHt9LCByaWdodDoge30gfTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29udGFpbmVyOiBIVE1MRWxlbWVudCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgYmxlZWRCb3g6IEhUTUxFbGVtZW50LFxuICApIHtcbiAgICBzdXBlcigpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuaHJlZkhhbmRsZXIgPSAoZTogRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGFuY2hvckVsZW1lbnQgPSBlLmN1cnJlbnRUYXJnZXQgYXMgRWxlbWVudDtcbiAgICAgIGNvbnN0IGhyZWYgPVxuICAgICAgICBhbmNob3JFbGVtZW50LmdldEF0dHJpYnV0ZShcImhyZWZcIikgfHxcbiAgICAgICAgYW5jaG9yRWxlbWVudC5nZXRBdHRyaWJ1dGVOUyhCYXNlLk5TLlhMSU5LLCBcImhyZWZcIik7XG4gICAgICBpZiAoaHJlZikge1xuICAgICAgICBjb25zdCBldnQgPSB7XG4gICAgICAgICAgdHlwZTogXCJoeXBlcmxpbmtcIixcbiAgICAgICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICAgICAgY3VycmVudFRhcmdldDogbnVsbCxcbiAgICAgICAgICBhbmNob3JFbGVtZW50LFxuICAgICAgICAgIGhyZWYsXG4gICAgICAgICAgcHJldmVudERlZmF1bHQoKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHNldEF1dG9QYWdlV2lkdGgoaXNBdXRvOiBib29sZWFuKSB7XG4gICAgdGhpcy5pc0F1dG9QYWdlV2lkdGggPSBpc0F1dG87XG4gICAgaWYgKGlzQXV0bykge1xuICAgICAgdGhpcy5jb250YWluZXIuc2V0QXR0cmlidXRlKFBhZ2UuQVVUT19QQUdFX1dJRFRIX0FUVFJJQlVURSwgXCJ0cnVlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoUGFnZS5BVVRPX1BBR0VfV0lEVEhfQVRUUklCVVRFKTtcbiAgICB9XG4gIH1cblxuICBzZXRBdXRvUGFnZUhlaWdodChpc0F1dG86IGJvb2xlYW4pIHtcbiAgICB0aGlzLmlzQXV0b1BhZ2VIZWlnaHQgPSBpc0F1dG87XG4gICAgaWYgKGlzQXV0bykge1xuICAgICAgdGhpcy5jb250YWluZXIuc2V0QXR0cmlidXRlKFBhZ2UuQVVUT19QQUdFX0hFSUdIVF9BVFRSSUJVVEUsIFwidHJ1ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlQXR0cmlidXRlKFBhZ2UuQVVUT19QQUdFX0hFSUdIVF9BVFRSSUJVVEUpO1xuICAgIH1cbiAgfVxuXG4gIHJlZ2lzdGVyRWxlbWVudFdpdGhJZChlbGVtZW50OiBFbGVtZW50LCBpZDogc3RyaW5nKSB7XG4gICAgY29uc3QgYXJyID0gdGhpcy5lbGVtZW50c0J5SWRbaWRdO1xuICAgIGlmICghYXJyKSB7XG4gICAgICB0aGlzLmVsZW1lbnRzQnlJZFtpZF0gPSBbZWxlbWVudF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGFyci5wdXNoKGVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIGZpbmlzaCh0cmlnZ2VyczogVHJpZ2dlcltdLCBjbGllbnRMYXlvdXQ6IENsaWVudExheW91dCk6IHZvaWQge1xuICAgIC8vIFJlbW92ZSBJRCBvZiBlbGVtZW50cyB3aGljaCBldmVudHVhbGx5IGRpZCBub3QgZml0IGluIHRoZSBwYWdlXG4gICAgLy8gKFNvbWUgbm9kZXMgbWF5IGhhdmUgYmVlbiByZW1vdmVkIGFmdGVyIHJlZ2lzdHJhdGlvbiBpZiB0aGV5IGRpZCBub3QgZml0XG4gICAgLy8gaW4gdGhlIHBhZ2UpXG4gICAgT2JqZWN0LmtleXModGhpcy5lbGVtZW50c0J5SWQpLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICBjb25zdCBlbGVtcyA9IHRoaXMuZWxlbWVudHNCeUlkW2lkXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbXMubGVuZ3RoOyApIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGFpbmVyLmNvbnRhaW5zKGVsZW1zW2ldKSkge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChlbGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuZWxlbWVudHNCeUlkW2lkXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBsaXN0ID0gdGhpcy5kZWxheWVkSXRlbXM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBpdGVtID0gbGlzdFtpXTtcbiAgICAgIGlmIChcbiAgICAgICAgaXRlbS50YXJnZXQgPT09IHRoaXMuY29udGFpbmVyICYmXG4gICAgICAgIGl0ZW0ubmFtZSA9PT0gXCJ0cmFuc2Zvcm1cIiAmJlxuICAgICAgICAhdGhpcy5pc0F1dG9QYWdlV2lkdGggJiZcbiAgICAgICAgIXRoaXMuaXNBdXRvUGFnZUhlaWdodFxuICAgICAgKSB7XG4gICAgICAgIC8vIFdoZW4gZml4ZWQgcGFnZSBzaXplIGlzIHNwZWNpZmllZCwgY2FuY2VsIHRoZSB0cmFuc2Zvcm0gcHJvcGVydHlcbiAgICAgICAgLy8gc2V0IGF0IE9QRlZpZXcubWFrZVBhZ2UoKSBmb3IgdGhlIHNwZWNpZmllZCB2aWV3cG9ydCBzaXplXG4gICAgICAgIC8vIChlLmcuIGA8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9MTMwNywgaGVpZ2h0PTE5MjBcIi8+YClcbiAgICAgICAgLy8gdG8gYXZvaWQgd3JvbmcgcGFnZSByZXNpemluZy5cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGl0ZW0udGFyZ2V0LCBpdGVtLm5hbWUsIGl0ZW0udmFsdWUudG9TdHJpbmcoKSk7XG4gICAgfVxuXG4gICAgLy8gdXNlIHNpemUgb2YgdGhlIGNvbnRhaW5lciBvZiB0aGUgUGFnZU1hc3Rlckluc3RhbmNlXG4gICAgY29uc3QgcmVjdCA9IGNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdCh0aGlzLmNvbnRhaW5lcik7XG4gICAgdGhpcy5kaW1lbnNpb25zLndpZHRoID0gcmVjdC53aWR0aDtcbiAgICB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmlnZ2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdHJpZ2dlciA9IHRyaWdnZXJzW2ldO1xuICAgICAgY29uc3QgcmVmcyA9IHRoaXMuZWxlbWVudHNCeUlkW3RyaWdnZXIucmVmXTtcbiAgICAgIGNvbnN0IG9ic2VydmVycyA9IHRoaXMuZWxlbWVudHNCeUlkW3RyaWdnZXIub2JzZXJ2ZXJdO1xuICAgICAgaWYgKHJlZnMgJiYgb2JzZXJ2ZXJzKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gbWFrZUxpc3RlbmVyKHJlZnMsIHRyaWdnZXIuYWN0aW9uKTtcbiAgICAgICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBvYnNlcnZlcnMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgIG9ic2VydmVyc1trXS5hZGRFdmVudExpc3RlbmVyKHRyaWdnZXIuZXZlbnQsIGxpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFpvb20gcGFnZS5cbiAgICogQHBhcmFtIHNjYWxlIEZhY3RvciB0byB3aGljaCB0aGUgcGFnZSB3aWxsIGJlIHNjYWxlZC5cbiAgICovXG4gIHpvb20oc2NhbGU6IG51bWJlcikge1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkodGhpcy5jb250YWluZXIsIFwidHJhbnNmb3JtXCIsIGBzY2FsZSgke3NjYWxlfSlgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBwYWdlIGFyZWEgZWxlbWVudC5cbiAgICovXG4gIGdldFBhZ2VBcmVhRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XG4gICAgcmV0dXJuIHRoaXMucGFnZUFyZWFFbGVtZW50IHx8IHRoaXMuY29udGFpbmVyO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIFNwcmVhZCA9IHtcbiAgbGVmdDogUGFnZTtcbiAgcmlnaHQ6IFBhZ2U7XG59O1xuXG4vKipcbiAqIE1hcmtzIGFuIGVsZW1lbnQgYXMgXCJzcGVjaWFsXCIuIEl0IHNob3VsZCBub3QgYmUgdXNlZCBpbiBiYm94IGNhbGN1bGF0aW9ucy5cbiAqL1xuZXhwb3J0IGNvbnN0IFNQRUNJQUxfQVRUUiA9IFwiZGF0YS1hZGFwdC1zcGVjXCI7XG5cbmV4cG9ydCBjb25zdCBXaGl0ZXNwYWNlID0gVnRyZWUuV2hpdGVzcGFjZTtcbmV4cG9ydCB0eXBlIFdoaXRlc3BhY2UgPSBWdHJlZS5XaGl0ZXNwYWNlO1xuXG4vKipcbiAqIFJlc29sdmVzIFdoaXRlc3BhY2UgdmFsdWUgZnJvbSBhIHZhbHVlIG9mICd3aGl0ZS1zcGFjZScgcHJvcGVydHlcbiAqIEBwYXJhbSB3aGl0ZXNwYWNlIFRoZSB2YWx1ZSBvZiAnd2hpdGUtc3BhY2UnIHByb3BlcnR5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aGl0ZXNwYWNlRnJvbVByb3BlcnR5VmFsdWUoXG4gIHdoaXRlc3BhY2U6IHN0cmluZyxcbik6IFdoaXRlc3BhY2UgfCBudWxsIHtcbiAgc3dpdGNoICh3aGl0ZXNwYWNlKSB7XG4gICAgY2FzZSBcIm5vcm1hbFwiOlxuICAgIGNhc2UgXCJub3dyYXBcIjpcbiAgICAgIHJldHVybiBXaGl0ZXNwYWNlLklHTk9SRTtcbiAgICBjYXNlIFwicHJlLWxpbmVcIjpcbiAgICAgIHJldHVybiBXaGl0ZXNwYWNlLk5FV0xJTkU7XG4gICAgY2FzZSBcInByZVwiOlxuICAgIGNhc2UgXCJwcmUtd3JhcFwiOlxuICAgICAgcmV0dXJuIFdoaXRlc3BhY2UuUFJFU0VSVkU7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5JZ25vcmUobm9kZTogTm9kZSwgd2hpdGVzcGFjZTogV2hpdGVzcGFjZSk6IGJvb2xlYW4ge1xuICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHRleHQgPSBub2RlLnRleHRDb250ZW50O1xuICBzd2l0Y2ggKHdoaXRlc3BhY2UpIHtcbiAgICBjYXNlIFdoaXRlc3BhY2UuSUdOT1JFOlxuICAgICAgcmV0dXJuICEhdGV4dC5tYXRjaCgvXlxccyokLyk7XG4gICAgY2FzZSBXaGl0ZXNwYWNlLk5FV0xJTkU6XG4gICAgICByZXR1cm4gISF0ZXh0Lm1hdGNoKC9eWyBcXHRcXGZdKiQvKTtcbiAgICBjYXNlIFdoaXRlc3BhY2UuUFJFU0VSVkU6XG4gICAgICByZXR1cm4gdGV4dC5sZW5ndGggPT0gMDtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgd2hpdGVzcGFjZTogJHt3aGl0ZXNwYWNlfWApO1xufVxuXG5leHBvcnQgY2xhc3MgRmxvdyB7XG4gIGZvcmNlZEJyZWFrT2Zmc2V0cyA9IFtdIGFzIG51bWJlcltdO1xuICBmb3JtYXR0aW5nQ29udGV4dDogRm9ybWF0dGluZ0NvbnRleHQgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmxvd05hbWU6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyZW50Rmxvd05hbWU6IHN0cmluZyB8IG51bGwsXG4gICkge31cbn1cblxuZXhwb3J0IGNsYXNzIEZsb3dDaHVuayB7XG4gIHN0YXJ0UGFnZTogbnVtYmVyID0gLTE7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIGZsb3dOYW1lOiBzdHJpbmcsXG4gICAgcHVibGljIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgcHVibGljIHN0YXJ0T2Zmc2V0OiBudW1iZXIsXG4gICAgcHVibGljIHByaW9yaXR5OiBudW1iZXIsXG4gICAgcHVibGljIGxpbmdlcjogbnVtYmVyLFxuICAgIHB1YmxpYyBleGNsdXNpdmU6IGJvb2xlYW4sXG4gICAgcHVibGljIHJlcGVhdGVkOiBib29sZWFuLFxuICAgIHB1YmxpYyBsYXN0OiBib29sZWFuLFxuICAgIHB1YmxpYyBicmVha0JlZm9yZTogc3RyaW5nIHwgbnVsbCxcbiAgKSB7fVxuXG4gIGlzQmV0dGVyKG90aGVyOiBGbG93Q2h1bmspOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuZXhjbHVzaXZlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghb3RoZXIuZXhjbHVzaXZlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJpb3JpdHkgPiBvdGhlci5wcmlvcml0eSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmxhc3Q7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgQ2xpZW50UmVjdCA9IFZ0cmVlLkNsaWVudFJlY3Q7XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGllbnRyZWN0SW5jcmVhc2luZ1RvcChcbiAgcjE6IENsaWVudFJlY3QsXG4gIHIyOiBDbGllbnRSZWN0LFxuKTogbnVtYmVyIHtcbiAgcmV0dXJuIHIxLnRvcCAtIHIyLnRvcDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsaWVudHJlY3REZWNyZWFzaW5nUmlnaHQoXG4gIHIxOiBDbGllbnRSZWN0LFxuICByMjogQ2xpZW50UmVjdCxcbik6IG51bWJlciB7XG4gIHJldHVybiByMi5yaWdodCAtIHIxLnJpZ2h0O1xufVxuXG4vKipcbiAqIEludGVyZmFjZSB0byByZWFkIHRoZSBwb3NpdGlvbiBhc3NpZ25lZCB0byB0aGUgZWxlbWVudHMgYW5kIHJhbmdlcyBieSB0aGVcbiAqIGJyb3dzZXIuXG4gKi9cbmV4cG9ydCB0eXBlIENsaWVudExheW91dCA9IFZ0cmVlLkNsaWVudExheW91dDtcblxuLyoqXG4gKiBTdHlsaW5nLCBjcmVhdGluZyBhIHNpbmdsZSBub2RlJ3MgdmlldywgZXRjLlxuICovXG5leHBvcnQgdHlwZSBMYXlvdXRDb250ZXh0ID0gVnRyZWUuTGF5b3V0Q29udGV4dDtcblxuLyoqXG4gKiBGb3JtYXR0aW5nIGNvbnRleHQuXG4gKi9cbmV4cG9ydCB0eXBlIEZvcm1hdHRpbmdDb250ZXh0ID0gVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBlYWNoQW5jZXN0b3JGb3JtYXR0aW5nQ29udGV4dChcbiAgbm9kZUNvbnRleHQ6IE5vZGVDb250ZXh0LFxuICBjYWxsYmFjazogKHAxOiBGb3JtYXR0aW5nQ29udGV4dCkgPT4gYW55LFxuKTogdm9pZCB7XG4gIGlmICghbm9kZUNvbnRleHQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yIChsZXQgZmMgPSBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dDsgZmM7IGZjID0gZmMuZ2V0UGFyZW50KCkpIHtcbiAgICBjYWxsYmFjayhmYyk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgTm9kZVBvc2l0aW9uU3RlcCA9IFZ0cmVlLk5vZGVQb3NpdGlvblN0ZXA7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NhbWVOb2RlUG9zaXRpb25TdGVwKFxuICBucHMxOiBOb2RlUG9zaXRpb25TdGVwLFxuICBucHMyOiBOb2RlUG9zaXRpb25TdGVwLFxuKTogYm9vbGVhbiB7XG4gIGlmIChucHMxID09PSBucHMyKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKCFucHMxIHx8ICFucHMyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiAoXG4gICAgbnBzMS5ub2RlID09PSBucHMyLm5vZGUgJiZcbiAgICBucHMxLnNoYWRvd1R5cGUgPT09IG5wczIuc2hhZG93VHlwZSAmJlxuICAgIGlzU2FtZVNoYWRvd0NvbnRleHQobnBzMS5zaGFkb3dDb250ZXh0LCBucHMyLnNoYWRvd0NvbnRleHQpICYmXG4gICAgaXNTYW1lU2hhZG93Q29udGV4dChucHMxLm5vZGVTaGFkb3csIG5wczIubm9kZVNoYWRvdykgJiZcbiAgICBpc1NhbWVOb2RlUG9zaXRpb25TdGVwKG5wczEuc2hhZG93U2libGluZywgbnBzMi5zaGFkb3dTaWJsaW5nKVxuICApO1xufVxuXG5leHBvcnQgdHlwZSBOb2RlUG9zaXRpb24gPSBWdHJlZS5Ob2RlUG9zaXRpb247XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NhbWVOb2RlUG9zaXRpb24oXG4gIG5wMTogTm9kZVBvc2l0aW9uIHwgbnVsbCxcbiAgbnAyOiBOb2RlUG9zaXRpb24gfCBudWxsLFxuKTogYm9vbGVhbiB7XG4gIGlmIChucDEgPT09IG5wMikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICghbnAxIHx8ICFucDIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKFxuICAgIG5wMS5vZmZzZXRJbk5vZGUgIT09IG5wMi5vZmZzZXRJbk5vZGUgfHxcbiAgICBucDEuYWZ0ZXIgIT09IG5wMi5hZnRlciB8fFxuICAgIG5wMS5zdGVwcy5sZW5ndGggIT09IG5wMi5zdGVwcy5sZW5ndGhcbiAgKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbnAxLnN0ZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCFpc1NhbWVOb2RlUG9zaXRpb25TdGVwKG5wMS5zdGVwc1tpXSwgbnAyLnN0ZXBzW2ldKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5ld05vZGVQb3NpdGlvbkZyb21Ob2RlKG5vZGU6IE5vZGUpOiBOb2RlUG9zaXRpb24ge1xuICBjb25zdCBzdGVwOiBOb2RlUG9zaXRpb25TdGVwID0ge1xuICAgIG5vZGUsXG4gICAgc2hhZG93VHlwZTogU2hhZG93VHlwZS5OT05FLFxuICAgIHNoYWRvd0NvbnRleHQ6IG51bGwsXG4gICAgbm9kZVNoYWRvdzogbnVsbCxcbiAgICBzaGFkb3dTaWJsaW5nOiBudWxsLFxuICAgIGZvcm1hdHRpbmdDb250ZXh0OiBudWxsLFxuICAgIGZyYWdtZW50SW5kZXg6IDAsXG4gIH07XG4gIHJldHVybiB7XG4gICAgc3RlcHM6IFtzdGVwXSxcbiAgICBvZmZzZXRJbk5vZGU6IDAsXG4gICAgYWZ0ZXI6IGZhbHNlLFxuICAgIHByZXByb2Nlc3NlZFRleHRDb250ZW50OiBudWxsLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3Tm9kZVBvc2l0aW9uRnJvbU5vZGVDb250ZXh0KFxuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gIGluaXRpYWxGcmFnbWVudEluZGV4OiBudW1iZXIgfCBudWxsLFxuKTogTm9kZVBvc2l0aW9uIHtcbiAgY29uc3Qgc3RlcDogTm9kZVBvc2l0aW9uU3RlcCA9IHtcbiAgICBub2RlOiBub2RlQ29udGV4dC5zb3VyY2VOb2RlLFxuICAgIHNoYWRvd1R5cGU6IFNoYWRvd1R5cGUuTk9ORSxcbiAgICBzaGFkb3dDb250ZXh0OiBub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0LFxuICAgIG5vZGVTaGFkb3c6IG51bGwsXG4gICAgc2hhZG93U2libGluZzogbnVsbCxcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogbnVsbCxcbiAgICBmcmFnbWVudEluZGV4OlxuICAgICAgaW5pdGlhbEZyYWdtZW50SW5kZXggIT0gbnVsbFxuICAgICAgICA/IGluaXRpYWxGcmFnbWVudEluZGV4XG4gICAgICAgIDogbm9kZUNvbnRleHQuZnJhZ21lbnRJbmRleCxcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBzdGVwczogW3N0ZXBdLFxuICAgIG9mZnNldEluTm9kZTogMCxcbiAgICBhZnRlcjogZmFsc2UsXG4gICAgcHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQ6IG5vZGVDb250ZXh0LnByZXByb2Nlc3NlZFRleHRDb250ZW50LFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZU5vZGVDb250ZXh0RnJvbU5vZGVQb3NpdGlvblN0ZXAoXG4gIHN0ZXA6IE5vZGVQb3NpdGlvblN0ZXAsXG4gIHBhcmVudDogVnRyZWUuTm9kZUNvbnRleHQsXG4pOiBOb2RlQ29udGV4dCB7XG4gIGNvbnN0IG5vZGVDb250ZXh0ID0gbmV3IE5vZGVDb250ZXh0KHN0ZXAubm9kZSwgcGFyZW50IGFzIE5vZGVDb250ZXh0LCAwKTtcbiAgbm9kZUNvbnRleHQuc2hhZG93VHlwZSA9IHN0ZXAuc2hhZG93VHlwZTtcbiAgbm9kZUNvbnRleHQuc2hhZG93Q29udGV4dCA9IHN0ZXAuc2hhZG93Q29udGV4dDtcbiAgbm9kZUNvbnRleHQubm9kZVNoYWRvdyA9IHN0ZXAubm9kZVNoYWRvdztcbiAgbm9kZUNvbnRleHQuc2hhZG93U2libGluZyA9IHN0ZXAuc2hhZG93U2libGluZ1xuICAgID8gbWFrZU5vZGVDb250ZXh0RnJvbU5vZGVQb3NpdGlvblN0ZXAoc3RlcC5zaGFkb3dTaWJsaW5nLCBwYXJlbnQuY29weSgpKVxuICAgIDogbnVsbDtcbiAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQgPSBzdGVwLmZvcm1hdHRpbmdDb250ZXh0O1xuICBub2RlQ29udGV4dC5mcmFnbWVudEluZGV4ID0gc3RlcC5mcmFnbWVudEluZGV4ICsgMTtcbiAgcmV0dXJuIG5vZGVDb250ZXh0O1xufVxuXG5leHBvcnQgY29uc3QgU2hhZG93VHlwZSA9IFZ0cmVlLlNoYWRvd1R5cGU7XG5leHBvcnQgdHlwZSBTaGFkb3dUeXBlID0gVnRyZWUuU2hhZG93VHlwZTtcblxuLyoqXG4gKiBEYXRhIGFib3V0IHNoYWRvdyB0cmVlIGluc3RhbmNlLlxuICovXG5leHBvcnQgY2xhc3MgU2hhZG93Q29udGV4dCBpbXBsZW1lbnRzIFZ0cmVlLlNoYWRvd0NvbnRleHQge1xuICBzdWJTaGFkb3c6IFNoYWRvd0NvbnRleHQgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBvd25lcjogRWxlbWVudCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcm9vdDogRWxlbWVudCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyLFxuICAgIHB1YmxpYyByZWFkb25seSBwYXJlbnRTaGFkb3c6IFNoYWRvd0NvbnRleHQsXG4gICAgc3VwZXJTaGFkb3c6IFNoYWRvd0NvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU6IFNoYWRvd1R5cGUsXG4gICAgcHVibGljIHJlYWRvbmx5IHN0eWxlcjogb2JqZWN0LFxuICApIHtcbiAgICBpZiAoc3VwZXJTaGFkb3cpIHtcbiAgICAgIHN1cGVyU2hhZG93LnN1YlNoYWRvdyA9IHRoaXM7XG4gICAgfVxuICB9XG5cbiAgZXF1YWxzKG90aGVyOiBTaGFkb3dDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgaWYgKCFvdGhlcikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5vd25lciA9PT0gb3RoZXIub3duZXIgJiZcbiAgICAgIHRoaXMueG1sZG9jID09PSBvdGhlci54bWxkb2MgJiZcbiAgICAgIHRoaXMudHlwZSA9PT0gb3RoZXIudHlwZSAmJlxuICAgICAgaXNTYW1lU2hhZG93Q29udGV4dCh0aGlzLnBhcmVudFNoYWRvdywgb3RoZXIucGFyZW50U2hhZG93KVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2FtZVNoYWRvd0NvbnRleHQoXG4gIHNjMTogU2hhZG93Q29udGV4dCxcbiAgc2MyOiBTaGFkb3dDb250ZXh0LFxuKTogYm9vbGVhbiB7XG4gIHJldHVybiBzYzEgPT09IHNjMiB8fCAoISFzYzEgJiYgISFzYzIgJiYgc2MxLmVxdWFscyhzYzIpKTtcbn1cblxuLyoqXG4gKiBJbmZvcm1hdGlvbiBhYm91dCA6Zmlyc3QtbGV0dGVyIG9yIDpmaXJzdC1saW5lIHBzZXVkb2VsZW1lbnRzXG4gKiBAcGFyYW0gY291bnQgMCAtIGZpcnN0LWxldHRlciwgMSBvciBtb3JlIC0gZmlyc3QgbGluZShzKVxuICovXG5leHBvcnQgY2xhc3MgRmlyc3RQc2V1ZG8gaW1wbGVtZW50cyBWdHJlZS5GaXJzdFBzZXVkbyB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBvdXRlcjogRmlyc3RQc2V1ZG8sXG4gICAgcHVibGljIHJlYWRvbmx5IGNvdW50OiBudW1iZXIsXG4gICkge31cbn1cblxuLyoqXG4gKiBOb2RlQ29udGV4dCByZXByZXNlbnRzIGEgcG9zaXRpb24gaW4gdGhlIGRvY3VtZW50ICsgbGF5b3V0LXJlbGF0ZWRcbiAqIGluZm9ybWF0aW9uIGF0dGFjaGVkIHRvIGl0LiBXaGVuIGFmdGVyPWZhbHNlIGFuZCBvZmZzZXRJbk5vZGU9MCwgdGhlXG4gKiBwb3NpdGlvbiBpcyBpbnNpZGUgdGhlIGVsZW1lbnQgKG5vZGUpLCBidXQganVzdCBiZWZvcmUgaXRzIGZpcnN0IGNoaWxkLlxuICogV2hlbiBvZmZzZXRJbk5vZGU+MCBpdCByZXByZXNlbnRzIG9mZnNldCBpbiB0aGUgdGV4dHVhbCBjb250ZW50IG9mIHRoZVxuICogbm9kZS4gV2hlbiBhZnRlcj10cnVlIGl0IHJlcHJlc2VudHMgcG9zaXRpb24gcmlnaHQgYWZ0ZXIgdGhlIGxhc3QgY2hpbGRcbiAqIG9mIHRoZSBub2RlLiBib3hPZmZzZXQgaXMgaW5jcmVtZW50ZWQgYnkgMSBmb3IgYW55IHZhbGlkIG5vZGUgcG9zaXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBOb2RlQ29udGV4dCBpbXBsZW1lbnRzIFZ0cmVlLk5vZGVDb250ZXh0IHtcbiAgLy8gcG9zaXRpb24gaXRzZWxmXG4gIG9mZnNldEluTm9kZTogbnVtYmVyID0gMDtcbiAgYWZ0ZXI6IGJvb2xlYW4gPSBmYWxzZTtcbiAgc2hhZG93VHlwZTogU2hhZG93VHlwZTtcblxuICAvLyBwYXJlbnQncyBzaGFkb3cgdHlwZVxuICBzaGFkb3dDb250ZXh0OiBTaGFkb3dDb250ZXh0O1xuICBub2RlU2hhZG93OiBTaGFkb3dDb250ZXh0ID0gbnVsbDtcbiAgc2hhZG93U2libGluZzogTm9kZUNvbnRleHQgPSBudWxsO1xuXG4gIC8vIG5leHQgXCJzaWJsaW5nXCIgaW4gdGhlIHNoYWRvdyB0cmVlXG4gIC8vIG90aGVyIHN0dWZmXG4gIHNoYXJlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBpbmxpbmU6IGJvb2xlYW4gPSB0cnVlO1xuICBvdmVyZmxvdzogYm9vbGVhbiA9IGZhbHNlO1xuICBicmVha1BlbmFsdHk6IG51bWJlcjtcbiAgZGlzcGxheTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGZsb2F0UmVmZXJlbmNlOiBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlO1xuICBmbG9hdFNpZGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBjbGVhclNpZGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBmbG9hdE1pbldyYXBCbG9jazogQ3NzLk51bWVyaWMgfCBudWxsID0gbnVsbDtcbiAgY29sdW1uU3BhbjogQ3NzLlZhbCB8IG51bGwgPSBudWxsO1xuICB2ZXJ0aWNhbEFsaWduOiBzdHJpbmcgPSBcImJhc2VsaW5lXCI7XG4gIGNhcHRpb25TaWRlOiBzdHJpbmcgPSBcInRvcFwiO1xuICBpbmxpbmVCb3JkZXJTcGFjaW5nOiBudW1iZXIgPSAwO1xuICBibG9ja0JvcmRlclNwYWNpbmc6IG51bWJlciA9IDA7XG4gIGZsZXhDb250YWluZXI6IGJvb2xlYW4gPSBmYWxzZTtcbiAgd2hpdGVzcGFjZTogV2hpdGVzcGFjZTtcbiAgaHlwaGVuYXRlQ2hhcmFjdGVyOiBzdHJpbmcgfCBudWxsO1xuICBicmVha1dvcmQ6IGJvb2xlYW47XG4gIGVzdGFibGlzaGVzQkZDOiBib29sZWFuID0gZmFsc2U7XG4gIGNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlOiBib29sZWFuID0gZmFsc2U7XG4gIGJyZWFrQmVmb3JlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgYnJlYWtBZnRlcjogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHZpZXdOb2RlOiBOb2RlID0gbnVsbDtcbiAgY2xlYXJTcGFjZXI6IE5vZGUgPSBudWxsO1xuICBpbmhlcml0ZWRQcm9wczogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfCBzdHJpbmcgfCBDc3MuVmFsIH07XG4gIHZlcnRpY2FsOiBib29sZWFuO1xuICBkaXJlY3Rpb246IHN0cmluZztcbiAgZmlyc3RQc2V1ZG86IEZpcnN0UHNldWRvO1xuICBsYW5nOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgcHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQ6IERpZmYuQ2hhbmdlW10gfCBudWxsID0gbnVsbDtcbiAgZm9ybWF0dGluZ0NvbnRleHQ6IEZvcm1hdHRpbmdDb250ZXh0O1xuICByZXBlYXRPbkJyZWFrOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgcGx1Z2luUHJvcHM6IHtcbiAgICBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCB1bmRlZmluZWQgfCBudWxsIHwgKG51bWJlciB8IG51bGwpW107XG4gIH0gPSB7fTtcbiAgZnJhZ21lbnRJbmRleDogbnVtYmVyID0gMTtcbiAgYWZ0ZXJJZkNvbnRpbnVlczogU2VsZWN0b3JzLkFmdGVySWZDb250aW51ZXMgPSBudWxsO1xuICBmb290bm90ZVBvbGljeTogQ3NzLklkZW50IHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHNvdXJjZU5vZGU6IE5vZGUsXG4gICAgcHVibGljIHBhcmVudDogTm9kZUNvbnRleHQsXG4gICAgcHVibGljIGJveE9mZnNldDogbnVtYmVyLFxuICApIHtcbiAgICB0aGlzLnNoYWRvd1R5cGUgPSBTaGFkb3dUeXBlLk5PTkU7XG4gICAgdGhpcy5zaGFkb3dDb250ZXh0ID0gcGFyZW50ID8gcGFyZW50LnNoYWRvd0NvbnRleHQgOiBudWxsO1xuICAgIHRoaXMuYnJlYWtQZW5hbHR5ID0gcGFyZW50ID8gcGFyZW50LmJyZWFrUGVuYWx0eSA6IDA7XG4gICAgdGhpcy5mbG9hdFJlZmVyZW5jZSA9IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UuSU5MSU5FO1xuICAgIHRoaXMud2hpdGVzcGFjZSA9IHBhcmVudCA/IHBhcmVudC53aGl0ZXNwYWNlIDogV2hpdGVzcGFjZS5JR05PUkU7XG4gICAgdGhpcy5oeXBoZW5hdGVDaGFyYWN0ZXIgPSBwYXJlbnQgPyBwYXJlbnQuaHlwaGVuYXRlQ2hhcmFjdGVyIDogbnVsbDtcbiAgICB0aGlzLmJyZWFrV29yZCA9IHBhcmVudCA/IHBhcmVudC5icmVha1dvcmQgOiBmYWxzZTtcbiAgICB0aGlzLmluaGVyaXRlZFByb3BzID0gcGFyZW50ID8gcGFyZW50LmluaGVyaXRlZFByb3BzIDoge307XG4gICAgdGhpcy52ZXJ0aWNhbCA9IHBhcmVudCA/IHBhcmVudC52ZXJ0aWNhbCA6IGZhbHNlO1xuICAgIHRoaXMuZGlyZWN0aW9uID0gcGFyZW50ID8gcGFyZW50LmRpcmVjdGlvbiA6IFwibHRyXCI7XG4gICAgdGhpcy5maXJzdFBzZXVkbyA9IHBhcmVudCA/IHBhcmVudC5maXJzdFBzZXVkbyA6IG51bGw7XG4gICAgdGhpcy5mb3JtYXR0aW5nQ29udGV4dCA9IHBhcmVudCA/IHBhcmVudC5mb3JtYXR0aW5nQ29udGV4dCA6IG51bGw7XG4gIH1cblxuICByZXNldFZpZXcoKTogdm9pZCB7XG4gICAgdGhpcy5pbmxpbmUgPSB0cnVlO1xuICAgIHRoaXMuYnJlYWtQZW5hbHR5ID0gdGhpcy5wYXJlbnQgPyB0aGlzLnBhcmVudC5icmVha1BlbmFsdHkgOiAwO1xuICAgIHRoaXMudmlld05vZGUgPSBudWxsO1xuICAgIHRoaXMuY2xlYXJTcGFjZXIgPSBudWxsO1xuICAgIHRoaXMub2Zmc2V0SW5Ob2RlID0gMDtcbiAgICB0aGlzLmFmdGVyID0gZmFsc2U7XG4gICAgdGhpcy5kaXNwbGF5ID0gbnVsbDtcbiAgICB0aGlzLmZsb2F0UmVmZXJlbmNlID0gUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZS5JTkxJTkU7XG4gICAgdGhpcy5mbG9hdFNpZGUgPSBudWxsO1xuICAgIHRoaXMuY2xlYXJTaWRlID0gbnVsbDtcbiAgICB0aGlzLmZsb2F0TWluV3JhcEJsb2NrID0gbnVsbDtcbiAgICB0aGlzLmNvbHVtblNwYW4gPSBudWxsO1xuICAgIHRoaXMudmVydGljYWxBbGlnbiA9IFwiYmFzZWxpbmVcIjtcbiAgICB0aGlzLmZsZXhDb250YWluZXIgPSBmYWxzZTtcbiAgICB0aGlzLndoaXRlc3BhY2UgPSB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50LndoaXRlc3BhY2UgOiBXaGl0ZXNwYWNlLklHTk9SRTtcbiAgICB0aGlzLmh5cGhlbmF0ZUNoYXJhY3RlciA9IHRoaXMucGFyZW50XG4gICAgICA/IHRoaXMucGFyZW50Lmh5cGhlbmF0ZUNoYXJhY3RlclxuICAgICAgOiBudWxsO1xuICAgIHRoaXMuYnJlYWtXb3JkID0gdGhpcy5wYXJlbnQgPyB0aGlzLnBhcmVudC5icmVha1dvcmQgOiBmYWxzZTtcbiAgICB0aGlzLmJyZWFrQmVmb3JlID0gbnVsbDtcbiAgICB0aGlzLmJyZWFrQWZ0ZXIgPSBudWxsO1xuICAgIHRoaXMubm9kZVNoYWRvdyA9IG51bGw7XG4gICAgdGhpcy5lc3RhYmxpc2hlc0JGQyA9IGZhbHNlO1xuICAgIHRoaXMuY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGUgPSBmYWxzZTtcbiAgICB0aGlzLnZlcnRpY2FsID0gdGhpcy5wYXJlbnQgPyB0aGlzLnBhcmVudC52ZXJ0aWNhbCA6IGZhbHNlO1xuICAgIHRoaXMubm9kZVNoYWRvdyA9IG51bGw7XG4gICAgdGhpcy5wcmVwcm9jZXNzZWRUZXh0Q29udGVudCA9IG51bGw7XG4gICAgdGhpcy5mb3JtYXR0aW5nQ29udGV4dCA9IHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQuZm9ybWF0dGluZ0NvbnRleHQgOiBudWxsO1xuICAgIHRoaXMucmVwZWF0T25CcmVhayA9IG51bGw7XG4gICAgdGhpcy5wbHVnaW5Qcm9wcyA9IHt9O1xuICAgIHRoaXMuZnJhZ21lbnRJbmRleCA9IDE7XG4gICAgdGhpcy5hZnRlcklmQ29udGludWVzID0gbnVsbDtcbiAgICB0aGlzLmZvb3Rub3RlUG9saWN5ID0gbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgY2xvbmVJdGVtKCk6IE5vZGVDb250ZXh0IHtcbiAgICBjb25zdCBucCA9IG5ldyBOb2RlQ29udGV4dCh0aGlzLnNvdXJjZU5vZGUsIHRoaXMucGFyZW50LCB0aGlzLmJveE9mZnNldCk7XG4gICAgbnAub2Zmc2V0SW5Ob2RlID0gdGhpcy5vZmZzZXRJbk5vZGU7XG4gICAgbnAuYWZ0ZXIgPSB0aGlzLmFmdGVyO1xuICAgIG5wLm5vZGVTaGFkb3cgPSB0aGlzLm5vZGVTaGFkb3c7XG4gICAgbnAuc2hhZG93VHlwZSA9IHRoaXMuc2hhZG93VHlwZTtcbiAgICBucC5zaGFkb3dDb250ZXh0ID0gdGhpcy5zaGFkb3dDb250ZXh0O1xuICAgIG5wLnNoYWRvd1NpYmxpbmcgPSB0aGlzLnNoYWRvd1NpYmxpbmc7XG4gICAgbnAuaW5saW5lID0gdGhpcy5pbmxpbmU7XG4gICAgbnAuYnJlYWtQZW5hbHR5ID0gdGhpcy5icmVha1BlbmFsdHk7XG4gICAgbnAuZGlzcGxheSA9IHRoaXMuZGlzcGxheTtcbiAgICBucC5mbG9hdFJlZmVyZW5jZSA9IHRoaXMuZmxvYXRSZWZlcmVuY2U7XG4gICAgbnAuZmxvYXRTaWRlID0gdGhpcy5mbG9hdFNpZGU7XG4gICAgbnAuY2xlYXJTaWRlID0gdGhpcy5jbGVhclNpZGU7XG4gICAgbnAuZmxvYXRNaW5XcmFwQmxvY2sgPSB0aGlzLmZsb2F0TWluV3JhcEJsb2NrO1xuICAgIG5wLmNvbHVtblNwYW4gPSB0aGlzLmNvbHVtblNwYW47XG4gICAgbnAudmVydGljYWxBbGlnbiA9IHRoaXMudmVydGljYWxBbGlnbjtcbiAgICBucC5jYXB0aW9uU2lkZSA9IHRoaXMuY2FwdGlvblNpZGU7XG4gICAgbnAuaW5saW5lQm9yZGVyU3BhY2luZyA9IHRoaXMuaW5saW5lQm9yZGVyU3BhY2luZztcbiAgICBucC5ibG9ja0JvcmRlclNwYWNpbmcgPSB0aGlzLmJsb2NrQm9yZGVyU3BhY2luZztcbiAgICBucC5lc3RhYmxpc2hlc0JGQyA9IHRoaXMuZXN0YWJsaXNoZXNCRkM7XG4gICAgbnAuY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGUgPSB0aGlzLmNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlO1xuICAgIG5wLmZsZXhDb250YWluZXIgPSB0aGlzLmZsZXhDb250YWluZXI7XG4gICAgbnAud2hpdGVzcGFjZSA9IHRoaXMud2hpdGVzcGFjZTtcbiAgICBucC5oeXBoZW5hdGVDaGFyYWN0ZXIgPSB0aGlzLmh5cGhlbmF0ZUNoYXJhY3RlcjtcbiAgICBucC5icmVha1dvcmQgPSB0aGlzLmJyZWFrV29yZDtcbiAgICBucC5icmVha0JlZm9yZSA9IHRoaXMuYnJlYWtCZWZvcmU7XG4gICAgbnAuYnJlYWtBZnRlciA9IHRoaXMuYnJlYWtBZnRlcjtcbiAgICBucC52aWV3Tm9kZSA9IHRoaXMudmlld05vZGU7XG4gICAgbnAuY2xlYXJTcGFjZXIgPSB0aGlzLmNsZWFyU3BhY2VyO1xuICAgIG5wLmZpcnN0UHNldWRvID0gdGhpcy5maXJzdFBzZXVkbztcbiAgICBucC52ZXJ0aWNhbCA9IHRoaXMudmVydGljYWw7XG4gICAgbnAub3ZlcmZsb3cgPSB0aGlzLm92ZXJmbG93O1xuICAgIG5wLnByZXByb2Nlc3NlZFRleHRDb250ZW50ID0gdGhpcy5wcmVwcm9jZXNzZWRUZXh0Q29udGVudDtcbiAgICBucC5mb3JtYXR0aW5nQ29udGV4dCA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgbnAucmVwZWF0T25CcmVhayA9IHRoaXMucmVwZWF0T25CcmVhaztcbiAgICBucC5wbHVnaW5Qcm9wcyA9IE9iamVjdC5jcmVhdGUodGhpcy5wbHVnaW5Qcm9wcyk7XG4gICAgbnAuZnJhZ21lbnRJbmRleCA9IHRoaXMuZnJhZ21lbnRJbmRleDtcbiAgICBucC5hZnRlcklmQ29udGludWVzID0gdGhpcy5hZnRlcklmQ29udGludWVzO1xuICAgIG5wLmZvb3Rub3RlUG9saWN5ID0gdGhpcy5mb290bm90ZVBvbGljeTtcbiAgICByZXR1cm4gbnA7XG4gIH1cblxuICBtb2RpZnkoKTogTm9kZUNvbnRleHQge1xuICAgIGlmICghdGhpcy5zaGFyZWQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jbG9uZUl0ZW0oKTtcbiAgfVxuXG4gIGNvcHkoKTogTm9kZUNvbnRleHQge1xuICAgIGxldCBucDogTm9kZUNvbnRleHQgPSB0aGlzO1xuICAgIGRvIHtcbiAgICAgIGlmIChucC5zaGFyZWQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBucC5zaGFyZWQgPSB0cnVlO1xuICAgICAgbnAgPSBucC5wYXJlbnQ7XG4gICAgfSB3aGlsZSAobnApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgY2xvbmUoKTogTm9kZUNvbnRleHQge1xuICAgIGNvbnN0IG5wID0gdGhpcy5jbG9uZUl0ZW0oKTtcbiAgICBsZXQgbnBjID0gbnA7XG4gICAgbGV0IG5wcDogTm9kZUNvbnRleHQ7XG4gICAgd2hpbGUgKChucHAgPSBucGMucGFyZW50KSAhPSBudWxsKSB7XG4gICAgICBucHAgPSBucHAuY2xvbmVJdGVtKCk7XG4gICAgICBucGMucGFyZW50ID0gbnBwO1xuICAgICAgbnBjID0gbnBwO1xuICAgIH1cbiAgICByZXR1cm4gbnA7XG4gIH1cblxuICB0b05vZGVQb3NpdGlvblN0ZXAoKTogTm9kZVBvc2l0aW9uU3RlcCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5vZGU6IHRoaXMuc291cmNlTm9kZSxcbiAgICAgIHNoYWRvd1R5cGU6IHRoaXMuc2hhZG93VHlwZSxcbiAgICAgIHNoYWRvd0NvbnRleHQ6IHRoaXMuc2hhZG93Q29udGV4dCxcbiAgICAgIG5vZGVTaGFkb3c6IHRoaXMubm9kZVNoYWRvdyxcbiAgICAgIHNoYWRvd1NpYmxpbmc6IHRoaXMuc2hhZG93U2libGluZ1xuICAgICAgICA/IHRoaXMuc2hhZG93U2libGluZy50b05vZGVQb3NpdGlvblN0ZXAoKVxuICAgICAgICA6IG51bGwsXG4gICAgICBmb3JtYXR0aW5nQ29udGV4dDogdGhpcy5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgIGZyYWdtZW50SW5kZXg6IHRoaXMuZnJhZ21lbnRJbmRleCxcbiAgICB9O1xuICB9XG5cbiAgdG9Ob2RlUG9zaXRpb24oKTogTm9kZVBvc2l0aW9uIHtcbiAgICBsZXQgbmM6IE5vZGVDb250ZXh0ID0gdGhpcztcbiAgICBjb25zdCBzdGVwcyA9IFtdO1xuICAgIGRvIHtcbiAgICAgIC8vIFdlIG5lZWQgZnVsbHkgXCJwZWVsZWRcIiBwYXRoLCBzbyBkb24ndCByZWNvcmQgZmlyc3QtWFhYIHBzZXVkb2VsZW1lbnRcbiAgICAgIC8vIGNvbnRhaW5lcnNcbiAgICAgIGlmIChcbiAgICAgICAgIW5jLmZpcnN0UHNldWRvIHx8XG4gICAgICAgICFuYy5wYXJlbnQgfHxcbiAgICAgICAgbmMucGFyZW50LmZpcnN0UHNldWRvID09PSBuYy5maXJzdFBzZXVkb1xuICAgICAgKSB7XG4gICAgICAgIHN0ZXBzLnB1c2gobmMudG9Ob2RlUG9zaXRpb25TdGVwKCkpO1xuICAgICAgfVxuICAgICAgbmMgPSBuYy5wYXJlbnQ7XG4gICAgfSB3aGlsZSAobmMpO1xuICAgIGNvbnN0IGFjdHVhbE9mZnNldEluTm9kZSA9IHRoaXMucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnRcbiAgICAgID8gRGlmZi5yZXNvbHZlT3JpZ2luYWxJbmRleChcbiAgICAgICAgICB0aGlzLnByZXByb2Nlc3NlZFRleHRDb250ZW50LFxuICAgICAgICAgIHRoaXMub2Zmc2V0SW5Ob2RlLFxuICAgICAgICApXG4gICAgICA6IHRoaXMub2Zmc2V0SW5Ob2RlO1xuICAgIHJldHVybiB7XG4gICAgICBzdGVwcyxcbiAgICAgIG9mZnNldEluTm9kZTogYWN0dWFsT2Zmc2V0SW5Ob2RlLFxuICAgICAgYWZ0ZXI6IHRoaXMuYWZ0ZXIsXG4gICAgICBwcmVwcm9jZXNzZWRUZXh0Q29udGVudDogdGhpcy5wcmVwcm9jZXNzZWRUZXh0Q29udGVudCxcbiAgICB9O1xuICB9XG5cbiAgaXNJbnNpZGVCRkMoKTogYm9vbGVhbiB7XG4gICAgbGV0IHBhcmVudCA9IHRoaXMucGFyZW50O1xuICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgIGlmIChwYXJlbnQuZXN0YWJsaXNoZXNCRkMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBnZXRDb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSgpOiBOb2RlQ29udGV4dCB7XG4gICAgbGV0IHBhcmVudCA9IHRoaXMucGFyZW50O1xuICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgIGlmIChwYXJlbnQuY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGUpIHtcbiAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICAgIH1cbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFdhbGsgdXAgTm9kZUNvbnRleHQgdHJlZSAoc3RhcnRpbmcgZnJvbSBpdHNlbGYpIGFuZCBjYWxsIHRoZSBjYWxsYmFjayBmb3JcbiAgICogZWFjaCBibG9jay5cbiAgICovXG4gIHdhbGtVcEJsb2NrcyhjYWxsYmFjazogKHAxOiBOb2RlQ29udGV4dCkgPT4gYW55KSB7XG4gICAgbGV0IG5vZGVDb250ZXh0OiBOb2RlQ29udGV4dCA9IHRoaXM7XG4gICAgd2hpbGUgKG5vZGVDb250ZXh0KSB7XG4gICAgICBpZiAoIW5vZGVDb250ZXh0LmlubGluZSkge1xuICAgICAgICBjYWxsYmFjayhub2RlQ29udGV4dCk7XG4gICAgICB9XG4gICAgICBub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0LnBhcmVudDtcbiAgICB9XG4gIH1cblxuICBiZWxvbmdzVG8oZm9ybWF0dGluZ0NvbnRleHQ6IEZvcm1hdHRpbmdDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuZm9ybWF0dGluZ0NvbnRleHQgPT09IGZvcm1hdHRpbmdDb250ZXh0ICYmXG4gICAgICAhIXRoaXMucGFyZW50ICYmXG4gICAgICB0aGlzLnBhcmVudC5mb3JtYXR0aW5nQ29udGV4dCA9PT0gZm9ybWF0dGluZ0NvbnRleHRcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaHVua1Bvc2l0aW9uIGltcGxlbWVudHMgVnRyZWUuQ2h1bmtQb3NpdGlvbiB7XG4gIGZsb2F0czogTm9kZVBvc2l0aW9uW10gPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBwcmltYXJ5OiBOb2RlUG9zaXRpb24pIHt9XG5cbiAgY2xvbmUoKTogQ2h1bmtQb3NpdGlvbiB7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IENodW5rUG9zaXRpb24odGhpcy5wcmltYXJ5KTtcbiAgICBpZiAodGhpcy5mbG9hdHMpIHtcbiAgICAgIHJlc3VsdC5mbG9hdHMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5mbG9hdHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgcmVzdWx0LmZsb2F0c1tpXSA9IHRoaXMuZmxvYXRzW2ldO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaXNTYW1lUG9zaXRpb24ob3RoZXI6IENodW5rUG9zaXRpb24pOiBib29sZWFuIHtcbiAgICBpZiAoIW90aGVyKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0aGlzID09PSBvdGhlcikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghaXNTYW1lTm9kZVBvc2l0aW9uKHRoaXMucHJpbWFyeSwgb3RoZXIucHJpbWFyeSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZmxvYXRzKSB7XG4gICAgICBpZiAoIW90aGVyLmZsb2F0cyB8fCB0aGlzLmZsb2F0cy5sZW5ndGggIT09IG90aGVyLmZsb2F0cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZsb2F0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIWlzU2FtZU5vZGVQb3NpdGlvbih0aGlzLmZsb2F0c1tpXSwgb3RoZXIuZmxvYXRzW2ldKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3RoZXIuZmxvYXRzKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGbG93Q2h1bmtQb3NpdGlvbiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBjaHVua1Bvc2l0aW9uOiBDaHVua1Bvc2l0aW9uLFxuICAgIHB1YmxpYyByZWFkb25seSBmbG93Q2h1bms6IEZsb3dDaHVuayxcbiAgKSB7fVxuXG4gIGNsb25lKCk6IEZsb3dDaHVua1Bvc2l0aW9uIHtcbiAgICByZXR1cm4gbmV3IEZsb3dDaHVua1Bvc2l0aW9uKHRoaXMuY2h1bmtQb3NpdGlvbi5jbG9uZSgpLCB0aGlzLmZsb3dDaHVuayk7XG4gIH1cblxuICBpc1NhbWVQb3NpdGlvbihvdGhlcjogRmxvd0NodW5rUG9zaXRpb24pOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgISFvdGhlciAmJlxuICAgICAgKHRoaXMgPT09IG90aGVyIHx8IHRoaXMuY2h1bmtQb3NpdGlvbi5pc1NhbWVQb3NpdGlvbihvdGhlci5jaHVua1Bvc2l0aW9uKSlcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGbG93UG9zaXRpb24ge1xuICBwb3NpdGlvbnM6IEZsb3dDaHVua1Bvc2l0aW9uW10gPSBbXTtcbiAgc3RhcnRTaWRlOiBzdHJpbmcgPSBcImFueVwiO1xuICBicmVha0FmdGVyOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICBjbG9uZSgpOiBGbG93UG9zaXRpb24ge1xuICAgIGNvbnN0IG5ld2ZwID0gbmV3IEZsb3dQb3NpdGlvbigpO1xuICAgIGNvbnN0IGFyciA9IHRoaXMucG9zaXRpb25zO1xuICAgIGNvbnN0IG5ld2FyciA9IG5ld2ZwLnBvc2l0aW9ucztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgbmV3YXJyW2ldID0gYXJyW2ldLmNsb25lKCk7XG4gICAgfVxuICAgIG5ld2ZwLnN0YXJ0U2lkZSA9IHRoaXMuc3RhcnRTaWRlO1xuICAgIG5ld2ZwLmJyZWFrQWZ0ZXIgPSB0aGlzLmJyZWFrQWZ0ZXI7XG4gICAgcmV0dXJuIG5ld2ZwO1xuICB9XG5cbiAgaXNTYW1lUG9zaXRpb24ob3RoZXI6IEZsb3dQb3NpdGlvbik6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzID09PSBvdGhlcikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghb3RoZXIgfHwgdGhpcy5wb3NpdGlvbnMubGVuZ3RoICE9PSBvdGhlci5wb3NpdGlvbnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wb3NpdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghdGhpcy5wb3NpdGlvbnNbaV0uaXNTYW1lUG9zaXRpb24ob3RoZXIucG9zaXRpb25zW2ldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaGFzQ29udGVudChvZmZzZXQ6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLnBvc2l0aW9ucy5sZW5ndGggPiAwICYmXG4gICAgICB0aGlzLnBvc2l0aW9uc1swXS5mbG93Q2h1bmsuc3RhcnRPZmZzZXQgPD0gb2Zmc2V0XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGF5b3V0UG9zaXRpb24ge1xuICAvKipcbiAgICogT25lLWJhc2VkLCBpbmNyZW1lbnRlZCBiZWZvcmUgbGF5b3V0LlxuICAgKi9cbiAgcGFnZTogbnVtYmVyID0gMDtcbiAgZmxvd3M6IHsgW2tleTogc3RyaW5nXTogRmxvdyB9ID0ge307XG4gIGZsb3dQb3NpdGlvbnM6IHsgW2tleTogc3RyaW5nXTogRmxvd1Bvc2l0aW9uIH0gPSB7fTtcblxuICAvKipcbiAgICogZmxvd1Bvc2l0aW9ucyBpcyBidWlsdCB1cCB0byB0aGlzIG9mZnNldC5cbiAgICovXG4gIGhpZ2hlc3RTZWVuT2Zmc2V0OiBudW1iZXIgPSAwO1xuXG4gIC8vIEZJWE1FOiBUaGlzIHByb3BlcnRpZXMgc2VlbSB0byBiZSBub3QgdXNlZFxuICBoaWdoZXN0U2Vlbk5vZGU6IE5vZGU7XG4gIGxvb2t1cFBvc2l0aW9uT2Zmc2V0OiBudW1iZXI7XG5cbiAgY2xvbmUoKTogTGF5b3V0UG9zaXRpb24ge1xuICAgIGNvbnN0IG5ld2NwID0gbmV3IExheW91dFBvc2l0aW9uKCk7XG4gICAgbmV3Y3AucGFnZSA9IHRoaXMucGFnZTtcbiAgICBuZXdjcC5oaWdoZXN0U2Vlbk5vZGUgPSB0aGlzLmhpZ2hlc3RTZWVuTm9kZTtcbiAgICBuZXdjcC5oaWdoZXN0U2Vlbk9mZnNldCA9IHRoaXMuaGlnaGVzdFNlZW5PZmZzZXQ7XG4gICAgbmV3Y3AubG9va3VwUG9zaXRpb25PZmZzZXQgPSB0aGlzLmxvb2t1cFBvc2l0aW9uT2Zmc2V0O1xuICAgIG5ld2NwLmZsb3dzID0gdGhpcy5mbG93cztcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdGhpcy5mbG93UG9zaXRpb25zKSB7XG4gICAgICBuZXdjcC5mbG93UG9zaXRpb25zW25hbWVdID0gdGhpcy5mbG93UG9zaXRpb25zW25hbWVdLmNsb25lKCk7XG4gICAgfVxuICAgIHJldHVybiBuZXdjcDtcbiAgfVxuXG4gIGlzU2FtZVBvc2l0aW9uKG90aGVyOiBMYXlvdXRQb3NpdGlvbik6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzID09PSBvdGhlcikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChcbiAgICAgICFvdGhlciB8fFxuICAgICAgdGhpcy5wYWdlICE9PSBvdGhlci5wYWdlIHx8XG4gICAgICB0aGlzLmhpZ2hlc3RTZWVuT2Zmc2V0ICE9PSBvdGhlci5oaWdoZXN0U2Vlbk9mZnNldFxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCB0aGlzRmxvd05hbWVzID0gT2JqZWN0LmtleXModGhpcy5mbG93UG9zaXRpb25zKTtcbiAgICBjb25zdCBvdGhlckZsb3dOYW1lcyA9IE9iamVjdC5rZXlzKG90aGVyLmZsb3dQb3NpdGlvbnMpO1xuICAgIGlmICh0aGlzRmxvd05hbWVzLmxlbmd0aCAhPT0gb3RoZXJGbG93TmFtZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAoY29uc3QgZmxvd05hbWUgb2YgdGhpc0Zsb3dOYW1lcykge1xuICAgICAgaWYgKFxuICAgICAgICAhdGhpcy5mbG93UG9zaXRpb25zW2Zsb3dOYW1lXS5pc1NhbWVQb3NpdGlvbihcbiAgICAgICAgICBvdGhlci5mbG93UG9zaXRpb25zW2Zsb3dOYW1lXSxcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIG5hbWUgZmxvdyBuYW1lLlxuICAgKi9cbiAgaGFzQ29udGVudChuYW1lOiBzdHJpbmcsIG9mZnNldDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZmxvd1BvcyA9IHRoaXMuZmxvd1Bvc2l0aW9uc1tuYW1lXTtcbiAgICBpZiAoIWZsb3dQb3MpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGZsb3dQb3MuaGFzQ29udGVudChvZmZzZXQpO1xuICB9XG5cbiAgc3RhcnRTaWRlT2ZGbG93KG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgZmxvd1BvcyA9IHRoaXMuZmxvd1Bvc2l0aW9uc1tuYW1lXTtcbiAgICBpZiAoIWZsb3dQb3MpIHtcbiAgICAgIHJldHVybiBcImFueVwiO1xuICAgIH1cbiAgICByZXR1cm4gZmxvd1Bvcy5zdGFydFNpZGU7XG4gIH1cblxuICBmaXJzdEZsb3dDaHVua09mRmxvdyhuYW1lOiBzdHJpbmcpOiBGbG93Q2h1bmsgfCBudWxsIHtcbiAgICBjb25zdCBmbG93UG9zID0gdGhpcy5mbG93UG9zaXRpb25zW25hbWVdO1xuICAgIGlmICghZmxvd1Bvcykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGZsb3dDaHVua1Bvc2l0aW9uID0gZmxvd1Bvcy5wb3NpdGlvbnNbMF07XG4gICAgaWYgKCFmbG93Q2h1bmtQb3NpdGlvbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBmbG93Q2h1bmtQb3NpdGlvbi5mbG93Q2h1bms7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbnRhaW5lciBpbXBsZW1lbnRzIFZ0cmVlLkNvbnRhaW5lciB7XG4gIGxlZnQ6IG51bWJlciA9IDA7XG4gIHRvcDogbnVtYmVyID0gMDtcbiAgbWFyZ2luTGVmdDogbnVtYmVyID0gMDtcbiAgbWFyZ2luUmlnaHQ6IG51bWJlciA9IDA7XG4gIG1hcmdpblRvcDogbnVtYmVyID0gMDtcbiAgbWFyZ2luQm90dG9tOiBudW1iZXIgPSAwO1xuICBib3JkZXJMZWZ0OiBudW1iZXIgPSAwO1xuICBib3JkZXJSaWdodDogbnVtYmVyID0gMDtcbiAgYm9yZGVyVG9wOiBudW1iZXIgPSAwO1xuICBib3JkZXJCb3R0b206IG51bWJlciA9IDA7XG4gIHBhZGRpbmdMZWZ0OiBudW1iZXIgPSAwO1xuICBwYWRkaW5nUmlnaHQ6IG51bWJlciA9IDA7XG4gIHBhZGRpbmdUb3A6IG51bWJlciA9IDA7XG4gIHBhZGRpbmdCb3R0b206IG51bWJlciA9IDA7XG4gIHdpZHRoOiBudW1iZXIgPSAwO1xuICBoZWlnaHQ6IG51bWJlciA9IDA7XG4gIG9yaWdpblg6IG51bWJlciA9IDA7XG4gIG9yaWdpblk6IG51bWJlciA9IDA7XG4gIGV4Y2x1c2lvbnM6IEdlb21ldHJ5VXRpbC5TaGFwZVtdID0gbnVsbDtcbiAgaW5uZXJTaGFwZTogR2VvbWV0cnlVdGlsLlNoYXBlID0gbnVsbDtcbiAgY29tcHV0ZWRCbG9ja1NpemU6IG51bWJlciA9IDA7XG4gIHNuYXBXaWR0aDogbnVtYmVyID0gMDtcbiAgc25hcEhlaWdodDogbnVtYmVyID0gMDtcbiAgc25hcE9mZnNldFg6IG51bWJlciA9IDA7XG4gIHNuYXBPZmZzZXRZOiBudW1iZXIgPSAwO1xuICB2ZXJ0aWNhbDogYm9vbGVhbiA9IGZhbHNlOyAvLyB2ZXJ0aWNhbCB3cml0aW5nXG5cbiAgY29uc3RydWN0b3IocHVibGljIGVsZW1lbnQ6IEVsZW1lbnQpIHt9XG5cbiAgZ2V0SW5zZXRUb3AoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFyZ2luVG9wICsgdGhpcy5ib3JkZXJUb3AgKyB0aGlzLnBhZGRpbmdUb3A7XG4gIH1cblxuICBnZXRJbnNldEJvdHRvbSgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXJnaW5Cb3R0b20gKyB0aGlzLmJvcmRlckJvdHRvbSArIHRoaXMucGFkZGluZ0JvdHRvbTtcbiAgfVxuXG4gIGdldEluc2V0TGVmdCgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXJnaW5MZWZ0ICsgdGhpcy5ib3JkZXJMZWZ0ICsgdGhpcy5wYWRkaW5nTGVmdDtcbiAgfVxuXG4gIGdldEluc2V0UmlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFyZ2luUmlnaHQgKyB0aGlzLmJvcmRlclJpZ2h0ICsgdGhpcy5wYWRkaW5nUmlnaHQ7XG4gIH1cblxuICBnZXRJbnNldEJlZm9yZSgpIHtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zZXRSaWdodCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRJbnNldFRvcCgpO1xuICAgIH1cbiAgfVxuXG4gIGdldEluc2V0QWZ0ZXIoKSB7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEluc2V0TGVmdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRJbnNldEJvdHRvbSgpO1xuICAgIH1cbiAgfVxuXG4gIGdldEluc2V0U3RhcnQoKSB7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEluc2V0VG9wKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEluc2V0TGVmdCgpO1xuICAgIH1cbiAgfVxuXG4gIGdldEluc2V0RW5kKCkge1xuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRJbnNldEJvdHRvbSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRJbnNldFJpZ2h0KCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0QmVmb3JlRWRnZShib3g6IENsaWVudFJlY3QpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnZlcnRpY2FsID8gYm94LnJpZ2h0IDogYm94LnRvcDtcbiAgfVxuXG4gIGdldEFmdGVyRWRnZShib3g6IENsaWVudFJlY3QpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnZlcnRpY2FsID8gYm94LmxlZnQgOiBib3guYm90dG9tO1xuICB9XG5cbiAgZ2V0U3RhcnRFZGdlKGJveDogQ2xpZW50UmVjdCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudmVydGljYWwgPyBib3gudG9wIDogYm94LmxlZnQ7XG4gIH1cblxuICBnZXRFbmRFZGdlKGJveDogQ2xpZW50UmVjdCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudmVydGljYWwgPyBib3guYm90dG9tIDogYm94LnJpZ2h0O1xuICB9XG5cbiAgZ2V0SW5saW5lU2l6ZShib3g6IENsaWVudFJlY3QpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnZlcnRpY2FsID8gYm94LmJvdHRvbSAtIGJveC50b3AgOiBib3gucmlnaHQgLSBib3gubGVmdDtcbiAgfVxuXG4gIGdldEJveFNpemUoYm94OiBDbGllbnRSZWN0KTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbCA/IGJveC5yaWdodCAtIGJveC5sZWZ0IDogYm94LmJvdHRvbSAtIGJveC50b3A7XG4gIH1cblxuICBnZXRCb3hEaXIoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbCA/IC0xIDogMTtcbiAgfVxuXG4gIGdldElubGluZURpcigpOiBudW1iZXIge1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgY29weUZyb20ob3RoZXI6IENvbnRhaW5lcik6IHZvaWQge1xuICAgIHRoaXMuZWxlbWVudCA9IG90aGVyLmVsZW1lbnQ7XG4gICAgdGhpcy5sZWZ0ID0gb3RoZXIubGVmdDtcbiAgICB0aGlzLnRvcCA9IG90aGVyLnRvcDtcbiAgICB0aGlzLm1hcmdpbkxlZnQgPSBvdGhlci5tYXJnaW5MZWZ0O1xuICAgIHRoaXMubWFyZ2luUmlnaHQgPSBvdGhlci5tYXJnaW5SaWdodDtcbiAgICB0aGlzLm1hcmdpblRvcCA9IG90aGVyLm1hcmdpblRvcDtcbiAgICB0aGlzLm1hcmdpbkJvdHRvbSA9IG90aGVyLm1hcmdpbkJvdHRvbTtcbiAgICB0aGlzLmJvcmRlckxlZnQgPSBvdGhlci5ib3JkZXJMZWZ0O1xuICAgIHRoaXMuYm9yZGVyUmlnaHQgPSBvdGhlci5ib3JkZXJSaWdodDtcbiAgICB0aGlzLmJvcmRlclRvcCA9IG90aGVyLmJvcmRlclRvcDtcbiAgICB0aGlzLmJvcmRlckJvdHRvbSA9IG90aGVyLmJvcmRlckJvdHRvbTtcbiAgICB0aGlzLnBhZGRpbmdMZWZ0ID0gb3RoZXIucGFkZGluZ0xlZnQ7XG4gICAgdGhpcy5wYWRkaW5nUmlnaHQgPSBvdGhlci5wYWRkaW5nUmlnaHQ7XG4gICAgdGhpcy5wYWRkaW5nVG9wID0gb3RoZXIucGFkZGluZ1RvcDtcbiAgICB0aGlzLnBhZGRpbmdCb3R0b20gPSBvdGhlci5wYWRkaW5nQm90dG9tO1xuICAgIHRoaXMud2lkdGggPSBvdGhlci53aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IG90aGVyLmhlaWdodDtcbiAgICB0aGlzLm9yaWdpblggPSBvdGhlci5vcmlnaW5YO1xuICAgIHRoaXMub3JpZ2luWSA9IG90aGVyLm9yaWdpblk7XG4gICAgdGhpcy5pbm5lclNoYXBlID0gb3RoZXIuaW5uZXJTaGFwZTtcbiAgICB0aGlzLmV4Y2x1c2lvbnMgPSBvdGhlci5leGNsdXNpb25zO1xuICAgIHRoaXMuY29tcHV0ZWRCbG9ja1NpemUgPSBvdGhlci5jb21wdXRlZEJsb2NrU2l6ZTtcbiAgICB0aGlzLnNuYXBXaWR0aCA9IG90aGVyLnNuYXBXaWR0aDtcbiAgICB0aGlzLnNuYXBIZWlnaHQgPSBvdGhlci5zbmFwSGVpZ2h0O1xuICAgIHRoaXMudmVydGljYWwgPSBvdGhlci52ZXJ0aWNhbDtcbiAgfVxuXG4gIHNldFZlcnRpY2FsUG9zaXRpb24odG9wOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy50b3AgPSB0b3A7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmVsZW1lbnQsIFwidG9wXCIsIGAke3RvcH1weGApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkodGhpcy5lbGVtZW50LCBcImhlaWdodFwiLCBgJHtoZWlnaHR9cHhgKTtcbiAgfVxuXG4gIHNldEhvcml6b250YWxQb3NpdGlvbihsZWZ0OiBudW1iZXIsIHdpZHRoOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMuZWxlbWVudCwgXCJsZWZ0XCIsIGAke2xlZnR9cHhgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMuZWxlbWVudCwgXCJ3aWR0aFwiLCBgJHt3aWR0aH1weGApO1xuICB9XG5cbiAgc2V0QmxvY2tQb3NpdGlvbihzdGFydDogbnVtYmVyLCBleHRlbnQ6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICB0aGlzLnNldEhvcml6b250YWxQb3NpdGlvbihzdGFydCArIGV4dGVudCAqIHRoaXMuZ2V0Qm94RGlyKCksIGV4dGVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0VmVydGljYWxQb3NpdGlvbihzdGFydCwgZXh0ZW50KTtcbiAgICB9XG4gIH1cblxuICBzZXRJbmxpbmVQb3NpdGlvbihzdGFydDogbnVtYmVyLCBleHRlbnQ6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICB0aGlzLnNldFZlcnRpY2FsUG9zaXRpb24oc3RhcnQsIGV4dGVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0SG9yaXpvbnRhbFBvc2l0aW9uKHN0YXJ0LCBleHRlbnQpO1xuICAgIH1cbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZWxlbWVudDtcbiAgICBsZXQgYzogTm9kZTtcbiAgICB3aGlsZSAoKGMgPSBwYXJlbnQubGFzdENoaWxkKSkge1xuICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGMpO1xuICAgIH1cbiAgfVxuXG4gIGdldElubmVyU2hhcGUoKTogR2VvbWV0cnlVdGlsLlNoYXBlIHtcbiAgICBjb25zdCByZWN0ID0gdGhpcy5nZXRJbm5lclJlY3QoKTtcbiAgICBpZiAodGhpcy5pbm5lclNoYXBlKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbm5lclNoYXBlLndpdGhPZmZzZXQocmVjdC54MSwgcmVjdC55MSk7XG4gICAgfVxuICAgIHJldHVybiBHZW9tZXRyeVV0aWwuc2hhcGVGb3JSZWN0KHJlY3QueDEsIHJlY3QueTEsIHJlY3QueDIsIHJlY3QueTIpO1xuICB9XG5cbiAgZ2V0SW5uZXJSZWN0KCk6IEdlb21ldHJ5VXRpbC5SZWN0IHtcbiAgICBjb25zdCBvZmZzZXRYID0gdGhpcy5vcmlnaW5YICsgdGhpcy5sZWZ0ICsgdGhpcy5nZXRJbnNldExlZnQoKTtcbiAgICBjb25zdCBvZmZzZXRZID0gdGhpcy5vcmlnaW5ZICsgdGhpcy50b3AgKyB0aGlzLmdldEluc2V0VG9wKCk7XG4gICAgcmV0dXJuIG5ldyBHZW9tZXRyeVV0aWwuUmVjdChcbiAgICAgIG9mZnNldFgsXG4gICAgICBvZmZzZXRZLFxuICAgICAgb2Zmc2V0WCArIHRoaXMud2lkdGgsXG4gICAgICBvZmZzZXRZICsgdGhpcy5oZWlnaHQsXG4gICAgKTtcbiAgfVxuXG4gIGdldFBhZGRpbmdSZWN0KCk6IEdlb21ldHJ5VXRpbC5SZWN0IHtcbiAgICBjb25zdCBwYWRkaW5nWCA9XG4gICAgICB0aGlzLm9yaWdpblggKyB0aGlzLmxlZnQgKyB0aGlzLm1hcmdpbkxlZnQgKyB0aGlzLmJvcmRlckxlZnQ7XG4gICAgY29uc3QgcGFkZGluZ1kgPSB0aGlzLm9yaWdpblkgKyB0aGlzLnRvcCArIHRoaXMubWFyZ2luVG9wICsgdGhpcy5ib3JkZXJUb3A7XG4gICAgY29uc3QgcGFkZGluZ1dpZHRoID0gdGhpcy5wYWRkaW5nTGVmdCArIHRoaXMud2lkdGggKyB0aGlzLnBhZGRpbmdSaWdodDtcbiAgICBjb25zdCBwYWRkaW5nSGVpZ2h0ID0gdGhpcy5wYWRkaW5nVG9wICsgdGhpcy5oZWlnaHQgKyB0aGlzLnBhZGRpbmdCb3R0b207XG4gICAgcmV0dXJuIG5ldyBHZW9tZXRyeVV0aWwuUmVjdChcbiAgICAgIHBhZGRpbmdYLFxuICAgICAgcGFkZGluZ1ksXG4gICAgICBwYWRkaW5nWCArIHBhZGRpbmdXaWR0aCxcbiAgICAgIHBhZGRpbmdZICsgcGFkZGluZ0hlaWdodCxcbiAgICApO1xuICB9XG5cbiAgZ2V0T3V0ZXJTaGFwZShcbiAgICBvdXRlclNoYXBlUHJvcDogQ3NzLlZhbCxcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICApOiBHZW9tZXRyeVV0aWwuU2hhcGUge1xuICAgIGNvbnN0IHJlY3QgPSB0aGlzLmdldE91dGVyUmVjdCgpO1xuICAgIHJldHVybiBDc3NQcm9wLnRvU2hhcGUoXG4gICAgICBvdXRlclNoYXBlUHJvcCxcbiAgICAgIHJlY3QueDEsXG4gICAgICByZWN0LnkxLFxuICAgICAgcmVjdC54MiAtIHJlY3QueDEsXG4gICAgICByZWN0LnkyIC0gcmVjdC55MSxcbiAgICAgIGNvbnRleHQsXG4gICAgKTtcbiAgfVxuXG4gIGdldE91dGVyUmVjdCgpOiBHZW9tZXRyeVV0aWwuUmVjdCB7XG4gICAgY29uc3Qgb3V0ZXJYID0gdGhpcy5vcmlnaW5YICsgdGhpcy5sZWZ0O1xuICAgIGNvbnN0IG91dGVyWSA9IHRoaXMub3JpZ2luWSArIHRoaXMudG9wO1xuICAgIGNvbnN0IG91dGVyV2lkdGggPSB0aGlzLmdldEluc2V0TGVmdCgpICsgdGhpcy53aWR0aCArIHRoaXMuZ2V0SW5zZXRSaWdodCgpO1xuICAgIGNvbnN0IG91dGVySGVpZ2h0ID1cbiAgICAgIHRoaXMuZ2V0SW5zZXRUb3AoKSArIHRoaXMuaGVpZ2h0ICsgdGhpcy5nZXRJbnNldEJvdHRvbSgpO1xuICAgIHJldHVybiBuZXcgR2VvbWV0cnlVdGlsLlJlY3QoXG4gICAgICBvdXRlclgsXG4gICAgICBvdXRlclksXG4gICAgICBvdXRlclggKyBvdXRlcldpZHRoLFxuICAgICAgb3V0ZXJZICsgb3V0ZXJIZWlnaHQsXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBFeHByQ29udGVudExpc3RlbmVyID0gVnRyZWUuRXhwckNvbnRlbnRMaXN0ZW5lcjtcblxuZXhwb3J0IGNsYXNzIENvbnRlbnRQcm9wZXJ0eUhhbmRsZXIgZXh0ZW5kcyBDc3MuVmlzaXRvciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBlbGVtOiBFbGVtZW50LFxuICAgIHB1YmxpYyByZWFkb25seSBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSByb290Q29udGVudFZhbHVlOiBDc3MuVmFsLFxuICAgIHB1YmxpYyByZWFkb25seSBleHByQ29udGVudExpc3RlbmVyOiBFeHByQ29udGVudExpc3RlbmVyLFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgcHJpdmF0ZSB2aXNpdFN0cklubmVyKHN0cjogc3RyaW5nLCBub2RlPzogTm9kZSB8IG51bGwpIHtcbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIG5vZGUgPSB0aGlzLmVsZW0ub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzdHIpO1xuICAgIH1cbiAgICB0aGlzLmVsZW0uYXBwZW5kQ2hpbGQobm9kZSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHZpc2l0U3RyKHN0cjogQ3NzLlN0cik6IENzcy5WYWwge1xuICAgIHRoaXMudmlzaXRTdHJJbm5lcihzdHIuc3RyKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgdmlzaXRVUkwodXJsOiBDc3MuVVJMKTogQ3NzLlZhbCB7XG4gICAgaWYgKCh0aGlzLnJvb3RDb250ZW50VmFsdWUgYXMgYW55KS51cmwpIHtcbiAgICAgIHRoaXMuZWxlbS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgdXJsLnVybCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGltZyA9IHRoaXMuZWxlbS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhCYXNlLk5TLlhIVE1MLCBcImltZ1wiKTtcbiAgICAgIGltZy5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgdXJsLnVybCk7XG4gICAgICB0aGlzLmVsZW0uYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHZpc2l0U3BhY2VMaXN0KGxpc3Q6IENzcy5TcGFjZUxpc3QpOiBDc3MuVmFsIHtcbiAgICB0aGlzLnZpc2l0VmFsdWVzKGxpc3QudmFsdWVzKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgdmlzaXRFeHByKGV4cHI6IENzcy5FeHByKTogQ3NzLlZhbCB7XG4gICAgY29uc3QgZXggPSBleHByLnRvRXhwcigpO1xuICAgIGxldCB2YWwgPSBleC5ldmFsdWF0ZSh0aGlzLmNvbnRleHQpO1xuICAgIGlmICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBpZiAoZXggaW5zdGFuY2VvZiBFeHBycy5OYW1lZCkge1xuICAgICAgICAvLyBGb3IgZW52KHB1Yi10aXRsZSkgYW5kIGVudihkb2MtdGl0bGUpXG4gICAgICAgIC8vIE5lZWQgdG8gdW5xdW90ZSB0aGUgcmVzdWx0LiBUbyBiZSBjb25zaXN0ZW50IHdpdGggY3NzcGFyc2UuZXZhbHVhdGVFeHByVG9DU1MoKVxuICAgICAgICB2YWwgPSBDc3NQYXJzZXIucGFyc2VWYWx1ZShcbiAgICAgICAgICBleC5zY29wZSxcbiAgICAgICAgICBuZXcgQ3NzVG9rZW5pemVyLlRva2VuaXplcih2YWwsIG51bGwpLFxuICAgICAgICAgIFwiXCIsXG4gICAgICAgICkuc3RyaW5nVmFsdWUoKTtcbiAgICAgIH1cbiAgICAgIGFzc2VydCh0aGlzLmVsZW0ub3duZXJEb2N1bWVudCk7XG4gICAgICBjb25zdCBub2RlID0gdGhpcy5leHByQ29udGVudExpc3RlbmVyKGV4LCB2YWwsIHRoaXMuZWxlbS5vd25lckRvY3VtZW50KTtcbiAgICAgIHRoaXMudmlzaXRTdHJJbm5lcih2YWwsIG5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9uVHJpdmlhbENvbnRlbnQodmFsOiBDc3MuVmFsKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgdmFsICE9IG51bGwgJiZcbiAgICB2YWwgIT09IENzcy5pZGVudC5ub3JtYWwgJiZcbiAgICB2YWwgIT09IENzcy5pZGVudC5ub25lICYmXG4gICAgdmFsICE9PSBDc3MuaWRlbnQuaW5oZXJpdFxuICApO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgUGFnZUZsb2F0cyAtIENTUyBQYWdlIEZsb2F0c1xuICovXG5pbXBvcnQgKiBhcyBBc3NlcnRzIGZyb20gXCIuL2Fzc2VydHNcIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIEdlb21ldHJ5VXRpbCBmcm9tIFwiLi9nZW9tZXRyeS11dGlsXCI7XG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuL2xvZ2dpbmdcIjtcbmltcG9ydCAqIGFzIENzc0xvZ2ljYWxVdGlsIGZyb20gXCIuL2Nzcy1sb2dpY2FsLXV0aWxcIjtcbmltcG9ydCAqIGFzIFNpemluZyBmcm9tIFwiLi9zaXppbmdcIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0ICogYXMgVnRyZWVJbXBsIGZyb20gXCIuL3Z0cmVlXCI7XG5pbXBvcnQgeyBMYXlvdXQgYXMgTGF5b3V0VHlwZSwgUGFnZUZsb2F0cywgVnRyZWUgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgRmxvYXRSZWZlcmVuY2UgPSBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlO1xuZXhwb3J0IHR5cGUgRmxvYXRSZWZlcmVuY2UgPSBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlO1xuXG50eXBlIFBhZ2VGbG9hdElEID0gUGFnZUZsb2F0cy5QYWdlRmxvYXRJRDtcblxuZXhwb3J0IGZ1bmN0aW9uIGZsb2F0UmVmZXJlbmNlT2Yoc3RyOiBzdHJpbmcpOiBGbG9hdFJlZmVyZW5jZSB7XG4gIHN3aXRjaCAoc3RyKSB7XG4gICAgY2FzZSBcImlubGluZVwiOlxuICAgICAgcmV0dXJuIEZsb2F0UmVmZXJlbmNlLklOTElORTtcbiAgICBjYXNlIFwiY29sdW1uXCI6XG4gICAgICByZXR1cm4gRmxvYXRSZWZlcmVuY2UuQ09MVU1OO1xuICAgIGNhc2UgXCJyZWdpb25cIjpcbiAgICAgIHJldHVybiBGbG9hdFJlZmVyZW5jZS5SRUdJT047XG4gICAgY2FzZSBcInBhZ2VcIjpcbiAgICAgIHJldHVybiBGbG9hdFJlZmVyZW5jZS5QQUdFO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZmxvYXQtcmVmZXJlbmNlOiAke3N0cn1gKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQYWdlRmxvYXQoZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlKTogYm9vbGVhbiB7XG4gIHN3aXRjaCAoZmxvYXRSZWZlcmVuY2UpIHtcbiAgICBjYXNlIEZsb2F0UmVmZXJlbmNlLklOTElORTpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIEZsb2F0UmVmZXJlbmNlLkNPTFVNTjpcbiAgICBjYXNlIEZsb2F0UmVmZXJlbmNlLlJFR0lPTjpcbiAgICBjYXNlIEZsb2F0UmVmZXJlbmNlLlBBR0U6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGZsb2F0LXJlZmVyZW5jZTogJHtmbG9hdFJlZmVyZW5jZX1gKTtcbiAgfVxufVxuXG4vKipcbiAqIEludGVycHJldCBhIGZsb2F0IHZhbHVlIHdpdGggdGhlIHdyaXRpbmctbW9kZSBhbmQgZGlyZWN0aW9uIGFzc3VtaW5nIHRoZVxuICogZmxvYXQtcmVmZXJlbmNlIGlzIGlubGluZSBhbmQgcmV0dXJucyBcImxlZnRcIiBvciBcInJpZ2h0XCIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlSW5saW5lRmxvYXREaXJlY3Rpb24oXG4gIGZsb2F0U2lkZTogc3RyaW5nLFxuICB2ZXJ0aWNhbDogYm9vbGVhbixcbiAgZGlyZWN0aW9uOiBzdHJpbmcsXG4pOiBzdHJpbmcge1xuICBjb25zdCB3cml0aW5nTW9kZSA9IHZlcnRpY2FsID8gXCJ2ZXJ0aWNhbC1ybFwiIDogXCJob3Jpem9udGFsLXRiXCI7XG4gIGlmIChmbG9hdFNpZGUgPT09IFwidG9wXCIgfHwgZmxvYXRTaWRlID09PSBcImJvdHRvbVwiKSB7XG4gICAgZmxvYXRTaWRlID0gQ3NzTG9naWNhbFV0aWwudG9Mb2dpY2FsKGZsb2F0U2lkZSwgd3JpdGluZ01vZGUsIGRpcmVjdGlvbik7XG4gIH1cbiAgaWYgKGZsb2F0U2lkZSA9PT0gXCJibG9jay1zdGFydFwiKSB7XG4gICAgZmxvYXRTaWRlID0gXCJpbmxpbmUtc3RhcnRcIjtcbiAgfVxuICBpZiAoZmxvYXRTaWRlID09PSBcImJsb2NrLWVuZFwiKSB7XG4gICAgZmxvYXRTaWRlID0gXCJpbmxpbmUtZW5kXCI7XG4gIH1cbiAgaWYgKGZsb2F0U2lkZSA9PT0gXCJpbmxpbmUtc3RhcnRcIiB8fCBmbG9hdFNpZGUgPT09IFwiaW5saW5lLWVuZFwiKSB7XG4gICAgY29uc3QgcGh5c2ljYWxWYWx1ZSA9IENzc0xvZ2ljYWxVdGlsLnRvUGh5c2ljYWwoXG4gICAgICBmbG9hdFNpZGUsXG4gICAgICB3cml0aW5nTW9kZSxcbiAgICAgIGRpcmVjdGlvbixcbiAgICApO1xuICAgIGNvbnN0IGxpbmVSZWxhdGl2ZVZhbHVlID0gQ3NzTG9naWNhbFV0aWwudG9MaW5lUmVsYXRpdmUoXG4gICAgICBwaHlzaWNhbFZhbHVlLFxuICAgICAgd3JpdGluZ01vZGUsXG4gICAgKTtcbiAgICBpZiAobGluZVJlbGF0aXZlVmFsdWUgPT09IFwibGluZS1sZWZ0XCIpIHtcbiAgICAgIGZsb2F0U2lkZSA9IFwibGVmdFwiO1xuICAgIH0gZWxzZSBpZiAobGluZVJlbGF0aXZlVmFsdWUgPT09IFwibGluZS1yaWdodFwiKSB7XG4gICAgICBmbG9hdFNpZGUgPSBcInJpZ2h0XCI7XG4gICAgfVxuICB9XG4gIGlmIChmbG9hdFNpZGUgIT09IFwibGVmdFwiICYmIGZsb2F0U2lkZSAhPT0gXCJyaWdodFwiKSB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihgSW52YWxpZCBmbG9hdCB2YWx1ZTogJHtmbG9hdFNpZGV9LiBGYWxsYmFjayB0byBsZWZ0LmApO1xuICAgIGZsb2F0U2lkZSA9IFwibGVmdFwiO1xuICB9XG4gIHJldHVybiBmbG9hdFNpZGU7XG59XG5cbmV4cG9ydCBjbGFzcyBQYWdlRmxvYXQgaW1wbGVtZW50cyBQYWdlRmxvYXRzLlBhZ2VGbG9hdCB7XG4gIG9yZGVyOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgaWQ6IFBhZ2VGbG9hdElEIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IG5vZGVQb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uLFxuICAgIHB1YmxpYyByZWFkb25seSBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UsXG4gICAgcHVibGljIHJlYWRvbmx5IGZsb2F0U2lkZTogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSBjbGVhclNpZGU6IHN0cmluZyB8IG51bGwsXG4gICAgcHVibGljIHJlYWRvbmx5IGZsb3dOYW1lOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IGZsb2F0TWluV3JhcEJsb2NrOiBDc3MuTnVtZXJpYyB8IG51bGwsXG4gICkge31cblxuICBnZXRPcmRlcigpOiBudW1iZXIge1xuICAgIGlmICh0aGlzLm9yZGVyID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcGFnZSBmbG9hdCBpcyBub3QgeWV0IGFkZGVkXCIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5vcmRlcjtcbiAgfVxuXG4gIGdldElkKCk6IFBhZ2VGbG9hdElEIHtcbiAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBwYWdlIGZsb2F0IGlzIG5vdCB5ZXQgYWRkZWRcIik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmlkO1xuICB9XG5cbiAgaXNBbGxvd2VkT25Db250ZXh0KHBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0FuY2hvckFscmVhZHlBcHBlYXJlZCh0aGlzLmdldElkKCkpO1xuICB9XG5cbiAgaXNBbGxvd2VkVG9QcmVjZWRlKG90aGVyOiBQYWdlRmxvYXQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhZ2VGbG9hdFN0b3JlIHtcbiAgcHJpdmF0ZSBmbG9hdHM6IFBhZ2VGbG9hdFtdID0gW107XG4gIHByaXZhdGUgbmV4dFBhZ2VGbG9hdEluZGV4OiBudW1iZXIgPSAwO1xuXG4gIHByaXZhdGUgbmV4dE9yZGVyKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubmV4dFBhZ2VGbG9hdEluZGV4Kys7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVBhZ2VGbG9hdElkKG9yZGVyOiBudW1iZXIpOiBQYWdlRmxvYXRJRCB7XG4gICAgcmV0dXJuIGBwZiR7b3JkZXJ9YDtcbiAgfVxuXG4gIGFkZFBhZ2VGbG9hdChmbG9hdDogUGFnZUZsb2F0KSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmZsb2F0cy5maW5kSW5kZXgoKGYpID0+XG4gICAgICBWdHJlZUltcGwuaXNTYW1lTm9kZVBvc2l0aW9uKGYubm9kZVBvc2l0aW9uLCBmbG9hdC5ub2RlUG9zaXRpb24pLFxuICAgICk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJBIHBhZ2UgZmxvYXQgd2l0aCB0aGUgc2FtZSBzb3VyY2Ugbm9kZSBpcyBhbHJlYWR5IHJlZ2lzdGVyZWRcIixcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG9yZGVyID0gKGZsb2F0Lm9yZGVyID0gdGhpcy5uZXh0T3JkZXIoKSk7XG4gICAgICBmbG9hdC5pZCA9IHRoaXMuY3JlYXRlUGFnZUZsb2F0SWQob3JkZXIpO1xuICAgICAgdGhpcy5mbG9hdHMucHVzaChmbG9hdCk7XG4gICAgfVxuICB9XG5cbiAgZmluZFBhZ2VGbG9hdEJ5Tm9kZVBvc2l0aW9uKFxuICAgIG5vZGVQb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uLFxuICApOiBQYWdlRmxvYXQgfCBudWxsIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZmxvYXRzLmZpbmRJbmRleCgoZikgPT5cbiAgICAgIFZ0cmVlSW1wbC5pc1NhbWVOb2RlUG9zaXRpb24oZi5ub2RlUG9zaXRpb24sIG5vZGVQb3NpdGlvbiksXG4gICAgKTtcbiAgICByZXR1cm4gaW5kZXggPj0gMCA/IHRoaXMuZmxvYXRzW2luZGV4XSA6IG51bGw7XG4gIH1cblxuICBmaW5kUGFnZUZsb2F0QnlJZChpZDogUGFnZUZsb2F0SUQpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZmxvYXRzLmZpbmRJbmRleCgoZikgPT4gZi5pZCA9PT0gaWQpO1xuICAgIHJldHVybiBpbmRleCA+PSAwID8gdGhpcy5mbG9hdHNbaW5kZXhdIDogbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSBjb250aW51ZXMgUmVwcmVzZW50cyB3aGV0aGVyIHRoZSBmbG9hdCBpcyBmcmFnbWVudGVkIGFuZCBjb250aW51ZXNcbiAqICAgICBhZnRlciB0aGlzIGZyYWdtZW50XG4gKi9cbmV4cG9ydCBjbGFzcyBQYWdlRmxvYXRGcmFnbWVudCBpbXBsZW1lbnRzIFBhZ2VGbG9hdHMuUGFnZUZsb2F0RnJhZ21lbnQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlLFxuICAgIHB1YmxpYyByZWFkb25seSBmbG9hdFNpZGU6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29udGludWF0aW9uczogUGFnZUZsb2F0Q29udGludWF0aW9uW10sXG4gICAgcHVibGljIHJlYWRvbmx5IGFyZWE6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29udGludWVzOiBib29sZWFuLFxuICApIHt9XG5cbiAgaGFzRmxvYXQoZmxvYXQ6IFBhZ2VGbG9hdCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvbnRpbnVhdGlvbnMuc29tZSgoYykgPT4gYy5mbG9hdCA9PT0gZmxvYXQpO1xuICB9XG5cbiAgZmluZE5vdEFsbG93ZWRGbG9hdChjb250ZXh0OiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0KTogUGFnZUZsb2F0IHwgbnVsbCB7XG4gICAgZm9yIChsZXQgaSA9IHRoaXMuY29udGludWF0aW9ucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3QgZiA9IHRoaXMuY29udGludWF0aW9uc1tpXS5mbG9hdDtcbiAgICAgIGlmICghZi5pc0FsbG93ZWRPbkNvbnRleHQoY29udGV4dCkpIHtcbiAgICAgICAgcmV0dXJuIGY7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZ2V0T3V0ZXJTaGFwZSgpOiBHZW9tZXRyeVV0aWwuU2hhcGUge1xuICAgIHJldHVybiB0aGlzLmFyZWEuZ2V0T3V0ZXJTaGFwZShudWxsLCBudWxsKTtcbiAgfVxuXG4gIGdldE91dGVyUmVjdCgpOiBHZW9tZXRyeVV0aWwuUmVjdCB7XG4gICAgcmV0dXJuIHRoaXMuYXJlYS5nZXRPdXRlclJlY3QoKTtcbiAgfVxuXG4gIGdldE9yZGVyKCk6IG51bWJlciB7XG4gICAgY29uc3QgZmxvYXRzID0gdGhpcy5jb250aW51YXRpb25zLm1hcCgoYykgPT4gYy5mbG9hdCk7XG4gICAgcmV0dXJuIE1hdGgubWluLmFwcGx5KFxuICAgICAgbnVsbCxcbiAgICAgIGZsb2F0cy5tYXAoKGYpID0+IGYuZ2V0T3JkZXIoKSksXG4gICAgKTtcbiAgfVxuXG4gIHNob3VsZEJlU3Rhc2hlZEJlZm9yZShmbG9hdDogUGFnZUZsb2F0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0T3JkZXIoKSA8IGZsb2F0LmdldE9yZGVyKCk7XG4gIH1cblxuICBhZGRDb250aW51YXRpb25zKGNvbnRpbnVhdGlvbnM6IFBhZ2VGbG9hdENvbnRpbnVhdGlvbltdKSB7XG4gICAgY29udGludWF0aW9ucy5mb3JFYWNoKChjKSA9PiB7XG4gICAgICB0aGlzLmNvbnRpbnVhdGlvbnMucHVzaChjKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEZsb3dOYW1lKCk6IHN0cmluZyB7XG4gICAgY29uc3QgZmxvd05hbWUgPSB0aGlzLmNvbnRpbnVhdGlvbnNbMF0uZmxvYXQuZmxvd05hbWU7XG4gICAgQXNzZXJ0cy5hc3NlcnQoXG4gICAgICB0aGlzLmNvbnRpbnVhdGlvbnMuZXZlcnkoKGMpID0+IGMuZmxvYXQuZmxvd05hbWUgPT09IGZsb3dOYW1lKSxcbiAgICApO1xuICAgIHJldHVybiBmbG93TmFtZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFnZUZsb2F0Q29udGludWF0aW9uIGltcGxlbWVudHMgUGFnZUZsb2F0cy5QYWdlRmxvYXRDb250aW51YXRpb24ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmxvYXQ6IFBhZ2VGbG9hdCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgbm9kZVBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24sXG4gICkge31cblxuICBlcXVhbHMob3RoZXI6IFBhZ2VGbG9hdENvbnRpbnVhdGlvbiB8IG51bGwpOiBib29sZWFuIHtcbiAgICBpZiAoIW90aGVyKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0aGlzID09PSBvdGhlcikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmZsb2F0ID09PSBvdGhlci5mbG9hdCAmJlxuICAgICAgVnRyZWVJbXBsLmlzU2FtZU5vZGVQb3NpdGlvbih0aGlzLm5vZGVQb3NpdGlvbiwgb3RoZXIubm9kZVBvc2l0aW9uKVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgUGFnZUZsb2F0UGxhY2VtZW50Q29uZGl0aW9uID0gUGFnZUZsb2F0cy5QYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb247XG5cbi8qKlxuICogQHBhcmFtIGdlbmVyYXRpbmdOb2RlUG9zaXRpb24gU291cmNlIE5vZGVQb3NpdGlvbiBnZW5lcmF0aW5nIHRoZSBjb250ZXh0LlxuICogICAgIFNwZWNpZnkgd2hlbiBhIGNvbHVtbiBjb250ZXh0IGlzIGdlbmVyYXRlZCBieSBhIG5vbi1yb290IGVsZW1lbnQgKGZvclxuICogICAgIGV4YW1wbGUgcGFnZSBmbG9hdHMpXG4gKi9cbmV4cG9ydCBjbGFzcyBQYWdlRmxvYXRMYXlvdXRDb250ZXh0XG4gIGltcGxlbWVudHMgUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0IHtcbiAgcHJpdmF0ZSBjaGlsZHJlbjogUGFnZUZsb2F0TGF5b3V0Q29udGV4dFtdID0gW107XG4gIHdyaXRpbmdNb2RlOiBDc3MuVmFsO1xuICBkaXJlY3Rpb246IENzcy5WYWw7XG4gIHByaXZhdGUgaW52YWxpZGF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBmbG9hdFN0b3JlOiBQYWdlRmxvYXRTdG9yZTtcbiAgcHJpdmF0ZSBmb3JiaWRkZW5GbG9hdHM6IFBhZ2VGbG9hdElEW10gPSBbXTtcbiAgZmxvYXRGcmFnbWVudHM6IFBhZ2VGbG9hdEZyYWdtZW50W10gPSBbXTtcbiAgcHJpdmF0ZSBzdGFzaGVkRmxvYXRGcmFnbWVudHM6IFBhZ2VGbG9hdEZyYWdtZW50W10gPSBbXTtcbiAgcHJpdmF0ZSBmbG9hdEFuY2hvcnM6IHsgW2tleSBpbiBQYWdlRmxvYXRJRF06IE5vZGUgfSA9IHt9O1xuICBwcml2YXRlIGZsb2F0c0RlZmVycmVkVG9OZXh0OiBQYWdlRmxvYXRDb250aW51YXRpb25bXSA9IFtdO1xuICBwcml2YXRlIGZsb2F0c0RlZmVycmVkRnJvbVByZXZpb3VzOiBQYWdlRmxvYXRDb250aW51YXRpb25bXTtcbiAgcHJpdmF0ZSBsYXlvdXRDb25zdHJhaW50czogTGF5b3V0VHlwZS5MYXlvdXRDb25zdHJhaW50W10gPSBbXTtcbiAgcHJpdmF0ZSBsb2NrZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyZW50OiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlIHwgbnVsbCxcbiAgICBwcml2YXRlIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBmbG93TmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZ2VuZXJhdGluZ05vZGVQb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uIHwgbnVsbCxcbiAgICB3cml0aW5nTW9kZTogQ3NzLlZhbCB8IG51bGwsXG4gICAgZGlyZWN0aW9uOiBDc3MuVmFsIHwgbnVsbCxcbiAgKSB7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgcGFyZW50LmNoaWxkcmVuLnB1c2godGhpcyk7XG4gICAgfVxuICAgIHRoaXMud3JpdGluZ01vZGUgPVxuICAgICAgd3JpdGluZ01vZGUgfHwgKHBhcmVudCAmJiBwYXJlbnQud3JpdGluZ01vZGUpIHx8IENzcy5pZGVudC5ob3Jpem9udGFsX3RiO1xuICAgIHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uIHx8IChwYXJlbnQgJiYgcGFyZW50LmRpcmVjdGlvbikgfHwgQ3NzLmlkZW50Lmx0cjtcbiAgICB0aGlzLmZsb2F0U3RvcmUgPSBwYXJlbnQgPyBwYXJlbnQuZmxvYXRTdG9yZSA6IG5ldyBQYWdlRmxvYXRTdG9yZSgpO1xuICAgIGNvbnN0IHByZXZpb3VzU2libGluZyA9IHRoaXMuZ2V0UHJldmlvdXNTaWJsaW5nKCk7XG4gICAgdGhpcy5mbG9hdHNEZWZlcnJlZEZyb21QcmV2aW91cyA9IHByZXZpb3VzU2libGluZ1xuICAgICAgPyBbXS5jb25jYXQocHJldmlvdXNTaWJsaW5nLmZsb2F0c0RlZmVycmVkVG9OZXh0KVxuICAgICAgOiBbXTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0UGFyZW50KGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSk6IFBhZ2VGbG9hdExheW91dENvbnRleHQge1xuICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gUGFnZUZsb2F0TGF5b3V0Q29udGV4dCBmb3IgJHtmbG9hdFJlZmVyZW5jZX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucGFyZW50O1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRQcmV2aW91c1NpYmxpbmdPZihcbiAgICBjaGlsZDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCB8IG51bGwsXG4gICAgZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlIHwgbnVsbCxcbiAgICBmbG93TmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBnZW5lcmF0aW5nTm9kZVBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24gfCBudWxsLFxuICApOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0IHwgbnVsbCB7XG4gICAgbGV0IGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkIGFzIFBhZ2VGbG9hdExheW91dENvbnRleHQpO1xuICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgIGluZGV4ID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSBpbmRleCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBsZXQgcmVzdWx0ID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgIGlmIChcbiAgICAgICAgcmVzdWx0LmZsb2F0UmVmZXJlbmNlID09PSBmbG9hdFJlZmVyZW5jZSAmJlxuICAgICAgICByZXN1bHQuZmxvd05hbWUgPT09IGZsb3dOYW1lICYmXG4gICAgICAgIFZ0cmVlSW1wbC5pc1NhbWVOb2RlUG9zaXRpb24oXG4gICAgICAgICAgcmVzdWx0LmdlbmVyYXRpbmdOb2RlUG9zaXRpb24sXG4gICAgICAgICAgZ2VuZXJhdGluZ05vZGVQb3NpdGlvbixcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuZ2V0UHJldmlvdXNTaWJsaW5nT2YoXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBmbG9hdFJlZmVyZW5jZSxcbiAgICAgICAgICBmbG93TmFtZSxcbiAgICAgICAgICBnZW5lcmF0aW5nTm9kZVBvc2l0aW9uLFxuICAgICAgICApO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0UHJldmlvdXNTaWJsaW5nKCk6IFBhZ2VGbG9hdExheW91dENvbnRleHQgfCBudWxsIHtcbiAgICBsZXQgY2hpbGQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQgPSB0aGlzO1xuICAgIGxldCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcbiAgICBsZXQgcmVzdWx0OiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0O1xuICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgIHJlc3VsdCA9IHBhcmVudC5nZXRQcmV2aW91c1NpYmxpbmdPZihcbiAgICAgICAgY2hpbGQsXG4gICAgICAgIHRoaXMuZmxvYXRSZWZlcmVuY2UsXG4gICAgICAgIHRoaXMuZmxvd05hbWUsXG4gICAgICAgIHRoaXMuZ2VuZXJhdGluZ05vZGVQb3NpdGlvbixcbiAgICAgICk7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBjaGlsZCA9IHBhcmVudDtcbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZ2V0Q29udGFpbmVyKGZsb2F0UmVmZXJlbmNlPzogRmxvYXRSZWZlcmVuY2UpOiBWdHJlZS5Db250YWluZXIge1xuICAgIGlmICghZmxvYXRSZWZlcmVuY2UgfHwgZmxvYXRSZWZlcmVuY2UgPT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0UGFyZW50KGZsb2F0UmVmZXJlbmNlKS5nZXRDb250YWluZXIoZmxvYXRSZWZlcmVuY2UpO1xuICB9XG5cbiAgc2V0Q29udGFpbmVyKGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyKSB7XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgdGhpcy5yZWF0dGFjaEZsb2F0RnJhZ21lbnRzKCk7XG4gIH1cblxuICBhZGRQYWdlRmxvYXQoZmxvYXQ6IFBhZ2VGbG9hdCkge1xuICAgIHRoaXMuZmxvYXRTdG9yZS5hZGRQYWdlRmxvYXQoZmxvYXQpO1xuICB9XG5cbiAgZ2V0UGFnZUZsb2F0TGF5b3V0Q29udGV4dChcbiAgICBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UsXG4gICk6IFBhZ2VGbG9hdExheW91dENvbnRleHQge1xuICAgIGlmIChmbG9hdFJlZmVyZW5jZSA9PT0gdGhpcy5mbG9hdFJlZmVyZW5jZSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmdldFBhcmVudChmbG9hdFJlZmVyZW5jZSkuZ2V0UGFnZUZsb2F0TGF5b3V0Q29udGV4dChcbiAgICAgIGZsb2F0UmVmZXJlbmNlLFxuICAgICk7XG4gIH1cblxuICBmaW5kUGFnZUZsb2F0QnlOb2RlUG9zaXRpb24oXG4gICAgbm9kZVBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24sXG4gICk6IFBhZ2VGbG9hdCB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmZsb2F0U3RvcmUuZmluZFBhZ2VGbG9hdEJ5Tm9kZVBvc2l0aW9uKG5vZGVQb3NpdGlvbik7XG4gIH1cblxuICBwcml2YXRlIGZvcmJpZChmbG9hdDogUGFnZUZsb2F0KSB7XG4gICAgY29uc3QgaWQgPSBmbG9hdC5nZXRJZCgpO1xuICAgIGNvbnN0IGZsb2F0UmVmZXJlbmNlID0gZmxvYXQuZmxvYXRSZWZlcmVuY2U7XG4gICAgaWYgKGZsb2F0UmVmZXJlbmNlID09PSB0aGlzLmZsb2F0UmVmZXJlbmNlKSB7XG4gICAgICBpZiAoIXRoaXMuZm9yYmlkZGVuRmxvYXRzLmluY2x1ZGVzKGlkKSkge1xuICAgICAgICB0aGlzLmZvcmJpZGRlbkZsb2F0cy5wdXNoKGlkKTtcbiAgICAgICAgY29uc3Qgc3RyYXRlZ3kgPSBuZXcgUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3lSZXNvbHZlcigpLmZpbmRCeUZsb2F0KFxuICAgICAgICAgIGZsb2F0LFxuICAgICAgICApO1xuICAgICAgICBzdHJhdGVneS5mb3JiaWQoZmxvYXQsIHRoaXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmdldFBhcmVudChmbG9hdFJlZmVyZW5jZSk7XG4gICAgICBwYXJlbnQuZm9yYmlkKGZsb2F0KTtcbiAgICB9XG4gIH1cblxuICBpc0ZvcmJpZGRlbihmbG9hdDogUGFnZUZsb2F0KTogYm9vbGVhbiB7XG4gICAgY29uc3QgaWQgPSBmbG9hdC5nZXRJZCgpO1xuICAgIGNvbnN0IGZsb2F0UmVmZXJlbmNlID0gZmxvYXQuZmxvYXRSZWZlcmVuY2U7XG4gICAgaWYgKGZsb2F0UmVmZXJlbmNlID09PSB0aGlzLmZsb2F0UmVmZXJlbmNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5mb3JiaWRkZW5GbG9hdHMuaW5jbHVkZXMoaWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmdldFBhcmVudChmbG9hdFJlZmVyZW5jZSk7XG4gICAgICByZXR1cm4gcGFyZW50LmlzRm9yYmlkZGVuKGZsb2F0KTtcbiAgICB9XG4gIH1cblxuICBhZGRQYWdlRmxvYXRGcmFnbWVudChcbiAgICBmbG9hdEZyYWdtZW50OiBQYWdlRmxvYXRGcmFnbWVudCxcbiAgICBkb250SW52YWxpZGF0ZT86IGJvb2xlYW4sXG4gICkge1xuICAgIGNvbnN0IGZsb2F0UmVmZXJlbmNlID0gZmxvYXRGcmFnbWVudC5mbG9hdFJlZmVyZW5jZTtcbiAgICBpZiAoZmxvYXRSZWZlcmVuY2UgIT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KGZsb2F0UmVmZXJlbmNlKTtcbiAgICAgIHBhcmVudC5hZGRQYWdlRmxvYXRGcmFnbWVudChmbG9hdEZyYWdtZW50LCBkb250SW52YWxpZGF0ZSk7XG4gICAgfSBlbHNlIGlmICghdGhpcy5mbG9hdEZyYWdtZW50cy5pbmNsdWRlcyhmbG9hdEZyYWdtZW50KSkge1xuICAgICAgdGhpcy5mbG9hdEZyYWdtZW50cy5wdXNoKGZsb2F0RnJhZ21lbnQpO1xuICAgICAgdGhpcy5mbG9hdEZyYWdtZW50cy5zb3J0KChmcjEsIGZyMikgPT4gZnIxLmdldE9yZGVyKCkgLSBmcjIuZ2V0T3JkZXIoKSk7XG4gICAgfVxuICAgIGlmICghZG9udEludmFsaWRhdGUpIHtcbiAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZVBhZ2VGbG9hdEZyYWdtZW50KFxuICAgIGZsb2F0RnJhZ21lbnQ6IFBhZ2VGbG9hdEZyYWdtZW50LFxuICAgIGRvbnRJbnZhbGlkYXRlPzogYm9vbGVhbixcbiAgKSB7XG4gICAgY29uc3QgZmxvYXRSZWZlcmVuY2UgPSBmbG9hdEZyYWdtZW50LmZsb2F0UmVmZXJlbmNlO1xuICAgIGlmIChmbG9hdFJlZmVyZW5jZSAhPT0gdGhpcy5mbG9hdFJlZmVyZW5jZSkge1xuICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoZmxvYXRSZWZlcmVuY2UpO1xuICAgICAgcGFyZW50LnJlbW92ZVBhZ2VGbG9hdEZyYWdtZW50KGZsb2F0RnJhZ21lbnQsIGRvbnRJbnZhbGlkYXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmZsb2F0RnJhZ21lbnRzLmluZGV4T2YoZmxvYXRGcmFnbWVudCk7XG4gICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICBjb25zdCBmcmFnbWVudCA9IHRoaXMuZmxvYXRGcmFnbWVudHMuc3BsaWNlKGluZGV4LCAxKVswXTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGZyYWdtZW50LmFyZWEgJiYgZnJhZ21lbnQuYXJlYS5lbGVtZW50O1xuICAgICAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkb250SW52YWxpZGF0ZSkge1xuICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZmluZFBhZ2VGbG9hdEZyYWdtZW50KGZsb2F0OiBQYWdlRmxvYXQpOiBQYWdlRmxvYXRGcmFnbWVudCB8IG51bGwge1xuICAgIGlmIChmbG9hdC5mbG9hdFJlZmVyZW5jZSAhPT0gdGhpcy5mbG9hdFJlZmVyZW5jZSkge1xuICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoZmxvYXQuZmxvYXRSZWZlcmVuY2UpO1xuICAgICAgcmV0dXJuIHBhcmVudC5maW5kUGFnZUZsb2F0RnJhZ21lbnQoZmxvYXQpO1xuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZmxvYXRGcmFnbWVudHMuZmluZEluZGV4KChmKSA9PiBmLmhhc0Zsb2F0KGZsb2F0KSk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHJldHVybiB0aGlzLmZsb2F0RnJhZ21lbnRzW2luZGV4XTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgaGFzRmxvYXRGcmFnbWVudHMoY29uZGl0aW9uPzogKHAxOiBQYWdlRmxvYXRGcmFnbWVudCkgPT4gYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmZsb2F0RnJhZ21lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmICghY29uZGl0aW9uIHx8IHRoaXMuZmxvYXRGcmFnbWVudHMuc29tZShjb25kaXRpb24pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhcmVudC5oYXNGbG9hdEZyYWdtZW50cyhjb25kaXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaGFzQ29udGludWluZ0Zsb2F0RnJhZ21lbnRzSW5GbG93KGZsb3dOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5oYXNGbG9hdEZyYWdtZW50cyhcbiAgICAgIChmcmFnbWVudCkgPT4gZnJhZ21lbnQuY29udGludWVzICYmIGZyYWdtZW50LmdldEZsb3dOYW1lKCkgPT09IGZsb3dOYW1lLFxuICAgICk7XG4gIH1cblxuICByZWdpc3RlclBhZ2VGbG9hdEFuY2hvcihmbG9hdDogUGFnZUZsb2F0LCBhbmNob3JWaWV3Tm9kZTogTm9kZSkge1xuICAgIHRoaXMuZmxvYXRBbmNob3JzW2Zsb2F0LmdldElkKCldID0gYW5jaG9yVmlld05vZGU7XG4gIH1cblxuICBjb2xsZWN0UGFnZUZsb2F0QW5jaG9ycygpIHtcbiAgICBjb25zdCBhbmNob3JzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5mbG9hdEFuY2hvcnMpO1xuICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLnJlZHVjZShcbiAgICAgIChwcmV2LCBjaGlsZCkgPT4gT2JqZWN0LmFzc2lnbihwcmV2LCBjaGlsZC5jb2xsZWN0UGFnZUZsb2F0QW5jaG9ycygpKSxcbiAgICAgIGFuY2hvcnMsXG4gICAgKTtcbiAgfVxuXG4gIGlzQW5jaG9yQWxyZWFkeUFwcGVhcmVkKGZsb2F0SWQ6IFBhZ2VGbG9hdElEKSB7XG4gICAgY29uc3QgZGVmZXJyZWRGbG9hdHMgPSB0aGlzLmdldERlZmVycmVkUGFnZUZsb2F0Q29udGludWF0aW9ucygpO1xuICAgIGlmIChkZWZlcnJlZEZsb2F0cy5zb21lKChjb250KSA9PiBjb250LmZsb2F0LmdldElkKCkgPT09IGZsb2F0SWQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgZmxvYXRBbmNob3JzID0gdGhpcy5jb2xsZWN0UGFnZUZsb2F0QW5jaG9ycygpO1xuICAgIGNvbnN0IGFuY2hvclZpZXdOb2RlID0gZmxvYXRBbmNob3JzW2Zsb2F0SWRdO1xuICAgIGlmICghYW5jaG9yVmlld05vZGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY29udGFpbmVyICYmIHRoaXMuY29udGFpbmVyLmVsZW1lbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5lbGVtZW50LmNvbnRhaW5zKGFuY2hvclZpZXdOb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZGVmZXJQYWdlRmxvYXQoY29udGludWF0aW9uOiBQYWdlRmxvYXRDb250aW51YXRpb24pIHtcbiAgICBjb25zdCBmbG9hdCA9IGNvbnRpbnVhdGlvbi5mbG9hdDtcbiAgICBpZiAoZmxvYXQuZmxvYXRSZWZlcmVuY2UgPT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5mbG9hdHNEZWZlcnJlZFRvTmV4dC5maW5kSW5kZXgoXG4gICAgICAgIChjKSA9PiBjLmZsb2F0ID09PSBmbG9hdCxcbiAgICAgICk7XG4gICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICB0aGlzLmZsb2F0c0RlZmVycmVkVG9OZXh0LnNwbGljZShpbmRleCwgMSwgY29udGludWF0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZmxvYXRzRGVmZXJyZWRUb05leHQucHVzaChjb250aW51YXRpb24pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmdldFBhcmVudChmbG9hdC5mbG9hdFJlZmVyZW5jZSk7XG4gICAgICBwYXJlbnQuZGVmZXJQYWdlRmxvYXQoY29udGludWF0aW9uKTtcbiAgICB9XG4gIH1cblxuICBoYXNQcmVjZWRpbmdGbG9hdHNEZWZlcnJlZFRvTmV4dChcbiAgICBmbG9hdDogUGFnZUZsb2F0LFxuICAgIGlnbm9yZVJlZmVyZW5jZT86IGJvb2xlYW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIGlmICghaWdub3JlUmVmZXJlbmNlICYmIGZsb2F0LmZsb2F0UmVmZXJlbmNlICE9PSB0aGlzLmZsb2F0UmVmZXJlbmNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRQYXJlbnQoXG4gICAgICAgIGZsb2F0LmZsb2F0UmVmZXJlbmNlLFxuICAgICAgKS5oYXNQcmVjZWRpbmdGbG9hdHNEZWZlcnJlZFRvTmV4dChmbG9hdCwgZmFsc2UpO1xuICAgIH1cbiAgICBjb25zdCBvcmRlciA9IGZsb2F0LmdldE9yZGVyKCk7XG4gICAgY29uc3QgaGFzUHJlY2VkaW5nRmxvYXRzRGVmZXJyZWRUb05leHQgPSB0aGlzLmZsb2F0c0RlZmVycmVkVG9OZXh0LnNvbWUoXG4gICAgICAoYykgPT4gYy5mbG9hdC5nZXRPcmRlcigpIDwgb3JkZXIgJiYgIWZsb2F0LmlzQWxsb3dlZFRvUHJlY2VkZShjLmZsb2F0KSxcbiAgICApO1xuICAgIGlmIChoYXNQcmVjZWRpbmdGbG9hdHNEZWZlcnJlZFRvTmV4dCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgcmV0dXJuIHRoaXMucGFyZW50Lmhhc1ByZWNlZGluZ0Zsb2F0c0RlZmVycmVkVG9OZXh0KGZsb2F0LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGdldExhc3RGb2xsb3dpbmdGbG9hdEluRnJhZ21lbnRzKGZsb2F0OiBQYWdlRmxvYXQpOiBQYWdlRmxvYXQgfCBudWxsIHtcbiAgICBjb25zdCBvcmRlciA9IGZsb2F0LmdldE9yZGVyKCk7XG4gICAgbGV0IGxhc3RGb2xsb3dpbmc6IFBhZ2VGbG9hdCA9IG51bGw7XG4gICAgdGhpcy5mbG9hdEZyYWdtZW50cy5mb3JFYWNoKChmcmFnbWVudCkgPT4ge1xuICAgICAgZnJhZ21lbnQuY29udGludWF0aW9ucy5mb3JFYWNoKChjKSA9PiB7XG4gICAgICAgIGNvbnN0IGYgPSBjLmZsb2F0O1xuICAgICAgICBjb25zdCBvID0gZi5nZXRPcmRlcigpO1xuICAgICAgICBpZiAobyA+IG9yZGVyICYmICghbGFzdEZvbGxvd2luZyB8fCBvID4gbGFzdEZvbGxvd2luZy5nZXRPcmRlcigpKSkge1xuICAgICAgICAgIGxhc3RGb2xsb3dpbmcgPSBmO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgIGNvbnN0IGxhc3RGb2xsb3dpbmdPZlBhcmVudCA9IHRoaXMucGFyZW50LmdldExhc3RGb2xsb3dpbmdGbG9hdEluRnJhZ21lbnRzKFxuICAgICAgICBmbG9hdCxcbiAgICAgICk7XG4gICAgICBpZiAoXG4gICAgICAgIGxhc3RGb2xsb3dpbmdPZlBhcmVudCAmJlxuICAgICAgICAoIWxhc3RGb2xsb3dpbmcgfHxcbiAgICAgICAgICBsYXN0Rm9sbG93aW5nT2ZQYXJlbnQuZ2V0T3JkZXIoKSA+IGxhc3RGb2xsb3dpbmcuZ2V0T3JkZXIoKSlcbiAgICAgICkge1xuICAgICAgICBsYXN0Rm9sbG93aW5nID0gbGFzdEZvbGxvd2luZ09mUGFyZW50O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGFzdEZvbGxvd2luZztcbiAgfVxuXG4gIGdldERlZmVycmVkUGFnZUZsb2F0Q29udGludWF0aW9ucyhcbiAgICBmbG93TmFtZT86IHN0cmluZyB8IG51bGwsXG4gICk6IFBhZ2VGbG9hdENvbnRpbnVhdGlvbltdIHtcbiAgICBmbG93TmFtZSA9IGZsb3dOYW1lIHx8IHRoaXMuZmxvd05hbWU7XG4gICAgbGV0IHJlc3VsdCA9IHRoaXMuZmxvYXRzRGVmZXJyZWRGcm9tUHJldmlvdXMuZmlsdGVyKFxuICAgICAgKGNvbnQpID0+ICFmbG93TmFtZSB8fCBjb250LmZsb2F0LmZsb3dOYW1lID09PSBmbG93TmFtZSxcbiAgICApO1xuICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgcmVzdWx0ID0gdGhpcy5wYXJlbnRcbiAgICAgICAgLmdldERlZmVycmVkUGFnZUZsb2F0Q29udGludWF0aW9ucyhmbG93TmFtZSlcbiAgICAgICAgLmNvbmNhdChyZXN1bHQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LnNvcnQoKGMxLCBjMikgPT4gYzEuZmxvYXQuZ2V0T3JkZXIoKSAtIGMyLmZsb2F0LmdldE9yZGVyKCkpO1xuICB9XG5cbiAgZ2V0UGFnZUZsb2F0Q29udGludWF0aW9uc0RlZmVycmVkVG9OZXh0KFxuICAgIGZsb3dOYW1lPzogc3RyaW5nIHwgbnVsbCxcbiAgKTogUGFnZUZsb2F0Q29udGludWF0aW9uW10ge1xuICAgIGZsb3dOYW1lID0gZmxvd05hbWUgfHwgdGhpcy5mbG93TmFtZTtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmZsb2F0c0RlZmVycmVkVG9OZXh0LmZpbHRlcihcbiAgICAgIChjb250KSA9PiAhZmxvd05hbWUgfHwgY29udC5mbG9hdC5mbG93TmFtZSA9PT0gZmxvd05hbWUsXG4gICAgKTtcbiAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhcmVudFxuICAgICAgICAuZ2V0UGFnZUZsb2F0Q29udGludWF0aW9uc0RlZmVycmVkVG9OZXh0KGZsb3dOYW1lKVxuICAgICAgICAuY29uY2F0KHJlc3VsdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG5cbiAgZ2V0RmxvYXRzRGVmZXJyZWRUb05leHRJbkNoaWxkQ29udGV4dHMoKTogUGFnZUZsb2F0W10ge1xuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBjb25zdCBkb25lID0gW107XG4gICAgZm9yIChsZXQgaSA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgIGlmIChkb25lLmluY2x1ZGVzKGNoaWxkLmZsb3dOYW1lKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGRvbmUucHVzaChjaGlsZC5mbG93TmFtZSk7XG4gICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KGNoaWxkLmZsb2F0c0RlZmVycmVkVG9OZXh0Lm1hcCgoYykgPT4gYy5mbG9hdCkpO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChjaGlsZC5nZXRGbG9hdHNEZWZlcnJlZFRvTmV4dEluQ2hpbGRDb250ZXh0cygpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGNoZWNrQW5kRm9yYmlkTm90QWxsb3dlZEZsb2F0KCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmNoZWNrQW5kRm9yYmlkRmxvYXRGb2xsb3dpbmdEZWZlcnJlZEZsb2F0KCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gdGhpcy5mbG9hdEZyYWdtZW50cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3QgZnJhZ21lbnQgPSB0aGlzLmZsb2F0RnJhZ21lbnRzW2ldO1xuICAgICAgY29uc3Qgbm90QWxsb3dlZEZsb2F0ID0gZnJhZ21lbnQuZmluZE5vdEFsbG93ZWRGbG9hdCh0aGlzKTtcbiAgICAgIGlmIChub3RBbGxvd2VkRmxvYXQpIHtcbiAgICAgICAgaWYgKHRoaXMubG9ja2VkKSB7XG4gICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVQYWdlRmxvYXRGcmFnbWVudChmcmFnbWVudCk7XG4gICAgICAgICAgdGhpcy5mb3JiaWQobm90QWxsb3dlZEZsb2F0KTtcblxuICAgICAgICAgIC8vIElmIHRoZSByZW1vdmVkIGZsb2F0IGlzIGEgYmxvY2stZW5kL2lubGluZS1lbmQgZmxvYXQsXG4gICAgICAgICAgLy8gd2Ugc2hvdWxkIHJlLWxheW91dCBwcmVjZWRpbmcgZmxvYXRzIHdpdGggdGhlIHNhbWUgZmxvYXQgZGlyZWN0aW9uLlxuICAgICAgICAgIHRoaXMucmVtb3ZlRW5kRmxvYXRGcmFnbWVudHMoZnJhZ21lbnQuZmxvYXRTaWRlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuZmxvYXRSZWZlcmVuY2UgPT09IEZsb2F0UmVmZXJlbmNlLlJFR0lPTiAmJiB0aGlzLnBhcmVudC5sb2NrZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhcmVudC5jaGVja0FuZEZvcmJpZE5vdEFsbG93ZWRGbG9hdCgpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjaGVja0FuZEZvcmJpZEZsb2F0Rm9sbG93aW5nRGVmZXJyZWRGbG9hdCgpOiBib29sZWFuIHtcbiAgICBjb25zdCBkZWZlcnJlZEZsb2F0cyA9IHRoaXMuZ2V0RmxvYXRzRGVmZXJyZWRUb05leHRJbkNoaWxkQ29udGV4dHMoKTtcbiAgICBjb25zdCBmbG9hdHNJbkZyYWdtZW50cyA9IHRoaXMuZmxvYXRGcmFnbWVudHMucmVkdWNlKFxuICAgICAgKHIsIGZyKSA9PiByLmNvbmNhdChmci5jb250aW51YXRpb25zLm1hcCgoYykgPT4gYy5mbG9hdCkpLFxuICAgICAgW10sXG4gICAgKTtcbiAgICBmbG9hdHNJbkZyYWdtZW50cy5zb3J0KChmMSwgZjIpID0+IGYyLmdldE9yZGVyKCkgLSBmMS5nZXRPcmRlcigpKTtcbiAgICBmb3IgKGNvbnN0IGZsb2F0IG9mIGZsb2F0c0luRnJhZ21lbnRzKSB7XG4gICAgICBjb25zdCBvcmRlciA9IGZsb2F0LmdldE9yZGVyKCk7XG4gICAgICBpZiAoXG4gICAgICAgIGRlZmVycmVkRmxvYXRzLnNvbWUoXG4gICAgICAgICAgKGQpID0+ICFmbG9hdC5pc0FsbG93ZWRUb1ByZWNlZGUoZCkgJiYgb3JkZXIgPiBkLmdldE9yZGVyKCksXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICBpZiAodGhpcy5sb2NrZWQpIHtcbiAgICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmZvcmJpZChmbG9hdCk7XG4gICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSB0aGlzLmZpbmRQYWdlRmxvYXRGcmFnbWVudChmbG9hdCk7XG4gICAgICAgICAgQXNzZXJ0cy5hc3NlcnQoZnJhZ21lbnQpO1xuICAgICAgICAgIHRoaXMucmVtb3ZlUGFnZUZsb2F0RnJhZ21lbnQoZnJhZ21lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmaW5pc2goKSB7XG4gICAgaWYgKHRoaXMuY2hlY2tBbmRGb3JiaWROb3RBbGxvd2VkRmxvYXQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gdGhpcy5mbG9hdHNEZWZlcnJlZFRvTmV4dC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3QgY29udGludWF0aW9uID0gdGhpcy5mbG9hdHNEZWZlcnJlZFRvTmV4dFtpXTtcbiAgICAgIGlmICghY29udGludWF0aW9uLmZsb2F0LmlzQWxsb3dlZE9uQ29udGV4dCh0aGlzKSkge1xuICAgICAgICBpZiAodGhpcy5sb2NrZWQpIHtcbiAgICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mbG9hdHNEZWZlcnJlZFRvTmV4dC5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZmxvYXRzRGVmZXJyZWRGcm9tUHJldmlvdXMuZm9yRWFjaCgoY29udGludWF0aW9uKSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuZmxvYXRzRGVmZXJyZWRUb05leHQuZmluZEluZGV4KChjKSA9PiBjb250aW51YXRpb24uZXF1YWxzKGMpKSA+PSAwXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZmxvYXRGcmFnbWVudHMuc29tZSgoZikgPT4gZi5oYXNGbG9hdChjb250aW51YXRpb24uZmxvYXQpKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmZsb2F0c0RlZmVycmVkVG9OZXh0LnB1c2goY29udGludWF0aW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIGhhc1NhbWVDb250YWluZXJBcyhvdGhlcjogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICAhIXRoaXMuY29udGFpbmVyICYmXG4gICAgICAhIW90aGVyLmNvbnRhaW5lciAmJlxuICAgICAgdGhpcy5jb250YWluZXIuZWxlbWVudCA9PT0gb3RoZXIuY29udGFpbmVyLmVsZW1lbnRcbiAgICApO1xuICB9XG5cbiAgaW52YWxpZGF0ZSgpIHtcbiAgICB0aGlzLmludmFsaWRhdGVkID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5sb2NrZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuY29udGFpbmVyKSB7XG4gICAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgIC8vIFNpbmNlIHRoZSBzYW1lIGNvbnRhaW5lciBlbGVtZW50IGlzIHNoYXJlZCBieSBhIHJlZ2lvbiBwYWdlIGZsb2F0XG4gICAgICAgIC8vIGxheW91dCBjb250ZXh0IGFuZCBhIGNvbHVtbiBwYWdlIGZsb2F0IGxheW91dCBjb250ZXh0IGluIGEgc2luZ2xlXG4gICAgICAgIC8vIGNvbHVtbiByZWdpb24sIHZpZXcgZWxlbWVudHMgb2YgZmxvYXQgZnJhZ21lbnRzIG9mIHRoZSBjaGlsZCAoY29sdW1uKVxuICAgICAgICAvLyBjb250ZXh0IG5lZWQgdG8gYmUgcmVtb3ZlZCBoZXJlLlxuICAgICAgICBpZiAodGhpcy5oYXNTYW1lQ29udGFpbmVyQXMoY2hpbGQpKSB7XG4gICAgICAgICAgY2hpbGQuZmxvYXRGcmFnbWVudHMuZm9yRWFjaCgoZnJhZ21lbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW0gPSBmcmFnbWVudC5hcmVhLmVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoZWxlbSAmJiBlbGVtLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgZWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuY29udGFpbmVyLmNsZWFyKCk7XG4gICAgfVxuICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgIGNoaWxkLmxheW91dENvbnN0cmFpbnRzLnNwbGljZSgwKTtcbiAgICB9KTtcbiAgICB0aGlzLmNoaWxkcmVuLnNwbGljZSgwKTtcbiAgICBPYmplY3Qua2V5cyh0aGlzLmZsb2F0QW5jaG9ycykuZm9yRWFjaCgoaykgPT4ge1xuICAgICAgZGVsZXRlIHRoaXMuZmxvYXRBbmNob3JzW2tdO1xuICAgIH0pO1xuICB9XG5cbiAgZGV0YWNoQ2hpbGRyZW4oKTogUGFnZUZsb2F0TGF5b3V0Q29udGV4dFtdIHtcbiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW4uc3BsaWNlKDApO1xuICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICBjaGlsZC5mbG9hdEZyYWdtZW50cy5mb3JFYWNoKChmcmFnbWVudCkgPT4ge1xuICAgICAgICBjb25zdCBlbGVtID0gZnJhZ21lbnQuYXJlYS5lbGVtZW50O1xuICAgICAgICBpZiAoZWxlbSAmJiBlbGVtLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBlbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuXG4gIGF0dGFjaENoaWxkcmVuKGNoaWxkcmVuOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0W10pIHtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgIGNoaWxkLnJlYXR0YWNoRmxvYXRGcmFnbWVudHMoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlzSW52YWxpZGF0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW52YWxpZGF0ZWQgfHwgKCEhdGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQuaXNJbnZhbGlkYXRlZCgpKTtcbiAgfVxuXG4gIHZhbGlkYXRlKCkge1xuICAgIHRoaXMuaW52YWxpZGF0ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgdG9Mb2dpY2FsKHNpZGU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3Qgd3JpdGluZ01vZGUgPSB0aGlzLndyaXRpbmdNb2RlLnRvU3RyaW5nKCk7XG4gICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb24udG9TdHJpbmcoKTtcbiAgICByZXR1cm4gQ3NzTG9naWNhbFV0aWwudG9Mb2dpY2FsKHNpZGUsIHdyaXRpbmdNb2RlLCBkaXJlY3Rpb24pO1xuICB9XG5cbiAgcHJpdmF0ZSB0b1BoeXNpY2FsKHNpZGU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3Qgd3JpdGluZ01vZGUgPSB0aGlzLndyaXRpbmdNb2RlLnRvU3RyaW5nKCk7XG4gICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb24udG9TdHJpbmcoKTtcbiAgICByZXR1cm4gQ3NzTG9naWNhbFV0aWwudG9QaHlzaWNhbChzaWRlLCB3cml0aW5nTW9kZSwgZGlyZWN0aW9uKTtcbiAgfVxuXG4gIHJlbW92ZUVuZEZsb2F0RnJhZ21lbnRzKGZsb2F0U2lkZTogc3RyaW5nKSB7XG4gICAgY29uc3QgbG9naWNhbEZsb2F0U2lkZSA9IHRoaXMudG9Mb2dpY2FsKGZsb2F0U2lkZSk7XG4gICAgaWYgKGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwiYmxvY2stZW5kXCIgfHwgbG9naWNhbEZsb2F0U2lkZSA9PT0gXCJpbmxpbmUtZW5kXCIpIHtcbiAgICAgIGxldCBpID0gMDtcbiAgICAgIHdoaWxlIChpIDwgdGhpcy5mbG9hdEZyYWdtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSB0aGlzLmZsb2F0RnJhZ21lbnRzW2ldO1xuICAgICAgICBjb25zdCBsb2dpY2FsRmxvYXRTaWRlMiA9IHRoaXMudG9Mb2dpY2FsKGZyYWdtZW50LmZsb2F0U2lkZSk7XG4gICAgICAgIGlmIChsb2dpY2FsRmxvYXRTaWRlMiA9PT0gbG9naWNhbEZsb2F0U2lkZSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlUGFnZUZsb2F0RnJhZ21lbnQoZnJhZ21lbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXNoRW5kRmxvYXRGcmFnbWVudHMoZmxvYXQ6IFBhZ2VGbG9hdCkge1xuICAgIGNvbnN0IGZsb2F0UmVmZXJlbmNlID0gZmxvYXQuZmxvYXRSZWZlcmVuY2U7XG4gICAgaWYgKGZsb2F0UmVmZXJlbmNlICE9PSB0aGlzLmZsb2F0UmVmZXJlbmNlKSB7XG4gICAgICB0aGlzLmdldFBhcmVudChmbG9hdFJlZmVyZW5jZSkuc3Rhc2hFbmRGbG9hdEZyYWdtZW50cyhmbG9hdCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGxvZ2ljYWxGbG9hdFNpZGUgPSB0aGlzLnRvTG9naWNhbChmbG9hdC5mbG9hdFNpZGUpO1xuICAgIGlmIChcbiAgICAgIGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwiYmxvY2stZW5kXCIgfHxcbiAgICAgIGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwic25hcC1ibG9ja1wiIHx8XG4gICAgICBsb2dpY2FsRmxvYXRTaWRlID09PSBcImlubGluZS1lbmRcIlxuICAgICkge1xuICAgICAgbGV0IGkgPSAwO1xuICAgICAgd2hpbGUgKGkgPCB0aGlzLmZsb2F0RnJhZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBmcmFnbWVudCA9IHRoaXMuZmxvYXRGcmFnbWVudHNbaV07XG4gICAgICAgIGNvbnN0IGZyYWdtZW50RmxvYXRTaWRlID0gdGhpcy50b0xvZ2ljYWwoZnJhZ21lbnQuZmxvYXRTaWRlKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChmcmFnbWVudEZsb2F0U2lkZSA9PT0gbG9naWNhbEZsb2F0U2lkZSB8fFxuICAgICAgICAgICAgKGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwic25hcC1ibG9ja1wiICYmXG4gICAgICAgICAgICAgIGZyYWdtZW50RmxvYXRTaWRlID09PSBcImJsb2NrLWVuZFwiKSkgJiZcbiAgICAgICAgICBmcmFnbWVudC5zaG91bGRCZVN0YXNoZWRCZWZvcmUoZmxvYXQpXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuc3Rhc2hlZEZsb2F0RnJhZ21lbnRzLnB1c2goZnJhZ21lbnQpO1xuICAgICAgICAgIHRoaXMuZmxvYXRGcmFnbWVudHMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJlc3RvcmVTdGFzaGVkRnJhZ21lbnRzKGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSkge1xuICAgIGlmIChmbG9hdFJlZmVyZW5jZSAhPT0gdGhpcy5mbG9hdFJlZmVyZW5jZSkge1xuICAgICAgdGhpcy5nZXRQYXJlbnQoZmxvYXRSZWZlcmVuY2UpLnJlc3RvcmVTdGFzaGVkRnJhZ21lbnRzKGZsb2F0UmVmZXJlbmNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zdGFzaGVkRmxvYXRGcmFnbWVudHMuZm9yRWFjaCgoc3Rhc2hlZCkgPT4ge1xuICAgICAgdGhpcy5hZGRQYWdlRmxvYXRGcmFnbWVudChzdGFzaGVkLCB0cnVlKTtcbiAgICB9KTtcbiAgICB0aGlzLnN0YXNoZWRGbG9hdEZyYWdtZW50cy5zcGxpY2UoMCk7XG4gIH1cblxuICBkaXNjYXJkU3Rhc2hlZEZyYWdtZW50cyhmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UpIHtcbiAgICBpZiAoZmxvYXRSZWZlcmVuY2UgIT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIHRoaXMuZ2V0UGFyZW50KGZsb2F0UmVmZXJlbmNlKS5kaXNjYXJkU3Rhc2hlZEZyYWdtZW50cyhmbG9hdFJlZmVyZW5jZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc3Rhc2hlZEZsb2F0RnJhZ21lbnRzLnNwbGljZSgwKTtcbiAgfVxuXG4gIGdldFN0YXNoZWRGbG9hdEZyYWdtZW50cyhcbiAgICBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UsXG4gICk6IFBhZ2VGbG9hdEZyYWdtZW50W10ge1xuICAgIGlmIChmbG9hdFJlZmVyZW5jZSA9PT0gdGhpcy5mbG9hdFJlZmVyZW5jZSkge1xuICAgICAgcmV0dXJuIHRoaXMuc3Rhc2hlZEZsb2F0RnJhZ21lbnRzXG4gICAgICAgIC5jb25jYXQoKVxuICAgICAgICAuc29ydCgoZnIxLCBmcjIpID0+IGZyMi5nZXRPcmRlcigpIC0gZnIxLmdldE9yZGVyKCkpOyAvLyByZXR1cm4gaW4gcmV2ZXJzZSBvcmRlclxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRQYXJlbnQoZmxvYXRSZWZlcmVuY2UpLmdldFN0YXNoZWRGbG9hdEZyYWdtZW50cyhcbiAgICAgICAgZmxvYXRSZWZlcmVuY2UsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0TGltaXRWYWx1ZShcbiAgICBzaWRlOiBzdHJpbmcsXG4gICAgbGF5b3V0Q29udGV4dDogVnRyZWUuTGF5b3V0Q29udGV4dCxcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgICBjb25kaXRpb24/OiAocDE6IFBhZ2VGbG9hdEZyYWdtZW50LCBwMjogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCkgPT4gYm9vbGVhbixcbiAgKTogbnVtYmVyIHtcbiAgICBBc3NlcnRzLmFzc2VydCh0aGlzLmNvbnRhaW5lcik7XG4gICAgY29uc3QgbG9naWNhbFNpZGUgPSB0aGlzLnRvTG9naWNhbChzaWRlKTtcbiAgICBjb25zdCBwaHlzaWNhbFNpZGUgPSB0aGlzLnRvUGh5c2ljYWwoc2lkZSk7XG4gICAgY29uc3QgbGltaXQgPSB0aGlzLmdldExpbWl0VmFsdWVJbm5lcihcbiAgICAgIGxvZ2ljYWxTaWRlLFxuICAgICAgbGF5b3V0Q29udGV4dCxcbiAgICAgIGNsaWVudExheW91dCxcbiAgICAgIGNvbmRpdGlvbixcbiAgICApO1xuICAgIGlmICh0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5jb250YWluZXIpIHtcbiAgICAgIGNvbnN0IHBhcmVudExpbWl0ID0gdGhpcy5wYXJlbnQuZ2V0TGltaXRWYWx1ZShcbiAgICAgICAgcGh5c2ljYWxTaWRlLFxuICAgICAgICBsYXlvdXRDb250ZXh0LFxuICAgICAgICBjbGllbnRMYXlvdXQsXG4gICAgICAgIGNvbmRpdGlvbixcbiAgICAgICk7XG4gICAgICBzd2l0Y2ggKHBoeXNpY2FsU2lkZSkge1xuICAgICAgICBjYXNlIFwidG9wXCI6XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWF4KGxpbWl0LCBwYXJlbnRMaW1pdCk7XG4gICAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWF4KGxpbWl0LCBwYXJlbnRMaW1pdCk7XG4gICAgICAgIGNhc2UgXCJib3R0b21cIjpcbiAgICAgICAgICByZXR1cm4gTWF0aC5taW4obGltaXQsIHBhcmVudExpbWl0KTtcbiAgICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWluKGxpbWl0LCBwYXJlbnRMaW1pdCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgQXNzZXJ0cy5mYWlsKFwiU2hvdWxkIGJlIHVucmVhY2hhYmxlXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGltaXQ7XG4gIH1cblxuICBwcml2YXRlIGdldExpbWl0VmFsdWVJbm5lcihcbiAgICBsb2dpY2FsU2lkZTogc3RyaW5nLFxuICAgIGxheW91dENvbnRleHQ6IFZ0cmVlLkxheW91dENvbnRleHQsXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICAgY29uZGl0aW9uPzogKHAxOiBQYWdlRmxvYXRGcmFnbWVudCwgcDI6IFBhZ2VGbG9hdExheW91dENvbnRleHQpID0+IGJvb2xlYW4sXG4gICk6IG51bWJlciB7XG4gICAgQXNzZXJ0cy5hc3NlcnQodGhpcy5jb250YWluZXIpO1xuICAgIGNvbnN0IGxpbWl0cyA9IHRoaXMuZ2V0TGltaXRWYWx1ZXNJbm5lcihcbiAgICAgIGxheW91dENvbnRleHQsXG4gICAgICBjbGllbnRMYXlvdXQsXG4gICAgICBjb25kaXRpb24sXG4gICAgKTtcbiAgICBzd2l0Y2ggKGxvZ2ljYWxTaWRlKSB7XG4gICAgICBjYXNlIFwiYmxvY2stc3RhcnRcIjpcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLnZlcnRpY2FsID8gbGltaXRzLnJpZ2h0IDogbGltaXRzLnRvcDtcbiAgICAgIGNhc2UgXCJibG9jay1lbmRcIjpcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLnZlcnRpY2FsID8gbGltaXRzLmxlZnQgOiBsaW1pdHMuYm90dG9tO1xuICAgICAgY2FzZSBcImlubGluZS1zdGFydFwiOlxuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIudmVydGljYWwgPyBsaW1pdHMudG9wIDogbGltaXRzLmxlZnQ7XG4gICAgICBjYXNlIFwiaW5saW5lLWVuZFwiOlxuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIudmVydGljYWwgPyBsaW1pdHMuYm90dG9tIDogbGltaXRzLnJpZ2h0O1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGxvZ2ljYWwgc2lkZTogJHtsb2dpY2FsU2lkZX1gKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldExpbWl0VmFsdWVzSW5uZXIoXG4gICAgbGF5b3V0Q29udGV4dDogVnRyZWUuTGF5b3V0Q29udGV4dCxcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgICBjb25kaXRpb24/OiAocDE6IFBhZ2VGbG9hdEZyYWdtZW50LCBwMjogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCkgPT4gYm9vbGVhbixcbiAgKToge1xuICAgIHRvcDogbnVtYmVyO1xuICAgIGxlZnQ6IG51bWJlcjtcbiAgICBib3R0b206IG51bWJlcjtcbiAgICByaWdodDogbnVtYmVyO1xuICAgIGZsb2F0TWluV3JhcEJsb2NrU3RhcnQ6IG51bWJlcjtcbiAgICBmbG9hdE1pbldyYXBCbG9ja0VuZDogbnVtYmVyO1xuICB9IHtcbiAgICBBc3NlcnRzLmFzc2VydCh0aGlzLmNvbnRhaW5lcik7XG4gICAgY29uc3Qgb2Zmc2V0WCA9IHRoaXMuY29udGFpbmVyLm9yaWdpblg7XG4gICAgY29uc3Qgb2Zmc2V0WSA9IHRoaXMuY29udGFpbmVyLm9yaWdpblk7XG4gICAgY29uc3QgcGFkZGluZ1JlY3QgPSB0aGlzLmNvbnRhaW5lci5nZXRQYWRkaW5nUmVjdCgpO1xuICAgIGxldCBsaW1pdHMgPSB7XG4gICAgICB0b3A6IHBhZGRpbmdSZWN0LnkxIC0gb2Zmc2V0WSxcbiAgICAgIGxlZnQ6IHBhZGRpbmdSZWN0LngxIC0gb2Zmc2V0WCxcbiAgICAgIGJvdHRvbTogcGFkZGluZ1JlY3QueTIgLSBvZmZzZXRZLFxuICAgICAgcmlnaHQ6IHBhZGRpbmdSZWN0LngyIC0gb2Zmc2V0WCxcbiAgICAgIGZsb2F0TWluV3JhcEJsb2NrU3RhcnQ6IDAsXG4gICAgICBmbG9hdE1pbldyYXBCbG9ja0VuZDogMCxcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZUxlbmd0aFBlcmNlbnRhZ2UobnVtZXJpYywgdmlld05vZGUsIGNvbnRhaW5lckxlbmd0aCkge1xuICAgICAgaWYgKG51bWVyaWMudW5pdCA9PT0gXCIlXCIpIHtcbiAgICAgICAgcmV0dXJuIChjb250YWluZXJMZW5ndGggKiBudW1lcmljLm51bSkgLyAxMDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbGF5b3V0Q29udGV4dC5jb252ZXJ0TGVuZ3RoVG9QeChudW1lcmljLCB2aWV3Tm9kZSwgY2xpZW50TGF5b3V0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZnJhZ21lbnRzID0gdGhpcy5mbG9hdEZyYWdtZW50cztcbiAgICBpZiAoZnJhZ21lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGxpbWl0cyA9IGZyYWdtZW50cy5yZWR1Y2UoKGwsIGYpID0+IHtcbiAgICAgICAgaWYgKGNvbmRpdGlvbiAmJiAhY29uZGl0aW9uKGYsIHRoaXMpKSB7XG4gICAgICAgICAgcmV0dXJuIGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbG9naWNhbEZsb2F0U2lkZSA9IHRoaXMudG9Mb2dpY2FsKGYuZmxvYXRTaWRlKTtcbiAgICAgICAgY29uc3QgYXJlYSA9IGYuYXJlYTtcbiAgICAgICAgY29uc3QgZmxvYXRNaW5XcmFwQmxvY2sgPSBmLmNvbnRpbnVhdGlvbnNbMF0uZmxvYXQuZmxvYXRNaW5XcmFwQmxvY2s7XG4gICAgICAgIGxldCB0b3AgPSBsLnRvcDtcbiAgICAgICAgbGV0IGxlZnQgPSBsLmxlZnQ7XG4gICAgICAgIGxldCBib3R0b20gPSBsLmJvdHRvbTtcbiAgICAgICAgbGV0IHJpZ2h0ID0gbC5yaWdodDtcbiAgICAgICAgbGV0IGZsb2F0TWluV3JhcEJsb2NrU3RhcnQgPSBsLmZsb2F0TWluV3JhcEJsb2NrU3RhcnQ7XG4gICAgICAgIGxldCBmbG9hdE1pbldyYXBCbG9ja0VuZCA9IGwuZmxvYXRNaW5XcmFwQmxvY2tFbmQ7XG4gICAgICAgIHN3aXRjaCAobG9naWNhbEZsb2F0U2lkZSkge1xuICAgICAgICAgIGNhc2UgXCJpbmxpbmUtc3RhcnRcIjpcbiAgICAgICAgICAgIGlmIChhcmVhLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgIHRvcCA9IE1hdGgubWF4KHRvcCwgYXJlYS50b3AgKyBhcmVhLmhlaWdodCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsZWZ0ID0gTWF0aC5tYXgobGVmdCwgYXJlYS5sZWZ0ICsgYXJlYS53aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiYmxvY2stc3RhcnRcIjpcbiAgICAgICAgICAgIGlmIChhcmVhLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgIGlmIChmbG9hdE1pbldyYXBCbG9jayAmJiBhcmVhLmxlZnQgPCByaWdodCkge1xuICAgICAgICAgICAgICAgIGZsb2F0TWluV3JhcEJsb2NrU3RhcnQgPSByZXNvbHZlTGVuZ3RoUGVyY2VudGFnZShcbiAgICAgICAgICAgICAgICAgIGZsb2F0TWluV3JhcEJsb2NrLFxuICAgICAgICAgICAgICAgICAgKGFyZWEgYXMgYW55KS5yb290Vmlld05vZGVzWzBdLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZ1JlY3QueDIgLSBwYWRkaW5nUmVjdC54MSxcbiAgICAgICAgICAgICAgICApIGFzIG51bWJlcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByaWdodCA9IE1hdGgubWluKHJpZ2h0LCBhcmVhLmxlZnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKGZsb2F0TWluV3JhcEJsb2NrICYmIGFyZWEudG9wICsgYXJlYS5oZWlnaHQgPiB0b3ApIHtcbiAgICAgICAgICAgICAgICBmbG9hdE1pbldyYXBCbG9ja1N0YXJ0ID0gcmVzb2x2ZUxlbmd0aFBlcmNlbnRhZ2UoXG4gICAgICAgICAgICAgICAgICBmbG9hdE1pbldyYXBCbG9jayxcbiAgICAgICAgICAgICAgICAgIChhcmVhIGFzIGFueSkucm9vdFZpZXdOb2Rlc1swXSxcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmdSZWN0LnkyIC0gcGFkZGluZ1JlY3QueTEsXG4gICAgICAgICAgICAgICAgKSBhcyBudW1iZXI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdG9wID0gTWF0aC5tYXgodG9wLCBhcmVhLnRvcCArIGFyZWEuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJpbmxpbmUtZW5kXCI6XG4gICAgICAgICAgICBpZiAoYXJlYS52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICBib3R0b20gPSBNYXRoLm1pbihib3R0b20sIGFyZWEudG9wKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJpZ2h0ID0gTWF0aC5taW4ocmlnaHQsIGFyZWEubGVmdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiYmxvY2stZW5kXCI6XG4gICAgICAgICAgICBpZiAoYXJlYS52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICBpZiAoZmxvYXRNaW5XcmFwQmxvY2sgJiYgYXJlYS5sZWZ0ICsgYXJlYS53aWR0aCA+IGxlZnQpIHtcbiAgICAgICAgICAgICAgICBmbG9hdE1pbldyYXBCbG9ja0VuZCA9IHJlc29sdmVMZW5ndGhQZXJjZW50YWdlKFxuICAgICAgICAgICAgICAgICAgZmxvYXRNaW5XcmFwQmxvY2ssXG4gICAgICAgICAgICAgICAgICAoYXJlYSBhcyBhbnkpLnJvb3RWaWV3Tm9kZXNbMF0sXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nUmVjdC54MiAtIHBhZGRpbmdSZWN0LngxLFxuICAgICAgICAgICAgICAgICkgYXMgbnVtYmVyO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxlZnQgPSBNYXRoLm1heChsZWZ0LCBhcmVhLmxlZnQgKyBhcmVhLndpZHRoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChmbG9hdE1pbldyYXBCbG9jayAmJiBhcmVhLnRvcCA8IGJvdHRvbSkge1xuICAgICAgICAgICAgICAgIGZsb2F0TWluV3JhcEJsb2NrRW5kID0gcmVzb2x2ZUxlbmd0aFBlcmNlbnRhZ2UoXG4gICAgICAgICAgICAgICAgICBmbG9hdE1pbldyYXBCbG9jayxcbiAgICAgICAgICAgICAgICAgIChhcmVhIGFzIGFueSkucm9vdFZpZXdOb2Rlc1swXSxcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmdSZWN0LnkyIC0gcGFkZGluZ1JlY3QueTEsXG4gICAgICAgICAgICAgICAgKSBhcyBudW1iZXI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYm90dG9tID0gTWF0aC5taW4oYm90dG9tLCBhcmVhLnRvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGxvZ2ljYWwgZmxvYXQgc2lkZTogJHtsb2dpY2FsRmxvYXRTaWRlfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdG9wLFxuICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgYm90dG9tLFxuICAgICAgICAgIHJpZ2h0LFxuICAgICAgICAgIGZsb2F0TWluV3JhcEJsb2NrU3RhcnQsXG4gICAgICAgICAgZmxvYXRNaW5XcmFwQmxvY2tFbmQsXG4gICAgICAgIH07XG4gICAgICB9LCBsaW1pdHMpO1xuICAgIH1cbiAgICBsaW1pdHMubGVmdCArPSBvZmZzZXRYO1xuICAgIGxpbWl0cy5yaWdodCArPSBvZmZzZXRYO1xuICAgIGxpbWl0cy50b3AgKz0gb2Zmc2V0WTtcbiAgICBsaW1pdHMuYm90dG9tICs9IG9mZnNldFk7XG4gICAgcmV0dXJuIGxpbWl0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gYW5jaG9yRWRnZSBOdWxsIGluZGljYXRlcyB0aGF0IHRoZSBhbmNob3IgaXMgbm90IGluIHRoZSBjdXJyZW50XG4gICAqICAgICBjb250YWluZXIuXG4gICAqIEByZXR1cm4gTG9naWNhbCBmbG9hdCBzaWRlIChzbmFwLWJsb2NrIGlzIHJlc29sdmVkIHdoZW4gaW5pdD1mYWxzZSkuIE51bGxcbiAgICogICAgIGluZGljYXRlcyB0aGF0IHRoZSBmbG9hdCBhcmVhIGRvZXMgbm90IGZpdCBpbnNpZGUgdGhlIGNvbnRhaW5lclxuICAgKi9cbiAgc2V0RmxvYXRBcmVhRGltZW5zaW9ucyhcbiAgICBhcmVhOiBMYXlvdXRUeXBlLlBhZ2VGbG9hdEFyZWEsXG4gICAgZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlLFxuICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgIGFuY2hvckVkZ2U6IG51bWJlciB8IG51bGwsXG4gICAgaW5pdDogYm9vbGVhbixcbiAgICBmb3JjZTogYm9vbGVhbixcbiAgICBjb25kaXRpb246IFBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbixcbiAgKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgaWYgKGZsb2F0UmVmZXJlbmNlICE9PSB0aGlzLmZsb2F0UmVmZXJlbmNlKSB7XG4gICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmdldFBhcmVudChmbG9hdFJlZmVyZW5jZSk7XG4gICAgICByZXR1cm4gcGFyZW50LnNldEZsb2F0QXJlYURpbWVuc2lvbnMoXG4gICAgICAgIGFyZWEsXG4gICAgICAgIGZsb2F0UmVmZXJlbmNlLFxuICAgICAgICBmbG9hdFNpZGUsXG4gICAgICAgIGFuY2hvckVkZ2UsXG4gICAgICAgIGluaXQsXG4gICAgICAgIGZvcmNlLFxuICAgICAgICBjb25kaXRpb24sXG4gICAgICApO1xuICAgIH1cbiAgICBsZXQgbG9naWNhbEZsb2F0U2lkZSA9IHRoaXMudG9Mb2dpY2FsKGZsb2F0U2lkZSk7XG4gICAgaWYgKGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwic25hcC1ibG9ja1wiKSB7XG4gICAgICBpZiAoIWNvbmRpdGlvbltcImJsb2NrLXN0YXJ0XCJdICYmICFjb25kaXRpb25bXCJibG9jay1lbmRcIl0pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghY29uZGl0aW9uW2xvZ2ljYWxGbG9hdFNpZGVdKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBBc3NlcnRzLmFzc2VydChhcmVhLmNsaWVudExheW91dCk7XG4gICAgbGV0IGJsb2NrU3RhcnQgPSB0aGlzLmdldExpbWl0VmFsdWUoXG4gICAgICBcImJsb2NrLXN0YXJ0XCIsXG4gICAgICBhcmVhLmxheW91dENvbnRleHQsXG4gICAgICBhcmVhLmNsaWVudExheW91dCxcbiAgICApO1xuICAgIGxldCBibG9ja0VuZCA9IHRoaXMuZ2V0TGltaXRWYWx1ZShcbiAgICAgIFwiYmxvY2stZW5kXCIsXG4gICAgICBhcmVhLmxheW91dENvbnRleHQsXG4gICAgICBhcmVhLmNsaWVudExheW91dCxcbiAgICApO1xuICAgIGxldCBpbmxpbmVTdGFydCA9IHRoaXMuZ2V0TGltaXRWYWx1ZShcbiAgICAgIFwiaW5saW5lLXN0YXJ0XCIsXG4gICAgICBhcmVhLmxheW91dENvbnRleHQsXG4gICAgICBhcmVhLmNsaWVudExheW91dCxcbiAgICApO1xuICAgIGxldCBpbmxpbmVFbmQgPSB0aGlzLmdldExpbWl0VmFsdWUoXG4gICAgICBcImlubGluZS1lbmRcIixcbiAgICAgIGFyZWEubGF5b3V0Q29udGV4dCxcbiAgICAgIGFyZWEuY2xpZW50TGF5b3V0LFxuICAgICk7XG4gICAgY29uc3QgYmxvY2tPZmZzZXQgPSBhcmVhLnZlcnRpY2FsID8gYXJlYS5vcmlnaW5YIDogYXJlYS5vcmlnaW5ZO1xuICAgIGNvbnN0IGlubGluZU9mZnNldCA9IGFyZWEudmVydGljYWwgPyBhcmVhLm9yaWdpblkgOiBhcmVhLm9yaWdpblg7XG4gICAgYmxvY2tTdGFydCA9IGFyZWEudmVydGljYWxcbiAgICAgID8gTWF0aC5taW4oXG4gICAgICAgICAgYmxvY2tTdGFydCxcbiAgICAgICAgICBhcmVhLmxlZnQgK1xuICAgICAgICAgICAgYXJlYS5nZXRJbnNldExlZnQoKSArXG4gICAgICAgICAgICBhcmVhLndpZHRoICtcbiAgICAgICAgICAgIGFyZWEuZ2V0SW5zZXRSaWdodCgpICtcbiAgICAgICAgICAgIGJsb2NrT2Zmc2V0LFxuICAgICAgICApXG4gICAgICA6IE1hdGgubWF4KGJsb2NrU3RhcnQsIGFyZWEudG9wICsgYmxvY2tPZmZzZXQpO1xuICAgIGJsb2NrRW5kID0gYXJlYS52ZXJ0aWNhbFxuICAgICAgPyBNYXRoLm1heChibG9ja0VuZCwgYXJlYS5sZWZ0ICsgYmxvY2tPZmZzZXQpXG4gICAgICA6IE1hdGgubWluKFxuICAgICAgICAgIGJsb2NrRW5kLFxuICAgICAgICAgIGFyZWEudG9wICtcbiAgICAgICAgICAgIGFyZWEuZ2V0SW5zZXRUb3AoKSArXG4gICAgICAgICAgICBhcmVhLmhlaWdodCArXG4gICAgICAgICAgICBhcmVhLmdldEluc2V0Qm90dG9tKCkgK1xuICAgICAgICAgICAgYmxvY2tPZmZzZXQsXG4gICAgICAgICk7XG5cbiAgICBmdW5jdGlvbiBsaW1pdEJsb2NrU3RhcnRFbmRWYWx1ZVdpdGhPcGVuUmVjdChnZXRSZWN0LCByZWN0KSB7XG4gICAgICBsZXQgb3BlblJlY3QgPSBnZXRSZWN0KGFyZWEuYmFuZHMsIHJlY3QpO1xuICAgICAgaWYgKG9wZW5SZWN0KSB7XG4gICAgICAgIGlmIChhcmVhLnZlcnRpY2FsKSB7XG4gICAgICAgICAgb3BlblJlY3QgPSBHZW9tZXRyeVV0aWwudW5yb3RhdGVCb3gob3BlblJlY3QpO1xuICAgICAgICB9XG4gICAgICAgIGJsb2NrU3RhcnQgPSBhcmVhLnZlcnRpY2FsXG4gICAgICAgICAgPyBNYXRoLm1pbihibG9ja1N0YXJ0LCBvcGVuUmVjdC54MilcbiAgICAgICAgICA6IE1hdGgubWF4KGJsb2NrU3RhcnQsIG9wZW5SZWN0LnkxKTtcbiAgICAgICAgYmxvY2tFbmQgPSBhcmVhLnZlcnRpY2FsXG4gICAgICAgICAgPyBNYXRoLm1heChibG9ja0VuZCwgb3BlblJlY3QueDEpXG4gICAgICAgICAgOiBNYXRoLm1pbihibG9ja0VuZCwgb3BlblJlY3QueTIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmb3JjZTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGJsb2NrU2l6ZTogbnVtYmVyO1xuICAgIGxldCBpbmxpbmVTaXplOiBudW1iZXI7XG4gICAgbGV0IG91dGVyQmxvY2tTaXplOiBudW1iZXI7XG4gICAgbGV0IG91dGVySW5saW5lU2l6ZTogbnVtYmVyO1xuICAgIGlmIChpbml0KSB7XG4gICAgICBjb25zdCByZWN0ID0gYXJlYS52ZXJ0aWNhbFxuICAgICAgICA/IEdlb21ldHJ5VXRpbC5yb3RhdGVCb3goXG4gICAgICAgICAgICBuZXcgR2VvbWV0cnlVdGlsLlJlY3QoYmxvY2tFbmQsIGlubGluZVN0YXJ0LCBibG9ja1N0YXJ0LCBpbmxpbmVFbmQpLFxuICAgICAgICAgIClcbiAgICAgICAgOiBuZXcgR2VvbWV0cnlVdGlsLlJlY3QoaW5saW5lU3RhcnQsIGJsb2NrU3RhcnQsIGlubGluZUVuZCwgYmxvY2tFbmQpO1xuICAgICAgaWYgKFxuICAgICAgICBsb2dpY2FsRmxvYXRTaWRlID09PSBcImJsb2NrLXN0YXJ0XCIgfHxcbiAgICAgICAgbG9naWNhbEZsb2F0U2lkZSA9PT0gXCJzbmFwLWJsb2NrXCIgfHxcbiAgICAgICAgbG9naWNhbEZsb2F0U2lkZSA9PT0gXCJpbmxpbmUtc3RhcnRcIlxuICAgICAgKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhbGltaXRCbG9ja1N0YXJ0RW5kVmFsdWVXaXRoT3BlblJlY3QoXG4gICAgICAgICAgICBHZW9tZXRyeVV0aWwuZmluZFVwcGVybW9zdEZ1bGx5T3BlblJlY3QsXG4gICAgICAgICAgICByZWN0LFxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgbG9naWNhbEZsb2F0U2lkZSA9PT0gXCJibG9jay1lbmRcIiB8fFxuICAgICAgICBsb2dpY2FsRmxvYXRTaWRlID09PSBcInNuYXAtYmxvY2tcIiB8fFxuICAgICAgICBsb2dpY2FsRmxvYXRTaWRlID09PSBcImlubGluZS1lbmRcIlxuICAgICAgKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhbGltaXRCbG9ja1N0YXJ0RW5kVmFsdWVXaXRoT3BlblJlY3QoXG4gICAgICAgICAgICBHZW9tZXRyeVV0aWwuZmluZEJvdHRvbW1vc3RGdWxseU9wZW5SZWN0LFxuICAgICAgICAgICAgcmVjdCxcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBvdXRlckJsb2NrU2l6ZSA9IChibG9ja0VuZCAtIGJsb2NrU3RhcnQpICogYXJlYS5nZXRCb3hEaXIoKTtcbiAgICAgIGJsb2NrU2l6ZSA9IG91dGVyQmxvY2tTaXplIC0gYXJlYS5nZXRJbnNldEJlZm9yZSgpIC0gYXJlYS5nZXRJbnNldEFmdGVyKCk7XG4gICAgICBvdXRlcklubGluZVNpemUgPSBpbmxpbmVFbmQgLSBpbmxpbmVTdGFydDtcbiAgICAgIGlubGluZVNpemUgPSBvdXRlcklubGluZVNpemUgLSBhcmVhLmdldEluc2V0U3RhcnQoKSAtIGFyZWEuZ2V0SW5zZXRFbmQoKTtcbiAgICAgIGlmICghZm9yY2UgJiYgKGJsb2NrU2l6ZSA8PSAwIHx8IGlubGluZVNpemUgPD0gMCkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGJsb2NrU2l6ZSA9IGFyZWEuY29tcHV0ZWRCbG9ja1NpemU7XG4gICAgICBvdXRlckJsb2NrU2l6ZSA9IGJsb2NrU2l6ZSArIGFyZWEuZ2V0SW5zZXRCZWZvcmUoKSArIGFyZWEuZ2V0SW5zZXRBZnRlcigpO1xuICAgICAgY29uc3QgYXZhaWxhYmxlQmxvY2tTaXplID0gKGJsb2NrRW5kIC0gYmxvY2tTdGFydCkgKiBhcmVhLmdldEJveERpcigpO1xuICAgICAgaWYgKGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwic25hcC1ibG9ja1wiKSB7XG4gICAgICAgIGlmIChhbmNob3JFZGdlID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gRGVmZXJyZWQgZnJvbSBwcmV2aW91cyBjb250YWluZXJcbiAgICAgICAgICBsb2dpY2FsRmxvYXRTaWRlID0gXCJibG9jay1zdGFydFwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGNvbnRhaW5lclJlY3QgPSB0aGlzLmNvbnRhaW5lci5nZXRQYWRkaW5nUmVjdCgpO1xuICAgICAgICAgIGNvbnN0IGZyb21TdGFydCA9XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRCb3hEaXIoKSAqXG4gICAgICAgICAgICAoYW5jaG9yRWRnZSAtXG4gICAgICAgICAgICAgICh0aGlzLmNvbnRhaW5lci52ZXJ0aWNhbCA/IGNvbnRhaW5lclJlY3QueDIgOiBjb250YWluZXJSZWN0LnkxKSk7XG4gICAgICAgICAgY29uc3QgZnJvbUVuZCA9XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRCb3hEaXIoKSAqXG4gICAgICAgICAgICAoKHRoaXMuY29udGFpbmVyLnZlcnRpY2FsID8gY29udGFpbmVyUmVjdC54MSA6IGNvbnRhaW5lclJlY3QueTIpIC1cbiAgICAgICAgICAgICAgYW5jaG9yRWRnZSAtXG4gICAgICAgICAgICAgIG91dGVyQmxvY2tTaXplKTtcbiAgICAgICAgICBpZiAoZnJvbVN0YXJ0IDw9IGZyb21FbmQpIHtcbiAgICAgICAgICAgIGxvZ2ljYWxGbG9hdFNpZGUgPSBcImJsb2NrLXN0YXJ0XCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2ljYWxGbG9hdFNpZGUgPSBcImJsb2NrLWVuZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbmRpdGlvbltsb2dpY2FsRmxvYXRTaWRlXSkge1xuICAgICAgICAgIGlmIChjb25kaXRpb25bXCJibG9jay1lbmRcIl0pIHtcbiAgICAgICAgICAgIGxvZ2ljYWxGbG9hdFNpZGUgPSBcImJsb2NrLWVuZFwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghZm9yY2UgJiYgYXZhaWxhYmxlQmxvY2tTaXplIDwgb3V0ZXJCbG9ja1NpemUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwiaW5saW5lLXN0YXJ0XCIgfHxcbiAgICAgICAgbG9naWNhbEZsb2F0U2lkZSA9PT0gXCJpbmxpbmUtZW5kXCJcbiAgICAgICkge1xuICAgICAgICBpbmxpbmVTaXplID0gU2l6aW5nLmdldFNpemUoYXJlYS5jbGllbnRMYXlvdXQsIGFyZWEuZWxlbWVudCwgW1xuICAgICAgICAgIFNpemluZy5TaXplLkZJVF9DT05URU5UX0lOTElORV9TSVpFLFxuICAgICAgICBdKVtTaXppbmcuU2l6ZS5GSVRfQ09OVEVOVF9JTkxJTkVfU0laRV07XG4gICAgICB9IGVsc2UgaWYgKGFyZWEuYWRqdXN0Q29udGVudFJlbGF0aXZlU2l6ZSkge1xuICAgICAgICBpbmxpbmVTaXplID0gYXJlYS5nZXRDb250ZW50SW5saW5lU2l6ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5saW5lU2l6ZSA9IGFyZWEudmVydGljYWwgPyBhcmVhLmhlaWdodCA6IGFyZWEud2lkdGg7XG4gICAgICB9XG4gICAgICBvdXRlcklubGluZVNpemUgPSBpbmxpbmVTaXplICsgYXJlYS5nZXRJbnNldFN0YXJ0KCkgKyBhcmVhLmdldEluc2V0RW5kKCk7XG4gICAgICBjb25zdCBhdmFpbGFibGVJbmxpbmVTaXplID0gaW5saW5lRW5kIC0gaW5saW5lU3RhcnQ7XG4gICAgICBpZiAoIWZvcmNlICYmIGF2YWlsYWJsZUlubGluZVNpemUgPCBvdXRlcklubGluZVNpemUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIGJsb2NrU3RhcnQgLT0gYmxvY2tPZmZzZXQ7XG4gICAgYmxvY2tFbmQgLT0gYmxvY2tPZmZzZXQ7XG4gICAgaW5saW5lU3RhcnQgLT0gaW5saW5lT2Zmc2V0O1xuICAgIGlubGluZUVuZCAtPSBpbmxpbmVPZmZzZXQ7XG4gICAgc3dpdGNoIChsb2dpY2FsRmxvYXRTaWRlKSB7XG4gICAgICBjYXNlIFwiaW5saW5lLXN0YXJ0XCI6XG4gICAgICBjYXNlIFwiYmxvY2stc3RhcnRcIjpcbiAgICAgIGNhc2UgXCJzbmFwLWJsb2NrXCI6XG4gICAgICAgIGFyZWEuc2V0SW5saW5lUG9zaXRpb24oaW5saW5lU3RhcnQsIGlubGluZVNpemUpO1xuICAgICAgICBhcmVhLnNldEJsb2NrUG9zaXRpb24oYmxvY2tTdGFydCwgYmxvY2tTaXplKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiaW5saW5lLWVuZFwiOlxuICAgICAgY2FzZSBcImJsb2NrLWVuZFwiOlxuICAgICAgICBhcmVhLnNldElubGluZVBvc2l0aW9uKGlubGluZUVuZCAtIG91dGVySW5saW5lU2l6ZSwgaW5saW5lU2l6ZSk7XG4gICAgICAgIGFyZWEuc2V0QmxvY2tQb3NpdGlvbihcbiAgICAgICAgICBibG9ja0VuZCAtIG91dGVyQmxvY2tTaXplICogYXJlYS5nZXRCb3hEaXIoKSxcbiAgICAgICAgICBibG9ja1NpemUsXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIGZsb2F0IGRpcmVjdGlvbjogJHtmbG9hdFNpZGV9YCk7XG4gICAgfVxuICAgIHJldHVybiBsb2dpY2FsRmxvYXRTaWRlO1xuICB9XG5cbiAgZ2V0RmxvYXRGcmFnbWVudEV4Y2x1c2lvbnMoKTogR2VvbWV0cnlVdGlsLlNoYXBlW10ge1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZmxvYXRGcmFnbWVudHMubWFwKChmcmFnbWVudCkgPT5cbiAgICAgIGZyYWdtZW50LmdldE91dGVyU2hhcGUoKSxcbiAgICApO1xuICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgcmV0dXJuIHRoaXMucGFyZW50LmdldEZsb2F0RnJhZ21lbnRFeGNsdXNpb25zKCkuY29uY2F0KHJlc3VsdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZWF0dGFjaEZsb2F0RnJhZ21lbnRzKCkge1xuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuY29udGFpbmVyLmVsZW1lbnQgJiYgdGhpcy5jb250YWluZXIuZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIHRoaXMuZmxvYXRGcmFnbWVudHMuZm9yRWFjaCgoZnJhZ21lbnQpID0+IHtcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGZyYWdtZW50LmFyZWEuZWxlbWVudCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBnZXRNYXhSZWFjaGVkQWZ0ZXJFZGdlKCk6IG51bWJlciB7XG4gICAgY29uc3QgaXNWZXJ0aWNhbCA9IHRoaXMuZ2V0Q29udGFpbmVyKCkudmVydGljYWw7XG4gICAgcmV0dXJuIHRoaXMuZmxvYXRGcmFnbWVudHMucmVkdWNlKFxuICAgICAgKGVkZ2UsIGZyYWdtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlY3QgPSBmcmFnbWVudC5nZXRPdXRlclJlY3QoKTtcbiAgICAgICAgaWYgKGlzVmVydGljYWwpIHtcbiAgICAgICAgICByZXR1cm4gTWF0aC5taW4oZWRnZSwgcmVjdC54MSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWF4KGVkZ2UsIHJlY3QueTIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaXNWZXJ0aWNhbCA/IEluZmluaXR5IDogMCxcbiAgICApO1xuICB9XG5cbiAgZ2V0QmxvY2tTdGFydEVkZ2VPZkJsb2NrRW5kRmxvYXRzKCk6IG51bWJlciB7XG4gICAgY29uc3QgaXNWZXJ0aWNhbCA9IHRoaXMuZ2V0Q29udGFpbmVyKCkudmVydGljYWw7XG4gICAgcmV0dXJuIHRoaXMuZmxvYXRGcmFnbWVudHNcbiAgICAgIC5maWx0ZXIoKGZyYWdtZW50KSA9PiBmcmFnbWVudC5mbG9hdFNpZGUgPT09IFwiYmxvY2stZW5kXCIpXG4gICAgICAucmVkdWNlKFxuICAgICAgICAoZWRnZSwgZnJhZ21lbnQpID0+IHtcbiAgICAgICAgICBjb25zdCByZWN0ID0gZnJhZ21lbnQuZ2V0T3V0ZXJSZWN0KCk7XG4gICAgICAgICAgaWYgKGlzVmVydGljYWwpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heChlZGdlLCByZWN0LngyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKGVkZ2UsIHJlY3QueTEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaXNWZXJ0aWNhbCA/IDAgOiBJbmZpbml0eSxcbiAgICAgICk7XG4gIH1cblxuICBnZXRQYWdlRmxvYXRDbGVhckVkZ2UoY2xlYXI6IHN0cmluZywgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbik6IG51bWJlciB7XG4gICAgZnVuY3Rpb24gaXNDb250aW51YXRpb25PZkFscmVhZHlBcHBlYXJlZEZsb2F0KGNvbnRleHQpIHtcbiAgICAgIHJldHVybiAoY29udGludWF0aW9uKSA9PlxuICAgICAgICBjb250ZXh0LmlzQW5jaG9yQWxyZWFkeUFwcGVhcmVkKGNvbnRpbnVhdGlvbi5mbG9hdC5nZXRJZCgpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0ZyYWdtZW50V2l0aEFscmVhZHlBcHBlYXJlZEZsb2F0KGZyYWdtZW50LCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gZnJhZ21lbnQuY29udGludWF0aW9ucy5zb21lKFxuICAgICAgICBpc0NvbnRpbnVhdGlvbk9mQWxyZWFkeUFwcGVhcmVkRmxvYXQoY29udGV4dCksXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBjb2x1bW5SZWN0ID0gY29sdW1uLmdldFBhZGRpbmdSZWN0KCk7XG4gICAgY29uc3QgY29sdW1uQmxvY2tFbmQgPSBjb2x1bW4udmVydGljYWwgPyBjb2x1bW5SZWN0LngxIDogY29sdW1uUmVjdC55MjtcbiAgICBsZXQgY29udGV4dDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCA9IHRoaXM7XG4gICAgd2hpbGUgKGNvbnRleHQpIHtcbiAgICAgIGlmIChcbiAgICAgICAgY29udGV4dC5mbG9hdHNEZWZlcnJlZFRvTmV4dC5zb21lKFxuICAgICAgICAgIGlzQ29udGludWF0aW9uT2ZBbHJlYWR5QXBwZWFyZWRGbG9hdChjb250ZXh0KSxcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBjb2x1bW5CbG9ja0VuZDtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQgPSBjb250ZXh0LnBhcmVudDtcbiAgICB9XG4gICAgQXNzZXJ0cy5hc3NlcnQoY29sdW1uLmNsaWVudExheW91dCk7XG4gICAgY29uc3QgYmxvY2tTdGFydExpbWl0ID0gdGhpcy5nZXRMaW1pdFZhbHVlKFxuICAgICAgXCJibG9jay1zdGFydFwiLFxuICAgICAgY29sdW1uLmxheW91dENvbnRleHQsXG4gICAgICBjb2x1bW4uY2xpZW50TGF5b3V0LFxuICAgICAgaXNGcmFnbWVudFdpdGhBbHJlYWR5QXBwZWFyZWRGbG9hdCxcbiAgICApO1xuICAgIGNvbnN0IGJsb2NrRW5kTGltaXQgPSB0aGlzLmdldExpbWl0VmFsdWUoXG4gICAgICBcImJsb2NrLWVuZFwiLFxuICAgICAgY29sdW1uLmxheW91dENvbnRleHQsXG4gICAgICBjb2x1bW4uY2xpZW50TGF5b3V0LFxuICAgICAgaXNGcmFnbWVudFdpdGhBbHJlYWR5QXBwZWFyZWRGbG9hdCxcbiAgICApO1xuICAgIGlmIChcbiAgICAgIGJsb2NrRW5kTGltaXQgKiBjb2x1bW4uZ2V0Qm94RGlyKCkgPFxuICAgICAgY29sdW1uQmxvY2tFbmQgKiBjb2x1bW4uZ2V0Qm94RGlyKClcbiAgICApIHtcbiAgICAgIHJldHVybiBjb2x1bW5CbG9ja0VuZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJsb2NrU3RhcnRMaW1pdDtcbiAgICB9XG4gIH1cblxuICBnZXRQYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb24oXG4gICAgZmxvYXQ6IFBhZ2VGbG9hdCxcbiAgICBmbG9hdFNpZGU6IHN0cmluZyxcbiAgICBjbGVhclNpZGU6IHN0cmluZyB8IG51bGwsXG4gICk6IFBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbiB7XG4gICAgaWYgKGZsb2F0LmZsb2F0UmVmZXJlbmNlICE9PSB0aGlzLmZsb2F0UmVmZXJlbmNlKSB7XG4gICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmdldFBhcmVudChmbG9hdC5mbG9hdFJlZmVyZW5jZSk7XG4gICAgICByZXR1cm4gcGFyZW50LmdldFBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbihmbG9hdCwgZmxvYXRTaWRlLCBjbGVhclNpZGUpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQ6IFBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbiA9IHtcbiAgICAgIFwiYmxvY2stc3RhcnRcIjogdHJ1ZSxcbiAgICAgIFwiYmxvY2stZW5kXCI6IHRydWUsXG4gICAgICBcImlubGluZS1zdGFydFwiOiB0cnVlLFxuICAgICAgXCJpbmxpbmUtZW5kXCI6IHRydWUsXG4gICAgfTtcbiAgICBpZiAoIWNsZWFyU2lkZSkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgY29uc3QgbG9naWNhbEZsb2F0U2lkZSA9IHRoaXMudG9Mb2dpY2FsKGZsb2F0U2lkZSk7XG4gICAgY29uc3QgbG9naWNhbENsZWFyU2lkZSA9IHRoaXMudG9Mb2dpY2FsKGNsZWFyU2lkZSk7XG4gICAgbGV0IGxvZ2ljYWxTaWRlczogc3RyaW5nW107XG4gICAgaWYgKGxvZ2ljYWxDbGVhclNpZGUgPT09IFwiYWxsXCIpIHtcbiAgICAgIGxvZ2ljYWxTaWRlcyA9IFtcImJsb2NrLXN0YXJ0XCIsIFwiYmxvY2stZW5kXCIsIFwiaW5saW5lLXN0YXJ0XCIsIFwiaW5saW5lLWVuZFwiXTtcbiAgICB9IGVsc2UgaWYgKGxvZ2ljYWxDbGVhclNpZGUgPT09IFwiYm90aFwiKSB7XG4gICAgICBsb2dpY2FsU2lkZXMgPSBbXCJpbmxpbmUtc3RhcnRcIiwgXCJpbmxpbmUtZW5kXCJdO1xuICAgIH0gZWxzZSBpZiAobG9naWNhbENsZWFyU2lkZSA9PT0gXCJzYW1lXCIpIHtcbiAgICAgIGlmIChsb2dpY2FsRmxvYXRTaWRlID09PSBcInNuYXAtYmxvY2tcIikge1xuICAgICAgICBsb2dpY2FsU2lkZXMgPSBbXCJibG9jay1zdGFydFwiLCBcImJsb2NrLWVuZFwiXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZ2ljYWxTaWRlcyA9IFtsb2dpY2FsRmxvYXRTaWRlXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9naWNhbFNpZGVzID0gW2xvZ2ljYWxDbGVhclNpZGVdO1xuICAgIH1cbiAgICBjb25zdCBmbG9hdE9yZGVyID0gZmxvYXQuZ2V0T3JkZXIoKTtcblxuICAgIGZ1bmN0aW9uIGlzUHJlY2VkaW5nRnJhZ21lbnQoXG4gICAgICBzaWRlOiBzdHJpbmcsXG4gICAgKTogKHAxOiBQYWdlRmxvYXRGcmFnbWVudCkgPT4gYm9vbGVhbiB7XG4gICAgICByZXR1cm4gKGZyYWdtZW50KSA9PlxuICAgICAgICBmcmFnbWVudC5mbG9hdFNpZGUgPT09IHNpZGUgJiYgZnJhZ21lbnQuZ2V0T3JkZXIoKSA8IGZsb2F0T3JkZXI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzUHJlY2VkaW5nRnJhZ21lbnRJbkNoaWxkcmVuKFxuICAgICAgY29udGV4dDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgIHNpZGU6IHN0cmluZyxcbiAgICApOiBib29sZWFuIHtcbiAgICAgIHJldHVybiBjb250ZXh0LmNoaWxkcmVuLnNvbWUoXG4gICAgICAgIChjaGlsZCkgPT5cbiAgICAgICAgICBjaGlsZC5mbG9hdEZyYWdtZW50cy5zb21lKGlzUHJlY2VkaW5nRnJhZ21lbnQoc2lkZSkpIHx8XG4gICAgICAgICAgaGFzUHJlY2VkaW5nRnJhZ21lbnRJbkNoaWxkcmVuKGNoaWxkLCBzaWRlKSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzUHJlY2VkaW5nRnJhZ21lbnRJblBhcmVudHMoXG4gICAgICBjb250ZXh0OiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgc2lkZTogc3RyaW5nLFxuICAgICk6IGJvb2xlYW4ge1xuICAgICAgY29uc3QgcGFyZW50ID0gY29udGV4dC5wYXJlbnQ7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAhIXBhcmVudCAmJlxuICAgICAgICAocGFyZW50LmZsb2F0RnJhZ21lbnRzLnNvbWUoaXNQcmVjZWRpbmdGcmFnbWVudChzaWRlKSkgfHxcbiAgICAgICAgICBoYXNQcmVjZWRpbmdGcmFnbWVudEluUGFyZW50cyhwYXJlbnQsIHNpZGUpKVxuICAgICAgKTtcbiAgICB9XG4gICAgbG9naWNhbFNpZGVzLmZvckVhY2goKHNpZGUpID0+IHtcbiAgICAgIHN3aXRjaCAoc2lkZSkge1xuICAgICAgICBjYXNlIFwiYmxvY2stc3RhcnRcIjpcbiAgICAgICAgY2FzZSBcImlubGluZS1zdGFydFwiOlxuICAgICAgICAgIHJlc3VsdFtzaWRlXSA9ICFoYXNQcmVjZWRpbmdGcmFnbWVudEluQ2hpbGRyZW4odGhpcywgc2lkZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJibG9jay1lbmRcIjpcbiAgICAgICAgY2FzZSBcImlubGluZS1lbmRcIjpcbiAgICAgICAgICByZXN1bHRbc2lkZV0gPSAhaGFzUHJlY2VkaW5nRnJhZ21lbnRJblBhcmVudHModGhpcywgc2lkZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHNpZGU6ICR7c2lkZX1gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZ2V0TGF5b3V0Q29uc3RyYWludHMoKTogTGF5b3V0VHlwZS5MYXlvdXRDb25zdHJhaW50W10ge1xuICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gdGhpcy5wYXJlbnQgPyB0aGlzLnBhcmVudC5nZXRMYXlvdXRDb25zdHJhaW50cygpIDogW107XG4gICAgcmV0dXJuIGNvbnN0cmFpbnRzLmNvbmNhdCh0aGlzLmxheW91dENvbnN0cmFpbnRzKTtcbiAgfVxuXG4gIGFkZExheW91dENvbnN0cmFpbnQoXG4gICAgbGF5b3V0Q29uc3RyYWludDogTGF5b3V0VHlwZS5MYXlvdXRDb25zdHJhaW50LFxuICAgIGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSxcbiAgKSB7XG4gICAgaWYgKGZsb2F0UmVmZXJlbmNlID09PSB0aGlzLmZsb2F0UmVmZXJlbmNlKSB7XG4gICAgICB0aGlzLmxheW91dENvbnN0cmFpbnRzLnB1c2gobGF5b3V0Q29uc3RyYWludCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZ2V0UGFyZW50KGZsb2F0UmVmZXJlbmNlKS5hZGRMYXlvdXRDb25zdHJhaW50KFxuICAgICAgICBsYXlvdXRDb25zdHJhaW50LFxuICAgICAgICBmbG9hdFJlZmVyZW5jZSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgaXNDb2x1bW5GdWxsV2l0aFBhZ2VGbG9hdHMoY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGxheW91dENvbnRleHQgPSBjb2x1bW4ubGF5b3V0Q29udGV4dDtcbiAgICBjb25zdCBjbGllbnRMYXlvdXQgPSBjb2x1bW4uY2xpZW50TGF5b3V0O1xuICAgIEFzc2VydHMuYXNzZXJ0KGNsaWVudExheW91dCk7XG4gICAgbGV0IGNvbnRleHQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQgPSB0aGlzO1xuICAgIGxldCBsaW1pdHM6IHtcbiAgICAgIHRvcDogbnVtYmVyO1xuICAgICAgbGVmdDogbnVtYmVyO1xuICAgICAgYm90dG9tOiBudW1iZXI7XG4gICAgICByaWdodDogbnVtYmVyO1xuICAgICAgZmxvYXRNaW5XcmFwQmxvY2tTdGFydDogbnVtYmVyO1xuICAgICAgZmxvYXRNaW5XcmFwQmxvY2tFbmQ6IG51bWJlcjtcbiAgICB9ID0gbnVsbDtcbiAgICB3aGlsZSAoY29udGV4dCAmJiBjb250ZXh0LmNvbnRhaW5lcikge1xuICAgICAgY29uc3QgbCA9IGNvbnRleHQuZ2V0TGltaXRWYWx1ZXNJbm5lcihsYXlvdXRDb250ZXh0LCBjbGllbnRMYXlvdXQpO1xuICAgICAgaWYgKGxpbWl0cykge1xuICAgICAgICBpZiAoY29sdW1uLnZlcnRpY2FsKSB7XG4gICAgICAgICAgaWYgKGwucmlnaHQgPCBsaW1pdHMucmlnaHQpIHtcbiAgICAgICAgICAgIGxpbWl0cy5yaWdodCA9IGwucmlnaHQ7XG4gICAgICAgICAgICBsaW1pdHMuZmxvYXRNaW5XcmFwQmxvY2tTdGFydCA9IGwuZmxvYXRNaW5XcmFwQmxvY2tTdGFydDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGwubGVmdCA+IGxpbWl0cy5sZWZ0KSB7XG4gICAgICAgICAgICBsaW1pdHMubGVmdCA9IGwubGVmdDtcbiAgICAgICAgICAgIGxpbWl0cy5mbG9hdE1pbldyYXBCbG9ja0VuZCA9IGwuZmxvYXRNaW5XcmFwQmxvY2tFbmQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChsLnRvcCA+IGxpbWl0cy50b3ApIHtcbiAgICAgICAgICAgIGxpbWl0cy50b3AgPSBsLnRvcDtcbiAgICAgICAgICAgIGxpbWl0cy5mbG9hdE1pbldyYXBCbG9ja1N0YXJ0ID0gbC5mbG9hdE1pbldyYXBCbG9ja1N0YXJ0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobC5ib3R0b20gPCBsaW1pdHMuYm90dG9tKSB7XG4gICAgICAgICAgICBsaW1pdHMuYm90dG9tID0gbC5ib3R0b207XG4gICAgICAgICAgICBsaW1pdHMuZmxvYXRNaW5XcmFwQmxvY2tFbmQgPSBsLmZsb2F0TWluV3JhcEJsb2NrRW5kO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGltaXRzID0gbDtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQgPSBjb250ZXh0LnBhcmVudDtcbiAgICB9XG4gICAgY29uc3QgZmxvYXRNaW5XcmFwQmxvY2sgPSBNYXRoLm1heChcbiAgICAgIGxpbWl0cy5mbG9hdE1pbldyYXBCbG9ja1N0YXJ0LFxuICAgICAgbGltaXRzLmZsb2F0TWluV3JhcEJsb2NrRW5kLFxuICAgICk7XG4gICAgY29uc3QgYmxvY2tTcGFjZSA9IGNvbHVtbi52ZXJ0aWNhbFxuICAgICAgPyBsaW1pdHMucmlnaHQgLSBsaW1pdHMubGVmdFxuICAgICAgOiBsaW1pdHMuYm90dG9tIC0gbGltaXRzLnRvcDtcbiAgICByZXR1cm4gYmxvY2tTcGFjZSA8PSBmbG9hdE1pbldyYXBCbG9jaztcbiAgfVxuXG4gIGdldE1heEJsb2NrU2l6ZU9mUGFnZUZsb2F0cygpOiBudW1iZXIge1xuICAgIGNvbnN0IGlzVmVydGljYWwgPSB0aGlzLmdldENvbnRhaW5lcigpLnZlcnRpY2FsO1xuICAgIGlmICghdGhpcy5mbG9hdEZyYWdtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkoXG4gICAgICBudWxsLFxuICAgICAgdGhpcy5mbG9hdEZyYWdtZW50cy5tYXAoKGZyYWdtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGFyZWEgPSBmcmFnbWVudC5hcmVhO1xuICAgICAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICAgIHJldHVybiBhcmVhLndpZHRoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBhcmVhLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIGxvY2soKSB7XG4gICAgdGhpcy5sb2NrZWQgPSB0cnVlO1xuICB9XG5cbiAgdW5sb2NrKCkge1xuICAgIHRoaXMubG9ja2VkID0gZmFsc2U7XG4gIH1cblxuICBpc0xvY2tlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5sb2NrZWQ7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYWdlRmxvYXRMYXlvdXRTdHJhdGVneVxuICBleHRlbmRzIFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3kge31cblxuY29uc3QgcGFnZUZsb2F0TGF5b3V0U3RyYXRlZ2llczogUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3lbXSA9IFtdO1xuXG5leHBvcnQgY2xhc3MgUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3lSZXNvbHZlciB7XG4gIHN0YXRpYyByZWdpc3RlcihzdHJhdGVneTogUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3kpIHtcbiAgICBwYWdlRmxvYXRMYXlvdXRTdHJhdGVnaWVzLnB1c2goc3RyYXRlZ3kpO1xuICB9XG5cbiAgZmluZEJ5Tm9kZUNvbnRleHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3kge1xuICAgIGZvciAobGV0IGkgPSBwYWdlRmxvYXRMYXlvdXRTdHJhdGVnaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCBzdHJhdGVneSA9IHBhZ2VGbG9hdExheW91dFN0cmF0ZWdpZXNbaV07XG4gICAgICBpZiAoc3RyYXRlZ3kuYXBwbGllc1RvTm9kZUNvbnRleHQobm9kZUNvbnRleHQpKSB7XG4gICAgICAgIHJldHVybiBzdHJhdGVneTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBObyBQYWdlRmxvYXRMYXlvdXRTdHJhdGVneSBmb3VuZCBmb3IgJHtub2RlQ29udGV4dH1gKTtcbiAgfVxuXG4gIGZpbmRCeUZsb2F0KGZsb2F0OiBQYWdlRmxvYXQpOiBQYWdlRmxvYXRMYXlvdXRTdHJhdGVneSB7XG4gICAgZm9yIChsZXQgaSA9IHBhZ2VGbG9hdExheW91dFN0cmF0ZWdpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IHN0cmF0ZWd5ID0gcGFnZUZsb2F0TGF5b3V0U3RyYXRlZ2llc1tpXTtcbiAgICAgIGlmIChzdHJhdGVneS5hcHBsaWVzVG9GbG9hdChmbG9hdCkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmF0ZWd5O1xuICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIFBhZ2VGbG9hdExheW91dFN0cmF0ZWd5IGZvdW5kIGZvciAke2Zsb2F0fWApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBOb3JtYWxQYWdlRmxvYXRMYXlvdXRTdHJhdGVneSBpbXBsZW1lbnRzIFBhZ2VGbG9hdExheW91dFN0cmF0ZWd5IHtcbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbGllc1RvTm9kZUNvbnRleHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGlzUGFnZUZsb2F0KG5vZGVDb250ZXh0LmZsb2F0UmVmZXJlbmNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGxpZXNUb0Zsb2F0KGZsb2F0OiBQYWdlRmxvYXQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNyZWF0ZVBhZ2VGbG9hdChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxQYWdlRmxvYXQ+IHtcbiAgICBsZXQgZmxvYXRSZWZlcmVuY2UgPSBub2RlQ29udGV4dC5mbG9hdFJlZmVyZW5jZTtcbiAgICBBc3NlcnRzLmFzc2VydChub2RlQ29udGV4dC5mbG9hdFNpZGUpO1xuICAgIGNvbnN0IGZsb2F0U2lkZTogc3RyaW5nID0gbm9kZUNvbnRleHQuZmxvYXRTaWRlO1xuICAgIGNvbnN0IG5vZGVQb3NpdGlvbiA9IG5vZGVDb250ZXh0LnRvTm9kZVBvc2l0aW9uKCk7XG4gICAgcmV0dXJuIGNvbHVtblxuICAgICAgLnJlc29sdmVGbG9hdFJlZmVyZW5jZUZyb21Db2x1bW5TcGFuKFxuICAgICAgICBmbG9hdFJlZmVyZW5jZSxcbiAgICAgICAgbm9kZUNvbnRleHQuY29sdW1uU3BhbixcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICApXG4gICAgICAudGhlbkFzeW5jKChyZWYpID0+IHtcbiAgICAgICAgZmxvYXRSZWZlcmVuY2UgPSByZWY7XG4gICAgICAgIEFzc2VydHMuYXNzZXJ0KHBhZ2VGbG9hdExheW91dENvbnRleHQuZmxvd05hbWUpO1xuICAgICAgICBjb25zdCBmbG9hdCA9IG5ldyBQYWdlRmxvYXQoXG4gICAgICAgICAgbm9kZVBvc2l0aW9uLFxuICAgICAgICAgIGZsb2F0UmVmZXJlbmNlLFxuICAgICAgICAgIGZsb2F0U2lkZSxcbiAgICAgICAgICBub2RlQ29udGV4dC5jbGVhclNpZGUsXG4gICAgICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5mbG93TmFtZSxcbiAgICAgICAgICBub2RlQ29udGV4dC5mbG9hdE1pbldyYXBCbG9jayxcbiAgICAgICAgKTtcbiAgICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5hZGRQYWdlRmxvYXQoZmxvYXQpO1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmxvYXQpO1xuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjcmVhdGVQYWdlRmxvYXRGcmFnbWVudChcbiAgICBjb250aW51YXRpb25zOiBQYWdlRmxvYXRDb250aW51YXRpb25bXSxcbiAgICBmbG9hdFNpZGU6IHN0cmluZyxcbiAgICBmbG9hdEFyZWE6IExheW91dFR5cGUuUGFnZUZsb2F0QXJlYSxcbiAgICBjb250aW51ZXM6IGJvb2xlYW4sXG4gICk6IFBhZ2VGbG9hdEZyYWdtZW50IHtcbiAgICBjb25zdCBmID0gY29udGludWF0aW9uc1swXS5mbG9hdDtcbiAgICByZXR1cm4gbmV3IFBhZ2VGbG9hdEZyYWdtZW50KFxuICAgICAgZi5mbG9hdFJlZmVyZW5jZSxcbiAgICAgIGZsb2F0U2lkZSxcbiAgICAgIGNvbnRpbnVhdGlvbnMsXG4gICAgICBmbG9hdEFyZWEsXG4gICAgICBjb250aW51ZXMsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZpbmRQYWdlRmxvYXRGcmFnbWVudChcbiAgICBmbG9hdDogUGFnZUZsb2F0LFxuICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICk6IFBhZ2VGbG9hdEZyYWdtZW50IHwgbnVsbCB7XG4gICAgcmV0dXJuIHBhZ2VGbG9hdExheW91dENvbnRleHQuZmluZFBhZ2VGbG9hdEZyYWdtZW50KGZsb2F0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFkanVzdFBhZ2VGbG9hdEFyZWEoXG4gICAgZmxvYXRBcmVhOiBMYXlvdXRUeXBlLlBhZ2VGbG9hdEFyZWEsXG4gICAgZmxvYXRDb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZm9yYmlkKGZsb2F0OiBQYWdlRmxvYXQsIHBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQpIHt9XG59XG5cblBhZ2VGbG9hdExheW91dFN0cmF0ZWd5UmVzb2x2ZXIucmVnaXN0ZXIobmV3IE5vcm1hbFBhZ2VGbG9hdExheW91dFN0cmF0ZWd5KCkpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgRm9vdG5vdGVzXG4gKi9cbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgUGFnZUZsb2F0cyBmcm9tIFwiLi9wYWdlLWZsb2F0c1wiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgKiBhcyBWdHJlZSBmcm9tIFwiLi92dHJlZVwiO1xuaW1wb3J0IHsgTGF5b3V0IH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuY29uc3QgUGFnZUZsb2F0RnJhZ21lbnQgPSBQYWdlRmxvYXRzLlBhZ2VGbG9hdEZyYWdtZW50O1xuXG5leHBvcnQgY2xhc3MgRm9vdG5vdGUgZXh0ZW5kcyBQYWdlRmxvYXRzLlBhZ2VGbG9hdCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIG5vZGVQb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uLFxuICAgIGZsb2F0UmVmZXJlbmNlOiBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLFxuICAgIGZsb3dOYW1lOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IGZvb3Rub3RlUG9saWN5OiBDc3MuSWRlbnQgfCBudWxsLFxuICAgIGZsb2F0TWluV3JhcEJsb2NrOiBDc3MuTnVtZXJpYyB8IG51bGwsXG4gICkge1xuICAgIHN1cGVyKFxuICAgICAgbm9kZVBvc2l0aW9uLFxuICAgICAgZmxvYXRSZWZlcmVuY2UsXG4gICAgICBcImJsb2NrLWVuZFwiLFxuICAgICAgbnVsbCxcbiAgICAgIGZsb3dOYW1lLFxuICAgICAgZmxvYXRNaW5XcmFwQmxvY2ssXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGlzQWxsb3dlZFRvUHJlY2VkZShvdGhlcjogUGFnZUZsb2F0cy5QYWdlRmxvYXQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gIShvdGhlciBpbnN0YW5jZW9mIEZvb3Rub3RlKTtcbiAgfVxufVxuXG4vKipcbiAqIEBleHRlbmRzIFBhZ2VGbG9hdEZyYWdtZW50XG4gKi9cbmV4cG9ydCBjbGFzcyBGb290bm90ZUZyYWdtZW50IGV4dGVuZHMgUGFnZUZsb2F0RnJhZ21lbnQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBmbG9hdFJlZmVyZW5jZTogUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZSxcbiAgICBjb250aW51YXRpb25zOiBQYWdlRmxvYXRzLlBhZ2VGbG9hdENvbnRpbnVhdGlvbltdLFxuICAgIGFyZWE6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBjb250aW51ZXM6IGJvb2xlYW4sXG4gICkge1xuICAgIHN1cGVyKGZsb2F0UmVmZXJlbmNlLCBcImJsb2NrLWVuZFwiLCBjb250aW51YXRpb25zLCBhcmVhLCBjb250aW51ZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3JkZXIoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gSW5maW5pdHk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzaG91bGRCZVN0YXNoZWRCZWZvcmUoZmxvYXQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0KTogYm9vbGVhbiB7XG4gICAgaWYgKGZsb2F0IGluc3RhbmNlb2YgRm9vdG5vdGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRPcmRlcigpIDwgZmxvYXQuZ2V0T3JkZXIoKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExpbmVGb290bm90ZVBvbGljeUxheW91dENvbnN0cmFpbnRcbiAgaW1wbGVtZW50cyBMYXlvdXQuTGF5b3V0Q29uc3RyYWludCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBmb290bm90ZTogRm9vdG5vdGUpIHt9XG5cbiAgYWxsb3dMYXlvdXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgY29uc3Qgbm9kZVBvc2l0aW9uID0gbm9kZUNvbnRleHQudG9Ob2RlUG9zaXRpb24oKTtcbiAgICByZXR1cm4gIVZ0cmVlLmlzU2FtZU5vZGVQb3NpdGlvbihub2RlUG9zaXRpb24sIHRoaXMuZm9vdG5vdGUubm9kZVBvc2l0aW9uKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRm9vdG5vdGVMYXlvdXRTdHJhdGVneVxuICBpbXBsZW1lbnRzIFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3kge1xuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBsaWVzVG9Ob2RlQ29udGV4dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gbm9kZUNvbnRleHQuZmxvYXRTaWRlID09PSBcImZvb3Rub3RlXCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBsaWVzVG9GbG9hdChmbG9hdDogUGFnZUZsb2F0cy5QYWdlRmxvYXQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmxvYXQgaW5zdGFuY2VvZiBGb290bm90ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNyZWF0ZVBhZ2VGbG9hdChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8UGFnZUZsb2F0cy5QYWdlRmxvYXQ+IHtcbiAgICBsZXQgZmxvYXRSZWZlcmVuY2UgPSBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLlJFR0lPTjtcblxuICAgIC8vIElmIHRoZSByZWdpb24gY29udGV4dCBoYXMgdGhlIHNhbWUgY29udGFpbmVyIGFzIHRoZSBwYWdlIGNvbnRleHQsXG4gICAgLy8gdXNlIHRoZSBwYWdlIGNvbnRleHQgYXMgdGhlIGNvbnRleHQgZm9yIHRoZSBmb290bm90ZS5cbiAgICBjb25zdCByZWdpb25Db250ZXh0ID0gcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5nZXRQYWdlRmxvYXRMYXlvdXRDb250ZXh0KFxuICAgICAgZmxvYXRSZWZlcmVuY2UsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQ29udGV4dCA9IHBhZ2VGbG9hdExheW91dENvbnRleHQuZ2V0UGFnZUZsb2F0TGF5b3V0Q29udGV4dChcbiAgICAgIFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UuUEFHRSxcbiAgICApO1xuICAgIGlmIChwYWdlQ29udGV4dC5oYXNTYW1lQ29udGFpbmVyQXMocmVnaW9uQ29udGV4dCkpIHtcbiAgICAgIGZsb2F0UmVmZXJlbmNlID0gUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZS5QQUdFO1xuICAgIH1cbiAgICBjb25zdCBub2RlUG9zaXRpb24gPSBub2RlQ29udGV4dC50b05vZGVQb3NpdGlvbigpO1xuICAgIEFzc2VydHMuYXNzZXJ0KHBhZ2VGbG9hdExheW91dENvbnRleHQuZmxvd05hbWUpO1xuICAgIGNvbnN0IGZsb2F0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdCA9IG5ldyBGb290bm90ZShcbiAgICAgIG5vZGVQb3NpdGlvbixcbiAgICAgIGZsb2F0UmVmZXJlbmNlLFxuICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5mbG93TmFtZSxcbiAgICAgIG5vZGVDb250ZXh0LmZvb3Rub3RlUG9saWN5LFxuICAgICAgbm9kZUNvbnRleHQuZmxvYXRNaW5XcmFwQmxvY2ssXG4gICAgKTtcbiAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmFkZFBhZ2VGbG9hdChmbG9hdCk7XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGZsb2F0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNyZWF0ZVBhZ2VGbG9hdEZyYWdtZW50KFxuICAgIGNvbnRpbnVhdGlvbnM6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0Q29udGludWF0aW9uW10sXG4gICAgZmxvYXRTaWRlOiBzdHJpbmcsXG4gICAgZmxvYXRBcmVhOiBMYXlvdXQuUGFnZUZsb2F0QXJlYSxcbiAgICBjb250aW51ZXM6IGJvb2xlYW4sXG4gICk6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0RnJhZ21lbnQge1xuICAgIGNvbnN0IGYgPSBjb250aW51YXRpb25zWzBdLmZsb2F0O1xuICAgIHJldHVybiBuZXcgRm9vdG5vdGVGcmFnbWVudChcbiAgICAgIGYuZmxvYXRSZWZlcmVuY2UsXG4gICAgICBjb250aW51YXRpb25zLFxuICAgICAgZmxvYXRBcmVhLFxuICAgICAgY29udGludWVzLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmaW5kUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgZmxvYXQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0LFxuICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgKTogUGFnZUZsb2F0cy5QYWdlRmxvYXRGcmFnbWVudCB8IG51bGwge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmdldFBhZ2VGbG9hdExheW91dENvbnRleHQoXG4gICAgICBmbG9hdC5mbG9hdFJlZmVyZW5jZSxcbiAgICApO1xuICAgIGNvbnN0IGZyYWdtZW50cyA9IGNvbnRleHQuZmxvYXRGcmFnbWVudHMuZmlsdGVyKFxuICAgICAgKGZyKSA9PiBmciBpbnN0YW5jZW9mIEZvb3Rub3RlRnJhZ21lbnQsXG4gICAgKTtcbiAgICBBc3NlcnRzLmFzc2VydChmcmFnbWVudHMubGVuZ3RoIDw9IDEpO1xuICAgIHJldHVybiBmcmFnbWVudHNbMF0gfHwgbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFkanVzdFBhZ2VGbG9hdEFyZWEoXG4gICAgZmxvYXRBcmVhOiBMYXlvdXQuUGFnZUZsb2F0QXJlYSxcbiAgICBmbG9hdENvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKSB7XG4gICAgZmxvYXRBcmVhLmlzRm9vdG5vdGUgPSB0cnVlO1xuICAgIGZsb2F0QXJlYS5hZGp1c3RDb250ZW50UmVsYXRpdmVTaXplID0gZmFsc2U7XG4gICAgY29uc3QgZWxlbWVudCA9IGZsb2F0QXJlYS5lbGVtZW50O1xuICAgIEFzc2VydHMuYXNzZXJ0KGVsZW1lbnQpO1xuICAgIGZsb2F0QXJlYS52ZXJ0aWNhbCA9IGNvbHVtbi5sYXlvdXRDb250ZXh0LmFwcGx5Rm9vdG5vdGVTdHlsZShcbiAgICAgIGZsb2F0Q29udGFpbmVyLnZlcnRpY2FsLFxuICAgICAgKGNvbHVtbi5sYXlvdXRDb250ZXh0IGFzIGFueSkubm9kZUNvbnRleHQgJiZcbiAgICAgICAgKGNvbHVtbi5sYXlvdXRDb250ZXh0IGFzIGFueSkubm9kZUNvbnRleHQuZGlyZWN0aW9uID09PSBcInJ0bFwiLFxuICAgICAgZWxlbWVudCxcbiAgICApO1xuICAgIGZsb2F0QXJlYS5jb252ZXJ0UGVyY2VudGFnZVNpemVzVG9QeChlbGVtZW50KTtcbiAgICBjb2x1bW4uc2V0Q29tcHV0ZWRJbnNldHMoZWxlbWVudCwgZmxvYXRBcmVhKTtcbiAgICBjb2x1bW4uc2V0Q29tcHV0ZWRXaWR0aEFuZEhlaWdodChlbGVtZW50LCBmbG9hdEFyZWEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZm9yYmlkKFxuICAgIGZsb2F0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdCxcbiAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICkge1xuICAgIGNvbnN0IGZvb3Rub3RlID0gZmxvYXQgYXMgRm9vdG5vdGU7XG4gICAgc3dpdGNoIChmb290bm90ZS5mb290bm90ZVBvbGljeSkge1xuICAgICAgY2FzZSBDc3MuaWRlbnQubGluZToge1xuICAgICAgICBjb25zdCBjb25zdHJhaW50ID0gbmV3IExpbmVGb290bm90ZVBvbGljeUxheW91dENvbnN0cmFpbnQoZm9vdG5vdGUpO1xuICAgICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmFkZExheW91dENvbnN0cmFpbnQoXG4gICAgICAgICAgY29uc3RyYWludCxcbiAgICAgICAgICBmb290bm90ZS5mbG9hdFJlZmVyZW5jZSxcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cblBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3lSZXNvbHZlci5yZWdpc3RlcihcbiAgbmV3IEZvb3Rub3RlTGF5b3V0U3RyYXRlZ3koKSxcbik7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBCcmVhayAtIENvbnRyb2wgZnJhZ21lbnRhdGlvbi5cbiAqL1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgUGx1Z2luIGZyb20gXCIuL3BsdWdpblwiO1xuXG4vKipcbiAqIENvbnZlcnQgb2xkIHBhZ2UtYnJlYWstKiBwcm9wZXJ0aWVzIHRvIGJyZWFrLSogcHJvcGVydGllcyB3aXRoIGFwcHJvcHJpYXRlXG4gKiB2YWx1ZXMgYXMgc3BlY2lmaWVkIGJ5IENTUyBGcmFnbWVudGF0aW9uIG1vZHVsZTpcbiAqIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtYnJlYWsvI3BhZ2UtYnJlYWstcHJvcGVydGllc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFBhZ2VCcmVha0FsaWFzZXMob3JpZ2luYWw6IHtcbiAgbmFtZTogc3RyaW5nO1xuICB2YWx1ZTogQ3NzLlZhbDtcbiAgaW1wb3J0YW50OiBib29sZWFuO1xufSk6IHsgbmFtZTogc3RyaW5nOyB2YWx1ZTogQ3NzLlZhbDsgaW1wb3J0YW50OiBib29sZWFuIH0ge1xuICBjb25zdCBuYW1lID0gb3JpZ2luYWxbXCJuYW1lXCJdO1xuICBjb25zdCB2YWx1ZSA9IG9yaWdpbmFsW1widmFsdWVcIl07XG4gIHN3aXRjaCAobmFtZSkge1xuICAgIGNhc2UgXCJwYWdlLWJyZWFrLWJlZm9yZVwiOlxuICAgIGNhc2UgXCJwYWdlLWJyZWFrLWFmdGVyXCI6XG4gICAgY2FzZSBcInBhZ2UtYnJlYWstaW5zaWRlXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBuYW1lLnJlcGxhY2UoL15wYWdlLS8sIFwiXCIpLFxuICAgICAgICB2YWx1ZTogdmFsdWUgPT09IENzcy5pZGVudC5hbHdheXMgPyBDc3MuaWRlbnQucGFnZSA6IHZhbHVlLFxuICAgICAgICBpbXBvcnRhbnQ6IG9yaWdpbmFsW1wiaW1wb3J0YW50XCJdLFxuICAgICAgfTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG9yaWdpbmFsO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBmb3JjZWRCcmVha1ZhbHVlczogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIHwgbnVsbCB9ID0ge1xuICBwYWdlOiB0cnVlLFxuICBsZWZ0OiB0cnVlLFxuICByaWdodDogdHJ1ZSxcbiAgcmVjdG86IHRydWUsXG4gIHZlcnNvOiB0cnVlLFxuICBjb2x1bW46IHRydWUsXG4gIHJlZ2lvbjogdHJ1ZSxcbn07XG5cbi8qKlxuICogUmV0dXJucyBpZiB0aGUgdmFsdWUgaXMgb25lIG9mIHRoZSBmb3JjZWQgYnJlYWsgdmFsdWVzLlxuICogQHBhcmFtIHZhbHVlIFRoZSBicmVhayB2YWx1ZSB0byBiZSBqdWRnZWQuIFRyZWF0cyBudWxsIGFzICdhdXRvJy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRm9yY2VkQnJlYWtWYWx1ZSh2YWx1ZTogc3RyaW5nIHwgbnVsbCk6IGJvb2xlYW4ge1xuICByZXR1cm4gISFmb3JjZWRCcmVha1ZhbHVlc1t2YWx1ZV07XG59XG5cbmV4cG9ydCBjb25zdCBhdm9pZEJyZWFrVmFsdWVzOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfCBudWxsIH0gPSB7XG4gIGF2b2lkOiB0cnVlLFxuICBcImF2b2lkLXBhZ2VcIjogdHJ1ZSxcbiAgXCJhdm9pZC1jb2x1bW5cIjogdHJ1ZSxcbiAgXCJhdm9pZC1yZWdpb25cIjogdHJ1ZSxcbn07XG5cbi8qKlxuICogUmV0dXJucyBpZiB0aGUgdmFsdWUgaXMgb25lIG9mIHRoZSBhdm9pZCBicmVhayB2YWx1ZXMuXG4gKiBAcGFyYW0gdmFsdWUgVGhlIGJyZWFrIHZhbHVlIHRvIGJlIGp1ZGdlZC4gVHJlYXRzIG51bGwgYXMgJ2F1dG8nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBdm9pZEJyZWFrVmFsdWUodmFsdWU6IHN0cmluZyB8IG51bGwpOiBib29sZWFuIHtcbiAgcmV0dXJuICEhYXZvaWRCcmVha1ZhbHVlc1t2YWx1ZV07XG59XG5cbi8qKlxuICogUmVzb2x2ZXMgdGhlIGVmZmVjdGl2ZSBicmVhayB2YWx1ZSBnaXZlbiB0d28gYnJlYWsgdmFsdWVzIGF0IGEgc2luZ2xlIGJyZWFrXG4gKiBwb2ludC4gVGhlIG9yZGVyIG9mIHRoZSBhcmd1bWVudHMgYXJlIHJlbGV2YW50LCBzaW5jZSBhIHZhbHVlIHNwZWNpZmllZCBvblxuICogdGhlIGxhdHRlciBlbGVtZW50IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBvbmUgb24gdGhlIGZvcm1lci4gQSBmb3JjZWQgYnJlYWtcbiAqIHZhbHVlIGlzIGNob3NlbiBpZiBwcmVzZW50LiBPdGhlcndpc2UsIGFuIGF2b2lkIGJyZWFrIHZhbHVlIGlzIGNob3NlbiBpZlxuICogcHJlc2VudC4gU2VlIENTUyBGcmFnbWVudGF0aW9uIE1vZHVsZSBmb3IgdGhlIHJ1bGU6XG4gKiAgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy1icmVhay8jZm9yY2VkLWJyZWFrc1xuICogIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtYnJlYWsvI3VuZm9yY2VkLWJyZWFrc1xuICogTm90ZSB0aGF0IHRob3VnaCB0aGUgc3BlYyByZXF1aXJlcyB0byBob25vciBtdWx0aXBsZSBicmVhayB2YWx1ZXMgYXQgYSBzaW5nbGVcbiAqIGJyZWFrIHBvaW50LCB0aGUgY3VycmVudCBpbXBsZW1lbnRhdGlvbiBjaG9vc2Ugb25lIG9mIHRoZW0gYW5kIGRpc2NhcmQgdGhlXG4gKiBvdGhlcnMuXG4gKiBAcGFyYW0gZmlyc3QgVGhlIGJyZWFrIHZhbHVlIHNwZWNpZmllZCBvbiB0aGUgZm9ybWVyIGVsZW1lbnQuIG51bGwgbWVhbnNcbiAqICAgICAnYXV0bycgKG5vdCBzcGVjaWZpZWQpXG4gKiBAcGFyYW0gc2Vjb25kIFRoZSBicmVhayB2YWx1ZSBzcGVjaWZpZWQgb24gdGhlIGxhdHRlciBlbGVtZW50LiBudWxsIG1lYW5zXG4gKiAgICAgJ2F1dG8nIChub3Qgc3BlY2lmaWVkKVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUoXG4gIGZpcnN0OiBzdHJpbmcgfCBudWxsLFxuICBzZWNvbmQ6IHN0cmluZyB8IG51bGwsXG4pOiBzdHJpbmcgfCBudWxsIHtcbiAgaWYgKCFmaXJzdCkge1xuICAgIHJldHVybiBzZWNvbmQ7XG4gIH0gZWxzZSBpZiAoIXNlY29uZCkge1xuICAgIHJldHVybiBmaXJzdDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBmaXJzdElzRm9yY2VkQnJlYWtWYWx1ZSA9IGlzRm9yY2VkQnJlYWtWYWx1ZShmaXJzdCk7XG4gICAgY29uc3Qgc2Vjb25kSXNGb3JjZWRCcmVha1ZhbHVlID0gaXNGb3JjZWRCcmVha1ZhbHVlKHNlY29uZCk7XG4gICAgaWYgKGZpcnN0SXNGb3JjZWRCcmVha1ZhbHVlICYmIHNlY29uZElzRm9yY2VkQnJlYWtWYWx1ZSkge1xuICAgICAgc3dpdGNoIChzZWNvbmQpIHtcbiAgICAgICAgY2FzZSBcImNvbHVtblwiOlxuICAgICAgICAgIC8vIFwiY29sdW1uXCIgaXMgdGhlIHdlYWtlc3QgdmFsdWVcbiAgICAgICAgICByZXR1cm4gZmlyc3Q7XG4gICAgICAgIGNhc2UgXCJyZWdpb25cIjpcbiAgICAgICAgICAvLyBcInJlZ2lvblwiIGlzIHN0cm9uZ2VyIHRoYW4gXCJjb2x1bW5cIiBidXQgd2Vha2VyIHRoYW4gcGFnZVxuICAgICAgICAgIC8vIHZhbHVlc1xuICAgICAgICAgIHJldHVybiBmaXJzdCA9PT0gXCJjb2x1bW5cIiA/IHNlY29uZCA6IGZpcnN0O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIHBhZ2UgdmFsdWVzIGFyZSBzdHJvbmdlc3RcbiAgICAgICAgICByZXR1cm4gc2Vjb25kO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2Vjb25kSXNGb3JjZWRCcmVha1ZhbHVlKSB7XG4gICAgICByZXR1cm4gc2Vjb25kO1xuICAgIH0gZWxzZSBpZiAoZmlyc3RJc0ZvcmNlZEJyZWFrVmFsdWUpIHtcbiAgICAgIHJldHVybiBmaXJzdDtcbiAgICB9IGVsc2UgaWYgKGlzQXZvaWRCcmVha1ZhbHVlKHNlY29uZCkpIHtcbiAgICAgIHJldHVybiBzZWNvbmQ7XG4gICAgfSBlbHNlIGlmIChpc0F2b2lkQnJlYWtWYWx1ZShmaXJzdCkpIHtcbiAgICAgIHJldHVybiBmaXJzdDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHNlY29uZDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJyZWFrVmFsdWVUb1N0YXJ0U2lkZVZhbHVlKGJyZWFrVmFsdWU6IHN0cmluZyB8IG51bGwpOiBzdHJpbmcge1xuICBzd2l0Y2ggKGJyZWFrVmFsdWUpIHtcbiAgICBjYXNlIFwibGVmdFwiOlxuICAgIGNhc2UgXCJyaWdodFwiOlxuICAgIGNhc2UgXCJyZWN0b1wiOlxuICAgIGNhc2UgXCJ2ZXJzb1wiOlxuICAgICAgcmV0dXJuIGJyZWFrVmFsdWU7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBcImFueVwiO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFNpZGVWYWx1ZVRvQnJlYWtWYWx1ZShcbiAgc3RhcnRTaWRlVmFsdWU6IHN0cmluZyxcbik6IHN0cmluZyB8IG51bGwge1xuICBzd2l0Y2ggKHN0YXJ0U2lkZVZhbHVlKSB7XG4gICAgY2FzZSBcImxlZnRcIjpcbiAgICBjYXNlIFwicmlnaHRcIjpcbiAgICBjYXNlIFwicmVjdG9cIjpcbiAgICBjYXNlIFwidmVyc29cIjpcbiAgICAgIHJldHVybiBzdGFydFNpZGVWYWx1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuUGx1Z2luLnJlZ2lzdGVySG9vayhcIlNJTVBMRV9QUk9QRVJUWVwiLCBjb252ZXJ0UGFnZUJyZWFrQWxpYXNlcyk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgTGF5b3V0SGVscGVyIC0gSGVscGVyIGZ1bmN0aW9ucyBvZiBMYXlvdXQuXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5pbXBvcnQgKiBhcyBWdHJlZUltcGwgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCB7IExheW91dCwgVnRyZWUgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG4vKipcbiAqIFRob3VnaCBtZXRob2QgdXNlZCB0byBiZSB1c2VkIGFzIGEgd29ya2Fyb3VuZCBmb3IgQ2hyb21lIGJ1ZywgaXQgc2VlbXMgdGhhdFxuICogdGhlIGJ1ZyBoYXMgYmVlbiBhbHJlYWR5IGZpeGVkOlxuICogICBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yOTc4MDhcbiAqIFdlIG5vdyB1c2UgdGhpcyBtZXRob2QgYXMgYSB3b3JrYXJvdW5kIGZvciBGaXJlZm94IGJ1ZzpcbiAqICAgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTE1OTMwOVxuICovXG5leHBvcnQgZnVuY3Rpb24gZml4Qm94ZXNGb3JOb2RlKFxuICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgYm94ZXM6IFZ0cmVlLkNsaWVudFJlY3RbXSxcbiAgbm9kZTogTm9kZSxcbik6IFZ0cmVlLkNsaWVudFJlY3RbXSB7XG4gIGNvbnN0IGZ1bGxSYW5nZSA9IG5vZGUub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICBmdWxsUmFuZ2Uuc2V0U3RhcnQobm9kZSwgMCk7XG4gIGZ1bGxSYW5nZS5zZXRFbmQobm9kZSwgbm9kZS50ZXh0Q29udGVudC5sZW5ndGgpO1xuICBjb25zdCBmdWxsQm94ZXMgPSBjbGllbnRMYXlvdXQuZ2V0UmFuZ2VDbGllbnRSZWN0cyhmdWxsUmFuZ2UpO1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZm9yIChjb25zdCBib3ggb2YgYm94ZXMpIHtcbiAgICBsZXQgazogbnVtYmVyO1xuICAgIGZvciAoayA9IDA7IGsgPCBmdWxsQm94ZXMubGVuZ3RoOyBrKyspIHtcbiAgICAgIGNvbnN0IGZ1bGxCb3ggPSBmdWxsQm94ZXNba107XG4gICAgICBpZiAoXG4gICAgICAgIGJveC50b3AgPj0gZnVsbEJveC50b3AgJiZcbiAgICAgICAgYm94LmJvdHRvbSA8PSBmdWxsQm94LmJvdHRvbSAmJlxuICAgICAgICBNYXRoLmFicyhib3gubGVmdCAtIGZ1bGxCb3gubGVmdCkgPCAxXG4gICAgICApIHtcbiAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgIHRvcDogYm94LnRvcCxcbiAgICAgICAgICBsZWZ0OiBmdWxsQm94LmxlZnQsXG4gICAgICAgICAgYm90dG9tOiBib3guYm90dG9tLFxuICAgICAgICAgIHJpZ2h0OiBmdWxsQm94LnJpZ2h0LFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChrID09IGZ1bGxCb3hlcy5sZW5ndGgpIHtcbiAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJDb3VsZCBub3QgZml4IGNoYXJhY3RlciBib3hcIik7XG4gICAgICByZXN1bHQucHVzaChib3gpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIFwiYWZ0ZXJcIiBlZGdlIGluIHRoZSBibG9jay1wcm9ncmVzc2lvblxuICogZGltZW5zaW9uLiBSZXR1cm4gMCBpZiBwb3NpdGlvbiB3YXMgZGV0ZXJtaW5lZCBzdWNjZXNzZnVsbHkgYW5kIHJldHVyblxuICogbm9uLXplcm8gaWYgcG9zaXRpb24gY291bGQgbm90IGJlIGRldGVybWluZWQgYW5kIHRoZSBub2RlIHNob3VsZCBiZVxuICogY29uc2lkZXJlZCB6ZXJvLWhlaWdodC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUVkZ2UoXG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gIGV4dHJhT2Zmc2V0OiBudW1iZXIsXG4gIHZlcnRpY2FsOiBib29sZWFuLFxuKTogbnVtYmVyIHtcbiAgY29uc3Qgbm9kZSA9IG5vZGVDb250ZXh0LnZpZXdOb2RlO1xuICBpZiAoIW5vZGUpIHtcbiAgICByZXR1cm4gTmFOO1xuICB9XG4gIGlmIChub2RlLm5vZGVUeXBlID09IDEpIHtcbiAgICBpZiAobm9kZUNvbnRleHQuYWZ0ZXIgfHwgIW5vZGVDb250ZXh0LmlubGluZSkge1xuICAgICAgY29uc3QgY2JveCA9IGNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChub2RlIGFzIEVsZW1lbnQpO1xuICAgICAgaWYgKGNib3gucmlnaHQgPj0gY2JveC5sZWZ0ICYmIGNib3guYm90dG9tID49IGNib3gudG9wKSB7XG4gICAgICAgIGlmIChub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgICAgIHJldHVybiB2ZXJ0aWNhbCA/IGNib3gubGVmdCA6IGNib3guYm90dG9tO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB2ZXJ0aWNhbCA/IGNib3gucmlnaHQgOiBjYm94LnRvcDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gTmFOO1xuICB9IGVsc2Uge1xuICAgIGxldCBlZGdlID0gTmFOO1xuICAgIGNvbnN0IHJhbmdlID0gbm9kZS5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgY29uc3QgbGVuZ3RoID0gbm9kZS50ZXh0Q29udGVudC5sZW5ndGg7XG4gICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgIHJldHVybiBOYU47XG4gICAgfVxuICAgIGlmIChub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgZXh0cmFPZmZzZXQgKz0gbGVuZ3RoO1xuICAgIH1cbiAgICBpZiAoZXh0cmFPZmZzZXQgPj0gbGVuZ3RoKSB7XG4gICAgICBleHRyYU9mZnNldCA9IGxlbmd0aCAtIDE7XG4gICAgfVxuICAgIHJhbmdlLnNldFN0YXJ0KG5vZGUsIGV4dHJhT2Zmc2V0KTtcbiAgICByYW5nZS5zZXRFbmQobm9kZSwgZXh0cmFPZmZzZXQgKyAxKTtcbiAgICBsZXQgYm94ZXMgPSBjbGllbnRMYXlvdXQuZ2V0UmFuZ2VDbGllbnRSZWN0cyhyYW5nZSk7XG4gICAgaWYgKHZlcnRpY2FsICYmIEJhc2UuY2hlY2tWZXJ0aWNhbEJCb3hCdWcoZG9jdW1lbnQuYm9keSkpIHtcbiAgICAgIGJveGVzID0gZml4Qm94ZXNGb3JOb2RlKGNsaWVudExheW91dCwgYm94ZXMsIG5vZGUpO1xuICAgIH1cbiAgICBsZXQgbWF4U2l6ZSA9IDA7XG5cbiAgICAvLyBHZXQgZmlyc3Qgb2YgdGhlIHdpZGVzdCBib3hlcyAod29ya3MgYXJvdW5kIENocm9tZSByZXN1bHRzIGZvciBzb2Z0XG4gICAgLy8gaHlwaGVucykuXG4gICAgZm9yIChjb25zdCBib3ggb2YgYm94ZXMpIHtcbiAgICAgIGNvbnN0IGJveFNpemUgPSB2ZXJ0aWNhbCA/IGJveC5ib3R0b20gLSBib3gudG9wIDogYm94LnJpZ2h0IC0gYm94LmxlZnQ7XG4gICAgICBpZiAoXG4gICAgICAgIGJveC5yaWdodCA+IGJveC5sZWZ0ICYmXG4gICAgICAgIGJveC5ib3R0b20gPiBib3gudG9wICYmXG4gICAgICAgIChpc05hTihlZGdlKSB8fCBib3hTaXplID4gbWF4U2l6ZSlcbiAgICAgICkge1xuICAgICAgICBlZGdlID0gdmVydGljYWwgPyBib3gubGVmdCA6IGJveC5ib3R0b207XG4gICAgICAgIG1heFNpemUgPSBib3hTaXplO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZWRnZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudEhlaWdodChcbiAgZWxlbWVudDogRWxlbWVudCxcbiAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICB2ZXJ0aWNhbDogYm9vbGVhbixcbik6IG51bWJlciB7XG4gIGNvbnN0IHJlY3QgPSBjb2x1bW4uY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KGVsZW1lbnQpO1xuICBjb25zdCBtYXJnaW4gPSBjb2x1bW4uZ2V0Q29tcHV0ZWRNYXJnaW4oZWxlbWVudCk7XG4gIHJldHVybiB2ZXJ0aWNhbFxuICAgID8gcmVjdFtcIndpZHRoXCJdICsgbWFyZ2luW1wibGVmdFwiXSArIG1hcmdpbltcInJpZ2h0XCJdXG4gICAgOiByZWN0W1wiaGVpZ2h0XCJdICsgbWFyZ2luW1widG9wXCJdICsgbWFyZ2luW1wiYm90dG9tXCJdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNPcnBoYW4obm9kZTogTm9kZSk6IGJvb2xlYW4ge1xuICB3aGlsZSAobm9kZSkge1xuICAgIGlmIChub2RlLnBhcmVudE5vZGUgPT09IG5vZGUub3duZXJEb2N1bWVudCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRm9sbG93aW5nU2libGluZ3MoXG4gIHBhcmVudE5vZGU6IE5vZGUsXG4gIHZpZXdOb2RlOiBOb2RlLFxuKTogdm9pZCB7XG4gIGlmICghcGFyZW50Tm9kZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgbGFzdENoaWxkOiBOb2RlO1xuICB3aGlsZSAoKGxhc3RDaGlsZCA9IHBhcmVudE5vZGUubGFzdENoaWxkKSAhPSB2aWV3Tm9kZSkge1xuICAgIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobGFzdENoaWxkKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTcGVjaWFsKGU6IEVsZW1lbnQpOiBib29sZWFuIHtcbiAgcmV0dXJuICEhZS5nZXRBdHRyaWJ1dGUoVnRyZWVJbXBsLlNQRUNJQUxfQVRUUik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NwZWNpYWxOb2RlQ29udGV4dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgaWYgKCFub2RlQ29udGV4dCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB2aWV3Tm9kZSA9IG5vZGVDb250ZXh0LnZpZXdOb2RlO1xuICBpZiAodmlld05vZGUgJiYgdmlld05vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICByZXR1cm4gaXNTcGVjaWFsKHZpZXdOb2RlIGFzIEVsZW1lbnQpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IEJyZWFrUG9zaXRpb24gLSBEZWZpbml0aW9ucyBvZiBCcmVha1Bvc2l0aW9uLlxuICovXG5pbXBvcnQgKiBhcyBCcmVhayBmcm9tIFwiLi9icmVha1wiO1xuaW1wb3J0ICogYXMgTGF5b3V0SGVscGVyIGZyb20gXCIuL2xheW91dC1oZWxwZXJcIjtcbmltcG9ydCB7IExheW91dCwgUmVwZXRpdGl2ZUVsZW1lbnQsIFZ0cmVlIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuLyoqXG4gKiBQb3RlbnRpYWwgYnJlYWtpbmcgcG9zaXRpb24uXG4gKi9cbmV4cG9ydCB0eXBlIEJyZWFrUG9zaXRpb24gPSBMYXlvdXQuQnJlYWtQb3NpdGlvbjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0QnJlYWtQb3NpdGlvblxuICBpbXBsZW1lbnRzIExheW91dC5BYnN0cmFjdEJyZWFrUG9zaXRpb24ge1xuICBhYnN0cmFjdCBmaW5kQWNjZXB0YWJsZUJyZWFrKFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBwZW5hbHR5OiBudW1iZXIsXG4gICk6IFZ0cmVlLk5vZGVDb250ZXh0O1xuXG4gIGFic3RyYWN0IGdldE1pbkJyZWFrUGVuYWx0eSgpOiBudW1iZXI7XG5cbiAgY2FsY3VsYXRlT2Zmc2V0KGNvbHVtbik6IHsgY3VycmVudDogbnVtYmVyOyBtaW5pbXVtOiBudW1iZXIgfSB7XG4gICAgcmV0dXJuIGNhbGN1bGF0ZU9mZnNldChcbiAgICAgIHRoaXMuZ2V0Tm9kZUNvbnRleHQoKSxcbiAgICAgIGNvbHVtbi5jb2xsZWN0RWxlbWVudHNPZmZzZXQoKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYnJlYWtQb3NpdGlvbkNob3Nlbihjb2x1bW46IExheW91dC5Db2x1bW4pOiB2b2lkIHt9XG5cbiAgZ2V0Tm9kZUNvbnRleHQoKTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVPZmZzZXQoXG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgZWxlbWVudHNPZmZzZXRzOiBSZXBldGl0aXZlRWxlbWVudC5FbGVtZW50c09mZnNldFtdLFxuKTogeyBjdXJyZW50OiBudW1iZXI7IG1pbmltdW06IG51bWJlciB9IHtcbiAgcmV0dXJuIHtcbiAgICBjdXJyZW50OiBlbGVtZW50c09mZnNldHMucmVkdWNlKFxuICAgICAgKHZhbCwgcmVwZXRpdGl2ZUVsZW1lbnQpID0+XG4gICAgICAgIHZhbCArIHJlcGV0aXRpdmVFbGVtZW50LmNhbGN1bGF0ZU9mZnNldChub2RlQ29udGV4dCksXG4gICAgICAwLFxuICAgICksXG4gICAgbWluaW11bTogZWxlbWVudHNPZmZzZXRzLnJlZHVjZShcbiAgICAgICh2YWwsIHJlcGV0aXRpdmVFbGVtZW50KSA9PlxuICAgICAgICB2YWwgKyByZXBldGl0aXZlRWxlbWVudC5jYWxjdWxhdGVNaW5pbXVtT2Zmc2V0KG5vZGVDb250ZXh0KSxcbiAgICAgIDAsXG4gICAgKSxcbiAgfTtcbn1cblxuLyoqXG4gKiBQb3RlbnRpYWwgZWRnZSBicmVha2luZyBwb3NpdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEVkZ2VCcmVha1Bvc2l0aW9uIGV4dGVuZHMgQWJzdHJhY3RCcmVha1Bvc2l0aW9uXG4gIGltcGxlbWVudHMgTGF5b3V0LkVkZ2VCcmVha1Bvc2l0aW9uIHtcbiAgb3ZlcmZsb3dJZlJlcGV0aXRpdmVFbGVtZW50c0Ryb3BwZWQ6IGJvb2xlYW47XG4gIHByb3RlY3RlZCBpc0VkZ2VVcGRhdGVkOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgZWRnZTogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgcG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSBicmVha09uRWRnZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwdWJsaWMgb3ZlcmZsb3dzOiBib29sZWFuLFxuICAgIHB1YmxpYyByZWFkb25seSBjb21wdXRlZEJsb2NrU2l6ZTogbnVtYmVyLFxuICApIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMub3ZlcmZsb3dJZlJlcGV0aXRpdmVFbGVtZW50c0Ryb3BwZWQgPSBvdmVyZmxvd3M7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmaW5kQWNjZXB0YWJsZUJyZWFrKFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBwZW5hbHR5OiBudW1iZXIsXG4gICk6IFZ0cmVlLk5vZGVDb250ZXh0IHtcbiAgICB0aGlzLnVwZGF0ZU92ZXJmbG93cyhjb2x1bW4pO1xuICAgIGlmIChwZW5hbHR5IDwgdGhpcy5nZXRNaW5CcmVha1BlbmFsdHkoKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjb2x1bW4uZmluZEVkZ2VCcmVha1Bvc2l0aW9uKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0TWluQnJlYWtQZW5hbHR5KCk6IG51bWJlciB7XG4gICAgaWYgKCF0aGlzLmlzRWRnZVVwZGF0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkVkZ2VCcmVha1Bvc2l0aW9uLnByb3RvdHlwZS51cGRhdGVFZGdlIG5vdCBjYWxsZWRcIik7XG4gICAgfVxuICAgIGNvbnN0IHByZWZlckRyb3BwaW5nID1cbiAgICAgIHRoaXMuaXNGaXJzdENvbnRlbnRPZlJlcGV0aXRpdmVFbGVtZW50c093bmVyKCkgJiZcbiAgICAgICF0aGlzLm92ZXJmbG93SWZSZXBldGl0aXZlRWxlbWVudHNEcm9wcGVkO1xuICAgIHJldHVybiAoXG4gICAgICAoQnJlYWsuaXNBdm9pZEJyZWFrVmFsdWUodGhpcy5icmVha09uRWRnZSkgPyAxIDogMCkgK1xuICAgICAgKHRoaXMub3ZlcmZsb3dzICYmICFwcmVmZXJEcm9wcGluZyA/IDMgOiAwKSArXG4gICAgICAodGhpcy5wb3NpdGlvbi5wYXJlbnQgPyB0aGlzLnBvc2l0aW9uLnBhcmVudC5icmVha1BlbmFsdHkgOiAwKVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUVkZ2UoY29sdW1uOiBMYXlvdXQuQ29sdW1uKSB7XG4gICAgY29uc3QgY2xvbmVkUGFkZGluZ0JvcmRlciA9IGNvbHVtbi5jYWxjdWxhdGVDbG9uZWRQYWRkaW5nQm9yZGVyKFxuICAgICAgdGhpcy5wb3NpdGlvbixcbiAgICApO1xuICAgIHRoaXMuZWRnZSA9XG4gICAgICBMYXlvdXRIZWxwZXIuY2FsY3VsYXRlRWRnZShcbiAgICAgICAgdGhpcy5wb3NpdGlvbixcbiAgICAgICAgY29sdW1uLmNsaWVudExheW91dCxcbiAgICAgICAgMCxcbiAgICAgICAgY29sdW1uLnZlcnRpY2FsLFxuICAgICAgKSArIGNsb25lZFBhZGRpbmdCb3JkZXI7XG4gICAgdGhpcy5pc0VkZ2VVcGRhdGVkID0gdHJ1ZTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlT3ZlcmZsb3dzKGNvbHVtbjogTGF5b3V0LkNvbHVtbikge1xuICAgIGlmICghdGhpcy5pc0VkZ2VVcGRhdGVkKSB7XG4gICAgICB0aGlzLnVwZGF0ZUVkZ2UoY29sdW1uKTtcbiAgICB9XG4gICAgY29uc3QgZWRnZSA9IHRoaXMuZWRnZTtcbiAgICBjb25zdCBvZmZzZXRzID0gdGhpcy5jYWxjdWxhdGVPZmZzZXQoY29sdW1uKTtcbiAgICB0aGlzLm92ZXJmbG93SWZSZXBldGl0aXZlRWxlbWVudHNEcm9wcGVkID0gY29sdW1uLmlzT3ZlcmZsb3duKFxuICAgICAgZWRnZSArIChjb2x1bW4udmVydGljYWwgPyAtMSA6IDEpICogb2Zmc2V0cy5taW5pbXVtLFxuICAgICk7XG4gICAgdGhpcy5vdmVyZmxvd3MgPSB0aGlzLnBvc2l0aW9uLm92ZXJmbG93ID0gY29sdW1uLmlzT3ZlcmZsb3duKFxuICAgICAgZWRnZSArIChjb2x1bW4udmVydGljYWwgPyAtMSA6IDEpICogb2Zmc2V0cy5jdXJyZW50LFxuICAgICk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGdldE5vZGVDb250ZXh0KCk6IFZ0cmVlLk5vZGVDb250ZXh0IHtcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvbjtcbiAgfVxuXG4gIHByaXZhdGUgaXNGaXJzdENvbnRlbnRPZlJlcGV0aXRpdmVFbGVtZW50c093bmVyKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG5vZGVDb250ZXh0ID0gdGhpcy5nZXROb2RlQ29udGV4dCgpO1xuICAgIGlmICghbm9kZUNvbnRleHQgfHwgIW5vZGVDb250ZXh0LnBhcmVudCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCB7IGZvcm1hdHRpbmdDb250ZXh0IH0gPSBub2RlQ29udGV4dC5wYXJlbnQ7XG4gICAgaWYgKFxuICAgICAgIVJlcGV0aXRpdmVFbGVtZW50LmlzSW5zdGFuY2VPZlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgKVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiByZXBldGl0aXZlRWxlbWVudHMuaXNGaXJzdENvbnRlbnROb2RlKG5vZGVDb250ZXh0KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgRGlzcGxheSAtIENTUyBEaXNwbGF5IE1vZHVsZVxuICovXG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5cbmV4cG9ydCBjb25zdCBGTE9XX1JPT1RfQVRUUiA9IFwiZGF0YS12aXZsaW9zdHlsZS1mbG93LXJvb3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzRmxvd1Jvb3QoZWxlbWVudDogRWxlbWVudCk6IGJvb2xlYW4ge1xuICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoRkxPV19ST09UX0FUVFIpID09PSBcInRydWVcIjtcbn1cblxuLyoqXG4gKiAnQmxvY2tpZnknIGEgZGlzcGxheSB2YWx1ZS5cbiAqIGNmLiBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLWRpc3BsYXkvI3RyYW5zZm9ybWF0aW9uc1xuICogICAgIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MyL3Zpc3VyZW4uaHRtbCNkaXMtcG9zLWZsb1xuICovXG5leHBvcnQgZnVuY3Rpb24gYmxvY2tpZnkoZGlzcGxheTogQ3NzLklkZW50KTogQ3NzLklkZW50IHtcbiAgY29uc3QgZGlzcGxheVN0ciA9IGRpc3BsYXkudG9TdHJpbmcoKTtcbiAgbGV0IGJsb2NraWZpZWRTdHI6IHN0cmluZztcbiAgc3dpdGNoIChkaXNwbGF5U3RyKSB7XG4gICAgY2FzZSBcImlubGluZS1mbGV4XCI6XG4gICAgICBibG9ja2lmaWVkU3RyID0gXCJmbGV4XCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiaW5saW5lLWdyaWRcIjpcbiAgICAgIGJsb2NraWZpZWRTdHIgPSBcImdyaWRcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJpbmxpbmUtdGFibGVcIjpcbiAgICAgIGJsb2NraWZpZWRTdHIgPSBcInRhYmxlXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiaW5saW5lXCI6XG4gICAgY2FzZSBcInRhYmxlLXJvdy1ncm91cFwiOlxuICAgIGNhc2UgXCJ0YWJsZS1jb2x1bW5cIjpcbiAgICBjYXNlIFwidGFibGUtY29sdW1uLWdyb3VwXCI6XG4gICAgY2FzZSBcInRhYmxlLWhlYWRlci1ncm91cFwiOlxuICAgIGNhc2UgXCJ0YWJsZS1mb290ZXItZ3JvdXBcIjpcbiAgICBjYXNlIFwidGFibGUtcm93XCI6XG4gICAgY2FzZSBcInRhYmxlLWNlbGxcIjpcbiAgICBjYXNlIFwidGFibGUtY2FwdGlvblwiOlxuICAgIGNhc2UgXCJpbmxpbmUtYmxvY2tcIjpcbiAgICAgIGJsb2NraWZpZWRTdHIgPSBcImJsb2NrXCI7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYmxvY2tpZmllZFN0ciA9IGRpc3BsYXlTdHI7XG4gIH1cbiAgcmV0dXJuIENzcy5nZXROYW1lKGJsb2NraWZpZWRTdHIpO1xufVxuXG4vKipcbiAqIEp1ZGdlIGlmIHRoZSBnZW5lcmF0ZWQgYm94IGlzIGFic29sdXRlbHkgcG9zaXRpb25lZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQWJzb2x1dGVseVBvc2l0aW9uZWQocG9zaXRpb246IENzcy5JZGVudCk6IGJvb2xlYW4ge1xuICByZXR1cm4gcG9zaXRpb24gPT09IENzcy5pZGVudC5hYnNvbHV0ZSB8fCBwb3NpdGlvbiA9PT0gQ3NzLmlkZW50LmZpeGVkO1xufVxuXG4vKipcbiAqIEdldCBjb21wdXRlZCB2YWx1ZXMgb2YgZGlzcGxheSwgcG9zaXRpb24gYW5kIGZsb2F0LlxuICogY2YuIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtZGlzcGxheS8jdHJhbnNmb3JtYXRpb25zXG4gKiAgICAgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2NzczIvdmlzdXJlbi5odG1sI2Rpcy1wb3MtZmxvXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb21wdXRlZERpc2xheVZhbHVlKFxuICBkaXNwbGF5OiBDc3MuSWRlbnQsXG4gIHBvc2l0aW9uOiBDc3MuSWRlbnQsXG4gIGZsb2F0OiBDc3MuSWRlbnQsXG4gIGlzUm9vdDogYm9vbGVhbixcbik6IHsgZGlzcGxheTogQ3NzLklkZW50OyBwb3NpdGlvbjogQ3NzLklkZW50OyBmbG9hdDogQ3NzLklkZW50IH0ge1xuICBpZiAoZGlzcGxheSA9PT0gQ3NzLmlkZW50Lm5vbmUpIHtcbiAgICAvLyBubyBuZWVkIHRvIGNvbnZlcnQgdmFsdWVzIHdoZW4gJ2Rpc3BsYXknIGlzICdub25lJ1xuICB9IGVsc2UgaWYgKGlzQWJzb2x1dGVseVBvc2l0aW9uZWQocG9zaXRpb24pKSB7XG4gICAgZmxvYXQgPSBDc3MuaWRlbnQubm9uZTtcbiAgICBkaXNwbGF5ID0gYmxvY2tpZnkoZGlzcGxheSk7XG4gIH0gZWxzZSBpZiAoKGZsb2F0ICYmIGZsb2F0ICE9PSBDc3MuaWRlbnQubm9uZSkgfHwgaXNSb290KSB7XG4gICAgZGlzcGxheSA9IGJsb2NraWZ5KGRpc3BsYXkpO1xuICB9XG4gIHJldHVybiB7IGRpc3BsYXksIHBvc2l0aW9uLCBmbG9hdCB9O1xufVxuXG4vKipcbiAqIEp1ZGdlcyBpZiB0aGUgZ2VuZXJhdGVkIGJveCBpcyBibG9jay5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQmxvY2soXG4gIGRpc3BsYXk6IENzcy5JZGVudCxcbiAgcG9zaXRpb246IENzcy5JZGVudCxcbiAgZmxvYXQ6IENzcy5JZGVudCxcbiAgaXNSb290OiBib29sZWFuLFxuKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgZ2V0Q29tcHV0ZWREaXNsYXlWYWx1ZShkaXNwbGF5LCBwb3NpdGlvbiwgZmxvYXQsIGlzUm9vdCkuZGlzcGxheSA9PT1cbiAgICBDc3MuaWRlbnQuYmxvY2tcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSW5saW5lTGV2ZWwoZGlzcGxheTogQ3NzLklkZW50KTogYm9vbGVhbiB7XG4gIHN3aXRjaCAoZGlzcGxheS50b1N0cmluZygpKSB7XG4gICAgY2FzZSBcImlubGluZVwiOlxuICAgIGNhc2UgXCJpbmxpbmUtYmxvY2tcIjpcbiAgICBjYXNlIFwiaW5saW5lLWxpc3QtaXRlbVwiOlxuICAgIGNhc2UgXCJpbmxpbmUtZmxleFwiOlxuICAgIGNhc2UgXCJpbmxpbmUtZ3JpZFwiOlxuICAgIGNhc2UgXCJydWJ5XCI6XG4gICAgY2FzZSBcImlubGluZS10YWJsZVwiOlxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNSdWJ5SW50ZXJuYWxEaXNwbGF5KGRpc3BsYXk6IENzcy5JZGVudCk6IGJvb2xlYW4ge1xuICBzd2l0Y2ggKGRpc3BsYXkudG9TdHJpbmcoKSkge1xuICAgIGNhc2UgXCJydWJ5LWJhc2VcIjpcbiAgICBjYXNlIFwicnVieS10ZXh0XCI6XG4gICAgY2FzZSBcInJ1YnktYmFzZS1jb250YWluZXJcIjpcbiAgICBjYXNlIFwicnVieS10ZXh0LWNvbnRhaW5lclwiOlxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIEp1ZGdlcyBpZiB0aGUgZ2VuZXJhdGVkIGJveCBlc3RhYmxpc2hlcyBhIG5ldyBibG9jayBmb3JtYXR0aW5nIGNvbnRleHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlc3RhYmxpc2hlc0JGQyhcbiAgZGlzcGxheTogQ3NzLklkZW50LFxuICBwb3NpdGlvbjogQ3NzLklkZW50LFxuICBmbG9hdDogQ3NzLklkZW50LFxuICBvdmVyZmxvdzogQ3NzLklkZW50LFxuICB3cml0aW5nTW9kZT86IENzcy5JZGVudCxcbiAgcGFyZW50V3JpdGluZ01vZGU/OiBDc3MuSWRlbnQsXG4gIGlzRmxvd1Jvb3Q/OiBib29sZWFuLFxuKTogYm9vbGVhbiB7XG4gIHdyaXRpbmdNb2RlID0gd3JpdGluZ01vZGUgfHwgcGFyZW50V3JpdGluZ01vZGUgfHwgQ3NzLmlkZW50Lmhvcml6b250YWxfdGI7XG4gIHJldHVybiAoXG4gICAgISFpc0Zsb3dSb290IHx8XG4gICAgKCEhZmxvYXQgJiYgZmxvYXQgIT09IENzcy5pZGVudC5ub25lKSB8fFxuICAgIGlzQWJzb2x1dGVseVBvc2l0aW9uZWQocG9zaXRpb24pIHx8XG4gICAgZGlzcGxheSA9PT0gQ3NzLmlkZW50LmlubGluZV9ibG9jayB8fFxuICAgIGRpc3BsYXkgPT09IENzcy5pZGVudC50YWJsZV9jZWxsIHx8XG4gICAgZGlzcGxheSA9PT0gQ3NzLmlkZW50LnRhYmxlX2NhcHRpb24gfHxcbiAgICBkaXNwbGF5ID09IENzcy5pZGVudC5mbGV4IHx8XG4gICAgKChkaXNwbGF5ID09PSBDc3MuaWRlbnQuYmxvY2sgfHwgZGlzcGxheSA9PT0gQ3NzLmlkZW50Lmxpc3RfaXRlbSkgJiZcbiAgICAgICEhb3ZlcmZsb3cgJiZcbiAgICAgIG92ZXJmbG93ICE9PSBDc3MuaWRlbnQudmlzaWJsZSkgfHxcbiAgICAoISFwYXJlbnRXcml0aW5nTW9kZSAmJiB3cml0aW5nTW9kZSAhPT0gcGFyZW50V3JpdGluZ01vZGUpXG4gICk7XG59XG5cbi8qKlxuICogSnVkZ2VzIGlmIHRoZSBnZW5lcmF0ZWQgYm94IGVzdGFibGlzaGVzIGEgY29udGFpbmluZyBibG9jayBmb3IgZGVzY2VuZGFudFxuICogYm94ZXMgd2l0aCAncG9zaXRpb246IGFic29sdXRlJy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVzdGFibGlzaGVzQ0JGb3JBYnNvbHV0ZShwb3NpdGlvbjogQ3NzLklkZW50KTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgcG9zaXRpb24gPT09IENzcy5pZGVudC5yZWxhdGl2ZSB8fFxuICAgIHBvc2l0aW9uID09PSBDc3MuaWRlbnQuYWJzb2x1dGUgfHxcbiAgICBwb3NpdGlvbiA9PT0gQ3NzLmlkZW50LmZpeGVkXG4gICk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgTGF5b3V0UHJvY2Vzc29yIC0gRGVmaW5pdGlvbnMgb2YgTGF5b3V0UHJvY2Vzc29yLlxuICovXG5pbXBvcnQgKiBhcyBCcmVha1Bvc2l0aW9uIGZyb20gXCIuL2JyZWFrLXBvc2l0aW9uXCI7XG5pbXBvcnQgKiBhcyBEaXNwbGF5IGZyb20gXCIuL2Rpc3BsYXlcIjtcbmltcG9ydCAqIGFzIExheW91dEhlbHBlciBmcm9tIFwiLi9sYXlvdXQtaGVscGVyXCI7XG5pbXBvcnQgKiBhcyBQbHVnaW4gZnJvbSBcIi4vcGx1Z2luXCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCB7IEZvcm1hdHRpbmdDb250ZXh0VHlwZSwgTGF5b3V0LCBMYXlvdXRQcm9jZXNzb3IsIFZ0cmVlIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuLyoqXG4gKiBQcm9jZXNzb3IgZG9pbmcgc29tZSBzcGVjaWFsIGxheW91dCAoZS5nLiB0YWJsZSBsYXlvdXQpXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGF5b3V0UHJvY2Vzc29yIHtcbiAgLyoqXG4gICAqIERvIGFjdHVhbCBsYXlvdXQgaW4gdGhlIGNvbHVtbiBzdGFydGluZyBmcm9tIGdpdmVuIE5vZGVDb250ZXh0LlxuICAgKi9cbiAgbGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcblxuICAvKipcbiAgICogUG90ZW50aWFsIGVkZ2UgYnJlYWtpbmcgcG9zaXRpb24uXG4gICAqL1xuICBjcmVhdGVFZGdlQnJlYWtQb3NpdGlvbihcbiAgICBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgYnJlYWtPbkVkZ2U6IHN0cmluZyB8IG51bGwsXG4gICAgb3ZlcmZsb3dzOiBib29sZWFuLFxuICAgIGNvbHVtbkJsb2NrU2l6ZTogbnVtYmVyLFxuICApOiBMYXlvdXQuQnJlYWtQb3NpdGlvbjtcblxuICAvKipcbiAgICogcHJvY2VzcyBub2RlY29udGV4dCBhdCB0aGUgc3RhcnQgb2YgYSBub24gaW5saW5lIGVsZW1lbnQuXG4gICAqIEByZXR1cm4gcmV0dXJuIHRydWUgaWYgeW91IHNraXAgdGhlIHN1YnNlcXVlbnQgbm9kZXNcbiAgICovXG4gIHN0YXJ0Tm9uSW5saW5lRWxlbWVudE5vZGUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbjtcblxuICAvKipcbiAgICogcHJvY2VzcyBub2RlY29udGV4dCBhZnRlciBhIG5vbiBpbmxpbmUgZWxlbWVudC5cbiAgICogQHJldHVybiByZXR1cm4gdHJ1ZSBpZiB5b3Ugc2tpcCB0aGUgc3Vic2VxdWVudCBub2Rlc1xuICAgKi9cbiAgYWZ0ZXJOb25JbmxpbmVFbGVtZW50Tm9kZShcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgc3RvcEF0T3ZlcmZsb3c6IGJvb2xlYW4sXG4gICk6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gaG9saW5nIHRydWVcbiAgICovXG4gIGZpbmlzaEJyZWFrKFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgZm9yY2VSZW1vdmVTZWxmOiBib29sZWFuLFxuICAgIGVuZE9mQ29sdW1uOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPjtcblxuICBjbGVhck92ZXJmbG93blZpZXdOb2RlcyhcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgcGFyZW50Tm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICByZW1vdmVTZWxmOiBib29sZWFuLFxuICApO1xufVxuXG4vKipcbiAqIFJlc29sdmVyIGZpbmRpbmcgYW4gYXBwcm9wcmlhdGUgTGF5b3V0UHJvY2Vzc29yIGdpdmVuIGEgZm9ybWF0dGluZyBjb250ZXh0XG4gKi9cbmV4cG9ydCBjbGFzcyBMYXlvdXRQcm9jZXNzb3JSZXNvbHZlciB7XG4gIC8qKlxuICAgKiBGaW5kIExheW91dFByb2Nlc3NvciBjb3JyZXNwb25kaW5nIHRvIGdpdmVuIGZvcm1hdHRpbmcgY29udGV4dC5cbiAgICovXG4gIGZpbmQoZm9ybWF0dGluZ0NvbnRleHQ6IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0KTogTGF5b3V0UHJvY2Vzc29yIHtcbiAgICBjb25zdCBob29rczogUGx1Z2luLlJlc29sdmVMYXlvdXRQcm9jZXNzb3JIb29rW10gPSBQbHVnaW4uZ2V0SG9va3NGb3JOYW1lKFxuICAgICAgUGx1Z2luLkhPT0tTLlJFU09MVkVfTEFZT1VUX1BST0NFU1NPUixcbiAgICApO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9va3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHByb2Nlc3NvciA9IGhvb2tzW2ldKGZvcm1hdHRpbmdDb250ZXh0KTtcbiAgICAgIGlmIChwcm9jZXNzb3IpIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NvcjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYE5vIHByb2Nlc3NvciBmb3VuZCBmb3IgYSBmb3JtYXR0aW5nIGNvbnRleHQ6ICR7Zm9ybWF0dGluZ0NvbnRleHQuZ2V0TmFtZSgpfWAsXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmxvY2tMYXlvdXRQcm9jZXNzb3IgaW1wbGVtZW50cyBMYXlvdXRQcm9jZXNzb3Ige1xuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBsYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBsZWFkaW5nRWRnZTogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBpZiAoY29sdW1uLmlzRmxvYXROb2RlQ29udGV4dChub2RlQ29udGV4dCkpIHtcbiAgICAgIHJldHVybiBjb2x1bW4ubGF5b3V0RmxvYXRPckZvb3Rub3RlKG5vZGVDb250ZXh0KTtcbiAgICB9IGVsc2UgaWYgKGNvbHVtbi5pc0JyZWFrYWJsZShub2RlQ29udGV4dCkpIHtcbiAgICAgIHJldHVybiBjb2x1bW4ubGF5b3V0QnJlYWthYmxlQmxvY2sobm9kZUNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY29sdW1uLmxheW91dFVuYnJlYWthYmxlKG5vZGVDb250ZXh0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjcmVhdGVFZGdlQnJlYWtQb3NpdGlvbihcbiAgICBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgYnJlYWtPbkVkZ2U6IHN0cmluZyB8IG51bGwsXG4gICAgb3ZlcmZsb3dzOiBib29sZWFuLFxuICAgIGNvbHVtbkJsb2NrU2l6ZTogbnVtYmVyLFxuICApOiBMYXlvdXQuQnJlYWtQb3NpdGlvbiB7XG4gICAgcmV0dXJuIG5ldyBCcmVha1Bvc2l0aW9uLkVkZ2VCcmVha1Bvc2l0aW9uKFxuICAgICAgcG9zaXRpb24uY29weSgpLFxuICAgICAgYnJlYWtPbkVkZ2UsXG4gICAgICBvdmVyZmxvd3MsXG4gICAgICBjb2x1bW5CbG9ja1NpemUsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Tm9uSW5saW5lRWxlbWVudE5vZGUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWZ0ZXJOb25JbmxpbmVFbGVtZW50Tm9kZShcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgc3RvcEF0T3ZlcmZsb3c6IGJvb2xlYW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNsZWFyT3ZlcmZsb3duVmlld05vZGVzKFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBwYXJlbnROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHJlbW92ZVNlbGY6IGJvb2xlYW4sXG4gICkge1xuICAgIGlmICghbm9kZUNvbnRleHQudmlld05vZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFub2RlQ29udGV4dC52aWV3Tm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudE5vZGUgPSBub2RlQ29udGV4dC52aWV3Tm9kZS5wYXJlbnROb2RlO1xuICAgIExheW91dEhlbHBlci5yZW1vdmVGb2xsb3dpbmdTaWJsaW5ncyhwYXJlbnROb2RlLCBub2RlQ29udGV4dC52aWV3Tm9kZSk7XG4gICAgaWYgKHJlbW92ZVNlbGYpIHtcbiAgICAgIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZUNvbnRleHQudmlld05vZGUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIGhvbGluZyB0cnVlXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZmluaXNoQnJlYWsoXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBmb3JjZVJlbW92ZVNlbGY6IGJvb2xlYW4sXG4gICAgZW5kT2ZDb2x1bW46IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCByZW1vdmVTZWxmID1cbiAgICAgIGZvcmNlUmVtb3ZlU2VsZiB8fFxuICAgICAgKG5vZGVDb250ZXh0LnZpZXdOb2RlICE9IG51bGwgJiZcbiAgICAgICAgbm9kZUNvbnRleHQudmlld05vZGUubm9kZVR5cGUgPT0gMSAmJlxuICAgICAgICAhbm9kZUNvbnRleHQuYWZ0ZXIpO1xuICAgIGNvbHVtbi5jbGVhck92ZXJmbG93blZpZXdOb2Rlcyhub2RlQ29udGV4dCwgcmVtb3ZlU2VsZik7XG4gICAgaWYgKGVuZE9mQ29sdW1uKSB7XG4gICAgICBjb2x1bW4uZml4SnVzdGlmaWNhdGlvbklmTmVlZGVkKG5vZGVDb250ZXh0LCB0cnVlKTtcbiAgICAgIGNvbHVtbi5sYXlvdXRDb250ZXh0LnByb2Nlc3NGcmFnbWVudGVkQmxvY2tFZGdlKFxuICAgICAgICByZW1vdmVTZWxmID8gbm9kZUNvbnRleHQgOiBub2RlQ29udGV4dC5wYXJlbnQsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJsb2NrRm9ybWF0dGluZ0NvbnRleHRcbiAgaW1wbGVtZW50cyBMYXlvdXRQcm9jZXNzb3IuQmxvY2tGb3JtYXR0aW5nQ29udGV4dCB7XG4gIGZvcm1hdHRpbmdDb250ZXh0VHlwZTogRm9ybWF0dGluZ0NvbnRleHRUeXBlID0gXCJCbG9ja1wiO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgcGFyZW50OiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCkge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXROYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiQmxvY2sgZm9ybWF0dGluZyBjb250ZXh0IChCbG9ja0Zvcm1hdHRpbmdDb250ZXh0KVwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNGaXJzdFRpbWUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBmaXJzdFRpbWU6IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmlyc3RUaW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UGFyZW50KCk6IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0IHtcbiAgICByZXR1cm4gdGhpcy5wYXJlbnQ7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNhdmVTdGF0ZSgpOiBhbnkge31cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHJlc3RvcmVTdGF0ZShzdGF0ZTogYW55KSB7fVxufVxuXG5leHBvcnQgY29uc3QgYmxvY2tMYXlvdXRQcm9jZXNzb3IgPSBuZXcgQmxvY2tMYXlvdXRQcm9jZXNzb3IoKTtcblxuZXhwb3J0IGNvbnN0IGlzSW5zdGFuY2VPZkJsb2NrRm9ybWF0dGluZ0NvbnRleHQgPVxuICBMYXlvdXRQcm9jZXNzb3IuaXNJbnN0YW5jZU9mQmxvY2tGb3JtYXR0aW5nQ29udGV4dDtcblxuUGx1Z2luLnJlZ2lzdGVySG9vayhcbiAgUGx1Z2luLkhPT0tTLlJFU09MVkVfRk9STUFUVElOR19DT05URVhULFxuICAobm9kZUNvbnRleHQsIGZpcnN0VGltZSwgZGlzcGxheSwgcG9zaXRpb24sIGZsb2F0U2lkZSwgaXNSb290KSA9PiB7XG4gICAgY29uc3QgcGFyZW50ID0gbm9kZUNvbnRleHQucGFyZW50O1xuICAgIGlmICghcGFyZW50ICYmIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgcGFyZW50ICYmXG4gICAgICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCAhPT0gcGFyZW50LmZvcm1hdHRpbmdDb250ZXh0XG4gICAgKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgbm9kZUNvbnRleHQuZXN0YWJsaXNoZXNCRkMgfHxcbiAgICAgICghbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQgJiZcbiAgICAgICAgRGlzcGxheS5pc0Jsb2NrKGRpc3BsYXksIHBvc2l0aW9uLCBmbG9hdFNpZGUsIGlzUm9vdCkpXG4gICAgKSB7XG4gICAgICByZXR1cm4gbmV3IEJsb2NrRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICAgIHBhcmVudCA/IHBhcmVudC5mb3JtYXR0aW5nQ29udGV4dCA6IG51bGwsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0sXG4pO1xuXG5QbHVnaW4ucmVnaXN0ZXJIb29rKFxuICBQbHVnaW4uSE9PS1MuUkVTT0xWRV9MQVlPVVRfUFJPQ0VTU09SLFxuICAoZm9ybWF0dGluZ0NvbnRleHQpID0+IHtcbiAgICBpZiAoZm9ybWF0dGluZ0NvbnRleHQgaW5zdGFuY2VvZiBCbG9ja0Zvcm1hdHRpbmdDb250ZXh0KSB7XG4gICAgICByZXR1cm4gYmxvY2tMYXlvdXRQcm9jZXNzb3I7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LFxuKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBMYXlvdXRSZXRyeWVycyAtIERlZmluaXRpb25zIG9mIExheW91dFJldHJ5ZXIuXG4gKi9cbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgeyBMYXlvdXQsIFZ0cmVlIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuLyoqXG4gKiBAYWJzdHJhY3RcbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0TGF5b3V0UmV0cnllciB7XG4gIGluaXRpYWxCcmVha1Bvc2l0aW9uczogTGF5b3V0LkJyZWFrUG9zaXRpb25bXSA9IG51bGw7XG4gIGluaXRpYWxTdGF0ZU9mRm9ybWF0dGluZ0NvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0ID0gbnVsbDtcbiAgaW5pdGlhbFBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgaW5pdGlhbEZyYWdtZW50TGF5b3V0Q29uc3RyYWludHM6IExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnRbXTtcblxuICBsYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICB0aGlzLnByZXBhcmVMYXlvdXQobm9kZUNvbnRleHQsIGNvbHVtbik7XG4gICAgcmV0dXJuIHRoaXMudHJ5TGF5b3V0KG5vZGVDb250ZXh0LCBjb2x1bW4pO1xuICB9XG5cbiAgcHJpdmF0ZSB0cnlMYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBmcmFtZSA9IFRhc2submV3RnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+KFxuICAgICAgXCJBYnN0cmFjdExheW91dFJldHJ5ZXIudHJ5TGF5b3V0XCIsXG4gICAgKTtcbiAgICB0aGlzLnNhdmVTdGF0ZShub2RlQ29udGV4dCwgY29sdW1uKTtcbiAgICBjb25zdCBtb2RlID0gdGhpcy5yZXNvbHZlTGF5b3V0TW9kZShub2RlQ29udGV4dCk7XG4gICAgbW9kZS5kb0xheW91dChub2RlQ29udGV4dCwgY29sdW1uKS50aGVuKChwb3NpdGlvbkFmdGVyKSA9PiB7XG4gICAgICBsZXQgYWNjZXB0ZWQgPSBtb2RlLmFjY2VwdChwb3NpdGlvbkFmdGVyLCBjb2x1bW4pO1xuICAgICAgYWNjZXB0ZWQgPSBtb2RlLnBvc3RMYXlvdXQoXG4gICAgICAgIHBvc2l0aW9uQWZ0ZXIsXG4gICAgICAgIHRoaXMuaW5pdGlhbFBvc2l0aW9uLFxuICAgICAgICBjb2x1bW4sXG4gICAgICAgIGFjY2VwdGVkLFxuICAgICAgKTtcbiAgICAgIGlmIChhY2NlcHRlZCkge1xuICAgICAgICBmcmFtZS5maW5pc2gocG9zaXRpb25BZnRlcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBBc3NlcnRzLmFzc2VydCh0aGlzLmluaXRpYWxQb3NpdGlvbik7XG4gICAgICAgIHRoaXMuY2xlYXJOb2Rlcyh0aGlzLmluaXRpYWxQb3NpdGlvbik7XG4gICAgICAgIHRoaXMucmVzdG9yZVN0YXRlKG5vZGVDb250ZXh0LCBjb2x1bW4pO1xuICAgICAgICB0aGlzLnRyeUxheW91dCh0aGlzLmluaXRpYWxQb3NpdGlvbiwgY29sdW1uKS50aGVuRmluaXNoKGZyYW1lKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBhYnN0cmFjdCByZXNvbHZlTGF5b3V0TW9kZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBMYXlvdXQuTGF5b3V0TW9kZTtcblxuICBwcmVwYXJlTGF5b3V0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXQuQ29sdW1uKSB7fVxuXG4gIGNsZWFyTm9kZXMoaW5pdGlhbFBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCkge1xuICAgIGNvbnN0IHZpZXdOb2RlID1cbiAgICAgIGluaXRpYWxQb3NpdGlvbi52aWV3Tm9kZSB8fCBpbml0aWFsUG9zaXRpb24ucGFyZW50LnZpZXdOb2RlO1xuICAgIGxldCBjaGlsZDogTm9kZTtcbiAgICB3aGlsZSAoKGNoaWxkID0gdmlld05vZGUubGFzdENoaWxkKSkge1xuICAgICAgdmlld05vZGUucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgIH1cbiAgICBsZXQgc2libGluZzogTm9kZTtcbiAgICB3aGlsZSAoKHNpYmxpbmcgPSB2aWV3Tm9kZS5uZXh0U2libGluZykpIHtcbiAgICAgIHNpYmxpbmcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzaWJsaW5nKTtcbiAgICB9XG4gIH1cblxuICBzYXZlU3RhdGUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBjb2x1bW46IExheW91dC5Db2x1bW4pIHtcbiAgICB0aGlzLmluaXRpYWxQb3NpdGlvbiA9IG5vZGVDb250ZXh0LmNvcHkoKTtcbiAgICB0aGlzLmluaXRpYWxCcmVha1Bvc2l0aW9ucyA9IFtdLmNvbmNhdChjb2x1bW4uYnJlYWtQb3NpdGlvbnMpO1xuICAgIHRoaXMuaW5pdGlhbEZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMgPSBbXS5jb25jYXQoXG4gICAgICBjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyxcbiAgICApO1xuICAgIGlmIChub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCkge1xuICAgICAgdGhpcy5pbml0aWFsU3RhdGVPZkZvcm1hdHRpbmdDb250ZXh0ID0gbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQuc2F2ZVN0YXRlKCk7XG4gICAgfVxuICB9XG5cbiAgcmVzdG9yZVN0YXRlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXQuQ29sdW1uKSB7XG4gICAgY29sdW1uLmJyZWFrUG9zaXRpb25zID0gdGhpcy5pbml0aWFsQnJlYWtQb3NpdGlvbnM7XG4gICAgY29sdW1uLmZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMgPSB0aGlzLmluaXRpYWxGcmFnbWVudExheW91dENvbnN0cmFpbnRzO1xuICAgIGlmIChub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCkge1xuICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQucmVzdG9yZVN0YXRlKFxuICAgICAgICB0aGlzLmluaXRpYWxTdGF0ZU9mRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgTGF5b3V0VXRpbCAtIFV0aWxpdGllcyByZWxhdGVkIHRvIGxheW91dC5cbiAqL1xuaW1wb3J0ICogYXMgQnJlYWsgZnJvbSBcIi4vYnJlYWtcIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0ICogYXMgVnRyZWVJbXBsIGZyb20gXCIuL3Z0cmVlXCI7XG5pbXBvcnQgeyBMYXlvdXQsIFZ0cmVlIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IHR5cGUgTGF5b3V0SXRlcmF0b3JTdGF0ZSA9IHtcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICBhdFVuZm9yY2VkQnJlYWs6IGJvb2xlYW47XG4gIGJyZWFrOiBib29sZWFuO1xuICBsZWFkaW5nRWRnZT86IGJvb2xlYW47XG4gIGJyZWFrQXRUaGVFZGdlPzogc3RyaW5nIHwgbnVsbDtcbiAgb25TdGFydEVkZ2VzPzogYm9vbGVhbjtcbiAgbGVhZGluZ0VkZ2VDb250ZXh0cz86IFZ0cmVlLk5vZGVDb250ZXh0W107XG4gIGxhc3RBZnRlck5vZGVDb250ZXh0PzogVnRyZWUuTm9kZUNvbnRleHQgfCBudWxsO1xufTtcblxuZXhwb3J0IGNsYXNzIExheW91dEl0ZXJhdG9yU3RyYXRlZ3kge1xuICBpbml0aWFsU3RhdGUoaW5pdGlhbE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IExheW91dEl0ZXJhdG9yU3RhdGUge1xuICAgIHJldHVybiB7XG4gICAgICBub2RlQ29udGV4dDogaW5pdGlhbE5vZGVDb250ZXh0LFxuICAgICAgYXRVbmZvcmNlZEJyZWFrOiBmYWxzZSxcbiAgICAgIGJyZWFrOiBmYWxzZSxcbiAgICB9O1xuICB9XG5cbiAgc3RhcnROb25EaXNwbGF5YWJsZU5vZGUoXG4gICAgc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7fVxuXG4gIGFmdGVyTm9uRGlzcGxheWFibGVOb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge31cblxuICBzdGFydElnbm9yZWRUZXh0Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG5cbiAgYWZ0ZXJJZ25vcmVkVGV4dE5vZGUoXG4gICAgc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7fVxuXG4gIHN0YXJ0Tm9uRWxlbWVudE5vZGUoXG4gICAgc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7fVxuXG4gIGFmdGVyTm9uRWxlbWVudE5vZGUoXG4gICAgc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7fVxuXG4gIHN0YXJ0SW5saW5lRWxlbWVudE5vZGUoXG4gICAgc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7fVxuXG4gIGFmdGVySW5saW5lRWxlbWVudE5vZGUoXG4gICAgc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7fVxuXG4gIHN0YXJ0Tm9uSW5saW5lRWxlbWVudE5vZGUoXG4gICAgc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7fVxuXG4gIGFmdGVyTm9uSW5saW5lRWxlbWVudE5vZGUoXG4gICAgc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7fVxuXG4gIGZpbmlzaChzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7fVxufVxuXG5leHBvcnQgY2xhc3MgTGF5b3V0SXRlcmF0b3Ige1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IHN0cmF0ZWd5OiBMYXlvdXRJdGVyYXRvclN0cmF0ZWd5LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgbGF5b3V0Q29udGV4dDogVnRyZWUuTGF5b3V0Q29udGV4dCxcbiAgKSB7fVxuXG4gIGl0ZXJhdGUoXG4gICAgaW5pdGlhbE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBzdHJhdGVneSA9IHRoaXMuc3RyYXRlZ3k7XG4gICAgY29uc3Qgc3RhdGUgPSBzdHJhdGVneS5pbml0aWFsU3RhdGUoaW5pdGlhbE5vZGVDb250ZXh0KTtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJMYXlvdXRJdGVyYXRvclwiLFxuICAgICk7XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgbGV0IHI6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPjtcbiAgICAgICAgd2hpbGUgKHN0YXRlLm5vZGVDb250ZXh0KSB7XG4gICAgICAgICAgaWYgKCFzdGF0ZS5ub2RlQ29udGV4dC52aWV3Tm9kZSkge1xuICAgICAgICAgICAgaWYgKHN0YXRlLm5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICAgICAgICAgIHIgPSBzdHJhdGVneS5hZnRlck5vbkRpc3BsYXlhYmxlTm9kZShzdGF0ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByID0gc3RyYXRlZ3kuc3RhcnROb25EaXNwbGF5YWJsZU5vZGUoc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUubm9kZUNvbnRleHQudmlld05vZGUubm9kZVR5cGUgIT09IDEpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgVnRyZWVJbXBsLmNhbklnbm9yZShcbiAgICAgICAgICAgICAgICBzdGF0ZS5ub2RlQ29udGV4dC52aWV3Tm9kZSxcbiAgICAgICAgICAgICAgICBzdGF0ZS5ub2RlQ29udGV4dC53aGl0ZXNwYWNlLFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaWYgKHN0YXRlLm5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICAgICAgICAgICAgciA9IHN0cmF0ZWd5LmFmdGVySWdub3JlZFRleHROb2RlKHN0YXRlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByID0gc3RyYXRlZ3kuc3RhcnRJZ25vcmVkVGV4dE5vZGUoc3RhdGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoc3RhdGUubm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICByID0gc3RyYXRlZ3kuYWZ0ZXJOb25FbGVtZW50Tm9kZShzdGF0ZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgciA9IHN0cmF0ZWd5LnN0YXJ0Tm9uRWxlbWVudE5vZGUoc3RhdGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5ub2RlQ29udGV4dC5pbmxpbmUpIHtcbiAgICAgICAgICAgICAgaWYgKHN0YXRlLm5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICAgICAgICAgICAgciA9IHN0cmF0ZWd5LmFmdGVySW5saW5lRWxlbWVudE5vZGUoc3RhdGUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHIgPSBzdHJhdGVneS5zdGFydElubGluZUVsZW1lbnROb2RlKHN0YXRlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKHN0YXRlLm5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICAgICAgICAgICAgciA9IHN0cmF0ZWd5LmFmdGVyTm9uSW5saW5lRWxlbWVudE5vZGUoc3RhdGUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHIgPSBzdHJhdGVneS5zdGFydE5vbklubGluZUVsZW1lbnROb2RlKHN0YXRlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBjb250ID0gciAmJiByLmlzUGVuZGluZygpID8gciA6IFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgICAgIGNvbnN0IG5leHRSZXN1bHQgPSBjb250LnRoZW5Bc3luYygoKSA9PiB7XG4gICAgICAgICAgICBpZiAoc3RhdGUuYnJlYWspIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGF5b3V0Q29udGV4dC5uZXh0SW5UcmVlKFxuICAgICAgICAgICAgICBzdGF0ZS5ub2RlQ29udGV4dCxcbiAgICAgICAgICAgICAgc3RhdGUuYXRVbmZvcmNlZEJyZWFrLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAobmV4dFJlc3VsdC5pc1BlbmRpbmcoKSkge1xuICAgICAgICAgICAgbmV4dFJlc3VsdC50aGVuKChuZXh0Tm9kZUNvbnRleHQpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHN0YXRlLmJyZWFrKSB7XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YXRlLm5vZGVDb250ZXh0ID0gbmV4dE5vZGVDb250ZXh0O1xuICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS5icmVhaykge1xuICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGF0ZS5ub2RlQ29udGV4dCA9IG5leHRSZXN1bHQuZ2V0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0cmF0ZWd5LmZpbmlzaChzdGF0ZSk7XG4gICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChzdGF0ZS5ub2RlQ29udGV4dCk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVkZ2VTa2lwcGVyIGV4dGVuZHMgTGF5b3V0SXRlcmF0b3JTdHJhdGVneSB7XG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCByZWFkb25seSBsZWFkaW5nRWRnZT86IGJvb2xlYW4pIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgc3RhcnROb25JbmxpbmVCb3goc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUpOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge31cblxuICBlbmRFbXB0eU5vbklubGluZUJveChcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG5cbiAgZW5kTm9uSW5saW5lQm94KHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG5cbiAgaW5pdGlhbFN0YXRlKGluaXRpYWxOb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBMYXlvdXRJdGVyYXRvclN0YXRlIHtcbiAgICByZXR1cm4ge1xuICAgICAgbm9kZUNvbnRleHQ6IGluaXRpYWxOb2RlQ29udGV4dCxcbiAgICAgIGF0VW5mb3JjZWRCcmVhazogISF0aGlzLmxlYWRpbmdFZGdlICYmIGluaXRpYWxOb2RlQ29udGV4dC5hZnRlcixcbiAgICAgIGJyZWFrOiBmYWxzZSxcbiAgICAgIGxlYWRpbmdFZGdlOiB0aGlzLmxlYWRpbmdFZGdlLFxuICAgICAgYnJlYWtBdFRoZUVkZ2U6IG51bGwsXG4gICAgICBvblN0YXJ0RWRnZXM6IGZhbHNlLFxuICAgICAgbGVhZGluZ0VkZ2VDb250ZXh0czogW10sXG4gICAgICBsYXN0QWZ0ZXJOb2RlQ29udGV4dDogbnVsbCxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gUmV0dXJucyB0cnVlIGlmIGEgZm9yY2VkIGJyZWFrIG9jY3Vycy5cbiAgICovXG4gIHByb2Nlc3NGb3JjZWRCcmVhayhcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG5lZWRGb3JjZWRCcmVhayA9XG4gICAgICAhc3RhdGUubGVhZGluZ0VkZ2UgJiYgQnJlYWsuaXNGb3JjZWRCcmVha1ZhbHVlKHN0YXRlLmJyZWFrQXRUaGVFZGdlKTtcbiAgICBpZiAobmVlZEZvcmNlZEJyZWFrKSB7XG4gICAgICBjb25zdCBub2RlQ29udGV4dCA9IChzdGF0ZS5ub2RlQ29udGV4dCA9XG4gICAgICAgIHN0YXRlLmxlYWRpbmdFZGdlQ29udGV4dHNbMF0gfHwgc3RhdGUubm9kZUNvbnRleHQpO1xuICAgICAgbm9kZUNvbnRleHQudmlld05vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlQ29udGV4dC52aWV3Tm9kZSk7XG4gICAgICBjb2x1bW4ucGFnZUJyZWFrVHlwZSA9IHN0YXRlLmJyZWFrQXRUaGVFZGdlO1xuICAgIH1cbiAgICByZXR1cm4gbmVlZEZvcmNlZEJyZWFrO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gUmV0dXJucyB0cnVlIGlmIHRoZSBub2RlIG92ZXJmbG93cyB0aGUgY29sdW1uLlxuICAgKi9cbiAgc2F2ZUVkZ2VBbmRQcm9jZXNzT3ZlcmZsb3coXG4gICAgc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBib29sZWFuIHtcbiAgICBjb25zdCBvdmVyZmxvdyA9IGNvbHVtbi5jaGVja092ZXJmbG93QW5kU2F2ZUVkZ2VBbmRCcmVha1Bvc2l0aW9uKFxuICAgICAgc3RhdGUubGFzdEFmdGVyTm9kZUNvbnRleHQsXG4gICAgICBudWxsLFxuICAgICAgdHJ1ZSxcbiAgICAgIHN0YXRlLmJyZWFrQXRUaGVFZGdlLFxuICAgICk7XG4gICAgaWYgKG92ZXJmbG93KSB7XG4gICAgICBzdGF0ZS5ub2RlQ29udGV4dCA9IChcbiAgICAgICAgc3RhdGUubGFzdEFmdGVyTm9kZUNvbnRleHQgfHwgc3RhdGUubm9kZUNvbnRleHRcbiAgICAgICkubW9kaWZ5KCk7XG4gICAgICBzdGF0ZS5ub2RlQ29udGV4dC5vdmVyZmxvdyA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBvdmVyZmxvdztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBSZXR1cm5zIHRydWUgaWYgdGhlIGxheW91dCBjb25zdHJhaW50IGlzIHZpb2xhdGVkLlxuICAgKi9cbiAgcHJvY2Vzc0xheW91dENvbnN0cmFpbnQoXG4gICAgc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUsXG4gICAgbGF5b3V0Q29uc3RyYWludDogTGF5b3V0LkxheW91dENvbnN0cmFpbnQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBib29sZWFuIHtcbiAgICBsZXQgbm9kZUNvbnRleHQgPSBzdGF0ZS5ub2RlQ29udGV4dDtcbiAgICBjb25zdCB2aW9sYXRlQ29uc3RyYWludCA9ICFsYXlvdXRDb25zdHJhaW50LmFsbG93TGF5b3V0KG5vZGVDb250ZXh0KTtcbiAgICBpZiAodmlvbGF0ZUNvbnN0cmFpbnQpIHtcbiAgICAgIGNvbHVtbi5jaGVja092ZXJmbG93QW5kU2F2ZUVkZ2VBbmRCcmVha1Bvc2l0aW9uKFxuICAgICAgICBzdGF0ZS5sYXN0QWZ0ZXJOb2RlQ29udGV4dCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHN0YXRlLmJyZWFrQXRUaGVFZGdlLFxuICAgICAgKTtcbiAgICAgIG5vZGVDb250ZXh0ID0gc3RhdGUubm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5tb2RpZnkoKTtcbiAgICAgIG5vZGVDb250ZXh0Lm92ZXJmbG93ID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHZpb2xhdGVDb25zdHJhaW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnROb25FbGVtZW50Tm9kZShzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgc3RhdGUub25TdGFydEVkZ2VzID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydE5vbklubGluZUVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIHN0YXRlLmxlYWRpbmdFZGdlQ29udGV4dHMucHVzaChzdGF0ZS5ub2RlQ29udGV4dC5jb3B5KCkpO1xuICAgIHN0YXRlLmJyZWFrQXRUaGVFZGdlID0gQnJlYWsucmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUoXG4gICAgICBzdGF0ZS5icmVha0F0VGhlRWRnZSxcbiAgICAgIHN0YXRlLm5vZGVDb250ZXh0LmJyZWFrQmVmb3JlLFxuICAgICk7XG4gICAgc3RhdGUub25TdGFydEVkZ2VzID0gdHJ1ZTtcbiAgICByZXR1cm4gdGhpcy5zdGFydE5vbklubGluZUJveChzdGF0ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhZnRlck5vbklubGluZUVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGxldCByOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgbGV0IGNvbnQ6IFRhc2suUmVzdWx0PGJvb2xlYW4+O1xuICAgIGlmIChzdGF0ZS5vblN0YXJ0RWRnZXMpIHtcbiAgICAgIHIgPSB0aGlzLmVuZEVtcHR5Tm9uSW5saW5lQm94KHN0YXRlKTtcbiAgICAgIGNvbnQgPSByICYmIHIuaXNQZW5kaW5nKCkgPyByIDogVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICBjb250ID0gY29udC50aGVuQXN5bmMoKCkgPT4ge1xuICAgICAgICBpZiAoIXN0YXRlLmJyZWFrKSB7XG4gICAgICAgICAgc3RhdGUubGVhZGluZ0VkZ2VDb250ZXh0cyA9IFtdO1xuICAgICAgICAgIHN0YXRlLmxlYWRpbmdFZGdlID0gZmFsc2U7XG4gICAgICAgICAgc3RhdGUuYXRVbmZvcmNlZEJyZWFrID0gZmFsc2U7XG4gICAgICAgICAgc3RhdGUuYnJlYWtBdFRoZUVkZ2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByID0gdGhpcy5lbmROb25JbmxpbmVCb3goc3RhdGUpO1xuICAgICAgY29udCA9IHIgJiYgci5pc1BlbmRpbmcoKSA/IHIgOiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnQudGhlbkFzeW5jKCgpID0+IHtcbiAgICAgIGlmICghc3RhdGUuYnJlYWspIHtcbiAgICAgICAgc3RhdGUub25TdGFydEVkZ2VzID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLmxhc3RBZnRlck5vZGVDb250ZXh0ID0gc3RhdGUubm9kZUNvbnRleHQuY29weSgpO1xuICAgICAgICBzdGF0ZS5icmVha0F0VGhlRWRnZSA9IEJyZWFrLnJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlKFxuICAgICAgICAgIHN0YXRlLmJyZWFrQXRUaGVFZGdlLFxuICAgICAgICAgIHN0YXRlLm5vZGVDb250ZXh0LmJyZWFrQWZ0ZXIsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBTaGFyZWQgLSBHbG9iYWwgdmFyaWFibGVzIG9mIFZpdmxpb3N0eWxlLmpzXG4gKi9cbmltcG9ydCB7IFJlcGV0aXRpdmVFbGVtZW50IH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IGxldCByZXBldGl0aXZlRWxlbWVudHNDYWNoZToge1xuICByb290OiBFbGVtZW50O1xuICBlbGVtZW50czogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzO1xufVtdID0gW107XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclJlcGV0aXRpdmVFbGVtZW50c0NhY2hlKCk6IHZvaWQge1xuICByZXBldGl0aXZlRWxlbWVudHNDYWNoZSA9IFtdO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFBzZXVkb0VsZW1lbnQgLSBDU1MgcHNldWRvIGVsZW1lbnRzLlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIENzc0Nhc2NhZGUgZnJvbSBcIi4vY3NzLWNhc2NhZGVcIjtcbmltcG9ydCAqIGFzIENzc1N0eWxlciBmcm9tIFwiLi9jc3Mtc3R5bGVyXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCB7IFBzZXVkb0VsZW1lbnQgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgZG9jdW1lbnQgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKFxuICBgPHJvb3QgeG1sbnM9XCIke0Jhc2UuTlMuU0hBRE9XfVwiLz5gLFxuICBcInRleHQveG1sXCIsXG4pO1xuXG4vKipcbiAqIFBzZXVkb2VsZW1lbnQgbmFtZXMgaW4gdGhlIG9yZGVyIHRoZXkgc2hvdWxkIGJlIGluc2VydGVkIGluIHRoZSBzaGFkb3cgRE9NLFxuICogZW1wdHkgc3RyaW5nIGlzIHRoZSBwbGFjZSB3aGVyZSB0aGUgZWxlbWVudCdzIERPTSBjaGlsZHJlbiBhcmUgcHJvY2Vzc2VkLlxuICovXG5leHBvcnQgY29uc3QgcHNldWRvTmFtZXMgPSBbXG4gIFwiZm9vdG5vdGUtbWFya2VyXCIsXG4gIFwiZmlyc3QtNS1saW5lc1wiLFxuICBcImZpcnN0LTQtbGluZXNcIixcbiAgXCJmaXJzdC0zLWxpbmVzXCIsXG4gIFwiZmlyc3QtMi1saW5lc1wiLFxuICBcImZpcnN0LWxpbmVcIixcbiAgXCJmaXJzdC1sZXR0ZXJcIixcbiAgXCJiZWZvcmVcIixcbiAgXCJcIixcbiAgLyogY29udGVudCAqL1xuICBcImFmdGVyXCIsXG5dO1xuXG5leHBvcnQgY29uc3QgUFNFVURPX0FUVFIgPSBcImRhdGEtYWRhcHQtcHNldWRvXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQc2V1ZG9OYW1lKGVsZW1lbnQ6IEVsZW1lbnQpOiBzdHJpbmcge1xuICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoUFNFVURPX0FUVFIpIHx8IFwiXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRQc2V1ZG9OYW1lKGVsZW1lbnQ6IEVsZW1lbnQsIG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICBlbGVtZW50LnNldEF0dHJpYnV0ZShQU0VVRE9fQVRUUiwgbmFtZSk7XG59XG5cbmV4cG9ydCBjbGFzcyBQc2V1ZG9lbGVtZW50U3R5bGVyIGltcGxlbWVudHMgUHNldWRvRWxlbWVudC5Qc2V1ZG9lbGVtZW50U3R5bGVyIHtcbiAgY29udGVudFByb2Nlc3NlZDogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcblxuICAvLyBhZnRlciBjb250ZW50OiB1cGRhdGUgc3R5bGVcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgZWxlbWVudDogRWxlbWVudCxcbiAgICBwdWJsaWMgc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIHB1YmxpYyBzdHlsZXI6IENzc1N0eWxlci5BYnN0cmFjdFN0eWxlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZXhwckNvbnRlbnRMaXN0ZW5lcjogVnRyZWUuRXhwckNvbnRlbnRMaXN0ZW5lcixcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFN0eWxlKGVsZW1lbnQ6IEVsZW1lbnQsIGRlZXA6IGJvb2xlYW4pOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSB7XG4gICAgY29uc3QgcHNldWRvTmFtZSA9IGdldFBzZXVkb05hbWUoZWxlbWVudCk7XG4gICAgaWYgKHRoaXMuc3R5bGVyICYmIHBzZXVkb05hbWUgJiYgcHNldWRvTmFtZS5tYXRjaCgvYWZ0ZXIkLykpIHtcbiAgICAgIHRoaXMuc3R5bGUgPSB0aGlzLnN0eWxlci5nZXRTdHlsZSh0aGlzLmVsZW1lbnQsIHRydWUpO1xuICAgICAgdGhpcy5zdHlsZXIgPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwc2V1ZG9NYXAgPSBDc3NDYXNjYWRlLmdldFN0eWxlTWFwKHRoaXMuc3R5bGUsIFwiX3BzZXVkb3NcIik7XG4gICAgY29uc3Qgc3R5bGUgPSBwc2V1ZG9NYXBbcHNldWRvTmFtZV0gfHwgKHt9IGFzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlKTtcbiAgICBpZiAocHNldWRvTmFtZS5tYXRjaCgvXmZpcnN0LS8pICYmICFzdHlsZVtcIngtZmlyc3QtcHNldWRvXCJdKSB7XG4gICAgICBsZXQgbmVzdCA9IDE7XG4gICAgICBsZXQgcjogUmVnRXhwTWF0Y2hBcnJheTtcbiAgICAgIGlmIChwc2V1ZG9OYW1lID09IFwiZmlyc3QtbGV0dGVyXCIpIHtcbiAgICAgICAgbmVzdCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKChyID0gcHNldWRvTmFtZS5tYXRjaCgvXmZpcnN0LShbMC05XSspLWxpbmVzJC8pKSAhPSBudWxsKSB7XG4gICAgICAgIG5lc3QgPSAoclsxXSBhcyBhbnkpIC0gMDtcbiAgICAgIH1cbiAgICAgIHN0eWxlW1wieC1maXJzdC1wc2V1ZG9cIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoXG4gICAgICAgIG5ldyBDc3MuSW50KG5lc3QpLFxuICAgICAgICAwLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJvY2Vzc0NvbnRlbnQoZWxlbWVudDogRWxlbWVudCwgc3R5bGVzOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSkge1xuICAgIGNvbnN0IHBzZXVkb05hbWUgPSBnZXRQc2V1ZG9OYW1lKGVsZW1lbnQpO1xuICAgIGlmICghdGhpcy5jb250ZW50UHJvY2Vzc2VkW3BzZXVkb05hbWVdKSB7XG4gICAgICB0aGlzLmNvbnRlbnRQcm9jZXNzZWRbcHNldWRvTmFtZV0gPSB0cnVlO1xuICAgICAgY29uc3QgY29udGVudFZhbCA9IHN0eWxlc1tcImNvbnRlbnRcIl07XG4gICAgICBpZiAoY29udGVudFZhbCkge1xuICAgICAgICBpZiAoVnRyZWUubm9uVHJpdmlhbENvbnRlbnQoY29udGVudFZhbCkpIHtcbiAgICAgICAgICBjb250ZW50VmFsLnZpc2l0KFxuICAgICAgICAgICAgbmV3IFZ0cmVlLkNvbnRlbnRQcm9wZXJ0eUhhbmRsZXIoXG4gICAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICAgIHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgICAgY29udGVudFZhbCxcbiAgICAgICAgICAgICAgdGhpcy5leHByQ29udGVudExpc3RlbmVyLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IExheW91dCAtIEZpbGxzIGEgY29sdW1uIHdpdGggc3R5bGVkIGNvbnRlbnQuXG4gKiBUaGlzIGZpbGUgZG9lcyBub3QgY29tbXVuaWNhdGUgd2l0aCB0aGUgc3R5bGluZyBzeXN0ZW0gZGlyZWN0bHkuXG4gKiBJbnN0ZWFkIGl0IGdvZXMgdGhyb3VnaCB0aGUgbGF5b3V0IGludGVyZmFjZSB0aGF0IGdpdmVzIGl0IG9uZSB2aWV3IHRyZWVcbiAqIG5vZGUgYXQgYSB0aW1lLlxuICovXG5pbXBvcnQgKiBhcyBMYXlvdXRSZXRyeWVycyBmcm9tIFwiLi9sYXlvdXQtcmV0cnllcnNcIjtcbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgU2hhcmVkIGZyb20gXCIuL3NoYXJlZFwiO1xuaW1wb3J0ICogYXMgU2l6aW5nIGZyb20gXCIuL3NpemluZ1wiO1xuaW1wb3J0ICogYXMgQnJlYWsgZnJvbSBcIi4vYnJlYWtcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuaW1wb3J0ICogYXMgRGlmZiBmcm9tIFwiLi9kaWZmXCI7XG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIEJyZWFrUG9zaXRpb24gZnJvbSBcIi4vYnJlYWstcG9zaXRpb25cIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIEdlb21ldHJ5VXRpbCBmcm9tIFwiLi9nZW9tZXRyeS11dGlsXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXRIZWxwZXIgZnJvbSBcIi4vbGF5b3V0LWhlbHBlclwiO1xuaW1wb3J0ICogYXMgTGF5b3V0UHJvY2Vzc29yIGZyb20gXCIuL2xheW91dC1wcm9jZXNzb3JcIjtcbmltcG9ydCAqIGFzIFBhZ2VGbG9hdHMgZnJvbSBcIi4vcGFnZS1mbG9hdHNcIjtcbmltcG9ydCAqIGFzIFBsdWdpbiBmcm9tIFwiLi9wbHVnaW5cIjtcbmltcG9ydCAqIGFzIE1hdGNoZXJzIGZyb20gXCIuL21hdGNoZXJzXCI7XG5pbXBvcnQgKiBhcyBQc2V1ZG9FbGVtZW50IGZyb20gXCIuL3BzZXVkby1lbGVtZW50XCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFZnZW4gZnJvbSBcIi4vdmdlblwiO1xuaW1wb3J0ICogYXMgVnRyZWVJbXBsIGZyb20gXCIuL3Z0cmVlXCI7XG5pbXBvcnQge1xuICBGcmFnbWVudExheW91dENvbnN0cmFpbnRUeXBlLFxuICBMYXlvdXQsXG4gIFJlcGV0aXRpdmVFbGVtZW50LFxuICBTZWxlY3RvcnMsXG4gIFRhYmxlLFxuICBWdHJlZSxcbn0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IGlzSW5zdGFuY2VPZkFmdGVySWZDb250aW51ZXNMYXlvdXRDb25zdHJhaW50ID1cbiAgU2VsZWN0b3JzLmlzSW5zdGFuY2VPZkFmdGVySWZDb250aW51ZXNMYXlvdXRDb25zdHJhaW50O1xuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyRnJhZ21lbnRJbmRleCA9XG4gIE1hdGNoZXJzLk50aEZyYWdtZW50TWF0Y2hlci5yZWdpc3RlckZyYWdtZW50SW5kZXg7XG5leHBvcnQgY29uc3QgY2xlYXJGcmFnbWVudEluZGljZXMgPVxuICBNYXRjaGVycy5OdGhGcmFnbWVudE1hdGNoZXIuY2xlYXJGcmFnbWVudEluZGljZXM7XG5cbmV4cG9ydCBjbGFzcyBBZnRlcklmQ29udGludWVzIGltcGxlbWVudHMgU2VsZWN0b3JzLkFmdGVySWZDb250aW51ZXMge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgc291cmNlTm9kZTogRWxlbWVudCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3R5bGVyOiBQc2V1ZG9FbGVtZW50LlBzZXVkb2VsZW1lbnRTdHlsZXIsXG4gICkge31cblxuICBjcmVhdGVFbGVtZW50KFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBwYXJlbnROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICk6IFRhc2suUmVzdWx0PEVsZW1lbnQ+IHtcbiAgICBjb25zdCBkb2MgPSBwYXJlbnROb2RlQ29udGV4dC52aWV3Tm9kZS5vd25lckRvY3VtZW50O1xuICAgIGNvbnN0IHZpZXdSb290ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29uc3QgcHNldWRvQ29sdW1uID0gbmV3IFBzZXVkb0NvbHVtbihjb2x1bW4sIHZpZXdSb290LCBwYXJlbnROb2RlQ29udGV4dCk7XG4gICAgY29uc3QgaW5pdGlhbFBhZ2VCcmVha1R5cGUgPSBwc2V1ZG9Db2x1bW4uZ2V0Q29sdW1uKCkucGFnZUJyZWFrVHlwZTtcbiAgICBwc2V1ZG9Db2x1bW4uZ2V0Q29sdW1uKCkucGFnZUJyZWFrVHlwZSA9IG51bGw7XG4gICAgcmV0dXJuIHBzZXVkb0NvbHVtblxuICAgICAgLmxheW91dCh0aGlzLmNyZWF0ZU5vZGVQb3NpdGlvbkZvclBzZXVkb0VsZW1lbnQoKSwgdHJ1ZSlcbiAgICAgIC50aGVuQXN5bmMoKCkgPT4ge1xuICAgICAgICB0aGlzLnN0eWxlci5jb250ZW50UHJvY2Vzc2VkW1wiYWZ0ZXItaWYtY29udGludWVzXCJdID0gZmFsc2U7XG4gICAgICAgIHBzZXVkb0NvbHVtbi5nZXRDb2x1bW4oKS5wYWdlQnJlYWtUeXBlID0gaW5pdGlhbFBhZ2VCcmVha1R5cGU7XG4gICAgICAgIGNvbnN0IHBzZXVkb0VsZW1lbnQgPSB2aWV3Um9vdC5maXJzdENoaWxkIGFzIEVsZW1lbnQ7XG4gICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkocHNldWRvRWxlbWVudCwgXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChwc2V1ZG9FbGVtZW50KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVOb2RlUG9zaXRpb25Gb3JQc2V1ZG9FbGVtZW50KCk6IFZ0cmVlLkNodW5rUG9zaXRpb24ge1xuICAgIGNvbnN0IHNvdXJjZU5vZGUgPSBQc2V1ZG9FbGVtZW50LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgIEJhc2UuTlMuWEhUTUwsXG4gICAgICBcImRpdlwiLFxuICAgICk7XG4gICAgUHNldWRvRWxlbWVudC5zZXRQc2V1ZG9OYW1lKHNvdXJjZU5vZGUsIFwiYWZ0ZXItaWYtY29udGludWVzXCIpO1xuICAgIGNvbnN0IHNoYWRvd0NvbnRleHQgPSB0aGlzLmNyZWF0ZVNoYWRvd0NvbnRleHQoc291cmNlTm9kZSk7XG4gICAgY29uc3Qgc3RlcCA9IHtcbiAgICAgIG5vZGU6IHNvdXJjZU5vZGUsXG4gICAgICBzaGFkb3dUeXBlOiBzaGFkb3dDb250ZXh0LnR5cGUsXG4gICAgICBzaGFkb3dDb250ZXh0LFxuICAgICAgbm9kZVNoYWRvdzogbnVsbCxcbiAgICAgIHNoYWRvd1NpYmxpbmc6IG51bGwsXG4gICAgfTtcbiAgICBjb25zdCBub2RlUG9zaXRpb24gPSB7XG4gICAgICBzdGVwczogW3N0ZXBdLFxuICAgICAgb2Zmc2V0SW5Ob2RlOiAwLFxuICAgICAgYWZ0ZXI6IGZhbHNlLFxuICAgICAgcHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQ6IG51bGwsXG4gICAgfTtcbiAgICByZXR1cm4gbmV3IFZ0cmVlSW1wbC5DaHVua1Bvc2l0aW9uKG5vZGVQb3NpdGlvbiBhcyBhbnkpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVTaGFkb3dDb250ZXh0KHJvb3Q6IEVsZW1lbnQpOiBWdHJlZS5TaGFkb3dDb250ZXh0IHtcbiAgICByZXR1cm4gbmV3IFZ0cmVlSW1wbC5TaGFkb3dDb250ZXh0KFxuICAgICAgdGhpcy5zb3VyY2VOb2RlLFxuICAgICAgcm9vdCxcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICAgIFZ0cmVlLlNoYWRvd1R5cGUuUk9PVEVELFxuICAgICAgdGhpcy5zdHlsZXIsXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnRcbiAgaW1wbGVtZW50cyBTZWxlY3RvcnMuQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQge1xuICBmbGFnbWVudExheW91dENvbnN0cmFpbnRUeXBlOiBGcmFnbWVudExheW91dENvbnN0cmFpbnRUeXBlID1cbiAgICBcIkFmdGVySWZDb250aW51ZVwiO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgcHVibGljIGFmdGVySWZDb250aW51ZXM6IFNlbGVjdG9ycy5BZnRlcklmQ29udGludWVzLFxuICAgIHB1YmxpYyBwc2V1ZG9FbGVtZW50SGVpZ2h0OiBudW1iZXIsXG4gICkge31cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFsbG93TGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBvdmVyZmxvd25Ob2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBib29sZWFuIHtcbiAgICBpZiAoXG4gICAgICAob3ZlcmZsb3duTm9kZUNvbnRleHQgJiYgIW5vZGVDb250ZXh0KSB8fFxuICAgICAgKG5vZGVDb250ZXh0ICYmIG5vZGVDb250ZXh0Lm92ZXJmbG93KVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIG5leHRDYW5kaWRhdGUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBwb3N0TGF5b3V0KFxuICAgIGFsbG93ZWQ6IGJvb2xlYW4sXG4gICAgcG9zaXRpb25BZnRlcjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgaW5pdGlhbFBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICkge31cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGZpbmlzaEJyZWFrKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBpZiAoIXRoaXMuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCkuYWZmZWN0VG8obm9kZUNvbnRleHQpKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmFmdGVySWZDb250aW51ZXNcbiAgICAgIC5jcmVhdGVFbGVtZW50KGNvbHVtbiwgdGhpcy5ub2RlQ29udGV4dClcbiAgICAgIC50aGVuQXN5bmMoKGVsZW1lbnQpID0+IHtcbiAgICAgICAgdGhpcy5ub2RlQ29udGV4dC52aWV3Tm9kZS5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgfSk7XG4gIH1cblxuICBnZXRSZXBldGl0aXZlRWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIG5ldyBBZnRlcklmQ29udGludWVzRWxlbWVudHNPZmZzZXQoXG4gICAgICB0aGlzLm5vZGVDb250ZXh0LFxuICAgICAgdGhpcy5wc2V1ZG9FbGVtZW50SGVpZ2h0LFxuICAgICk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGVxdWFsc1RvKGNvbnN0cmFpbnQ6IExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnQpOiBib29sZWFuIHtcbiAgICBpZiAoIShjb25zdHJhaW50IGluc3RhbmNlb2YgQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmFmdGVySWZDb250aW51ZXMgPT1cbiAgICAgIChjb25zdHJhaW50IGFzIEFmdGVySWZDb250aW51ZXNMYXlvdXRDb25zdHJhaW50KS5hZnRlcklmQ29udGludWVzXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0UHJpb3JpdHlPZkZpbmlzaEJyZWFrKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFmdGVySWZDb250aW51ZXNFbGVtZW50c09mZnNldFxuICBpbXBsZW1lbnRzIFNlbGVjdG9ycy5BZnRlcklmQ29udGludWVzRWxlbWVudHNPZmZzZXQge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgbm9kZUNvbnRleHQsIHB1YmxpYyBwc2V1ZG9FbGVtZW50SGVpZ2h0KSB7fVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgY2FsY3VsYXRlT2Zmc2V0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IG51bWJlciB7XG4gICAgaWYgKCF0aGlzLmFmZmVjdFRvKG5vZGVDb250ZXh0KSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnBzZXVkb0VsZW1lbnRIZWlnaHQ7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGNhbGN1bGF0ZU1pbmltdW1PZmZzZXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jYWxjdWxhdGVPZmZzZXQobm9kZUNvbnRleHQpO1xuICB9XG5cbiAgYWZmZWN0VG8obm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgaWYgKCFub2RlQ29udGV4dCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBzb3VyY2VOb2RlID0gbm9kZUNvbnRleHQuc2hhZG93Q29udGV4dFxuICAgICAgPyBub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0Lm93bmVyXG4gICAgICA6IG5vZGVDb250ZXh0LnNvdXJjZU5vZGU7XG4gICAgaWYgKHNvdXJjZU5vZGUgPT09IHRoaXMubm9kZUNvbnRleHQuc291cmNlTm9kZSkge1xuICAgICAgcmV0dXJuICEhbm9kZUNvbnRleHQuYWZ0ZXI7XG4gICAgfVxuICAgIGZvciAobGV0IG4gPSBzb3VyY2VOb2RlLnBhcmVudE5vZGU7IG47IG4gPSBuLnBhcmVudE5vZGUpIHtcbiAgICAgIGlmIChuID09PSB0aGlzLm5vZGVDb250ZXh0LnNvdXJjZU5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcm9jZXNzQWZ0ZXJJZkNvbnRpbnVlc09mTm9kZUNvbnRleHQoXG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgaWYgKFxuICAgICFub2RlQ29udGV4dCB8fFxuICAgICFub2RlQ29udGV4dC5hZnRlcklmQ29udGludWVzIHx8XG4gICAgbm9kZUNvbnRleHQuYWZ0ZXIgfHxcbiAgICBjb2x1bW4uaXNGbG9hdE5vZGVDb250ZXh0KG5vZGVDb250ZXh0KVxuICApIHtcbiAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobm9kZUNvbnRleHQpO1xuICB9XG4gIGNvbnN0IGFmdGVySWZDb250aW51ZXMgPSBub2RlQ29udGV4dC5hZnRlcklmQ29udGludWVzO1xuICByZXR1cm4gYWZ0ZXJJZkNvbnRpbnVlc1xuICAgIC5jcmVhdGVFbGVtZW50KGNvbHVtbiwgbm9kZUNvbnRleHQpXG4gICAgLnRoZW5Bc3luYygocHNldWRvRWxlbWVudCkgPT4ge1xuICAgICAgQXNzZXJ0cy5hc3NlcnQobm9kZUNvbnRleHQgIT09IG51bGwpO1xuICAgICAgY29uc3QgcHNldWRvRWxlbWVudEhlaWdodCA9IGNhbGN1bGF0ZVBzZXVkb0VsZW1lbnRIZWlnaHQoXG4gICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICBjb2x1bW4sXG4gICAgICAgIHBzZXVkb0VsZW1lbnQsXG4gICAgICApO1xuICAgICAgY29sdW1uLmZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMucHVzaChcbiAgICAgICAgbmV3IEFmdGVySWZDb250aW51ZXNMYXlvdXRDb25zdHJhaW50KFxuICAgICAgICAgIG5vZGVDb250ZXh0IGFzIFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgICAgIGFmdGVySWZDb250aW51ZXMsXG4gICAgICAgICAgcHNldWRvRWxlbWVudEhlaWdodCxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobm9kZUNvbnRleHQpO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc0FmdGVySWZDb250aW51ZXMoXG4gIHJlc3VsdDogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+LFxuICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4pOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICByZXR1cm4gcmVzdWx0LnRoZW5Bc3luYygobm9kZUNvbnRleHQpID0+XG4gICAgcHJvY2Vzc0FmdGVySWZDb250aW51ZXNPZk5vZGVDb250ZXh0KG5vZGVDb250ZXh0LCBjb2x1bW4pLFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc0FmdGVySWZDb250aW51ZXNPZkFuY2VzdG9ycyhcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4pOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcbiAgICBcInByb2Nlc3NBZnRlcklmQ29udGludWVzT2ZBbmNlc3RvcnNcIixcbiAgKTtcbiAgbGV0IGN1cnJlbnQ6IFZ0cmVlLk5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQ7XG4gIGZyYW1lXG4gICAgLmxvb3AoKCkgPT4ge1xuICAgICAgaWYgKGN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcHJvY2Vzc0FmdGVySWZDb250aW51ZXNPZk5vZGVDb250ZXh0KGN1cnJlbnQsIGNvbHVtbik7XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuUmV0dXJuKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICB9KTtcbiAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlUHNldWRvRWxlbWVudEhlaWdodChcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gIHBzZXVkb0VsZW1lbnQ6IEVsZW1lbnQsXG4pOiBudW1iZXIge1xuICBjb25zdCBwYXJlbnROb2RlID0gbm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudDtcbiAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZChwc2V1ZG9FbGVtZW50KTtcbiAgY29uc3QgaGVpZ2h0ID0gTGF5b3V0SGVscGVyLmdldEVsZW1lbnRIZWlnaHQoXG4gICAgcHNldWRvRWxlbWVudCxcbiAgICBjb2x1bW4sXG4gICAgbm9kZUNvbnRleHQudmVydGljYWwsXG4gICk7XG4gIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocHNldWRvRWxlbWVudCk7XG4gIHJldHVybiBoZWlnaHQ7XG59XG5cbmV4cG9ydCBjb25zdCBtZWRpYVRhZ3MgPSB7XG4gIGltZzogdHJ1ZSxcbiAgc3ZnOiB0cnVlLFxuICBhdWRpbzogdHJ1ZSxcbiAgdmlkZW86IHRydWUsXG59O1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBjb25zdHJhaW50IG9uIGxheW91dFxuICovXG5leHBvcnQgdHlwZSBMYXlvdXRDb25zdHJhaW50ID0gTGF5b3V0LkxheW91dENvbnN0cmFpbnQ7XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGNvbnN0cmFpbnQgdGhhdCBhbGxvd3MgbGF5b3V0IGlmIGFsbCB0aGUgY29uc3RyYWludHMgaXQgY29udGFpbnNcbiAqIGFsbG93IGxheW91dC5cbiAqL1xuZXhwb3J0IGNsYXNzIEFsbExheW91dENvbnN0cmFpbnQgaW1wbGVtZW50cyBMYXlvdXRDb25zdHJhaW50IHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGNvbnN0cmFpbnRzOiBMYXlvdXRDb25zdHJhaW50W10pIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWxsb3dMYXlvdXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RyYWludHMuZXZlcnkoKGMpID0+IGMuYWxsb3dMYXlvdXQobm9kZUNvbnRleHQpKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgY29uc3RyYWludHMgb24gbGF5aW5nIG91dCBmcmFnbWVudHNcbiAqL1xuZXhwb3J0IHR5cGUgRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50ID0gTGF5b3V0LkZyYWdtZW50TGF5b3V0Q29uc3RyYWludDtcblxuZXhwb3J0IHR5cGUgQnJlYWtQb3NpdGlvbkFuZE5vZGVDb250ZXh0ID0gTGF5b3V0LkJyZWFrUG9zaXRpb25BbmROb2RlQ29udGV4dDtcblxuLyoqXG4gKiBQb3RlbnRpYWwgYnJlYWtpbmcgcG9zaXRpb24gaW5zaWRlIENTUyBib3ggKGJldHdlZW4gbGluZXMpLlxuICogQHBhcmFtIGNoZWNrUG9pbnRzIGFycmF5IG9mIGJyZWFraW5nIHBvaW50cyBmb3IgYnJlYWthYmxlIGJsb2NrXG4gKi9cbmV4cG9ydCBjbGFzcyBCb3hCcmVha1Bvc2l0aW9uIGV4dGVuZHMgQnJlYWtQb3NpdGlvbi5BYnN0cmFjdEJyZWFrUG9zaXRpb25cbiAgaW1wbGVtZW50cyBMYXlvdXQuQm94QnJlYWtQb3NpdGlvbiB7XG4gIHByaXZhdGUgYWxyZWFkeUV2YWx1YXRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBicmVha05vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgIHB1YmxpYyByZWFkb25seSBwZW5hbHR5OiBudW1iZXIsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmaW5kQWNjZXB0YWJsZUJyZWFrKGNvbHVtbjogQ29sdW1uLCBwZW5hbHR5OiBudW1iZXIpOiBWdHJlZS5Ob2RlQ29udGV4dCB7XG4gICAgaWYgKHBlbmFsdHkgPCB0aGlzLmdldE1pbkJyZWFrUGVuYWx0eSgpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmFscmVhZHlFdmFsdWF0ZWQpIHtcbiAgICAgIHRoaXMuYnJlYWtOb2RlQ29udGV4dCA9IGNvbHVtbi5maW5kQm94QnJlYWtQb3NpdGlvbih0aGlzLCBwZW5hbHR5ID4gMCk7XG4gICAgICB0aGlzLmFscmVhZHlFdmFsdWF0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5icmVha05vZGVDb250ZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0TWluQnJlYWtQZW5hbHR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucGVuYWx0eTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0Tm9kZUNvbnRleHQoKTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIHJldHVybiB0aGlzLmFscmVhZHlFdmFsdWF0ZWRcbiAgICAgID8gdGhpcy5icmVha05vZGVDb250ZXh0XG4gICAgICA6IHRoaXMuY2hlY2tQb2ludHNbdGhpcy5jaGVja1BvaW50cy5sZW5ndGggLSAxXTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVDaGVja1BvaW50cyhjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSk6IHZvaWQge1xuICBmb3IgKGxldCBpID0gMTsgaSA8IGNoZWNrUG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY3AwID0gY2hlY2tQb2ludHNbaSAtIDFdO1xuICAgIGNvbnN0IGNwMSA9IGNoZWNrUG9pbnRzW2ldO1xuICAgIGlmIChjcDAgPT09IGNwMSkge1xuICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihcInZhbGlkYXRlQ2hlY2tQb2ludHM6IGR1cGxpY2F0ZSBlbnRyeVwiKTtcbiAgICB9IGVsc2UgaWYgKGNwMC5ib3hPZmZzZXQgPj0gY3AxLmJveE9mZnNldCkge1xuICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihcInZhbGlkYXRlQ2hlY2tQb2ludHM6IGluY29ycmVjdCBib3hPZmZzZXRcIik7XG4gICAgfSBlbHNlIGlmIChjcDAuc291cmNlTm9kZSA9PSBjcDEuc291cmNlTm9kZSkge1xuICAgICAgaWYgKGNwMS5hZnRlcikge1xuICAgICAgICBpZiAoY3AwLmFmdGVyKSB7XG4gICAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihcInZhbGlkYXRlQ2hlY2tQb2ludHM6IGR1cGxpY2F0ZSBhZnRlciBwb2ludHNcIik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghY3AwLmFmdGVyKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3AxLmJveE9mZnNldCAtIGNwMC5ib3hPZmZzZXQgIT1cbiAgICAgICAgICAgIGNwMS5vZmZzZXRJbk5vZGUgLSBjcDAub2Zmc2V0SW5Ob2RlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFxuICAgICAgICAgICAgICBcInZhbGlkYXRlQ2hlY2tQb2ludHM6IGJveE9mZnNldCBpbmNvbnNpc3RlbnQgd2l0aCBvZmZzZXRJbk5vZGVcIixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NwZWNpYWxJbmxpbmVEaXNwbGF5KGRpc3BsYXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBzd2l0Y2ggKGRpc3BsYXkpIHtcbiAgICBjYXNlIFwicnVieVwiOlxuICAgIGNhc2UgXCJpbmxpbmUtYmxvY2tcIjpcbiAgICBjYXNlIFwiaW5saW5lLWZsZXhcIjpcbiAgICBjYXNlIFwiaW5saW5lLWdyaWRcIjpcbiAgICBjYXNlIFwiaW5saW5lLWxpc3QtaXRlbVwiOlxuICAgIGNhc2UgXCJpbmxpbmUtdGFibGVcIjpcbiAgICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGNsYXNzIENvbHVtbiBleHRlbmRzIFZ0cmVlSW1wbC5Db250YWluZXIgaW1wbGVtZW50cyBMYXlvdXQuQ29sdW1uIHtcbiAgbGFzdDogTm9kZTtcbiAgdmlld0RvY3VtZW50OiBEb2N1bWVudDtcbiAgZmxvd1Jvb3RGb3JtYXR0aW5nQ29udGV4dDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQgPSBudWxsO1xuICBpc0Zsb2F0OiBib29sZWFuID0gZmFsc2U7XG4gIGlzRm9vdG5vdGU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgc3RhcnRFZGdlOiBudW1iZXIgPSAwO1xuICBlbmRFZGdlOiBudW1iZXIgPSAwO1xuICBiZWZvcmVFZGdlOiBudW1iZXIgPSAwO1xuICBhZnRlckVkZ2U6IG51bWJlciA9IDA7XG4gIGZvb3Rub3RlRWRnZTogbnVtYmVyID0gMDtcbiAgYm94OiBHZW9tZXRyeVV0aWwuUmVjdCA9IG51bGw7XG4gIGNodW5rUG9zaXRpb25zOiBWdHJlZS5DaHVua1Bvc2l0aW9uW10gPSBudWxsO1xuICBiYW5kczogR2VvbWV0cnlVdGlsLkJhbmRbXSA9IG51bGw7XG4gIG92ZXJmbG93bjogYm9vbGVhbiA9IGZhbHNlO1xuICBicmVha1Bvc2l0aW9uczogQnJlYWtQb3NpdGlvbi5CcmVha1Bvc2l0aW9uW10gPSBudWxsO1xuICBwYWdlQnJlYWtUeXBlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgZm9yY2VOb25maXR0aW5nOiBib29sZWFuID0gdHJ1ZTtcbiAgbGVmdEZsb2F0RWRnZTogbnVtYmVyID0gMDsgLy8gYm90dG9tIG9mIHRoZSBib3R0b21tb3N0IGxlZnQgZmxvYXRcbiAgcmlnaHRGbG9hdEVkZ2U6IG51bWJlciA9IDA7IC8vIGJvdHRvbSBvZiB0aGUgYm90dG9tbW9zdCByaWdodCBmbG9hdFxuICBib3R0b21tb3N0RmxvYXRUb3A6IG51bWJlciA9IDA7IC8vIFRvcCBvZiB0aGUgYm90dG9tbW9zdCBmbG9hdFxuICBzdG9wQXRPdmVyZmxvdzogYm9vbGVhbiA9IHRydWU7XG4gIGxhc3RBZnRlclBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24gfCBudWxsID0gbnVsbDtcbiAgZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50czogRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50W10gPSBbXTtcbiAgcHNldWRvUGFyZW50OiBDb2x1bW4gPSBudWxsO1xuICBub2RlQ29udGV4dE92ZXJmbG93aW5nRHVlVG9SZXBldGl0aXZlRWxlbWVudHM6IFZ0cmVlLk5vZGVDb250ZXh0IHwgbnVsbCA9IG51bGw7XG4gIGJsb2NrRGlzdGFuY2VUb0Jsb2NrRW5kRmxvYXRzOiBudW1iZXIgPSBOYU47XG4gIGNvbXB1dGVkQmxvY2tTaXplOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgZWxlbWVudDogRWxlbWVudCxcbiAgICBwdWJsaWMgbGF5b3V0Q29udGV4dDogVnRyZWUuTGF5b3V0Q29udGV4dCxcbiAgICBwdWJsaWMgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICAgcHVibGljIHJlYWRvbmx5IGxheW91dENvbnN0cmFpbnQ6IExheW91dENvbnN0cmFpbnQsXG4gICAgcHVibGljIHJlYWRvbmx5IHBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgKSB7XG4gICAgc3VwZXIoZWxlbWVudCk7XG4gICAgdGhpcy5sYXN0ID0gZWxlbWVudC5sYXN0Q2hpbGQ7XG4gICAgdGhpcy52aWV3RG9jdW1lbnQgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5zZXRDb250YWluZXIodGhpcyk7XG4gIH1cblxuICBnZXRUb3BFZGdlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudmVydGljYWwgPyB0aGlzLnN0YXJ0RWRnZSA6IHRoaXMuYmVmb3JlRWRnZTtcbiAgfVxuXG4gIGdldEJvdHRvbUVkZ2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbCA/IHRoaXMuZW5kRWRnZSA6IHRoaXMuYWZ0ZXJFZGdlO1xuICB9XG5cbiAgZ2V0TGVmdEVkZ2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbCA/IHRoaXMuYWZ0ZXJFZGdlIDogdGhpcy5zdGFydEVkZ2U7XG4gIH1cblxuICBnZXRSaWdodEVkZ2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbCA/IHRoaXMuYmVmb3JlRWRnZSA6IHRoaXMuZW5kRWRnZTtcbiAgfVxuXG4gIGlzRmxvYXROb2RlQ29udGV4dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISFub2RlQ29udGV4dC5mbG9hdFNpZGUgJiYgKCF0aGlzLmlzRmxvYXQgfHwgISFub2RlQ29udGV4dC5wYXJlbnQpO1xuICB9XG5cbiAgc3RvcEJ5T3ZlcmZsb3cobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcEF0T3ZlcmZsb3cgJiYgISFub2RlQ29udGV4dCAmJiBub2RlQ29udGV4dC5vdmVyZmxvdztcbiAgfVxuXG4gIGlzT3ZlcmZsb3duKGVkZ2U6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICByZXR1cm4gZWRnZSA8IHRoaXMuZm9vdG5vdGVFZGdlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZWRnZSA+IHRoaXMuZm9vdG5vdGVFZGdlO1xuICAgIH1cbiAgfVxuXG4gIGdldEV4Y2x1c2lvbnMoKTogR2VvbWV0cnlVdGlsLlNoYXBlW10ge1xuICAgIGNvbnN0IHBhZ2VGbG9hdEV4Y2x1c2lvbnMgPSB0aGlzLnBhZ2VGbG9hdExheW91dENvbnRleHQuZ2V0RmxvYXRGcmFnbWVudEV4Y2x1c2lvbnMoKTtcbiAgICByZXR1cm4gdGhpcy5leGNsdXNpb25zLmNvbmNhdChwYWdlRmxvYXRFeGNsdXNpb25zKTtcbiAgfVxuXG4gIG9wZW5BbGxWaWV3cyhwb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFwib3BlbkFsbFZpZXdzXCIpO1xuICAgIGNvbnN0IHN0ZXBzID0gcG9zaXRpb24uc3RlcHM7XG4gICAgc2VsZi5sYXlvdXRDb250ZXh0LnNldFZpZXdSb290KHNlbGYuZWxlbWVudCwgc2VsZi5pc0Zvb3Rub3RlKTtcbiAgICBsZXQgc3RlcEluZGV4ID0gc3RlcHMubGVuZ3RoIC0gMTtcbiAgICBsZXQgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0ID0gbnVsbDtcbiAgICBmcmFtZVxuICAgICAgLmxvb3AoKCkgPT4ge1xuICAgICAgICB3aGlsZSAoc3RlcEluZGV4ID49IDApIHtcbiAgICAgICAgICBjb25zdCBwcmV2Q29udGV4dCA9IG5vZGVDb250ZXh0O1xuICAgICAgICAgIGNvbnN0IHN0ZXAgPSBzdGVwc1tzdGVwSW5kZXhdO1xuICAgICAgICAgIG5vZGVDb250ZXh0ID0gVnRyZWVJbXBsLm1ha2VOb2RlQ29udGV4dEZyb21Ob2RlUG9zaXRpb25TdGVwKFxuICAgICAgICAgICAgc3RlcCxcbiAgICAgICAgICAgIHByZXZDb250ZXh0LFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgc3RlcEluZGV4ID09PSBzdGVwcy5sZW5ndGggLSAxICYmXG4gICAgICAgICAgICAhbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHRcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0ID0gc2VsZi5mbG93Um9vdEZvcm1hdHRpbmdDb250ZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc3RlcEluZGV4ID09IDApIHtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0Lm9mZnNldEluTm9kZSA9IHNlbGYuY2FsY3VsYXRlT2Zmc2V0SW5Ob2RlRm9yTm9kZUNvbnRleHQoXG4gICAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0LmFmdGVyID0gcG9zaXRpb24uYWZ0ZXI7XG4gICAgICAgICAgICBub2RlQ29udGV4dC5wcmVwcm9jZXNzZWRUZXh0Q29udGVudCA9XG4gICAgICAgICAgICAgIHBvc2l0aW9uLnByZXByb2Nlc3NlZFRleHRDb250ZW50O1xuICAgICAgICAgICAgaWYgKG5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCByID0gc2VsZi5sYXlvdXRDb250ZXh0LnNldEN1cnJlbnQoXG4gICAgICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgICAgIHN0ZXBJbmRleCA9PSAwICYmIG5vZGVDb250ZXh0Lm9mZnNldEluTm9kZSA9PSAwLFxuICAgICAgICAgICk7XG4gICAgICAgICAgc3RlcEluZGV4LS07XG4gICAgICAgICAgaWYgKHIuaXNQZW5kaW5nKCkpIHtcbiAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmFsc2UpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgQXNzZXJ0cy5hc3NlcnQobm9kZUNvbnRleHQpO1xuICAgICAgICBmcmFtZS5maW5pc2gobm9kZUNvbnRleHQpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgY2FsY3VsYXRlT2Zmc2V0SW5Ob2RlRm9yTm9kZUNvbnRleHQocG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbik6IG51bWJlciB7XG4gICAgcmV0dXJuIHBvc2l0aW9uLnByZXByb2Nlc3NlZFRleHRDb250ZW50XG4gICAgICA/IERpZmYucmVzb2x2ZU5ld0luZGV4KFxuICAgICAgICAgIHBvc2l0aW9uLnByZXByb2Nlc3NlZFRleHRDb250ZW50LFxuICAgICAgICAgIHBvc2l0aW9uLm9mZnNldEluTm9kZSxcbiAgICAgICAgKVxuICAgICAgOiBwb3NpdGlvbi5vZmZzZXRJbk5vZGU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGNvdW50IGZpcnN0LVhYWCBuZXN0aW5nIGlkZW50aWZpZXJcbiAgICovXG4gIG1heWJlUGVlbE9mZihcbiAgICBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY291bnQ6IG51bWJlcixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBpZiAoXG4gICAgICBwb3NpdGlvbi5maXJzdFBzZXVkbyAmJlxuICAgICAgcG9zaXRpb24uaW5saW5lICYmXG4gICAgICAhcG9zaXRpb24uYWZ0ZXIgJiZcbiAgICAgIHBvc2l0aW9uLmZpcnN0UHNldWRvLmNvdW50ID09IDBcbiAgICApIHtcbiAgICAgIC8vIGZpcnN0IGNoYXJcbiAgICAgIGlmIChwb3NpdGlvbi52aWV3Tm9kZS5ub2RlVHlwZSAhPSAxKSB7XG4gICAgICAgIGNvbnN0IHRleHQgPSBwb3NpdGlvbi52aWV3Tm9kZS50ZXh0Q29udGVudDtcbiAgICAgICAgY29uc3QgciA9IHRleHQubWF0Y2goZmlyc3RDaGFyUGF0dGVybik7XG4gICAgICAgIHJldHVybiB0aGlzLmxheW91dENvbnRleHQucGVlbE9mZihwb3NpdGlvbiwgclswXS5sZW5ndGgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQocG9zaXRpb24pIGFzIFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZHMgdGhlIHZpZXcgdW50aWwgYSBDU1MgYm94IGVkZ2UgaXMgcmVhY2hlZC5cbiAgICogQHBhcmFtIHBvc2l0aW9uIHN0YXJ0IHNvdXJjZSBwb3NpdGlvbi5cbiAgICogQHBhcmFtIGNoZWNrUG9pbnRzIGFycmF5IHRvIGFwcGVuZCBwb3NzaWJsZSBicmVha2luZyBwb2ludHMuXG4gICAqIEByZXR1cm4gaG9sZGluZyBib3ggZWRnZSBwb3NpdGlvbiByZWFjaGVkIG9yIG51bGwgaWYgdGhlIHNvdXJjZSBpcyBleGhhdXN0ZWQuXG4gICAqL1xuICBidWlsZFZpZXdUb05leHRCbG9ja0VkZ2UoXG4gICAgcG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCB2aW9sYXRlQ29uc3RyYWludCA9IGZhbHNlO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcImJ1aWxkVmlld1RvTmV4dEJsb2NrRWRnZVwiLFxuICAgICk7XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChib2R5RnJhbWUpID0+IHtcbiAgICAgICAgaWYgKHBvc2l0aW9uLnZpZXdOb2RlICYmICFMYXlvdXRIZWxwZXIuaXNTcGVjaWFsTm9kZUNvbnRleHQocG9zaXRpb24pKSB7XG4gICAgICAgICAgY2hlY2tQb2ludHMucHVzaChwb3NpdGlvbi5jb3B5KCkpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYubWF5YmVQZWVsT2ZmKHBvc2l0aW9uLCAwKS50aGVuKChwb3NpdGlvbjFQYXJhbSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHBvc2l0aW9uMSA9IHBvc2l0aW9uMVBhcmFtIGFzIFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgICAgICAgIGlmIChwb3NpdGlvbjEgIT09IHBvc2l0aW9uKSB7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uMTtcbiAgICAgICAgICAgIGlmICghTGF5b3V0SGVscGVyLmlzU3BlY2lhbE5vZGVDb250ZXh0KHBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICBjaGVja1BvaW50cy5wdXNoKHBvc2l0aW9uLmNvcHkoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlbGYubmV4dEluVHJlZShwb3NpdGlvbikudGhlbigocG9zaXRpb25QYXJhbSkgPT4ge1xuICAgICAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvblBhcmFtIGFzIFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgICAgICAgICAgaWYgKCFwb3NpdGlvbikge1xuICAgICAgICAgICAgICAvLyBFeGl0IHRoZSBsb29wXG4gICAgICAgICAgICAgIGJvZHlGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICB2aW9sYXRlQ29uc3RyYWludCB8fFxuICAgICAgICAgICAgICAhc2VsZi5sYXlvdXRDb25zdHJhaW50LmFsbG93TGF5b3V0KHBvc2l0aW9uKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHZpb2xhdGVDb25zdHJhaW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbi5tb2RpZnkoKTtcbiAgICAgICAgICAgICAgcG9zaXRpb24ub3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlbGYuaXNGbG9hdE5vZGVDb250ZXh0KHBvc2l0aW9uKSAmJiAhc2VsZi52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICBzZWxmLmxheW91dEZsb2F0T3JGb290bm90ZShwb3NpdGlvbikudGhlbigocG9zaXRpb25QYXJhbSkgPT4ge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb25QYXJhbSBhcyBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICBib2R5RnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJvZHlGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFwb3NpdGlvbi5pbmxpbmUpIHtcbiAgICAgICAgICAgICAgLy8gRXhpdCB0aGUgbG9vcFxuICAgICAgICAgICAgICBib2R5RnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBDb250aW51ZSB0aGUgbG9vcFxuICAgICAgICAgICAgICBib2R5RnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKHBvc2l0aW9uKTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIG5leHRJblRyZWUoXG4gICAgcG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGF0VW5mb3JjZWRCcmVhaz86IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3QgY29udCA9IHRoaXMubGF5b3V0Q29udGV4dC5uZXh0SW5UcmVlKHBvc2l0aW9uLCBhdFVuZm9yY2VkQnJlYWspO1xuICAgIHJldHVybiBwcm9jZXNzQWZ0ZXJJZkNvbnRpbnVlcyhjb250LCB0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZHMgdGhlIHZpZXcgZm9yIGEgc2luZ2xlIHVuYnJlYWthYmxlIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBwb3NpdGlvbiBzdGFydCBzb3VyY2UgcG9zaXRpb24uXG4gICAqIEByZXR1cm4gaG9sZGluZyBib3ggZWRnZSBwb3NpdGlvbiByZWFjaGVkIG9yIG51bGwgaWYgdGhlIHNvdXJjZSBpcyBleGhhdXN0ZWQuXG4gICAqL1xuICBidWlsZERlZXBFbGVtZW50VmlldyhcbiAgICBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgaWYgKCFwb3NpdGlvbi52aWV3Tm9kZSkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHBvc2l0aW9uKTtcbiAgICB9XG4gICAgbGV0IGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdID0gW107XG4gICAgY29uc3Qgc291cmNlTm9kZSA9IHBvc2l0aW9uLnNvdXJjZU5vZGU7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwiYnVpbGREZWVwRWxlbWVudFZpZXdcIixcbiAgICApO1xuXG4gICAgLy8gVE9ETzogZW5kIHRoZSBsb29wIGJhc2VkIG9uIGRlcHRoLCBub3Qgc291cmNlTm9kZSBjb21wYXJpc29uXG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChib2R5RnJhbWUpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHBvc2l0aW9uLnZpZXdOb2RlICYmXG4gICAgICAgICAgcG9zaXRpb24uaW5saW5lICYmXG4gICAgICAgICAgIUxheW91dEhlbHBlci5pc1NwZWNpYWxOb2RlQ29udGV4dChwb3NpdGlvbilcbiAgICAgICAgKSB7XG4gICAgICAgICAgY2hlY2tQb2ludHMucHVzaChwb3NpdGlvbi5jb3B5KCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChjaGVja1BvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZWxmLnBvc3RMYXlvdXRCbG9jayhwb3NpdGlvbiwgY2hlY2tQb2ludHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjaGVja1BvaW50cyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYubWF5YmVQZWVsT2ZmKHBvc2l0aW9uLCAwKS50aGVuKChwb3NpdGlvbjFQYXJhbSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHBvc2l0aW9uMSA9IHBvc2l0aW9uMVBhcmFtIGFzIFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgICAgICAgIGlmIChwb3NpdGlvbjEgIT09IHBvc2l0aW9uKSB7XG4gICAgICAgICAgICBsZXQgcCA9IHBvc2l0aW9uMTtcbiAgICAgICAgICAgIHdoaWxlIChwICYmIHAuc291cmNlTm9kZSAhPSBzb3VyY2VOb2RlKSB7XG4gICAgICAgICAgICAgIHAgPSBwLnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwID09IG51bGwpIHtcbiAgICAgICAgICAgICAgLy8gb3V0c2lkZSBvZiB0aGUgc3VidHJlZVxuICAgICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uMTtcbiAgICAgICAgICAgICAgYm9keUZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIUxheW91dEhlbHBlci5pc1NwZWNpYWxOb2RlQ29udGV4dChwb3NpdGlvbjEpKSB7XG4gICAgICAgICAgICAgIGNoZWNrUG9pbnRzLnB1c2gocG9zaXRpb24xLmNvcHkoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlbGYubmV4dEluVHJlZShwb3NpdGlvbjEpLnRoZW4oKHBvc2l0aW9uUGFyYW0pID0+IHtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb25QYXJhbSBhcyBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICAgICAgICAgIGlmICghcG9zaXRpb24gfHwgcG9zaXRpb24uc291cmNlTm9kZSA9PSBzb3VyY2VOb2RlKSB7XG4gICAgICAgICAgICAgIGJvZHlGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXNlbGYubGF5b3V0Q29uc3RyYWludC5hbGxvd0xheW91dChwb3NpdGlvbikpIHtcbiAgICAgICAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbi5tb2RpZnkoKTtcbiAgICAgICAgICAgICAgcG9zaXRpb24ub3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgICBpZiAoc2VsZi5zdG9wQXRPdmVyZmxvdykge1xuICAgICAgICAgICAgICAgIGJvZHlGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBib2R5RnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGJvZHlGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAoY2hlY2tQb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHNlbGYucG9zdExheW91dEJsb2NrKHBvc2l0aW9uLCBjaGVja1BvaW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWUuZmluaXNoKHBvc2l0aW9uKTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBzaW5nbGUgZmxvYXRpbmcgZWxlbWVudCAoZm9yIGV4Y2x1c2lvbiBhcmVhcykuXG4gICAqIEBwYXJhbSByZWYgY29udGFpbmVyJ3MgY2hpbGQgdG8gaW5zZXJ0IGZsb2F0IGJlZm9yZSAoY2FuIGJlIG51bGwpLlxuICAgKiBAcGFyYW0gc2lkZSBmbG9hdCBzaWRlIChcImxlZnRcIiBvciBcInJpZ2h0XCIpLlxuICAgKiBAcGFyYW0gd2lkdGggZmxvYXQgaW5saW5lIGRpbWVuc2lvbi5cbiAgICogQHBhcmFtIGhlaWdodCBmbG9hdCBib3ggcHJvZ3Jlc3Npb24gZGltZW5zaW9uLlxuICAgKiBAcmV0dXJuIG5ld2x5IGNyZWF0ZWQgZmxvYXQgZWxlbWVudC5cbiAgICovXG4gIGNyZWF0ZUZsb2F0KHJlZjogTm9kZSwgc2lkZTogc3RyaW5nLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IEVsZW1lbnQge1xuICAgIGNvbnN0IGRpdiA9IHRoaXMudmlld0RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIGlmIChoZWlnaHQgPj0gdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgaGVpZ2h0IC09IDAuMTtcbiAgICAgIH1cbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZGl2LCBcImhlaWdodFwiLCBgJHt3aWR0aH1weGApO1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShkaXYsIFwid2lkdGhcIiwgYCR7aGVpZ2h0fXB4YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh3aWR0aCA+PSB0aGlzLndpZHRoKSB7XG4gICAgICAgIHdpZHRoIC09IDAuMTtcbiAgICAgIH1cbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZGl2LCBcIndpZHRoXCIsIGAke3dpZHRofXB4YCk7XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGRpdiwgXCJoZWlnaHRcIiwgYCR7aGVpZ2h0fXB4YCk7XG4gICAgfVxuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZGl2LCBcImZsb2F0XCIsIHNpZGUpO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZGl2LCBcImNsZWFyXCIsIHNpZGUpO1xuXG4gICAgLy8gZW5hYmxlIHRvIHZpc3VhbGl6ZVxuICAgIC8vIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZGl2LCBcImJhY2tncm91bmQtY29sb3JcIiwgXCIjNTBGMEZGXCIpO1xuICAgIHRoaXMuZWxlbWVudC5pbnNlcnRCZWZvcmUoZGl2LCByZWYpO1xuICAgIHJldHVybiBkaXY7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFsbCB0aGUgZXhjbHVzaW9uIGZsb2F0cy5cbiAgICovXG4gIGtpbGxGbG9hdHMoKTogdm9pZCB7XG4gICAgbGV0IGM6IE5vZGUgPSB0aGlzLmVsZW1lbnQuZmlyc3RDaGlsZDtcbiAgICB3aGlsZSAoYykge1xuICAgICAgY29uc3QgbmMgPSBjLm5leHRTaWJsaW5nO1xuICAgICAgaWYgKGMubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICBjb25zdCBlID0gYyBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgY29uc3QgZiA9IGUuc3R5bGUuY3NzRmxvYXQ7XG4gICAgICAgIGlmIChmID09IFwibGVmdFwiIHx8IGYgPT0gXCJyaWdodFwiKSB7XG4gICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjID0gbmM7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBleGNsdXNpb24gZmxvYXRzIGZvciBhIGNvbHVtbi5cbiAgICovXG4gIGNyZWF0ZUZsb2F0cygpOiB2b2lkIHtcbiAgICBjb25zdCByZWYgPSB0aGlzLmVsZW1lbnQuZmlyc3RDaGlsZDtcbiAgICBjb25zdCBiYW5kcyA9IHRoaXMuYmFuZHM7XG4gICAgY29uc3QgeDEgPSB0aGlzLnZlcnRpY2FsID8gdGhpcy5nZXRUb3BFZGdlKCkgOiB0aGlzLmdldExlZnRFZGdlKCk7XG4gICAgY29uc3QgeDIgPSB0aGlzLnZlcnRpY2FsID8gdGhpcy5nZXRCb3R0b21FZGdlKCkgOiB0aGlzLmdldFJpZ2h0RWRnZSgpO1xuICAgIGZvciAoY29uc3QgYmFuZCBvZiBiYW5kcykge1xuICAgICAgY29uc3QgaGVpZ2h0ID0gYmFuZC55MiAtIGJhbmQueTE7XG4gICAgICBiYW5kLmxlZnQgPSB0aGlzLmNyZWF0ZUZsb2F0KHJlZiwgXCJsZWZ0XCIsIGJhbmQueDEgLSB4MSwgaGVpZ2h0KTtcbiAgICAgIGJhbmQucmlnaHQgPSB0aGlzLmNyZWF0ZUZsb2F0KHJlZiwgXCJyaWdodFwiLCB4MiAtIGJhbmQueDIsIGhlaWdodCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBub2RlQ29udGV4dCBwb3NpdGlvbiBhZnRlciB0aGUgYmxvY2tcbiAgICogQHBhcmFtIGNoZWNrUG9pbnRzIGFycmF5IG9mIHBvc3NpYmxlIGJyZWFraW5nIHBvaW50cy5cbiAgICogQHBhcmFtIGluZGV4IGluZGV4IG9mIHRoZSBicmVha2luZyBwb2ludFxuICAgKiBAcGFyYW0gYm94T2Zmc2V0IGJveCBvZmZzZXRcbiAgICogQHJldHVybiBlZGdlIHBvc2l0aW9uXG4gICAqL1xuICBjYWxjdWxhdGVFZGdlKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGJveE9mZnNldDogbnVtYmVyLFxuICApOiBudW1iZXIge1xuICAgIGxldCBlZGdlOiBudW1iZXI7XG4gICAgaWYgKG5vZGVDb250ZXh0ICYmIExheW91dEhlbHBlci5pc09ycGhhbihub2RlQ29udGV4dC52aWV3Tm9kZSkpIHtcbiAgICAgIHJldHVybiBOYU47XG4gICAgfSBlbHNlIGlmIChub2RlQ29udGV4dCAmJiBub2RlQ29udGV4dC5hZnRlciAmJiAhbm9kZUNvbnRleHQuaW5saW5lKSB7XG4gICAgICBlZGdlID0gTGF5b3V0SGVscGVyLmNhbGN1bGF0ZUVkZ2UoXG4gICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICB0aGlzLmNsaWVudExheW91dCxcbiAgICAgICAgMCxcbiAgICAgICAgdGhpcy52ZXJ0aWNhbCxcbiAgICAgICk7XG4gICAgICBpZiAoIWlzTmFOKGVkZ2UpKSB7XG4gICAgICAgIHJldHVybiBlZGdlO1xuICAgICAgfVxuICAgIH1cbiAgICBub2RlQ29udGV4dCA9IGNoZWNrUG9pbnRzW2luZGV4XTtcbiAgICBsZXQgb2Zmc2V0ID0gYm94T2Zmc2V0IC0gbm9kZUNvbnRleHQuYm94T2Zmc2V0O1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBlZGdlID0gTGF5b3V0SGVscGVyLmNhbGN1bGF0ZUVkZ2UoXG4gICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICB0aGlzLmNsaWVudExheW91dCxcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgICB0aGlzLnZlcnRpY2FsLFxuICAgICAgKTtcbiAgICAgIGlmICghaXNOYU4oZWRnZSkpIHtcbiAgICAgICAgcmV0dXJuIGVkZ2U7XG4gICAgICB9XG4gICAgICBpZiAob2Zmc2V0ID4gMCkge1xuICAgICAgICBvZmZzZXQtLTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpbmRleC0tO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5iZWZvcmVFZGdlO1xuICAgICAgfVxuICAgICAgbm9kZUNvbnRleHQgPSBjaGVja1BvaW50c1tpbmRleF07XG4gICAgICBpZiAobm9kZUNvbnRleHQudmlld05vZGUubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICBvZmZzZXQgPSBub2RlQ29udGV4dC52aWV3Tm9kZS50ZXh0Q29udGVudC5sZW5ndGg7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIENTUyBjb21wdXRlZCBsZW5ndGggKGluIHBpeGVscylcbiAgICogQHBhcmFtIHZhbCBDU1MgbGVuZ3RoIGluIFwicHhcIiB1bml0cyBvciBhIG51bWJlci5cbiAgICogQHJldHVybiB2YWx1ZSBpbiBwaXhlbHMgb3IgMCBpZiBub3QgcGFyc2FibGVcbiAgICovXG4gIHBhcnNlQ29tcHV0ZWRMZW5ndGgodmFsOiBzdHJpbmcgfCBudW1iZXIpOiBudW1iZXIge1xuICAgIGlmICh0eXBlb2YgdmFsID09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIGNvbnN0IHIgPSB2YWwubWF0Y2goL14oLT9bMC05XSooXFwuWzAtOV0qKT8pcHgkLyk7XG4gICAgaWYgKHIpIHtcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KHJbMF0pO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkcyBlbGVtZW50J3MgY29tcHV0ZWQgQ1NTIG1hcmdpbi5cbiAgICovXG4gIGdldENvbXB1dGVkTWFyZ2luKGVsZW1lbnQ6IEVsZW1lbnQpOiBHZW9tZXRyeVV0aWwuSW5zZXRzIHtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgIGNvbnN0IGluc2V0cyA9IG5ldyBHZW9tZXRyeVV0aWwuSW5zZXRzKDAsIDAsIDAsIDApO1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgaW5zZXRzLmxlZnQgPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUubWFyZ2luTGVmdCk7XG4gICAgICBpbnNldHMudG9wID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLm1hcmdpblRvcCk7XG4gICAgICBpbnNldHMucmlnaHQgPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUubWFyZ2luUmlnaHQpO1xuICAgICAgaW5zZXRzLmJvdHRvbSA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5tYXJnaW5Cb3R0b20pO1xuICAgIH1cbiAgICByZXR1cm4gaW5zZXRzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWRzIGVsZW1lbnQncyBjb21wdXRlZCBwYWRkaW5nICsgYm9yZGVycy5cbiAgICovXG4gIGdldENvbXB1dGVkUGFkZGluZ0JvcmRlcihlbGVtZW50OiBFbGVtZW50KTogR2VvbWV0cnlVdGlsLkluc2V0cyB7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLmNsaWVudExheW91dC5nZXRFbGVtZW50Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICBjb25zdCBpbnNldHMgPSBuZXcgR2VvbWV0cnlVdGlsLkluc2V0cygwLCAwLCAwLCAwKTtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIGluc2V0cy5sZWZ0ID1cbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLmJvcmRlckxlZnRXaWR0aCkgK1xuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUucGFkZGluZ0xlZnQpO1xuICAgICAgaW5zZXRzLnRvcCA9XG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5ib3JkZXJUb3BXaWR0aCkgK1xuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUucGFkZGluZ1RvcCk7XG4gICAgICBpbnNldHMucmlnaHQgPVxuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUuYm9yZGVyUmlnaHRXaWR0aCkgK1xuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUucGFkZGluZ1JpZ2h0KTtcbiAgICAgIGluc2V0cy5ib3R0b20gPVxuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUuYm9yZGVyQm90dG9tV2lkdGgpICtcbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLnBhZGRpbmdCb3R0b20pO1xuICAgIH1cbiAgICByZXR1cm4gaW5zZXRzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWRzIGVsZW1lbnQncyBjb21wdXRlZCBDU1MgaW5zZXRzKG1hcmdpbnMgKyBib3JkZXIgKyBwYWRkaW5nIG9yIG1hcmdpbnMgOlxuICAgKiBkZXBlbmRzIG9uIGJveC1zaXppbmcpXG4gICAqL1xuICBnZXRDb21wdXRlZEluc2V0cyhlbGVtZW50OiBFbGVtZW50KTogR2VvbWV0cnlVdGlsLkluc2V0cyB7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLmNsaWVudExheW91dC5nZXRFbGVtZW50Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICBjb25zdCBpbnNldHMgPSBuZXcgR2VvbWV0cnlVdGlsLkluc2V0cygwLCAwLCAwLCAwKTtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIGlmIChzdHlsZS5ib3hTaXppbmcgPT0gXCJib3JkZXItYm94XCIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29tcHV0ZWRNYXJnaW4oZWxlbWVudCk7XG4gICAgICB9XG4gICAgICBpbnNldHMubGVmdCA9XG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5tYXJnaW5MZWZ0KSArXG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5ib3JkZXJMZWZ0V2lkdGgpICtcbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLnBhZGRpbmdMZWZ0KTtcbiAgICAgIGluc2V0cy50b3AgPVxuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUubWFyZ2luVG9wKSArXG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5ib3JkZXJUb3BXaWR0aCkgK1xuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUucGFkZGluZ1RvcCk7XG4gICAgICBpbnNldHMucmlnaHQgPVxuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUubWFyZ2luUmlnaHQpICtcbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLmJvcmRlclJpZ2h0V2lkdGgpICtcbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLnBhZGRpbmdSaWdodCk7XG4gICAgICBpbnNldHMuYm90dG9tID1cbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLm1hcmdpbkJvdHRvbSkgK1xuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUuYm9yZGVyQm90dG9tV2lkdGgpICtcbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLnBhZGRpbmdCb3R0b20pO1xuICAgIH1cbiAgICByZXR1cm4gaW5zZXRzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBlbGVtZW50J3MgY29tcHV0ZWQgQ1NTIGluc2V0cyB0byBDb2x1bW4gQ29udGFpbmVyXG4gICAqL1xuICBzZXRDb21wdXRlZEluc2V0cyhlbGVtZW50OiBFbGVtZW50LCBjb250YWluZXI6IENvbHVtbikge1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgaWYgKHN0eWxlKSB7XG4gICAgICBjb250YWluZXIubWFyZ2luTGVmdCA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5tYXJnaW5MZWZ0KTtcbiAgICAgIGNvbnRhaW5lci5ib3JkZXJMZWZ0ID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLmJvcmRlckxlZnRXaWR0aCk7XG4gICAgICBjb250YWluZXIucGFkZGluZ0xlZnQgPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUucGFkZGluZ0xlZnQpO1xuICAgICAgY29udGFpbmVyLm1hcmdpblRvcCA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5tYXJnaW5Ub3ApO1xuICAgICAgY29udGFpbmVyLmJvcmRlclRvcCA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5ib3JkZXJUb3BXaWR0aCk7XG4gICAgICBjb250YWluZXIucGFkZGluZ1RvcCA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5wYWRkaW5nVG9wKTtcbiAgICAgIGNvbnRhaW5lci5tYXJnaW5SaWdodCA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5tYXJnaW5SaWdodCk7XG4gICAgICBjb250YWluZXIuYm9yZGVyUmlnaHQgPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUuYm9yZGVyUmlnaHRXaWR0aCk7XG4gICAgICBjb250YWluZXIucGFkZGluZ1JpZ2h0ID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLnBhZGRpbmdSaWdodCk7XG4gICAgICBjb250YWluZXIubWFyZ2luQm90dG9tID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLm1hcmdpbkJvdHRvbSk7XG4gICAgICBjb250YWluZXIuYm9yZGVyQm90dG9tID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKFxuICAgICAgICBzdHlsZS5ib3JkZXJCb3R0b21XaWR0aCxcbiAgICAgICk7XG4gICAgICBjb250YWluZXIucGFkZGluZ0JvdHRvbSA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5wYWRkaW5nQm90dG9tKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IGVsZW1lbnQncyBjb21wdXRlZCB3aWR0aCBhbmQgaGVpZ2h0IHRvIENvbHVtbiBDb250YWluZXJcbiAgICovXG4gIHNldENvbXB1dGVkV2lkdGhBbmRIZWlnaHQoZWxlbWVudDogRWxlbWVudCwgY29udGFpbmVyOiBDb2x1bW4pIHtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgY29udGFpbmVyLndpZHRoID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLndpZHRoKTtcbiAgICAgIGNvbnRhaW5lci5oZWlnaHQgPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUuaGVpZ2h0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTGF5b3V0IGEgc2luZ2xlIHVuYnJlYWthYmxlIGVsZW1lbnQuXG4gICAqL1xuICBsYXlvdXRVbmJyZWFrYWJsZShcbiAgICBub2RlQ29udGV4dEluOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICByZXR1cm4gdGhpcy5idWlsZERlZXBFbGVtZW50Vmlldyhub2RlQ29udGV4dEluKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMYXlvdXQgYSBzaW5nbGUgZmxvYXQgZWxlbWVudC5cbiAgICovXG4gIGxheW91dEZsb2F0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+ID0gVGFzay5uZXdGcmFtZShcImxheW91dEZsb2F0XCIpO1xuICAgIGNvbnN0IGVsZW1lbnQgPSBub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50O1xuICAgIGNvbnN0IGZsb2F0U2lkZSA9IG5vZGVDb250ZXh0LmZsb2F0U2lkZSBhcyBzdHJpbmc7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcImZsb2F0XCIsIFwibm9uZVwiKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwiZGlzcGxheVwiLCBcImlubGluZS1ibG9ja1wiKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwidmVydGljYWwtYWxpZ25cIiwgXCJ0b3BcIik7XG4gICAgc2VsZi5idWlsZERlZXBFbGVtZW50Vmlldyhub2RlQ29udGV4dCkudGhlbigobm9kZUNvbnRleHRBZnRlcikgPT4ge1xuICAgICAgY29uc3QgZmxvYXRCQm94ID0gc2VsZi5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3QoZWxlbWVudCk7XG4gICAgICBjb25zdCBtYXJnaW4gPSBzZWxmLmdldENvbXB1dGVkTWFyZ2luKGVsZW1lbnQpO1xuICAgICAgbGV0IGZsb2F0Qm94ID0gbmV3IEdlb21ldHJ5VXRpbC5SZWN0KFxuICAgICAgICBmbG9hdEJCb3gubGVmdCAtIG1hcmdpbi5sZWZ0LFxuICAgICAgICBmbG9hdEJCb3gudG9wIC0gbWFyZ2luLnRvcCxcbiAgICAgICAgZmxvYXRCQm94LnJpZ2h0ICsgbWFyZ2luLnJpZ2h0LFxuICAgICAgICBmbG9hdEJCb3guYm90dG9tICsgbWFyZ2luLmJvdHRvbSxcbiAgICAgICk7XG4gICAgICBsZXQgeDEgPSBzZWxmLnN0YXJ0RWRnZTtcbiAgICAgIGxldCB4MiA9IHNlbGYuZW5kRWRnZTtcbiAgICAgIGxldCBwYXJlbnQgPSBub2RlQ29udGV4dC5wYXJlbnQ7XG4gICAgICB3aGlsZSAocGFyZW50ICYmIHBhcmVudC5pbmxpbmUpIHtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgLy8gUG9zaXRpb24gaXQgYXQgdGhlIHBhcmVudCBlbGVtZW50J3MgZWRnZS5cbiAgICAgICAgLy8gV2UgbmVlZCB0byBnZXQgdGhlIGVkZ2Ugb2YgdGhlIHBhcmVudCdzIGNvbnRlbnQgYXJlYSwgY2FsbGluZ1xuICAgICAgICAvLyBnZXRFbGVtZW50Q2xpZW50UmVjdCB3aWxsIGFsc28gZ2l2ZSB1cyBib3JkZXJzLiBBdm9pZCBpdCBieSBjcmVhdGluZ1xuICAgICAgICAvLyBhIHRlbXBvcmFyeSBlbGVtZW50IGFuZCB1c2luZyBpdCBmb3IgbWVhc3VybWVudC5cbiAgICAgICAgY29uc3QgcHJvYmUgPSBwYXJlbnQudmlld05vZGUub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBwcm9iZS5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgICAgICAgcHJvYmUuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICAgICAgaWYgKHNlbGYudmVydGljYWwpIHtcbiAgICAgICAgICBwcm9iZS5zdHlsZS5ib3R0b20gPSBcIjBweFwiO1xuICAgICAgICAgIHByb2JlLnN0eWxlLndpZHRoID0gXCIxcHhcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9iZS5zdHlsZS5yaWdodCA9IFwiMHB4XCI7XG4gICAgICAgICAgcHJvYmUuc3R5bGUuaGVpZ2h0ID0gXCIxcHhcIjtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQudmlld05vZGUuYXBwZW5kQ2hpbGQocHJvYmUpO1xuICAgICAgICBjb25zdCBwYXJlbnRCb3ggPSBzZWxmLmNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChwcm9iZSk7XG4gICAgICAgIHgxID0gTWF0aC5tYXgoc2VsZi5nZXRTdGFydEVkZ2UocGFyZW50Qm94KSwgeDEpO1xuICAgICAgICB4MiA9IE1hdGgubWluKHNlbGYuZ2V0RW5kRWRnZShwYXJlbnRCb3gpLCB4Mik7XG4gICAgICAgIHBhcmVudC52aWV3Tm9kZS5yZW1vdmVDaGlsZChwcm9iZSk7XG4gICAgICAgIGNvbnN0IGZsb2F0Qm94TWVhc3VyZSA9IHNlbGYudmVydGljYWxcbiAgICAgICAgICA/IGZsb2F0Qm94LnkyIC0gZmxvYXRCb3gueTFcbiAgICAgICAgICA6IGZsb2F0Qm94LngyIC0gZmxvYXRCb3gueDE7XG4gICAgICAgIGlmIChmbG9hdFNpZGUgPT0gXCJsZWZ0XCIpIHtcbiAgICAgICAgICB4MiA9IE1hdGgubWF4KHgyLCB4MSArIGZsb2F0Qm94TWVhc3VyZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgeDEgPSBNYXRoLm1pbih4MSwgeDIgLSBmbG9hdEJveE1lYXN1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTW92ZSB0aGUgZmxvYXQgYmVsb3cgdGhlIGJsb2NrIHBhcmVudC5cbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBpZiB0aGUgZmxvYXQgaXMgYXR0YWNoZWQgdG8gYW4gaW5saW5lIGJveCB3aXRoICdwb3NpdGlvbjpcbiAgICAgICAgLy8gcmVsYXRpdmUnLCB0aGUgYWJzb2x1dGUgcG9zaXRpb25pbmcgb2YgdGhlIGZsb2F0IGdldHMgYnJva2VuLCBzaW5jZVxuICAgICAgICAvLyB0aGUgaW5saW5lIHBhcmVudCBjYW4gYmUgcHVzaGVkIGhvcml6b250YWxseSBieSBleGNsdXNpb24gZmxvYXRzXG4gICAgICAgIC8vIGFmdGVyIHRoZSBsYXlvdXQgb2YgdGhlIGZsb2F0IGlzIGRvbmUuXG4gICAgICAgIHBhcmVudC52aWV3Tm9kZS5hcHBlbmRDaGlsZChub2RlQ29udGV4dC52aWV3Tm9kZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGJveCBpcyByb3RhdGVkIGZvciB2ZXJ0aWNhbCBvcmllbnRhdGlvblxuICAgICAgbGV0IGJveCA9IG5ldyBHZW9tZXRyeVV0aWwuUmVjdChcbiAgICAgICAgeDEsXG4gICAgICAgIHNlbGYuZ2V0Qm94RGlyKCkgKiBzZWxmLmJlZm9yZUVkZ2UsXG4gICAgICAgIHgyLFxuICAgICAgICBzZWxmLmdldEJveERpcigpICogc2VsZi5hZnRlckVkZ2UsXG4gICAgICApO1xuICAgICAgbGV0IGZsb2F0SG9yQm94ID0gZmxvYXRCb3g7XG4gICAgICBpZiAoc2VsZi52ZXJ0aWNhbCkge1xuICAgICAgICBmbG9hdEhvckJveCA9IEdlb21ldHJ5VXRpbC5yb3RhdGVCb3goZmxvYXRCb3gpO1xuICAgICAgfVxuICAgICAgY29uc3QgZGlyID0gc2VsZi5nZXRCb3hEaXIoKTtcbiAgICAgIGlmIChmbG9hdEhvckJveC55MSA8IHNlbGYuYm90dG9tbW9zdEZsb2F0VG9wICogZGlyKSB7XG4gICAgICAgIGNvbnN0IGJveEV4dGVudCA9IGZsb2F0SG9yQm94LnkyIC0gZmxvYXRIb3JCb3gueTE7XG4gICAgICAgIGZsb2F0SG9yQm94LnkxID0gc2VsZi5ib3R0b21tb3N0RmxvYXRUb3AgKiBkaXI7XG4gICAgICAgIGZsb2F0SG9yQm94LnkyID0gZmxvYXRIb3JCb3gueTEgKyBib3hFeHRlbnQ7XG4gICAgICB9XG4gICAgICBHZW9tZXRyeVV0aWwucG9zaXRpb25GbG9hdChib3gsIHNlbGYuYmFuZHMsIGZsb2F0SG9yQm94LCBmbG9hdFNpZGUpO1xuICAgICAgaWYgKHNlbGYudmVydGljYWwpIHtcbiAgICAgICAgZmxvYXRCb3ggPSBHZW9tZXRyeVV0aWwudW5yb3RhdGVCb3goZmxvYXRIb3JCb3gpO1xuICAgICAgfVxuICAgICAgY29uc3QgaW5zZXRzID0gc2VsZi5nZXRDb21wdXRlZEluc2V0cyhlbGVtZW50KTtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIFwid2lkdGhcIixcbiAgICAgICAgYCR7ZmxvYXRCb3gueDIgLSBmbG9hdEJveC54MSAtIGluc2V0cy5sZWZ0IC0gaW5zZXRzLnJpZ2h0fXB4YCxcbiAgICAgICk7XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICBcImhlaWdodFwiLFxuICAgICAgICBgJHtmbG9hdEJveC55MiAtIGZsb2F0Qm94LnkxIC0gaW5zZXRzLnRvcCAtIGluc2V0cy5ib3R0b219cHhgLFxuICAgICAgKTtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpO1xuICAgICAgQXNzZXJ0cy5hc3NlcnQobm9kZUNvbnRleHQuZGlzcGxheSk7XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwiZGlzcGxheVwiLCBub2RlQ29udGV4dC5kaXNwbGF5KTtcbiAgICAgIGxldCBvZmZzZXRzO1xuICAgICAgbGV0IGNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlOiBWdHJlZS5Ob2RlQ29udGV4dCA9IG51bGw7XG4gICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIGlmIChwYXJlbnQuY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGUpIHtcbiAgICAgICAgICBjb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSA9IHBhcmVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSA9IHBhcmVudC5nZXRDb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGUpIHtcbiAgICAgICAgY29uc3QgcHJvYmUgPSBjb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZS52aWV3Tm9kZS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgKTtcbiAgICAgICAgcHJvYmUuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIGlmIChjb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZS52ZXJ0aWNhbCkge1xuICAgICAgICAgIHByb2JlLnN0eWxlLnJpZ2h0ID0gXCIwXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvYmUuc3R5bGUubGVmdCA9IFwiMFwiO1xuICAgICAgICB9XG4gICAgICAgIHByb2JlLnN0eWxlLnRvcCA9IFwiMFwiO1xuICAgICAgICBjb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZS52aWV3Tm9kZS5hcHBlbmRDaGlsZChwcm9iZSk7XG4gICAgICAgIG9mZnNldHMgPSBzZWxmLmNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChwcm9iZSk7XG4gICAgICAgIGNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlLnZpZXdOb2RlLnJlbW92ZUNoaWxkKHByb2JlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9mZnNldHMgPSB7XG4gICAgICAgICAgbGVmdDogc2VsZi5nZXRMZWZ0RWRnZSgpIC0gc2VsZi5wYWRkaW5nTGVmdCxcbiAgICAgICAgICByaWdodDogc2VsZi5nZXRSaWdodEVkZ2UoKSArIHNlbGYucGFkZGluZ1JpZ2h0LFxuICAgICAgICAgIHRvcDogc2VsZi5nZXRUb3BFZGdlKCkgLSBzZWxmLnBhZGRpbmdUb3AsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIGNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlXG4gICAgICAgICAgPyBjb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZS52ZXJ0aWNhbFxuICAgICAgICAgIDogc2VsZi52ZXJ0aWNhbFxuICAgICAgKSB7XG4gICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICBcInJpZ2h0XCIsXG4gICAgICAgICAgYCR7b2Zmc2V0cy5yaWdodCAtIGZsb2F0Qm94LngyfXB4YCxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJsZWZ0XCIsIGAke2Zsb2F0Qm94LngxIC0gb2Zmc2V0cy5sZWZ0fXB4YCk7XG4gICAgICB9XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwidG9wXCIsIGAke2Zsb2F0Qm94LnkxIC0gb2Zmc2V0cy50b3B9cHhgKTtcbiAgICAgIGlmIChub2RlQ29udGV4dC5jbGVhclNwYWNlcikge1xuICAgICAgICBub2RlQ29udGV4dC5jbGVhclNwYWNlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGVDb250ZXh0LmNsZWFyU3BhY2VyKTtcbiAgICAgICAgbm9kZUNvbnRleHQuY2xlYXJTcGFjZXIgPSBudWxsO1xuICAgICAgfVxuICAgICAgY29uc3QgZmxvYXRCb3hFZGdlID0gc2VsZi52ZXJ0aWNhbCA/IGZsb2F0Qm94LngxIDogZmxvYXRCb3gueTI7XG4gICAgICBjb25zdCBmbG9hdEJveFRvcCA9IHNlbGYudmVydGljYWwgPyBmbG9hdEJveC54MiA6IGZsb2F0Qm94LnkxO1xuXG4gICAgICAvLyBUT0RPOiBzdWJ0cmFjdCBhZnRlciBtYXJnaW4gd2hlbiBkZXRlcm1pbmluZyBvdmVyZmxvdy5cbiAgICAgIGlmICghc2VsZi5pc092ZXJmbG93bihmbG9hdEJveEVkZ2UpIHx8IHNlbGYuYnJlYWtQb3NpdGlvbnMubGVuZ3RoID09IDApIHtcbiAgICAgICAgLy8gbm8gb3ZlcmZsb3dcbiAgICAgICAgc2VsZi5raWxsRmxvYXRzKCk7XG4gICAgICAgIGJveCA9IG5ldyBHZW9tZXRyeVV0aWwuUmVjdChcbiAgICAgICAgICBzZWxmLmdldExlZnRFZGdlKCksXG4gICAgICAgICAgc2VsZi5nZXRUb3BFZGdlKCksXG4gICAgICAgICAgc2VsZi5nZXRSaWdodEVkZ2UoKSxcbiAgICAgICAgICBzZWxmLmdldEJvdHRvbUVkZ2UoKSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHNlbGYudmVydGljYWwpIHtcbiAgICAgICAgICBib3ggPSBHZW9tZXRyeVV0aWwucm90YXRlQm94KGJveCk7XG4gICAgICAgIH1cbiAgICAgICAgR2VvbWV0cnlVdGlsLmFkZEZsb2F0VG9CYW5kcyhcbiAgICAgICAgICBib3gsXG4gICAgICAgICAgc2VsZi5iYW5kcyxcbiAgICAgICAgICBmbG9hdEhvckJveCxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIGZsb2F0U2lkZSxcbiAgICAgICAgKTtcbiAgICAgICAgc2VsZi5jcmVhdGVGbG9hdHMoKTtcbiAgICAgICAgaWYgKGZsb2F0U2lkZSA9PSBcImxlZnRcIikge1xuICAgICAgICAgIHNlbGYubGVmdEZsb2F0RWRnZSA9IGZsb2F0Qm94RWRnZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnJpZ2h0RmxvYXRFZGdlID0gZmxvYXRCb3hFZGdlO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuYm90dG9tbW9zdEZsb2F0VG9wID0gZmxvYXRCb3hUb3A7XG4gICAgICAgIHNlbGYudXBkYXRlTWF4UmVhY2hlZEFmdGVyRWRnZShmbG9hdEJveEVkZ2UpO1xuICAgICAgICBmcmFtZS5maW5pc2gobm9kZUNvbnRleHRBZnRlcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0Lm1vZGlmeSgpO1xuICAgICAgICBub2RlQ29udGV4dC5vdmVyZmxvdyA9IHRydWU7XG4gICAgICAgIGZyYW1lLmZpbmlzaChub2RlQ29udGV4dCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgc2V0dXBGbG9hdEFyZWEoXG4gICAgYXJlYTogUGFnZUZsb2F0QXJlYSxcbiAgICBmbG9hdFJlZmVyZW5jZTogUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZSxcbiAgICBmbG9hdFNpZGU6IHN0cmluZyxcbiAgICBhbmNob3JFZGdlOiBudW1iZXIgfCBudWxsLFxuICAgIHN0cmF0ZWd5OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dFN0cmF0ZWd5LFxuICAgIGNvbmRpdGlvbjogUGFnZUZsb2F0cy5QYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb24sXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGZsb2F0TGF5b3V0Q29udGV4dCA9IHRoaXMucGFnZUZsb2F0TGF5b3V0Q29udGV4dDtcbiAgICBjb25zdCBmbG9hdENvbnRhaW5lciA9IGZsb2F0TGF5b3V0Q29udGV4dC5nZXRDb250YWluZXIoZmxvYXRSZWZlcmVuY2UpO1xuICAgIGNvbnN0IGVsZW1lbnQgPSBhcmVhLmVsZW1lbnQ7XG4gICAgZmxvYXRDb250YWluZXIuZWxlbWVudC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgIGFyZWEuaXNGbG9hdCA9IHRydWU7XG4gICAgYXJlYS5vcmlnaW5YID0gZmxvYXRDb250YWluZXIub3JpZ2luWDtcbiAgICBhcmVhLm9yaWdpblkgPSBmbG9hdENvbnRhaW5lci5vcmlnaW5ZO1xuICAgIGFyZWEudmVydGljYWwgPSBmbG9hdENvbnRhaW5lci52ZXJ0aWNhbDtcbiAgICBhcmVhLm1hcmdpbkxlZnQgPSBhcmVhLm1hcmdpblJpZ2h0ID0gYXJlYS5tYXJnaW5Ub3AgPSBhcmVhLm1hcmdpbkJvdHRvbSA9IDA7XG4gICAgYXJlYS5ib3JkZXJMZWZ0ID0gYXJlYS5ib3JkZXJSaWdodCA9IGFyZWEuYm9yZGVyVG9wID0gYXJlYS5ib3JkZXJCb3R0b20gPSAwO1xuICAgIGFyZWEucGFkZGluZ0xlZnQgPSBhcmVhLnBhZGRpbmdSaWdodCA9IGFyZWEucGFkZGluZ1RvcCA9IGFyZWEucGFkZGluZ0JvdHRvbSA9IDA7XG4gICAgYXJlYS5leGNsdXNpb25zID0gKGZsb2F0Q29udGFpbmVyLmV4Y2x1c2lvbnMgfHwgW10pLmNvbmNhdCgpO1xuICAgIGFyZWEuZm9yY2VOb25maXR0aW5nID0gIWZsb2F0TGF5b3V0Q29udGV4dC5oYXNGbG9hdEZyYWdtZW50cygpO1xuICAgIGFyZWEuaW5uZXJTaGFwZSA9IG51bGw7XG4gICAgY29uc3QgY29udGFpbmluZ0Jsb2NrUmVjdCA9IGZsb2F0Q29udGFpbmVyLmdldFBhZGRpbmdSZWN0KCk7XG4gICAgYXJlYS5zZXRIb3Jpem9udGFsUG9zaXRpb24oXG4gICAgICBjb250YWluaW5nQmxvY2tSZWN0LngxIC0gZmxvYXRDb250YWluZXIub3JpZ2luWCxcbiAgICAgIGNvbnRhaW5pbmdCbG9ja1JlY3QueDIgLSBjb250YWluaW5nQmxvY2tSZWN0LngxLFxuICAgICk7XG4gICAgYXJlYS5zZXRWZXJ0aWNhbFBvc2l0aW9uKFxuICAgICAgY29udGFpbmluZ0Jsb2NrUmVjdC55MSAtIGZsb2F0Q29udGFpbmVyLm9yaWdpblksXG4gICAgICBjb250YWluaW5nQmxvY2tSZWN0LnkyIC0gY29udGFpbmluZ0Jsb2NrUmVjdC55MSxcbiAgICApO1xuICAgIHN0cmF0ZWd5LmFkanVzdFBhZ2VGbG9hdEFyZWEoYXJlYSwgZmxvYXRDb250YWluZXIsIHRoaXMpO1xuXG4gICAgLy8gQ2FsY3VsYXRlIGJhbmRzIGZyb20gdGhlIGV4Y2x1c2lvbnMgYmVmb3JlIHNldHRpbmcgZmxvYXQgYXJlYSBkaW1lbnNpb25zXG4gICAgYXJlYS5pbml0KCk7XG4gICAgY29uc3QgZml0V2l0aGluQ29udGFpbmVyID0gISFmbG9hdExheW91dENvbnRleHQuc2V0RmxvYXRBcmVhRGltZW5zaW9ucyhcbiAgICAgIGFyZWEsXG4gICAgICBmbG9hdFJlZmVyZW5jZSxcbiAgICAgIGZsb2F0U2lkZSxcbiAgICAgIGFuY2hvckVkZ2UsXG4gICAgICB0cnVlLFxuICAgICAgIWZsb2F0TGF5b3V0Q29udGV4dC5oYXNGbG9hdEZyYWdtZW50cygpLFxuICAgICAgY29uZGl0aW9uLFxuICAgICk7XG4gICAgaWYgKGZpdFdpdGhpbkNvbnRhaW5lcikge1xuICAgICAgLy8gTmV3IGRpbWVuc2lvbnMgaGF2ZSBiZWVuIHNldCwgcmVtb3ZlIGV4Y2x1c2lvbiBmbG9hdHMgYW5kIHJlLWluaXRcbiAgICAgIGFyZWEua2lsbEZsb2F0cygpO1xuICAgICAgYXJlYS5pbml0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZsb2F0Q29udGFpbmVyLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIGZpdFdpdGhpbkNvbnRhaW5lcjtcbiAgfVxuXG4gIGNyZWF0ZVBhZ2VGbG9hdEFyZWEoXG4gICAgZmxvYXQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0IHwgbnVsbCxcbiAgICBmbG9hdFNpZGU6IHN0cmluZyxcbiAgICBhbmNob3JFZGdlOiBudW1iZXIgfCBudWxsLFxuICAgIHN0cmF0ZWd5OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dFN0cmF0ZWd5LFxuICAgIGNvbmRpdGlvbjogUGFnZUZsb2F0cy5QYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb24sXG4gICk6IFBhZ2VGbG9hdEFyZWEgfCBudWxsIHtcbiAgICBjb25zdCBmbG9hdEFyZWFFbGVtZW50ID0gdGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGZsb2F0QXJlYUVsZW1lbnQsIFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiKTtcbiAgICBjb25zdCBwYXJlbnRQYWdlRmxvYXRMYXlvdXRDb250ZXh0ID0gdGhpcy5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmdldFBhZ2VGbG9hdExheW91dENvbnRleHQoXG4gICAgICBmbG9hdC5mbG9hdFJlZmVyZW5jZSxcbiAgICApO1xuXG4gICAgLy8gVE9ETzogZXN0YWJsaXNoIGhvdyB0byBzcGVjaWZ5IGFuIGFwcHJvcHJpYXRlIGdlbmVyYXRpbmcgZWxlbWVudCBmb3IgdGhlXG4gICAgLy8gbmV3IHBhZ2UgZmxvYXQgbGF5b3V0IGNvbnRleHRcbiAgICBjb25zdCBwYWdlRmxvYXRMYXlvdXRDb250ZXh0ID0gbmV3IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dChcbiAgICAgIG51bGwsXG4gICAgICBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLkNPTFVNTixcbiAgICAgIG51bGwsXG4gICAgICB0aGlzLnBhZ2VGbG9hdExheW91dENvbnRleHQuZmxvd05hbWUsXG4gICAgICBmbG9hdC5ub2RlUG9zaXRpb24sXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICApO1xuICAgIGNvbnN0IHBhcmVudENvbnRhaW5lciA9IHBhcmVudFBhZ2VGbG9hdExheW91dENvbnRleHQuZ2V0Q29udGFpbmVyKCk7XG4gICAgY29uc3QgZmxvYXRBcmVhID0gbmV3IFBhZ2VGbG9hdEFyZWEoXG4gICAgICBmbG9hdFNpZGUsXG4gICAgICBmbG9hdEFyZWFFbGVtZW50LFxuICAgICAgdGhpcy5sYXlvdXRDb250ZXh0LmNsb25lKCksXG4gICAgICB0aGlzLmNsaWVudExheW91dCxcbiAgICAgIHRoaXMubGF5b3V0Q29uc3RyYWludCxcbiAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICBwYXJlbnRDb250YWluZXIsXG4gICAgKTtcbiAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LnNldENvbnRhaW5lcihmbG9hdEFyZWEpO1xuICAgIGlmIChcbiAgICAgIHRoaXMuc2V0dXBGbG9hdEFyZWEoXG4gICAgICAgIGZsb2F0QXJlYSxcbiAgICAgICAgZmxvYXQuZmxvYXRSZWZlcmVuY2UsXG4gICAgICAgIGZsb2F0U2lkZSxcbiAgICAgICAgYW5jaG9yRWRnZSxcbiAgICAgICAgc3RyYXRlZ3ksXG4gICAgICAgIGNvbmRpdGlvbixcbiAgICAgIClcbiAgICApIHtcbiAgICAgIHJldHVybiBmbG9hdEFyZWE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGxheW91dFNpbmdsZVBhZ2VGbG9hdEZyYWdtZW50KFxuICAgIGNvbnRpbnVhdGlvbnM6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0Q29udGludWF0aW9uW10sXG4gICAgZmxvYXRTaWRlOiBzdHJpbmcsXG4gICAgY2xlYXJTaWRlOiBzdHJpbmcgfCBudWxsLFxuICAgIGFsbG93RnJhZ21lbnRlZDogYm9vbGVhbixcbiAgICBzdHJhdGVneTogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneSxcbiAgICBhbmNob3JFZGdlOiBudW1iZXIgfCBudWxsLFxuICAgIHBhZ2VGbG9hdEZyYWdtZW50PzogUGFnZUZsb2F0cy5QYWdlRmxvYXRGcmFnbWVudCB8IG51bGwsXG4gICk6IFRhc2suUmVzdWx0PFNpbmdsZVBhZ2VGbG9hdExheW91dFJlc3VsdD4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnBhZ2VGbG9hdExheW91dENvbnRleHQ7XG4gICAgY29uc3Qgb3JpZ2luYWxDb250aW51YXRpb25zID0gcGFnZUZsb2F0RnJhZ21lbnRcbiAgICAgID8gcGFnZUZsb2F0RnJhZ21lbnQuY29udGludWF0aW9uc1xuICAgICAgOiBbXTtcbiAgICBjb250aW51YXRpb25zID0gb3JpZ2luYWxDb250aW51YXRpb25zLmNvbmNhdChjb250aW51YXRpb25zKTtcbiAgICBjb25zdCBmaXJzdEZsb2F0ID0gY29udGludWF0aW9uc1swXS5mbG9hdDtcbiAgICBjb25zdCBjb25kaXRpb24gPSBjb250ZXh0LmdldFBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbihcbiAgICAgIGZpcnN0RmxvYXQsXG4gICAgICBmbG9hdFNpZGUsXG4gICAgICBjbGVhclNpZGUsXG4gICAgKTtcbiAgICBjb25zdCBmbG9hdEFyZWEgPSB0aGlzLmNyZWF0ZVBhZ2VGbG9hdEFyZWEoXG4gICAgICBmaXJzdEZsb2F0LFxuICAgICAgZmxvYXRTaWRlLFxuICAgICAgYW5jaG9yRWRnZSxcbiAgICAgIHN0cmF0ZWd5LFxuICAgICAgY29uZGl0aW9uLFxuICAgICk7XG4gICAgY29uc3QgcmVzdWx0OiBTaW5nbGVQYWdlRmxvYXRMYXlvdXRSZXN1bHQgPSB7XG4gICAgICBmbG9hdEFyZWEsXG4gICAgICBwYWdlRmxvYXRGcmFnbWVudDogbnVsbCxcbiAgICAgIG5ld1Bvc2l0aW9uOiBudWxsLFxuICAgIH07XG4gICAgaWYgKCFmbG9hdEFyZWEpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChyZXN1bHQpO1xuICAgIH1cbiAgICBjb25zdCBmcmFtZSA9IFRhc2submV3RnJhbWU8U2luZ2xlUGFnZUZsb2F0TGF5b3V0UmVzdWx0PihcbiAgICAgIFwibGF5b3V0U2luZ2xlUGFnZUZsb2F0RnJhZ21lbnRcIixcbiAgICApO1xuICAgIGxldCBmYWlsZWQgPSBmYWxzZTtcbiAgICBsZXQgaSA9IDA7XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgaWYgKGkgPj0gY29udGludWF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGMgPSBjb250aW51YXRpb25zW2ldO1xuICAgICAgICBjb25zdCBmbG9hdENodW5rUG9zaXRpb24gPSBuZXcgVnRyZWVJbXBsLkNodW5rUG9zaXRpb24oYy5ub2RlUG9zaXRpb24pO1xuICAgICAgICBmbG9hdEFyZWEubGF5b3V0KGZsb2F0Q2h1bmtQb3NpdGlvbiwgdHJ1ZSkudGhlbigobmV3UG9zaXRpb24pID0+IHtcbiAgICAgICAgICByZXN1bHQubmV3UG9zaXRpb24gPSBuZXdQb3NpdGlvbjtcbiAgICAgICAgICBpZiAoIW5ld1Bvc2l0aW9uIHx8IGFsbG93RnJhZ21lbnRlZCkge1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmYWlsZWQgPSB0cnVlO1xuICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAoIWZhaWxlZCkge1xuICAgICAgICAgIEFzc2VydHMuYXNzZXJ0KGZsb2F0QXJlYSk7XG4gICAgICAgICAgY29uc3QgbG9naWNhbEZsb2F0U2lkZSA9IGNvbnRleHQuc2V0RmxvYXRBcmVhRGltZW5zaW9ucyhcbiAgICAgICAgICAgIGZsb2F0QXJlYSxcbiAgICAgICAgICAgIGZpcnN0RmxvYXQuZmxvYXRSZWZlcmVuY2UsXG4gICAgICAgICAgICBmbG9hdFNpZGUsXG4gICAgICAgICAgICBhbmNob3JFZGdlLFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBhbGxvd0ZyYWdtZW50ZWQsXG4gICAgICAgICAgICBjb25kaXRpb24sXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoIWxvZ2ljYWxGbG9hdFNpZGUpIHtcbiAgICAgICAgICAgIGZhaWxlZCA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0ZyYWdtZW50ID0gc3RyYXRlZ3kuY3JlYXRlUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgICAgICAgICAgIGNvbnRpbnVhdGlvbnMsXG4gICAgICAgICAgICAgIGxvZ2ljYWxGbG9hdFNpZGUsXG4gICAgICAgICAgICAgIGZsb2F0QXJlYSxcbiAgICAgICAgICAgICAgISFyZXN1bHQubmV3UG9zaXRpb24sXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29udGV4dC5hZGRQYWdlRmxvYXRGcmFnbWVudChuZXdGcmFnbWVudCwgdHJ1ZSk7XG4gICAgICAgICAgICByZXN1bHQucGFnZUZsb2F0RnJhZ21lbnQgPSBuZXdGcmFnbWVudDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWUuZmluaXNoKHJlc3VsdCk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBsYXlvdXRQYWdlRmxvYXRJbm5lcihcbiAgICBjb250aW51YXRpb246IFBhZ2VGbG9hdHMuUGFnZUZsb2F0Q29udGludWF0aW9uLFxuICAgIHN0cmF0ZWd5OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dFN0cmF0ZWd5LFxuICAgIGFuY2hvckVkZ2U6IG51bWJlciB8IG51bGwsXG4gICAgcGFnZUZsb2F0RnJhZ21lbnQ/OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdEZyYWdtZW50LFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMucGFnZUZsb2F0TGF5b3V0Q29udGV4dDtcbiAgICBjb25zdCBmbG9hdCA9IGNvbnRpbnVhdGlvbi5mbG9hdDtcbiAgICBjb250ZXh0LnN0YXNoRW5kRmxvYXRGcmFnbWVudHMoZmxvYXQpO1xuXG4gICAgZnVuY3Rpb24gY2FuY2VsTGF5b3V0KGZsb2F0QXJlYSwgcGFnZUZsb2F0RnJhZ21lbnQpIHtcbiAgICAgIGlmIChwYWdlRmxvYXRGcmFnbWVudCkge1xuICAgICAgICBjb250ZXh0LnJlbW92ZVBhZ2VGbG9hdEZyYWdtZW50KHBhZ2VGbG9hdEZyYWdtZW50LCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAoZmxvYXRBcmVhKSB7XG4gICAgICAgIGZsb2F0QXJlYS5lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZmxvYXRBcmVhLmVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgY29udGV4dC5yZXN0b3JlU3Rhc2hlZEZyYWdtZW50cyhmbG9hdC5mbG9hdFJlZmVyZW5jZSk7XG4gICAgICBjb250ZXh0LmRlZmVyUGFnZUZsb2F0KGNvbnRpbnVhdGlvbik7XG4gICAgfVxuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcImxheW91dFBhZ2VGbG9hdElubmVyXCIpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHRoaXMubGF5b3V0U2luZ2xlUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgICBbY29udGludWF0aW9uXSxcbiAgICAgIGZsb2F0LmZsb2F0U2lkZSxcbiAgICAgIGZsb2F0LmNsZWFyU2lkZSxcbiAgICAgICFjb250ZXh0Lmhhc0Zsb2F0RnJhZ21lbnRzKCksXG4gICAgICBzdHJhdGVneSxcbiAgICAgIGFuY2hvckVkZ2UsXG4gICAgICBwYWdlRmxvYXRGcmFnbWVudCxcbiAgICApLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgY29uc3QgZmxvYXRBcmVhID0gcmVzdWx0LmZsb2F0QXJlYTtcbiAgICAgIGNvbnN0IG5ld0ZyYWdtZW50ID0gcmVzdWx0LnBhZ2VGbG9hdEZyYWdtZW50O1xuICAgICAgY29uc3QgbmV3UG9zaXRpb24gPSByZXN1bHQubmV3UG9zaXRpb247XG4gICAgICBpZiAobmV3RnJhZ21lbnQpIHtcbiAgICAgICAgc2VsZlxuICAgICAgICAgIC5sYXlvdXRTdGFzaGVkUGFnZUZsb2F0cyhmbG9hdC5mbG9hdFJlZmVyZW5jZSwgW3BhZ2VGbG9hdEZyYWdtZW50XSlcbiAgICAgICAgICAudGhlbigoc3VjY2VzcykgPT4ge1xuICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgLy8gQWRkIGFnYWluIHRvIGludmFsaWRhdGUgdGhlIGNvbnRleHRcbiAgICAgICAgICAgICAgQXNzZXJ0cy5hc3NlcnQobmV3RnJhZ21lbnQpO1xuICAgICAgICAgICAgICBjb250ZXh0LmFkZFBhZ2VGbG9hdEZyYWdtZW50KG5ld0ZyYWdtZW50KTtcbiAgICAgICAgICAgICAgY29udGV4dC5kaXNjYXJkU3Rhc2hlZEZyYWdtZW50cyhmbG9hdC5mbG9hdFJlZmVyZW5jZSk7XG4gICAgICAgICAgICAgIGlmIChuZXdQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRpbnVhdGlvbiA9IG5ldyBQYWdlRmxvYXRzLlBhZ2VGbG9hdENvbnRpbnVhdGlvbihcbiAgICAgICAgICAgICAgICAgIGZsb2F0LFxuICAgICAgICAgICAgICAgICAgbmV3UG9zaXRpb24ucHJpbWFyeSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZGVmZXJQYWdlRmxvYXQoY29udGludWF0aW9uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjYW5jZWxMYXlvdXQoZmxvYXRBcmVhLCBuZXdGcmFnbWVudCk7XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYW5jZWxMYXlvdXQoZmxvYXRBcmVhLCBuZXdGcmFnbWVudCk7XG4gICAgICAgIGZyYW1lLmZpbmlzaChmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIFJlcHJlc2VudHMgaWYgdGhlIGxheW91dCB3YXMgc3VjY2VlZGVkIG9yIG5vdFxuICAgKi9cbiAgcHJpdmF0ZSBsYXlvdXRTdGFzaGVkUGFnZUZsb2F0cyhcbiAgICBmbG9hdFJlZmVyZW5jZTogUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZSxcbiAgICBleGNsdWRlZDogUGFnZUZsb2F0cy5QYWdlRmxvYXRGcmFnbWVudFtdLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMucGFnZUZsb2F0TGF5b3V0Q29udGV4dDtcbiAgICBjb25zdCBzdGFzaGVkRmxvYXRGcmFnbWVudHMgPSBjb250ZXh0LmdldFN0YXNoZWRGbG9hdEZyYWdtZW50cyhcbiAgICAgIGZsb2F0UmVmZXJlbmNlLFxuICAgICk7XG4gICAgY29uc3QgbmV3RmxvYXRBcmVhcyA9IFtdO1xuICAgIGNvbnN0IG5ld0ZyYWdtZW50cyA9IFtdO1xuICAgIGxldCBmYWlsZWQgPSBmYWxzZTtcbiAgICBjb25zdCBmcmFtZSA9IFRhc2submV3RnJhbWU8Ym9vbGVhbj4oXCJsYXlvdXRTdGFzaGVkUGFnZUZsb2F0c1wiKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBsZXQgaSA9IDA7XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgaWYgKGkgPj0gc3Rhc2hlZEZsb2F0RnJhZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3Rhc2hlZEZyYWdtZW50ID0gc3Rhc2hlZEZsb2F0RnJhZ21lbnRzW2ldO1xuICAgICAgICBpZiAoZXhjbHVkZWQuaW5jbHVkZXMoc3Rhc2hlZEZyYWdtZW50KSkge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0cmF0ZWd5ID0gbmV3IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3lSZXNvbHZlcigpLmZpbmRCeUZsb2F0KFxuICAgICAgICAgIHN0YXNoZWRGcmFnbWVudC5jb250aW51YXRpb25zWzBdLmZsb2F0LFxuICAgICAgICApO1xuXG4gICAgICAgIC8vIFZhbHVlIG9mICdjbGVhcicgaXMgaXJyZWxldmFudCB3aGVuIGxheWluZyBvdXQgc3Rhc2hlZCBmbG9hdHNcbiAgICAgICAgLy8gc2luY2Ugd2hldGhlciB0aGUgJ2NsZWFyJyB2YWx1ZSBhbGxvd3MgcGxhY2luZyB0aGUgZmxvYXRcbiAgICAgICAgLy8gaGVyZSBpcyBhbHJlYWR5IHJlc29sdmVkLlxuICAgICAgICBzZWxmXG4gICAgICAgICAgLmxheW91dFNpbmdsZVBhZ2VGbG9hdEZyYWdtZW50KFxuICAgICAgICAgICAgc3Rhc2hlZEZyYWdtZW50LmNvbnRpbnVhdGlvbnMsXG4gICAgICAgICAgICBzdGFzaGVkRnJhZ21lbnQuZmxvYXRTaWRlLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgc3RyYXRlZ3ksXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgIClcbiAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmbG9hdEFyZWEgPSByZXN1bHQuZmxvYXRBcmVhO1xuICAgICAgICAgICAgaWYgKGZsb2F0QXJlYSkge1xuICAgICAgICAgICAgICBuZXdGbG9hdEFyZWFzLnB1c2goZmxvYXRBcmVhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZyYWdtZW50ID0gcmVzdWx0LnBhZ2VGbG9hdEZyYWdtZW50O1xuICAgICAgICAgICAgaWYgKGZyYWdtZW50KSB7XG4gICAgICAgICAgICAgIG5ld0ZyYWdtZW50cy5wdXNoKGZyYWdtZW50KTtcbiAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBmYWlsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAoZmFpbGVkKSB7XG4gICAgICAgICAgbmV3RnJhZ21lbnRzLmZvckVhY2goKGZyYWdtZW50KSA9PiB7XG4gICAgICAgICAgICBjb250ZXh0LnJlbW92ZVBhZ2VGbG9hdEZyYWdtZW50KGZyYWdtZW50LCB0cnVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBuZXdGbG9hdEFyZWFzLmZvckVhY2goKGFyZWEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW0gPSBhcmVhLmVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoZWxlbSAmJiBlbGVtLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgZWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXNoZWRGbG9hdEZyYWdtZW50cy5mb3JFYWNoKChmcmFnbWVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbSA9IGZyYWdtZW50LmFyZWEuZWxlbWVudDtcbiAgICAgICAgICAgIGlmIChlbGVtICYmIGVsZW0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICBlbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWUuZmluaXNoKCFmYWlsZWQpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgc2V0RmxvYXRBbmNob3JWaWV3Tm9kZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBWdHJlZS5Ob2RlQ29udGV4dCB7XG4gICAgY29uc3QgcGFyZW50ID0gbm9kZUNvbnRleHQudmlld05vZGUucGFyZW50Tm9kZTtcbiAgICBjb25zdCBhbmNob3IgPSBwYXJlbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBhbmNob3Iuc2V0QXR0cmlidXRlKFZ0cmVlSW1wbC5TUEVDSUFMX0FUVFIsIFwiMVwiKTtcbiAgICBpZiAobm9kZUNvbnRleHQuZmxvYXRTaWRlID09PSBcImZvb3Rub3RlXCIpIHtcbiAgICAgIC8vIERlZmF1bHRzIGZvciBmb290bm90ZS1jYWxsLCBjYW4gYmUgb3ZlcnJpZGVuIGJ5IHRoZSBzdHlsZXNoZWV0LlxuICAgICAgdGhpcy5sYXlvdXRDb250ZXh0LmFwcGx5UHNldWRvZWxlbWVudFN0eWxlKFxuICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgXCJmb290bm90ZS1jYWxsXCIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICk7XG4gICAgfVxuICAgIHBhcmVudC5hcHBlbmRDaGlsZChhbmNob3IpO1xuICAgIHBhcmVudC5yZW1vdmVDaGlsZChub2RlQ29udGV4dC52aWV3Tm9kZSk7XG4gICAgY29uc3Qgbm9kZUNvbnRleHRBZnRlciA9IG5vZGVDb250ZXh0Lm1vZGlmeSgpO1xuICAgIG5vZGVDb250ZXh0QWZ0ZXIuYWZ0ZXIgPSB0cnVlO1xuICAgIG5vZGVDb250ZXh0QWZ0ZXIudmlld05vZGUgPSBhbmNob3I7XG4gICAgcmV0dXJuIG5vZGVDb250ZXh0QWZ0ZXI7XG4gIH1cblxuICByZXNvbHZlRmxvYXRSZWZlcmVuY2VGcm9tQ29sdW1uU3BhbihcbiAgICBmbG9hdFJlZmVyZW5jZTogUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZSxcbiAgICBjb2x1bW5TcGFuOiBDc3MuVmFsLFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKTogVGFzay5SZXN1bHQ8UGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZT4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwicmVzb2x2ZUZsb2F0UmVmZXJlbmNlRnJvbUNvbHVtblNwYW5cIixcbiAgICApIGFzIFRhc2suRnJhbWU8UGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZT47XG4gICAgY29uc3QgY29sdW1uQ29udGV4dCA9IHRoaXMucGFnZUZsb2F0TGF5b3V0Q29udGV4dDtcbiAgICBjb25zdCByZWdpb25Db250ZXh0ID0gY29sdW1uQ29udGV4dC5nZXRQYWdlRmxvYXRMYXlvdXRDb250ZXh0KFxuICAgICAgUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZS5SRUdJT04sXG4gICAgKTtcbiAgICBjb25zdCBpc1JlZ2lvbldpZGVyID1cbiAgICAgIGNvbHVtbkNvbnRleHQuZ2V0Q29udGFpbmVyKCkud2lkdGggPCByZWdpb25Db250ZXh0LmdldENvbnRhaW5lcigpLndpZHRoO1xuICAgIGlmIChpc1JlZ2lvbldpZGVyICYmIGZsb2F0UmVmZXJlbmNlID09PSBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLkNPTFVNTikge1xuICAgICAgaWYgKGNvbHVtblNwYW4gPT09IENzcy5pZGVudC5hdXRvKSB7XG4gICAgICAgIHRoaXMuYnVpbGREZWVwRWxlbWVudFZpZXcobm9kZUNvbnRleHQuY29weSgpKS50aGVuKChwb3NpdGlvbikgPT4ge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBwb3NpdGlvbi52aWV3Tm9kZSBhcyBFbGVtZW50O1xuICAgICAgICAgIGxldCBpbmxpbmVTaXplID0gU2l6aW5nLmdldFNpemUoc2VsZi5jbGllbnRMYXlvdXQsIGVsZW1lbnQsIFtcbiAgICAgICAgICAgIFNpemluZy5TaXplLk1JTl9DT05URU5UX0lOTElORV9TSVpFLFxuICAgICAgICAgIF0pW1NpemluZy5TaXplLk1JTl9DT05URU5UX0lOTElORV9TSVpFXTtcbiAgICAgICAgICBjb25zdCBtYXJnaW4gPSBzZWxmLmdldENvbXB1dGVkTWFyZ2luKGVsZW1lbnQpO1xuICAgICAgICAgIGlmIChzZWxmLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICBpbmxpbmVTaXplICs9IG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbmxpbmVTaXplICs9IG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW5saW5lU2l6ZSA+IHNlbGYud2lkdGgpIHtcbiAgICAgICAgICAgIGZyYW1lLmZpbmlzaChQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLlJFR0lPTik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZyYW1lLmZpbmlzaChmbG9hdFJlZmVyZW5jZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoY29sdW1uU3BhbiA9PT0gQ3NzLmlkZW50LmFsbCkge1xuICAgICAgICBmcmFtZS5maW5pc2goUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZS5SRUdJT04pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnJhbWUuZmluaXNoKGZsb2F0UmVmZXJlbmNlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZnJhbWUuZmluaXNoKGZsb2F0UmVmZXJlbmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgbGF5b3V0UGFnZUZsb2F0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5wYWdlRmxvYXRMYXlvdXRDb250ZXh0O1xuICAgIGNvbnN0IHN0cmF0ZWd5ID0gbmV3IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3lSZXNvbHZlcigpLmZpbmRCeU5vZGVDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgKTtcbiAgICBsZXQgY29udDogVGFzay5SZXN1bHQ8UGFnZUZsb2F0cy5QYWdlRmxvYXQ+O1xuICAgIGNvbnN0IGZsb2F0ID0gY29udGV4dC5maW5kUGFnZUZsb2F0QnlOb2RlUG9zaXRpb24oXG4gICAgICBub2RlQ29udGV4dC50b05vZGVQb3NpdGlvbigpLFxuICAgICk7XG4gICAgaWYgKCFmbG9hdCkge1xuICAgICAgY29udCA9IHN0cmF0ZWd5LmNyZWF0ZVBhZ2VGbG9hdChub2RlQ29udGV4dCwgY29udGV4dCwgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnQgPSBUYXNrLm5ld1Jlc3VsdChmbG9hdCk7XG4gICAgfVxuICAgIHJldHVybiBjb250LnRoZW5Bc3luYygoZmxvYXQpID0+IHtcbiAgICAgIGNvbnN0IG5vZGVQb3NpdGlvbiA9IFZ0cmVlSW1wbC5uZXdOb2RlUG9zaXRpb25Gcm9tTm9kZUNvbnRleHQoXG4gICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICAwLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IG5vZGVDb250ZXh0QWZ0ZXIgPSBzZWxmLnNldEZsb2F0QW5jaG9yVmlld05vZGUobm9kZUNvbnRleHQpO1xuICAgICAgY29uc3QgcGFnZUZsb2F0RnJhZ21lbnQgPSBzdHJhdGVneS5maW5kUGFnZUZsb2F0RnJhZ21lbnQoZmxvYXQsIGNvbnRleHQpO1xuICAgICAgY29uc3QgY29udGludWF0aW9uID0gbmV3IFBhZ2VGbG9hdHMuUGFnZUZsb2F0Q29udGludWF0aW9uKFxuICAgICAgICBmbG9hdCxcbiAgICAgICAgbm9kZVBvc2l0aW9uLFxuICAgICAgKTtcbiAgICAgIGlmIChwYWdlRmxvYXRGcmFnbWVudCAmJiBwYWdlRmxvYXRGcmFnbWVudC5oYXNGbG9hdChmbG9hdCkpIHtcbiAgICAgICAgY29udGV4dC5yZWdpc3RlclBhZ2VGbG9hdEFuY2hvcihmbG9hdCwgbm9kZUNvbnRleHRBZnRlci52aWV3Tm9kZSk7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChub2RlQ29udGV4dEFmdGVyIGFzIFZ0cmVlLk5vZGVDb250ZXh0KTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIGNvbnRleHQuaXNGb3JiaWRkZW4oZmxvYXQpIHx8XG4gICAgICAgIGNvbnRleHQuaGFzUHJlY2VkaW5nRmxvYXRzRGVmZXJyZWRUb05leHQoZmxvYXQpXG4gICAgICApIHtcbiAgICAgICAgY29udGV4dC5kZWZlclBhZ2VGbG9hdChjb250aW51YXRpb24pO1xuICAgICAgICBjb250ZXh0LnJlZ2lzdGVyUGFnZUZsb2F0QW5jaG9yKGZsb2F0LCBub2RlQ29udGV4dEFmdGVyLnZpZXdOb2RlKTtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG5vZGVDb250ZXh0QWZ0ZXIgYXMgVnRyZWUuTm9kZUNvbnRleHQpO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLm5vZGVDb250ZXh0T3ZlcmZsb3dpbmdEdWVUb1JlcGV0aXRpdmVFbGVtZW50cykge1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBlZGdlID0gTGF5b3V0SGVscGVyLmNhbGN1bGF0ZUVkZ2UoXG4gICAgICAgICAgbm9kZUNvbnRleHRBZnRlcixcbiAgICAgICAgICBzZWxmLmNsaWVudExheW91dCxcbiAgICAgICAgICAwLFxuICAgICAgICAgIHNlbGYudmVydGljYWwsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzZWxmLmlzT3ZlcmZsb3duKGVkZ2UpKSB7XG4gICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG5vZGVDb250ZXh0QWZ0ZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBzZWxmXG4gICAgICAgICAgICAubGF5b3V0UGFnZUZsb2F0SW5uZXIoXG4gICAgICAgICAgICAgIGNvbnRpbnVhdGlvbixcbiAgICAgICAgICAgICAgc3RyYXRlZ3ksXG4gICAgICAgICAgICAgIGVkZ2UsXG4gICAgICAgICAgICAgIHBhZ2VGbG9hdEZyYWdtZW50LFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnRoZW5Bc3luYygoc3VjY2VzcykgPT4ge1xuICAgICAgICAgICAgICBBc3NlcnRzLmFzc2VydChmbG9hdCk7XG4gICAgICAgICAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIGNvbnRleHQucmVnaXN0ZXJQYWdlRmxvYXRBbmNob3IoXG4gICAgICAgICAgICAgICAgICBmbG9hdCxcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0QWZ0ZXIudmlld05vZGUsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobm9kZUNvbnRleHRBZnRlcik7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlSnVzdGlmaWNhdGlvbkFkanVzdG1lbnRFbGVtZW50KFxuICAgIGluc2VydGlvblBvaW50OiBOb2RlLFxuICAgIGRvYzogRG9jdW1lbnQsXG4gICAgcGFyZW50Tm9kZTogTm9kZSxcbiAgICB2ZXJ0aWNhbDogYm9vbGVhbixcbiAgKTogSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0IHNwYW4gPSBkb2MuY3JlYXRlRWxlbWVudChcInNwYW5cIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgc3Bhbi5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICBzcGFuLnN0eWxlLnZlcnRpY2FsQWxpZ24gPSBcInRvcFwiO1xuICAgIHNwYW4uc2V0QXR0cmlidXRlKFZ0cmVlSW1wbC5TUEVDSUFMX0FUVFIsIFwiMVwiKTtcbiAgICBjb25zdCBpbm5lciA9IGRvYy5jcmVhdGVFbGVtZW50KFwic3BhblwiKSBhcyBIVE1MRWxlbWVudDtcbiAgICBpbm5lci5zdHlsZS5mb250U2l6ZSA9IFwiMFwiO1xuICAgIGlubmVyLnN0eWxlLmxpbmVIZWlnaHQgPSBcIjBcIjtcbiAgICBpbm5lci50ZXh0Q29udGVudCA9IFwiICNcIjtcbiAgICBzcGFuLmFwcGVuZENoaWxkKGlubmVyKTtcblxuICAgIC8vIE1lYXN1cmUgaW5saW5lLXN0YXJ0IGFuZCBpbmxpbmUtZW5kIGVkZ2UgcG9zaXRpb25zIG9mIHRoZSBsaW5lIGJveCxcbiAgICAvLyB0YWtpbmcgKGV4Y2x1c2lvbikgZmxvYXRzIGludG8gY29uc2lkZXJhdGlvblxuICAgIHNwYW4uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICBzcGFuLnN0eWxlLnRleHRJbmRlbnQgPSBcIjBcIjtcbiAgICBzcGFuLnN0eWxlLnRleHRBbGlnbiA9IFwibGVmdFwiO1xuICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHNwYW4sIGluc2VydGlvblBvaW50KTtcbiAgICBjb25zdCBsZWZ0UG9zID0gdGhpcy5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3QoaW5uZXIpO1xuICAgIHNwYW4uc3R5bGUudGV4dEFsaWduID0gXCJyaWdodFwiO1xuICAgIGNvbnN0IHJpZ2h0UG9zID0gdGhpcy5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3QoaW5uZXIpO1xuICAgIHNwYW4uc3R5bGUudGV4dEFsaWduID0gXCJcIjtcbiAgICBpZiAoQmFzZS5jaGVja0lubGluZUJsb2NrSnVzdGlmaWNhdGlvbkJ1Zyhkb2N1bWVudC5ib2R5KSkge1xuICAgICAgLy8gRm9yIENocm9tZVxuICAgICAgc3Bhbi5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmVcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRm9yIEZpcmVmb3gsIEVkZ2UgYW5kIElFXG4gICAgICBzcGFuLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICAgIH1cbiAgICBjb25zdCBwYWRkaW5nID0gdmVydGljYWxcbiAgICAgID8gcmlnaHRQb3MudG9wIC0gbGVmdFBvcy50b3BcbiAgICAgIDogcmlnaHRQb3MubGVmdCAtIGxlZnRQb3MubGVmdDtcbiAgICBjb25zdCBwYWRkaW5nU3RyID0gcGFkZGluZyA+PSAxID8gYCR7cGFkZGluZyAtIDF9cHhgIDogXCIxMDAlXCI7XG4gICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICBzcGFuLnN0eWxlLnBhZGRpbmdUb3AgPSBwYWRkaW5nU3RyO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcGFuLnN0eWxlLnBhZGRpbmdMZWZ0ID0gcGFkZGluZ1N0cjtcbiAgICB9XG4gICAgcmV0dXJuIHNwYW47XG4gIH1cblxuICBhZGRBbmRBZGp1c3RKdXN0aWZpY2F0aW9uRWxlbWVudChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgaW5zZXJ0QWZ0ZXI6IGJvb2xlYW4sXG4gICAgbm9kZTogTm9kZSxcbiAgICBpbnNlcnRpb25Qb2ludDogTm9kZSxcbiAgICBkb2M6IERvY3VtZW50LFxuICAgIHBhcmVudE5vZGU6IE5vZGUsXG4gICk6IEhUTUxFbGVtZW50IHtcbiAgICBmaXhKdXN0aWZpY2F0aW9uT25IeXBoZW4obm9kZUNvbnRleHQsIGluc2VydEFmdGVyLCBub2RlLCBpbnNlcnRpb25Qb2ludCk7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlSnVzdGlmaWNhdGlvbkFkanVzdG1lbnRFbGVtZW50KFxuICAgICAgaW5zZXJ0aW9uUG9pbnQsXG4gICAgICBkb2MsXG4gICAgICBwYXJlbnROb2RlLFxuICAgICAgbm9kZUNvbnRleHQudmVydGljYWwsXG4gICAgKTtcbiAgfVxuXG4gIGNvbXBlbnNhdGVKdXN0aWZpY2F0aW9uTGluZUhlaWdodChcbiAgICBzcGFuOiBFbGVtZW50LFxuICAgIGJyOiBFbGVtZW50LFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKSB7XG4gICAgY29uc3Qgc3BhblJlY3QgPSB0aGlzLmNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChzcGFuKTtcbiAgICBjb25zdCBiclJlY3QgPSB0aGlzLmNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChicik7XG4gICAgaWYgKG5vZGVDb250ZXh0LnZlcnRpY2FsKSB7XG4gICAgICAoYnIgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLm1hcmdpblJpZ2h0ID0gYCR7YnJSZWN0LnJpZ2h0IC1cbiAgICAgICAgc3BhblJlY3QucmlnaHR9cHhgO1xuICAgICAgKGJyIGFzIEhUTUxFbGVtZW50KS5zdHlsZS53aWR0aCA9IFwiMHB4XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIChiciBhcyBIVE1MRWxlbWVudCkuc3R5bGUubWFyZ2luVG9wID0gYCR7c3BhblJlY3QudG9wIC0gYnJSZWN0LnRvcH1weGA7XG4gICAgICAoYnIgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmhlaWdodCA9IFwiMHB4XCI7XG4gICAgfVxuICAgIGJyLnNldEF0dHJpYnV0ZShWdHJlZUltcGwuU1BFQ0lBTF9BVFRSLCBcIjFcIik7XG4gIH1cblxuICAvKipcbiAgICogRml4IGp1c3RpZmljYXRpb24gb2YgdGhlIGxhc3QgbGluZSBvZiB0ZXh0IGJyb2tlbiBhY3Jvc3MgcGFnZXMgKGlmXG4gICAqIG5lZWRlZCkuXG4gICAqL1xuICBmaXhKdXN0aWZpY2F0aW9uSWZOZWVkZWQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGVuZE9mQ29sdW1uOiBib29sZWFuLFxuICApOiB2b2lkIHtcbiAgICBpZiAobm9kZUNvbnRleHQuYWZ0ZXIgJiYgIW5vZGVDb250ZXh0LmlubGluZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZW5kT2ZDb2x1bW4pIHtcbiAgICAgIGxldCB0ZXh0QWxpZ24gPSBcIlwiO1xuICAgICAgZm9yIChcbiAgICAgICAgbGV0IHBhcmVudCA9IG5vZGVDb250ZXh0LnBhcmVudDtcbiAgICAgICAgcGFyZW50ICYmICF0ZXh0QWxpZ247XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnRcbiAgICAgICkge1xuICAgICAgICBpZiAoIXBhcmVudC5pbmxpbmUgJiYgcGFyZW50LnZpZXdOb2RlKSB7XG4gICAgICAgICAgdGV4dEFsaWduID0gKHBhcmVudC52aWV3Tm9kZSBhcyBIVE1MRWxlbWVudCkuc3R5bGUudGV4dEFsaWduO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGV4dEFsaWduICE9PSBcImp1c3RpZnlcIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG5vZGUgPSBub2RlQ29udGV4dC52aWV3Tm9kZTtcbiAgICBjb25zdCBkb2MgPSBub2RlLm93bmVyRG9jdW1lbnQ7XG4gICAgY29uc3QgaW5zZXJ0QWZ0ZXIgPVxuICAgICAgZW5kT2ZDb2x1bW4gJiYgKG5vZGVDb250ZXh0LmFmdGVyIHx8IG5vZGUubm9kZVR5cGUgIT0gMSk7XG4gICAgbGV0IGluc2VydGlvblBvaW50ID0gaW5zZXJ0QWZ0ZXIgPyBub2RlLm5leHRTaWJsaW5nIDogbm9kZTtcbiAgICBpZiAoaW5zZXJ0aW9uUG9pbnQgJiYgIWluc2VydGlvblBvaW50LnBhcmVudE5vZGUpIHtcbiAgICAgIC8vIFBvc3NpYmxlIGlmIHJlbW92ZVNlbGYgPSBmYWxzZSBpbiBmaW5pc2hCcmVhaygpXG4gICAgICBpbnNlcnRpb25Qb2ludCA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudE5vZGUgPVxuICAgICAgbm9kZS5wYXJlbnROb2RlIHx8IChub2RlQ29udGV4dC5wYXJlbnQgJiYgbm9kZUNvbnRleHQucGFyZW50LnZpZXdOb2RlKTtcbiAgICBpZiAoIXBhcmVudE5vZGUpIHtcbiAgICAgIC8vIFBvc3NpYmxlIGlmIG5vdGhpbmcgd2FzIGFkZGVkIHRvIHRoZSBjb2x1bW5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc3BhbiA9IHRoaXMuYWRkQW5kQWRqdXN0SnVzdGlmaWNhdGlvbkVsZW1lbnQoXG4gICAgICBub2RlQ29udGV4dCxcbiAgICAgIGluc2VydEFmdGVyLFxuICAgICAgbm9kZSxcbiAgICAgIGluc2VydGlvblBvaW50LFxuICAgICAgZG9jLFxuICAgICAgcGFyZW50Tm9kZSxcbiAgICApO1xuICAgIGlmICghZW5kT2ZDb2x1bW4pIHtcbiAgICAgIGNvbnN0IGJyID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShiciwgaW5zZXJ0aW9uUG9pbnQpO1xuICAgICAgdGhpcy5jb21wZW5zYXRlSnVzdGlmaWNhdGlvbkxpbmVIZWlnaHQoc3BhbiwgYnIsIG5vZGVDb250ZXh0KTtcbiAgICB9XG4gIH1cblxuICBwcm9jZXNzTGluZVN0eWxpbmcoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHJlc05vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJwcm9jZXNzTGluZVN0eWxpbmdcIixcbiAgICApO1xuICAgIGlmIChWSVZMSU9TVFlMRV9ERUJVRykge1xuICAgICAgdmFsaWRhdGVDaGVja1BvaW50cyhjaGVja1BvaW50cyk7XG4gICAgfVxuICAgIGxldCBsYXN0Q2hlY2tQb2ludHMgPSBjaGVja1BvaW50cy5jb25jYXQoW10pOyAvLyBtYWtlIGEgY29weVxuICAgIGNoZWNrUG9pbnRzLnNwbGljZSgwLCBjaGVja1BvaW50cy5sZW5ndGgpOyAvLyBtYWtlIGVtcHR5XG4gICAgbGV0IHRvdGFsTGluZUNvdW50ID0gMDtcbiAgICBsZXQgZmlyc3RQc2V1ZG8gPSBub2RlQ29udGV4dC5maXJzdFBzZXVkbzsgLy8gOmZpcnN0LWxldHRlciBpcyBub3QgcHJvY2Vzc2VkIGhlcmVcbiAgICBpZiAoZmlyc3RQc2V1ZG8uY291bnQgPT0gMCkge1xuICAgICAgZmlyc3RQc2V1ZG8gPSBmaXJzdFBzZXVkby5vdXRlcjsgLy8gbW92ZSB0byBsaW5lIHBzZXVkb2VsZW1lbnQgKGlmIGFueSlcbiAgICB9XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgaWYgKCFmaXJzdFBzZXVkbykge1xuICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGluZVBvc2l0aW9ucyA9IHNlbGYuZmluZExpbmVQb3NpdGlvbnMobGFzdENoZWNrUG9pbnRzKTtcbiAgICAgICAgY29uc3QgY291bnQgPSBmaXJzdFBzZXVkby5jb3VudCAtIHRvdGFsTGluZUNvdW50O1xuICAgICAgICBpZiAobGluZVBvc2l0aW9ucy5sZW5ndGggPD0gY291bnQpIHtcbiAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxpbmVCcmVhayA9IHNlbGYuZmluZEFjY2VwdGFibGVCcmVha0luc2lkZShcbiAgICAgICAgICBsYXN0Q2hlY2tQb2ludHMsXG4gICAgICAgICAgbGluZVBvc2l0aW9uc1tjb3VudCAtIDFdLFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChsaW5lQnJlYWsgPT0gbnVsbCkge1xuICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5maW5pc2hCcmVhayhsaW5lQnJlYWssIGZhbHNlLCBmYWxzZSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgdG90YWxMaW5lQ291bnQgKz0gY291bnQ7XG4gICAgICAgICAgc2VsZi5sYXlvdXRDb250ZXh0XG4gICAgICAgICAgICAucGVlbE9mZihsaW5lQnJlYWssIDApXG4gICAgICAgICAgICAudGhlbigocmVzTm9kZUNvbnRleHRQYXJhbSkgPT4ge1xuICAgICAgICAgICAgICBub2RlQ29udGV4dCA9IHJlc05vZGVDb250ZXh0UGFyYW07XG4gICAgICAgICAgICAgIHNlbGYuZml4SnVzdGlmaWNhdGlvbklmTmVlZGVkKG5vZGVDb250ZXh0LCBmYWxzZSk7XG4gICAgICAgICAgICAgIGZpcnN0UHNldWRvID0gbm9kZUNvbnRleHQuZmlyc3RQc2V1ZG87XG4gICAgICAgICAgICAgIGxhc3RDaGVja1BvaW50cyA9IFtdOyAvLyBXaXBlIG91dCBsaW5lIGJyZWFrcyBpbnNpZGUgcHNldWRvZWxlbWVudHNcbiAgICAgICAgICAgICAgc2VsZlxuICAgICAgICAgICAgICAgIC5idWlsZFZpZXdUb05leHRCbG9ja0VkZ2Uobm9kZUNvbnRleHQsIGxhc3RDaGVja1BvaW50cylcbiAgICAgICAgICAgICAgICAudGhlbigocmVzTm9kZUNvbnRleHRQYXJhbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmVzTm9kZUNvbnRleHQgPSByZXNOb2RlQ29udGV4dFBhcmFtO1xuICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoY2hlY2tQb2ludHMsIGxhc3RDaGVja1BvaW50cyk7XG4gICAgICAgIGlmIChWSVZMSU9TVFlMRV9ERUJVRykge1xuICAgICAgICAgIHZhbGlkYXRlQ2hlY2tQb2ludHMoY2hlY2tQb2ludHMpO1xuICAgICAgICB9XG4gICAgICAgIGZyYW1lLmZpbmlzaChyZXNOb2RlQ29udGV4dCk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBpc0xvbmVJbWFnZShjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSk6IGJvb2xlYW4ge1xuICAgIGlmIChjaGVja1BvaW50cy5sZW5ndGggIT0gMiAmJiB0aGlzLmJyZWFrUG9zaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIGNoZWNrUG9pbnRzWzBdLnNvdXJjZU5vZGUgPT0gY2hlY2tQb2ludHNbMV0uc291cmNlTm9kZSAmJlxuICAgICAgbWVkaWFUYWdzWyhjaGVja1BvaW50c1swXS5zb3VyY2VOb2RlIGFzIEVsZW1lbnQpLmxvY2FsTmFtZV1cbiAgICApO1xuICB9XG5cbiAgZ2V0VHJhaWxpbmdNYXJnaW5FZGdlQWRqdXN0bWVudChcbiAgICB0cmFpbGluZ0VkZ2VDb250ZXh0czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgKTogbnVtYmVyIHtcbiAgICAvLyBNYXJnaW5zIHB1c2ggdGhlIGNvbXB1dGVkIGhlaWdodCwgYnV0IGFyZSBub3QgY291bnRlZCBhcyBvdmVyZmxvdy4gV2VcbiAgICAvLyBuZWVkIHRvIGZpbmQgdGhlIG92ZXJhbGwgY29sbGFwc2VkIG1hcmdpbiBmcm9tIGFsbCBlbmNsb3NlZCBibG9ja3MuXG4gICAgbGV0IG1heFBvcyA9IDA7XG4gICAgbGV0IG1pbk5lZyA9IDA7XG4gICAgZm9yIChsZXQgaSA9IHRyYWlsaW5nRWRnZUNvbnRleHRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCBub2RlQ29udGV4dCA9IHRyYWlsaW5nRWRnZUNvbnRleHRzW2ldO1xuICAgICAgaWYgKFxuICAgICAgICAhbm9kZUNvbnRleHQuYWZ0ZXIgfHxcbiAgICAgICAgIW5vZGVDb250ZXh0LnZpZXdOb2RlIHx8XG4gICAgICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlLm5vZGVUeXBlICE9IDFcbiAgICAgICkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1hcmdpbiA9IHRoaXMuZ2V0Q29tcHV0ZWRNYXJnaW4obm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudCk7XG4gICAgICBjb25zdCBtID0gdGhpcy52ZXJ0aWNhbCA/IC1tYXJnaW4ubGVmdCA6IG1hcmdpbi5ib3R0b207XG4gICAgICBpZiAobSA+IDApIHtcbiAgICAgICAgbWF4UG9zID0gTWF0aC5tYXgobWF4UG9zLCBtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1pbk5lZyA9IE1hdGgubWluKG1pbk5lZywgbSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXhQb3MgLSBtaW5OZWc7XG4gIH1cblxuICAvKipcbiAgICogTGF5b3V0IGEgc2luZ2xlIENTUyBib3guXG4gICAqL1xuICBsYXlvdXRCcmVha2FibGVCbG9jayhcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwibGF5b3V0QnJlYWthYmxlQmxvY2tcIixcbiAgICApO1xuICAgIGNvbnN0IGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdID0gW107XG4gICAgc2VsZlxuICAgICAgLmJ1aWxkVmlld1RvTmV4dEJsb2NrRWRnZShub2RlQ29udGV4dCwgY2hlY2tQb2ludHMpXG4gICAgICAudGhlbigocmVzTm9kZUNvbnRleHQpID0+IHtcbiAgICAgICAgLy8gYXQgdGhpcyBwb2ludCBhIHNpbmdsZSBibG9jayB3YXMgYXBwZW5kZWQgdG8gdGhlIGNvbHVtblxuICAgICAgICAvLyBmbG93UG9zaXRpb24gaXMgZWl0aGVyIG51bGwgb3JcbiAgICAgICAgLy8gIC0gaWYgIWFmdGVyOiBjb250YWlucyB2aWV3IGZvciB0aGUgbmV4dCBibG9jayBlbGVtZW50XG4gICAgICAgIC8vICAtIGlmIGFmdGVyOiBjb250YWlucyB2aWV3IGZvciB0aGUgZW5jbG9zaW5nIGJsb2NrIGVsZW1lbnRcbiAgICAgICAgY29uc3QgY2hlY2tQb2ludEluZGV4ID0gY2hlY2tQb2ludHMubGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKGNoZWNrUG9pbnRJbmRleCA8IDApIHtcbiAgICAgICAgICBmcmFtZS5maW5pc2gocmVzTm9kZUNvbnRleHQpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlY29yZCB0aGUgaGVpZ2h0XG4gICAgICAgIC8vIFRPRE86IHNob3VsZCB0aGlzIGJlIGRvbmUgYWZ0ZXIgZmlyc3QtbGluZSBjYWxjdWxhdGlvbj9cbiAgICAgICAgbGV0IGVkZ2UgPSBzZWxmLmNhbGN1bGF0ZUVkZ2UoXG4gICAgICAgICAgcmVzTm9kZUNvbnRleHQsXG4gICAgICAgICAgY2hlY2tQb2ludHMsXG4gICAgICAgICAgY2hlY2tQb2ludEluZGV4LFxuICAgICAgICAgIGNoZWNrUG9pbnRzW2NoZWNrUG9pbnRJbmRleF0uYm94T2Zmc2V0LFxuICAgICAgICApO1xuICAgICAgICBsZXQgb3ZlcmZsb3duID0gZmFsc2U7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhcmVzTm9kZUNvbnRleHQgfHxcbiAgICAgICAgICAhTGF5b3V0SGVscGVyLmlzT3JwaGFuKHJlc05vZGVDb250ZXh0LnZpZXdOb2RlKVxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCBvZmZzZXRzID0gQnJlYWtQb3NpdGlvbi5jYWxjdWxhdGVPZmZzZXQoXG4gICAgICAgICAgICByZXNOb2RlQ29udGV4dCxcbiAgICAgICAgICAgIHNlbGYuY29sbGVjdEVsZW1lbnRzT2Zmc2V0KCksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBvdmVyZmxvd24gPSBzZWxmLmlzT3ZlcmZsb3duKFxuICAgICAgICAgICAgZWRnZSArIChzZWxmLnZlcnRpY2FsID8gLTEgOiAxKSAqIG9mZnNldHMubWluaW11bSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHNlbGYuaXNPdmVyZmxvd24oXG4gICAgICAgICAgICAgIGVkZ2UgKyAoc2VsZi52ZXJ0aWNhbCA/IC0xIDogMSkgKiBvZmZzZXRzLmN1cnJlbnQsXG4gICAgICAgICAgICApICYmXG4gICAgICAgICAgICAhc2VsZi5ub2RlQ29udGV4dE92ZXJmbG93aW5nRHVlVG9SZXBldGl0aXZlRWxlbWVudHNcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNlbGYubm9kZUNvbnRleHRPdmVyZmxvd2luZ0R1ZVRvUmVwZXRpdGl2ZUVsZW1lbnRzID0gcmVzTm9kZUNvbnRleHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNOb2RlQ29udGV4dCA9PSBudWxsKSB7XG4gICAgICAgICAgZWRnZSArPSBzZWxmLmdldFRyYWlsaW5nTWFyZ2luRWRnZUFkanVzdG1lbnQoY2hlY2tQb2ludHMpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYudXBkYXRlTWF4UmVhY2hlZEFmdGVyRWRnZShlZGdlKTtcbiAgICAgICAgbGV0IGxpbmVDb250OiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgICAgIGlmIChub2RlQ29udGV4dC5maXJzdFBzZXVkbykge1xuICAgICAgICAgIC8vIHBvc3NpYmx5IG5lZWQgdG8gZGVhbCB3aXRoIDpmaXJzdC1saW5lIGFuZCBmcmllbmRzXG4gICAgICAgICAgbGluZUNvbnQgPSBzZWxmLnByb2Nlc3NMaW5lU3R5bGluZyhcbiAgICAgICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICAgICAgcmVzTm9kZUNvbnRleHQsXG4gICAgICAgICAgICBjaGVja1BvaW50cyxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpbmVDb250ID0gVGFzay5uZXdSZXN1bHQocmVzTm9kZUNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGxpbmVDb250LnRoZW4oKG5vZGVDb250ZXh0KSA9PiB7XG4gICAgICAgICAgc2VsZi5wb3N0TGF5b3V0QmxvY2sobm9kZUNvbnRleHQsIGNoZWNrUG9pbnRzKTtcbiAgICAgICAgICBpZiAoY2hlY2tQb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2VsZi5zYXZlQm94QnJlYWtQb3NpdGlvbihjaGVja1BvaW50cyk7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IGhvdyB0byBzaWduYWwgb3ZlcmZsb3cgaW4gdGhlIGxhc3QgcGFnYXJnYXBoPz8/XG4gICAgICAgICAgICBpZiAob3ZlcmZsb3duICYmICFzZWxmLmlzTG9uZUltYWdlKGNoZWNrUG9pbnRzKSAmJiBub2RlQ29udGV4dCkge1xuICAgICAgICAgICAgICBub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0Lm1vZGlmeSgpO1xuICAgICAgICAgICAgICBub2RlQ29udGV4dC5vdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZyYW1lLmZpbmlzaChub2RlQ29udGV4dCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgcG9zdExheW91dEJsb2NrKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgKSB7XG4gICAgY29uc3QgaG9va3M6IFBsdWdpbi5Qb3N0TGF5b3V0QmxvY2tIb29rW10gPSBQbHVnaW4uZ2V0SG9va3NGb3JOYW1lKFxuICAgICAgUGx1Z2luLkhPT0tTLlBPU1RfTEFZT1VUX0JMT0NLLFxuICAgICk7XG4gICAgaG9va3MuZm9yRWFjaCgoaG9vaykgPT4ge1xuICAgICAgaG9vayhub2RlQ29udGV4dCwgY2hlY2tQb2ludHMsIHRoaXMpO1xuICAgIH0pO1xuICB9XG5cbiAgZmluZEVuZE9mTGluZShcbiAgICBsaW5lUG9zaXRpb246IG51bWJlcixcbiAgICBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgICBpc1VwZGF0ZU1heFJlYWNoZWRBZnRlckVkZ2U6IGJvb2xlYW4sXG4gICk6IHtcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgaW5kZXg6IG51bWJlcjtcbiAgICBjaGVja1BvaW50SW5kZXg6IG51bWJlcjtcbiAgfSB7XG4gICAgaWYgKFZJVkxJT1NUWUxFX0RFQlVHKSB7XG4gICAgICB2YWxpZGF0ZUNoZWNrUG9pbnRzKGNoZWNrUG9pbnRzKTtcbiAgICB9XG5cbiAgICAvLyBXb3JrYXJvdW5kIGZvciBCbGluayBub3QgcmV0dXJuaW5nIGNvcnJlY3QgZnJhY3Rpb25hbCB2YWx1ZXMgZm9yXG4gICAgLy8gUmFuZ2UuZ2V0Q2xpZW50UmVjdHMuXG4gICAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NjI5ODI4XG4gICAgY29uc3QgZWZmZWN0aXZlTGluZVBvc2l0aW9uID0gdGhpcy52ZXJ0aWNhbFxuICAgICAgPyBsaW5lUG9zaXRpb24gLSAxXG4gICAgICA6IGxpbmVQb3NpdGlvbiArIDE7XG5cbiAgICAvLyBmaW5kIHRoZSBmaXJzdCBjaGFyYWN0ZXIgd2hpY2ggaXMgb3V0XG4gICAgbGV0IGxvd0NQID0gMDtcbiAgICBsZXQgbG93ID0gY2hlY2tQb2ludHNbMF0uYm94T2Zmc2V0O1xuICAgIGxldCBsb3cxID0gbG93Q1A7XG4gICAgbGV0IGhpZ2hDUCA9IGNoZWNrUG9pbnRzLmxlbmd0aCAtIDE7XG4gICAgbGV0IGhpZ2ggPSBjaGVja1BvaW50c1toaWdoQ1BdLmJveE9mZnNldDtcbiAgICBsZXQgbWlkOiBudW1iZXI7XG4gICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgIG1pZCA9IGxvdyArIE1hdGguY2VpbCgoaGlnaCAtIGxvdykgLyAyKTtcblxuICAgICAgLy8gZmluZCB0aGUgbm9kZSB3aGljaCBjb250YWlucyBtaWQgaW5kZXhcbiAgICAgIGxvdzEgPSBsb3dDUDtcbiAgICAgIGxldCBoaWdoMSA9IGhpZ2hDUDtcbiAgICAgIHdoaWxlIChsb3cxIDwgaGlnaDEpIHtcbiAgICAgICAgY29uc3QgbWlkMSA9IGxvdzEgKyBNYXRoLmNlaWwoKGhpZ2gxIC0gbG93MSkgLyAyKTtcbiAgICAgICAgaWYgKGNoZWNrUG9pbnRzW21pZDFdLmJveE9mZnNldCA+IG1pZCkge1xuICAgICAgICAgIGhpZ2gxID0gbWlkMSAtIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG93MSA9IG1pZDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGVkZ2UgPSB0aGlzLmNhbGN1bGF0ZUVkZ2UobnVsbCwgY2hlY2tQb2ludHMsIGxvdzEsIG1pZCk7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMudmVydGljYWxcbiAgICAgICAgICA/IGVkZ2UgPD0gZWZmZWN0aXZlTGluZVBvc2l0aW9uXG4gICAgICAgICAgOiBlZGdlID49IGVmZmVjdGl2ZUxpbmVQb3NpdGlvblxuICAgICAgKSB7XG4gICAgICAgIGhpZ2ggPSBtaWQgLSAxO1xuICAgICAgICB3aGlsZSAoY2hlY2tQb2ludHNbbG93MV0uYm94T2Zmc2V0ID09IG1pZCkge1xuICAgICAgICAgIGxvdzEtLTtcbiAgICAgICAgfVxuICAgICAgICBoaWdoQ1AgPSBsb3cxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzVXBkYXRlTWF4UmVhY2hlZEFmdGVyRWRnZSkge1xuICAgICAgICAgIHRoaXMudXBkYXRlTWF4UmVhY2hlZEFmdGVyRWRnZShlZGdlKTtcbiAgICAgICAgfVxuICAgICAgICBsb3cgPSBtaWQ7XG4gICAgICAgIGxvd0NQID0gbG93MTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIG5vZGVDb250ZXh0OiBjaGVja1BvaW50c1tsb3cxXSxcbiAgICAgIGluZGV4OiBsb3csXG4gICAgICBjaGVja1BvaW50SW5kZXg6IGxvdzEsXG4gICAgfTtcbiAgfVxuXG4gIGZpbmRBY2NlcHRhYmxlQnJlYWtJbnNpZGUoXG4gICAgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgZWRnZVBvc2l0aW9uOiBudW1iZXIsXG4gICAgZm9yY2U6IGJvb2xlYW4sXG4gICk6IFZ0cmVlLk5vZGVDb250ZXh0IHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuZmluZEVuZE9mTGluZShlZGdlUG9zaXRpb24sIGNoZWNrUG9pbnRzLCB0cnVlKTtcbiAgICBsZXQgbm9kZUNvbnRleHQgPSBwb3NpdGlvbi5ub2RlQ29udGV4dDtcbiAgICBjb25zdCB2aWV3Tm9kZSA9IG5vZGVDb250ZXh0LnZpZXdOb2RlO1xuICAgIGlmICh2aWV3Tm9kZS5ub2RlVHlwZSAhPSAxKSB7XG4gICAgICBjb25zdCB0ZXh0Tm9kZSA9IHZpZXdOb2RlIGFzIFRleHQ7XG4gICAgICBjb25zdCB0ZXh0Tm9kZUJyZWFrZXIgPSB0aGlzLnJlc29sdmVUZXh0Tm9kZUJyZWFrZXIobm9kZUNvbnRleHQpO1xuICAgICAgbm9kZUNvbnRleHQgPSB0ZXh0Tm9kZUJyZWFrZXIuYnJlYWtUZXh0Tm9kZShcbiAgICAgICAgdGV4dE5vZGUsXG4gICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICBwb3NpdGlvbi5pbmRleCxcbiAgICAgICAgY2hlY2tQb2ludHMsXG4gICAgICAgIHBvc2l0aW9uLmNoZWNrUG9pbnRJbmRleCxcbiAgICAgICAgZm9yY2UsXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmNsZWFyT3ZlcmZsb3duVmlld05vZGVzKG5vZGVDb250ZXh0LCBmYWxzZSk7XG4gICAgcmV0dXJuIG5vZGVDb250ZXh0O1xuICB9XG5cbiAgcmVzb2x2ZVRleHROb2RlQnJlYWtlcihub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBUZXh0Tm9kZUJyZWFrZXIge1xuICAgIGNvbnN0IGhvb2tzOiBQbHVnaW4uUmVzb2x2ZVRleHROb2RlQnJlYWtlckhvb2tbXSA9IFBsdWdpbi5nZXRIb29rc0Zvck5hbWUoXG4gICAgICBQbHVnaW4uSE9PS1MuUkVTT0xWRV9URVhUX05PREVfQlJFQUtFUixcbiAgICApO1xuICAgIHJldHVybiBob29rcy5yZWR1Y2UoXG4gICAgICAocHJldiwgaG9vaykgPT4gaG9vayhub2RlQ29udGV4dCkgfHwgcHJldixcbiAgICAgIFRleHROb2RlQnJlYWtlci5pbnN0YW5jZSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWQgcmFuZ2VzIHNraXBwaW5nIHNwZWNpYWwgZWxtZW50c1xuICAgKi9cbiAgZ2V0UmFuZ2VCb3hlcyhzdGFydDogTm9kZSwgZW5kOiBOb2RlKTogVnRyZWUuQ2xpZW50UmVjdFtdIHtcbiAgICBjb25zdCBhcnIgPSBbXTtcbiAgICBjb25zdCByYW5nZSA9IHN0YXJ0Lm93bmVyRG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICBsZXQgd2VudFVwID0gZmFsc2U7XG4gICAgbGV0IG5vZGUgPSBzdGFydDtcbiAgICBsZXQgbGFzdEdvb2Q6IE5vZGUgPSBudWxsO1xuICAgIGxldCBoYXZlU3RhcnQgPSBmYWxzZTtcbiAgICBsZXQgZW5kTm90UmVhY2hlZCA9IHRydWU7XG4gICAgd2hpbGUgKGVuZE5vdFJlYWNoZWQpIHtcbiAgICAgIGxldCBzZWVrUmFuZ2UgPSB0cnVlO1xuICAgICAgZG8ge1xuICAgICAgICBsZXQgbmV4dDogTm9kZSA9IG51bGw7XG4gICAgICAgIGlmIChub2RlID09IGVuZCkge1xuICAgICAgICAgIGlmIChlbmQubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgIC8vIElmIGVuZCBpcyBhbiBlbGVtZW50LCBjb250aW51ZSB0cmF2ZXJzaW5nIGl0cyBjaGlsZHJlbiB0byBmaW5kXG4gICAgICAgICAgICAvLyB0aGUgbGFzdCB0ZXh0IG5vZGUgaW5zaWRlIGl0LiBGaW5pc2ggd2hlbiBlbmQgaGFzIG5vIGNoaWxkIG9yXG4gICAgICAgICAgICAvLyB3aGVuIGNhbWUgYmFjayBmcm9tIGl0cyBjaGlsZHJlbiAod2VudFVwPT10cnVlKS5cbiAgICAgICAgICAgIGVuZE5vdFJlYWNoZWQgPSAhKCFlbmQuZmlyc3RDaGlsZCB8fCB3ZW50VXApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbmROb3RSZWFjaGVkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgICBpZiAoIWhhdmVTdGFydCkge1xuICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnRCZWZvcmUobm9kZSk7XG4gICAgICAgICAgICBoYXZlU3RhcnQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsYXN0R29vZCA9IG5vZGU7XG4gICAgICAgIH0gZWxzZSBpZiAod2VudFVwKSB7XG4gICAgICAgICAgd2VudFVwID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoTGF5b3V0SGVscGVyLmlzU3BlY2lhbChub2RlIGFzIEVsZW1lbnQpKSB7XG4gICAgICAgICAgLy8gU2tpcCBzcGVjaWFsXG4gICAgICAgICAgc2Vla1JhbmdlID0gIWhhdmVTdGFydDtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAobm9kZSBhcyBFbGVtZW50KS5sb2NhbE5hbWUgPT0gXCJydWJ5XCIgfHxcbiAgICAgICAgICBpc1NwZWNpYWxJbmxpbmVEaXNwbGF5KFxuICAgICAgICAgICAgdGhpcy5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENvbXB1dGVkU3R5bGUobm9kZSBhcyBFbGVtZW50KS5kaXNwbGF5LFxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gcnVieSwgaW5saW5lLWJsb2NrLCBldGMuXG4gICAgICAgICAgc2Vla1JhbmdlID0gIWhhdmVTdGFydDtcbiAgICAgICAgICBpZiAoc2Vla1JhbmdlKSB7XG4gICAgICAgICAgICByYW5nZS5zZXRTdGFydEJlZm9yZShub2RlKTtcbiAgICAgICAgICAgIGhhdmVTdGFydCA9IHRydWU7XG4gICAgICAgICAgICBsYXN0R29vZCA9IG5vZGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChub2RlLmNvbnRhaW5zKGVuZCkpIHtcbiAgICAgICAgICAgIGVuZE5vdFJlYWNoZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dCA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5leHQpIHtcbiAgICAgICAgICBuZXh0ID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgICBpZiAoIW5leHQpIHtcbiAgICAgICAgICAgIHdlbnRVcCA9IHRydWU7XG4gICAgICAgICAgICBuZXh0ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbmV4dDtcbiAgICAgIH0gd2hpbGUgKHNlZWtSYW5nZSAmJiBlbmROb3RSZWFjaGVkKTtcbiAgICAgIGlmIChoYXZlU3RhcnQpIHtcbiAgICAgICAgcmFuZ2Uuc2V0RW5kQWZ0ZXIobGFzdEdvb2QpO1xuICAgICAgICBjb25zdCBib3hMaXN0ID0gdGhpcy5jbGllbnRMYXlvdXQuZ2V0UmFuZ2VDbGllbnRSZWN0cyhyYW5nZSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm94TGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGFyci5wdXNoKGJveExpc3RbaV0pO1xuICAgICAgICB9XG4gICAgICAgIGhhdmVTdGFydCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgLyoqXG4gICAqIEdpdmUgYmxvY2sncyBpbml0aWFsIGFuZCBmaW5hbCBub2RlcywgZmluZCBwb3NpdGlvbnMgb2YgdGhlIGxpbmUgYm90dG9tcy5cbiAgICogVGhpcyBpcywgb2YgY291cnNlLCBzb21ld2hhdCBoYWNreSBpbXBsZW1lbnRhdGlvbi5cbiAgICogQHJldHVybiBwb3NpdGlvbiBvZiBsaW5lIGJyZWFrc1xuICAgKi9cbiAgZmluZExpbmVQb3NpdGlvbnMoY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10pOiBudW1iZXJbXSB7XG4gICAgY29uc3QgTE9XX09WRVJMQVAgPSAwLjI7XG4gICAgY29uc3QgTUlEX09WRVJMQVAgPSAwLjY7XG4gICAgY29uc3QgcG9zaXRpb25zID0gW107XG4gICAgY29uc3QgYm94ZXMgPSB0aGlzLmdldFJhbmdlQm94ZXMoXG4gICAgICBjaGVja1BvaW50c1swXS52aWV3Tm9kZSxcbiAgICAgIGNoZWNrUG9pbnRzW2NoZWNrUG9pbnRzLmxlbmd0aCAtIDFdLnZpZXdOb2RlLFxuICAgICk7XG4gICAgYm94ZXMuc29ydChcbiAgICAgIHRoaXMudmVydGljYWxcbiAgICAgICAgPyBWdHJlZUltcGwuY2xpZW50cmVjdERlY3JlYXNpbmdSaWdodFxuICAgICAgICA6IFZ0cmVlSW1wbC5jbGllbnRyZWN0SW5jcmVhc2luZ1RvcCxcbiAgICApO1xuICAgIGxldCBsaW5lQmVmb3JlID0gMDtcbiAgICBsZXQgbGluZUFmdGVyID0gMDtcbiAgICBsZXQgbGluZUVuZCA9IDA7XG4gICAgbGV0IGxpbmVMZW5ndGggPSAwO1xuICAgIGxldCBpID0gMDtcbiAgICBjb25zdCBkaXIgPSB0aGlzLmdldEJveERpcigpO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAoaSA8IGJveGVzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBib3ggPSBib3hlc1tpXTtcbiAgICAgICAgbGV0IG92ZXJsYXAgPSAxO1xuICAgICAgICBpZiAobGluZUxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBib3hTaXplID0gTWF0aC5tYXgodGhpcy5nZXRCb3hTaXplKGJveCksIDEpO1xuICAgICAgICAgIGlmIChkaXIgKiB0aGlzLmdldEJlZm9yZUVkZ2UoYm94KSA8IGRpciAqIGxpbmVCZWZvcmUpIHtcbiAgICAgICAgICAgIG92ZXJsYXAgPSAoZGlyICogKHRoaXMuZ2V0QWZ0ZXJFZGdlKGJveCkgLSBsaW5lQmVmb3JlKSkgLyBib3hTaXplO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZGlyICogdGhpcy5nZXRBZnRlckVkZ2UoYm94KSA+IGRpciAqIGxpbmVBZnRlcikge1xuICAgICAgICAgICAgb3ZlcmxhcCA9IChkaXIgKiAobGluZUFmdGVyIC0gdGhpcy5nZXRCZWZvcmVFZGdlKGJveCkpKSAvIGJveFNpemU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG92ZXJsYXAgPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgbGluZUxlbmd0aCA9PSAwIHx8XG4gICAgICAgICAgb3ZlcmxhcCA+PSBNSURfT1ZFUkxBUCB8fFxuICAgICAgICAgIChvdmVybGFwID49IExPV19PVkVSTEFQICYmIHRoaXMuZ2V0U3RhcnRFZGdlKGJveCkgPj0gbGluZUVuZCAtIDEpXG4gICAgICAgICkge1xuICAgICAgICAgIGxpbmVFbmQgPSB0aGlzLmdldEVuZEVkZ2UoYm94KTtcbiAgICAgICAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgbGluZUJlZm9yZSA9XG4gICAgICAgICAgICAgIGxpbmVMZW5ndGggPT0gMCA/IGJveC5yaWdodCA6IE1hdGgubWF4KGxpbmVCZWZvcmUsIGJveC5yaWdodCk7XG4gICAgICAgICAgICBsaW5lQWZ0ZXIgPVxuICAgICAgICAgICAgICBsaW5lTGVuZ3RoID09IDAgPyBib3gubGVmdCA6IE1hdGgubWluKGxpbmVBZnRlciwgYm94LmxlZnQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaW5lQmVmb3JlID1cbiAgICAgICAgICAgICAgbGluZUxlbmd0aCA9PSAwID8gYm94LnRvcCA6IE1hdGgubWluKGxpbmVCZWZvcmUsIGJveC50b3ApO1xuICAgICAgICAgICAgbGluZUFmdGVyID1cbiAgICAgICAgICAgICAgbGluZUxlbmd0aCA9PSAwID8gYm94LmJvdHRvbSA6IE1hdGgubWF4KGxpbmVBZnRlciwgYm94LmJvdHRvbSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxpbmVMZW5ndGgrKztcbiAgICAgICAgICBpKys7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQWRkIGxpbmVcbiAgICAgIGlmIChsaW5lTGVuZ3RoID4gMCkge1xuICAgICAgICBwb3NpdGlvbnMucHVzaChsaW5lQWZ0ZXIpO1xuICAgICAgICBsaW5lTGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICAgIGlmIChpID49IGJveGVzLmxlbmd0aCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcG9zaXRpb25zLnNvcnQoQmFzZS5udW1iZXJDb21wYXJlKTtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgcG9zaXRpb25zLnJldmVyc2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIHBvc2l0aW9ucztcbiAgfVxuXG4gIGNhbGN1bGF0ZUNsb25lZFBhZGRpbmdCb3JkZXIobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogbnVtYmVyIHtcbiAgICBsZXQgY2xvbmVkUGFkZGluZ0JvcmRlciA9IDA7XG4gICAgbm9kZUNvbnRleHQud2Fsa1VwQmxvY2tzKChibG9jaykgPT4ge1xuICAgICAgaWYgKGJsb2NrLmluaGVyaXRlZFByb3BzW1wiYm94LWRlY29yYXRpb24tYnJlYWtcIl0gPT09IFwiY2xvbmVcIikge1xuICAgICAgICBBc3NlcnRzLmFzc2VydChibG9jay52aWV3Tm9kZSBpbnN0YW5jZW9mIEVsZW1lbnQpO1xuICAgICAgICBjb25zdCBwYWRkaW5nQm9yZGVycyA9IHRoaXMuZ2V0Q29tcHV0ZWRQYWRkaW5nQm9yZGVyKFxuICAgICAgICAgIGJsb2NrLnZpZXdOb2RlIGFzIEVsZW1lbnQsXG4gICAgICAgICk7XG4gICAgICAgIGNsb25lZFBhZGRpbmdCb3JkZXIgKz0gYmxvY2sudmVydGljYWxcbiAgICAgICAgICA/IC1wYWRkaW5nQm9yZGVycy5sZWZ0XG4gICAgICAgICAgOiBwYWRkaW5nQm9yZGVycy5ib3R0b207XG4gICAgICAgIGlmIChibG9jay5kaXNwbGF5ID09PSBcInRhYmxlXCIpIHtcbiAgICAgICAgICBjbG9uZWRQYWRkaW5nQm9yZGVyICs9IGJsb2NrLmJsb2NrQm9yZGVyU3BhY2luZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBjbG9uZWRQYWRkaW5nQm9yZGVyO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRPZmZzZXRCeVJlcGV0aXRpdmVFbGVtZW50cyhcbiAgICBicD86IEJyZWFrUG9zaXRpb24uQnJlYWtQb3NpdGlvbixcbiAgKTogbnVtYmVyIHtcbiAgICBsZXQgb2Zmc2V0OiB7IGN1cnJlbnQ6IG51bWJlcjsgbWluaW11bTogbnVtYmVyIH07XG4gICAgaWYgKGJwKSB7XG4gICAgICBvZmZzZXQgPSBicC5jYWxjdWxhdGVPZmZzZXQodGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9mZnNldCA9IEJyZWFrUG9zaXRpb24uY2FsY3VsYXRlT2Zmc2V0KFxuICAgICAgICBudWxsLFxuICAgICAgICB0aGlzLmNvbGxlY3RFbGVtZW50c09mZnNldCgpLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldC5jdXJyZW50O1xuICB9XG5cbiAgZmluZEJveEJyZWFrUG9zaXRpb24oXG4gICAgYnA6IEJveEJyZWFrUG9zaXRpb24sXG4gICAgZm9yY2U6IGJvb2xlYW4sXG4gICk6IFZ0cmVlLk5vZGVDb250ZXh0IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBjaGVja1BvaW50cyA9IGJwLmNoZWNrUG9pbnRzO1xuICAgIGxldCBibG9jayA9IGNoZWNrUG9pbnRzWzBdO1xuICAgIHdoaWxlIChibG9jay5wYXJlbnQgJiYgYmxvY2suaW5saW5lKSB7XG4gICAgICBibG9jayA9IGJsb2NrLnBhcmVudDtcbiAgICB9XG4gICAgbGV0IHdpZG93czogbnVtYmVyO1xuICAgIGxldCBvcnBoYW5zOiBudW1iZXI7XG4gICAgaWYgKGZvcmNlKSB7XG4gICAgICAvLyBMYXN0IHJlc29ydCwgaWdub3JlIHdpZG93cy9vcnBoYW5zXG4gICAgICB3aWRvd3MgPSAxO1xuICAgICAgb3JwaGFucyA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEdldCB3aWRvd3Mvb3JwaGFucyBzZXR0aW5ncyBmcm9tIHRoZSBibG9jayBlbGVtZW50XG4gICAgICB3aWRvd3MgPSBNYXRoLm1heChcbiAgICAgICAgKChibG9jay5pbmhlcml0ZWRQcm9wc1tcIndpZG93c1wiXSBhcyBudW1iZXIpIHx8IDIpIC0gMCxcbiAgICAgICAgMSxcbiAgICAgICk7XG4gICAgICBvcnBoYW5zID0gTWF0aC5tYXgoXG4gICAgICAgICgoYmxvY2suaW5oZXJpdGVkUHJvcHNbXCJvcnBoYW5zXCJdIGFzIG51bWJlcikgfHwgMikgLSAwLFxuICAgICAgICAxLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBJbiBjYXNlIG9mIGJveC1kZWNvcmF0aW9uLWJyZWFrOiBjbG9uZSwgd2lkdGggKG9yIGhlaWdodCBpbiB2ZXJ0aWNhbFxuICAgIC8vIHdyaXRpbmcgbW9kZSkgb2YgY2xvbmVkIHBhZGRpbmdzIGFuZCBib3JkZXJzIHNob3VsZCBiZSB0YWtlbiBpbnRvXG4gICAgLy8gYWNjb3VudC5cbiAgICBjb25zdCBjbG9uZWRQYWRkaW5nQm9yZGVyID0gc2VsZi5jYWxjdWxhdGVDbG9uZWRQYWRkaW5nQm9yZGVyKGJsb2NrKTtcblxuICAgIC8vIFNlbGVjdCB0aGUgZmlyc3Qgb3ZlcmZsb3dpbmcgbGluZSBicmVhayBwb3NpdGlvblxuICAgIGNvbnN0IGxpbmVQb3NpdGlvbnMgPSB0aGlzLmZpbmRMaW5lUG9zaXRpb25zKGNoZWNrUG9pbnRzKTtcbiAgICBsZXQgZWRnZSA9IHRoaXMuZm9vdG5vdGVFZGdlIC0gY2xvbmVkUGFkZGluZ0JvcmRlcjtcbiAgICBjb25zdCBkaXIgPSB0aGlzLmdldEJveERpcigpO1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50c09mZnNldCA9IHRoaXMuZ2V0T2Zmc2V0QnlSZXBldGl0aXZlRWxlbWVudHMoYnApO1xuICAgIGVkZ2UgLT0gZGlyICogcmVwZXRpdGl2ZUVsZW1lbnRzT2Zmc2V0O1xuXG4gICAgLy8gSWYgYW4gXCJvdmVyZmxvd2luZ1wiIGNoZWNrcG9pbnQgKGUuZy4gbm90IGFsbG93ZWQgYnkgTGF5b3V0Q29uc3RyYWludClcbiAgICAvLyBleGlzdHMgYmVmb3JlIHRoZSBlZGdlLCBhIGxpbmUgY29udGFpbmluZyB0aGUgY2hlY2twb2ludCBzaG91bGQgYmVcbiAgICAvLyBkZWZlcnJlZCB0byB0aGUgbmV4dCBjb2x1bW4uXG4gICAgY29uc3QgZmlyc3RPdmVyZmxvd2luZyA9IHRoaXMuZmluZEZpcnN0T3ZlcmZsb3dpbmdFZGdlQW5kQ2hlY2tQb2ludChcbiAgICAgIGNoZWNrUG9pbnRzLFxuICAgICk7XG4gICAgaWYgKGlzTmFOKGZpcnN0T3ZlcmZsb3dpbmcuZWRnZSkpIHtcbiAgICAgIGZpcnN0T3ZlcmZsb3dpbmcuZWRnZSA9IGRpciAqIEluZmluaXR5O1xuICAgIH1cbiAgICBsZXQgbGluZUluZGV4ID0gQmFzZS5iaW5hcnlTZWFyY2gobGluZVBvc2l0aW9ucy5sZW5ndGgsIChpKSA9PiB7XG4gICAgICBjb25zdCBwID0gbGluZVBvc2l0aW9uc1tpXTtcbiAgICAgIHJldHVybiBzZWxmLnZlcnRpY2FsXG4gICAgICAgID8gcCA8IGVkZ2UgfHwgcCA8PSBmaXJzdE92ZXJmbG93aW5nLmVkZ2VcbiAgICAgICAgOiBwID4gZWRnZSB8fCBwID49IGZpcnN0T3ZlcmZsb3dpbmcuZWRnZTtcbiAgICB9KTtcblxuICAgIC8vIElmIG5vIGJyZWFrIHBvaW50IGlzIGZvdW5kIGR1ZSB0byB0aGUgXCJvdmVyZmxvd2luZ1wiIGNoZWNrcG9pbnQsXG4gICAgLy8gZ2l2ZSB1cCBkZWZlcnJpbmcgYSBsaW5lIGNvbnRhaW5pbmcgdGhlIGNoZWNrcG9pbnQgYW5kIHRyeSB0byBjdXQgdGhlXG4gICAgLy8gbGluZSBqdXN0IGJlZm9yZSBpdC5cbiAgICBjb25zdCBmb3JjZUN1dEJlZm9yZU92ZXJmbG93aW5nID0gbGluZUluZGV4IDw9IDA7XG4gICAgaWYgKGZvcmNlQ3V0QmVmb3JlT3ZlcmZsb3dpbmcpIHtcbiAgICAgIGxpbmVJbmRleCA9IEJhc2UuYmluYXJ5U2VhcmNoKGxpbmVQb3NpdGlvbnMubGVuZ3RoLCAoaSkgPT5cbiAgICAgICAgc2VsZi52ZXJ0aWNhbCA/IGxpbmVQb3NpdGlvbnNbaV0gPCBlZGdlIDogbGluZVBvc2l0aW9uc1tpXSA+IGVkZ2UsXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEZpcnN0IGVkZ2UgYWZ0ZXIgdGhlIG9uZSB0aGF0IGJvdGggZml0cyBhbmQgc2F0aXNmaWVzIHdpZG93cyBjb25zdHJhaW50LlxuICAgIGxpbmVJbmRleCA9IE1hdGgubWluKGxpbmVQb3NpdGlvbnMubGVuZ3RoIC0gd2lkb3dzLCBsaW5lSW5kZXgpO1xuICAgIGlmIChsaW5lSW5kZXggPCBvcnBoYW5zKSB7XG4gICAgICAvLyBOb3QgZW5vdWdoIGxpbmVzIHRvIHNhdGlzZnkgb3JwaGFucyBjb25zdHJhaW50LCBjYW5ub3QgYnJlYWsgaGVyZS5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBlZGdlID0gbGluZVBvc2l0aW9uc1tsaW5lSW5kZXggLSAxXTtcbiAgICBsZXQgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgIGlmIChmb3JjZUN1dEJlZm9yZU92ZXJmbG93aW5nKSB7XG4gICAgICBub2RlQ29udGV4dCA9IGZpcnN0T3ZlcmZsb3dpbmcuY2hlY2tQb2ludDtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZUNvbnRleHQgPSB0aGlzLmZpbmRBY2NlcHRhYmxlQnJlYWtJbnNpZGUoYnAuY2hlY2tQb2ludHMsIGVkZ2UsIGZvcmNlKTtcbiAgICB9XG4gICAgaWYgKG5vZGVDb250ZXh0KSB7XG4gICAgICAvLyBXaGVuIGxpbmUtaGVpZ2h0IGlzIHNtYWxsLCB0aGUgZWRnZSBjYWxjdWxhdGVkIGFib3ZlICh1c2luZyBSYW5nZSlcbiAgICAgIC8vIGNhbiBiZSBsYXJnZXIgdGhhbiB0aGUgZWRnZSBvZiB0aGUgYmxvY2sgY29udGFpbmVyIGNvbnRhaW5pbmcgdGhlIHRleHQuXG4gICAgICAvLyBXZSB1cGRhdGUgdGhlIGVkZ2UgYnkgbWVhc3VyaW5nIHRoZSBibG9jayBlZGdlLlxuICAgICAgY29uc3QgYmxvY2tFZGdlID0gdGhpcy5nZXRBZnRlckVkZ2VPZkJsb2NrQ29udGFpbmVyKG5vZGVDb250ZXh0KTtcbiAgICAgIGlmICghaXNOYU4oYmxvY2tFZGdlKSAmJiBibG9ja0VkZ2UgPCBlZGdlKSB7XG4gICAgICAgIGVkZ2UgPSBibG9ja0VkZ2U7XG4gICAgICB9XG4gICAgICB0aGlzLmNvbXB1dGVkQmxvY2tTaXplID1cbiAgICAgICAgZGlyICogKGVkZ2UgLSB0aGlzLmJlZm9yZUVkZ2UpICsgcmVwZXRpdGl2ZUVsZW1lbnRzT2Zmc2V0O1xuICAgIH1cbiAgICByZXR1cm4gbm9kZUNvbnRleHQ7XG4gIH1cblxuICBnZXRBZnRlckVkZ2VPZkJsb2NrQ29udGFpbmVyKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IG51bWJlciB7XG4gICAgbGV0IGJsb2NrUGFyZW50ID0gbm9kZUNvbnRleHQ7XG4gICAgZG8ge1xuICAgICAgYmxvY2tQYXJlbnQgPSBibG9ja1BhcmVudC5wYXJlbnQ7XG4gICAgfSB3aGlsZSAoYmxvY2tQYXJlbnQgJiYgYmxvY2tQYXJlbnQuaW5saW5lKTtcbiAgICBpZiAoYmxvY2tQYXJlbnQpIHtcbiAgICAgIGJsb2NrUGFyZW50ID0gYmxvY2tQYXJlbnQuY29weSgpLm1vZGlmeSgpO1xuICAgICAgYmxvY2tQYXJlbnQuYWZ0ZXIgPSB0cnVlO1xuICAgICAgcmV0dXJuIExheW91dEhlbHBlci5jYWxjdWxhdGVFZGdlKFxuICAgICAgICBibG9ja1BhcmVudCxcbiAgICAgICAgdGhpcy5jbGllbnRMYXlvdXQsXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMudmVydGljYWwsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gTmFOO1xuICAgIH1cbiAgfVxuXG4gIGZpbmRGaXJzdE92ZXJmbG93aW5nRWRnZUFuZENoZWNrUG9pbnQoXG4gICAgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICk6IHsgZWRnZTogbnVtYmVyOyBjaGVja1BvaW50OiBWdHJlZS5Ob2RlQ29udGV4dCB8IG51bGwgfSB7XG4gICAgY29uc3QgaW5kZXggPSBjaGVja1BvaW50cy5maW5kSW5kZXgoKGNwKSA9PiBjcC5vdmVyZmxvdyk7XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgcmV0dXJuIHsgZWRnZTogTmFOLCBjaGVja1BvaW50OiBudWxsIH07XG4gICAgfVxuICAgIGNvbnN0IGNwID0gY2hlY2tQb2ludHNbaW5kZXhdO1xuICAgIHJldHVybiB7XG4gICAgICBlZGdlOiB0aGlzLmNhbGN1bGF0ZUVkZ2UobnVsbCwgY2hlY2tQb2ludHMsIGluZGV4LCBjcC5ib3hPZmZzZXQpLFxuICAgICAgY2hlY2tQb2ludDogY3AsXG4gICAgfTtcbiAgfVxuXG4gIGZpbmRFZGdlQnJlYWtQb3NpdGlvbihcbiAgICBicDogQnJlYWtQb3NpdGlvbi5FZGdlQnJlYWtQb3NpdGlvbixcbiAgKTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIHRoaXMuY29tcHV0ZWRCbG9ja1NpemUgPVxuICAgICAgYnAuY29tcHV0ZWRCbG9ja1NpemUgKyB0aGlzLmdldE9mZnNldEJ5UmVwZXRpdGl2ZUVsZW1lbnRzKGJwKTtcbiAgICByZXR1cm4gYnAucG9zaXRpb247XG4gIH1cblxuICAvKipcbiAgICogRmluYWxpemUgYSBsaW5lIGJyZWFrLlxuICAgKiBAcmV0dXJuIGhvbGluZyB0cnVlXG4gICAqL1xuICBmaW5pc2hCcmVhayhcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgZm9yY2VSZW1vdmVTZWxmOiBib29sZWFuLFxuICAgIGVuZE9mQ29sdW1uOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgQXNzZXJ0cy5hc3NlcnQobm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQpO1xuICAgIGNvbnN0IGxheW91dFByb2Nlc3NvciA9IG5ldyBMYXlvdXRQcm9jZXNzb3IuTGF5b3V0UHJvY2Vzc29yUmVzb2x2ZXIoKS5maW5kKFxuICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBsZXQgcmVzdWx0ID0gbGF5b3V0UHJvY2Vzc29yLmZpbmlzaEJyZWFrKFxuICAgICAgdGhpcyxcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgZm9yY2VSZW1vdmVTZWxmLFxuICAgICAgZW5kT2ZDb2x1bW4sXG4gICAgKTtcbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgcmVzdWx0ID0gTGF5b3V0UHJvY2Vzc29yLmJsb2NrTGF5b3V0UHJvY2Vzc29yLmZpbmlzaEJyZWFrKFxuICAgICAgICB0aGlzLFxuICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgZm9yY2VSZW1vdmVTZWxmLFxuICAgICAgICBlbmRPZkNvbHVtbixcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmaW5kQWNjZXB0YWJsZUJyZWFrUG9zaXRpb24oKTogQnJlYWtQb3NpdGlvbkFuZE5vZGVDb250ZXh0IHtcbiAgICBsZXQgYnA6IExheW91dC5CcmVha1Bvc2l0aW9uID0gbnVsbDtcbiAgICBsZXQgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0ID0gbnVsbDtcbiAgICBsZXQgcGVuYWx0eSA9IDA7XG4gICAgbGV0IG5leHRQZW5hbHR5ID0gMDtcbiAgICBkbyB7XG4gICAgICBwZW5hbHR5ID0gbmV4dFBlbmFsdHk7XG4gICAgICBuZXh0UGVuYWx0eSA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgaSA9IHRoaXMuYnJlYWtQb3NpdGlvbnMubGVuZ3RoIC0gMTtcbiAgICAgICAgaSA+PSAwICYmICFub2RlQ29udGV4dDtcbiAgICAgICAgLS1pXG4gICAgICApIHtcbiAgICAgICAgYnAgPSB0aGlzLmJyZWFrUG9zaXRpb25zW2ldO1xuICAgICAgICBub2RlQ29udGV4dCA9IGJwLmZpbmRBY2NlcHRhYmxlQnJlYWsodGhpcywgcGVuYWx0eSk7XG4gICAgICAgIGNvbnN0IG1pblBlbmFsdHkgPSBicC5nZXRNaW5CcmVha1BlbmFsdHkoKTtcbiAgICAgICAgaWYgKG1pblBlbmFsdHkgPiBwZW5hbHR5KSB7XG4gICAgICAgICAgbmV4dFBlbmFsdHkgPSBNYXRoLm1pbihuZXh0UGVuYWx0eSwgbWluUGVuYWx0eSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IHdoaWxlIChcbiAgICAgIC8vIERvbid0IG5lZWQgdG8gZmluZCBhIG5vbi1vcHRpbWFsIGJyZWFrIHBvc2l0aW9uIGlmXG4gICAgICAvLyBmb3JjZU5vbmZpdHRpbmc9ZmFsc2VcbiAgICAgIG5leHRQZW5hbHR5ID4gcGVuYWx0eSAmJlxuICAgICAgIW5vZGVDb250ZXh0ICYmXG4gICAgICB0aGlzLmZvcmNlTm9uZml0dGluZ1xuICAgICk7XG4gICAgcmV0dXJuIHsgYnJlYWtQb3NpdGlvbjogbm9kZUNvbnRleHQgPyBicCA6IG51bGwsIG5vZGVDb250ZXh0IH07XG4gIH1cblxuICBkb0ZpbmlzaEJyZWFrKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBvdmVyZmxvd25Ob2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgaW5pdGlhbE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBpbml0aWFsQ29tcHV0ZWRCbG9ja1NpemU6IG51bWJlcixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBpZiAoXG4gICAgICB0aGlzLnBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpIHx8XG4gICAgICB0aGlzLnBhZ2VCcmVha1R5cGUgfHxcbiAgICAgICFvdmVyZmxvd25Ob2RlQ29udGV4dFxuICAgICkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG5vZGVDb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+ID0gVGFzay5uZXdGcmFtZShcImRvRmluaXNoQnJlYWtcIik7XG4gICAgbGV0IGZvcmNlUmVtb3ZlU2VsZiA9IGZhbHNlO1xuICAgIGlmICghbm9kZUNvbnRleHQpIHtcbiAgICAgIC8vIExhc3QgcmVzb3J0XG4gICAgICBpZiAodGhpcy5mb3JjZU5vbmZpdHRpbmcpIHtcbiAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihcIkNvdWxkIG5vdCBmaW5kIGFueSBwYWdlIGJyZWFrcz8hIVwiKTtcbiAgICAgICAgc2VsZi5za2lwVGFpbEVkZ2VzKG92ZXJmbG93bk5vZGVDb250ZXh0KS50aGVuKChub2RlQ29udGV4dCkgPT4ge1xuICAgICAgICAgIGlmIChub2RlQ29udGV4dCkge1xuICAgICAgICAgICAgbm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5tb2RpZnkoKTtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0Lm92ZXJmbG93ID0gZmFsc2U7XG4gICAgICAgICAgICBzZWxmLmZpbmlzaEJyZWFrKG5vZGVDb250ZXh0LCBmb3JjZVJlbW92ZVNlbGYsIHRydWUpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBmcmFtZS5maW5pc2gobm9kZUNvbnRleHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZyYW1lLmZpbmlzaChub2RlQ29udGV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZUNvbnRleHQgPSBpbml0aWFsTm9kZUNvbnRleHQ7XG4gICAgICAgIGZvcmNlUmVtb3ZlU2VsZiA9IHRydWU7XG4gICAgICAgIHNlbGYuY29tcHV0ZWRCbG9ja1NpemUgPSBpbml0aWFsQ29tcHV0ZWRCbG9ja1NpemU7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZmluaXNoQnJlYWsobm9kZUNvbnRleHQsIGZvcmNlUmVtb3ZlU2VsZiwgdHJ1ZSkudGhlbigoKSA9PiB7XG4gICAgICBmcmFtZS5maW5pc2gobm9kZUNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIGEgcGFnZSBicmVhayBpcyBhY2NlcHRhYmxlIGF0IHRoaXMgcG9zaXRpb25cbiAgICovXG4gIGlzQnJlYWthYmxlKGZsb3dQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICBpZiAoZmxvd1Bvc2l0aW9uLmFmdGVyKSB7XG4gICAgICByZXR1cm4gdHJ1ZTsgLy8gbWF5IGJlIGFuIGVtcHR5IGJsb2NrXG4gICAgfVxuICAgIHN3aXRjaCAoZmxvd1Bvc2l0aW9uLnNvdXJjZU5vZGUubmFtZXNwYWNlVVJJKSB7XG4gICAgICBjYXNlIEJhc2UuTlMuU1ZHOlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAhZmxvd1Bvc2l0aW9uLmZsZXhDb250YWluZXI7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiBhbiBpbmRlbnQgdmFsdWUgaXMgemVyb1xuICAgKi9cbiAgemVyb0luZGVudCh2YWw6IHN0cmluZyB8IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHMgPSB2YWwudG9TdHJpbmcoKTtcbiAgICByZXR1cm4gcyA9PSBcIlwiIHx8IHMgPT0gXCJhdXRvXCIgfHwgISFzLm1hdGNoKC9eMCsoLjAqKT9bXjAtOV0vKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHRydWUgaWYgb3ZlcmZsb3dzXG4gICAqL1xuICBjaGVja092ZXJmbG93QW5kU2F2ZUVkZ2UoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHRyYWlsaW5nRWRnZUNvbnRleHRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICApOiBib29sZWFuIHtcbiAgICBpZiAoIW5vZGVDb250ZXh0KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChMYXlvdXRIZWxwZXIuaXNPcnBoYW4obm9kZUNvbnRleHQudmlld05vZGUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCBlZGdlID0gTGF5b3V0SGVscGVyLmNhbGN1bGF0ZUVkZ2UoXG4gICAgICBub2RlQ29udGV4dCxcbiAgICAgIHRoaXMuY2xpZW50TGF5b3V0LFxuICAgICAgMCxcbiAgICAgIHRoaXMudmVydGljYWwsXG4gICAgKTtcbiAgICBjb25zdCBvZmZzZXRzID0gQnJlYWtQb3NpdGlvbi5jYWxjdWxhdGVPZmZzZXQoXG4gICAgICBub2RlQ29udGV4dCxcbiAgICAgIHRoaXMuY29sbGVjdEVsZW1lbnRzT2Zmc2V0KCksXG4gICAgKTtcbiAgICBjb25zdCBvdmVyZmxvd24gPSB0aGlzLmlzT3ZlcmZsb3duKFxuICAgICAgZWRnZSArICh0aGlzLnZlcnRpY2FsID8gLTEgOiAxKSAqIG9mZnNldHMubWluaW11bSxcbiAgICApO1xuICAgIGlmIChcbiAgICAgIHRoaXMuaXNPdmVyZmxvd24oZWRnZSArICh0aGlzLnZlcnRpY2FsID8gLTEgOiAxKSAqIG9mZnNldHMuY3VycmVudCkgJiZcbiAgICAgICF0aGlzLm5vZGVDb250ZXh0T3ZlcmZsb3dpbmdEdWVUb1JlcGV0aXRpdmVFbGVtZW50c1xuICAgICkge1xuICAgICAgdGhpcy5ub2RlQ29udGV4dE92ZXJmbG93aW5nRHVlVG9SZXBldGl0aXZlRWxlbWVudHMgPSBub2RlQ29udGV4dDtcbiAgICB9IGVsc2UgaWYgKHRyYWlsaW5nRWRnZUNvbnRleHRzKSB7XG4gICAgICAvLyBJZiB0aGUgZWRnZSBkb2VzIG5vdCBvdmVyZmxvdyBhZGQgdGhlIHRyYWlsaW5nIG1hcmdpbiwgd2hpY2ggaXNcbiAgICAgIC8vIHRydW5jYXRlZCB0byB0aGUgcmVtYWluaW5nIGZyYWdtZW50YWluZXIgZXh0ZW50LlxuICAgICAgY29uc3QgbWFyZ2luRWRnZSA9XG4gICAgICAgIGVkZ2UgKyB0aGlzLmdldFRyYWlsaW5nTWFyZ2luRWRnZUFkanVzdG1lbnQodHJhaWxpbmdFZGdlQ29udGV4dHMpO1xuICAgICAgY29uc3QgZm9vdG5vdGVFZGdlID1cbiAgICAgICAgdGhpcy5mb290bm90ZUVkZ2UgLSB0aGlzLmdldEJveERpcigpICogb2Zmc2V0cy5jdXJyZW50O1xuICAgICAgZWRnZSA9IHRoaXMudmVydGljYWxcbiAgICAgICAgPyBNYXRoLm1pbihlZGdlLCBNYXRoLm1heChtYXJnaW5FZGdlLCBmb290bm90ZUVkZ2UpKVxuICAgICAgICA6IE1hdGgubWF4KGVkZ2UsIE1hdGgubWluKG1hcmdpbkVkZ2UsIGZvb3Rub3RlRWRnZSkpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZU1heFJlYWNoZWRBZnRlckVkZ2UoZWRnZSk7XG4gICAgcmV0dXJuIG92ZXJmbG93bjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlIGEgcG9zc2libGUgcGFnZSBicmVhayBwb3NpdGlvbiBvbiBhIENTUyBibG9jayBlZGdlLiBDaGVjayBpZiBpdFxuICAgKiBvdmVyZmxvd3MuXG4gICAqIEByZXR1cm4gdHJ1ZSBpZiBvdmVyZmxvd3NcbiAgICovXG4gIGNoZWNrT3ZlcmZsb3dBbmRTYXZlRWRnZUFuZEJyZWFrUG9zaXRpb24oXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHRyYWlsaW5nRWRnZUNvbnRleHRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgIHNhdmVFdmVuT3ZlcmZsb3duOiBib29sZWFuLFxuICAgIGJyZWFrQXRUaGVFZGdlOiBzdHJpbmcgfCBudWxsLFxuICApOiBib29sZWFuIHtcbiAgICBpZiAoIW5vZGVDb250ZXh0KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChMYXlvdXRIZWxwZXIuaXNPcnBoYW4obm9kZUNvbnRleHQudmlld05vZGUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IG92ZXJmbG93biA9IHRoaXMuY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlKFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICB0cmFpbGluZ0VkZ2VDb250ZXh0cyxcbiAgICApO1xuICAgIGlmIChzYXZlRXZlbk92ZXJmbG93biB8fCAhb3ZlcmZsb3duKSB7XG4gICAgICB0aGlzLnNhdmVFZGdlQnJlYWtQb3NpdGlvbihub2RlQ29udGV4dCwgYnJlYWtBdFRoZUVkZ2UsIG92ZXJmbG93bik7XG4gICAgfVxuICAgIHJldHVybiBvdmVyZmxvd247XG4gIH1cblxuICBhcHBseUNsZWFyYW5jZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICBpZiAoIW5vZGVDb250ZXh0LnZpZXdOb2RlLnBhcmVudE5vZGUpIHtcbiAgICAgIC8vIENhbm5vdCBkbyBjZXJhbGFuY2UgZm9yIG5vZGVzIHdpdGhvdXQgcGFyZW50c1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIG1lYXN1cmUgd2hlcmUgdGhlIGVkZ2Ugb2YgdGhlIGVsZW1lbnQgd291bGQgYmUgd2l0aG91dCBjbGVhcmFuY2VcbiAgICBjb25zdCBtYXJnaW4gPSB0aGlzLmdldENvbXB1dGVkTWFyZ2luKG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQpO1xuICAgIGNvbnN0IHNwYWNlciA9IG5vZGVDb250ZXh0LnZpZXdOb2RlLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgc3BhY2VyLnN0eWxlLmJvdHRvbSA9IFwiMHB4XCI7XG4gICAgICBzcGFjZXIuc3R5bGUud2lkdGggPSBcIjFweFwiO1xuICAgICAgc3BhY2VyLnN0eWxlLm1hcmdpblJpZ2h0ID0gYCR7bWFyZ2luLnJpZ2h0fXB4YDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3BhY2VyLnN0eWxlLnJpZ2h0ID0gXCIwcHhcIjtcbiAgICAgIHNwYWNlci5zdHlsZS5oZWlnaHQgPSBcIjFweFwiO1xuICAgICAgc3BhY2VyLnN0eWxlLm1hcmdpblRvcCA9IGAke21hcmdpbi50b3B9cHhgO1xuICAgIH1cbiAgICBub2RlQ29udGV4dC52aWV3Tm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzcGFjZXIsIG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICBsZXQgc3BhY2VyQm94ID0gdGhpcy5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3Qoc3BhY2VyKTtcbiAgICBjb25zdCBlZGdlID0gdGhpcy5nZXRCZWZvcmVFZGdlKHNwYWNlckJveCk7XG4gICAgY29uc3QgZGlyID0gdGhpcy5nZXRCb3hEaXIoKTtcbiAgICBjb25zdCBjbGVhciA9IG5vZGVDb250ZXh0LmNsZWFyU2lkZTtcbiAgICBsZXQgY2xlYXJFZGdlID0gLXRoaXMuZ2V0Qm94RGlyKCkgKiBJbmZpbml0eTtcbiAgICBpZiAoY2xlYXIgPT09IFwiYWxsXCIpIHtcbiAgICAgIGNsZWFyRWRnZSA9IHRoaXMucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5nZXRQYWdlRmxvYXRDbGVhckVkZ2UoXG4gICAgICAgIGNsZWFyLFxuICAgICAgICB0aGlzLFxuICAgICAgKTtcbiAgICB9XG4gICAgc3dpdGNoIChjbGVhcikge1xuICAgICAgY2FzZSBcImxlZnRcIjpcbiAgICAgICAgY2xlYXJFZGdlID0gZGlyICogTWF0aC5tYXgoY2xlYXJFZGdlICogZGlyLCB0aGlzLmxlZnRGbG9hdEVkZ2UgKiBkaXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICBjbGVhckVkZ2UgPSBkaXIgKiBNYXRoLm1heChjbGVhckVkZ2UgKiBkaXIsIHRoaXMucmlnaHRGbG9hdEVkZ2UgKiBkaXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNsZWFyRWRnZSA9XG4gICAgICAgICAgZGlyICpcbiAgICAgICAgICBNYXRoLm1heChcbiAgICAgICAgICAgIGNsZWFyRWRnZSAqIGRpcixcbiAgICAgICAgICAgIE1hdGgubWF4KHRoaXMucmlnaHRGbG9hdEVkZ2UgKiBkaXIsIHRoaXMubGVmdEZsb2F0RWRnZSAqIGRpciksXG4gICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBlZGdlIGhvbGRzIHRoZSBwb3NpdGlvbiB3aGVyZSBlbGVtZW50IGJvcmRlciBcImJlZm9yZVwiIGVkZ2Ugd2lsbCBiZVxuICAgIC8vIHdpdGhvdXQgY2xlYXJhbmNlLiBjbGVhckVkZ2UgaXMgdGhlIFwiYWZ0ZXJcIiBlZGdlIG9mIHRoZSBmbG9hdCB0byBjbGVhci5cbiAgICBpZiAoZWRnZSAqIGRpciA+PSBjbGVhckVkZ2UgKiBkaXIpIHtcbiAgICAgIC8vIE5vIG5lZWQgZm9yIGNsZWFyYW5jZVxuICAgICAgbm9kZUNvbnRleHQudmlld05vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzcGFjZXIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBOZWVkIHNvbWUgY2xlYXJhbmNlLCBkZXRlcm1pbmUgaG93IG11Y2guIEFkZCB0aGUgY2xlYXJhbmNlIG5vZGUsXG4gICAgICAvLyBtZWFzdXJlIGl0cyBhZnRlciBlZGdlIGFuZCBhZGp1c3QgYWZ0ZXIgbWFyZ2luIChyZXF1aXJlZCBkdWUgdG9cbiAgICAgIC8vIHBvc3NpYmxlIG1hcmdpbiBjb2xsYXBzZSBiZWZvcmUgY2xlYXJhbmNlIHdhcyBpbnRyb2R1Y2VkKS5cbiAgICAgIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KDEsIChjbGVhckVkZ2UgLSBlZGdlKSAqIGRpcik7XG4gICAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICBzcGFjZXIuc3R5bGUud2lkdGggPSBgJHtoZWlnaHR9cHhgO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3BhY2VyLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7XG4gICAgICB9XG4gICAgICBzcGFjZXJCb3ggPSB0aGlzLmNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChzcGFjZXIpO1xuICAgICAgY29uc3QgYWZ0ZXJFZGdlID0gdGhpcy5nZXRBZnRlckVkZ2Uoc3BhY2VyQm94KTtcbiAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIGxldCB3QWRqID0gYWZ0ZXJFZGdlICsgbWFyZ2luLnJpZ2h0IC0gY2xlYXJFZGdlO1xuICAgICAgICBpZiAod0FkaiA+IDAgPT0gbWFyZ2luLnJpZ2h0ID49IDApIHtcbiAgICAgICAgICAvLyBJbiBhZGRpdGlvbiB0byBjb2xsYXBzZWQgcG9ydGlvblxuICAgICAgICAgIHdBZGogKz0gbWFyZ2luLnJpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHNwYWNlci5zdHlsZS5tYXJnaW5MZWZ0ID0gYCR7d0Fkan1weGA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgaEFkaiA9IGNsZWFyRWRnZSAtIChhZnRlckVkZ2UgKyBtYXJnaW4udG9wKTtcbiAgICAgICAgaWYgKGhBZGogPiAwID09IG1hcmdpbi50b3AgPj0gMCkge1xuICAgICAgICAgIC8vIEluIGFkZGl0aW9uIHRvIGNvbGxhcHNlZCBwb3J0aW9uXG4gICAgICAgICAgaEFkaiArPSBtYXJnaW4udG9wO1xuICAgICAgICB9XG4gICAgICAgIHNwYWNlci5zdHlsZS5tYXJnaW5Cb3R0b20gPSBgJHtoQWRqfXB4YDtcbiAgICAgIH1cbiAgICAgIG5vZGVDb250ZXh0LmNsZWFyU3BhY2VyID0gc3BhY2VyO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgaXNCRkMoZm9ybWF0dGluZ0NvbnRleHQ6IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgaWYgKExheW91dFByb2Nlc3Nvci5pc0luc3RhbmNlT2ZCbG9ja0Zvcm1hdHRpbmdDb250ZXh0KGZvcm1hdHRpbmdDb250ZXh0KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIFJlcGV0aXRpdmVFbGVtZW50LmlzSW5zdGFuY2VPZlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgKVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTa2lwcyBwb3NpdGlvbnMgdW50aWwgZWl0aGVyIHRoZSBzdGFydCBvZiB1bmJyZWFrYWJsZSBibG9jayBvciBpbmxpbmVcbiAgICogY29udGVudC4gQWxzbyBzZXRzIGJyZWFrQmVmb3JlIG9uIHRoZSByZXN1bHQgY29tYmluaW5nIGJyZWFrLWJlZm9yZSBhbmRcbiAgICogYnJlYWstYWZ0ZXIgcHJvcGVydGllcyBmcm9tIGFsbCBlbGVtZW50cyB0aGF0IG1lZXQgYXQgdGhlIGVkZ2UuXG4gICAqL1xuICBza2lwRWRnZXMoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGxlYWRpbmdFZGdlOiBib29sZWFuLFxuICAgIGZvcmNlZEJyZWFrVmFsdWU6IHN0cmluZyB8IG51bGwsXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3QgZmMgPSBub2RlQ29udGV4dC5hZnRlclxuICAgICAgPyBub2RlQ29udGV4dC5wYXJlbnQgJiYgbm9kZUNvbnRleHQucGFyZW50LmZvcm1hdHRpbmdDb250ZXh0XG4gICAgICA6IG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0O1xuICAgIGlmIChmYyAmJiAhdGhpcy5pc0JGQyhmYykpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChub2RlQ29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PiA9IFRhc2submV3RnJhbWUoXCJza2lwRWRnZXNcIik7XG5cbiAgICAvLyBJZiBhIGZvcmNlZCBicmVhayBvY2N1cnJlZCBhdCB0aGUgZW5kIG9mIHRoZSBwcmV2aW91cyBjb2x1bW4sXG4gICAgLy8gbm9kZUNvbnRleHQuYWZ0ZXIgc2hvdWxkIGJlIGZhbHNlLlxuICAgIGxldCBhdFVuZm9yY2VkQnJlYWsgPVxuICAgICAgIWZvcmNlZEJyZWFrVmFsdWUgJiYgbGVhZGluZ0VkZ2UgJiYgbm9kZUNvbnRleHQgJiYgbm9kZUNvbnRleHQuYWZ0ZXI7XG4gICAgbGV0IGJyZWFrQXRUaGVFZGdlID0gZm9yY2VkQnJlYWtWYWx1ZTtcbiAgICBsZXQgbGFzdEFmdGVyTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0ID0gbnVsbDtcbiAgICBsZXQgbGVhZGluZ0VkZ2VDb250ZXh0czogVnRyZWUuTm9kZUNvbnRleHRbXSA9IFtdO1xuICAgIGxldCB0cmFpbGluZ0VkZ2VDb250ZXh0czogVnRyZWUuTm9kZUNvbnRleHRbXSA9IFtdO1xuICAgIGxldCBvblN0YXJ0RWRnZXMgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIG5lZWRGb3JjZWRCcmVhaygpIHtcbiAgICAgIC8vIGxlYWRpbmdFZGdlPXRydWUgbWVhbnMgdGhhdCB3ZSBhcmUgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgbmV3IGNvbHVtblxuICAgICAgLy8gYW5kIGhlbmNlIG11c3QgYXZvaWQgYSBicmVhayAoT3RoZXJ3aXNlIGxlYWRpbmcgdG8gYW4gaW5maW5pdGUgbG9vcClcbiAgICAgIHJldHVybiAoXG4gICAgICAgICEhZm9yY2VkQnJlYWtWYWx1ZSB8fFxuICAgICAgICAoIWxlYWRpbmdFZGdlICYmIEJyZWFrLmlzRm9yY2VkQnJlYWtWYWx1ZShicmVha0F0VGhlRWRnZSkpXG4gICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NGb3JjZWRCcmVhaygpIHtcbiAgICAgIG5vZGVDb250ZXh0ID0gbGVhZGluZ0VkZ2VDb250ZXh0c1swXSB8fCBub2RlQ29udGV4dDtcbiAgICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZUNvbnRleHQudmlld05vZGUpO1xuICAgICAgc2VsZi5wYWdlQnJlYWtUeXBlID0gYnJlYWtBdFRoZUVkZ2U7XG4gICAgfVxuICAgIGZyYW1lXG4gICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgIHdoaWxlIChub2RlQ29udGV4dCkge1xuICAgICAgICAgIEFzc2VydHMuYXNzZXJ0KG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0KTtcbiAgICAgICAgICBjb25zdCBsYXlvdXRQcm9jZXNzb3IgPSBuZXcgTGF5b3V0UHJvY2Vzc29yLkxheW91dFByb2Nlc3NvclJlc29sdmVyKCkuZmluZChcbiAgICAgICAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyBBIGNvZGUgYmxvY2sgdG8gYmUgYWJsZSB0byB1c2UgYnJlYWsuIEJyZWFrIG1vdmVzIHRvIHRoZSBuZXh0XG4gICAgICAgICAgLy8gbm9kZSBwb3NpdGlvbi5cbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoIW5vZGVDb250ZXh0LnZpZXdOb2RlKSB7XG4gICAgICAgICAgICAgIC8vIE5vbi1kaXNwbGF5YWJsZSBjb250ZW50LCBza2lwXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGVDb250ZXh0LmlubGluZSAmJiBub2RlQ29udGV4dC52aWV3Tm9kZS5ub2RlVHlwZSAhPSAxKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBWdHJlZUltcGwuY2FuSWdub3JlKFxuICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHQudmlld05vZGUsXG4gICAgICAgICAgICAgICAgICBub2RlQ29udGV4dC53aGl0ZXNwYWNlLFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gSWdub3JhYmxlIHRleHQgY29udGVudCwgc2tpcFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICghbm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBMZWFkaW5nIGVkZ2Ugb2Ygbm9uLWVtcHR5IGJsb2NrIC0+IGZpbmlzaGVkIGdvaW5nIHRocm91Z2hcbiAgICAgICAgICAgICAgICAvLyBhbGwgc3RhcnRpbmcgZWRnZXMgb2YgdGhlIGJveFxuICAgICAgICAgICAgICAgIGlmIChuZWVkRm9yY2VkQnJlYWsoKSkge1xuICAgICAgICAgICAgICAgICAgcHJvY2Vzc0ZvcmNlZEJyZWFrKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgIHNlbGYuY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlQW5kQnJlYWtQb3NpdGlvbihcbiAgICAgICAgICAgICAgICAgICAgbGFzdEFmdGVyTm9kZUNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlLFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHQgPSAoc2VsZi5zdG9wQXRPdmVyZmxvd1xuICAgICAgICAgICAgICAgICAgICA/IGxhc3RBZnRlck5vZGVDb250ZXh0IHx8IG5vZGVDb250ZXh0XG4gICAgICAgICAgICAgICAgICAgIDogbm9kZUNvbnRleHRcbiAgICAgICAgICAgICAgICAgICkubW9kaWZ5KCk7XG4gICAgICAgICAgICAgICAgICBub2RlQ29udGV4dC5vdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQubW9kaWZ5KCk7XG4gICAgICAgICAgICAgICAgICBub2RlQ29udGV4dC5icmVha0JlZm9yZSA9IGJyZWFrQXRUaGVFZGdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICAgICAgICAgIGlmIChsYXlvdXRQcm9jZXNzb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAobGF5b3V0UHJvY2Vzc29yLnN0YXJ0Tm9uSW5saW5lRWxlbWVudE5vZGUobm9kZUNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKG5vZGVDb250ZXh0LmNsZWFyU2lkZSkge1xuICAgICAgICAgICAgICAgIC8vIGNsZWFyXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgc2VsZi5hcHBseUNsZWFyYW5jZShub2RlQ29udGV4dCkgJiZcbiAgICAgICAgICAgICAgICAgIGxlYWRpbmdFZGdlICYmXG4gICAgICAgICAgICAgICAgICBzZWxmLmJyZWFrUG9zaXRpb25zLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgc2VsZi5zYXZlRWRnZUJyZWFrUG9zaXRpb24oXG4gICAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LmNvcHkoKSxcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFzZWxmLmlzQkZDKG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0KSB8fFxuICAgICAgICAgICAgICAgIFJlcGV0aXRpdmVFbGVtZW50LmlzSW5zdGFuY2VPZlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICAgICAgICAgICAgICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgICAgICAgICAgICApIHx8XG4gICAgICAgICAgICAgICAgc2VsZi5pc0Zsb2F0Tm9kZUNvbnRleHQobm9kZUNvbnRleHQpIHx8XG4gICAgICAgICAgICAgICAgbm9kZUNvbnRleHQuZmxleENvbnRhaW5lclxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBuZXcgZm9ybWF0dGluZyBjb250ZXh0LCBvciBmbG9hdCBvciBmbGV4IGNvbnRhaW5lclxuICAgICAgICAgICAgICAgIC8vICh1bmJyZWFrYWJsZSlcbiAgICAgICAgICAgICAgICBsZWFkaW5nRWRnZUNvbnRleHRzLnB1c2gobm9kZUNvbnRleHQuY29weSgpKTtcbiAgICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSA9IEJyZWFrLnJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlKFxuICAgICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICAgICAgICAgICBub2RlQ29udGV4dC5icmVha0JlZm9yZSxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgYSBmb3JjZWQgYnJlYWsgbXVzdCBvY2N1ciBiZWZvcmUgdGhlIGJsb2NrLlxuICAgICAgICAgICAgICAgIGlmIChuZWVkRm9yY2VkQnJlYWsoKSkge1xuICAgICAgICAgICAgICAgICAgcHJvY2Vzc0ZvcmNlZEJyZWFrKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgIHNlbGYuY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlQW5kQnJlYWtQb3NpdGlvbihcbiAgICAgICAgICAgICAgICAgICAgbGFzdEFmdGVyTm9kZUNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlLFxuICAgICAgICAgICAgICAgICAgKSB8fFxuICAgICAgICAgICAgICAgICAgIXNlbGYubGF5b3V0Q29uc3RyYWludC5hbGxvd0xheW91dChub2RlQ29udGV4dClcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIC8vIG92ZXJmbG93XG4gICAgICAgICAgICAgICAgICBub2RlQ29udGV4dCA9IChzZWxmLnN0b3BBdE92ZXJmbG93XG4gICAgICAgICAgICAgICAgICAgID8gbGFzdEFmdGVyTm9kZUNvbnRleHQgfHwgbm9kZUNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgOiBub2RlQ29udGV4dFxuICAgICAgICAgICAgICAgICAgKS5tb2RpZnkoKTtcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0Lm92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGVDb250ZXh0LnZpZXdOb2RlLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgICAgICAgLy8gbm90IGFuIGVsZW1lbnRcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzdHlsZSA9IChub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBIVE1MRWxlbWVudCkuc3R5bGU7XG4gICAgICAgICAgICBpZiAobm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgLy8gU2tpcCBhbiBlbXB0eSBpbmxpbmUgYm94IGF0IHRoZSBzdGFydCBvZiBhIGJsb2NrXG4gICAgICAgICAgICAgIC8vIChBbiBhbm9ueW1vdXMgYmxvY2sgY29uc2lzdGluZyBlbnRpcmVseSBvZlxuICAgICAgICAgICAgICAvLyBjb2xsYXBzaWJsZSB3aGl0ZSBzcGFjZSBpcyByZW1vdmVkIGZyb20gdGhlIHJlbmRlcmluZyB0cmVlKVxuICAgICAgICAgICAgICBpZiAobm9kZUNvbnRleHQuaW5saW5lKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGxheW91dFByb2Nlc3Nvcikge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIGxheW91dFByb2Nlc3Nvci5hZnRlck5vbklubGluZUVsZW1lbnROb2RlKFxuICAgICAgICAgICAgICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdG9wQXRPdmVyZmxvdyxcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIFRyYWlsaW5nIGVkZ2VcbiAgICAgICAgICAgICAgaWYgKG9uU3RhcnRFZGdlcykge1xuICAgICAgICAgICAgICAgIC8vIGZpbmlzaGVkIGdvaW5nIHRocm91Z2ggYWxsIHN0YXJ0aW5nIGVkZ2VzIG9mIHRoZSBib3guXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgYSBmb3JjZWQgYnJlYWsgbXVzdCBvY2N1ciBiZWZvcmUgdGhlIGJsb2NrLlxuICAgICAgICAgICAgICAgIGlmIChuZWVkRm9yY2VkQnJlYWsoKSkge1xuICAgICAgICAgICAgICAgICAgcHJvY2Vzc0ZvcmNlZEJyZWFrKCk7XG4gICAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gc2luY2UgYSBicmVhayBkaWQgbm90IG9jY3VyLCBtb3ZlIHRvIHRoZSBuZXh0IGVkZ2UuIHRoaXNcbiAgICAgICAgICAgICAgICAvLyBlZGdlIGlzIG5vIGxvbmdlciB0aGUgbGVhZGluZyBlZGdlLlxuICAgICAgICAgICAgICAgIGxlYWRpbmdFZGdlQ29udGV4dHMgPSBbXTtcbiAgICAgICAgICAgICAgICBsZWFkaW5nRWRnZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGF0VW5mb3JjZWRCcmVhayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvblN0YXJ0RWRnZXMgPSBmYWxzZTsgLy8gd2UgYXJlIG5vdyBvbiBlbmQgZWRnZXMuXG4gICAgICAgICAgICAgIGxhc3RBZnRlck5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQuY29weSgpO1xuICAgICAgICAgICAgICB0cmFpbGluZ0VkZ2VDb250ZXh0cy5wdXNoKGxhc3RBZnRlck5vZGVDb250ZXh0KTtcbiAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UgPSBCcmVhay5yZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZShcbiAgICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSxcbiAgICAgICAgICAgICAgICBub2RlQ29udGV4dC5icmVha0FmdGVyLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc3R5bGUgJiZcbiAgICAgICAgICAgICAgICAhKFxuICAgICAgICAgICAgICAgICAgc2VsZi56ZXJvSW5kZW50KHN0eWxlLnBhZGRpbmdCb3R0b20pICYmXG4gICAgICAgICAgICAgICAgICBzZWxmLnplcm9JbmRlbnQoc3R5bGUuYm9yZGVyQm90dG9tV2lkdGgpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBOb24temVybyB0cmFpbGluZyBpbnNldC5cbiAgICAgICAgICAgICAgICAvLyBNYXJnaW5zIGRvbid0IGNvbGxhcHNlIGFjcm9zcyBub24temVybyBib3JkZXJzIGFuZFxuICAgICAgICAgICAgICAgIC8vIHBhZGRpbmdzLlxuICAgICAgICAgICAgICAgIHRyYWlsaW5nRWRnZUNvbnRleHRzID0gW2xhc3RBZnRlck5vZGVDb250ZXh0XTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gTGVhZGluZyBlZGdlXG4gICAgICAgICAgICAgIGxlYWRpbmdFZGdlQ29udGV4dHMucHVzaChub2RlQ29udGV4dC5jb3B5KCkpO1xuICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSA9IEJyZWFrLnJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlKFxuICAgICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlLFxuICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LmJyZWFrQmVmb3JlLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBpZiAoIXNlbGYubGF5b3V0Q29uc3RyYWludC5hbGxvd0xheW91dChub2RlQ29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmNoZWNrT3ZlcmZsb3dBbmRTYXZlRWRnZUFuZEJyZWFrUG9zaXRpb24oXG4gICAgICAgICAgICAgICAgICBsYXN0QWZ0ZXJOb2RlQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAhc2VsZi5zdG9wQXRPdmVyZmxvdyxcbiAgICAgICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgbm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5tb2RpZnkoKTtcbiAgICAgICAgICAgICAgICBub2RlQ29udGV4dC5vdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuc3RvcEF0T3ZlcmZsb3cpIHtcbiAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3Qgdmlld1RhZyA9IChub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50KS5sb2NhbE5hbWU7XG4gICAgICAgICAgICAgIGlmIChtZWRpYVRhZ3Nbdmlld1RhZ10pIHtcbiAgICAgICAgICAgICAgICAvLyBlbGVtZW50cyB0aGF0IGhhdmUgaW5oZXJlbnQgY29udGVudFxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGEgZm9yY2VkIGJyZWFrIG11c3Qgb2NjdXIgYmVmb3JlIHRoZSBibG9jay5cbiAgICAgICAgICAgICAgICBpZiAobmVlZEZvcmNlZEJyZWFrKCkpIHtcbiAgICAgICAgICAgICAgICAgIHByb2Nlc3NGb3JjZWRCcmVhaygpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICBzZWxmLmNoZWNrT3ZlcmZsb3dBbmRTYXZlRWRnZUFuZEJyZWFrUG9zaXRpb24oXG4gICAgICAgICAgICAgICAgICAgIGxhc3RBZnRlck5vZGVDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSxcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIC8vIG92ZXJmbG93XG4gICAgICAgICAgICAgICAgICBub2RlQ29udGV4dCA9IChzZWxmLnN0b3BBdE92ZXJmbG93XG4gICAgICAgICAgICAgICAgICAgID8gbGFzdEFmdGVyTm9kZUNvbnRleHQgfHwgbm9kZUNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgOiBub2RlQ29udGV4dFxuICAgICAgICAgICAgICAgICAgKS5tb2RpZnkoKTtcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0Lm92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc3R5bGUgJiZcbiAgICAgICAgICAgICAgICAhKFxuICAgICAgICAgICAgICAgICAgc2VsZi56ZXJvSW5kZW50KHN0eWxlLnBhZGRpbmdUb3ApICYmXG4gICAgICAgICAgICAgICAgICBzZWxmLnplcm9JbmRlbnQoc3R5bGUuYm9yZGVyVG9wV2lkdGgpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBOb24temVybyBsZWFkaW5nIGluc2V0XG4gICAgICAgICAgICAgICAgYXRVbmZvcmNlZEJyZWFrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdHJhaWxpbmdFZGdlQ29udGV4dHMgPSBbXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvblN0YXJ0RWRnZXMgPSB0cnVlOyAvLyB3ZSBhcmUgbm93IG9uIHN0YXJ0aW5nIGVkZ2VzLlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gd2hpbGUgKGZhbHNlKTsgLy8gRW5kIG9mIGJsb2NrIG9mIGNvZGUgdG8gdXNlIGJyZWFrXG5cbiAgICAgICAgICBjb25zdCBuZXh0UmVzdWx0ID0gc2VsZi5uZXh0SW5UcmVlKG5vZGVDb250ZXh0LCBhdFVuZm9yY2VkQnJlYWspO1xuICAgICAgICAgIGlmIChuZXh0UmVzdWx0LmlzUGVuZGluZygpKSB7XG4gICAgICAgICAgICBuZXh0UmVzdWx0LnRoZW4oKG5vZGVDb250ZXh0UGFyYW0pID0+IHtcbiAgICAgICAgICAgICAgbm9kZUNvbnRleHQgPSBub2RlQ29udGV4dFBhcmFtO1xuICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm9kZUNvbnRleHQgPSBuZXh0UmVzdWx0LmdldCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBzZWxmLmNoZWNrT3ZlcmZsb3dBbmRTYXZlRWRnZUFuZEJyZWFrUG9zaXRpb24oXG4gICAgICAgICAgICBsYXN0QWZ0ZXJOb2RlQ29udGV4dCxcbiAgICAgICAgICAgIHRyYWlsaW5nRWRnZUNvbnRleHRzLFxuICAgICAgICAgICAgIXNlbGYuc3RvcEF0T3ZlcmZsb3csXG4gICAgICAgICAgICBicmVha0F0VGhlRWRnZSxcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChsYXN0QWZ0ZXJOb2RlQ29udGV4dCAmJiBzZWxmLnN0b3BBdE92ZXJmbG93KSB7XG4gICAgICAgICAgICBub2RlQ29udGV4dCA9IGxhc3RBZnRlck5vZGVDb250ZXh0Lm1vZGlmeSgpO1xuICAgICAgICAgICAgbm9kZUNvbnRleHQub3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPOiB3aGF0IHRvIHJldHVybiBoZXJlPz9cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoQnJlYWsuaXNGb3JjZWRCcmVha1ZhbHVlKGJyZWFrQXRUaGVFZGdlKSkge1xuICAgICAgICAgIHNlbGYucGFnZUJyZWFrVHlwZSA9IGJyZWFrQXRUaGVFZGdlO1xuICAgICAgICB9XG4gICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGlmIChsYXN0QWZ0ZXJOb2RlQ29udGV4dCkge1xuICAgICAgICAgIHNlbGYubGFzdEFmdGVyUG9zaXRpb24gPSBsYXN0QWZ0ZXJOb2RlQ29udGV4dC50b05vZGVQb3NpdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGZyYW1lLmZpbmlzaChub2RlQ29udGV4dCk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogU2tpcHMgbm9uLXJlbmRlcmFibGUgcG9zaXRpb25zIHVudGlsIGl0IGhpdHMgdGhlIGVuZCBvZiB0aGUgZmxvdyBvciBzb21lXG4gICAqIHJlbmRlcmFibGUgY29udGVudC4gUmV0dXJucyB0aGUgbm9kZUNvbnRleHQgdGhhdCB3YXMgcGFzc2VkIGluIGlmIHNvbWVcbiAgICogY29udGVudCByZW1haW5zIGFuZCBudWxsIGlmIGFsbCBjb250ZW50IGNvdWxkIGJlIHNraXBwZWQuXG4gICAqL1xuICBza2lwVGFpbEVkZ2VzKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBsZXQgcmVzdWx0Tm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5jb3B5KCk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+ID0gVGFzay5uZXdGcmFtZShcInNraXBFZGdlc1wiKTtcbiAgICBsZXQgYnJlYWtBdFRoZUVkZ2U6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgIGxldCBvblN0YXJ0RWRnZXMgPSBmYWxzZTtcbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICB3aGlsZSAobm9kZUNvbnRleHQpIHtcbiAgICAgICAgICAvLyBBIGNvZGUgYmxvY2sgdG8gYmUgYWJsZSB0byB1c2UgYnJlYWsuIEJyZWFrIG1vdmVzIHRvIHRoZSBuZXh0XG4gICAgICAgICAgLy8gbm9kZSBwb3NpdGlvbi5cbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoIW5vZGVDb250ZXh0LnZpZXdOb2RlKSB7XG4gICAgICAgICAgICAgIC8vIE5vbi1kaXNwbGF5YWJsZSBjb250ZW50LCBza2lwXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGVDb250ZXh0LmlubGluZSAmJiBub2RlQ29udGV4dC52aWV3Tm9kZS5ub2RlVHlwZSAhPSAxKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBWdHJlZUltcGwuY2FuSWdub3JlKFxuICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHQudmlld05vZGUsXG4gICAgICAgICAgICAgICAgICBub2RlQ29udGV4dC53aGl0ZXNwYWNlLFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gSWdub3JhYmxlIHRleHQgY29udGVudCwgc2tpcFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICghbm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBMZWFkaW5nIGVkZ2Ugb2Ygbm9uLWVtcHR5IGJsb2NrIC0+IGZpbmlzaGVkIGdvaW5nIHRocm91Z2hcbiAgICAgICAgICAgICAgICAvLyBhbGwgc3RhcnRpbmcgZWRnZXMgb2YgdGhlIGJveFxuICAgICAgICAgICAgICAgIGlmIChCcmVhay5pc0ZvcmNlZEJyZWFrVmFsdWUoYnJlYWtBdFRoZUVkZ2UpKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLnBhZ2VCcmVha1R5cGUgPSBicmVha0F0VGhlRWRnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc2VsZi5pc0Zsb2F0Tm9kZUNvbnRleHQobm9kZUNvbnRleHQpIHx8XG4gICAgICAgICAgICAgICAgbm9kZUNvbnRleHQuZmxleENvbnRhaW5lclxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBmbG9hdCBvciBmbGV4IGNvbnRhaW5lciAodW5icmVha2FibGUpXG4gICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UgPSBCcmVhay5yZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZShcbiAgICAgICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlLFxuICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHQuYnJlYWtCZWZvcmUsXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGEgZm9yY2VkIGJyZWFrIG11c3Qgb2NjdXIgYmVmb3JlIHRoZSBibG9jay5cbiAgICAgICAgICAgICAgICBpZiAoQnJlYWsuaXNGb3JjZWRCcmVha1ZhbHVlKGJyZWFrQXRUaGVFZGdlKSkge1xuICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlQnJlYWtUeXBlID0gYnJlYWtBdFRoZUVkZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlQ29udGV4dC52aWV3Tm9kZS5ub2RlVHlwZSAhPSAxKSB7XG4gICAgICAgICAgICAgIC8vIG5vdCBhbiBlbGVtZW50XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSAobm9kZUNvbnRleHQudmlld05vZGUgYXMgSFRNTEVsZW1lbnQpLnN0eWxlO1xuICAgICAgICAgICAgaWYgKG5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICAgICAgICAgIC8vIFRyYWlsaW5nIGVkZ2VcbiAgICAgICAgICAgICAgaWYgKG9uU3RhcnRFZGdlcykge1xuICAgICAgICAgICAgICAgIC8vIGZpbmlzaGVkIGdvaW5nIHRocm91Z2ggYWxsIHN0YXJ0aW5nIGVkZ2VzIG9mIHRoZSBib3guXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgYSBmb3JjZWQgYnJlYWsgbXVzdCBvY2N1ciBiZWZvcmUgdGhlIGJsb2NrLlxuICAgICAgICAgICAgICAgIGlmIChCcmVhay5pc0ZvcmNlZEJyZWFrVmFsdWUoYnJlYWtBdFRoZUVkZ2UpKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLnBhZ2VCcmVha1R5cGUgPSBicmVha0F0VGhlRWRnZTtcbiAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBzaW5jZSBhIGJyZWFrIGRpZCBub3Qgb2NjdXIsIG1vdmUgdG8gdGhlIG5leHQgZWRnZS5cbiAgICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSA9IG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb25TdGFydEVkZ2VzID0gZmFsc2U7IC8vIHdlIGFyZSBub3cgb24gZW5kIGVkZ2VzLlxuICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSA9IEJyZWFrLnJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlKFxuICAgICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlLFxuICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LmJyZWFrQWZ0ZXIsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBMZWFkaW5nIGVkZ2VcbiAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UgPSBCcmVhay5yZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZShcbiAgICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSxcbiAgICAgICAgICAgICAgICBub2RlQ29udGV4dC5icmVha0JlZm9yZSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY29uc3Qgdmlld1RhZyA9IChub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50KS5sb2NhbE5hbWU7XG4gICAgICAgICAgICAgIGlmIChtZWRpYVRhZ3Nbdmlld1RhZ10pIHtcbiAgICAgICAgICAgICAgICAvLyBlbGVtZW50cyB0aGF0IGhhdmUgaW5oZXJlbnQgY29udGVudFxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGEgZm9yY2VkIGJyZWFrIG11c3Qgb2NjdXIgYmVmb3JlIHRoZSBibG9jay5cbiAgICAgICAgICAgICAgICBpZiAoQnJlYWsuaXNGb3JjZWRCcmVha1ZhbHVlKGJyZWFrQXRUaGVFZGdlKSkge1xuICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlQnJlYWtUeXBlID0gYnJlYWtBdFRoZUVkZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHN0eWxlICYmXG4gICAgICAgICAgICAgICAgIShcbiAgICAgICAgICAgICAgICAgIHNlbGYuemVyb0luZGVudChzdHlsZS5wYWRkaW5nVG9wKSAmJlxuICAgICAgICAgICAgICAgICAgc2VsZi56ZXJvSW5kZW50KHN0eWxlLmJvcmRlclRvcFdpZHRoKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gTm9uLXplcm8gbGVhZGluZyBpbnNldFxuICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9uU3RhcnRFZGdlcyA9IHRydWU7IC8vIHdlIGFyZSBub3cgb24gc3RhcnRpbmcgZWRnZXMuXG4gICAgICAgICAgfSB3aGlsZSAoZmFsc2UpOyAvLyBFbmQgb2YgYmxvY2sgb2YgY29kZSB0byB1c2UgYnJlYWtcblxuICAgICAgICAgIGNvbnN0IG5leHRSZXN1bHQgPSBzZWxmLmxheW91dENvbnRleHQubmV4dEluVHJlZShub2RlQ29udGV4dCk7XG4gICAgICAgICAgaWYgKG5leHRSZXN1bHQuaXNQZW5kaW5nKCkpIHtcbiAgICAgICAgICAgIG5leHRSZXN1bHQudGhlbigobm9kZUNvbnRleHRQYXJhbSkgPT4ge1xuICAgICAgICAgICAgICBub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0UGFyYW07XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub2RlQ29udGV4dCA9IG5leHRSZXN1bHQuZ2V0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdE5vZGVDb250ZXh0ID0gbnVsbDtcbiAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKHJlc3VsdE5vZGVDb250ZXh0KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGxheW91dEZsb2F0T3JGb290bm90ZShcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgaWYgKFxuICAgICAgUGFnZUZsb2F0cy5pc1BhZ2VGbG9hdChub2RlQ29udGV4dC5mbG9hdFJlZmVyZW5jZSkgfHxcbiAgICAgIG5vZGVDb250ZXh0LmZsb2F0U2lkZSA9PT0gXCJmb290bm90ZVwiXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5sYXlvdXRQYWdlRmxvYXQobm9kZUNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5sYXlvdXRGbG9hdChub2RlQ29udGV4dCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExheW91dCBuZXh0IHBvcnRpb24gb2YgdGhlIHNvdXJjZS5cbiAgICovXG4gIGxheW91dE5leHQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGxlYWRpbmdFZGdlOiBib29sZWFuLFxuICAgIGZvcmNlZEJyZWFrVmFsdWU/OiBzdHJpbmcgfCBudWxsLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PiA9IFRhc2submV3RnJhbWUoXCJsYXlvdXROZXh0XCIpO1xuICAgIHRoaXMuc2tpcEVkZ2VzKG5vZGVDb250ZXh0LCBsZWFkaW5nRWRnZSwgZm9yY2VkQnJlYWtWYWx1ZSB8fCBudWxsKS50aGVuKFxuICAgICAgKG5vZGVDb250ZXh0UGFyYW0pID0+IHtcbiAgICAgICAgbm9kZUNvbnRleHQgPSBub2RlQ29udGV4dFBhcmFtIGFzIFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIW5vZGVDb250ZXh0IHx8XG4gICAgICAgICAgc2VsZi5wYWdlQnJlYWtUeXBlIHx8XG4gICAgICAgICAgc2VsZi5zdG9wQnlPdmVyZmxvdyhub2RlQ29udGV4dClcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gZmluaXNoZWQgYWxsIGNvbnRlbnQsIGV4cGxpY2l0IHBhZ2UgYnJlYWsgb3Igb3ZlcmZsb3cgKGF1dG9tYXRpY1xuICAgICAgICAgIC8vIHBhZ2UgYnJlYWspXG4gICAgICAgICAgZnJhbWUuZmluaXNoKG5vZGVDb250ZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0O1xuICAgICAgICAgIEFzc2VydHMuYXNzZXJ0KGZvcm1hdHRpbmdDb250ZXh0KTtcbiAgICAgICAgICBjb25zdCBsYXlvdXRQcm9jZXNzb3IgPSBuZXcgTGF5b3V0UHJvY2Vzc29yLkxheW91dFByb2Nlc3NvclJlc29sdmVyKCkuZmluZChcbiAgICAgICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgICAgICk7XG4gICAgICAgICAgbGF5b3V0UHJvY2Vzc29yXG4gICAgICAgICAgICAubGF5b3V0KG5vZGVDb250ZXh0LCBzZWxmLCBsZWFkaW5nRWRnZSlcbiAgICAgICAgICAgIC50aGVuRmluaXNoKGZyYW1lKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICApO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGNsZWFyT3ZlcmZsb3duVmlld05vZGVzKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICByZW1vdmVTZWxmOiBib29sZWFuLFxuICApOiB2b2lkIHtcbiAgICBpZiAoIW5vZGVDb250ZXh0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAoXG4gICAgICBsZXQgcGFyZW50ID0gbm9kZUNvbnRleHQucGFyZW50O1xuICAgICAgbm9kZUNvbnRleHQ7XG4gICAgICBub2RlQ29udGV4dCA9IHBhcmVudCwgcGFyZW50ID0gcGFyZW50ID8gcGFyZW50LnBhcmVudCA6IG51bGxcbiAgICApIHtcbiAgICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gKHBhcmVudCB8fCBub2RlQ29udGV4dCkuZm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgICBBc3NlcnRzLmFzc2VydChmb3JtYXR0aW5nQ29udGV4dCk7XG4gICAgICBjb25zdCBsYXlvdXRQcm9jZXNzb3IgPSBuZXcgTGF5b3V0UHJvY2Vzc29yLkxheW91dFByb2Nlc3NvclJlc29sdmVyKCkuZmluZChcbiAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICApO1xuICAgICAgbGF5b3V0UHJvY2Vzc29yLmNsZWFyT3ZlcmZsb3duVmlld05vZGVzKFxuICAgICAgICB0aGlzLFxuICAgICAgICBwYXJlbnQsXG4gICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICByZW1vdmVTZWxmLFxuICAgICAgKTtcbiAgICAgIHJlbW92ZVNlbGYgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBpbml0R2VvbSgpOiB2b2lkIHtcbiAgICAvLyBUT0RPOiB3ZSBzaG91bGQgYmUgYWJsZSB0byBhdm9pZCBxdWVyeWluZyB0aGUgbGF5b3V0IGVuZ2luZSBhdCB0aGlzXG4gICAgLy8gcG9pbnQuIENyZWF0ZSBhbiBlbGVtZW50IHRoYXQgZmlsbHMgdGhlIGNvbnRlbnQgYXJlYSBhbmQgcXVlcnkgaXRzIHNpemUuXG4gICAgLy8gQ2FsbGluZyBnZXRFbGVtZW50Q2xpZW50UmVjdCBvbiB0aGUgY29udGFpbmVyIGVsZW1lbnQgaW5jbHVkZXMgZWxlbWVudFxuICAgIC8vIHBhZGRpbmcgd2hpY2ggaXMgd3JvbmcgZm9yIG91ciBwdXJwb3Nlcy5cbiAgICBjb25zdCBwcm9iZSA9IHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcImRpdlwiLFxuICAgICkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgcHJvYmUuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgcHJvYmUuc3R5bGUudG9wID0gYCR7dGhpcy5wYWRkaW5nVG9wfXB4YDtcbiAgICBwcm9iZS5zdHlsZS5yaWdodCA9IGAke3RoaXMucGFkZGluZ1JpZ2h0fXB4YDtcbiAgICBwcm9iZS5zdHlsZS5ib3R0b20gPSBgJHt0aGlzLnBhZGRpbmdCb3R0b219cHhgO1xuICAgIHByb2JlLnN0eWxlLmxlZnQgPSBgJHt0aGlzLnBhZGRpbmdMZWZ0fXB4YDtcbiAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQocHJvYmUpO1xuICAgIGNvbnN0IGNvbHVtbkJCb3ggPSB0aGlzLmNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChwcm9iZSk7XG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKHByb2JlKTtcbiAgICBjb25zdCBvZmZzZXRYID0gdGhpcy5vcmlnaW5YICsgdGhpcy5sZWZ0ICsgdGhpcy5nZXRJbnNldExlZnQoKTtcbiAgICBjb25zdCBvZmZzZXRZID0gdGhpcy5vcmlnaW5ZICsgdGhpcy50b3AgKyB0aGlzLmdldEluc2V0VG9wKCk7XG4gICAgdGhpcy5ib3ggPSBuZXcgR2VvbWV0cnlVdGlsLlJlY3QoXG4gICAgICBvZmZzZXRYLFxuICAgICAgb2Zmc2V0WSxcbiAgICAgIG9mZnNldFggKyB0aGlzLndpZHRoLFxuICAgICAgb2Zmc2V0WSArIHRoaXMuaGVpZ2h0LFxuICAgICk7XG4gICAgdGhpcy5zdGFydEVkZ2UgPSBjb2x1bW5CQm94XG4gICAgICA/IHRoaXMudmVydGljYWxcbiAgICAgICAgPyBjb2x1bW5CQm94LnRvcFxuICAgICAgICA6IGNvbHVtbkJCb3gubGVmdFxuICAgICAgOiAwO1xuICAgIHRoaXMuZW5kRWRnZSA9IGNvbHVtbkJCb3hcbiAgICAgID8gdGhpcy52ZXJ0aWNhbFxuICAgICAgICA/IGNvbHVtbkJCb3guYm90dG9tXG4gICAgICAgIDogY29sdW1uQkJveC5yaWdodFxuICAgICAgOiAwO1xuICAgIHRoaXMuYmVmb3JlRWRnZSA9IGNvbHVtbkJCb3hcbiAgICAgID8gdGhpcy52ZXJ0aWNhbFxuICAgICAgICA/IGNvbHVtbkJCb3gucmlnaHRcbiAgICAgICAgOiBjb2x1bW5CQm94LnRvcFxuICAgICAgOiAwO1xuICAgIHRoaXMuYWZ0ZXJFZGdlID0gY29sdW1uQkJveFxuICAgICAgPyB0aGlzLnZlcnRpY2FsXG4gICAgICAgID8gY29sdW1uQkJveC5sZWZ0XG4gICAgICAgIDogY29sdW1uQkJveC5ib3R0b21cbiAgICAgIDogMDtcbiAgICB0aGlzLmxlZnRGbG9hdEVkZ2UgPSB0aGlzLmJlZm9yZUVkZ2U7XG4gICAgdGhpcy5yaWdodEZsb2F0RWRnZSA9IHRoaXMuYmVmb3JlRWRnZTtcbiAgICB0aGlzLmJvdHRvbW1vc3RGbG9hdFRvcCA9IHRoaXMuYmVmb3JlRWRnZTtcbiAgICB0aGlzLmZvb3Rub3RlRWRnZSA9IHRoaXMuYWZ0ZXJFZGdlO1xuICAgIHRoaXMuYmFuZHMgPSBHZW9tZXRyeVV0aWwuc2hhcGVzVG9CYW5kcyhcbiAgICAgIHRoaXMuYm94LFxuICAgICAgW3RoaXMuZ2V0SW5uZXJTaGFwZSgpXSxcbiAgICAgIHRoaXMuZ2V0RXhjbHVzaW9ucygpLFxuICAgICAgOCxcbiAgICAgIHRoaXMuc25hcEhlaWdodCxcbiAgICAgIHRoaXMudmVydGljYWwsXG4gICAgKTtcbiAgICB0aGlzLmNyZWF0ZUZsb2F0cygpO1xuICB9XG5cbiAgaW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLmNodW5rUG9zaXRpb25zID0gW107XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmVsZW1lbnQsIFwid2lkdGhcIiwgYCR7dGhpcy53aWR0aH1weGApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkodGhpcy5lbGVtZW50LCBcImhlaWdodFwiLCBgJHt0aGlzLmhlaWdodH1weGApO1xuICAgIHRoaXMuaW5pdEdlb20oKTtcbiAgICB0aGlzLmNvbXB1dGVkQmxvY2tTaXplID0gMDtcbiAgICB0aGlzLm92ZXJmbG93biA9IGZhbHNlO1xuICAgIHRoaXMucGFnZUJyZWFrVHlwZSA9IG51bGw7XG4gICAgdGhpcy5sYXN0QWZ0ZXJQb3NpdGlvbiA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSB0aGUgcG90ZW50aWFsIGJyZWFraW5nIHBvc2l0aW9uIGF0IHRoZSBlZGdlLiBTaG91bGQsIGluIGdlbmVyYWwsIHNhdmVcbiAgICogXCJhZnRlclwiIHBvc2l0aW9uIGJ1dCBvbmx5IGFmdGVyIHNraXBwaW5nIGFsbCBvZiB0aGUgXCJiZWZvcmVcIiBvbmVzIGFuZFxuICAgKiBnZXR0aW5nIHRvIHRoZSBub24tZW1wdHkgY29udGVudCAodG8gZ2V0IGJyZWFrQXRFZGdlIHJpZ2h0KS5cbiAgICovXG4gIHNhdmVFZGdlQnJlYWtQb3NpdGlvbihcbiAgICBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgYnJlYWtBdEVkZ2U6IHN0cmluZyB8IG51bGwsXG4gICAgb3ZlcmZsb3dzOiBib29sZWFuLFxuICApOiB2b2lkIHtcbiAgICBBc3NlcnRzLmFzc2VydChwb3NpdGlvbi5mb3JtYXR0aW5nQ29udGV4dCk7XG4gICAgY29uc3QgY29weSA9IHBvc2l0aW9uLmNvcHkoKTtcbiAgICBjb25zdCBsYXlvdXRQcm9jZXNzb3IgPSBuZXcgTGF5b3V0UHJvY2Vzc29yLkxheW91dFByb2Nlc3NvclJlc29sdmVyKCkuZmluZChcbiAgICAgIHBvc2l0aW9uLmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3QgY2xvbmVkUGFkZGluZ0JvcmRlciA9IHRoaXMuY2FsY3VsYXRlQ2xvbmVkUGFkZGluZ0JvcmRlcihjb3B5KTtcbiAgICBjb25zdCBicCA9IGxheW91dFByb2Nlc3Nvci5jcmVhdGVFZGdlQnJlYWtQb3NpdGlvbihcbiAgICAgIGNvcHksXG4gICAgICBicmVha0F0RWRnZSxcbiAgICAgIG92ZXJmbG93cyxcbiAgICAgIHRoaXMuY29tcHV0ZWRCbG9ja1NpemUgKyBjbG9uZWRQYWRkaW5nQm9yZGVyLFxuICAgICk7XG4gICAgdGhpcy5icmVha1Bvc2l0aW9ucy5wdXNoKGJwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gY2hlY2tQb2ludHMgYXJyYXkgb2YgYnJlYWtpbmcgcG9pbnRzIGZvciBicmVha2FibGUgYmxvY2tcbiAgICovXG4gIHNhdmVCb3hCcmVha1Bvc2l0aW9uKGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdKTogdm9pZCB7XG4gICAgY29uc3QgcGVuYWx0eSA9IGNoZWNrUG9pbnRzWzBdLmJyZWFrUGVuYWx0eTtcbiAgICBjb25zdCBicCA9IG5ldyBCb3hCcmVha1Bvc2l0aW9uKGNoZWNrUG9pbnRzLCBwZW5hbHR5KTtcbiAgICB0aGlzLmJyZWFrUG9zaXRpb25zLnB1c2goYnApO1xuICB9XG5cbiAgdXBkYXRlTWF4UmVhY2hlZEFmdGVyRWRnZShhZnRlckVkZ2U6IG51bWJlcikge1xuICAgIGlmICghaXNOYU4oYWZ0ZXJFZGdlKSkge1xuICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuZ2V0Qm94RGlyKCkgKiAoYWZ0ZXJFZGdlIC0gdGhpcy5iZWZvcmVFZGdlKTtcbiAgICAgIHRoaXMuY29tcHV0ZWRCbG9ja1NpemUgPSBNYXRoLm1heChzaXplLCB0aGlzLmNvbXB1dGVkQmxvY2tTaXplKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGNodW5rUG9zaXRpb24gc3RhcnRpbmcgcG9zaXRpb24uXG4gICAqIEByZXR1cm4gaG9sZGluZyBlbmQgcG9zaXRpb24uXG4gICAqL1xuICBsYXlvdXQoXG4gICAgY2h1bmtQb3NpdGlvbjogVnRyZWUuQ2h1bmtQb3NpdGlvbixcbiAgICBsZWFkaW5nRWRnZTogYm9vbGVhbixcbiAgICBicmVha0FmdGVyPzogc3RyaW5nIHwgbnVsbCxcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuQ2h1bmtQb3NpdGlvbj4ge1xuICAgIHRoaXMuY2h1bmtQb3NpdGlvbnMucHVzaChjaHVua1Bvc2l0aW9uKTsgLy8gU28gd2UgY2FuIHJlLWxheW91dCB0aGlzIGNvbHVtbiBsYXRlclxuICAgIGlmIChjaHVua1Bvc2l0aW9uLnByaW1hcnkuYWZ0ZXIpIHtcbiAgICAgIHRoaXMubGFzdEFmdGVyUG9zaXRpb24gPSBjaHVua1Bvc2l0aW9uLnByaW1hcnk7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0b3BBdE92ZXJmbG93ICYmIHRoaXMub3ZlcmZsb3duKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoY2h1bmtQb3NpdGlvbiBhcyBWdHJlZS5DaHVua1Bvc2l0aW9uKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNGdWxsV2l0aFBhZ2VGbG9hdHMoKSkge1xuICAgICAgaWYgKFxuICAgICAgICBjaHVua1Bvc2l0aW9uLnByaW1hcnkuYWZ0ZXIgJiZcbiAgICAgICAgY2h1bmtQb3NpdGlvbi5wcmltYXJ5LnN0ZXBzLmxlbmd0aCA9PT0gMVxuICAgICAgKSB7XG4gICAgICAgIC8vIEVuZCBvZiBjb250ZW50c1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCBhcyBWdHJlZS5DaHVua1Bvc2l0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChjaHVua1Bvc2l0aW9uIGFzIFZ0cmVlLkNodW5rUG9zaXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5DaHVua1Bvc2l0aW9uPiA9IFRhc2submV3RnJhbWUoXCJsYXlvdXRcIik7XG5cbiAgICAvLyAtLS0tLS0gc3RhcnQgdGhlIGNvbHVtbiAtLS0tLS0tLS0tLVxuICAgIHNlbGYub3BlbkFsbFZpZXdzKGNodW5rUG9zaXRpb24ucHJpbWFyeSkudGhlbigobm9kZUNvbnRleHQpID0+IHtcbiAgICAgIGxldCBpbml0aWFsTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0ID0gbnVsbDtcbiAgICAgIGlmIChub2RlQ29udGV4dC52aWV3Tm9kZSkge1xuICAgICAgICBpbml0aWFsTm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5jb3B5KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBuZXh0SW5UcmVlTGlzdGVuZXIgPSAoZXZ0KSA9PiB7XG4gICAgICAgICAgaWYgKGV2dC5ub2RlQ29udGV4dC52aWV3Tm9kZSkge1xuICAgICAgICAgICAgaW5pdGlhbE5vZGVDb250ZXh0ID0gZXZ0Lm5vZGVDb250ZXh0O1xuICAgICAgICAgICAgc2VsZi5sYXlvdXRDb250ZXh0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgIFwibmV4dEluVHJlZVwiLFxuICAgICAgICAgICAgICBuZXh0SW5UcmVlTGlzdGVuZXIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5sYXlvdXRDb250ZXh0LmFkZEV2ZW50TGlzdGVuZXIoXCJuZXh0SW5UcmVlXCIsIG5leHRJblRyZWVMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICBjb25zdCByZXRyeWVyID0gbmV3IENvbHVtbkxheW91dFJldHJ5ZXIobGVhZGluZ0VkZ2UsIGJyZWFrQWZ0ZXIpO1xuICAgICAgcmV0cnllci5sYXlvdXQobm9kZUNvbnRleHQsIHNlbGYpLnRoZW4oKG5vZGVDb250ZXh0UGFyYW0pID0+IHtcbiAgICAgICAgc2VsZlxuICAgICAgICAgIC5kb0ZpbmlzaEJyZWFrKFxuICAgICAgICAgICAgbm9kZUNvbnRleHRQYXJhbSxcbiAgICAgICAgICAgIHJldHJ5ZXIuY29udGV4dC5vdmVyZmxvd25Ob2RlQ29udGV4dCxcbiAgICAgICAgICAgIGluaXRpYWxOb2RlQ29udGV4dCxcbiAgICAgICAgICAgIHJldHJ5ZXIuaW5pdGlhbENvbXB1dGVkQmxvY2tTaXplLFxuICAgICAgICAgIClcbiAgICAgICAgICAudGhlbigocG9zaXRpb25BZnRlcikgPT4ge1xuICAgICAgICAgICAgbGV0IGNvbnQ6IFRhc2suUmVzdWx0PGJvb2xlYW4+ID0gbnVsbDtcbiAgICAgICAgICAgIGlmICghc2VsZi5wc2V1ZG9QYXJlbnQpIHtcbiAgICAgICAgICAgICAgY29udCA9IHNlbGYuZG9GaW5pc2hCcmVha09mRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyhcbiAgICAgICAgICAgICAgICBwb3NpdGlvbkFmdGVyLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29udCA9IFRhc2submV3UmVzdWx0KG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHNlbGYucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkpIHtcbiAgICAgICAgICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICghcG9zaXRpb25BZnRlcikge1xuICAgICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLm92ZXJmbG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFZ0cmVlSW1wbC5DaHVua1Bvc2l0aW9uKFxuICAgICAgICAgICAgICAgICAgcG9zaXRpb25BZnRlci50b05vZGVQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKHJlc3VsdCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgaXNGdWxsV2l0aFBhZ2VGbG9hdHMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0NvbHVtbkZ1bGxXaXRoUGFnZUZsb2F0cyh0aGlzKTtcbiAgfVxuXG4gIGdldE1heEJsb2NrU2l6ZU9mUGFnZUZsb2F0cygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnBhZ2VGbG9hdExheW91dENvbnRleHQuZ2V0TWF4QmxvY2tTaXplT2ZQYWdlRmxvYXRzKCk7XG4gIH1cblxuICBkb0ZpbmlzaEJyZWFrT2ZGcmFnbWVudExheW91dENvbnN0cmFpbnRzKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwiZG9GaW5pc2hCcmVha09mRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50c1wiLFxuICAgICk7XG4gICAgY29uc3Qgc29ydGVkRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyA9IFtdLmNvbmNhdChcbiAgICAgIHRoaXMuZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyxcbiAgICApO1xuICAgIHNvcnRlZEZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMuc29ydChcbiAgICAgIChhLCBiKSA9PiBhLmdldFByaW9yaXR5T2ZGaW5pc2hCcmVhaygpIC0gYi5nZXRQcmlvcml0eU9mRmluaXNoQnJlYWsoKSxcbiAgICApO1xuICAgIGxldCBpID0gMDtcbiAgICBmcmFtZVxuICAgICAgLmxvb3AoKCkgPT4ge1xuICAgICAgICBpZiAoaSA8IHNvcnRlZEZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gc29ydGVkRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50c1tpKytdLmZpbmlzaEJyZWFrKFxuICAgICAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuUmV0dXJuKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gbm9kZUNvbnRleHQgc3RhcnRpbmcgcG9zaXRpb24uXG4gICAqIEByZXR1cm4gaG9sZGluZyBlbmQgcG9zaXRpb24uXG4gICAqL1xuICBkb0xheW91dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICAgYnJlYWtBZnRlcj86IHN0cmluZyB8IG51bGwsXG4gICk6IFRhc2suUmVzdWx0PHtcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgb3ZlcmZsb3duTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICB9PiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8e1xuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgICAgb3ZlcmZsb3duTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgIH0+ID0gVGFzay5uZXdGcmFtZShcImRvTGF5b3V0XCIpO1xuICAgIGxldCBvdmVyZmxvd25Ob2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQgPSBudWxsO1xuXG4gICAgLy8gLS0tLS0tIGluaXQgYmFja3RyYWNraW5nIGxpc3QgLS0tLS1cbiAgICBzZWxmLmJyZWFrUG9zaXRpb25zID0gW107XG4gICAgc2VsZi5ub2RlQ29udGV4dE92ZXJmbG93aW5nRHVlVG9SZXBldGl0aXZlRWxlbWVudHMgPSBudWxsO1xuXG4gICAgLy8gLS0tLS0tLSBmaWxsIHRoZSBjb2x1bW4gLS0tLS0tLS0tLS0tLVxuICAgIGZyYW1lXG4gICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgIHdoaWxlIChub2RlQ29udGV4dCkge1xuICAgICAgICAgIC8vIGZpbGwgYSBzaW5nbGUgYmxvY2tcbiAgICAgICAgICBsZXQgcGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgc2VsZlxuICAgICAgICAgICAgLmxheW91dE5leHQobm9kZUNvbnRleHQsIGxlYWRpbmdFZGdlLCBicmVha0FmdGVyIHx8IG51bGwpXG4gICAgICAgICAgICAudGhlbigobm9kZUNvbnRleHRQYXJhbSkgPT4ge1xuICAgICAgICAgICAgICBsZWFkaW5nRWRnZSA9IGZhbHNlO1xuICAgICAgICAgICAgICBicmVha0FmdGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHNlbGYubm9kZUNvbnRleHRPdmVyZmxvd2luZ0R1ZVRvUmVwZXRpdGl2ZUVsZW1lbnRzICYmXG4gICAgICAgICAgICAgICAgc2VsZi5zdG9wQXRPdmVyZmxvd1xuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBzZWxmLnBhZ2VCcmVha1R5cGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0ID1cbiAgICAgICAgICAgICAgICAgIHNlbGYubm9kZUNvbnRleHRPdmVyZmxvd2luZ0R1ZVRvUmVwZXRpdGl2ZUVsZW1lbnRzO1xuICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0Lm92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0UGFyYW07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHNlbGYucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkpIHtcbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZi5wYWdlQnJlYWtUeXBlKSB7XG4gICAgICAgICAgICAgICAgLy8gZXhwbGljaXQgcGFnZSBicmVha1xuICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTsgLy8gTG9vcCBlbmRcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChub2RlQ29udGV4dCAmJiBzZWxmLnN0b3BCeU92ZXJmbG93KG5vZGVDb250ZXh0KSkge1xuICAgICAgICAgICAgICAgIC8vIG92ZXJmbG93IChpbXBsaWNpdCBwYWdlIGJyZWFrKTogYmFjayB1cCBhbmQgZmluZCBhXG4gICAgICAgICAgICAgICAgLy8gcGFnZSBicmVha1xuICAgICAgICAgICAgICAgIG92ZXJmbG93bk5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQ7XG4gICAgICAgICAgICAgICAgY29uc3QgYnAgPSBzZWxmLmZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gYnAubm9kZUNvbnRleHQ7XG4gICAgICAgICAgICAgICAgaWYgKGJwLmJyZWFrUG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgIGJwLmJyZWFrUG9zaXRpb24uYnJlYWtQb3NpdGlvbkNob3NlbihzZWxmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpOyAvLyBMb29wIGVuZFxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgICAvLyBTeW5jIGNhc2VcbiAgICAgICAgICAgICAgICAgIHBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gQXN5bmMgY2FzZVxuICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKHBlbmRpbmcpIHtcbiAgICAgICAgICAgIC8vIEFzeW5jIGNhc2UgYW5kIGxvb3AgZW5kXG4gICAgICAgICAgICBwZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3luYyBjYXNlXG4gICAgICAgIHNlbGYuY29tcHV0ZWRCbG9ja1NpemUgKz0gc2VsZi5nZXRPZmZzZXRCeVJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBmcmFtZS5maW5pc2goeyBub2RlQ29udGV4dCwgb3ZlcmZsb3duTm9kZUNvbnRleHQgfSk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogUmUtbGF5b3V0IGFscmVhZHkgbGFpZC1vdXQgY2h1bmtzLiBSZXR1cm4gdGhlIHBvc2l0aW9uIG9mIHRoZSBsYXN0IGZsb3cgaWZcbiAgICogdGhlcmUgaXMgYW4gb3ZlcmZsb3cuXG4gICAqIFRPRE86IGRlYWwgd2l0aCBjaHVua3MgdGhhdCBkaWQgbm90IGZpdCBhdCBhbGwuXG4gICAqIEByZXR1cm4gaG9sZGluZyBlbmQgcG9zaXRpb24uXG4gICAqL1xuICByZWRvTGF5b3V0KCk6IFRhc2suUmVzdWx0PFZ0cmVlLkNodW5rUG9zaXRpb24+IHtcbiAgICBjb25zdCBjaHVua1Bvc2l0aW9ucyA9IHRoaXMuY2h1bmtQb3NpdGlvbnM7XG4gICAgbGV0IGxhc3Q6IE5vZGUgPSB0aGlzLmVsZW1lbnQubGFzdENoaWxkO1xuICAgIHdoaWxlIChsYXN0ICE9IHRoaXMubGFzdCkge1xuICAgICAgY29uc3QgcHJldiA9IGxhc3QucHJldmlvdXNTaWJsaW5nO1xuICAgICAgaWYgKFxuICAgICAgICAhKFxuICAgICAgICAgIHRoaXMuZWxlbWVudCA9PT0gbGFzdC5wYXJlbnROb2RlICYmXG4gICAgICAgICAgKHRoaXMubGF5b3V0Q29udGV4dCBhcyBWZ2VuLlZpZXdGYWN0b3J5KS5pc1BzZXVkb2VsZW1lbnQobGFzdClcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVDaGlsZChsYXN0KTtcbiAgICAgIH1cbiAgICAgIGxhc3QgPSBwcmV2O1xuICAgIH1cbiAgICB0aGlzLmtpbGxGbG9hdHMoKTtcbiAgICB0aGlzLmluaXQoKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5DaHVua1Bvc2l0aW9uPiA9IFRhc2submV3RnJhbWUoXCJyZWRvTGF5b3V0XCIpO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgcmVzOiBWdHJlZS5DaHVua1Bvc2l0aW9uID0gbnVsbDtcbiAgICBsZXQgbGVhZGluZ0VkZ2UgPSB0cnVlO1xuICAgIGZyYW1lXG4gICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgIGlmIChpIDwgY2h1bmtQb3NpdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgY2h1bmtQb3NpdGlvbiA9IGNodW5rUG9zaXRpb25zW2krK107XG4gICAgICAgICAgc2VsZi5sYXlvdXQoY2h1bmtQb3NpdGlvbiwgbGVhZGluZ0VkZ2UpLnRoZW4oKHBvcykgPT4ge1xuICAgICAgICAgICAgbGVhZGluZ0VkZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChwb3MpIHtcbiAgICAgICAgICAgICAgcmVzID0gcG9zO1xuICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChyZXMpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgc2F2ZURpc3RhbmNlVG9CbG9ja0VuZEZsb2F0cygpIHtcbiAgICBjb25zdCBibG9ja1N0YXJ0RWRnZU9mQmxvY2tFbmRGbG9hdHMgPSB0aGlzLnBhZ2VGbG9hdExheW91dENvbnRleHQuZ2V0QmxvY2tTdGFydEVkZ2VPZkJsb2NrRW5kRmxvYXRzKCk7XG4gICAgaWYgKFxuICAgICAgYmxvY2tTdGFydEVkZ2VPZkJsb2NrRW5kRmxvYXRzID4gMCAmJlxuICAgICAgaXNGaW5pdGUoYmxvY2tTdGFydEVkZ2VPZkJsb2NrRW5kRmxvYXRzKVxuICAgICkge1xuICAgICAgdGhpcy5ibG9ja0Rpc3RhbmNlVG9CbG9ja0VuZEZsb2F0cyA9XG4gICAgICAgIHRoaXMuZ2V0Qm94RGlyKCkgKlxuICAgICAgICAoYmxvY2tTdGFydEVkZ2VPZkJsb2NrRW5kRmxvYXRzIC1cbiAgICAgICAgICB0aGlzLmJlZm9yZUVkZ2UgLVxuICAgICAgICAgIHRoaXMuY29tcHV0ZWRCbG9ja1NpemUpO1xuICAgIH1cbiAgfVxuXG4gIGNvbGxlY3RFbGVtZW50c09mZnNldCgpOiBSZXBldGl0aXZlRWxlbWVudC5FbGVtZW50c09mZnNldFtdIHtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHM6IFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0W10gPSBbXTtcbiAgICBmb3IgKGxldCBjdXJyZW50OiBDb2x1bW4gPSB0aGlzOyBjdXJyZW50OyBjdXJyZW50ID0gY3VycmVudC5wc2V1ZG9QYXJlbnQpIHtcbiAgICAgIGN1cnJlbnQuZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy5mb3JFYWNoKChjb25zdHJhaW50KSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBSZXBldGl0aXZlRWxlbWVudC5pc0luc3RhbmNlT2ZSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dENvbnN0cmFpbnQoXG4gICAgICAgICAgICBjb25zdHJhaW50LFxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnQgPSBjb25zdHJhaW50LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5wdXNoKHJlcGV0aXRpdmVFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgU2VsZWN0b3JzLmlzSW5zdGFuY2VPZkFmdGVySWZDb250aW51ZXNMYXlvdXRDb25zdHJhaW50KGNvbnN0cmFpbnQpXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50ID0gY29uc3RyYWludC5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgICAgICAgICByZXBldGl0aXZlRWxlbWVudHMucHVzaChyZXBldGl0aXZlRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFRhYmxlLmlzSW5zdGFuY2VPZlRhYmxlUm93TGF5b3V0Q29uc3RyYWludChjb25zdHJhaW50KSkge1xuICAgICAgICAgIGNvbnN0cmFpbnRcbiAgICAgICAgICAgIC5nZXRFbGVtZW50c09mZnNldHNGb3JUYWJsZUNlbGwodGhpcylcbiAgICAgICAgICAgIC5mb3JFYWNoKChyZXBldGl0aXZlRWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICByZXBldGl0aXZlRWxlbWVudHMucHVzaChyZXBldGl0aXZlRWxlbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXBldGl0aXZlRWxlbWVudHM7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgXCJwc2V1ZG9cIi1jb2x1bW4gbmVzdGVkIGluc2lkZSBhIHJlYWwgY29sdW1uLlxuICogVGhpcyBjbGFzcyBpcyBjcmVhdGVkIHRvIGhhbmRsZSBwYXJhbGxlbCBmcmFnbWVudGVkIGZsb3dzIChlLmcuIHRhYmxlIGNvbHVtbnNcbiAqIGluIGEgc2luZ2xlIHRhYmxlIHJvdykuIEEgcHNldWRvLWNvbHVtbiBiZWhhdmVzIGluIHRoZSBzYW1lIHdheSBhcyB0aGVcbiAqIG9yaWdpbmFsIGNvbHVtbiwgc2hhcmluZyBpdHMgcHJvcGVydGllcy4gUHJvcGVydHkgY2hhbmdlcyBvbiB0aGVcbiAqIHBzZXVkby1jb2x1bW4gYXJlIG5vdCBwcm9wYWdhdGVkIHRvIHRoZSBvcmlnaW5hbCBjb2x1bW4uIFRoZSBMYXlvdXRDb250ZXh0IG9mXG4gKiB0aGUgb3JpZ2luYWwgY29sdW1uIGlzIGFsc28gY2xvbmVkIGFuZCB1c2VkIGJ5IHRoZSBwc2V1ZG8tY29sdW1uLCBub3QgdG9cbiAqIHByb3BhZ2F0ZSBzdGF0ZSBjaGFuZ2VzIG9mIHRoZSBMYXlvdXRDb250ZXh0IGNhdXNlZCBieSB0aGUgcHNldWRvLWNvbHVtbi5cbiAqIEBwYXJhbSBjb2x1bW4gVGhlIG9yaWdpbmFsIChwYXJlbnQpIGNvbHVtblxuICogQHBhcmFtIHZpZXdSb290IFJvb3QgZWxlbWVudCBmb3IgdGhlIHBzZXVkby1jb2x1bW4sIGkuZS4sIHRoZSByb290IG9mIHRoZVxuICogICAgIGZyYWdtZW50ZWQgZmxvdy5cbiAqIEBwYXJhbSBwYXJlbnROb2RlQ29udGV4dCBBIE5vZGVDb250ZXh0IGdlbmVyYXRpbmcgdGhpcyBQc2V1ZG9Db2x1bW5cbiAqL1xuZXhwb3J0IGNsYXNzIFBzZXVkb0NvbHVtbiB7XG4gIHN0YXJ0Tm9kZUNvbnRleHRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdID0gW107XG4gIHByaXZhdGUgY29sdW1uOiBMYXlvdXQuQ29sdW1uO1xuICBjb25zdHJ1Y3RvcihcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgdmlld1Jvb3Q6IEVsZW1lbnQsXG4gICAgcGFyZW50Tm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApIHtcbiAgICB0aGlzLmNvbHVtbiA9IE9iamVjdC5jcmVhdGUoY29sdW1uKSBhcyBMYXlvdXQuQ29sdW1uO1xuICAgIHRoaXMuY29sdW1uLmVsZW1lbnQgPSB2aWV3Um9vdDtcbiAgICB0aGlzLmNvbHVtbi5sYXlvdXRDb250ZXh0ID0gY29sdW1uLmxheW91dENvbnRleHQuY2xvbmUoKTtcbiAgICB0aGlzLmNvbHVtbi5zdG9wQXRPdmVyZmxvdyA9IGZhbHNlO1xuICAgIHRoaXMuY29sdW1uLmZsb3dSb290Rm9ybWF0dGluZ0NvbnRleHQgPSBwYXJlbnROb2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dDtcbiAgICB0aGlzLmNvbHVtbi5wc2V1ZG9QYXJlbnQgPSBjb2x1bW47XG4gICAgY29uc3QgcGFyZW50Q2xvbmVkUGFkZGluZ0JvcmRlciA9IHRoaXMuY29sdW1uLmNhbGN1bGF0ZUNsb25lZFBhZGRpbmdCb3JkZXIoXG4gICAgICBwYXJlbnROb2RlQ29udGV4dCxcbiAgICApO1xuICAgIHRoaXMuY29sdW1uLmZvb3Rub3RlRWRnZSA9XG4gICAgICB0aGlzLmNvbHVtbi5mb290bm90ZUVkZ2UgLSBwYXJlbnRDbG9uZWRQYWRkaW5nQm9yZGVyO1xuICAgIGNvbnN0IHBzZXVkb0NvbHVtbiA9IHRoaXM7XG4gICAgdGhpcy5jb2x1bW4ub3BlbkFsbFZpZXdzID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgIHJldHVybiBDb2x1bW4ucHJvdG90eXBlLm9wZW5BbGxWaWV3c1xuICAgICAgICAuY2FsbCh0aGlzLCBwb3NpdGlvbilcbiAgICAgICAgLnRoZW5Bc3luYygocmVzdWx0KSA9PiB7XG4gICAgICAgICAgcHNldWRvQ29sdW1uLnN0YXJ0Tm9kZUNvbnRleHRzLnB1c2gocmVzdWx0LmNvcHkoKSk7XG4gICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSBjaHVua1Bvc2l0aW9uIHN0YXJ0aW5nIHBvc2l0aW9uLlxuICAgKiBAcmV0dXJuIGhvbGRpbmcgZW5kIHBvc2l0aW9uLlxuICAgKi9cbiAgbGF5b3V0KFxuICAgIGNodW5rUG9zaXRpb246IFZ0cmVlLkNodW5rUG9zaXRpb24sXG4gICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLkNodW5rUG9zaXRpb24+IHtcbiAgICByZXR1cm4gdGhpcy5jb2x1bW4ubGF5b3V0KGNodW5rUG9zaXRpb24sIGxlYWRpbmdFZGdlKTtcbiAgfVxuICBmaW5kQWNjZXB0YWJsZUJyZWFrUG9zaXRpb24oXG4gICAgYWxsb3dCcmVha0F0U3RhcnRQb3NpdGlvbjogYm9vbGVhbixcbiAgKTogTGF5b3V0LkJyZWFrUG9zaXRpb25BbmROb2RlQ29udGV4dCB7XG4gICAgY29uc3QgcCA9IHRoaXMuY29sdW1uLmZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbigpO1xuICAgIGlmIChhbGxvd0JyZWFrQXRTdGFydFBvc2l0aW9uKSB7XG4gICAgICBjb25zdCBzdGFydE5vZGVDb250ZXh0ID0gdGhpcy5zdGFydE5vZGVDb250ZXh0c1swXS5jb3B5KCk7XG4gICAgICBjb25zdCBicCA9IG5ldyBCcmVha1Bvc2l0aW9uLkVkZ2VCcmVha1Bvc2l0aW9uKFxuICAgICAgICBzdGFydE5vZGVDb250ZXh0LFxuICAgICAgICBudWxsLFxuICAgICAgICBzdGFydE5vZGVDb250ZXh0Lm92ZXJmbG93LFxuICAgICAgICAwLFxuICAgICAgKTtcbiAgICAgIGJwLmZpbmRBY2NlcHRhYmxlQnJlYWsodGhpcy5jb2x1bW4sIDApO1xuICAgICAgaWYgKCFwLm5vZGVDb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB7IGJyZWFrUG9zaXRpb246IGJwLCBub2RlQ29udGV4dDogc3RhcnROb2RlQ29udGV4dCB9O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcDtcbiAgfVxuICAvKipcbiAgICogQHJldHVybiBob2xpbmcgdHJ1ZVxuICAgKi9cbiAgZmluaXNoQnJlYWsoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGZvcmNlUmVtb3ZlU2VsZjogYm9vbGVhbixcbiAgICBlbmRPZkNvbHVtbjogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIHJldHVybiB0aGlzLmNvbHVtbi5maW5pc2hCcmVhayhub2RlQ29udGV4dCwgZm9yY2VSZW1vdmVTZWxmLCBlbmRPZkNvbHVtbik7XG4gIH1cbiAgZG9GaW5pc2hCcmVha09mRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyhwb3NpdGlvbkFmdGVyOiBWdHJlZS5Ob2RlQ29udGV4dCkge1xuICAgIHRoaXMuY29sdW1uLmRvRmluaXNoQnJlYWtPZkZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMocG9zaXRpb25BZnRlcik7XG4gIH1cbiAgaXNTdGFydE5vZGVDb250ZXh0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHN0YXJ0Tm9kZUNvbnRleHQgPSB0aGlzLnN0YXJ0Tm9kZUNvbnRleHRzWzBdO1xuICAgIHJldHVybiAoXG4gICAgICBzdGFydE5vZGVDb250ZXh0LnZpZXdOb2RlID09PSBub2RlQ29udGV4dC52aWV3Tm9kZSAmJlxuICAgICAgc3RhcnROb2RlQ29udGV4dC5hZnRlciA9PT0gbm9kZUNvbnRleHQuYWZ0ZXIgJiZcbiAgICAgIHN0YXJ0Tm9kZUNvbnRleHQub2Zmc2V0SW5Ob2RlID09PSBub2RlQ29udGV4dC5vZmZzZXRJbk5vZGVcbiAgICApO1xuICB9XG4gIGlzTGFzdEFmdGVyTm9kZUNvbnRleHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIFZ0cmVlSW1wbC5pc1NhbWVOb2RlUG9zaXRpb24oXG4gICAgICBub2RlQ29udGV4dC50b05vZGVQb3NpdGlvbigpLFxuICAgICAgdGhpcy5jb2x1bW4ubGFzdEFmdGVyUG9zaXRpb24sXG4gICAgKTtcbiAgfVxuICBnZXRDb2x1bW5FbGVtZW50KCk6IEVsZW1lbnQge1xuICAgIHJldHVybiB0aGlzLmNvbHVtbi5lbGVtZW50O1xuICB9XG4gIGdldENvbHVtbigpOiBMYXlvdXQuQ29sdW1uIHtcbiAgICByZXR1cm4gdGhpcy5jb2x1bW47XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGZpcnN0Q2hhclBhdHRlcm4gPSAvXlteQS1aYS16MC05X1xcdTAwOUVcXHUwMDlGXFx1MDBDMC1cXHUwMEQ2XFx1MDBEOC1cXHUwMEY2XFx1MDBGOC1cXHUwMkFGXFx1MDM3Qi1cXHUwMzdEXFx1MDM4NlxcdTAzODgtXFx1MDQ4MlxcdTA0OEEtXFx1MDUyN10qKFtBLVphLXowLTlfXFx1MDBDMC1cXHUwMEQ2XFx1MDBEOC1cXHUwMEY2XFx1MDBGOC1cXHUwMkFGXFx1MDM3Qi1cXHUwMzdEXFx1MDM4NlxcdTAzODgtXFx1MDQ4MlxcdTA0OEEtXFx1MDUyN11bXkEtWmEtejAtOV9cXHUwMDlFXFx1MDA5RlxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJBRlxcdTAzN0ItXFx1MDM3RFxcdTAzODZcXHUwMzg4LVxcdTA0ODJcXHUwNDhBLVxcdTA1MjddKik/LztcblxuZXhwb3J0IHR5cGUgU2luZ2xlUGFnZUZsb2F0TGF5b3V0UmVzdWx0ID0gTGF5b3V0LlNpbmdsZVBhZ2VGbG9hdExheW91dFJlc3VsdDtcblxuZXhwb3J0IGZ1bmN0aW9uIGZpeEp1c3RpZmljYXRpb25Pbkh5cGhlbihcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICBpbnNlcnRBZnRlcjogYm9vbGVhbixcbiAgbm9kZTogTm9kZSxcbiAgaW5zZXJ0aW9uUG9pbnQ6IE5vZGUsXG4pOiB2b2lkIHtcbiAgaWYgKEJhc2UuY2hlY2tTb2Z0V3JhcE9wcG9ydHVuaXR5QWZ0ZXJIeXBoZW5CdWcoZG9jdW1lbnQuYm9keSkpIHtcbiAgICBjb25zdCBoeXBoZW5DaGFyID0gcmVzb2x2ZUh5cGhlbmF0ZUNoYXJhY3Rlcihub2RlQ29udGV4dCk7XG4gICAgY29uc3QgcHJldlNpYmxpbmcgPSBpbnNlcnRBZnRlciA/IG5vZGUgOiBub2RlLnByZXZpb3VzU2libGluZztcbiAgICBjb25zdCBwcmV2VGV4dCA9IHByZXZTaWJsaW5nID8gcHJldlNpYmxpbmcudGV4dENvbnRlbnQgOiBcIlwiO1xuICAgIGlmIChwcmV2VGV4dC5jaGFyQXQocHJldlRleHQubGVuZ3RoIC0gMSkgPT09IGh5cGhlbkNoYXIpIHtcbiAgICAgIGNvbnN0IGRvYyA9IG5vZGUub3duZXJEb2N1bWVudDtcbiAgICAgIGNvbnN0IHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgIGlmIChCYXNlLmNoZWNrU29mdFdyYXBPcHBvcnR1bml0eUJ5V2JyQnVnKGRvY3VtZW50LmJvZHkpKSB7XG4gICAgICAgIC8vIEZvciBJRVxuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGRvYy5jcmVhdGVUZXh0Tm9kZShcIiBcIiksIGluc2VydGlvblBvaW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZvciBFZGdlXG4gICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoZG9jLmNyZWF0ZUVsZW1lbnQoXCJ3YnJcIiksIGluc2VydGlvblBvaW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBicmVha2luZyBwb2ludCByZXNvbHZlciBmb3IgVGV4dCBOb2RlLlxuICovXG5leHBvcnQgY2xhc3MgVGV4dE5vZGVCcmVha2VyIGltcGxlbWVudHMgTGF5b3V0LlRleHROb2RlQnJlYWtlciB7XG4gIGJyZWFrVGV4dE5vZGUoXG4gICAgdGV4dE5vZGU6IFRleHQsXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGxvdzogbnVtYmVyLFxuICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgIGNoZWNrcG9pbnRJbmRleDogbnVtYmVyLFxuICAgIGZvcmNlOiBib29sZWFuLFxuICApOiBWdHJlZS5Ob2RlQ29udGV4dCB7XG4gICAgaWYgKG5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICBub2RlQ29udGV4dC5vZmZzZXRJbk5vZGUgPSB0ZXh0Tm9kZS5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENoYXJhY3RlciB3aXRoIGluZGV4IGxvdyBpcyB0aGUgbGFzdCBvbmUgdGhhdCBmaXRzLlxuICAgICAgbGV0IHZpZXdJbmRleCA9IGxvdyAtIG5vZGVDb250ZXh0LmJveE9mZnNldDtcbiAgICAgIGNvbnN0IHRleHQgPSB0ZXh0Tm9kZS5kYXRhO1xuICAgICAgaWYgKHRleHQuY2hhckNvZGVBdCh2aWV3SW5kZXgpID09IDE3Mykge1xuICAgICAgICB2aWV3SW5kZXggPSB0aGlzLmJyZWFrQWZ0ZXJTb2Z0SHlwaGVuKFxuICAgICAgICAgIHRleHROb2RlLFxuICAgICAgICAgIHRleHQsXG4gICAgICAgICAgdmlld0luZGV4LFxuICAgICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmlld0luZGV4ID0gdGhpcy5icmVha0FmdGVyT3RoZXJDaGFyYWN0ZXIoXG4gICAgICAgICAgdGV4dE5vZGUsXG4gICAgICAgICAgdGV4dCxcbiAgICAgICAgICB2aWV3SW5kZXgsXG4gICAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAodmlld0luZGV4ID4gMCkge1xuICAgICAgICBub2RlQ29udGV4dCA9IHRoaXMudXBkYXRlTm9kZUNvbnRleHQobm9kZUNvbnRleHQsIHZpZXdJbmRleCwgdGV4dE5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZUNvbnRleHQ7XG4gIH1cblxuICBicmVha0FmdGVyU29mdEh5cGhlbihcbiAgICB0ZXh0Tm9kZTogVGV4dCxcbiAgICB0ZXh0OiBzdHJpbmcsXG4gICAgdmlld0luZGV4OiBudW1iZXIsXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApOiBudW1iZXIge1xuICAgIC8vIGNvbnZlcnQgdHJhaWxpbmcgc29mdCBoeXBoZW4gdG8gYSByZWFsIGh5cGhlblxuICAgIHRleHROb2RlLnJlcGxhY2VEYXRhKFxuICAgICAgdmlld0luZGV4LFxuICAgICAgdGV4dC5sZW5ndGggLSB2aWV3SW5kZXgsXG4gICAgICAhbm9kZUNvbnRleHQuYnJlYWtXb3JkID8gcmVzb2x2ZUh5cGhlbmF0ZUNoYXJhY3Rlcihub2RlQ29udGV4dCkgOiBcIlwiLFxuICAgICk7XG4gICAgcmV0dXJuIHZpZXdJbmRleCArIDE7XG4gIH1cblxuICBicmVha0FmdGVyT3RoZXJDaGFyYWN0ZXIoXG4gICAgdGV4dE5vZGU6IFRleHQsXG4gICAgdGV4dDogc3RyaW5nLFxuICAgIHZpZXdJbmRleDogbnVtYmVyLFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKTogbnVtYmVyIHtcbiAgICAvLyBrZWVwIHRoZSB0cmFpbGluZyBjaGFyYWN0ZXIgKGl0IG1heSBiZSBhIHNwYWNlIG9yIG5vdClcbiAgICBjb25zdCBjaDAgPSB0ZXh0LmNoYXJBdCh2aWV3SW5kZXgpO1xuICAgIHZpZXdJbmRleCsrO1xuICAgIGNvbnN0IGNoMSA9IHRleHQuY2hhckF0KHZpZXdJbmRleCk7XG5cbiAgICAvLyBJZiBhdXRvbWF0aWMgaHlwaGVuIHdhcyBpbnNlcnRlZCBoZXJlLCBhZGQgYSByZWFsIGh5cGhlbi5cbiAgICB0ZXh0Tm9kZS5yZXBsYWNlRGF0YShcbiAgICAgIHZpZXdJbmRleCxcbiAgICAgIHRleHQubGVuZ3RoIC0gdmlld0luZGV4LFxuICAgICAgIW5vZGVDb250ZXh0LmJyZWFrV29yZCAmJiBCYXNlLmlzTGV0dGVyKGNoMCkgJiYgQmFzZS5pc0xldHRlcihjaDEpXG4gICAgICAgID8gcmVzb2x2ZUh5cGhlbmF0ZUNoYXJhY3Rlcihub2RlQ29udGV4dClcbiAgICAgICAgOiBcIlwiLFxuICAgICk7XG4gICAgcmV0dXJuIHZpZXdJbmRleDtcbiAgfVxuXG4gIHVwZGF0ZU5vZGVDb250ZXh0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICB2aWV3SW5kZXg6IG51bWJlcixcbiAgICB0ZXh0Tm9kZTogVGV4dCxcbiAgKTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQubW9kaWZ5KCk7XG4gICAgbm9kZUNvbnRleHQub2Zmc2V0SW5Ob2RlICs9IHZpZXdJbmRleDtcbiAgICBub2RlQ29udGV4dC5icmVha0JlZm9yZSA9IG51bGw7XG4gICAgcmV0dXJuIG5vZGVDb250ZXh0O1xuICB9XG5cbiAgc3RhdGljIGluc3RhbmNlOiBUZXh0Tm9kZUJyZWFrZXI7XG59XG5UZXh0Tm9kZUJyZWFrZXIuaW5zdGFuY2UgPSBuZXcgVGV4dE5vZGVCcmVha2VyKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlSHlwaGVuYXRlQ2hhcmFjdGVyKFxuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4pOiBzdHJpbmcge1xuICByZXR1cm4gKFxuICAgIG5vZGVDb250ZXh0Lmh5cGhlbmF0ZUNoYXJhY3RlciB8fFxuICAgIChub2RlQ29udGV4dC5wYXJlbnQgJiYgbm9kZUNvbnRleHQucGFyZW50Lmh5cGhlbmF0ZUNoYXJhY3RlcikgfHxcbiAgICBcIi1cIlxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgQ29sdW1uTGF5b3V0UmV0cnllciBleHRlbmRzIExheW91dFJldHJ5ZXJzLkFic3RyYWN0TGF5b3V0UmV0cnllciB7XG4gIGJyZWFrQWZ0ZXI6IHN0cmluZyB8IG51bGw7XG4gIHByaXZhdGUgaW5pdGlhbFBhZ2VCcmVha1R5cGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBpbml0aWFsQ29tcHV0ZWRCbG9ja1NpemU6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgaW5pdGlhbE92ZXJmbG93bjogYm9vbGVhbiA9IGZhbHNlO1xuICBjb250ZXh0OiB7IG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCB9ID0ge1xuICAgIG92ZXJmbG93bk5vZGVDb250ZXh0OiBudWxsLFxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBsZWFkaW5nRWRnZTogYm9vbGVhbixcbiAgICBicmVha0FmdGVyPzogc3RyaW5nIHwgbnVsbCxcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmJyZWFrQWZ0ZXIgPSBicmVha0FmdGVyIHx8IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICByZXNvbHZlTGF5b3V0TW9kZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBMYXlvdXQuTGF5b3V0TW9kZSB7XG4gICAgcmV0dXJuIG5ldyBEZWZhdWx0TGF5b3V0TW9kZShcbiAgICAgIHRoaXMubGVhZGluZ0VkZ2UsXG4gICAgICB0aGlzLmJyZWFrQWZ0ZXIsXG4gICAgICB0aGlzLmNvbnRleHQsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHByZXBhcmVMYXlvdXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBjb2x1bW46IExheW91dC5Db2x1bW4pIHtcbiAgICBjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyA9IFtdO1xuICAgIGlmICghY29sdW1uLnBzZXVkb1BhcmVudCkge1xuICAgICAgU2hhcmVkLmNsZWFyUmVwZXRpdGl2ZUVsZW1lbnRzQ2FjaGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjbGVhck5vZGVzKGluaXRpYWxQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQpIHtcbiAgICBzdXBlci5jbGVhck5vZGVzKGluaXRpYWxQb3NpdGlvbik7XG4gICAgbGV0IG5vZGVDb250ZXh0ID0gaW5pdGlhbFBvc2l0aW9uO1xuICAgIHdoaWxlIChub2RlQ29udGV4dCkge1xuICAgICAgY29uc3Qgdmlld05vZGUgPSBub2RlQ29udGV4dC52aWV3Tm9kZTtcbiAgICAgIGlmICh2aWV3Tm9kZSkge1xuICAgICAgICBMYXlvdXRIZWxwZXIucmVtb3ZlRm9sbG93aW5nU2libGluZ3Modmlld05vZGUucGFyZW50Tm9kZSwgdmlld05vZGUpO1xuICAgICAgfVxuICAgICAgbm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5wYXJlbnQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2F2ZVN0YXRlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXQuQ29sdW1uKSB7XG4gICAgc3VwZXIuc2F2ZVN0YXRlKG5vZGVDb250ZXh0LCBjb2x1bW4pO1xuICAgIHRoaXMuaW5pdGlhbFBhZ2VCcmVha1R5cGUgPSBjb2x1bW4ucGFnZUJyZWFrVHlwZTtcbiAgICB0aGlzLmluaXRpYWxDb21wdXRlZEJsb2NrU2l6ZSA9IGNvbHVtbi5jb21wdXRlZEJsb2NrU2l6ZTtcbiAgICB0aGlzLmluaXRpYWxPdmVyZmxvd24gPSBjb2x1bW4ub3ZlcmZsb3duO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcmVzdG9yZVN0YXRlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXQuQ29sdW1uKSB7XG4gICAgc3VwZXIucmVzdG9yZVN0YXRlKG5vZGVDb250ZXh0LCBjb2x1bW4pO1xuICAgIGNvbHVtbi5wYWdlQnJlYWtUeXBlID0gdGhpcy5pbml0aWFsUGFnZUJyZWFrVHlwZTtcbiAgICBjb2x1bW4uY29tcHV0ZWRCbG9ja1NpemUgPSB0aGlzLmluaXRpYWxDb21wdXRlZEJsb2NrU2l6ZTtcbiAgICBjb2x1bW4ub3ZlcmZsb3duID0gdGhpcy5pbml0aWFsT3ZlcmZsb3duO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWZhdWx0TGF5b3V0TW9kZSBpbXBsZW1lbnRzIExheW91dC5MYXlvdXRNb2RlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGxlYWRpbmdFZGdlOiBib29sZWFuLFxuICAgIHB1YmxpYyByZWFkb25seSBicmVha0FmdGVyOiBzdHJpbmcgfCBudWxsLFxuICAgIHB1YmxpYyByZWFkb25seSBjb250ZXh0OiB7IG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCB9LFxuICApIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZG9MYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJEZWZhdWx0TGF5b3V0TW9kZS5kb0xheW91dFwiLFxuICAgICk7XG5cbiAgICBwcm9jZXNzQWZ0ZXJJZkNvbnRpbnVlc09mQW5jZXN0b3JzKG5vZGVDb250ZXh0LCBjb2x1bW4pLnRoZW4oKCkgPT4ge1xuICAgICAgY29sdW1uXG4gICAgICAgIC5kb0xheW91dChub2RlQ29udGV4dCwgdGhpcy5sZWFkaW5nRWRnZSwgdGhpcy5icmVha0FmdGVyKVxuICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgdGhpcy5jb250ZXh0Lm92ZXJmbG93bk5vZGVDb250ZXh0ID0gcmVzdWx0Lm92ZXJmbG93bk5vZGVDb250ZXh0O1xuICAgICAgICAgIGZyYW1lLmZpbmlzaChyZXN1bHQubm9kZUNvbnRleHQpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhY2NlcHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBjb2x1bW46IExheW91dC5Db2x1bW4pOiBib29sZWFuIHtcbiAgICBpZiAoY29sdW1uLnBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpIHx8IGNvbHVtbi5wYWdlQnJlYWtUeXBlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLmxlbmd0aCA8PSAwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLmV2ZXJ5KChjb25zdHJhaW50KSA9PlxuICAgICAgY29uc3RyYWludC5hbGxvd0xheW91dChcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIHRoaXMuY29udGV4dC5vdmVyZmxvd25Ob2RlQ29udGV4dCxcbiAgICAgICAgY29sdW1uLFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcG9zdExheW91dChcbiAgICBwb3NpdGlvbkFmdGVyOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBhY2NlcHRlZDogYm9vbGVhbixcbiAgKTogYm9vbGVhbiB7XG4gICAgaWYgKCFhY2NlcHRlZCkge1xuICAgICAgY29uc3QgaGFzTmV4dENhbmRpZGF0ZSA9IGNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLnNvbWUoXG4gICAgICAgIChjb25zdHJhaW50KSA9PiBjb25zdHJhaW50Lm5leHRDYW5kaWRhdGUocG9zaXRpb25BZnRlciksXG4gICAgICApO1xuXG4gICAgICAvLyBJZiB0aGVyZSBpcyBubyBuZXh0IGNhbmRpZGF0ZSwgd2UgYWNjZXB0IHRoZSBjdXJyZW50IGxheW91dCB0cmlhbC5cbiAgICAgIC8vIExhdGVyIENvbHVtbiNkb0ZpbmlzaEJyZWFrIGRlY2lkZXMgd2hldGhlciB0aGUgb3ZlcmZsb3dpbmcgY29udGVudFxuICAgICAgLy8gc2hvdWxkIGJlIHBsYWNlZCBhcyBpcyBvciBiZSBkZWZlcnJlZCB0byB0aGUgbmV4dCBjb2x1bW4sXG4gICAgICAvLyBkZXBlbmRpbmcgb24gdGhlIHZhbHVlIG9mIENvbHVtbiNmb3JjZU5vbmZpdHRpbmcuXG4gICAgICBhY2NlcHRlZCA9ICFoYXNOZXh0Q2FuZGlkYXRlO1xuICAgIH1cbiAgICBjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy5mb3JFYWNoKChjb25zdHJhaW50KSA9PiB7XG4gICAgICBjb25zdHJhaW50LnBvc3RMYXlvdXQoYWNjZXB0ZWQsIHBvc2l0aW9uQWZ0ZXIsIGluaXRpYWxQb3NpdGlvbiwgY29sdW1uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYWNjZXB0ZWQ7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhZ2VGbG9hdEFyZWEgZXh0ZW5kcyBDb2x1bW4gaW1wbGVtZW50cyBMYXlvdXQuUGFnZUZsb2F0QXJlYSB7XG4gIHByaXZhdGUgcm9vdFZpZXdOb2RlczogRWxlbWVudFtdID0gW107XG4gIHByaXZhdGUgZmxvYXRNYXJnaW5zOiBHZW9tZXRyeVV0aWwuSW5zZXRzW10gPSBbXTtcbiAgYWRqdXN0Q29udGVudFJlbGF0aXZlU2l6ZTogYm9vbGVhbiA9IHRydWU7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGZsb2F0U2lkZTogc3RyaW5nLFxuICAgIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgbGF5b3V0Q29udGV4dDogVnRyZWUuTGF5b3V0Q29udGV4dCxcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgICBsYXlvdXRDb25zdHJhaW50OiBMYXlvdXRDb25zdHJhaW50LFxuICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyZW50Q29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICkge1xuICAgIHN1cGVyKFxuICAgICAgZWxlbWVudCxcbiAgICAgIGxheW91dENvbnRleHQsXG4gICAgICBjbGllbnRMYXlvdXQsXG4gICAgICBsYXlvdXRDb25zdHJhaW50LFxuICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgb3BlbkFsbFZpZXdzKHBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24pOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIHJldHVybiBzdXBlci5vcGVuQWxsVmlld3MocG9zaXRpb24pLnRoZW5Bc3luYygobm9kZUNvbnRleHQpID0+IHtcbiAgICAgIGlmIChub2RlQ29udGV4dCkge1xuICAgICAgICB0aGlzLmZpeEZsb2F0U2l6ZUFuZFBvc2l0aW9uKG5vZGVDb250ZXh0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChub2RlQ29udGV4dCk7XG4gICAgfSk7XG4gIH1cblxuICBjb252ZXJ0UGVyY2VudGFnZVNpemVzVG9QeCh0YXJnZXQ6IEVsZW1lbnQpIHtcbiAgICBjb25zdCBjb250YWluaW5nQmxvY2tSZWN0ID0gdGhpcy5wYXJlbnRDb250YWluZXIuZ2V0UGFkZGluZ1JlY3QoKTtcbiAgICBjb25zdCByZWZXaWR0aCA9IGNvbnRhaW5pbmdCbG9ja1JlY3QueDIgLSBjb250YWluaW5nQmxvY2tSZWN0LngxO1xuICAgIGNvbnN0IHJlZkhlaWdodCA9IGNvbnRhaW5pbmdCbG9ja1JlY3QueTIgLSBjb250YWluaW5nQmxvY2tSZWN0LnkxO1xuXG4gICAgZnVuY3Rpb24gY29udmVydFBlcmNlbnRhZ2VUb1B4KHByb3BzOiBzdHJpbmdbXSwgcmVmVmFsdWU6IG51bWJlcikge1xuICAgICAgcHJvcHMuZm9yRWFjaCgocHJvcE5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWVTdHJpbmcgPSBCYXNlLmdldENTU1Byb3BlcnR5KHRhcmdldCwgcHJvcE5hbWUpO1xuICAgICAgICBpZiAodmFsdWVTdHJpbmcgJiYgdmFsdWVTdHJpbmcuY2hhckF0KHZhbHVlU3RyaW5nLmxlbmd0aCAtIDEpID09PSBcIiVcIikge1xuICAgICAgICAgIGNvbnN0IHBlcmNlbnRhZ2VWYWx1ZSA9IHBhcnNlRmxvYXQodmFsdWVTdHJpbmcpO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gKHJlZlZhbHVlICogcGVyY2VudGFnZVZhbHVlKSAvIDEwMDtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRhcmdldCwgcHJvcE5hbWUsIGAke3ZhbHVlfXB4YCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb252ZXJ0UGVyY2VudGFnZVRvUHgoW1wid2lkdGhcIiwgXCJtYXgtd2lkdGhcIiwgXCJtaW4td2lkdGhcIl0sIHJlZldpZHRoKTtcbiAgICBjb252ZXJ0UGVyY2VudGFnZVRvUHgoW1wiaGVpZ2h0XCIsIFwibWF4LWhlaWdodFwiLCBcIm1pbi1oZWlnaHRcIl0sIHJlZkhlaWdodCk7XG4gICAgY29udmVydFBlcmNlbnRhZ2VUb1B4KFxuICAgICAgW1xuICAgICAgICBcIm1hcmdpbi10b3BcIixcbiAgICAgICAgXCJtYXJnaW4tcmlnaHRcIixcbiAgICAgICAgXCJtYXJnaW4tYm90dG9tXCIsXG4gICAgICAgIFwibWFyZ2luLWxlZnRcIixcbiAgICAgICAgXCJwYWRkaW5nLXRvcFwiLFxuICAgICAgICBcInBhZGRpbmctcmlnaHRcIixcbiAgICAgICAgXCJwYWRkaW5nLWJvdHRvbVwiLFxuICAgICAgICBcInBhZGRpbmctbGVmdFwiLFxuICAgICAgXSxcbiAgICAgIHRoaXMudmVydGljYWwgPyByZWZIZWlnaHQgOiByZWZXaWR0aCxcbiAgICApO1xuICAgIFtcIm1hcmdpbi10b3BcIiwgXCJtYXJnaW4tcmlnaHRcIiwgXCJtYXJnaW4tYm90dG9tXCIsIFwibWFyZ2luLWxlZnRcIl0uZm9yRWFjaChcbiAgICAgIChwcm9wTmFtZSkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IEJhc2UuZ2V0Q1NTUHJvcGVydHkodGFyZ2V0LCBwcm9wTmFtZSk7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gXCJhdXRvXCIpIHtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRhcmdldCwgcHJvcE5hbWUsIFwiMFwiKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgZml4RmxvYXRTaXplQW5kUG9zaXRpb24obm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KSB7XG4gICAgd2hpbGUgKG5vZGVDb250ZXh0LnBhcmVudCkge1xuICAgICAgbm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5wYXJlbnQ7XG4gICAgfVxuICAgIEFzc2VydHMuYXNzZXJ0KG5vZGVDb250ZXh0LnZpZXdOb2RlLm5vZGVUeXBlID09PSAxKTtcbiAgICBjb25zdCByb290Vmlld05vZGUgPSBub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50O1xuICAgIHRoaXMucm9vdFZpZXdOb2Rlcy5wdXNoKHJvb3RWaWV3Tm9kZSk7XG4gICAgaWYgKHRoaXMuYWRqdXN0Q29udGVudFJlbGF0aXZlU2l6ZSkge1xuICAgICAgdGhpcy5jb252ZXJ0UGVyY2VudGFnZVNpemVzVG9QeChyb290Vmlld05vZGUpO1xuICAgIH1cbiAgICB0aGlzLmZsb2F0TWFyZ2lucy5wdXNoKHRoaXMuZ2V0Q29tcHV0ZWRNYXJnaW4ocm9vdFZpZXdOb2RlKSk7XG4gICAgaWYgKHRoaXMuYWRqdXN0Q29udGVudFJlbGF0aXZlU2l6ZSkge1xuICAgICAgY29uc3QgZmxvYXRTaWRlID0gdGhpcy5mbG9hdFNpZGU7XG4gICAgICBjb25zdCBpc1ZlcnRpY2FsID0gdGhpcy5wYXJlbnRDb250YWluZXIudmVydGljYWw7XG4gICAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICBpZiAoZmxvYXRTaWRlID09PSBcImJsb2NrLWVuZFwiIHx8IGZsb2F0U2lkZSA9PT0gXCJsZWZ0XCIpIHtcbiAgICAgICAgICBjb25zdCBoZWlnaHQgPSBCYXNlLmdldENTU1Byb3BlcnR5KHJvb3RWaWV3Tm9kZSwgXCJoZWlnaHRcIik7XG4gICAgICAgICAgaWYgKGhlaWdodCAhPT0gXCJcIiAmJiBoZWlnaHQgIT09IFwiYXV0b1wiKSB7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHJvb3RWaWV3Tm9kZSwgXCJtYXJnaW4tdG9wXCIsIFwiYXV0b1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmbG9hdFNpZGUgPT09IFwiYmxvY2stZW5kXCIgfHwgZmxvYXRTaWRlID09PSBcImJvdHRvbVwiKSB7XG4gICAgICAgICAgY29uc3Qgd2lkdGggPSBCYXNlLmdldENTU1Byb3BlcnR5KHJvb3RWaWV3Tm9kZSwgXCJ3aWR0aFwiKTtcbiAgICAgICAgICBpZiAod2lkdGggIT09IFwiXCIgJiYgd2lkdGggIT09IFwiYXV0b1wiKSB7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHJvb3RWaWV3Tm9kZSwgXCJtYXJnaW4tbGVmdFwiLCBcImF1dG9cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0Q29udGVudElubGluZVNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkoXG4gICAgICBudWxsLFxuICAgICAgdGhpcy5yb290Vmlld05vZGVzLm1hcCgociwgaSkgPT4ge1xuICAgICAgICBjb25zdCBib3ggPSB0aGlzLmNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChyKTtcbiAgICAgICAgY29uc3QgbWFyZ2luID0gdGhpcy5mbG9hdE1hcmdpbnNbaV07XG4gICAgICAgIHJldHVybiB0aGlzLnZlcnRpY2FsXG4gICAgICAgICAgPyBtYXJnaW4udG9wICsgYm94LmhlaWdodCArIG1hcmdpbi5ib3R0b21cbiAgICAgICAgICA6IG1hcmdpbi5sZWZ0ICsgYm94LndpZHRoICsgbWFyZ2luLnJpZ2h0O1xuICAgICAgfSksXG4gICAgKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgUmVwZXRpdGl2ZUVsZW1lbnQgLSBFbGVtZW50cyByZXBlYXRlZCBpbiBldmVyeSBmcmFnbWVudFxuICogYnkgcmVwZWF0LW9uLWJyZWFrIHByb3BlcnR5LlxuICovXG5pbXBvcnQgKiBhcyBBc3NlcnRzIGZyb20gXCIuL2Fzc2VydHNcIjtcbmltcG9ydCAqIGFzIExheW91dEhlbHBlciBmcm9tIFwiLi9sYXlvdXQtaGVscGVyXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXRQcm9jZXNzb3IgZnJvbSBcIi4vbGF5b3V0LXByb2Nlc3NvclwiO1xuaW1wb3J0ICogYXMgTGF5b3V0UmV0cnllcnMgZnJvbSBcIi4vbGF5b3V0LXJldHJ5ZXJzXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXRVdGlsIGZyb20gXCIuL2xheW91dC11dGlsXCI7XG5pbXBvcnQgKiBhcyBQbHVnaW4gZnJvbSBcIi4vcGx1Z2luXCI7XG5pbXBvcnQgKiBhcyBTaGFyZWQgZnJvbSBcIi4vc2hhcmVkXCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFZ0cmVlSW1wbCBmcm9tIFwiLi92dHJlZVwiO1xuaW1wb3J0ICogYXMgTGF5b3V0IGZyb20gXCIuL2xheW91dFwiO1xuaW1wb3J0IHtcbiAgRm9ybWF0dGluZ0NvbnRleHRUeXBlLFxuICBGcmFnbWVudExheW91dENvbnN0cmFpbnRUeXBlLFxuICBMYXlvdXQgYXMgTGF5b3V0VHlwZSxcbiAgUmVwZXRpdGl2ZUVsZW1lbnQsXG4gIFRhYmxlLFxuICBWdHJlZSxcbn0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHRcbiAgaW1wbGVtZW50cyBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0IHtcbiAgZm9ybWF0dGluZ0NvbnRleHRUeXBlOiBGb3JtYXR0aW5nQ29udGV4dFR5cGUgPSBcIlJlcGV0aXRpdmVFbGVtZW50c093bmVyXCI7XG4gIGlzUm9vdDogYm9vbGVhbiA9IGZhbHNlO1xuICByZXBldGl0aXZlRWxlbWVudHM6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50cyA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHBhcmVudDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IHJvb3RTb3VyY2VOb2RlOiBFbGVtZW50LFxuICApIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0TmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIlJlcGV0aXRpdmUgZWxlbWVudHMgb3duZXIgZm9ybWF0dGluZyBjb250ZXh0IChSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KVwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNGaXJzdFRpbWUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBmaXJzdFRpbWU6IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmlyc3RUaW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UGFyZW50KCk6IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0IHtcbiAgICByZXR1cm4gdGhpcy5wYXJlbnQ7XG4gIH1cblxuICBnZXRSZXBldGl0aXZlRWxlbWVudHMoKTogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzIHtcbiAgICByZXR1cm4gdGhpcy5yZXBldGl0aXZlRWxlbWVudHM7XG4gIH1cblxuICBnZXRSb290Vmlld05vZGUocG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0KTogRWxlbWVudCB8IG51bGwge1xuICAgIGNvbnN0IHJvb3QgPSB0aGlzLmdldFJvb3ROb2RlQ29udGV4dChwb3NpdGlvbik7XG4gICAgcmV0dXJuIHJvb3QgPyAocm9vdC52aWV3Tm9kZSBhcyBFbGVtZW50KSA6IG51bGw7XG4gIH1cblxuICBnZXRSb290Tm9kZUNvbnRleHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogVnRyZWUuTm9kZUNvbnRleHQgfCBudWxsIHtcbiAgICBkbyB7XG4gICAgICBpZiAoXG4gICAgICAgICFub2RlQ29udGV4dC5iZWxvbmdzVG8odGhpcykgJiZcbiAgICAgICAgbm9kZUNvbnRleHQuc291cmNlTm9kZSA9PT0gdGhpcy5yb290U291cmNlTm9kZVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBub2RlQ29udGV4dDtcbiAgICAgIH1cbiAgICB9IHdoaWxlICgobm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5wYXJlbnQpKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGluaXRpYWxpemVSZXBldGl0aXZlRWxlbWVudHModmVydGljYWw6IGJvb2xlYW4pIHtcbiAgICBpZiAodGhpcy5yZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZm91bmQgPSBTaGFyZWQucmVwZXRpdGl2ZUVsZW1lbnRzQ2FjaGUuc29tZSgoZW50cnkpID0+IHtcbiAgICAgIGlmIChlbnRyeS5yb290ID09PSB0aGlzLnJvb3RTb3VyY2VOb2RlKSB7XG4gICAgICAgIHRoaXMucmVwZXRpdGl2ZUVsZW1lbnRzID0gZW50cnkuZWxlbWVudHM7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuICAgIGlmICghZm91bmQpIHtcbiAgICAgIHRoaXMucmVwZXRpdGl2ZUVsZW1lbnRzID0gbmV3IFJlcGV0aXRpdmVFbGVtZW50cyhcbiAgICAgICAgdmVydGljYWwsXG4gICAgICAgIHRoaXMucm9vdFNvdXJjZU5vZGUsXG4gICAgICApO1xuICAgICAgU2hhcmVkLnJlcGV0aXRpdmVFbGVtZW50c0NhY2hlLnB1c2goe1xuICAgICAgICByb290OiB0aGlzLnJvb3RTb3VyY2VOb2RlLFxuICAgICAgICBlbGVtZW50czogdGhpcy5yZXBldGl0aXZlRWxlbWVudHMsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNhdmVTdGF0ZSgpOiBhbnkge31cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHJlc3RvcmVTdGF0ZShzdGF0ZTogYW55KSB7fVxufVxuXG5leHBvcnQgdHlwZSBFbGVtZW50c09mZnNldCA9IFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0O1xuXG5leHBvcnQgY2xhc3MgUmVwZXRpdGl2ZUVsZW1lbnRzXG4gIGltcGxlbWVudHMgUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzIHtcbiAgcHJpdmF0ZSBoZWFkZXJTb3VyY2VOb2RlOiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZm9vdGVyU291cmNlTm9kZTogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGhlYWRlclZpZXdOb2RlOiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZm9vdGVyVmlld05vZGU6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBoZWFkZXJOb2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGZvb3Rlck5vZGVQb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgaGVhZGVySGVpZ2h0OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGZvb3RlckhlaWdodDogbnVtYmVyID0gMDtcbiAgaXNTa2lwSGVhZGVyOiBib29sZWFuID0gZmFsc2U7XG4gIGlzU2tpcEZvb3RlcjogYm9vbGVhbiA9IGZhbHNlO1xuICBlbmFibGVTa2lwcGluZ0Zvb3RlcjogYm9vbGVhbiA9IHRydWU7XG4gIGVuYWJsZVNraXBwaW5nSGVhZGVyOiBib29sZWFuID0gdHJ1ZTtcbiAgZG9uZUluaXRpYWxMYXlvdXQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgZmlyc3RDb250ZW50U291cmNlTm9kZTogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsYXN0Q29udGVudFNvdXJjZU5vZGU6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBhZmZlY3RlZE5vZGVDYWNoZToge1xuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICByZXN1bHQ6IGJvb2xlYW47XG4gIH1bXSA9IFtdO1xuICBwcml2YXRlIGFmdGVyTGFzdENvbnRlbnROb2RlQ2FjaGU6IHtcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgcmVzdWx0OiBib29sZWFuO1xuICB9W10gPSBbXTtcbiAgYWxsb3dJbnNlcnQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgYWxsb3dJbnNlcnRSZXBlYXRpdGl2ZUVsZW1lbnRzOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgdmVydGljYWw6IGJvb2xlYW4sXG4gICAgcHVibGljIG93bmVyU291cmNlTm9kZTogRWxlbWVudCxcbiAgKSB7fVxuXG4gIHNldEhlYWRlck5vZGVDb250ZXh0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCkge1xuICAgIGlmICh0aGlzLmhlYWRlck5vZGVQb3NpdGlvbikge1xuICAgICAgcmV0dXJuOyAvLyB1c2UgZmlyc3Qgb25lLlxuICAgIH1cbiAgICB0aGlzLmhlYWRlck5vZGVQb3NpdGlvbiA9IFZ0cmVlSW1wbC5uZXdOb2RlUG9zaXRpb25Gcm9tTm9kZUNvbnRleHQoXG4gICAgICBub2RlQ29udGV4dCxcbiAgICAgIDAsXG4gICAgKTtcbiAgICB0aGlzLmhlYWRlclNvdXJjZU5vZGUgPSBub2RlQ29udGV4dC5zb3VyY2VOb2RlIGFzIEVsZW1lbnQ7XG4gICAgdGhpcy5oZWFkZXJWaWV3Tm9kZSA9IG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQ7XG4gIH1cblxuICBzZXRGb290ZXJOb2RlQ29udGV4dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpIHtcbiAgICBpZiAodGhpcy5mb290ZXJOb2RlUG9zaXRpb24pIHtcbiAgICAgIHJldHVybjsgLy8gdXNlIGZpcnN0IG9uZS5cbiAgICB9XG4gICAgdGhpcy5mb290ZXJOb2RlUG9zaXRpb24gPSBWdHJlZUltcGwubmV3Tm9kZVBvc2l0aW9uRnJvbU5vZGVDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAwLFxuICAgICk7XG4gICAgdGhpcy5mb290ZXJTb3VyY2VOb2RlID0gbm9kZUNvbnRleHQuc291cmNlTm9kZSBhcyBFbGVtZW50O1xuICAgIHRoaXMuZm9vdGVyVmlld05vZGUgPSBub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50O1xuICB9XG5cbiAgdXBkYXRlSGVpZ2h0KGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4pIHtcbiAgICBpZiAodGhpcy5oZWFkZXJWaWV3Tm9kZSkge1xuICAgICAgdGhpcy5oZWFkZXJIZWlnaHQgPSBMYXlvdXRIZWxwZXIuZ2V0RWxlbWVudEhlaWdodChcbiAgICAgICAgdGhpcy5oZWFkZXJWaWV3Tm9kZSxcbiAgICAgICAgY29sdW1uLFxuICAgICAgICB0aGlzLnZlcnRpY2FsLFxuICAgICAgKTtcbiAgICAgIHRoaXMuaGVhZGVyVmlld05vZGUgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5mb290ZXJWaWV3Tm9kZSkge1xuICAgICAgdGhpcy5mb290ZXJIZWlnaHQgPSBMYXlvdXRIZWxwZXIuZ2V0RWxlbWVudEhlaWdodChcbiAgICAgICAgdGhpcy5mb290ZXJWaWV3Tm9kZSxcbiAgICAgICAgY29sdW1uLFxuICAgICAgICB0aGlzLnZlcnRpY2FsLFxuICAgICAgKTtcbiAgICAgIHRoaXMuZm9vdGVyVmlld05vZGUgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHByZXBhcmVMYXlvdXRGcmFnbWVudCgpIHtcbiAgICB0aGlzLmlzU2tpcEhlYWRlciA9IHRoaXMuaXNTa2lwRm9vdGVyID0gZmFsc2U7XG4gICAgdGhpcy5lbmFibGVTa2lwcGluZ0Zvb3RlciA9IHRydWU7XG4gICAgdGhpcy5lbmFibGVTa2lwcGluZ0hlYWRlciA9IHRydWU7XG4gIH1cblxuICBhcHBlbmRIZWFkZXJUb0ZyYWdtZW50KFxuICAgIHJvb3ROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgZmlyc3RDaGlsZDogTm9kZSB8IG51bGwsXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGlmICghdGhpcy5oZWFkZXJOb2RlUG9zaXRpb24gfHwgdGhpcy5pc1NraXBIZWFkZXIpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYXBwZW5kRWxlbWVudFRvRnJhZ21lbnQoXG4gICAgICB0aGlzLmhlYWRlck5vZGVQb3NpdGlvbixcbiAgICAgIHJvb3ROb2RlQ29udGV4dCxcbiAgICAgIGZpcnN0Q2hpbGQsXG4gICAgICBjb2x1bW4sXG4gICAgKTtcbiAgfVxuXG4gIGFwcGVuZEZvb3RlclRvRnJhZ21lbnQoXG4gICAgcm9vdE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBmaXJzdENoaWxkOiBOb2RlIHwgbnVsbCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgaWYgKCF0aGlzLmZvb3Rlck5vZGVQb3NpdGlvbiB8fCB0aGlzLmlzU2tpcEZvb3Rlcikge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hcHBlbmRFbGVtZW50VG9GcmFnbWVudChcbiAgICAgIHRoaXMuZm9vdGVyTm9kZVBvc2l0aW9uLFxuICAgICAgcm9vdE5vZGVDb250ZXh0LFxuICAgICAgZmlyc3RDaGlsZCxcbiAgICAgIGNvbHVtbixcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5cbiAgICovXG4gIGFwcGVuZEVsZW1lbnRUb0ZyYWdtZW50KFxuICAgIG5vZGVQb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uLFxuICAgIHJvb3ROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgZmlyc3RDaGlsZDogTm9kZSB8IG51bGwsXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGRvYyA9IHJvb3ROb2RlQ29udGV4dC52aWV3Tm9kZS5vd25lckRvY3VtZW50O1xuICAgIGNvbnN0IHJvb3RWaWV3Tm9kZSA9IHJvb3ROb2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50O1xuICAgIGNvbnN0IHZpZXdSb290ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcm9vdFZpZXdOb2RlLmFwcGVuZENoaWxkKHZpZXdSb290KTtcbiAgICBjb25zdCBwc2V1ZG9Db2x1bW4gPSBuZXcgTGF5b3V0LlBzZXVkb0NvbHVtbihcbiAgICAgIGNvbHVtbixcbiAgICAgIHZpZXdSb290LFxuICAgICAgcm9vdE5vZGVDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3QgaW5pdGlhbFBhZ2VCcmVha1R5cGUgPSBwc2V1ZG9Db2x1bW4uZ2V0Q29sdW1uKCkucGFnZUJyZWFrVHlwZTtcbiAgICBwc2V1ZG9Db2x1bW4uZ2V0Q29sdW1uKCkucGFnZUJyZWFrVHlwZSA9IG51bGw7XG4gICAgdGhpcy5hbGxvd0luc2VydFJlcGVhdGl0aXZlRWxlbWVudHMgPSB0cnVlO1xuICAgIHJldHVybiBwc2V1ZG9Db2x1bW5cbiAgICAgIC5sYXlvdXQobmV3IFZ0cmVlSW1wbC5DaHVua1Bvc2l0aW9uKG5vZGVQb3NpdGlvbiksIHRydWUpXG4gICAgICAudGhlbkFzeW5jKCgpID0+IHtcbiAgICAgICAgdGhpcy5hbGxvd0luc2VydFJlcGVhdGl0aXZlRWxlbWVudHMgPSBmYWxzZTtcbiAgICAgICAgcm9vdFZpZXdOb2RlLnJlbW92ZUNoaWxkKHZpZXdSb290KTtcbiAgICAgICAgdGhpcy5tb3ZlQ2hpbGRyZW4odmlld1Jvb3QsIHJvb3RWaWV3Tm9kZSwgZmlyc3RDaGlsZCk7XG4gICAgICAgIHBzZXVkb0NvbHVtbi5nZXRDb2x1bW4oKS5wYWdlQnJlYWtUeXBlID0gaW5pdGlhbFBhZ2VCcmVha1R5cGU7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgbW92ZUNoaWxkcmVuKGZyb206IEVsZW1lbnQsIHRvOiBFbGVtZW50LCBmaXJzdENoaWxkOiBOb2RlIHwgbnVsbCkge1xuICAgIGlmICghdG8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd2hpbGUgKGZyb20uZmlyc3RDaGlsZCkge1xuICAgICAgY29uc3QgY2hpbGQgPSBmcm9tLmZpcnN0Q2hpbGQ7XG4gICAgICBmcm9tLnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgIChjaGlsZCBhcyBFbGVtZW50KS5zZXRBdHRyaWJ1dGUoVnRyZWVJbXBsLlNQRUNJQUxfQVRUUiwgXCIxXCIpO1xuICAgICAgaWYgKGZpcnN0Q2hpbGQpIHtcbiAgICAgICAgdG8uaW5zZXJ0QmVmb3JlKGNoaWxkLCBmaXJzdENoaWxkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvLmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGNhbGN1bGF0ZU9mZnNldChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBudW1iZXIge1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIGlmIChub2RlQ29udGV4dCAmJiAhdGhpcy5hZmZlY3RUbyhub2RlQ29udGV4dCkpIHtcbiAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfVxuICAgIGlmIChcbiAgICAgICF0aGlzLmlzU2tpcEZvb3RlciB8fFxuICAgICAgKG5vZGVDb250ZXh0ICYmIHRoaXMuaXNBZnRlckxhc3RDb250ZW50KG5vZGVDb250ZXh0KSlcbiAgICApIHtcbiAgICAgIG9mZnNldCArPSB0aGlzLmZvb3RlckhlaWdodDtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmlzU2tpcEhlYWRlcikge1xuICAgICAgb2Zmc2V0ICs9IHRoaXMuaGVhZGVySGVpZ2h0O1xuICAgIH1cbiAgICByZXR1cm4gb2Zmc2V0O1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBjYWxjdWxhdGVNaW5pbXVtT2Zmc2V0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IG51bWJlciB7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgaWYgKG5vZGVDb250ZXh0ICYmICF0aGlzLmFmZmVjdFRvKG5vZGVDb250ZXh0KSkge1xuICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICB9XG4gICAgaWYgKG5vZGVDb250ZXh0ICYmIHRoaXMuaXNBZnRlckxhc3RDb250ZW50KG5vZGVDb250ZXh0KSkge1xuICAgICAgb2Zmc2V0ICs9IHRoaXMuZm9vdGVySGVpZ2h0O1xuICAgIH1cbiAgICBpZiAoIXRoaXMuZW5hYmxlU2tpcHBpbmdIZWFkZXIpIHtcbiAgICAgIG9mZnNldCArPSB0aGlzLmhlYWRlckhlaWdodDtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbiAgfVxuXG4gIGlzQWZ0ZXJMYXN0Q29udGVudChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5maW5kUmVzdWx0RnJvbUNhY2hlKFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICB0aGlzLmFmdGVyTGFzdENvbnRlbnROb2RlQ2FjaGUsXG4gICAgICAobmMpID0+XG4gICAgICAgIHRoaXMuaXNBZnRlck5vZGVDb250ZXh0T2YoXG4gICAgICAgICAgdGhpcy5sYXN0Q29udGVudFNvdXJjZU5vZGUgYXMgRWxlbWVudCxcbiAgICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBhZmZlY3RUbyhub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5maW5kUmVzdWx0RnJvbUNhY2hlKG5vZGVDb250ZXh0LCB0aGlzLmFmZmVjdGVkTm9kZUNhY2hlLCAobmMpID0+XG4gICAgICB0aGlzLmlzQWZ0ZXJOb2RlQ29udGV4dE9mKHRoaXMub3duZXJTb3VyY2VOb2RlLCBub2RlQ29udGV4dCwgdHJ1ZSksXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgZmluZFJlc3VsdEZyb21DYWNoZShcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY2FjaGU6IHsgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0OyByZXN1bHQ6IGJvb2xlYW4gfVtdLFxuICAgIGNhbGN1bGF0b3I6IChwMTogVnRyZWUuTm9kZUNvbnRleHQpID0+IGJvb2xlYW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNhY2hlRW50cnkgPSBjYWNoZS5maWx0ZXIoXG4gICAgICAoY2FjaGUpID0+XG4gICAgICAgIGNhY2hlLm5vZGVDb250ZXh0LnNvdXJjZU5vZGUgPT09IG5vZGVDb250ZXh0LnNvdXJjZU5vZGUgJiZcbiAgICAgICAgY2FjaGUubm9kZUNvbnRleHQuYWZ0ZXIgPT09IG5vZGVDb250ZXh0LmFmdGVyLFxuICAgICk7XG4gICAgaWYgKGNhY2hlRW50cnkubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIGNhY2hlRW50cnlbMF0ucmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBjYWxjdWxhdG9yKG5vZGVDb250ZXh0KTtcbiAgICAgIGNhY2hlLnB1c2goeyBub2RlQ29udGV4dCwgcmVzdWx0IH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGlzQWZ0ZXJOb2RlQ29udGV4dE9mKFxuICAgIG5vZGU6IEVsZW1lbnQsXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGluY2x1ZGVDaGlsZHJlbjogYm9vbGVhbixcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgcGFyZW50c09mTm9kZSA9IFtdO1xuICAgIGZvciAobGV0IG46IE5vZGUgfCBudWxsID0gbm9kZTsgbjsgbiA9IG4ucGFyZW50Tm9kZSkge1xuICAgICAgaWYgKG5vZGVDb250ZXh0LnNvdXJjZU5vZGUgPT09IG4pIHtcbiAgICAgICAgcmV0dXJuIG5vZGVDb250ZXh0LmFmdGVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyZW50c09mTm9kZS5wdXNoKG4pO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKFxuICAgICAgbGV0IGN1cnJlbnRQYXJlbnQ6IE5vZGUgfCBudWxsID0gbm9kZUNvbnRleHQuc291cmNlTm9kZTtcbiAgICAgIGN1cnJlbnRQYXJlbnQ7XG4gICAgICBjdXJyZW50UGFyZW50ID0gY3VycmVudFBhcmVudC5wYXJlbnROb2RlXG4gICAgKSB7XG4gICAgICBjb25zdCBpbmRleCA9IHBhcmVudHNPZk5vZGUuaW5kZXhPZihjdXJyZW50UGFyZW50KTtcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIHJldHVybiBpbmNsdWRlQ2hpbGRyZW4gPyBpbmRleCA9PT0gMCA6IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICBsZXQgY3VycmVudDogRWxlbWVudCB8IG51bGwgPSBjdXJyZW50UGFyZW50IGFzIEVsZW1lbnQ7XG4gICAgICAgICAgY3VycmVudDtcbiAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChwYXJlbnRzT2ZOb2RlLmluY2x1ZGVzKGN1cnJlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGVDb250ZXh0LmFmdGVyO1xuICB9XG5cbiAgaXNGaXJzdENvbnRlbnROb2RlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBub2RlQ29udGV4dCAmJiB0aGlzLmZpcnN0Q29udGVudFNvdXJjZU5vZGUgPT09IG5vZGVDb250ZXh0LnNvdXJjZU5vZGVcbiAgICApO1xuICB9XG5cbiAgaXNFbmFibGVUb1VwZGF0ZVN0YXRlKCk6IGJvb2xlYW4ge1xuICAgIGlmIChcbiAgICAgICghdGhpcy5pc1NraXBGb290ZXIgJiZcbiAgICAgICAgdGhpcy5lbmFibGVTa2lwcGluZ0Zvb3RlciAmJlxuICAgICAgICB0aGlzLmZvb3Rlck5vZGVQb3NpdGlvbikgfHxcbiAgICAgICghdGhpcy5pc1NraXBIZWFkZXIgJiZcbiAgICAgICAgdGhpcy5lbmFibGVTa2lwcGluZ0hlYWRlciAmJlxuICAgICAgICB0aGlzLmhlYWRlck5vZGVQb3NpdGlvbilcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlU3RhdGUoKSB7XG4gICAgaWYgKFxuICAgICAgIXRoaXMuaXNTa2lwRm9vdGVyICYmXG4gICAgICB0aGlzLmVuYWJsZVNraXBwaW5nRm9vdGVyICYmXG4gICAgICB0aGlzLmZvb3Rlck5vZGVQb3NpdGlvblxuICAgICkge1xuICAgICAgdGhpcy5pc1NraXBGb290ZXIgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICAhdGhpcy5pc1NraXBIZWFkZXIgJiZcbiAgICAgIHRoaXMuZW5hYmxlU2tpcHBpbmdIZWFkZXIgJiZcbiAgICAgIHRoaXMuaGVhZGVyTm9kZVBvc2l0aW9uXG4gICAgKSB7XG4gICAgICB0aGlzLmlzU2tpcEhlYWRlciA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgcHJldmVudFNraXBwaW5nSGVhZGVyKCkge1xuICAgIHRoaXMuaXNTa2lwSGVhZGVyID0gZmFsc2U7XG4gICAgdGhpcy5lbmFibGVTa2lwcGluZ0hlYWRlciA9IGZhbHNlO1xuICB9XG5cbiAgcHJldmVudFNraXBwaW5nRm9vdGVyKCkge1xuICAgIHRoaXMuaXNTa2lwRm9vdGVyID0gZmFsc2U7XG4gICAgdGhpcy5lbmFibGVTa2lwcGluZ0Zvb3RlciA9IGZhbHNlO1xuICB9XG5cbiAgaXNIZWFkZXJSZWdpc3RlcmVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMuaGVhZGVyTm9kZVBvc2l0aW9uO1xuICB9XG5cbiAgaXNGb290ZXJSZWdpc3RlcmVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMuZm9vdGVyTm9kZVBvc2l0aW9uO1xuICB9XG5cbiAgaXNIZWFkZXJTb3VyY2VOb2RlKG5vZGU6IE5vZGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5oZWFkZXJTb3VyY2VOb2RlID09PSBub2RlO1xuICB9XG5cbiAgaXNGb290ZXJTb3VyY2VOb2RlKG5vZGU6IE5vZGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5mb290ZXJTb3VyY2VOb2RlID09PSBub2RlO1xuICB9XG59XG5cbi8qKlxuICogQGFic3RyYWN0XG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBMYXlvdXRFbnRpcmVCbG9jayBpbXBsZW1lbnRzIExheW91dFR5cGUuTGF5b3V0TW9kZSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBmb3JtYXR0aW5nQ29udGV4dDogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCxcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFic3RyYWN0IGRvTGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWNjZXB0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIW5vZGVDb250ZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcG9zdExheW91dChcbiAgICBwb3NpdGlvbkFmdGVyOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICAgYWNjZXB0ZWQ6IGJvb2xlYW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgaWYgKHJlcGV0aXRpdmVFbGVtZW50cykge1xuICAgICAgQXNzZXJ0cy5hc3NlcnQoY29sdW1uLmNsaWVudExheW91dCk7XG4gICAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cy5kb25lSW5pdGlhbExheW91dCkge1xuICAgICAgICByZXBldGl0aXZlRWxlbWVudHMudXBkYXRlSGVpZ2h0KGNvbHVtbik7XG4gICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5kb25lSW5pdGlhbExheW91dCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhY2NlcHRlZDtcbiAgfVxufVxuXG4vKipcbiAqIEBhYnN0cmFjdFxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTGF5b3V0RnJhZ21lbnRlZEJsb2NrIGltcGxlbWVudHMgTGF5b3V0VHlwZS5MYXlvdXRNb2RlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIGZvcm1hdHRpbmdDb250ZXh0OiBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0LFxuICApIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWJzdHJhY3QgZG9MYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhY2NlcHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwb3N0TGF5b3V0KFxuICAgIHBvc2l0aW9uQWZ0ZXI6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGluaXRpYWxQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgICBhY2NlcHRlZDogYm9vbGVhbixcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGFjY2VwdGVkO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMYXlvdXRFbnRpcmVPd25lckJsb2NrIGV4dGVuZHMgTGF5b3V0RW50aXJlQmxvY2sge1xuICBjb25zdHJ1Y3RvcihcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJvY2Vzc29yOiBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dFByb2Nlc3NvcixcbiAgKSB7XG4gICAgc3VwZXIoZm9ybWF0dGluZ0NvbnRleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZG9MYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgLy8gRklYTUU6IExheW91dEVudGlyZUJsb2NrLnByb3RvdHlwZS5kb0xheW91dCBpcyB1bmRlZmluZWQgYmVjYXVzZSBpdCdzIGFic3RyYWN0IG1ldGhvZC5cbiAgICAvLyAgICAgICAgUHJvYmFibHksIHJlbW92aW5nIHRoaXMgY2FsbCBpcyBvay5cbiAgICAvLyBMYXlvdXRFbnRpcmVCbG9jay5wcm90b3R5cGUuZG9MYXlvdXQuY2FsbCh0aGlzLCBub2RlQ29udGV4dCwgY29sdW1uKTtcbiAgICByZXR1cm4gdGhpcy5wcm9jZXNzb3IuZG9Jbml0aWFsTGF5b3V0KG5vZGVDb250ZXh0LCBjb2x1bW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWNjZXB0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGF5b3V0RnJhZ21lbnRlZE93bmVyQmxvY2sgZXh0ZW5kcyBMYXlvdXRGcmFnbWVudGVkQmxvY2sge1xuICBjb25zdHJ1Y3RvcihcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJvY2Vzc29yOiBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dFByb2Nlc3NvcixcbiAgKSB7XG4gICAgc3VwZXIoZm9ybWF0dGluZ0NvbnRleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZG9MYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgaWYgKCFub2RlQ29udGV4dC5iZWxvbmdzVG8odGhpcy5mb3JtYXR0aW5nQ29udGV4dCkgJiYgIW5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICBjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy51bnNoaWZ0KFxuICAgICAgICBuZXcgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRDb25zdHJhaW50KG5vZGVDb250ZXh0KSxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnByb2Nlc3Nvci5kb0xheW91dChub2RlQ29udGV4dCwgY29sdW1uKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRDb25zdHJhaW50XG4gIGltcGxlbWVudHMgUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRDb25zdHJhaW50IHtcbiAgZmxhZ21lbnRMYXlvdXRDb25zdHJhaW50VHlwZTogRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50VHlwZSA9XG4gICAgXCJSZXBldGl0aXZlRWxlbWVudHNPd25lclwiO1xuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG5cbiAgY29uc3RydWN0b3Iobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KSB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICB0aGlzLm5vZGVDb250ZXh0ID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0Um9vdE5vZGVDb250ZXh0KG5vZGVDb250ZXh0KTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYWxsb3dMYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApOiBib29sZWFuIHtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSB0aGlzLmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKExheW91dEhlbHBlci5pc09ycGhhbih0aGlzLm5vZGVDb250ZXh0LnZpZXdOb2RlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzLmlzRW5hYmxlVG9VcGRhdGVTdGF0ZSgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgKG92ZXJmbG93bk5vZGVDb250ZXh0ICYmICFub2RlQ29udGV4dCkgfHxcbiAgICAgIChub2RlQ29udGV4dCAmJiBub2RlQ29udGV4dC5vdmVyZmxvdylcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBuZXh0Q2FuZGlkYXRlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IHRoaXMuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHJlcGV0aXRpdmVFbGVtZW50cy5pc0VuYWJsZVRvVXBkYXRlU3RhdGUoKSkge1xuICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnVwZGF0ZVN0YXRlKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcG9zdExheW91dChcbiAgICBhbGxvd2VkOiBib29sZWFuLFxuICAgIHBvc2l0aW9uQWZ0ZXI6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGluaXRpYWxQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgKSB7XG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gdGhpcy5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYWxsb3dlZCkge1xuICAgICAgaWYgKGNvbHVtbi5zdG9wQXRPdmVyZmxvdykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgcG9zaXRpb25BZnRlciA9PSBudWxsIHx8XG4gICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLmlzQWZ0ZXJMYXN0Q29udGVudChwb3NpdGlvbkFmdGVyKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXBldGl0aXZlRWxlbWVudHMucHJldmVudFNraXBwaW5nRm9vdGVyKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGZpbmlzaEJyZWFrKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgdGhpcy5ub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IHRoaXMuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgY29uc3Qgcm9vdE5vZGVDb250ZXh0ID0gdGhpcy5ub2RlQ29udGV4dDtcbiAgICByZXR1cm4gYXBwZW5kSGVhZGVyKGZvcm1hdHRpbmdDb250ZXh0LCByb290Tm9kZUNvbnRleHQsIGNvbHVtbikudGhlbkFzeW5jKFxuICAgICAgKCkgPT5cbiAgICAgICAgYXBwZW5kRm9vdGVyKGZvcm1hdHRpbmdDb250ZXh0LCByb290Tm9kZUNvbnRleHQsIGNvbHVtbikudGhlbkFzeW5jKFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5wcmVwYXJlTGF5b3V0RnJhZ21lbnQoKTtcbiAgICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgICAgICB9LFxuICAgICAgICApLFxuICAgICk7XG4gIH1cblxuICBnZXRSZXBldGl0aXZlRWxlbWVudHMoKTogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzIHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IGdldFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICB0aGlzLm5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgcmV0dXJuIGZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBlcXVhbHNUbyhjb25zdHJhaW50OiBMYXlvdXRUeXBlLkZyYWdtZW50TGF5b3V0Q29uc3RyYWludCk6IGJvb2xlYW4ge1xuICAgIGlmICghKGNvbnN0cmFpbnQgaW5zdGFuY2VvZiBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dENvbnN0cmFpbnQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICBnZXRSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgICB0aGlzLm5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgKSA9PT1cbiAgICAgIGdldFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICAgIGNvbnN0cmFpbnQubm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0UHJpb3JpdHlPZkZpbmlzaEJyZWFrKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDEwO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dFJldHJ5ZXIgZXh0ZW5kcyBMYXlvdXRSZXRyeWVycy5BYnN0cmFjdExheW91dFJldHJ5ZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9ybWF0dGluZ0NvbnRleHQ6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcHJpdmF0ZSByZWFkb25seSBwcm9jZXNzb3I6IFJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0UHJvY2Vzc29yLFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcmVzb2x2ZUxheW91dE1vZGUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogTGF5b3V0VHlwZS5MYXlvdXRNb2RlIHtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgIGlmIChcbiAgICAgICFub2RlQ29udGV4dC5iZWxvbmdzVG8odGhpcy5mb3JtYXR0aW5nQ29udGV4dCkgJiZcbiAgICAgICFyZXBldGl0aXZlRWxlbWVudHMuZG9uZUluaXRpYWxMYXlvdXRcbiAgICApIHtcbiAgICAgIHJldHVybiBuZXcgTGF5b3V0RW50aXJlT3duZXJCbG9jayh0aGlzLmZvcm1hdHRpbmdDb250ZXh0LCB0aGlzLnByb2Nlc3Nvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChcbiAgICAgICAgIW5vZGVDb250ZXh0LmJlbG9uZ3NUbyh0aGlzLmZvcm1hdHRpbmdDb250ZXh0KSAmJlxuICAgICAgICAhbm9kZUNvbnRleHQuYWZ0ZXJcbiAgICAgICkge1xuICAgICAgICBpZiAocmVwZXRpdGl2ZUVsZW1lbnRzKSB7XG4gICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnByZXZlbnRTa2lwcGluZ0hlYWRlcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IExheW91dEZyYWdtZW50ZWRPd25lckJsb2NrKFxuICAgICAgICB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgICB0aGlzLnByb2Nlc3NvcixcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFbnRpcmVCbG9ja0xheW91dFN0cmF0ZWd5IGV4dGVuZHMgTGF5b3V0VXRpbC5FZGdlU2tpcHBlciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBmb3JtYXR0aW5nQ29udGV4dDogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Tm9uSW5saW5lRWxlbWVudE5vZGUoXG4gICAgc3RhdGU6IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgY29uc3Qgbm9kZUNvbnRleHQgPSBzdGF0ZS5ub2RlQ29udGV4dDtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgICBpZiAoXG4gICAgICBub2RlQ29udGV4dC5wYXJlbnQgJiZcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0LnJvb3RTb3VyY2VOb2RlID09PSBub2RlQ29udGV4dC5wYXJlbnQuc291cmNlTm9kZVxuICAgICkge1xuICAgICAgc3dpdGNoIChub2RlQ29udGV4dC5yZXBlYXRPbkJyZWFrKSB7XG4gICAgICAgIGNhc2UgXCJoZWFkZXJcIjpcbiAgICAgICAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cy5pc0hlYWRlclJlZ2lzdGVyZWQoKSkge1xuICAgICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnNldEhlYWRlck5vZGVDb250ZXh0KG5vZGVDb250ZXh0KTtcbiAgICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm9kZUNvbnRleHQucmVwZWF0T25CcmVhayA9IFwibm9uZVwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImZvb3RlclwiOlxuICAgICAgICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzLmlzRm9vdGVyUmVnaXN0ZXJlZCgpKSB7XG4gICAgICAgICAgICByZXBldGl0aXZlRWxlbWVudHMuc2V0Rm9vdGVyTm9kZUNvbnRleHQobm9kZUNvbnRleHQpO1xuICAgICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub2RlQ29udGV4dC5yZXBlYXRPbkJyZWFrID0gXCJub25lXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMuZmlyc3RDb250ZW50U291cmNlTm9kZSkge1xuICAgICAgICByZXBldGl0aXZlRWxlbWVudHMuZmlyc3RDb250ZW50U291cmNlTm9kZSA9IG5vZGVDb250ZXh0LnNvdXJjZU5vZGUgYXMgRWxlbWVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIExheW91dFV0aWwuRWRnZVNraXBwZXIucHJvdG90eXBlLnN0YXJ0Tm9uSW5saW5lRWxlbWVudE5vZGUuY2FsbChcbiAgICAgIHRoaXMsXG4gICAgICBzdGF0ZSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWZ0ZXJOb25JbmxpbmVFbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dDtcbiAgICBjb25zdCBub2RlQ29udGV4dCA9IHN0YXRlLm5vZGVDb250ZXh0O1xuICAgIGlmIChub2RlQ29udGV4dC5zb3VyY2VOb2RlID09PSBmb3JtYXR0aW5nQ29udGV4dC5yb290U291cmNlTm9kZSkge1xuICAgICAgZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCkubGFzdENvbnRlbnRTb3VyY2VOb2RlID1cbiAgICAgICAgc3RhdGUubGFzdEFmdGVyTm9kZUNvbnRleHQgJiZcbiAgICAgICAgKHN0YXRlLmxhc3RBZnRlck5vZGVDb250ZXh0LnNvdXJjZU5vZGUgYXMgRWxlbWVudCk7XG4gICAgICBzdGF0ZS5icmVhayA9IHRydWU7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIG5vZGVDb250ZXh0LnJlcGVhdE9uQnJlYWsgPT09IFwiaGVhZGVyXCIgfHxcbiAgICAgIG5vZGVDb250ZXh0LnJlcGVhdE9uQnJlYWsgPT09IFwiZm9vdGVyXCJcbiAgICApIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIExheW91dFV0aWwuRWRnZVNraXBwZXIucHJvdG90eXBlLmFmdGVyTm9uSW5saW5lRWxlbWVudE5vZGUuY2FsbChcbiAgICAgICAgdGhpcyxcbiAgICAgICAgc3RhdGUsXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRnJhZ21lbnRlZEJsb2NrTGF5b3V0U3RyYXRlZ3kgZXh0ZW5kcyBMYXlvdXRVdGlsLkVkZ2VTa2lwcGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGZvcm1hdHRpbmdDb250ZXh0OiBSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dFByb2Nlc3NvclxuICBleHRlbmRzIExheW91dFByb2Nlc3Nvci5CbG9ja0xheW91dFByb2Nlc3NvclxuICBpbXBsZW1lbnRzIExheW91dFByb2Nlc3Nvci5MYXlvdXRQcm9jZXNzb3Ige1xuICBsYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgaWYgKGNvbHVtbi5pc0Zsb2F0Tm9kZUNvbnRleHQobm9kZUNvbnRleHQpKSB7XG4gICAgICByZXR1cm4gY29sdW1uLmxheW91dEZsb2F0T3JGb290bm90ZShub2RlQ29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3Qgcm9vdFZpZXdOb2RlID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0Um9vdFZpZXdOb2RlKG5vZGVDb250ZXh0KTtcbiAgICBpZiAoIXJvb3RWaWV3Tm9kZSkge1xuICAgICAgcmV0dXJuIGNvbHVtbi5idWlsZERlZXBFbGVtZW50Vmlldyhub2RlQ29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChsZWFkaW5nRWRnZSkge1xuICAgICAgICBhcHBlbmRIZWFkZXJUb0FuY2VzdG9ycyhub2RlQ29udGV4dC5wYXJlbnQsIGNvbHVtbik7XG4gICAgICB9XG4gICAgICBpZiAoIW5vZGVDb250ZXh0LmJlbG9uZ3NUbyhmb3JtYXR0aW5nQ29udGV4dCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dFJldHJ5ZXIoXG4gICAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgKS5sYXlvdXQobm9kZUNvbnRleHQsIGNvbHVtbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gTGF5b3V0UHJvY2Vzc29yLkJsb2NrTGF5b3V0UHJvY2Vzc29yLnByb3RvdHlwZS5sYXlvdXQuY2FsbChcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICAgIGNvbHVtbixcbiAgICAgICAgICBsZWFkaW5nRWRnZSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGFydE5vbklubGluZUVsZW1lbnROb2RlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dE9yTnVsbChcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgIXJlcGV0aXRpdmVFbGVtZW50cy5hbGxvd0luc2VydFJlcGVhdGl0aXZlRWxlbWVudHMgJiZcbiAgICAgIChyZXBldGl0aXZlRWxlbWVudHMuaXNIZWFkZXJTb3VyY2VOb2RlKG5vZGVDb250ZXh0LnNvdXJjZU5vZGUpIHx8XG4gICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5pc0Zvb3RlclNvdXJjZU5vZGUobm9kZUNvbnRleHQuc291cmNlTm9kZSkpXG4gICAgKSB7XG4gICAgICBub2RlQ29udGV4dC52aWV3Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZG9Jbml0aWFsTGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PihcbiAgICAgIFwiQmxvY2tMYXlvdXRQcm9jZXNzb3IuZG9Jbml0aWFsTGF5b3V0XCIsXG4gICAgKTtcbiAgICB0aGlzLmxheW91dEVudGlyZUJsb2NrKG5vZGVDb250ZXh0LCBjb2x1bW4pLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHByaXZhdGUgbGF5b3V0RW50aXJlQmxvY2soXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBjb25zdCBzdHJhdGVneSA9IG5ldyBFbnRpcmVCbG9ja0xheW91dFN0cmF0ZWd5KGZvcm1hdHRpbmdDb250ZXh0LCBjb2x1bW4pO1xuICAgIGNvbnN0IGl0ZXJhdG9yID0gbmV3IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3IoXG4gICAgICBzdHJhdGVneSxcbiAgICAgIGNvbHVtbi5sYXlvdXRDb250ZXh0LFxuICAgICk7XG4gICAgcmV0dXJuIGl0ZXJhdG9yLml0ZXJhdGUobm9kZUNvbnRleHQpO1xuICB9XG5cbiAgZG9MYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFwiZG9MYXlvdXRcIik7XG4gICAgY29uc3QgY29udCA9IGNvbHVtbi5sYXlvdXRDb250ZXh0Lm5leHRJblRyZWUobm9kZUNvbnRleHQsIGZhbHNlKTtcbiAgICBMYXlvdXQucHJvY2Vzc0FmdGVySWZDb250aW51ZXMoY29udCwgY29sdW1uKS50aGVuKChyZXNOb2RlQ29udGV4dCkgPT4ge1xuICAgICAgbGV0IG5leHROb2RlQ29udGV4dCA9IHJlc05vZGVDb250ZXh0O1xuICAgICAgZnJhbWVcbiAgICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICAgIHdoaWxlIChuZXh0Tm9kZUNvbnRleHQpIHtcbiAgICAgICAgICAgIGxldCBwZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbHVtblxuICAgICAgICAgICAgICAubGF5b3V0TmV4dChuZXh0Tm9kZUNvbnRleHQsIGZhbHNlKVxuICAgICAgICAgICAgICAudGhlbigobm9kZUNvbnRleHRQYXJhbSkgPT4ge1xuICAgICAgICAgICAgICAgIG5leHROb2RlQ29udGV4dCA9IG5vZGVDb250ZXh0UGFyYW07XG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29sdW1uLnBhZ2VCcmVha1R5cGUpIHtcbiAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTsgLy8gTG9vcCBlbmRcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgbmV4dE5vZGVDb250ZXh0ICYmXG4gICAgICAgICAgICAgICAgICBjb2x1bW4uc3RvcEJ5T3ZlcmZsb3cobmV4dE5vZGVDb250ZXh0KVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpOyAvLyBMb29wIGVuZFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICBuZXh0Tm9kZUNvbnRleHQgJiZcbiAgICAgICAgICAgICAgICAgIG5leHROb2RlQ29udGV4dC5hZnRlciAmJlxuICAgICAgICAgICAgICAgICAgbmV4dE5vZGVDb250ZXh0LnNvdXJjZU5vZGUgPT0gZm9ybWF0dGluZ0NvbnRleHQucm9vdFNvdXJjZU5vZGVcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTsgLy8gTG9vcCBlbmRcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3luYyBjYXNlXG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFzeW5jIGNhc2VcbiAgICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAocGVuZGluZykge1xuICAgICAgICAgICAgICAvLyBBc3luYyBjYXNlIGFuZCBsb29wIGVuZFxuICAgICAgICAgICAgICBwZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTeW5jIGNhc2VcbiAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBmcmFtZS5maW5pc2gobmV4dE5vZGVDb250ZXh0KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZmluaXNoQnJlYWsoXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgZm9yY2VSZW1vdmVTZWxmOiBib29sZWFuLFxuICAgIGVuZE9mQ29sdW1uOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB8IG51bGwge1xuICAgIHJldHVybiBMYXlvdXRQcm9jZXNzb3IuQmxvY2tMYXlvdXRQcm9jZXNzb3IucHJvdG90eXBlLmZpbmlzaEJyZWFrLmNhbGwoXG4gICAgICB0aGlzLFxuICAgICAgY29sdW1uLFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICBmb3JjZVJlbW92ZVNlbGYsXG4gICAgICBlbmRPZkNvbHVtbixcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xlYXJPdmVyZmxvd25WaWV3Tm9kZXMoXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgICBwYXJlbnROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHJlbW92ZVNlbGY6IGJvb2xlYW4sXG4gICkge1xuICAgIExheW91dFByb2Nlc3Nvci5CbG9ja0xheW91dFByb2Nlc3Nvci5wcm90b3R5cGUuY2xlYXJPdmVyZmxvd25WaWV3Tm9kZXMoXG4gICAgICBjb2x1bW4sXG4gICAgICBwYXJlbnROb2RlQ29udGV4dCxcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgcmVtb3ZlU2VsZixcbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVhY2hBbmNlc3Rvck5vZGVDb250ZXh0KFxuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gIGNhbGxiYWNrOiAoXG4gICAgcDE6IFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcDI6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApID0+IGFueSxcbik6IHZvaWQge1xuICBmb3IgKGxldCBuYyA9IG5vZGVDb250ZXh0OyBuYzsgbmMgPSBuYy5wYXJlbnQpIHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IG5jLmZvcm1hdHRpbmdDb250ZXh0O1xuICAgIGlmIChcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0ICYmXG4gICAgICBmb3JtYXR0aW5nQ29udGV4dCBpbnN0YW5jZW9mIFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQgJiZcbiAgICAgICFuYy5iZWxvbmdzVG8oZm9ybWF0dGluZ0NvbnRleHQpXG4gICAgKSB7XG4gICAgICBjYWxsYmFjayhmb3JtYXR0aW5nQ29udGV4dCwgbmMpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kSGVhZGVyVG9BbmNlc3RvcnMoXG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbik6IHZvaWQge1xuICBpZiAoIW5vZGVDb250ZXh0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGVhY2hBbmNlc3Rvck5vZGVDb250ZXh0KFxuICAgIG5vZGVDb250ZXh0LmFmdGVyID8gbm9kZUNvbnRleHQucGFyZW50IDogbm9kZUNvbnRleHQsXG4gICAgKGZvcm1hdHRpbmdDb250ZXh0LCBuYykgPT4ge1xuICAgICAgaWYgKFRhYmxlLmlzSW5zdGFuY2VPZlRhYmxlRm9ybWF0dGluZ0NvbnRleHQoZm9ybWF0dGluZ0NvbnRleHQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLnB1c2goXG4gICAgICAgIG5ldyBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dENvbnN0cmFpbnQobmMpLFxuICAgICAgKTtcbiAgICB9LFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kSGVhZGVyKFxuICBmb3JtYXR0aW5nQ29udGV4dDogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCxcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgaWYgKHJlcGV0aXRpdmVFbGVtZW50cykge1xuICAgIGNvbnN0IHJvb3ROb2RlQ29udGV4dCA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJvb3ROb2RlQ29udGV4dChub2RlQ29udGV4dCk7XG4gICAgaWYgKHJvb3ROb2RlQ29udGV4dC52aWV3Tm9kZSkge1xuICAgICAgY29uc3QgZmlyc3RDaGlsZCA9IHJvb3ROb2RlQ29udGV4dC52aWV3Tm9kZS5maXJzdENoaWxkO1xuICAgICAgcmV0dXJuIHJlcGV0aXRpdmVFbGVtZW50cy5hcHBlbmRIZWFkZXJUb0ZyYWdtZW50KFxuICAgICAgICByb290Tm9kZUNvbnRleHQsXG4gICAgICAgIGZpcnN0Q2hpbGQsXG4gICAgICAgIGNvbHVtbixcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZEZvb3RlcihcbiAgZm9ybWF0dGluZ0NvbnRleHQ6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQsXG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbik6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gIGlmIChyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cy5pc1NraXBGb290ZXIpIHtcbiAgICAgIGNvbnN0IHJvb3ROb2RlQ29udGV4dCA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJvb3ROb2RlQ29udGV4dChub2RlQ29udGV4dCk7XG4gICAgICBpZiAocm9vdE5vZGVDb250ZXh0LnZpZXdOb2RlKSB7XG4gICAgICAgIHJldHVybiByZXBldGl0aXZlRWxlbWVudHMuYXBwZW5kRm9vdGVyVG9GcmFnbWVudChcbiAgICAgICAgICByb290Tm9kZUNvbnRleHQsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBjb2x1bW4sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbn1cblxuZnVuY3Rpb24gZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dE9yTnVsbChcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuKTogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCB8IG51bGwge1xuICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0O1xuICBpZiAoIWZvcm1hdHRpbmdDb250ZXh0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKFxuICAgICEoZm9ybWF0dGluZ0NvbnRleHQgaW5zdGFuY2VvZiBSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KVxuICApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gZm9ybWF0dGluZ0NvbnRleHQ7XG59XG5cbmZ1bmN0aW9uIGdldFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQoXG4gIGZvcm1hdHRpbmdDb250ZXh0OiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCxcbik6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQge1xuICBBc3NlcnRzLmFzc2VydChcbiAgICBmb3JtYXR0aW5nQ29udGV4dCBpbnN0YW5jZW9mIFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQsXG4gICk7XG4gIHJldHVybiBmb3JtYXR0aW5nQ29udGV4dCBhcyBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0O1xufVxuXG5jb25zdCByZXBldGl0aXZlTGF5b3V0UHJvY2Vzc29yID0gbmV3IFJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0UHJvY2Vzc29yKCk7XG5cblBsdWdpbi5yZWdpc3Rlckhvb2soXG4gIFBsdWdpbi5IT09LUy5SRVNPTFZFX0xBWU9VVF9QUk9DRVNTT1IsXG4gIChmb3JtYXR0aW5nQ29udGV4dCkgPT4ge1xuICAgIGlmIChcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0IGluc3RhbmNlb2YgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCAmJlxuICAgICAgIVRhYmxlLmlzSW5zdGFuY2VPZlRhYmxlRm9ybWF0dGluZ0NvbnRleHQoZm9ybWF0dGluZ0NvbnRleHQpXG4gICAgKSB7XG4gICAgICByZXR1cm4gcmVwZXRpdGl2ZUxheW91dFByb2Nlc3NvcjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4pO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgVGFibGUgLSBUYWJsZSBmb3JtYXR0aW5nIGNvbnRleHQgYW5kIGxheW91dC5cbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIEJyZWFrUG9zaXRpb24gZnJvbSBcIi4vYnJlYWstcG9zaXRpb25cIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIExheW91dEhlbHBlciBmcm9tIFwiLi9sYXlvdXQtaGVscGVyXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXRQcm9jZXNzb3IgZnJvbSBcIi4vbGF5b3V0LXByb2Nlc3NvclwiO1xuaW1wb3J0ICogYXMgTGF5b3V0UmV0cnllcnMgZnJvbSBcIi4vbGF5b3V0LXJldHJ5ZXJzXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXRVdGlsIGZyb20gXCIuL2xheW91dC11dGlsXCI7XG5pbXBvcnQgKiBhcyBQbHVnaW4gZnJvbSBcIi4vcGx1Z2luXCI7XG5pbXBvcnQgKiBhcyBSZXBldGl0aXZlRWxlbWVudEltcGwgZnJvbSBcIi4vcmVwZXRpdGl2ZS1lbGVtZW50XCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFZnZW4gZnJvbSBcIi4vdmdlblwiO1xuaW1wb3J0ICogYXMgVnRyZWVJbXBsIGZyb20gXCIuL3Z0cmVlXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXQgZnJvbSBcIi4vbGF5b3V0XCI7XG5pbXBvcnQge1xuICBGb3JtYXR0aW5nQ29udGV4dFR5cGUsXG4gIEZyYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUsXG4gIExheW91dCBhcyBMYXlvdXRUeXBlLFxuICBSZXBldGl0aXZlRWxlbWVudCxcbiAgVGFibGUsXG4gIFZ0cmVlLFxufSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgY2xhc3MgVGFibGVSb3cge1xuICBjZWxsczogVGFibGVDZWxsW10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgcm93SW5kZXg6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgc291cmNlTm9kZTogTm9kZSxcbiAgKSB7fVxuXG4gIGFkZENlbGwoY2VsbDogVGFibGVDZWxsKSB7XG4gICAgdGhpcy5jZWxscy5wdXNoKGNlbGwpO1xuICB9XG5cbiAgZ2V0TWluaW11bUhlaWdodCgpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLm1pbi5hcHBseShcbiAgICAgIG51bGwsXG4gICAgICB0aGlzLmNlbGxzLm1hcCgoYykgPT4gYy5oZWlnaHQpLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRhYmxlQ2VsbCB7XG4gIHZpZXdFbGVtZW50OiBFbGVtZW50IHwgbnVsbDtcbiAgY29sU3BhbjogbnVtYmVyO1xuICByb3dTcGFuOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyID0gMDtcbiAgYW5jaG9yU2xvdDogVGFibGVTbG90ID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgcm93SW5kZXg6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sdW1uSW5kZXg6IG51bWJlcixcbiAgICB2aWV3RWxlbWVudDogRWxlbWVudCxcbiAgKSB7XG4gICAgdGhpcy52aWV3RWxlbWVudCA9IHZpZXdFbGVtZW50O1xuICAgIHRoaXMuY29sU3BhbiA9ICh2aWV3RWxlbWVudCBhcyBIVE1MVGFibGVDZWxsRWxlbWVudCkuY29sU3BhbiB8fCAxO1xuICAgIHRoaXMucm93U3BhbiA9ICh2aWV3RWxlbWVudCBhcyBIVE1MVGFibGVDZWxsRWxlbWVudCkucm93U3BhbiB8fCAxO1xuICB9XG5cbiAgc2V0SGVpZ2h0KGhlaWdodDogbnVtYmVyKSB7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gIH1cblxuICBzZXRBbmNob3JTbG90KHNsb3Q6IFRhYmxlU2xvdCkge1xuICAgIHRoaXMuYW5jaG9yU2xvdCA9IHNsb3Q7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRhYmxlU2xvdCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSByb3dJbmRleDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBjb2x1bW5JbmRleDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBjZWxsOiBUYWJsZUNlbGwsXG4gICkge31cbn1cblxuZXhwb3J0IGNsYXNzIFRhYmxlQ2VsbEZyYWdtZW50IHtcbiAgcHNldWRvQ29sdW1uOiBMYXlvdXQuUHNldWRvQ29sdW1uO1xuICBlbXB0eTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgcHNldWRvQ29sdW1uQ29udGFpbmVyOiBFbGVtZW50LFxuICAgIHB1YmxpYyByZWFkb25seSBjZWxsTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApIHtcbiAgICB0aGlzLnBzZXVkb0NvbHVtbiA9IG5ldyBMYXlvdXQuUHNldWRvQ29sdW1uKFxuICAgICAgY29sdW1uLFxuICAgICAgcHNldWRvQ29sdW1uQ29udGFpbmVyLFxuICAgICAgY2VsbE5vZGVDb250ZXh0LFxuICAgICk7XG4gIH1cblxuICBmaW5kQWNjZXB0YWJsZUJyZWFrUG9zaXRpb24oKTogTGF5b3V0LkJyZWFrUG9zaXRpb25BbmROb2RlQ29udGV4dCB7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuY2VsbE5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQ7XG4gICAgY29uc3QgdmVydGljYWxBbGlnbiA9IHRoaXMuY2VsbE5vZGVDb250ZXh0LnZlcnRpY2FsQWxpZ247XG4gICAgaWYgKHZlcnRpY2FsQWxpZ24gPT09IFwibWlkZGxlXCIgfHwgdmVydGljYWxBbGlnbiA9PT0gXCJib3R0b21cIikge1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcInZlcnRpY2FsLWFsaWduXCIsIFwidG9wXCIpO1xuICAgIH1cbiAgICBjb25zdCBicCA9IHRoaXMucHNldWRvQ29sdW1uLmZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbih0cnVlKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwidmVydGljYWwtYWxpZ25cIiwgdmVydGljYWxBbGlnbik7XG4gICAgcmV0dXJuIGJwO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUYWJsZUNhcHRpb25WaWV3IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHZpZXdOb2RlOiBFbGVtZW50LFxuICAgIHB1YmxpYyByZWFkb25seSBzaWRlOiBzdHJpbmcsXG4gICkge31cbn1cblxuZXhwb3J0IGNsYXNzIEJldHdlZW5UYWJsZVJvd0JyZWFrUG9zaXRpb24gZXh0ZW5kcyBCcmVha1Bvc2l0aW9uLkVkZ2VCcmVha1Bvc2l0aW9uIHtcbiAgcHJpdmF0ZSBmb3JtYXR0aW5nQ29udGV4dDogVGFibGVGb3JtYXR0aW5nQ29udGV4dDtcblxuICBhY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zOiBMYXlvdXQuQnJlYWtQb3NpdGlvbkFuZE5vZGVDb250ZXh0W10gPSBudWxsO1xuICBwcml2YXRlIHJvd0luZGV4OiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgYnJlYWtPbkVkZ2U6IHN0cmluZyB8IG51bGwsXG4gICAgb3ZlcmZsb3dzOiBib29sZWFuLFxuICAgIGNvbHVtbkJsb2NrU2l6ZTogbnVtYmVyLFxuICApIHtcbiAgICBzdXBlcihwb3NpdGlvbiwgYnJlYWtPbkVkZ2UsIG92ZXJmbG93cywgY29sdW1uQmxvY2tTaXplKTtcbiAgICB0aGlzLmZvcm1hdHRpbmdDb250ZXh0ID0gcG9zaXRpb24uZm9ybWF0dGluZ0NvbnRleHQgYXMgVGFibGVGb3JtYXR0aW5nQ29udGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZpbmRBY2NlcHRhYmxlQnJlYWsoXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIHBlbmFsdHk6IG51bWJlcixcbiAgKTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIGNvbnN0IGJyZWFrTm9kZUNvbnRleHQgPSBzdXBlci5maW5kQWNjZXB0YWJsZUJyZWFrKGNvbHVtbiwgcGVuYWx0eSk7XG4gICAgaWYgKHBlbmFsdHkgPCB0aGlzLmdldE1pbkJyZWFrUGVuYWx0eSgpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgYWxsQ2VsbHNCcmVha2FibGUgPSB0aGlzLmdldEFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnMoKS5ldmVyeShcbiAgICAgIChicCkgPT4gISFicC5ub2RlQ29udGV4dCxcbiAgICApO1xuICAgIGlmIChhbGxDZWxsc0JyZWFrYWJsZSkge1xuICAgICAgcmV0dXJuIGJyZWFrTm9kZUNvbnRleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE1pbkJyZWFrUGVuYWx0eSgpOiBudW1iZXIge1xuICAgIGxldCBwZW5hbHR5ID0gc3VwZXIuZ2V0TWluQnJlYWtQZW5hbHR5KCk7XG4gICAgdGhpcy5nZXRBY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zKCkuZm9yRWFjaCgoYnApID0+IHtcbiAgICAgIHBlbmFsdHkgKz0gYnAuYnJlYWtQb3NpdGlvbi5nZXRNaW5CcmVha1BlbmFsdHkoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcGVuYWx0eTtcbiAgfVxuXG4gIGdldEFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnMoKTogTGF5b3V0LkJyZWFrUG9zaXRpb25BbmROb2RlQ29udGV4dFtdIHtcbiAgICBpZiAoIXRoaXMuYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucykge1xuICAgICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0O1xuICAgICAgY29uc3QgY2VsbEZyYWdtZW50cyA9IHRoaXMuZ2V0Q2VsbEZyYWdtZW50cygpO1xuICAgICAgdGhpcy5hY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zID0gY2VsbEZyYWdtZW50cy5tYXAoKGNlbGxGcmFnbWVudCkgPT5cbiAgICAgICAgY2VsbEZyYWdtZW50LmZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbigpLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Um93SW5kZXgoKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy5yb3dJbmRleCAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5yb3dJbmRleDtcbiAgICB9XG4gICAgcmV0dXJuICh0aGlzLnJvd0luZGV4ID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5maW5kUm93SW5kZXhCeVNvdXJjZU5vZGUoXG4gICAgICB0aGlzLnBvc2l0aW9uLnNvdXJjZU5vZGUsXG4gICAgKSk7XG4gIH1cblxuICBwcml2YXRlIGdldENlbGxGcmFnbWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0dGluZ0NvbnRleHRcbiAgICAgIC5nZXRSb3dTcGFubmluZ0NlbGxzT3ZlcmZsb3dpbmdUaGVSb3codGhpcy5nZXRSb3dJbmRleCgpKVxuICAgICAgLm1hcChcbiAgICAgICAgdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5nZXRDZWxsRnJhZ21lbnRPZkNlbGwsXG4gICAgICAgIHRoaXMuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbnNpZGVUYWJsZVJvd0JyZWFrUG9zaXRpb24gZXh0ZW5kcyBCcmVha1Bvc2l0aW9uLkFic3RyYWN0QnJlYWtQb3NpdGlvbiB7XG4gIGFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnM6IExheW91dC5CcmVha1Bvc2l0aW9uQW5kTm9kZUNvbnRleHRbXSA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHJvd0luZGV4OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGJlZm9yZU5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9ybWF0dGluZ0NvbnRleHQ6IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmaW5kQWNjZXB0YWJsZUJyZWFrKFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBwZW5hbHR5OiBudW1iZXIsXG4gICk6IFZ0cmVlLk5vZGVDb250ZXh0IHtcbiAgICBpZiAocGVuYWx0eSA8IHRoaXMuZ2V0TWluQnJlYWtQZW5hbHR5KCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBjZWxsRnJhZ21lbnRzID0gdGhpcy5nZXRDZWxsRnJhZ21lbnRzKCk7XG4gICAgY29uc3QgYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucyA9IHRoaXMuZ2V0QWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucygpO1xuICAgIGNvbnN0IGFsbENlbGxzQnJlYWthYmxlID1cbiAgICAgIGFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnMuZXZlcnkoKGJwKSA9PiAhIWJwLm5vZGVDb250ZXh0KSAmJlxuICAgICAgYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucy5zb21lKChicCwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgcHNldWRvQ29sdW1uID0gY2VsbEZyYWdtZW50c1tpbmRleF0ucHNldWRvQ29sdW1uO1xuICAgICAgICBjb25zdCBub2RlQ29udGV4dCA9IGJwLm5vZGVDb250ZXh0O1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICFwc2V1ZG9Db2x1bW4uaXNTdGFydE5vZGVDb250ZXh0KG5vZGVDb250ZXh0KSAmJlxuICAgICAgICAgICFwc2V1ZG9Db2x1bW4uaXNMYXN0QWZ0ZXJOb2RlQ29udGV4dChub2RlQ29udGV4dClcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIHRoaXMuYmVmb3JlTm9kZUNvbnRleHQub3ZlcmZsb3cgPSBhY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zLnNvbWUoXG4gICAgICAoYnApID0+IGJwLm5vZGVDb250ZXh0ICYmIGJwLm5vZGVDb250ZXh0Lm92ZXJmbG93LFxuICAgICk7XG4gICAgaWYgKGFsbENlbGxzQnJlYWthYmxlKSB7XG4gICAgICByZXR1cm4gdGhpcy5iZWZvcmVOb2RlQ29udGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0TWluQnJlYWtQZW5hbHR5KCk6IG51bWJlciB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0O1xuICAgIGNvbnN0IHJvdyA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJvd0J5SW5kZXgodGhpcy5yb3dJbmRleCk7XG4gICAgbGV0IHBlbmFsdHkgPSAwO1xuICAgIGlmICghZm9ybWF0dGluZ0NvbnRleHQuaXNGcmVlbHlGcmFnbWVudGFibGVSb3cocm93KSkge1xuICAgICAgcGVuYWx0eSArPSAxMDtcbiAgICB9XG4gICAgdGhpcy5nZXRBY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zKCkuZm9yRWFjaCgoYnApID0+IHtcbiAgICAgIHBlbmFsdHkgKz0gYnAuYnJlYWtQb3NpdGlvbi5nZXRNaW5CcmVha1BlbmFsdHkoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcGVuYWx0eTtcbiAgfVxuXG4gIGdldEFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnMoKTogTGF5b3V0LkJyZWFrUG9zaXRpb25BbmROb2RlQ29udGV4dFtdIHtcbiAgICBpZiAoIXRoaXMuYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucykge1xuICAgICAgY29uc3QgY2VsbEZyYWdtZW50cyA9IHRoaXMuZ2V0Q2VsbEZyYWdtZW50cygpO1xuICAgICAgdGhpcy5hY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zID0gY2VsbEZyYWdtZW50cy5tYXAoKGNlbGxGcmFnbWVudCkgPT5cbiAgICAgICAgY2VsbEZyYWdtZW50LmZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbigpLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Q2VsbEZyYWdtZW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtYXR0aW5nQ29udGV4dFxuICAgICAgLmdldENlbGxzRmFsbGluZ09uUm93KHRoaXMucm93SW5kZXgpXG4gICAgICAubWFwKFxuICAgICAgICB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmdldENlbGxGcmFnbWVudE9mQ2VsbCxcbiAgICAgICAgdGhpcy5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgQnJva2VuVGFibGVDZWxsUG9zaXRpb24gPSB7XG4gIGNlbGxOb2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbjtcbiAgYnJlYWtDaHVua1Bvc2l0aW9uOiBWdHJlZS5DaHVua1Bvc2l0aW9uO1xuICBjZWxsOiBUYWJsZUNlbGw7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB0YWJsZVNvdXJjZU5vZGUgU291cmNlIG5vZGUgb2YgdGhlIHRhYmxlXG4gKi9cbmV4cG9ydCBjbGFzcyBUYWJsZUZvcm1hdHRpbmdDb250ZXh0XG4gIGV4dGVuZHMgUmVwZXRpdGl2ZUVsZW1lbnRJbXBsLlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHRcbiAgaW1wbGVtZW50cyBUYWJsZS5UYWJsZUZvcm1hdHRpbmdDb250ZXh0IHtcbiAgZm9ybWF0dGluZ0NvbnRleHRUeXBlOiBGb3JtYXR0aW5nQ29udGV4dFR5cGUgPSBcIlRhYmxlXCI7XG4gIHZlcnRpY2FsOiBib29sZWFuID0gZmFsc2U7XG4gIGNvbHVtbkNvdW50OiBudW1iZXIgPSAtMTtcbiAgdGFibGVXaWR0aDogbnVtYmVyID0gMDtcbiAgY2FwdGlvbnM6IFRhYmxlQ2FwdGlvblZpZXdbXSA9IFtdO1xuICBjb2xHcm91cHM6IERvY3VtZW50RnJhZ21lbnQgfCBudWxsID0gbnVsbDtcbiAgY29sV2lkdGhzOiBudW1iZXJbXSB8IG51bGwgPSBudWxsO1xuICBpbmxpbmVCb3JkZXJTcGFjaW5nOiBudW1iZXIgPSAwO1xuICByb3dzOiBUYWJsZVJvd1tdID0gW107XG4gIHNsb3RzOiBUYWJsZVNsb3RbXVtdID0gW107XG4gIGNlbGxGcmFnbWVudHM6IFRhYmxlQ2VsbEZyYWdtZW50W11bXSA9IFtdO1xuICBsYXN0Um93Vmlld05vZGU6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgY2VsbEJyZWFrUG9zaXRpb25zOiBCcm9rZW5UYWJsZUNlbGxQb3NpdGlvbltdID0gW107XG4gIHJlcGV0aXRpdmVFbGVtZW50czogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcGFyZW50OiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGFibGVTb3VyY2VOb2RlOiBFbGVtZW50LFxuICApIHtcbiAgICBzdXBlcihwYXJlbnQsIHRhYmxlU291cmNlTm9kZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXROYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiVGFibGUgZm9ybWF0dGluZyBjb250ZXh0IChUYWJsZS5UYWJsZUZvcm1hdHRpbmdDb250ZXh0KVwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNGaXJzdFRpbWUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBmaXJzdFRpbWU6IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgICBpZiAoIWZpcnN0VGltZSkge1xuICAgICAgcmV0dXJuIGZpcnN0VGltZTtcbiAgICB9XG4gICAgc3dpdGNoIChub2RlQ29udGV4dC5kaXNwbGF5KSB7XG4gICAgICBjYXNlIFwidGFibGUtcm93XCI6XG4gICAgICAgIHJldHVybiB0aGlzLmNlbGxCcmVha1Bvc2l0aW9ucy5sZW5ndGggPT09IDA7XG4gICAgICBjYXNlIFwidGFibGUtY2VsbFwiOlxuICAgICAgICByZXR1cm4gIXRoaXMuY2VsbEJyZWFrUG9zaXRpb25zLnNvbWUoXG4gICAgICAgICAgKHApID0+IHAuY2VsbE5vZGVQb3NpdGlvbi5zdGVwc1swXS5ub2RlID09PSBub2RlQ29udGV4dC5zb3VyY2VOb2RlLFxuICAgICAgICApO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZpcnN0VGltZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQYXJlbnQoKTogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQge1xuICAgIHJldHVybiB0aGlzLnBhcmVudDtcbiAgfVxuXG4gIGZpbmlzaEZyYWdtZW50KCkge1xuICAgIHRoaXMuY2VsbEZyYWdtZW50cyA9IFtdO1xuICB9XG5cbiAgYWRkUm93KHJvd0luZGV4OiBudW1iZXIsIHJvdzogVGFibGVSb3cpIHtcbiAgICB0aGlzLnJvd3Nbcm93SW5kZXhdID0gcm93O1xuICB9XG5cbiAgZ2V0Um93U2xvdHMocm93SW5kZXg6IG51bWJlcik6IFRhYmxlU2xvdFtdIHtcbiAgICBsZXQgcm93U2xvdHMgPSB0aGlzLnNsb3RzW3Jvd0luZGV4XTtcbiAgICBpZiAoIXJvd1Nsb3RzKSB7XG4gICAgICByb3dTbG90cyA9IHRoaXMuc2xvdHNbcm93SW5kZXhdID0gW107XG4gICAgfVxuICAgIHJldHVybiByb3dTbG90cztcbiAgfVxuXG4gIGFkZENlbGwocm93SW5kZXg6IG51bWJlciwgY2VsbDogVGFibGVDZWxsKSB7XG4gICAgbGV0IHJvdyA9IHRoaXMucm93c1tyb3dJbmRleF07XG4gICAgaWYgKCFyb3cpIHtcbiAgICAgIHRoaXMuYWRkUm93KHJvd0luZGV4LCBuZXcgVGFibGVSb3cocm93SW5kZXgsIG51bGwpKTtcbiAgICAgIHJvdyA9IHRoaXMucm93c1tyb3dJbmRleF07XG4gICAgfVxuICAgIEFzc2VydHMuYXNzZXJ0KHJvdyk7XG4gICAgcm93LmFkZENlbGwoY2VsbCk7XG4gICAgY29uc3Qgcm93VXBwZXIgPSByb3dJbmRleCArIGNlbGwucm93U3BhbjtcbiAgICBsZXQgcm93U2xvdHMgPSB0aGlzLmdldFJvd1Nsb3RzKHJvd0luZGV4KTtcbiAgICBsZXQgc3RhcnRDb2xJbmRleCA9IDA7XG4gICAgd2hpbGUgKHJvd1Nsb3RzW3N0YXJ0Q29sSW5kZXhdKSB7XG4gICAgICBzdGFydENvbEluZGV4Kys7XG4gICAgfVxuICAgIGZvciAoOyByb3dJbmRleCA8IHJvd1VwcGVyOyByb3dJbmRleCsrKSB7XG4gICAgICByb3dTbG90cyA9IHRoaXMuZ2V0Um93U2xvdHMocm93SW5kZXgpO1xuICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0Q29sSW5kZXg7IGkgPCBzdGFydENvbEluZGV4ICsgY2VsbC5jb2xTcGFuOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc2xvdCA9IChyb3dTbG90c1tpXSA9IG5ldyBUYWJsZVNsb3Qocm93SW5kZXgsIGksIGNlbGwpKTtcbiAgICAgICAgaWYgKCFjZWxsLmFuY2hvclNsb3QpIHtcbiAgICAgICAgICBjZWxsLnNldEFuY2hvclNsb3Qoc2xvdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRSb3dCeUluZGV4KGluZGV4OiBudW1iZXIpOiBUYWJsZVJvdyB7XG4gICAgY29uc3Qgcm93ID0gdGhpcy5yb3dzW2luZGV4XTtcbiAgICBBc3NlcnRzLmFzc2VydChyb3cpO1xuICAgIHJldHVybiByb3c7XG4gIH1cblxuICBmaW5kUm93SW5kZXhCeVNvdXJjZU5vZGUoc291cmNlTm9kZTogTm9kZSk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucm93cy5maW5kSW5kZXgoKHJvdykgPT4gc291cmNlTm9kZSA9PT0gcm93LnNvdXJjZU5vZGUpO1xuICB9XG5cbiAgYWRkQ2VsbEZyYWdtZW50KFxuICAgIHJvd0luZGV4OiBudW1iZXIsXG4gICAgY29sdW1uSW5kZXg6IG51bWJlcixcbiAgICBjZWxsRnJhZ21lbnQ6IFRhYmxlQ2VsbEZyYWdtZW50LFxuICApIHtcbiAgICBsZXQgbGlzdCA9IHRoaXMuY2VsbEZyYWdtZW50c1tyb3dJbmRleF07XG4gICAgaWYgKCFsaXN0KSB7XG4gICAgICBsaXN0ID0gdGhpcy5jZWxsRnJhZ21lbnRzW3Jvd0luZGV4XSA9IFtdO1xuICAgIH1cbiAgICBsaXN0W2NvbHVtbkluZGV4XSA9IGNlbGxGcmFnbWVudDtcbiAgfVxuXG4gIGdldENlbGxzRmFsbGluZ09uUm93KHJvd0luZGV4OiBudW1iZXIpOiBUYWJsZUNlbGxbXSB7XG4gICAgY29uc3Qgcm93U2xvdHMgPSB0aGlzLmdldFJvd1Nsb3RzKHJvd0luZGV4KTtcbiAgICByZXR1cm4gcm93U2xvdHMucmVkdWNlKCh1bmlxdWVDZWxscywgc2xvdCkgPT4ge1xuICAgICAgaWYgKHNsb3QuY2VsbCAhPT0gdW5pcXVlQ2VsbHNbdW5pcXVlQ2VsbHMubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgcmV0dXJuIHVuaXF1ZUNlbGxzLmNvbmNhdChzbG90LmNlbGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVuaXF1ZUNlbGxzO1xuICAgICAgfVxuICAgIH0sIFtdKTtcbiAgfVxuXG4gIGdldFJvd1NwYW5uaW5nQ2VsbHNPdmVyZmxvd2luZ1RoZVJvdyhyb3dJbmRleDogbnVtYmVyKTogVGFibGVDZWxsW10ge1xuICAgIHJldHVybiB0aGlzLmdldENlbGxzRmFsbGluZ09uUm93KHJvd0luZGV4KS5maWx0ZXIoXG4gICAgICAoY2VsbCkgPT4gY2VsbC5yb3dJbmRleCArIGNlbGwucm93U3BhbiAtIDEgPiByb3dJbmRleCxcbiAgICApO1xuICB9XG5cbiAgZ2V0Q2VsbEZyYWdtZW50T2ZDZWxsKGNlbGw6IFRhYmxlQ2VsbCk6IFRhYmxlQ2VsbEZyYWdtZW50IHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5jZWxsRnJhZ21lbnRzW2NlbGwucm93SW5kZXhdICYmXG4gICAgICB0aGlzLmNlbGxGcmFnbWVudHNbY2VsbC5yb3dJbmRleF1bY2VsbC5jb2x1bW5JbmRleF1cbiAgICApO1xuICB9XG5cbiAgaXNGcmVlbHlGcmFnbWVudGFibGVSb3cocm93OiBUYWJsZVJvdyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiByb3cuZ2V0TWluaW11bUhlaWdodCgpID4gdGhpcy50YWJsZVdpZHRoIC8gMjtcbiAgfVxuXG4gIGdldENvbHVtbkNvdW50KCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMuY29sdW1uQ291bnQgPCAwKSB7XG4gICAgICB0aGlzLmNvbHVtbkNvdW50ID0gTWF0aC5tYXguYXBwbHkoXG4gICAgICAgIG51bGwsXG4gICAgICAgIHRoaXMucm93cy5tYXAoKHJvdykgPT5cbiAgICAgICAgICByb3cuY2VsbHMucmVkdWNlKChzdW0sIGMpID0+IHN1bSArIGMuY29sU3BhbiwgMCksXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jb2x1bW5Db3VudDtcbiAgfVxuXG4gIHVwZGF0ZUNlbGxTaXplcyhjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCkge1xuICAgIHRoaXMucm93cy5mb3JFYWNoKChyb3cpID0+IHtcbiAgICAgIHJvdy5jZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlY3QgPSBjbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3QoXG4gICAgICAgICAgY2VsbC52aWV3RWxlbWVudCBhcyBFbGVtZW50LFxuICAgICAgICApO1xuICAgICAgICBjZWxsLnZpZXdFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgY2VsbC5zZXRIZWlnaHQodGhpcy52ZXJ0aWNhbCA/IHJlY3RbXCJ3aWR0aFwiXSA6IHJlY3RbXCJoZWlnaHRcIl0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBwb3NpdGlvblxuICAgKi9cbiAgZmluZENlbGxGcm9tQ29sdW1uKFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogeyByb3dJbmRleDogbnVtYmVyOyBjb2x1bW5JbmRleDogbnVtYmVyIH0gfCBudWxsIHtcbiAgICBpZiAoIWNvbHVtbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGxldCB0YWJsZUNlbGw6IFRhYmxlQ2VsbCA9IG51bGw7XG4gICAgbGV0IHJvdyA9IDA7XG4gICAgbGV0IGNvbCA9IDA7XG4gICAgbG9vcDogZm9yIChyb3cgPSAwOyByb3cgPCB0aGlzLmNlbGxGcmFnbWVudHMubGVuZ3RoOyByb3crKykge1xuICAgICAgaWYgKCF0aGlzLmNlbGxGcmFnbWVudHNbcm93XSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29sID0gMDsgY29sIDwgdGhpcy5jZWxsRnJhZ21lbnRzW3Jvd10ubGVuZ3RoOyBjb2wrKykge1xuICAgICAgICBpZiAoIXRoaXMuY2VsbEZyYWdtZW50c1tyb3ddW2NvbF0pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29sdW1uID09PSB0aGlzLmNlbGxGcmFnbWVudHNbcm93XVtjb2xdLnBzZXVkb0NvbHVtbi5nZXRDb2x1bW4oKSkge1xuICAgICAgICAgIHRhYmxlQ2VsbCA9IHRoaXMucm93c1tyb3ddLmNlbGxzW2NvbF07XG4gICAgICAgICAgYnJlYWsgbG9vcDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRhYmxlQ2VsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZvciAoOyByb3cgPCB0aGlzLnNsb3RzLmxlbmd0aDsgcm93KyspIHtcbiAgICAgIGZvciAoOyBjb2wgPCB0aGlzLnNsb3RzW3Jvd10ubGVuZ3RoOyBjb2wrKykge1xuICAgICAgICBjb25zdCBzbG90ID0gdGhpcy5zbG90c1tyb3ddW2NvbF07XG4gICAgICAgIGlmIChzbG90LmNlbGwgPT09IHRhYmxlQ2VsbCkge1xuICAgICAgICAgIHJldHVybiB7IHJvd0luZGV4OiBzbG90LnJvd0luZGV4LCBjb2x1bW5JbmRleDogc2xvdC5jb2x1bW5JbmRleCB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29sbGVjdEVsZW1lbnRzT2Zmc2V0T2ZVcHBlckNlbGxzKFxuICAgIHBvc2l0aW9uOiB7IHJvd0luZGV4OiBudW1iZXI7IGNvbHVtbkluZGV4OiBudW1iZXIgfSB8IG51bGwsXG4gICk6IFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0W10ge1xuICAgIGNvbnN0IGNvbGxlY3RlZCA9IFtdO1xuICAgIHJldHVybiB0aGlzLnNsb3RzLnJlZHVjZSgocmVwZXRpdGl2ZUVsZW1lbnRzLCByb3csIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPj0gcG9zaXRpb24ucm93SW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHJlcGV0aXRpdmVFbGVtZW50cztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNlbGxGcmFnbWVudCA9IHRoaXMuZ2V0Q2VsbEZyYWdtZW50T2ZDZWxsKFxuICAgICAgICByb3dbcG9zaXRpb24uY29sdW1uSW5kZXhdLmNlbGwsXG4gICAgICApO1xuICAgICAgaWYgKCFjZWxsRnJhZ21lbnQgfHwgY29sbGVjdGVkLmluY2x1ZGVzKGNlbGxGcmFnbWVudCkpIHtcbiAgICAgICAgcmV0dXJuIHJlcGV0aXRpdmVFbGVtZW50cztcbiAgICAgIH1cbiAgICAgIHRoaXMuY29sbGVjdEVsZW1lbnRzT2Zmc2V0RnJvbUNvbHVtbihcbiAgICAgICAgY2VsbEZyYWdtZW50LnBzZXVkb0NvbHVtbi5nZXRDb2x1bW4oKSxcbiAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLFxuICAgICAgKTtcbiAgICAgIGNvbGxlY3RlZC5wdXNoKGNlbGxGcmFnbWVudCk7XG4gICAgICByZXR1cm4gcmVwZXRpdGl2ZUVsZW1lbnRzO1xuICAgIH0sIFtdIGFzIFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0W10pO1xuICB9XG5cbiAgY29sbGVjdEVsZW1lbnRzT2Zmc2V0T2ZIaWdoZXN0Q29sdW1uKCk6IFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0W10ge1xuICAgIGNvbnN0IGVsZW1lbnRzSW5Db2x1bW4gPSBbXTtcbiAgICB0aGlzLnJvd3MuZm9yRWFjaCgocm93KSA9PiB7XG4gICAgICByb3cuY2VsbHMuZm9yRWFjaCgoY2VsbCwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKCFlbGVtZW50c0luQ29sdW1uW2luZGV4XSkge1xuICAgICAgICAgIGVsZW1lbnRzSW5Db2x1bW5baW5kZXhdID0geyBjb2xsZWN0ZWQ6IFtdLCBlbGVtZW50czogW10gfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0ZSA9IGVsZW1lbnRzSW5Db2x1bW5baW5kZXhdO1xuICAgICAgICBjb25zdCBjZWxsRnJhZ21lbnQgPSB0aGlzLmdldENlbGxGcmFnbWVudE9mQ2VsbChjZWxsKTtcbiAgICAgICAgaWYgKCFjZWxsRnJhZ21lbnQgfHwgc3RhdGUuY29sbGVjdGVkLmluY2x1ZGVzKGNlbGxGcmFnbWVudCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb2xsZWN0RWxlbWVudHNPZmZzZXRGcm9tQ29sdW1uKFxuICAgICAgICAgIGNlbGxGcmFnbWVudC5wc2V1ZG9Db2x1bW4uZ2V0Q29sdW1uKCksXG4gICAgICAgICAgc3RhdGUuZWxlbWVudHMsXG4gICAgICAgICk7XG4gICAgICAgIHN0YXRlLmNvbGxlY3RlZC5wdXNoKGNlbGxGcmFnbWVudCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gW1xuICAgICAgbmV3IEVsZW1lbnRzT2Zmc2V0T2ZUYWJsZUNlbGwoXG4gICAgICAgIGVsZW1lbnRzSW5Db2x1bW4ubWFwKChlbnRyeSkgPT4gZW50cnkuZWxlbWVudHMpLFxuICAgICAgKSxcbiAgICBdO1xuICB9XG5cbiAgcHJpdmF0ZSBjb2xsZWN0RWxlbWVudHNPZmZzZXRGcm9tQ29sdW1uKFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICAgcmVwZXRpdGl2ZUVsZW1lbnRzOiBSZXBldGl0aXZlRWxlbWVudC5FbGVtZW50c09mZnNldFtdLFxuICApIHtcbiAgICBjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy5mb3JFYWNoKChjb25zdHJhaW50KSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIFJlcGV0aXRpdmVFbGVtZW50LmlzSW5zdGFuY2VPZlJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0Q29uc3RyYWludChcbiAgICAgICAgICBjb25zdHJhaW50LFxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnQgPSBjb25zdHJhaW50LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgICAgICByZXBldGl0aXZlRWxlbWVudHMucHVzaChyZXBldGl0aXZlRWxlbWVudCk7XG4gICAgICB9XG4gICAgICBpZiAoVGFibGUuaXNJbnN0YW5jZU9mVGFibGVSb3dMYXlvdXRDb25zdHJhaW50KGNvbnN0cmFpbnQpKSB7XG4gICAgICAgIGNvbnN0cmFpbnRcbiAgICAgICAgICAuZ2V0RWxlbWVudHNPZmZzZXRzRm9yVGFibGVDZWxsKG51bGwpXG4gICAgICAgICAgLmZvckVhY2goKHJlcGV0aXRpdmVFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICByZXBldGl0aXZlRWxlbWVudHMucHVzaChyZXBldGl0aXZlRWxlbWVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNhdmVTdGF0ZSgpOiBhbnkge1xuICAgIHJldHVybiBbXS5jb25jYXQodGhpcy5jZWxsQnJlYWtQb3NpdGlvbnMpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICByZXN0b3JlU3RhdGUoc3RhdGU6IGFueSkge1xuICAgIHRoaXMuY2VsbEJyZWFrUG9zaXRpb25zID0gc3RhdGUgYXMgQnJva2VuVGFibGVDZWxsUG9zaXRpb25bXTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRWxlbWVudHNPZmZzZXRPZlRhYmxlQ2VsbFxuICBpbXBsZW1lbnRzIFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHJlcGVhdGl0aXZlRWxlbWVudHNJbkNvbHVtbnM6IFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0W11bXSxcbiAgKSB7fVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgY2FsY3VsYXRlT2Zmc2V0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlTWF4T2Zmc2V0T2ZDb2x1bW4oXG4gICAgICBub2RlQ29udGV4dCxcbiAgICAgIChvZmZzZXRzKSA9PiBvZmZzZXRzLmN1cnJlbnQsXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgY2FsY3VsYXRlTWluaW11bU9mZnNldChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNhbGN1bGF0ZU1heE9mZnNldE9mQ29sdW1uKFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAob2Zmc2V0cykgPT4gb2Zmc2V0cy5taW5pbXVtLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZU1heE9mZnNldE9mQ29sdW1uKG5vZGVDb250ZXh0LCByZXNvbHZlcikge1xuICAgIGxldCBtYXhPZmZzZXQgPSAwO1xuICAgIHRoaXMucmVwZWF0aXRpdmVFbGVtZW50c0luQ29sdW1ucy5mb3JFYWNoKChyZXBldGl0aXZlRWxlbWVudHMpID0+IHtcbiAgICAgIGNvbnN0IG9mZnNldHMgPSBCcmVha1Bvc2l0aW9uLmNhbGN1bGF0ZU9mZnNldChcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cyxcbiAgICAgICk7XG4gICAgICBtYXhPZmZzZXQgPSBNYXRoLm1heChtYXhPZmZzZXQsIHJlc29sdmVyKG9mZnNldHMpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbWF4T2Zmc2V0O1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFRhYmxlRm9ybWF0dGluZ0NvbnRleHQoXG4gIGZvcm1hdHRpbmdDb250ZXh0OiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCxcbik6IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQge1xuICBBc3NlcnRzLmFzc2VydChmb3JtYXR0aW5nQ29udGV4dCBpbnN0YW5jZW9mIFRhYmxlRm9ybWF0dGluZ0NvbnRleHQpO1xuICByZXR1cm4gZm9ybWF0dGluZ0NvbnRleHQgYXMgVGFibGVGb3JtYXR0aW5nQ29udGV4dDtcbn1cblxuZnVuY3Rpb24gaXNUYWJsZVJvd0dyb3VwaW5nKGRpc3BsYXk6IHN0cmluZyB8IG51bGwpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBkaXNwbGF5ID09PSBcInRhYmxlLXJvdy1ncm91cFwiIHx8XG4gICAgZGlzcGxheSA9PT0gXCJ0YWJsZS1oZWFkZXItZ3JvdXBcIiB8fFxuICAgIGRpc3BsYXkgPT09IFwidGFibGUtZm9vdGVyLWdyb3VwXCJcbiAgKTtcbn1cblxuZnVuY3Rpb24gaXNUYWJsZVJvb3QoZGlzcGxheTogc3RyaW5nIHwgbnVsbCk6IGJvb2xlYW4ge1xuICByZXR1cm4gZGlzcGxheSA9PT0gXCJ0YWJsZVwiIHx8IGRpc3BsYXkgPT09IFwiaW5saW5lLXRhYmxlXCI7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRQYXJlbnRPZlRhYmxlUm93KGRpc3BsYXk6IHN0cmluZyB8IG51bGwpOiBib29sZWFuIHtcbiAgcmV0dXJuIGlzVGFibGVSb3dHcm91cGluZyhkaXNwbGF5KSB8fCBpc1RhYmxlUm9vdChkaXNwbGF5KTtcbn1cblxuZnVuY3Rpb24gc2tpcE5lc3RlZFRhYmxlKFxuICBzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlLFxuICBmb3JtYXR0aW5nQ29udGV4dDogVGFibGVGb3JtYXR0aW5nQ29udGV4dCxcbiAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4gfCBudWxsIHtcbiAgY29uc3Qgbm9kZUNvbnRleHQgPSBzdGF0ZS5ub2RlQ29udGV4dDtcbiAgY29uc3QgZGlzcGxheSA9IG5vZGVDb250ZXh0LmRpc3BsYXk7XG4gIGNvbnN0IHBhcmVudERpc3BsYXkgPSBub2RlQ29udGV4dC5wYXJlbnQgPyBub2RlQ29udGV4dC5wYXJlbnQuZGlzcGxheSA6IG51bGw7XG5cbiAgLy8gSXMgaW5saW5lLXRhYmxlIG5lc3RlZCBpbiBhbm90aGVyIHRhYmxlP1xuICBsZXQgaXNOZXN0ZWRJbmxpbmVUYWJsZSA9IGZhbHNlO1xuICBpZiAoXG4gICAgcGFyZW50RGlzcGxheSA9PT0gXCJpbmxpbmUtdGFibGVcIiAmJlxuICAgICEobm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQgaW5zdGFuY2VvZiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0KVxuICApIHtcbiAgICBmb3IgKGxldCBuYyA9IG5vZGVDb250ZXh0LnBhcmVudDsgbmM7IG5jID0gbmMucGFyZW50KSB7XG4gICAgICBpZiAobmMuZm9ybWF0dGluZ0NvbnRleHQgaW5zdGFuY2VvZiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0KSB7XG4gICAgICAgIGlzTmVzdGVkSW5saW5lVGFibGUgPSBuYy5mb3JtYXR0aW5nQ29udGV4dCA9PT0gZm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCBpc05lc3RlZFRhYmxlID1cbiAgICBpc05lc3RlZElubGluZVRhYmxlIHx8XG4gICAgKGRpc3BsYXkgPT09IFwidGFibGUtcm93XCIgJiYgIWlzVmFsaWRQYXJlbnRPZlRhYmxlUm93KHBhcmVudERpc3BsYXkpKSB8fFxuICAgIChkaXNwbGF5ID09PSBcInRhYmxlLWNlbGxcIiAmJlxuICAgICAgcGFyZW50RGlzcGxheSAhPT0gXCJ0YWJsZS1yb3dcIiAmJlxuICAgICAgIWlzVmFsaWRQYXJlbnRPZlRhYmxlUm93KHBhcmVudERpc3BsYXkpKSB8fFxuICAgIChub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCBpbnN0YW5jZW9mIFRhYmxlRm9ybWF0dGluZ0NvbnRleHQgJiZcbiAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0ICE9PSBmb3JtYXR0aW5nQ29udGV4dCk7XG4gIGlmIChpc05lc3RlZFRhYmxlKSB7XG4gICAgcmV0dXJuIGNvbHVtblxuICAgICAgLmJ1aWxkRGVlcEVsZW1lbnRWaWV3KG5vZGVDb250ZXh0KVxuICAgICAgLnRoZW5Bc3luYygobm9kZUNvbnRleHRBZnRlcikgPT4ge1xuICAgICAgICBzdGF0ZS5ub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0QWZ0ZXI7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFbnRpcmVUYWJsZUxheW91dFN0cmF0ZWd5IGV4dGVuZHMgTGF5b3V0VXRpbC5FZGdlU2tpcHBlciB7XG4gIHJvd0luZGV4OiBudW1iZXIgPSAtMTtcbiAgY29sdW1uSW5kZXg6IG51bWJlciA9IDA7XG4gIGluUm93OiBib29sZWFuID0gZmFsc2U7XG4gIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdID0gW107XG4gIGluSGVhZGVyT3JGb290ZXI6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9ybWF0dGluZ0NvbnRleHQ6IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Tm9uSW5saW5lRWxlbWVudE5vZGUoXG4gICAgc3RhdGU6IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgY29uc3QgciA9IHNraXBOZXN0ZWRUYWJsZShzdGF0ZSwgZm9ybWF0dGluZ0NvbnRleHQsIHRoaXMuY29sdW1uKTtcbiAgICBpZiAocikge1xuICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICAgIHRoaXMucG9zdExheW91dEJsb2NrQ29udGVudHMoc3RhdGUpO1xuICAgIGNvbnN0IG5vZGVDb250ZXh0ID0gc3RhdGUubm9kZUNvbnRleHQ7XG4gICAgY29uc3QgZGlzcGxheSA9IG5vZGVDb250ZXh0LmRpc3BsYXk7XG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgc3dpdGNoIChkaXNwbGF5KSB7XG4gICAgICBjYXNlIFwidGFibGVcIjpcbiAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQuaW5saW5lQm9yZGVyU3BhY2luZyA9IG5vZGVDb250ZXh0LmlubGluZUJvcmRlclNwYWNpbmc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInRhYmxlLWNhcHRpb25cIjoge1xuICAgICAgICBjb25zdCBjYXB0aW9uVmlldyA9IG5ldyBUYWJsZUNhcHRpb25WaWV3KFxuICAgICAgICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQsXG4gICAgICAgICAgbm9kZUNvbnRleHQuY2FwdGlvblNpZGUsXG4gICAgICAgICk7XG4gICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmNhcHRpb25zLnB1c2goY2FwdGlvblZpZXcpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJ0YWJsZS1oZWFkZXItZ3JvdXBcIjpcbiAgICAgICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMuaXNIZWFkZXJSZWdpc3RlcmVkKCkpIHtcbiAgICAgICAgICB0aGlzLmluSGVhZGVyT3JGb290ZXIgPSB0cnVlO1xuICAgICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5zZXRIZWFkZXJOb2RlQ29udGV4dChub2RlQ29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgY2FzZSBcInRhYmxlLWZvb3Rlci1ncm91cFwiOlxuICAgICAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cy5pc0Zvb3RlclJlZ2lzdGVyZWQoKSkge1xuICAgICAgICAgIHRoaXMuaW5IZWFkZXJPckZvb3RlciA9IHRydWU7XG4gICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnNldEZvb3Rlck5vZGVDb250ZXh0KG5vZGVDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICBjYXNlIFwidGFibGUtcm93XCI6XG4gICAgICAgIGlmICghdGhpcy5pbkhlYWRlck9yRm9vdGVyKSB7XG4gICAgICAgICAgdGhpcy5pblJvdyA9IHRydWU7XG4gICAgICAgICAgdGhpcy5yb3dJbmRleCsrO1xuICAgICAgICAgIEFzc2VydHMuYXNzZXJ0KG5vZGVDb250ZXh0LnNvdXJjZU5vZGUpO1xuICAgICAgICAgIHRoaXMuY29sdW1uSW5kZXggPSAwO1xuICAgICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmFkZFJvdyhcbiAgICAgICAgICAgIHRoaXMucm93SW5kZXgsXG4gICAgICAgICAgICBuZXcgVGFibGVSb3codGhpcy5yb3dJbmRleCwgbm9kZUNvbnRleHQuc291cmNlTm9kZSksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cy5maXJzdENvbnRlbnRTb3VyY2VOb2RlKSB7XG4gICAgICAgICAgICByZXBldGl0aXZlRWxlbWVudHMuZmlyc3RDb250ZW50U291cmNlTm9kZSA9IG5vZGVDb250ZXh0LnNvdXJjZU5vZGUgYXMgRWxlbWVudDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5zdGFydE5vbklubGluZUVsZW1lbnROb2RlKHN0YXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFmdGVyTm9uSW5saW5lRWxlbWVudE5vZGUoXG4gICAgc3RhdGU6IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgY29uc3Qgbm9kZUNvbnRleHQgPSBzdGF0ZS5ub2RlQ29udGV4dDtcbiAgICBjb25zdCBkaXNwbGF5ID0gbm9kZUNvbnRleHQuZGlzcGxheTtcbiAgICBjb25zdCBjbGllbnRMYXlvdXQgPSB0aGlzLmNvbHVtbi5jbGllbnRMYXlvdXQ7XG4gICAgdGhpcy5wb3N0TGF5b3V0QmxvY2tDb250ZW50cyhzdGF0ZSk7XG4gICAgaWYgKG5vZGVDb250ZXh0LnNvdXJjZU5vZGUgPT09IGZvcm1hdHRpbmdDb250ZXh0LnRhYmxlU291cmNlTm9kZSkge1xuICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGNsaWVudExheW91dC5nZXRFbGVtZW50Q29tcHV0ZWRTdHlsZShcbiAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQuZ2V0Um9vdFZpZXdOb2RlKG5vZGVDb250ZXh0KSBhcyBFbGVtZW50LFxuICAgICAgKTtcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0LnRhYmxlV2lkdGggPSBwYXJzZUZsb2F0KFxuICAgICAgICBjb21wdXRlZFN0eWxlW2Zvcm1hdHRpbmdDb250ZXh0LnZlcnRpY2FsID8gXCJoZWlnaHRcIiA6IFwid2lkdGhcIl0sXG4gICAgICApO1xuICAgICAgZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCkubGFzdENvbnRlbnRTb3VyY2VOb2RlID1cbiAgICAgICAgc3RhdGUubGFzdEFmdGVyTm9kZUNvbnRleHQgJiZcbiAgICAgICAgKHN0YXRlLmxhc3RBZnRlck5vZGVDb250ZXh0LnNvdXJjZU5vZGUgYXMgRWxlbWVudCk7XG4gICAgICBzdGF0ZS5icmVhayA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXRjaCAoZGlzcGxheSkge1xuICAgICAgICBjYXNlIFwidGFibGUtaGVhZGVyLWdyb3VwXCI6XG4gICAgICAgIGNhc2UgXCJ0YWJsZS1mb290ZXItZ3JvdXBcIjpcbiAgICAgICAgICBpZiAodGhpcy5pbkhlYWRlck9yRm9vdGVyKSB7XG4gICAgICAgICAgICB0aGlzLmluSGVhZGVyT3JGb290ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0YWJsZS1yb3dcIjpcbiAgICAgICAgICBpZiAoIXRoaXMuaW5IZWFkZXJPckZvb3Rlcikge1xuICAgICAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQubGFzdFJvd1ZpZXdOb2RlID0gbm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuaW5Sb3cgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0YWJsZS1jZWxsXCI6XG4gICAgICAgICAgaWYgKCF0aGlzLmluSGVhZGVyT3JGb290ZXIpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pblJvdykge1xuICAgICAgICAgICAgICB0aGlzLnJvd0luZGV4Kys7XG4gICAgICAgICAgICAgIHRoaXMuY29sdW1uSW5kZXggPSAwO1xuICAgICAgICAgICAgICB0aGlzLmluUm93ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVsZW0gPSBub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50O1xuICAgICAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQuYWRkQ2VsbChcbiAgICAgICAgICAgICAgdGhpcy5yb3dJbmRleCxcbiAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh0aGlzLnJvd0luZGV4LCB0aGlzLmNvbHVtbkluZGV4LCBlbGVtKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLmNvbHVtbkluZGV4Kys7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuYWZ0ZXJOb25JbmxpbmVFbGVtZW50Tm9kZShzdGF0ZSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHN0YXJ0Tm9uRWxlbWVudE5vZGUoXG4gICAgc3RhdGU6IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICB0aGlzLnJlZ2lzdGVyQ2hlY2tQb2ludChzdGF0ZSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFmdGVyTm9uRWxlbWVudE5vZGUoXG4gICAgc3RhdGU6IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICB0aGlzLnJlZ2lzdGVyQ2hlY2tQb2ludChzdGF0ZSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHN0YXJ0SW5saW5lRWxlbWVudE5vZGUoXG4gICAgc3RhdGU6IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICB0aGlzLnJlZ2lzdGVyQ2hlY2tQb2ludChzdGF0ZSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFmdGVySW5saW5lRWxlbWVudE5vZGUoXG4gICAgc3RhdGU6IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICB0aGlzLnJlZ2lzdGVyQ2hlY2tQb2ludChzdGF0ZSk7XG4gIH1cblxuICByZWdpc3RlckNoZWNrUG9pbnQoc3RhdGU6IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3JTdGF0ZSkge1xuICAgIGNvbnN0IG5vZGVDb250ZXh0ID0gc3RhdGUubm9kZUNvbnRleHQ7XG4gICAgaWYgKFxuICAgICAgbm9kZUNvbnRleHQgJiZcbiAgICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlICYmXG4gICAgICAhTGF5b3V0SGVscGVyLmlzU3BlY2lhbE5vZGVDb250ZXh0KG5vZGVDb250ZXh0KVxuICAgICkge1xuICAgICAgdGhpcy5jaGVja1BvaW50cy5wdXNoKG5vZGVDb250ZXh0LmNsb25lKCkpO1xuICAgIH1cbiAgfVxuXG4gIHBvc3RMYXlvdXRCbG9ja0NvbnRlbnRzKHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUpIHtcbiAgICBpZiAodGhpcy5jaGVja1BvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmNvbHVtbi5wb3N0TGF5b3V0QmxvY2soc3RhdGUubm9kZUNvbnRleHQsIHRoaXMuY2hlY2tQb2ludHMpO1xuICAgIH1cbiAgICB0aGlzLmNoZWNrUG9pbnRzID0gW107XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRhYmxlTGF5b3V0U3RyYXRlZ3kgZXh0ZW5kcyBMYXlvdXRVdGlsLkVkZ2VTa2lwcGVyIHtcbiAgcHJpdmF0ZSBzdGF0aWMgaWdub3JlTGlzdDogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7XG4gICAgXCJ0YWJsZS1jYXB0aW9uXCI6IHRydWUsXG4gICAgXCJ0YWJsZS1jb2x1bW4tZ3JvdXBcIjogdHJ1ZSxcbiAgICBcInRhYmxlLWNvbHVtblwiOiB0cnVlLFxuICB9O1xuICBpblJvdzogYm9vbGVhbiA9IGZhbHNlO1xuICBjdXJyZW50Um93SW5kZXg6IG51bWJlciA9IC0xO1xuICBjdXJyZW50Q29sdW1uSW5kZXg6IG51bWJlciA9IDA7XG4gIG9yaWdpbmFsU3RvcEF0T3ZlcmZsb3c6IGJvb2xlYW47XG4gIGluSGVhZGVyOiBib29sZWFuO1xuICBpbkZvb3RlcjogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9ybWF0dGluZ0NvbnRleHQ6IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKSB7XG4gICAgc3VwZXIodHJ1ZSk7XG4gICAgdGhpcy5vcmlnaW5hbFN0b3BBdE92ZXJmbG93ID0gY29sdW1uLnN0b3BBdE92ZXJmbG93O1xuICAgIGNvbHVtbi5zdG9wQXRPdmVyZmxvdyA9IGZhbHNlO1xuICB9XG5cbiAgcmVzZXRDb2x1bW4oKSB7XG4gICAgdGhpcy5jb2x1bW4uc3RvcEF0T3ZlcmZsb3cgPSB0aGlzLm9yaWdpbmFsU3RvcEF0T3ZlcmZsb3c7XG4gIH1cblxuICBnZXRDb2xTcGFubmluZ0NlbGxXaWR0aChjZWxsOiBUYWJsZUNlbGwpOiBudW1iZXIge1xuICAgIGNvbnN0IGNvbFdpZHRocyA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQuY29sV2lkdGhzO1xuICAgIEFzc2VydHMuYXNzZXJ0KGNvbFdpZHRocyk7XG4gICAgbGV0IHdpZHRoID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNlbGwuY29sU3BhbjsgaSsrKSB7XG4gICAgICB3aWR0aCArPSBjb2xXaWR0aHNbY2VsbC5hbmNob3JTbG90LmNvbHVtbkluZGV4ICsgaV07XG4gICAgfVxuICAgIHdpZHRoICs9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQuaW5saW5lQm9yZGVyU3BhY2luZyAqIChjZWxsLmNvbFNwYW4gLSAxKTtcbiAgICByZXR1cm4gd2lkdGg7XG4gIH1cblxuICBsYXlvdXRDZWxsKFxuICAgIGNlbGw6IFRhYmxlQ2VsbCxcbiAgICBjZWxsTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHN0YXJ0Q2h1bmtQb3NpdGlvbjogVnRyZWUuQ2h1bmtQb3NpdGlvbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHJvd0luZGV4ID0gY2VsbC5yb3dJbmRleDtcbiAgICBjb25zdCBjb2x1bW5JbmRleCA9IGNlbGwuY29sdW1uSW5kZXg7XG4gICAgY29uc3QgY29sU3BhbiA9IGNlbGwuY29sU3BhbjtcbiAgICBjb25zdCBjZWxsVmlld05vZGUgPSBjZWxsTm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudDtcbiAgICBjb25zdCB2ZXJ0aWNhbEFsaWduID0gY2VsbE5vZGVDb250ZXh0LnZlcnRpY2FsQWxpZ247XG4gICAgaWYgKGNvbFNwYW4gPiAxKSB7XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNlbGxWaWV3Tm9kZSwgXCJib3gtc2l6aW5nXCIsIFwiYm9yZGVyLWJveFwiKTtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICAgIGNlbGxWaWV3Tm9kZSxcbiAgICAgICAgdGhpcy5mb3JtYXR0aW5nQ29udGV4dC52ZXJ0aWNhbCA/IFwiaGVpZ2h0XCIgOiBcIndpZHRoXCIsXG4gICAgICAgIGAke3RoaXMuZ2V0Q29sU3Bhbm5pbmdDZWxsV2lkdGgoY2VsbCl9cHhgLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgcHNldWRvQ29sdW1uQ29udGFpbmVyID0gY2VsbFZpZXdOb2RlLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgIFwiZGl2XCIsXG4gICAgKTtcbiAgICBjZWxsVmlld05vZGUuYXBwZW5kQ2hpbGQocHNldWRvQ29sdW1uQ29udGFpbmVyKTtcbiAgICBjb25zdCBjZWxsRnJhZ21lbnQgPSBuZXcgVGFibGVDZWxsRnJhZ21lbnQoXG4gICAgICB0aGlzLmNvbHVtbixcbiAgICAgIHBzZXVkb0NvbHVtbkNvbnRhaW5lcixcbiAgICAgIGNlbGxOb2RlQ29udGV4dCxcbiAgICApO1xuICAgIHRoaXMuZm9ybWF0dGluZ0NvbnRleHQuYWRkQ2VsbEZyYWdtZW50KHJvd0luZGV4LCBjb2x1bW5JbmRleCwgY2VsbEZyYWdtZW50KTtcbiAgICBpZiAoXG4gICAgICBzdGFydENodW5rUG9zaXRpb24ucHJpbWFyeS5zdGVwcy5sZW5ndGggPT09IDEgJiZcbiAgICAgIHN0YXJ0Q2h1bmtQb3NpdGlvbi5wcmltYXJ5LmFmdGVyXG4gICAgKSB7XG4gICAgICAvLyBDb250ZW50cyBvZiB0aGUgY2VsbCBoYXZlIGVuZGVkIGluIHRoZSBwcmV2aW91cyBmcmFnbWVudFxuICAgICAgY2VsbEZyYWdtZW50LmVtcHR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGNlbGxGcmFnbWVudC5wc2V1ZG9Db2x1bW5cbiAgICAgIC5sYXlvdXQoc3RhcnRDaHVua1Bvc2l0aW9uLCB0cnVlKVxuICAgICAgLnRoZW5SZXR1cm4odHJ1ZSk7XG4gIH1cblxuICBoYXNCcm9rZW5DZWxsQXRTbG90KHNsb3RJbmRleCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNlbGxCcmVha1Bvc2l0aW9uID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5jZWxsQnJlYWtQb3NpdGlvbnNbMF07XG4gICAgaWYgKGNlbGxCcmVha1Bvc2l0aW9uKSB7XG4gICAgICByZXR1cm4gY2VsbEJyZWFrUG9zaXRpb24uY2VsbC5hbmNob3JTbG90LmNvbHVtbkluZGV4ID09PSBzbG90SW5kZXg7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgZXh0cmFjdFJvd1NwYW5uaW5nQ2VsbEJyZWFrUG9zaXRpb25zKCk6IEJyb2tlblRhYmxlQ2VsbFBvc2l0aW9uW11bXSB7XG4gICAgY29uc3QgY2VsbEJyZWFrUG9zaXRpb25zID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5jZWxsQnJlYWtQb3NpdGlvbnM7XG4gICAgaWYgKGNlbGxCcmVha1Bvc2l0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3Qgcm93U3Bhbm5pbmdDZWxsQnJlYWtQb3NpdGlvbnMgPSBbXTtcbiAgICBsZXQgaSA9IDA7XG4gICAgZG8ge1xuICAgICAgY29uc3QgcCA9IGNlbGxCcmVha1Bvc2l0aW9uc1tpXTtcbiAgICAgIGNvbnN0IHJvd0luZGV4ID0gcC5jZWxsLnJvd0luZGV4O1xuICAgICAgaWYgKHJvd0luZGV4IDwgdGhpcy5jdXJyZW50Um93SW5kZXgpIHtcbiAgICAgICAgbGV0IGFyciA9IHJvd1NwYW5uaW5nQ2VsbEJyZWFrUG9zaXRpb25zW3Jvd0luZGV4XTtcbiAgICAgICAgaWYgKCFhcnIpIHtcbiAgICAgICAgICBhcnIgPSByb3dTcGFubmluZ0NlbGxCcmVha1Bvc2l0aW9uc1tyb3dJbmRleF0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBhcnIucHVzaChwKTtcbiAgICAgICAgY2VsbEJyZWFrUG9zaXRpb25zLnNwbGljZShpLCAxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICB9IHdoaWxlIChpIDwgY2VsbEJyZWFrUG9zaXRpb25zLmxlbmd0aCk7XG4gICAgcmV0dXJuIHJvd1NwYW5uaW5nQ2VsbEJyZWFrUG9zaXRpb25zO1xuICB9XG5cbiAgbGF5b3V0Um93U3Bhbm5pbmdDZWxsc0Zyb21QcmV2aW91c0ZyYWdtZW50KFxuICAgIHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgY29uc3Qgcm93U3Bhbm5pbmdDZWxsQnJlYWtQb3NpdGlvbnMgPSB0aGlzLmV4dHJhY3RSb3dTcGFubmluZ0NlbGxCcmVha1Bvc2l0aW9ucygpO1xuICAgIGNvbnN0IHJvd0NvdW50ID0gcm93U3Bhbm5pbmdDZWxsQnJlYWtQb3NpdGlvbnMucmVkdWNlKChzKSA9PiBzICsgMSwgMCk7XG4gICAgaWYgKHJvd0NvdW50ID09PSAwKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IGxheW91dENvbnRleHQgPSB0aGlzLmNvbHVtbi5sYXlvdXRDb250ZXh0O1xuICAgIGNvbnN0IGN1cnJlbnRSb3cgPSBzdGF0ZS5ub2RlQ29udGV4dDtcbiAgICBjdXJyZW50Um93LnZpZXdOb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY3VycmVudFJvdy52aWV3Tm9kZSk7XG4gICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lPGJvb2xlYW4+KFxuICAgICAgXCJsYXlvdXRSb3dTcGFubmluZ0NlbGxzRnJvbVByZXZpb3VzRnJhZ21lbnRcIixcbiAgICApO1xuICAgIGxldCBjb250ID0gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgbGV0IHNwYW5uaW5nQ2VsbFJvd0luZGV4ID0gMDtcbiAgICBjb25zdCBvY2N1cGllZFNsb3RJbmRpY2VzID0gW107XG4gICAgcm93U3Bhbm5pbmdDZWxsQnJlYWtQb3NpdGlvbnMuZm9yRWFjaCgocm93Q2VsbEJyZWFrUG9zaXRpb25zKSA9PiB7XG4gICAgICBjb250ID0gY29udC50aGVuQXN5bmMoKCkgPT4ge1xuICAgICAgICAvLyBJcyBpdCBhbHdheXMgY29ycmVjdCB0byBhc3N1bWUgc3RlcHNbMV0gdG8gYmUgdGhlIHJvdz9cbiAgICAgICAgY29uc3Qgcm93Tm9kZUNvbnRleHQgPSBWdHJlZUltcGwubWFrZU5vZGVDb250ZXh0RnJvbU5vZGVQb3NpdGlvblN0ZXAoXG4gICAgICAgICAgcm93Q2VsbEJyZWFrUG9zaXRpb25zWzBdLmNlbGxOb2RlUG9zaXRpb24uc3RlcHNbMV0sXG4gICAgICAgICAgY3VycmVudFJvdy5wYXJlbnQsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBsYXlvdXRDb250ZXh0LnNldEN1cnJlbnQocm93Tm9kZUNvbnRleHQsIGZhbHNlKS50aGVuQXN5bmMoKCkgPT4ge1xuICAgICAgICAgIGxldCBjb250MSA9IFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgICAgIGxldCBjb2x1bW5JbmRleCA9IDA7XG5cbiAgICAgICAgICBmdW5jdGlvbiBhZGREdW1teUNlbGxVbnRpbCh1cHBlckNvbHVtbkluZGV4KSB7XG4gICAgICAgICAgICB3aGlsZSAoY29sdW1uSW5kZXggPCB1cHBlckNvbHVtbkluZGV4KSB7XG4gICAgICAgICAgICAgIGlmICghb2NjdXBpZWRTbG90SW5kaWNlcy5pbmNsdWRlcyhjb2x1bW5JbmRleCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkdW1teSA9IHJvd05vZGVDb250ZXh0LnZpZXdOb2RlLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgIFwidGRcIixcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZHVtbXksIFwicGFkZGluZ1wiLCBcIjBcIik7XG4gICAgICAgICAgICAgICAgcm93Tm9kZUNvbnRleHQudmlld05vZGUuYXBwZW5kQ2hpbGQoZHVtbXkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbHVtbkluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJvd0NlbGxCcmVha1Bvc2l0aW9ucy5mb3JFYWNoKChjZWxsQnJlYWtQb3NpdGlvbikgPT4ge1xuICAgICAgICAgICAgY29udDEgPSBjb250MS50aGVuQXN5bmMoKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBjZWxsID0gY2VsbEJyZWFrUG9zaXRpb24uY2VsbDtcbiAgICAgICAgICAgICAgYWRkRHVtbXlDZWxsVW50aWwoY2VsbC5hbmNob3JTbG90LmNvbHVtbkluZGV4KTtcbiAgICAgICAgICAgICAgY29uc3QgY2VsbE5vZGVQb3NpdGlvbiA9IGNlbGxCcmVha1Bvc2l0aW9uLmNlbGxOb2RlUG9zaXRpb247XG4gICAgICAgICAgICAgIGNvbnN0IGNlbGxOb2RlQ29udGV4dCA9IFZ0cmVlSW1wbC5tYWtlTm9kZUNvbnRleHRGcm9tTm9kZVBvc2l0aW9uU3RlcChcbiAgICAgICAgICAgICAgICBjZWxsTm9kZVBvc2l0aW9uLnN0ZXBzWzBdLFxuICAgICAgICAgICAgICAgIHJvd05vZGVDb250ZXh0LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjZWxsTm9kZUNvbnRleHQub2Zmc2V0SW5Ob2RlID0gY2VsbE5vZGVQb3NpdGlvbi5vZmZzZXRJbk5vZGU7XG4gICAgICAgICAgICAgIGNlbGxOb2RlQ29udGV4dC5hZnRlciA9IGNlbGxOb2RlUG9zaXRpb24uYWZ0ZXI7XG4gICAgICAgICAgICAgIGNlbGxOb2RlQ29udGV4dC5mcmFnbWVudEluZGV4ID1cbiAgICAgICAgICAgICAgICBjZWxsTm9kZVBvc2l0aW9uLnN0ZXBzWzBdLmZyYWdtZW50SW5kZXggKyAxO1xuICAgICAgICAgICAgICByZXR1cm4gbGF5b3V0Q29udGV4dFxuICAgICAgICAgICAgICAgIC5zZXRDdXJyZW50KGNlbGxOb2RlQ29udGV4dCwgZmFsc2UpXG4gICAgICAgICAgICAgICAgLnRoZW5Bc3luYygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBicmVha0NodW5rUG9zaXRpb24gPVxuICAgICAgICAgICAgICAgICAgICBjZWxsQnJlYWtQb3NpdGlvbi5icmVha0NodW5rUG9zaXRpb247XG4gICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNlbGwuY29sU3BhbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIG9jY3VwaWVkU2xvdEluZGljZXMucHVzaChjb2x1bW5JbmRleCArIGkpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY29sdW1uSW5kZXggKz0gY2VsbC5jb2xTcGFuO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGF5b3V0Q2VsbChcbiAgICAgICAgICAgICAgICAgICAgY2VsbCxcbiAgICAgICAgICAgICAgICAgICAgY2VsbE5vZGVDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICBicmVha0NodW5rUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICApLnRoZW5Bc3luYygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIChjZWxsTm9kZUNvbnRleHQudmlld05vZGUgYXMgSFRNTFRhYmxlQ2VsbEVsZW1lbnQpLnJvd1NwYW4gPVxuICAgICAgICAgICAgICAgICAgICAgIGNlbGwucm93SW5kZXggK1xuICAgICAgICAgICAgICAgICAgICAgIGNlbGwucm93U3BhbiAtXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Um93SW5kZXggK1xuICAgICAgICAgICAgICAgICAgICAgIHJvd0NvdW50IC1cbiAgICAgICAgICAgICAgICAgICAgICBzcGFubmluZ0NlbGxSb3dJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gY29udDEudGhlbkFzeW5jKCgpID0+IHtcbiAgICAgICAgICAgIGFkZER1bW15Q2VsbFVudGlsKGZvcm1hdHRpbmdDb250ZXh0LmdldENvbHVtbkNvdW50KCkpO1xuICAgICAgICAgICAgc3Bhbm5pbmdDZWxsUm93SW5kZXgrKztcbiAgICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBjb250LnRoZW4oKCkgPT4ge1xuICAgICAgbGF5b3V0Q29udGV4dFxuICAgICAgICAuc2V0Q3VycmVudChjdXJyZW50Um93LCB0cnVlLCBzdGF0ZS5hdFVuZm9yY2VkQnJlYWspXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHN0YXJ0VGFibGVSb3coc3RhdGU6IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3JTdGF0ZSk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBpZiAodGhpcy5pbkhlYWRlciB8fCB0aGlzLmluRm9vdGVyKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IG5vZGVDb250ZXh0ID0gc3RhdGUubm9kZUNvbnRleHQ7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0O1xuICAgIGlmICh0aGlzLmN1cnJlbnRSb3dJbmRleCA8IDApIHtcbiAgICAgIEFzc2VydHMuYXNzZXJ0KG5vZGVDb250ZXh0LnNvdXJjZU5vZGUpO1xuICAgICAgdGhpcy5jdXJyZW50Um93SW5kZXggPSBmb3JtYXR0aW5nQ29udGV4dC5maW5kUm93SW5kZXhCeVNvdXJjZU5vZGUoXG4gICAgICAgIG5vZGVDb250ZXh0LnNvdXJjZU5vZGUsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmN1cnJlbnRSb3dJbmRleCsrO1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRDb2x1bW5JbmRleCA9IDA7XG4gICAgdGhpcy5pblJvdyA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXMubGF5b3V0Um93U3Bhbm5pbmdDZWxsc0Zyb21QcmV2aW91c0ZyYWdtZW50KHN0YXRlKS50aGVuQXN5bmMoXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDZWxsRnJhZ21lbnRJbmRleCgpO1xuICAgICAgICBjb25zdCBvdmVyZmxvd24gPSB0aGlzLmNvbHVtbi5jaGVja092ZXJmbG93QW5kU2F2ZUVkZ2VBbmRCcmVha1Bvc2l0aW9uKFxuICAgICAgICAgIHN0YXRlLmxhc3RBZnRlck5vZGVDb250ZXh0LFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICBzdGF0ZS5icmVha0F0VGhlRWRnZSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG92ZXJmbG93biAmJlxuICAgICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmdldFJvd1NwYW5uaW5nQ2VsbHNPdmVyZmxvd2luZ1RoZVJvdyhcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFJvd0luZGV4IC0gMSxcbiAgICAgICAgICApLmxlbmd0aCA9PT0gMFxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLnJlc2V0Q29sdW1uKCk7XG4gICAgICAgICAgbm9kZUNvbnRleHQub3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgIHN0YXRlLmJyZWFrID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICB9LFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHJlZ2lzdGVyQ2VsbEZyYWdtZW50SW5kZXgoKSB7XG4gICAgY29uc3QgY2VsbHMgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmdldFJvd0J5SW5kZXgodGhpcy5jdXJyZW50Um93SW5kZXgpXG4gICAgICAuY2VsbHM7XG4gICAgY2VsbHMuZm9yRWFjaCgoY2VsbCkgPT4ge1xuICAgICAgY29uc3QgY2VsbEJyZWFrUG9zaXRpb24gPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmNlbGxCcmVha1Bvc2l0aW9uc1tcbiAgICAgICAgY2VsbC5jb2x1bW5JbmRleFxuICAgICAgXTtcbiAgICAgIGlmIChcbiAgICAgICAgY2VsbEJyZWFrUG9zaXRpb24gJiZcbiAgICAgICAgY2VsbEJyZWFrUG9zaXRpb24uY2VsbC5hbmNob3JTbG90LmNvbHVtbkluZGV4ID09XG4gICAgICAgICAgY2VsbC5hbmNob3JTbG90LmNvbHVtbkluZGV4XG4gICAgICApIHtcbiAgICAgICAgY29uc3QgdGROb2RlU3RlcCA9IGNlbGxCcmVha1Bvc2l0aW9uLmNlbGxOb2RlUG9zaXRpb24uc3RlcHNbMF07XG4gICAgICAgIGNvbnN0IG9mZnNldCA9ICh0aGlzLmNvbHVtblxuICAgICAgICAgIC5sYXlvdXRDb250ZXh0IGFzIFZnZW4uVmlld0ZhY3RvcnkpLnhtbGRvYy5nZXRFbGVtZW50T2Zmc2V0KFxuICAgICAgICAgIHRkTm9kZVN0ZXAubm9kZSBhcyBFbGVtZW50LFxuICAgICAgICApO1xuICAgICAgICBMYXlvdXQucmVnaXN0ZXJGcmFnbWVudEluZGV4KG9mZnNldCwgdGROb2RlU3RlcC5mcmFnbWVudEluZGV4ICsgMSwgMSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBzdGFydFRhYmxlQ2VsbChzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGlmICh0aGlzLmluSGVhZGVyIHx8IHRoaXMuaW5Gb290ZXIpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgY29uc3Qgbm9kZUNvbnRleHQgPSBzdGF0ZS5ub2RlQ29udGV4dDtcbiAgICBpZiAoIXRoaXMuaW5Sb3cpIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRSb3dJbmRleCA8IDApIHtcbiAgICAgICAgdGhpcy5jdXJyZW50Um93SW5kZXggPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jdXJyZW50Um93SW5kZXgrKztcbiAgICAgIH1cbiAgICAgIHRoaXMuY3VycmVudENvbHVtbkluZGV4ID0gMDtcbiAgICAgIHRoaXMuaW5Sb3cgPSB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBjZWxsID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5nZXRSb3dCeUluZGV4KHRoaXMuY3VycmVudFJvd0luZGV4KVxuICAgICAgLmNlbGxzW3RoaXMuY3VycmVudENvbHVtbkluZGV4XTtcbiAgICBjb25zdCBhZnRlck5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQuY29weSgpLm1vZGlmeSgpO1xuICAgIGFmdGVyTm9kZUNvbnRleHQuYWZ0ZXIgPSB0cnVlO1xuICAgIHN0YXRlLm5vZGVDb250ZXh0ID0gYWZ0ZXJOb2RlQ29udGV4dDtcbiAgICBjb25zdCBmcmFtZSA9IFRhc2submV3RnJhbWU8Ym9vbGVhbj4oXCJzdGFydFRhYmxlQ2VsbFwiKTtcbiAgICBsZXQgY29udDogVGFzay5SZXN1bHQ8VnRyZWUuQ2h1bmtQb3NpdGlvbj47XG4gICAgaWYgKHRoaXMuaGFzQnJva2VuQ2VsbEF0U2xvdChjZWxsLmFuY2hvclNsb3QuY29sdW1uSW5kZXgpKSB7XG4gICAgICBjb25zdCBjZWxsQnJlYWtQb3NpdGlvbiA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQuY2VsbEJyZWFrUG9zaXRpb25zLnNoaWZ0KCk7XG4gICAgICBub2RlQ29udGV4dC5mcmFnbWVudEluZGV4ID1cbiAgICAgICAgY2VsbEJyZWFrUG9zaXRpb24uY2VsbE5vZGVQb3NpdGlvbi5zdGVwc1swXS5mcmFnbWVudEluZGV4ICsgMTtcbiAgICAgIGNvbnQgPSBUYXNrLm5ld1Jlc3VsdChjZWxsQnJlYWtQb3NpdGlvbi5icmVha0NodW5rUG9zaXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ID0gdGhpcy5jb2x1bW5cbiAgICAgICAgLm5leHRJblRyZWUobm9kZUNvbnRleHQsIHN0YXRlLmF0VW5mb3JjZWRCcmVhaylcbiAgICAgICAgLnRoZW5Bc3luYygobmV4dE5vZGVDb250ZXh0KSA9PiB7XG4gICAgICAgICAgaWYgKG5leHROb2RlQ29udGV4dC52aWV3Tm9kZSkge1xuICAgICAgICAgICAgbm9kZUNvbnRleHQudmlld05vZGUucmVtb3ZlQ2hpbGQobmV4dE5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3Qgc3RhcnROb2RlUG9zaXRpb24gPSBWdHJlZUltcGwubmV3Tm9kZVBvc2l0aW9uRnJvbU5vZGVDb250ZXh0KFxuICAgICAgICAgICAgbmV4dE5vZGVDb250ZXh0LFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChuZXcgVnRyZWVJbXBsLkNodW5rUG9zaXRpb24oc3RhcnROb2RlUG9zaXRpb24pKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnQudGhlbigoc3RhcnRDaHVua1Bvc2l0aW9uKSA9PiB7XG4gICAgICBBc3NlcnRzLmFzc2VydChub2RlQ29udGV4dCk7XG4gICAgICB0aGlzLmxheW91dENlbGwoY2VsbCwgbm9kZUNvbnRleHQsIHN0YXJ0Q2h1bmtQb3NpdGlvbikudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMuYWZ0ZXJOb25JbmxpbmVFbGVtZW50Tm9kZShzdGF0ZSk7XG4gICAgICAgIHRoaXMuY3VycmVudENvbHVtbkluZGV4Kys7XG4gICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHN0YXJ0Tm9uSW5saW5lQm94KFxuICAgIHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCByID0gc2tpcE5lc3RlZFRhYmxlKFxuICAgICAgc3RhdGUsXG4gICAgICBnZXRUYWJsZUZvcm1hdHRpbmdDb250ZXh0KHRoaXMuZm9ybWF0dGluZ0NvbnRleHQpLFxuICAgICAgdGhpcy5jb2x1bW4sXG4gICAgKTtcbiAgICBpZiAocikge1xuICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICAgIGNvbnN0IG5vZGVDb250ZXh0ID0gc3RhdGUubm9kZUNvbnRleHQ7XG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgICBjb25zdCBkaXNwbGF5ID0gbm9kZUNvbnRleHQuZGlzcGxheTtcbiAgICBpZiAoXG4gICAgICBkaXNwbGF5ID09PSBcInRhYmxlLWhlYWRlci1ncm91cFwiICYmXG4gICAgICByZXBldGl0aXZlRWxlbWVudHMgJiZcbiAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5pc0hlYWRlclNvdXJjZU5vZGUobm9kZUNvbnRleHQuc291cmNlTm9kZSlcbiAgICApIHtcbiAgICAgIHRoaXMuaW5IZWFkZXIgPSB0cnVlO1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBkaXNwbGF5ID09PSBcInRhYmxlLWZvb3Rlci1ncm91cFwiICYmXG4gICAgICByZXBldGl0aXZlRWxlbWVudHMgJiZcbiAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5pc0Zvb3RlclNvdXJjZU5vZGUobm9kZUNvbnRleHQuc291cmNlTm9kZSlcbiAgICApIHtcbiAgICAgIHRoaXMuaW5Gb290ZXIgPSB0cnVlO1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH0gZWxzZSBpZiAoZGlzcGxheSA9PT0gXCJ0YWJsZS1yb3dcIikge1xuICAgICAgcmV0dXJuIHRoaXMuc3RhcnRUYWJsZVJvdyhzdGF0ZSk7XG4gICAgfSBlbHNlIGlmIChkaXNwbGF5ID09PSBcInRhYmxlLWNlbGxcIikge1xuICAgICAgcmV0dXJuIHRoaXMuc3RhcnRUYWJsZUNlbGwoc3RhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZW5kTm9uSW5saW5lQm94KHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUpOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3Qgbm9kZUNvbnRleHQgPSBzdGF0ZS5ub2RlQ29udGV4dDtcbiAgICBjb25zdCBkaXNwbGF5ID0gbm9kZUNvbnRleHQuZGlzcGxheTtcbiAgICBpZiAoZGlzcGxheSA9PT0gXCJ0YWJsZS1yb3dcIikge1xuICAgICAgdGhpcy5pblJvdyA9IGZhbHNlO1xuICAgICAgaWYgKCF0aGlzLmluSGVhZGVyICYmICF0aGlzLmluRm9vdGVyKSB7XG4gICAgICAgIGNvbnN0IGJlZm9yZU5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQuY29weSgpLm1vZGlmeSgpO1xuICAgICAgICBiZWZvcmVOb2RlQ29udGV4dC5hZnRlciA9IGZhbHNlO1xuICAgICAgICBjb25zdCBicCA9IG5ldyBJbnNpZGVUYWJsZVJvd0JyZWFrUG9zaXRpb24oXG4gICAgICAgICAgdGhpcy5jdXJyZW50Um93SW5kZXgsXG4gICAgICAgICAgYmVmb3JlTm9kZUNvbnRleHQsXG4gICAgICAgICAgdGhpcy5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5jb2x1bW4uYnJlYWtQb3NpdGlvbnMucHVzaChicCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgfVxuXG4gIGFmdGVyTm9uSW5saW5lRWxlbWVudE5vZGUoXG4gICAgc3RhdGU6IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBub2RlQ29udGV4dCA9IHN0YXRlLm5vZGVDb250ZXh0O1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgY29uc3QgZGlzcGxheSA9IG5vZGVDb250ZXh0LmRpc3BsYXk7XG4gICAgaWYgKGRpc3BsYXkgPT09IFwidGFibGUtaGVhZGVyLWdyb3VwXCIpIHtcbiAgICAgIGlmIChcbiAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzICYmXG4gICAgICAgICFyZXBldGl0aXZlRWxlbWVudHMuYWxsb3dJbnNlcnRSZXBlYXRpdGl2ZUVsZW1lbnRzICYmXG4gICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5pc0hlYWRlclNvdXJjZU5vZGUobm9kZUNvbnRleHQuc291cmNlTm9kZSlcbiAgICAgICkge1xuICAgICAgICB0aGlzLmluSGVhZGVyID0gZmFsc2U7XG4gICAgICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZUNvbnRleHQudmlld05vZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgICAgICBub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50LFxuICAgICAgICAgIFwiZGlzcGxheVwiLFxuICAgICAgICAgIFwidGFibGUtcm93LWdyb3VwXCIsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkaXNwbGF5ID09PSBcInRhYmxlLWZvb3Rlci1ncm91cFwiKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cyAmJlxuICAgICAgICAhcmVwZXRpdGl2ZUVsZW1lbnRzLmFsbG93SW5zZXJ0UmVwZWF0aXRpdmVFbGVtZW50cyAmJlxuICAgICAgICByZXBldGl0aXZlRWxlbWVudHMuaXNGb290ZXJTb3VyY2VOb2RlKG5vZGVDb250ZXh0LnNvdXJjZU5vZGUpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5pbkZvb3RlciA9IGZhbHNlO1xuICAgICAgICBub2RlQ29udGV4dC52aWV3Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICAgICAgbm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudCxcbiAgICAgICAgICBcImRpc3BsYXlcIixcbiAgICAgICAgICBcInRhYmxlLXJvdy1ncm91cFwiLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZGlzcGxheSAmJiBUYWJsZUxheW91dFN0cmF0ZWd5Lmlnbm9yZUxpc3RbZGlzcGxheV0pIHtcbiAgICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZUNvbnRleHQudmlld05vZGUpO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBub2RlQ29udGV4dC5zb3VyY2VOb2RlID09PSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LnRhYmxlU291cmNlTm9kZVxuICAgICkge1xuICAgICAgbm9kZUNvbnRleHQub3ZlcmZsb3cgPSB0aGlzLmNvbHVtbi5jaGVja092ZXJmbG93QW5kU2F2ZUVkZ2UoXG4gICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICBudWxsLFxuICAgICAgKTtcbiAgICAgIHRoaXMucmVzZXRDb2x1bW4oKTtcbiAgICAgIHN0YXRlLmJyZWFrID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHN1cGVyLmFmdGVyTm9uSW5saW5lRWxlbWVudE5vZGUoc3RhdGUpO1xuICAgIH1cbiAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gIH1cbn1cblxudHlwZSBUYWJsZUxheW91dE9wdGlvbiA9IHtcbiAgY2FsY3VsYXRlQnJlYWtQb3NpdGlvbnNJbnNpZGU6IGJvb2xlYW47XG59O1xuY29uc3QgdGFibGVMYXlvdXRPcHRpb25DYWNoZToge1xuICByb290OiBOb2RlO1xuICB0YWJsZUxheW91dE9wdGlvbjogVGFibGVMYXlvdXRPcHRpb247XG59W10gPSBbXTtcblxuZnVuY3Rpb24gZ2V0VGFibGVMYXlvdXRPcHRpb24oXG4gIHRhYmxlUm9vdFNvdXJjZU5vZGU6IE5vZGUsXG4pOiBUYWJsZUxheW91dE9wdGlvbiB8IG51bGwge1xuICBjb25zdCBpID0gdGFibGVMYXlvdXRPcHRpb25DYWNoZS5maW5kSW5kZXgoXG4gICAgKGMpID0+IGMucm9vdCA9PT0gdGFibGVSb290U291cmNlTm9kZSxcbiAgKTtcbiAgY29uc3QgcGFpciA9IHRhYmxlTGF5b3V0T3B0aW9uQ2FjaGVbaV07XG4gIHJldHVybiBwYWlyID8gcGFpci50YWJsZUxheW91dE9wdGlvbiA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIGNsZWFyVGFibGVMYXlvdXRPcHRpb25DYWNoZSh0YWJsZVJvb3RTb3VyY2VOb2RlOiBOb2RlKTogdm9pZCB7XG4gIGNvbnN0IGkgPSB0YWJsZUxheW91dE9wdGlvbkNhY2hlLmZpbmRJbmRleChcbiAgICAoYykgPT4gYy5yb290ID09PSB0YWJsZVJvb3RTb3VyY2VOb2RlLFxuICApO1xuICBpZiAoaSA+PSAwKSB7XG4gICAgdGFibGVMYXlvdXRPcHRpb25DYWNoZS5zcGxpY2UoaSwgMSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRhYmxlTGF5b3V0UHJvY2Vzc29yIGltcGxlbWVudHMgTGF5b3V0UHJvY2Vzc29yLkxheW91dFByb2Nlc3NvciB7XG4gIHByaXZhdGUgbGF5b3V0RW50aXJlVGFibGUoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IGdldFRhYmxlRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGNvbnN0IHN0cmF0ZWd5ID0gbmV3IEVudGlyZVRhYmxlTGF5b3V0U3RyYXRlZ3koZm9ybWF0dGluZ0NvbnRleHQsIGNvbHVtbik7XG4gICAgY29uc3QgaXRlcmF0b3IgPSBuZXcgTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvcihcbiAgICAgIHN0cmF0ZWd5LFxuICAgICAgY29sdW1uLmxheW91dENvbnRleHQsXG4gICAgKTtcbiAgICByZXR1cm4gaXRlcmF0b3IuaXRlcmF0ZShub2RlQ29udGV4dCk7XG4gIH1cblxuICBwcml2YXRlIGdldENvbHVtbldpZHRocyhcbiAgICBsYXN0Um93OiBFbGVtZW50LFxuICAgIGNvbHVtbkNvdW50OiBudW1iZXIsXG4gICAgdmVydGljYWw6IGJvb2xlYW4sXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICk6IG51bWJlcltdIHtcbiAgICBjb25zdCBkb2MgPSBsYXN0Um93Lm93bmVyRG9jdW1lbnQ7XG4gICAgY29uc3QgZHVtbXlSb3cgPSBkb2MuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgIGNvbnN0IGR1bW15Q2VsbHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbHVtbkNvdW50OyBpKyspIHtcbiAgICAgIGNvbnN0IGNlbGwgPSBkb2MuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgZHVtbXlSb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgICBkdW1teUNlbGxzLnB1c2goY2VsbCk7XG4gICAgfVxuICAgIGxhc3RSb3cucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZHVtbXlSb3csIGxhc3RSb3cubmV4dFNpYmxpbmcpO1xuICAgIGNvbnN0IGNvbFdpZHRocyA9IGR1bW15Q2VsbHMubWFwKChjZWxsKSA9PiB7XG4gICAgICBjb25zdCByZWN0ID0gY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KGNlbGwpO1xuICAgICAgcmV0dXJuIHZlcnRpY2FsID8gcmVjdFtcImhlaWdodFwiXSA6IHJlY3RbXCJ3aWR0aFwiXTtcbiAgICB9KTtcbiAgICBsYXN0Um93LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZHVtbXlSb3cpO1xuICAgIHJldHVybiBjb2xXaWR0aHM7XG4gIH1cblxuICBwcml2YXRlIGdldENvbEdyb3VwRWxlbWVudHModGFibGVFbGVtZW50OiBFbGVtZW50KTogRWxlbWVudFtdIHtcbiAgICBjb25zdCBjb2xHcm91cHMgPSBbXTtcbiAgICBsZXQgY2hpbGQgPSB0YWJsZUVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgd2hpbGUgKGNoaWxkKSB7XG4gICAgICBpZiAoY2hpbGQubG9jYWxOYW1lID09PSBcImNvbGdyb3VwXCIpIHtcbiAgICAgICAgY29sR3JvdXBzLnB1c2goY2hpbGQpO1xuICAgICAgfVxuICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgfVxuICAgIHJldHVybiBjb2xHcm91cHM7XG4gIH1cblxuICBwcml2YXRlIG5vcm1hbGl6ZUFuZEdldENvbEVsZW1lbnRzKGNvbEdyb3VwczogRWxlbWVudFtdKTogRWxlbWVudFtdIHtcbiAgICBjb25zdCBjb2xzID0gW107XG4gICAgY29sR3JvdXBzLmZvckVhY2goKGNvbEdyb3VwKSA9PiB7XG4gICAgICAvLyBSZXBsYWNlIGNvbGdyb3VwW3NwYW49bl0gd2l0aCBjb2xncm91cCB3aXRoIG4gY29sIGVsZW1lbnRzXG4gICAgICBsZXQgc3BhbiA9IChjb2xHcm91cCBhcyBhbnkpLnNwYW47XG4gICAgICBjb2xHcm91cC5yZW1vdmVBdHRyaWJ1dGUoXCJzcGFuXCIpO1xuICAgICAgbGV0IGNvbCA9IGNvbEdyb3VwLmZpcnN0RWxlbWVudENoaWxkO1xuICAgICAgd2hpbGUgKGNvbCkge1xuICAgICAgICBpZiAoY29sLmxvY2FsTmFtZSA9PT0gXCJjb2xcIikge1xuICAgICAgICAgIC8vIFJlcGxhY2UgY29sW3NwYW49bl0gd2l0aCBuIGNvbCBlbGVtZW50c1xuICAgICAgICAgIGxldCBzID0gKGNvbCBhcyBhbnkpLnNwYW47XG4gICAgICAgICAgY29sLnJlbW92ZUF0dHJpYnV0ZShcInNwYW5cIik7XG4gICAgICAgICAgc3BhbiAtPSBzO1xuICAgICAgICAgIHdoaWxlIChzLS0gPiAxKSB7XG4gICAgICAgICAgICBjb25zdCBjbG9uZWQgPSBjb2wuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAgICAgY29sR3JvdXAuaW5zZXJ0QmVmb3JlKGNsb25lZCwgY29sKTtcbiAgICAgICAgICAgIGNvbHMucHVzaChjbG9uZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb2xzLnB1c2goY29sKTtcbiAgICAgICAgfVxuICAgICAgICBjb2wgPSBjb2wubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHNwYW4tLSA+IDApIHtcbiAgICAgICAgY29sID0gY29sR3JvdXAub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY29sXCIpO1xuICAgICAgICBjb2xHcm91cC5hcHBlbmRDaGlsZChjb2wpO1xuICAgICAgICBjb2xzLnB1c2goY29sKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY29scztcbiAgfVxuXG4gIHByaXZhdGUgYWRkTWlzc2luZ0NvbEVsZW1lbnRzKFxuICAgIGNvbHM6IEVsZW1lbnRbXSxcbiAgICBjb2xHcm91cHM6IEVsZW1lbnRbXSxcbiAgICBjb2x1bW5Db3VudDogbnVtYmVyLFxuICAgIHRhYmxlRWxlbWVudDogRWxlbWVudCxcbiAgKSB7XG4gICAgaWYgKGNvbHMubGVuZ3RoIDwgY29sdW1uQ291bnQpIHtcbiAgICAgIGNvbnN0IGNvbEdyb3VwID0gdGFibGVFbGVtZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNvbGdyb3VwXCIpO1xuICAgICAgY29sR3JvdXBzLnB1c2goY29sR3JvdXApO1xuICAgICAgZm9yIChsZXQgaSA9IGNvbHMubGVuZ3RoOyBpIDwgY29sdW1uQ291bnQ7IGkrKykge1xuICAgICAgICBjb25zdCBjb2wgPSB0YWJsZUVsZW1lbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY29sXCIpO1xuICAgICAgICBjb2xHcm91cC5hcHBlbmRDaGlsZChjb2wpO1xuICAgICAgICBjb2xzLnB1c2goY29sKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWVhc3VyZSB3aWR0aCBvZiBjb2x1bW5zIGFuZCBub3JtYWxpemUgY29sZ3JvdXAgYW5kIGNvbCBlbGVtZW50cyBzbyB0aGF0XG4gICAqIGVhY2ggY29sdW1uIGhhcyBhIGNvcnJlc3BvbmRpbmcgY29sIGVsZW1lbnQgd2l0aCB0aGUgd2lkdGggc3BlY2lmaWVkLlxuICAgKi9cbiAgbm9ybWFsaXplQ29sR3JvdXBzKFxuICAgIGZvcm1hdHRpbmdDb250ZXh0OiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0LFxuICAgIHRhYmxlRWxlbWVudDogRWxlbWVudCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICkge1xuICAgIGNvbnN0IHZlcnRpY2FsID0gZm9ybWF0dGluZ0NvbnRleHQudmVydGljYWw7XG4gICAgY29uc3QgbGFzdFJvdyA9IGZvcm1hdHRpbmdDb250ZXh0Lmxhc3RSb3dWaWV3Tm9kZTtcbiAgICBpZiAoIWxhc3RSb3cpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgQXNzZXJ0cy5hc3NlcnQobGFzdFJvdyk7XG4gICAgZm9ybWF0dGluZ0NvbnRleHQubGFzdFJvd1ZpZXdOb2RlID0gbnVsbDtcbiAgICBjb25zdCBkb2MgPSBsYXN0Um93Lm93bmVyRG9jdW1lbnQ7XG4gICAgY29uc3QgZnJhZ21lbnQgPSBkb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXG4gICAgLy8gQ291bnQgY29sdW1uc1xuICAgIGNvbnN0IGNvbHVtbkNvdW50ID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0Q29sdW1uQ291bnQoKTtcbiAgICBpZiAoIShjb2x1bW5Db3VudCA+IDApKSB7XG4gICAgICBmb3JtYXR0aW5nQ29udGV4dC5jb2xHcm91cHMgPSBmcmFnbWVudDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBNZWFzdXJlIGNvbHVtbiB3aWR0aHNcbiAgICBjb25zdCBjb2xXaWR0aHMgPSAoZm9ybWF0dGluZ0NvbnRleHQuY29sV2lkdGhzID0gdGhpcy5nZXRDb2x1bW5XaWR0aHMoXG4gICAgICBsYXN0Um93LFxuICAgICAgY29sdW1uQ291bnQsXG4gICAgICB2ZXJ0aWNhbCxcbiAgICAgIGNvbHVtbi5jbGllbnRMYXlvdXQsXG4gICAgKSk7XG5cbiAgICAvLyBOb3JtYWxpemUgY29sZ3JvdXAgYW5kIGNvbCBlbGVtZW50c1xuICAgIGNvbnN0IGNvbEdyb3VwcyA9IHRoaXMuZ2V0Q29sR3JvdXBFbGVtZW50cyh0YWJsZUVsZW1lbnQpO1xuICAgIGNvbnN0IGNvbHMgPSB0aGlzLm5vcm1hbGl6ZUFuZEdldENvbEVsZW1lbnRzKGNvbEdyb3Vwcyk7XG5cbiAgICAvLyBBZGQgbWlzc2luZyBjb2wgZWxlbWVudHMgZm9yIHJlbWFpbmluZyBjb2x1bW5zXG4gICAgdGhpcy5hZGRNaXNzaW5nQ29sRWxlbWVudHMoY29scywgY29sR3JvdXBzLCBjb2x1bW5Db3VudCwgdGFibGVFbGVtZW50KTtcblxuICAgIC8vIEFzc2lnbiB3aWR0aCB0byBjb2wgZWxlbWVudHNcbiAgICBjb2xzLmZvckVhY2goKGNvbCwgaSkgPT4ge1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgICAgY29sLFxuICAgICAgICB2ZXJ0aWNhbCA/IFwiaGVpZ2h0XCIgOiBcIndpZHRoXCIsXG4gICAgICAgIGAke2NvbFdpZHRoc1tpXX1weGAsXG4gICAgICApO1xuICAgIH0pO1xuICAgIGNvbEdyb3Vwcy5mb3JFYWNoKChjb2xHcm91cCkgPT4ge1xuICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoY29sR3JvdXAuY2xvbmVOb2RlKHRydWUpKTtcbiAgICB9KTtcbiAgICBmb3JtYXR0aW5nQ29udGV4dC5jb2xHcm91cHMgPSBmcmFnbWVudDtcbiAgfVxuXG4gIGRvSW5pdGlhbExheW91dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0VGFibGVGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgZm9ybWF0dGluZ0NvbnRleHQudmVydGljYWwgPSBub2RlQ29udGV4dC52ZXJ0aWNhbDtcbiAgICBmb3JtYXR0aW5nQ29udGV4dC5pbml0aWFsaXplUmVwZXRpdGl2ZUVsZW1lbnRzKG5vZGVDb250ZXh0LnZlcnRpY2FsKTtcbiAgICBBc3NlcnRzLmFzc2VydChub2RlQ29udGV4dC5zb3VyY2VOb2RlKTtcbiAgICBjb25zdCB0YWJsZUxheW91dE9wdGlvbiA9IGdldFRhYmxlTGF5b3V0T3B0aW9uKG5vZGVDb250ZXh0LnNvdXJjZU5vZGUpO1xuICAgIGNsZWFyVGFibGVMYXlvdXRPcHRpb25DYWNoZShub2RlQ29udGV4dC5zb3VyY2VOb2RlKTtcbiAgICBjb25zdCBmcmFtZSA9IFRhc2submV3RnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+KFxuICAgICAgXCJUYWJsZUxheW91dFByb2Nlc3Nvci5kb0luaXRpYWxMYXlvdXRcIixcbiAgICApO1xuICAgIGNvbnN0IGluaXRpYWxOb2RlQ29udGV4dCA9IG5vZGVDb250ZXh0LmNvcHkoKTtcbiAgICB0aGlzLmxheW91dEVudGlyZVRhYmxlKG5vZGVDb250ZXh0LCBjb2x1bW4pLnRoZW4oKG5vZGVDb250ZXh0QWZ0ZXIpID0+IHtcbiAgICAgIGNvbnN0IHRhYmxlRWxlbWVudCA9IG5vZGVDb250ZXh0QWZ0ZXIudmlld05vZGUgYXMgRWxlbWVudDtcbiAgICAgIGNvbnN0IHRhYmxlQkJveCA9IGNvbHVtbi5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3QodGFibGVFbGVtZW50KTtcbiAgICAgIGxldCBlZGdlID0gY29sdW1uLnZlcnRpY2FsID8gdGFibGVCQm94LmxlZnQgOiB0YWJsZUJCb3guYm90dG9tO1xuICAgICAgZWRnZSArPVxuICAgICAgICAoY29sdW1uLnZlcnRpY2FsID8gLTEgOiAxKSAqXG4gICAgICAgIEJyZWFrUG9zaXRpb24uY2FsY3VsYXRlT2Zmc2V0KFxuICAgICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICAgIGNvbHVtbi5jb2xsZWN0RWxlbWVudHNPZmZzZXQoKSxcbiAgICAgICAgKS5jdXJyZW50O1xuICAgICAgaWYgKFxuICAgICAgICAhY29sdW1uLmlzT3ZlcmZsb3duKGVkZ2UpICYmXG4gICAgICAgICghdGFibGVMYXlvdXRPcHRpb24gfHwgIXRhYmxlTGF5b3V0T3B0aW9uLmNhbGN1bGF0ZUJyZWFrUG9zaXRpb25zSW5zaWRlKVxuICAgICAgKSB7XG4gICAgICAgIGNvbHVtbi5icmVha1Bvc2l0aW9ucy5wdXNoKFxuICAgICAgICAgIG5ldyBFbnRpcmVUYWJsZUJyZWFrUG9zaXRpb24oaW5pdGlhbE5vZGVDb250ZXh0KSxcbiAgICAgICAgKTtcbiAgICAgICAgZnJhbWUuZmluaXNoKG5vZGVDb250ZXh0QWZ0ZXIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLm5vcm1hbGl6ZUNvbEdyb3Vwcyhmb3JtYXR0aW5nQ29udGV4dCwgdGFibGVFbGVtZW50LCBjb2x1bW4pO1xuICAgICAgZm9ybWF0dGluZ0NvbnRleHQudXBkYXRlQ2VsbFNpemVzKGNvbHVtbi5jbGllbnRMYXlvdXQpO1xuICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGFkZENhcHRpb25zKFxuICAgIGZvcm1hdHRpbmdDb250ZXh0OiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0LFxuICAgIHJvb3RWaWV3Tm9kZTogRWxlbWVudCxcbiAgICBmaXJzdENoaWxkOiBOb2RlIHwgbnVsbCxcbiAgKSB7XG4gICAgY29uc3QgY2FwdGlvbnMgPSBmb3JtYXR0aW5nQ29udGV4dC5jYXB0aW9ucztcbiAgICBjYXB0aW9ucy5mb3JFYWNoKChjYXB0aW9uLCBpKSA9PiB7XG4gICAgICBpZiAoY2FwdGlvbikge1xuICAgICAgICByb290Vmlld05vZGUuaW5zZXJ0QmVmb3JlKGNhcHRpb24udmlld05vZGUsIGZpcnN0Q2hpbGQpO1xuICAgICAgICBpZiAoY2FwdGlvbi5zaWRlID09PSBcInRvcFwiKSB7XG4gICAgICAgICAgY2FwdGlvbnNbaV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBhZGRDb2xHcm91cHMoXG4gICAgZm9ybWF0dGluZ0NvbnRleHQ6IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcm9vdFZpZXdOb2RlOiBFbGVtZW50LFxuICAgIGZpcnN0Q2hpbGQ6IE5vZGUgfCBudWxsLFxuICApIHtcbiAgICBpZiAoXG4gICAgICBmb3JtYXR0aW5nQ29udGV4dC5jb2xHcm91cHMgJiZcbiAgICAgIHRoaXMuZ2V0Q29sR3JvdXBFbGVtZW50cyhyb290Vmlld05vZGUpLmxlbmd0aCA9PT0gMFxuICAgICkge1xuICAgICAgcm9vdFZpZXdOb2RlLmluc2VydEJlZm9yZShcbiAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQuY29sR3JvdXBzLmNsb25lTm9kZSh0cnVlKSxcbiAgICAgICAgZmlyc3RDaGlsZCxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlQ29sR3JvdXBzKFxuICAgIGZvcm1hdHRpbmdDb250ZXh0OiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0LFxuICAgIHJvb3RWaWV3Tm9kZTogRWxlbWVudCxcbiAgKSB7XG4gICAgaWYgKGZvcm1hdHRpbmdDb250ZXh0LmNvbEdyb3VwcyAmJiByb290Vmlld05vZGUpIHtcbiAgICAgIGNvbnN0IGNvbEdyb3VwcyA9IHRoaXMuZ2V0Q29sR3JvdXBFbGVtZW50cyhyb290Vmlld05vZGUpO1xuICAgICAgaWYgKGNvbEdyb3Vwcykge1xuICAgICAgICBjb2xHcm91cHMuZm9yRWFjaCgoY29sR3JvdXApID0+IHtcbiAgICAgICAgICByb290Vmlld05vZGUucmVtb3ZlQ2hpbGQoY29sR3JvdXApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBkb0xheW91dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0VGFibGVGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3Qgcm9vdFZpZXdOb2RlID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0Um9vdFZpZXdOb2RlKFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgKSBhcyBFbGVtZW50O1xuICAgIGNvbnN0IGZpcnN0Q2hpbGQgPSByb290Vmlld05vZGUuZmlyc3RDaGlsZDtcbiAgICB0aGlzLmFkZENhcHRpb25zKGZvcm1hdHRpbmdDb250ZXh0LCByb290Vmlld05vZGUsIGZpcnN0Q2hpbGQpO1xuICAgIHRoaXMuYWRkQ29sR3JvdXBzKGZvcm1hdHRpbmdDb250ZXh0LCByb290Vmlld05vZGUsIGZpcnN0Q2hpbGQpO1xuICAgIGNvbnN0IHN0cmF0ZWd5ID0gbmV3IFRhYmxlTGF5b3V0U3RyYXRlZ3koZm9ybWF0dGluZ0NvbnRleHQsIGNvbHVtbik7XG4gICAgY29uc3QgaXRlcmF0b3IgPSBuZXcgTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvcihcbiAgICAgIHN0cmF0ZWd5LFxuICAgICAgY29sdW1uLmxheW91dENvbnRleHQsXG4gICAgKTtcbiAgICBjb25zdCBmcmFtZSA9IFRhc2submV3RnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+KFxuICAgICAgXCJUYWJsZUZvcm1hdHRpbmdDb250ZXh0LmRvTGF5b3V0XCIsXG4gICAgKTtcbiAgICBpdGVyYXRvci5pdGVyYXRlKG5vZGVDb250ZXh0KS50aGVuRmluaXNoKGZyYW1lKTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBsYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBsZWFkaW5nRWRnZTogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IGdldFRhYmxlRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGNvbnN0IHJvb3RWaWV3Tm9kZSA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJvb3RWaWV3Tm9kZShub2RlQ29udGV4dCk7XG4gICAgaWYgKCFyb290Vmlld05vZGUpIHtcbiAgICAgIHJldHVybiBjb2x1bW4uYnVpbGREZWVwRWxlbWVudFZpZXcobm9kZUNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobGVhZGluZ0VkZ2UpIHtcbiAgICAgICAgUmVwZXRpdGl2ZUVsZW1lbnRJbXBsLmFwcGVuZEhlYWRlclRvQW5jZXN0b3JzKFxuICAgICAgICAgIG5vZGVDb250ZXh0LnBhcmVudCxcbiAgICAgICAgICBjb2x1bW4sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IExheW91dFJldHJ5ZXIoZm9ybWF0dGluZ0NvbnRleHQsIHRoaXMpLmxheW91dChcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIGNvbHVtbixcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY3JlYXRlRWRnZUJyZWFrUG9zaXRpb24oXG4gICAgcG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGJyZWFrT25FZGdlOiBzdHJpbmcgfCBudWxsLFxuICAgIG92ZXJmbG93czogYm9vbGVhbixcbiAgICBjb2x1bW5CbG9ja1NpemU6IG51bWJlcixcbiAgKTogTGF5b3V0VHlwZS5CcmVha1Bvc2l0aW9uIHtcbiAgICByZXR1cm4gbmV3IEJldHdlZW5UYWJsZVJvd0JyZWFrUG9zaXRpb24oXG4gICAgICBwb3NpdGlvbixcbiAgICAgIGJyZWFrT25FZGdlLFxuICAgICAgb3ZlcmZsb3dzLFxuICAgICAgY29sdW1uQmxvY2tTaXplLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydE5vbklubGluZUVsZW1lbnROb2RlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFmdGVyTm9uSW5saW5lRWxlbWVudE5vZGUoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHN0b3BBdE92ZXJmbG93OiBib29sZWFuLFxuICApOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmaW5pc2hCcmVhayhcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGZvcmNlUmVtb3ZlU2VsZjogYm9vbGVhbixcbiAgICBlbmRPZkNvbHVtbjogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0VGFibGVGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgaWYgKG5vZGVDb250ZXh0LmRpc3BsYXkgPT09IFwidGFibGUtcm93XCIpIHtcbiAgICAgIEFzc2VydHMuYXNzZXJ0KG5vZGVDb250ZXh0LnNvdXJjZU5vZGUpO1xuICAgICAgY29uc3Qgcm93SW5kZXggPSBmb3JtYXR0aW5nQ29udGV4dC5maW5kUm93SW5kZXhCeVNvdXJjZU5vZGUoXG4gICAgICAgIG5vZGVDb250ZXh0LnNvdXJjZU5vZGUsXG4gICAgICApO1xuICAgICAgZm9ybWF0dGluZ0NvbnRleHQuY2VsbEJyZWFrUG9zaXRpb25zID0gW107XG4gICAgICBsZXQgY2VsbHM6IFRhYmxlQ2VsbFtdO1xuICAgICAgaWYgKCFub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgICBjZWxscyA9IGZvcm1hdHRpbmdDb250ZXh0LmdldENlbGxzRmFsbGluZ09uUm93KHJvd0luZGV4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNlbGxzID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0Um93U3Bhbm5pbmdDZWxsc092ZXJmbG93aW5nVGhlUm93KFxuICAgICAgICAgIHJvd0luZGV4LFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGNlbGxzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBmcmFtZSA9IFRhc2submV3RnJhbWU8Ym9vbGVhbj4oXG4gICAgICAgICAgXCJUYWJsZUxheW91dFByb2Nlc3Nvci5maW5pc2hCcmVha1wiLFxuICAgICAgICApO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZyYW1lXG4gICAgICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGkgPT09IGNlbGxzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBjZWxsc1tpKytdO1xuICAgICAgICAgICAgY29uc3QgY2VsbEZyYWdtZW50ID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0Q2VsbEZyYWdtZW50T2ZDZWxsKGNlbGwpO1xuICAgICAgICAgICAgY29uc3QgYnJlYWtOb2RlQ29udGV4dCA9IGNlbGxGcmFnbWVudC5maW5kQWNjZXB0YWJsZUJyZWFrUG9zaXRpb24oKVxuICAgICAgICAgICAgICAubm9kZUNvbnRleHQ7XG4gICAgICAgICAgICBBc3NlcnRzLmFzc2VydChicmVha05vZGVDb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IGNlbGxOb2RlQ29udGV4dCA9IGNlbGxGcmFnbWVudC5jZWxsTm9kZUNvbnRleHQ7XG4gICAgICAgICAgICBjb25zdCBjZWxsTm9kZVBvc2l0aW9uID0gY2VsbE5vZGVDb250ZXh0LnRvTm9kZVBvc2l0aW9uKCk7XG4gICAgICAgICAgICBjb25zdCBicmVha0NodW5rUG9zaXRpb24gPSBuZXcgVnRyZWVJbXBsLkNodW5rUG9zaXRpb24oXG4gICAgICAgICAgICAgIGJyZWFrTm9kZUNvbnRleHQudG9Ob2RlUG9zaXRpb24oKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBmb3JtYXR0aW5nQ29udGV4dC5jZWxsQnJlYWtQb3NpdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgIGNlbGxOb2RlUG9zaXRpb24sXG4gICAgICAgICAgICAgIGJyZWFrQ2h1bmtQb3NpdGlvbixcbiAgICAgICAgICAgICAgY2VsbCxcbiAgICAgICAgICAgIH0gYXMgQnJva2VuVGFibGVDZWxsUG9zaXRpb24pO1xuICAgICAgICAgICAgY29uc3QgY2VsbFZpZXdOb2RlID0gY2VsbE5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEhUTUxUYWJsZUNlbGxFbGVtZW50O1xuICAgICAgICAgICAgY2VsbEZyYWdtZW50LmNvbHVtbi5sYXlvdXRDb250ZXh0LnByb2Nlc3NGcmFnbWVudGVkQmxvY2tFZGdlKFxuICAgICAgICAgICAgICBjZWxsRnJhZ21lbnQuY2VsbE5vZGVDb250ZXh0LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChyb3dJbmRleCA8IGNlbGwucm93SW5kZXggKyBjZWxsLnJvd1NwYW4gLSAxKSB7XG4gICAgICAgICAgICAgIGNlbGxWaWV3Tm9kZS5yb3dTcGFuID0gcm93SW5kZXggLSBjZWxsLnJvd0luZGV4ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY2VsbEZyYWdtZW50LmVtcHR5KSB7XG4gICAgICAgICAgICAgIGNlbGxGcmFnbWVudC5wc2V1ZG9Db2x1bW5cbiAgICAgICAgICAgICAgICAuZmluaXNoQnJlYWsoYnJlYWtOb2RlQ29udGV4dCwgZmFsc2UsIHRydWUpXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgQXNzZXJ0cy5hc3NlcnQoY2VsbEZyYWdtZW50KTtcbiAgICAgICAgICAgICAgICAgIGFkanVzdENlbGxIZWlnaHQoXG4gICAgICAgICAgICAgICAgICAgIGNlbGxGcmFnbWVudCxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrTm9kZUNvbnRleHQsXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY29sdW1uLmNsZWFyT3ZlcmZsb3duVmlld05vZGVzKG5vZGVDb250ZXh0LCBmYWxzZSk7XG4gICAgICAgICAgICBjb2x1bW4ubGF5b3V0Q29udGV4dC5wcm9jZXNzRnJhZ21lbnRlZEJsb2NrRWRnZShub2RlQ29udGV4dCk7XG4gICAgICAgICAgICBmb3JtYXR0aW5nQ29udGV4dC5maW5pc2hGcmFnbWVudCgpO1xuICAgICAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvcm1hdHRpbmdDb250ZXh0LmZpbmlzaEZyYWdtZW50KCk7XG4gICAgcmV0dXJuIExheW91dFByb2Nlc3Nvci5ibG9ja0xheW91dFByb2Nlc3Nvci5maW5pc2hCcmVhayhcbiAgICAgIGNvbHVtbixcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgZm9yY2VSZW1vdmVTZWxmLFxuICAgICAgZW5kT2ZDb2x1bW4sXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgY2xlYXJPdmVyZmxvd25WaWV3Tm9kZXMoXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIHBhcmVudE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgcmVtb3ZlU2VsZjogYm9vbGVhbixcbiAgKSB7XG4gICAgTGF5b3V0UHJvY2Vzc29yLkJsb2NrTGF5b3V0UHJvY2Vzc29yLnByb3RvdHlwZS5jbGVhck92ZXJmbG93blZpZXdOb2RlcyhcbiAgICAgIGNvbHVtbixcbiAgICAgIHBhcmVudE5vZGVDb250ZXh0LFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICByZW1vdmVTZWxmLFxuICAgICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWRqdXN0Q2VsbEhlaWdodChcbiAgY2VsbEZyYWdtZW50OiBUYWJsZUNlbGxGcmFnbWVudCxcbiAgZm9ybWF0dGluZ0NvbnRleHQ6IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQsXG4gIGJyZWFrTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuKTogdm9pZCB7XG4gIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cykge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB2ZXJ0aWNhbCA9IGZvcm1hdHRpbmdDb250ZXh0LnZlcnRpY2FsO1xuICBjb25zdCBjb2x1bW4gPSBjZWxsRnJhZ21lbnQuY29sdW1uO1xuICBjb25zdCBjZWxsQ29udGVudEVsZW1lbnQgPSBjZWxsRnJhZ21lbnQucHNldWRvQ29sdW1uLmdldENvbHVtbkVsZW1lbnQoKTtcbiAgY29uc3QgY2VsbEVsZW1lbnQgPSBjZWxsRnJhZ21lbnQuY2VsbE5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQ7XG4gIGNvbnN0IGNlbGxFbGVtZW50UmVjdCA9IGNvbHVtbi5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3QoY2VsbEVsZW1lbnQpO1xuICBjb25zdCBwYWRkaW5nID0gY29sdW1uLmdldENvbXB1dGVkUGFkZGluZ0JvcmRlcihjZWxsRWxlbWVudCk7XG4gIGlmICh2ZXJ0aWNhbCkge1xuICAgIGNvbnN0IHdpZHRoID1cbiAgICAgIGNlbGxFbGVtZW50UmVjdC5yaWdodCAtXG4gICAgICBjb2x1bW4uZm9vdG5vdGVFZGdlIC1cbiAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5jYWxjdWxhdGVPZmZzZXQoYnJlYWtOb2RlQ29udGV4dCkgLVxuICAgICAgcGFkZGluZy5yaWdodDtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNlbGxDb250ZW50RWxlbWVudCwgXCJtYXgtd2lkdGhcIiwgYCR7d2lkdGh9cHhgKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBoZWlnaHQgPVxuICAgICAgY29sdW1uLmZvb3Rub3RlRWRnZSAtXG4gICAgICByZXBldGl0aXZlRWxlbWVudHMuY2FsY3VsYXRlT2Zmc2V0KGJyZWFrTm9kZUNvbnRleHQpIC1cbiAgICAgIGNlbGxFbGVtZW50UmVjdC50b3AgLVxuICAgICAgcGFkZGluZy50b3A7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjZWxsQ29udGVudEVsZW1lbnQsIFwibWF4LWhlaWdodFwiLCBgJHtoZWlnaHR9cHhgKTtcbiAgfVxuICBCYXNlLnNldENTU1Byb3BlcnR5KGNlbGxDb250ZW50RWxlbWVudCwgXCJvdmVyZmxvd1wiLCBcImhpZGRlblwiKTtcbn1cblxuZXhwb3J0IGNsYXNzIExheW91dFJldHJ5ZXIgZXh0ZW5kcyBMYXlvdXRSZXRyeWVycy5BYnN0cmFjdExheW91dFJldHJ5ZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHRhYmxlRm9ybWF0dGluZ0NvbnRleHQ6IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcHJpdmF0ZSByZWFkb25seSBwcm9jZXNzb3I6IFRhYmxlTGF5b3V0UHJvY2Vzc29yLFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcmVzb2x2ZUxheW91dE1vZGUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogTGF5b3V0VHlwZS5MYXlvdXRNb2RlIHtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSB0aGlzLnRhYmxlRm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMgfHwgIXJlcGV0aXRpdmVFbGVtZW50cy5kb25lSW5pdGlhbExheW91dCkge1xuICAgICAgcmV0dXJuIG5ldyBMYXlvdXRFbnRpcmVUYWJsZSh0aGlzLnRhYmxlRm9ybWF0dGluZ0NvbnRleHQsIHRoaXMucHJvY2Vzc29yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKFxuICAgICAgICBub2RlQ29udGV4dC5zb3VyY2VOb2RlID09PVxuICAgICAgICAgIHRoaXMudGFibGVGb3JtYXR0aW5nQ29udGV4dC50YWJsZVNvdXJjZU5vZGUgJiZcbiAgICAgICAgIW5vZGVDb250ZXh0LmFmdGVyXG4gICAgICApIHtcbiAgICAgICAgaWYgKHJlcGV0aXRpdmVFbGVtZW50cykge1xuICAgICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5wcmV2ZW50U2tpcHBpbmdIZWFkZXIoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBMYXlvdXRGcmFnbWVudGVkVGFibGUoXG4gICAgICAgIHRoaXMudGFibGVGb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNsZWFyTm9kZXMoaW5pdGlhbFBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCkge1xuICAgIHN1cGVyLmNsZWFyTm9kZXMoaW5pdGlhbFBvc2l0aW9uKTtcbiAgICBjb25zdCByb290Vmlld05vZGUgPSB0aGlzLnRhYmxlRm9ybWF0dGluZ0NvbnRleHQuZ2V0Um9vdFZpZXdOb2RlKFxuICAgICAgaW5pdGlhbFBvc2l0aW9uLFxuICAgICk7XG4gICAgdGhpcy5wcm9jZXNzb3IucmVtb3ZlQ29sR3JvdXBzKHRoaXMudGFibGVGb3JtYXR0aW5nQ29udGV4dCwgcm9vdFZpZXdOb2RlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHJlc3RvcmVTdGF0ZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsIGNvbHVtbjogTGF5b3V0LkNvbHVtbikge1xuICAgIHN1cGVyLnJlc3RvcmVTdGF0ZShub2RlQ29udGV4dCwgY29sdW1uKTtcbiAgICB0aGlzLnRhYmxlRm9ybWF0dGluZ0NvbnRleHQuZmluaXNoRnJhZ21lbnQoKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGF5b3V0RW50aXJlVGFibGUgZXh0ZW5kcyBSZXBldGl0aXZlRWxlbWVudEltcGwuTGF5b3V0RW50aXJlQmxvY2sge1xuICBjb25zdHJ1Y3RvcihcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogVGFibGVGb3JtYXR0aW5nQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJvY2Vzc29yOiBUYWJsZUxheW91dFByb2Nlc3NvcixcbiAgKSB7XG4gICAgc3VwZXIoZm9ybWF0dGluZ0NvbnRleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZG9MYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICByZXR1cm4gdGhpcy5wcm9jZXNzb3IuZG9Jbml0aWFsTGF5b3V0KG5vZGVDb250ZXh0LCBjb2x1bW4pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFbnRpcmVUYWJsZUJyZWFrUG9zaXRpb24gZXh0ZW5kcyBCcmVha1Bvc2l0aW9uLkVkZ2VCcmVha1Bvc2l0aW9uIHtcbiAgY29uc3RydWN0b3IodGFibGVOb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpIHtcbiAgICBzdXBlcih0YWJsZU5vZGVDb250ZXh0LCBudWxsLCB0YWJsZU5vZGVDb250ZXh0Lm92ZXJmbG93LCAwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE1pbkJyZWFrUGVuYWx0eSgpOiBudW1iZXIge1xuICAgIGlmICghdGhpcy5pc0VkZ2VVcGRhdGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFZGdlQnJlYWtQb3NpdGlvbi5wcm90b3R5cGUudXBkYXRlRWRnZSBub3QgY2FsbGVkXCIpO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgKHRoaXMub3ZlcmZsb3dzID8gMyA6IDApICtcbiAgICAgICh0aGlzLnBvc2l0aW9uLnBhcmVudCA/IHRoaXMucG9zaXRpb24ucGFyZW50LmJyZWFrUGVuYWx0eSA6IDApXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGJyZWFrUG9zaXRpb25DaG9zZW4oY29sdW1uOiBMYXlvdXQuQ29sdW1uKTogdm9pZCB7XG4gICAgY29sdW1uLmZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMucHVzaChcbiAgICAgIG5ldyBFbnRpcmVUYWJsZUxheW91dENvbnN0cmFpbnQodGhpcy5wb3NpdGlvbi5zb3VyY2VOb2RlKSxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFbnRpcmVUYWJsZUxheW91dENvbnN0cmFpbnRcbiAgaW1wbGVtZW50cyBMYXlvdXQuRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50IHtcbiAgZmxhZ21lbnRMYXlvdXRDb25zdHJhaW50VHlwZTogRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50VHlwZSA9IFwiRW50aXJlVGFibGVcIjtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgdGFibGVSb290Tm9kZTogTm9kZSkge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhbGxvd0xheW91dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgb3ZlcmZsb3duTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogYm9vbGVhbiB7XG4gICAgLy8gSWYgdGhlIG5vZGVDb250ZXh0IG92ZXJmbG93cywgYW55IEVudGlyZVRhYmxlTGF5b3V0Q29uc3RyYWludCBzaG91bGQgbm90XG4gICAgLy8gYmUgcmVnaXN0ZXJlZCBpbiB0aGUgZmlyc3QgcGxhY2UuIFNlZVxuICAgIC8vIFRhYmxlTGF5b3V0UHJvY2Vzc29yLnByb3RvdHlwZS5kb0luaXRpYWxMYXlvdXQuXG4gICAgQXNzZXJ0cy5hc3NlcnQoIW5vZGVDb250ZXh0Lm92ZXJmbG93KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBuZXh0Q2FuZGlkYXRlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcG9zdExheW91dChcbiAgICBhbGxvd2VkOiBib29sZWFuLFxuICAgIHBvc2l0aW9uQWZ0ZXI6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGluaXRpYWxQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApIHtcbiAgICBBc3NlcnRzLmFzc2VydChwb3NpdGlvbkFmdGVyLnNvdXJjZU5vZGUpO1xuICAgIHRhYmxlTGF5b3V0T3B0aW9uQ2FjaGUucHVzaCh7XG4gICAgICByb290OiBwb3NpdGlvbkFmdGVyLnNvdXJjZU5vZGUsXG4gICAgICB0YWJsZUxheW91dE9wdGlvbjoge1xuICAgICAgICBjYWxjdWxhdGVCcmVha1Bvc2l0aW9uc0luc2lkZTogdHJ1ZSxcbiAgICAgIH0gYXMgVGFibGVMYXlvdXRPcHRpb24sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmaW5pc2hCcmVhayhcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXF1YWxzVG8oY29uc3RyYWludDogTGF5b3V0LkZyYWdtZW50TGF5b3V0Q29uc3RyYWludCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBjb25zdHJhaW50IGluc3RhbmNlb2YgRW50aXJlVGFibGVMYXlvdXRDb25zdHJhaW50ICYmXG4gICAgICBjb25zdHJhaW50LnRhYmxlUm9vdE5vZGUgPT09IHRoaXMudGFibGVSb290Tm9kZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eU9mRmluaXNoQnJlYWsoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGF5b3V0RnJhZ21lbnRlZFRhYmxlIGV4dGVuZHMgUmVwZXRpdGl2ZUVsZW1lbnRJbXBsLkxheW91dEZyYWdtZW50ZWRCbG9jayB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGZvcm1hdHRpbmdDb250ZXh0OiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSBwcm9jZXNzb3I6IFRhYmxlTGF5b3V0UHJvY2Vzc29yLFxuICApIHtcbiAgICBzdXBlcihmb3JtYXR0aW5nQ29udGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBkb0xheW91dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgaWYgKFxuICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzICYmXG4gICAgICAhcmVwZXRpdGl2ZUVsZW1lbnRzLmlzQWZ0ZXJMYXN0Q29udGVudChub2RlQ29udGV4dClcbiAgICApIHtcbiAgICAgIGNvbnN0IGNvbnN0cmFpbnQgPSBuZXcgVGFibGVSb3dMYXlvdXRDb25zdHJhaW50KG5vZGVDb250ZXh0KTtcbiAgICAgIGlmIChcbiAgICAgICAgIWNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLnNvbWUoKGMpID0+IGNvbnN0cmFpbnQuZXF1YWxzVG8oYykpXG4gICAgICApIHtcbiAgICAgICAgY29sdW1uLmZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMudW5zaGlmdChjb25zdHJhaW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucHJvY2Vzc29yLmRvTGF5b3V0KG5vZGVDb250ZXh0LCBjb2x1bW4pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUYWJsZVJvd0xheW91dENvbnN0cmFpbnRcbiAgZXh0ZW5kcyBSZXBldGl0aXZlRWxlbWVudEltcGwuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRDb25zdHJhaW50XG4gIGltcGxlbWVudHMgVGFibGUuVGFibGVSb3dMYXlvdXRDb25zdHJhaW50IHtcbiAgZmxhZ21lbnRMYXlvdXRDb25zdHJhaW50VHlwZTogRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50VHlwZSA9IFwiVGFibGVSb3dcIjtcbiAgY2VsbEZyYWdtZW50TGF5b3V0Q29uc3RyYWludHM6IHtcbiAgICBjb25zdHJhaW50czogTGF5b3V0LkZyYWdtZW50TGF5b3V0Q29uc3RyYWludFtdO1xuICAgIGJyZWFrUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0O1xuICB9W10gPSBbXTtcblxuICBjb25zdHJ1Y3Rvcihub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpIHtcbiAgICBzdXBlcihub2RlQ29udGV4dCk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFsbG93TGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBvdmVyZmxvd25Ob2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBib29sZWFuIHtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSB0aGlzLmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNvbHVtbi5wc2V1ZG9QYXJlbnQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoTGF5b3V0SGVscGVyLmlzT3JwaGFuKHRoaXMubm9kZUNvbnRleHQudmlld05vZGUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMuaXNFbmFibGVUb1VwZGF0ZVN0YXRlKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAob3ZlcmZsb3duTm9kZUNvbnRleHQgJiYgIW5vZGVDb250ZXh0KSB8fFxuICAgICAgKG5vZGVDb250ZXh0ICYmIG5vZGVDb250ZXh0Lm92ZXJmbG93KVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIG5leHRDYW5kaWRhdGUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRUYWJsZUZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgdGhpcy5ub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGNvbnN0IGNlbGxGcmFnbWVudENvbnN0cmFpbnRzID0gdGhpcy5jb2xsZWN0Q2VsbEZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMoXG4gICAgICBub2RlQ29udGV4dCxcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgaWYgKFxuICAgICAgY2VsbEZyYWdtZW50Q29uc3RyYWludHMuc29tZSgoZW50cnkpID0+XG4gICAgICAgIGVudHJ5LmNvbnN0cmFpbnRzLnNvbWUoKGNvbnN0cmFpbnQpID0+XG4gICAgICAgICAgY29uc3RyYWludC5uZXh0Q2FuZGlkYXRlKG5vZGVDb250ZXh0KSxcbiAgICAgICAgKSxcbiAgICAgIClcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIubmV4dENhbmRpZGF0ZShub2RlQ29udGV4dCk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHBvc3RMYXlvdXQoXG4gICAgYWxsb3dlZDogYm9vbGVhbixcbiAgICBwb3NpdGlvbkFmdGVyOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKSB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRUYWJsZUZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgdGhpcy5ub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIHRoaXMuY2VsbEZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMgPSB0aGlzLmNvbGxlY3RDZWxsRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyhcbiAgICAgIHBvc2l0aW9uQWZ0ZXIsXG4gICAgICBmb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIHRoaXMuY2VsbEZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgIGVudHJ5LmNvbnN0cmFpbnRzLmZvckVhY2goKGNvbnN0cmFpbnQpID0+IHtcbiAgICAgICAgY29uc3RyYWludC5wb3N0TGF5b3V0KFxuICAgICAgICAgIGFsbG93ZWQsXG4gICAgICAgICAgZW50cnkuYnJlYWtQb3NpdGlvbixcbiAgICAgICAgICBpbml0aWFsUG9zaXRpb24sXG4gICAgICAgICAgY29sdW1uLFxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaWYgKCFhbGxvd2VkKSB7XG4gICAgICBjb25zdCByb290Vmlld05vZGUgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRSb290Vmlld05vZGUodGhpcy5ub2RlQ29udGV4dCk7XG4gICAgICBuZXcgVGFibGVMYXlvdXRQcm9jZXNzb3IoKS5yZW1vdmVDb2xHcm91cHMoXG4gICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgICByb290Vmlld05vZGUgYXMgRWxlbWVudCxcbiAgICAgICk7XG4gICAgICB0aGlzLnJlbW92ZUR1bW15Um93Tm9kZXMoaW5pdGlhbFBvc2l0aW9uKTtcbiAgICB9XG4gICAgc3VwZXIucG9zdExheW91dChhbGxvd2VkLCBwb3NpdGlvbkFmdGVyLCBpbml0aWFsUG9zaXRpb24sIGNvbHVtbik7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGZpbmlzaEJyZWFrKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IGdldFRhYmxlRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICB0aGlzLm5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwiZmluaXNoQnJlYWtcIik7XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB0aGlzLmNlbGxGcmFnbWVudExheW91dENvbnN0cmFpbnRzLnJlZHVjZShcbiAgICAgIChhcnJheSwgZW50cnkpID0+XG4gICAgICAgIGFycmF5LmNvbmNhdChcbiAgICAgICAgICBlbnRyeS5jb25zdHJhaW50cy5tYXAoKGNvbnN0cmFpbnQpID0+ICh7XG4gICAgICAgICAgICBjb25zdHJhaW50LFxuICAgICAgICAgICAgYnJlYWtQb3NpdGlvbjogZW50cnkuYnJlYWtQb3NpdGlvbixcbiAgICAgICAgICB9KSksXG4gICAgICAgICksXG4gICAgICBbXSxcbiAgICApO1xuICAgIGxldCBpID0gMDtcbiAgICBmcmFtZVxuICAgICAgLmxvb3AoKCkgPT4ge1xuICAgICAgICBpZiAoaSA8IGNvbnN0cmFpbnRzLmxlbmd0aCkge1xuICAgICAgICAgIGNvbnN0IGVudHJ5ID0gY29uc3RyYWludHNbaSsrXTtcbiAgICAgICAgICByZXR1cm4gZW50cnkuY29uc3RyYWludFxuICAgICAgICAgICAgLmZpbmlzaEJyZWFrKGVudHJ5LmJyZWFrUG9zaXRpb24sIGNvbHVtbilcbiAgICAgICAgICAgIC50aGVuUmV0dXJuKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZVxuICAgICAgLnJlc3VsdCgpXG4gICAgICAudGhlbkFzeW5jKCgpID0+IHN1cGVyLmZpbmlzaEJyZWFrKG5vZGVDb250ZXh0LCBjb2x1bW4pKTtcbiAgfVxuXG4gIHJlbW92ZUR1bW15Um93Tm9kZXMobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KSB7XG4gICAgaWYgKFxuICAgICAgIW5vZGVDb250ZXh0IHx8XG4gICAgICBub2RlQ29udGV4dC5kaXNwbGF5ICE9PSBcInRhYmxlLXJvd1wiIHx8XG4gICAgICAhbm9kZUNvbnRleHQudmlld05vZGVcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd2hpbGUgKChub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50KS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgICBjb25zdCBkdW1teU5vZGUgPSAobm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudClcbiAgICAgICAgLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgICBpZiAoZHVtbXlOb2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgZHVtbXlOb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZHVtbXlOb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbGxlY3RDZWxsRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyhcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgZm9ybWF0dGluZ0NvbnRleHQ6IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQsXG4gICk6IHtcbiAgICBjb25zdHJhaW50czogTGF5b3V0LkZyYWdtZW50TGF5b3V0Q29uc3RyYWludFtdO1xuICAgIGJyZWFrUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0O1xuICB9W10ge1xuICAgIHJldHVybiB0aGlzLmdldENlbGxGcmFnZW1udHMobm9kZUNvbnRleHQsIGZvcm1hdHRpbmdDb250ZXh0KS5tYXAoXG4gICAgICAoZW50cnkpID0+ICh7XG4gICAgICAgIGNvbnN0cmFpbnRzOiBlbnRyeS5mcmFnbWVudC5wc2V1ZG9Db2x1bW4uZ2V0Q29sdW1uKClcbiAgICAgICAgICAuZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyxcbiAgICAgICAgYnJlYWtQb3NpdGlvbjogZW50cnkuYnJlYWtQb3NpdGlvbixcbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGdldENlbGxGcmFnZW1udHMoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGZvcm1hdHRpbmdDb250ZXh0OiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0LFxuICApOiB7IGZyYWdtZW50OiBUYWJsZUNlbGxGcmFnbWVudDsgYnJlYWtQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQgfVtdIHtcbiAgICBsZXQgcm93SW5kZXggPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgIGlmIChub2RlQ29udGV4dCAmJiBub2RlQ29udGV4dC5kaXNwbGF5ID09PSBcInRhYmxlLXJvd1wiKSB7XG4gICAgICBBc3NlcnRzLmFzc2VydChub2RlQ29udGV4dC5zb3VyY2VOb2RlKTtcbiAgICAgIHJvd0luZGV4ID1cbiAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQuZmluZFJvd0luZGV4QnlTb3VyY2VOb2RlKG5vZGVDb250ZXh0LnNvdXJjZU5vZGUpICsgMTtcbiAgICB9XG4gICAgcm93SW5kZXggPSBNYXRoLm1pbihmb3JtYXR0aW5nQ29udGV4dC5jZWxsRnJhZ21lbnRzLmxlbmd0aCwgcm93SW5kZXgpO1xuICAgIGNvbnN0IGNlbGxGcmFnbWVudHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvd0luZGV4OyBpKyspIHtcbiAgICAgIGlmICghZm9ybWF0dGluZ0NvbnRleHQuY2VsbEZyYWdtZW50c1tpXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmNlbGxGcmFnbWVudHNbaV0uZm9yRWFjaCgoY2VsbEZyYWdtZW50KSA9PiB7XG4gICAgICAgIGlmICghY2VsbEZyYWdtZW50KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNlbGxGcmFnbWVudHMucHVzaCh7XG4gICAgICAgICAgZnJhZ21lbnQ6IGNlbGxGcmFnbWVudCxcbiAgICAgICAgICBicmVha1Bvc2l0aW9uOiBjZWxsRnJhZ21lbnQuZmluZEFjY2VwdGFibGVCcmVha1Bvc2l0aW9uKCkubm9kZUNvbnRleHQsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBjZWxsRnJhZ21lbnRzO1xuICB9XG5cbiAgZ2V0RWxlbWVudHNPZmZzZXRzRm9yVGFibGVDZWxsKFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogUmVwZXRpdGl2ZUVsZW1lbnQuRWxlbWVudHNPZmZzZXRbXSB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRUYWJsZUZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgdGhpcy5ub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGNvbnN0IHBvc2l0aW9uID0gZm9ybWF0dGluZ0NvbnRleHQuZmluZENlbGxGcm9tQ29sdW1uKGNvbHVtbik7XG4gICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICByZXR1cm4gZm9ybWF0dGluZ0NvbnRleHQuY29sbGVjdEVsZW1lbnRzT2Zmc2V0T2ZVcHBlckNlbGxzKHBvc2l0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZvcm1hdHRpbmdDb250ZXh0LmNvbGxlY3RFbGVtZW50c09mZnNldE9mSGlnaGVzdENvbHVtbigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZXF1YWxzVG8oY29uc3RyYWludDogTGF5b3V0LkZyYWdtZW50TGF5b3V0Q29uc3RyYWludCk6IGJvb2xlYW4ge1xuICAgIGlmICghKGNvbnN0cmFpbnQgaW5zdGFuY2VvZiBUYWJsZVJvd0xheW91dENvbnN0cmFpbnQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICBnZXRUYWJsZUZvcm1hdHRpbmdDb250ZXh0KHRoaXMubm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQpID09PVxuICAgICAgZ2V0VGFibGVGb3JtYXR0aW5nQ29udGV4dChjb25zdHJhaW50Lm5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0KVxuICAgICk7XG4gIH1cbn1cblxuY29uc3QgdGFibGVMYXlvdXRQcm9jZXNzb3IgPSBuZXcgVGFibGVMYXlvdXRQcm9jZXNzb3IoKTtcblxuZnVuY3Rpb24gcmVzb2x2ZUZvcm1hdHRpbmdDb250ZXh0SG9vayhcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICBmaXJzdFRpbWU6IGJvb2xlYW4sXG4gIGRpc3BsYXk6IENzcy5JZGVudCxcbiAgcG9zaXRpb246IENzcy5JZGVudCxcbiAgZmxvYXRTaWRlOiBDc3MuSWRlbnQsXG4gIGlzUm9vdDogYm9vbGVhbixcbik6IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQgfCBudWxsIHtcbiAgaWYgKCFmaXJzdFRpbWUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoZGlzcGxheSA9PT0gQ3NzLmlkZW50LnRhYmxlKSB7XG4gICAgY29uc3QgcGFyZW50ID0gbm9kZUNvbnRleHQucGFyZW50O1xuICAgIHJldHVybiBuZXcgVGFibGVGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIHBhcmVudCA/IHBhcmVudC5mb3JtYXR0aW5nQ29udGV4dCA6IG51bGwsXG4gICAgICBub2RlQ29udGV4dC5zb3VyY2VOb2RlIGFzIEVsZW1lbnQsXG4gICAgKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUxheW91dFByb2Nlc3NvcihcbiAgZm9ybWF0dGluZ0NvbnRleHQsXG4pOiBUYWJsZUxheW91dFByb2Nlc3NvciB8IG51bGwge1xuICBpZiAoZm9ybWF0dGluZ0NvbnRleHQgaW5zdGFuY2VvZiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0KSB7XG4gICAgcmV0dXJuIHRhYmxlTGF5b3V0UHJvY2Vzc29yO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5QbHVnaW4ucmVnaXN0ZXJIb29rKFxuICBQbHVnaW4uSE9PS1MuUkVTT0xWRV9GT1JNQVRUSU5HX0NPTlRFWFQsXG4gIHJlc29sdmVGb3JtYXR0aW5nQ29udGV4dEhvb2ssXG4pO1xuXG5QbHVnaW4ucmVnaXN0ZXJIb29rKFxuICBQbHVnaW4uSE9PS1MuUkVTT0xWRV9MQVlPVVRfUFJPQ0VTU09SLFxuICByZXNvbHZlTGF5b3V0UHJvY2Vzc29yLFxuKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IE1hdGhVdGlsIC0gTWF0aCB1dGlsaXRpZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lYW4oYXJyYXk6IG51bWJlcltdKTogbnVtYmVyIHtcbiAgcmV0dXJuIGFycmF5LnJlZHVjZSgocHJldiwgY3VycikgPT4gcHJldiArIGN1cnIsIDApIC8gYXJyYXkubGVuZ3RoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFyaWFuY2UoYXJyYXk6IG51bWJlcltdKTogbnVtYmVyIHtcbiAgY29uc3QgbWVhblZhbHVlID0gbWVhbihhcnJheSk7XG4gIHJldHVybiBtZWFuKFxuICAgIGFycmF5Lm1hcCgoeCkgPT4ge1xuICAgICAgY29uc3QgZCA9IHggLSBtZWFuVmFsdWU7XG4gICAgICByZXR1cm4gZCAqIGQ7XG4gICAgfSksXG4gICk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBDb2x1bW5zIC0gQ29udHJvbCBjb2x1bW4gbGF5b3V0LlxuICovXG5pbXBvcnQgKiBhcyBBc3NlcnRzIGZyb20gXCIuL2Fzc2VydHNcIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIE1hdGhVdGlsIGZyb20gXCIuL21hdGgtdXRpbFwiO1xuaW1wb3J0ICogYXMgUGFnZUZsb2F0cyBmcm9tIFwiLi9wYWdlLWZsb2F0c1wiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgKiBhcyBWdHJlZSBmcm9tIFwiLi92dHJlZVwiO1xuaW1wb3J0IHsgTGF5b3V0IH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IHR5cGUgQ29sdW1uTGF5b3V0UmVzdWx0ID0ge1xuICBjb2x1bW5zOiBMYXlvdXQuQ29sdW1uW107XG4gIHBvc2l0aW9uOiBWdHJlZS5MYXlvdXRQb3NpdGlvbjtcbiAgY29sdW1uUGFnZUZsb2F0TGF5b3V0Q29udGV4dHM/OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHRbXTtcbn07XG5cbmV4cG9ydCB0eXBlIENvbHVtbkdlbmVyYXRvciA9ICgpID0+IFRhc2suUmVzdWx0PENvbHVtbkxheW91dFJlc3VsdCB8IG51bGw+O1xuXG5leHBvcnQgY2xhc3MgQ29sdW1uQmFsYW5jaW5nVHJpYWxSZXN1bHQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGF5b3V0UmVzdWx0OiBDb2x1bW5MYXlvdXRSZXN1bHQsXG4gICAgcHVibGljIHJlYWRvbmx5IHBlbmFsdHk6IG51bWJlcixcbiAgKSB7fVxufVxuXG5mdW5jdGlvbiBnZXRCbG9ja1NpemUoY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIpOiBudW1iZXIge1xuICBpZiAoY29udGFpbmVyLnZlcnRpY2FsKSB7XG4gICAgcmV0dXJuIGNvbnRhaW5lci53aWR0aDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY29udGFpbmVyLmhlaWdodDtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRCbG9ja1NpemUoY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsIHNpemU6IG51bWJlcikge1xuICBpZiAoY29udGFpbmVyLnZlcnRpY2FsKSB7XG4gICAgY29udGFpbmVyLndpZHRoID0gc2l6ZTtcbiAgfSBlbHNlIHtcbiAgICBjb250YWluZXIuaGVpZ2h0ID0gc2l6ZTtcbiAgfVxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29sdW1uQmFsYW5jZXIge1xuICBvcmlnaW5hbENvbnRhaW5lckJsb2NrU2l6ZTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBsYXlvdXRDb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sdW1uR2VuZXJhdG9yOiBDb2x1bW5HZW5lcmF0b3IsXG4gICAgcHVibGljIHJlYWRvbmx5IHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgKSB7XG4gICAgdGhpcy5vcmlnaW5hbENvbnRhaW5lckJsb2NrU2l6ZSA9IGdldEJsb2NrU2l6ZShsYXlvdXRDb250YWluZXIpO1xuICB9XG5cbiAgYmFsYW5jZUNvbHVtbnMoXG4gICAgbGF5b3V0UmVzdWx0OiBDb2x1bW5MYXlvdXRSZXN1bHQsXG4gICk6IFRhc2suUmVzdWx0PENvbHVtbkxheW91dFJlc3VsdD4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPENvbHVtbkxheW91dFJlc3VsdD4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJDb2x1bW5CYWxhbmNlciNiYWxhbmNlQ29sdW1uc1wiLFxuICAgICk7XG4gICAgc2VsZi5wcmVCYWxhbmNlKGxheW91dFJlc3VsdCk7XG4gICAgc2VsZi5zYXZlUGFnZUZsb2F0TGF5b3V0Q29udGV4dHMobGF5b3V0UmVzdWx0KTtcbiAgICBzZWxmLmxheW91dENvbnRhaW5lci5jbGVhcigpO1xuICAgIGNvbnN0IGNhbmRpZGF0ZXMgPSBbc2VsZi5jcmVhdGVUcmlhbFJlc3VsdChsYXlvdXRSZXN1bHQpXTtcbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICBpZiAoIXNlbGYuaGFzTmV4dENhbmRpZGF0ZShjYW5kaWRhdGVzKSkge1xuICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi51cGRhdGVDb25kaXRpb24oY2FuZGlkYXRlcyk7XG4gICAgICAgIHNlbGYuY29sdW1uR2VuZXJhdG9yKCkudGhlbigobGF5b3V0UmVzdWx0KSA9PiB7XG4gICAgICAgICAgc2VsZi5zYXZlUGFnZUZsb2F0TGF5b3V0Q29udGV4dHMobGF5b3V0UmVzdWx0KTtcbiAgICAgICAgICBzZWxmLmxheW91dENvbnRhaW5lci5jbGVhcigpO1xuICAgICAgICAgIGlmICghbGF5b3V0UmVzdWx0KSB7XG4gICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhbmRpZGF0ZXMucHVzaChzZWxmLmNyZWF0ZVRyaWFsUmVzdWx0KGxheW91dFJlc3VsdCkpO1xuICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjYW5kaWRhdGVzLnJlZHVjZShcbiAgICAgICAgICAocHJldiwgY3VycikgPT4gKGN1cnIucGVuYWx0eSA8IHByZXYucGVuYWx0eSA/IGN1cnIgOiBwcmV2KSxcbiAgICAgICAgICBjYW5kaWRhdGVzWzBdLFxuICAgICAgICApO1xuICAgICAgICBzZWxmLnJlc3RvcmVDb250ZW50cyhyZXN1bHQubGF5b3V0UmVzdWx0KTtcbiAgICAgICAgc2VsZi5wb3N0QmFsYW5jZSgpO1xuICAgICAgICBmcmFtZS5maW5pc2gocmVzdWx0LmxheW91dFJlc3VsdCk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVRyaWFsUmVzdWx0KFxuICAgIGxheW91dFJlc3VsdDogQ29sdW1uTGF5b3V0UmVzdWx0LFxuICApOiBDb2x1bW5CYWxhbmNpbmdUcmlhbFJlc3VsdCB7XG4gICAgY29uc3QgcGVuYWx0eSA9IHRoaXMuY2FsY3VsYXRlUGVuYWx0eShsYXlvdXRSZXN1bHQpO1xuICAgIHJldHVybiBuZXcgQ29sdW1uQmFsYW5jaW5nVHJpYWxSZXN1bHQobGF5b3V0UmVzdWx0LCBwZW5hbHR5KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBwcmVCYWxhbmNlKGxheW91dFJlc3VsdDogQ29sdW1uTGF5b3V0UmVzdWx0KSB7fVxuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBjYWxjdWxhdGVQZW5hbHR5KGxheW91dFJlc3VsdDogQ29sdW1uTGF5b3V0UmVzdWx0KTogbnVtYmVyO1xuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBoYXNOZXh0Q2FuZGlkYXRlKFxuICAgIGNhbmRpZGF0ZXM6IENvbHVtbkJhbGFuY2luZ1RyaWFsUmVzdWx0W10sXG4gICk6IGJvb2xlYW47XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IHVwZGF0ZUNvbmRpdGlvbihcbiAgICBjYW5kaWRhdGVzOiBDb2x1bW5CYWxhbmNpbmdUcmlhbFJlc3VsdFtdLFxuICApOiB2b2lkO1xuXG4gIHByb3RlY3RlZCBwb3N0QmFsYW5jZSgpIHtcbiAgICBzZXRCbG9ja1NpemUodGhpcy5sYXlvdXRDb250YWluZXIsIHRoaXMub3JpZ2luYWxDb250YWluZXJCbG9ja1NpemUpO1xuICB9XG5cbiAgc2F2ZVBhZ2VGbG9hdExheW91dENvbnRleHRzKGxheW91dFJlc3VsdDogQ29sdW1uTGF5b3V0UmVzdWx0IHwgbnVsbCkge1xuICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5yZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LmRldGFjaENoaWxkcmVuKCk7XG4gICAgaWYgKGxheW91dFJlc3VsdCkge1xuICAgICAgbGF5b3V0UmVzdWx0LmNvbHVtblBhZ2VGbG9hdExheW91dENvbnRleHRzID0gY2hpbGRyZW47XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZXN0b3JlQ29udGVudHMobmV3TGF5b3V0UmVzdWx0OiBDb2x1bW5MYXlvdXRSZXN1bHQpIHtcbiAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmxheW91dENvbnRhaW5lci5lbGVtZW50O1xuICAgIG5ld0xheW91dFJlc3VsdC5jb2x1bW5zLmZvckVhY2goKGMpID0+IHtcbiAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChjLmVsZW1lbnQpO1xuICAgIH0pO1xuICAgIEFzc2VydHMuYXNzZXJ0KG5ld0xheW91dFJlc3VsdC5jb2x1bW5QYWdlRmxvYXRMYXlvdXRDb250ZXh0cyk7XG4gICAgdGhpcy5yZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LmF0dGFjaENoaWxkcmVuKFxuICAgICAgbmV3TGF5b3V0UmVzdWx0LmNvbHVtblBhZ2VGbG9hdExheW91dENvbnRleHRzLFxuICAgICk7XG4gIH1cbn1cbmNvbnN0IENPTFVNTl9MRU5HVEhfU1RFUCA9IDE7XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5SZWR1Y2VDb250YWluZXJTaXplKFxuICBjYW5kaWRhdGVzOiBDb2x1bW5CYWxhbmNpbmdUcmlhbFJlc3VsdFtdLFxuKTogYm9vbGVhbiB7XG4gIGNvbnN0IGxhc3RDYW5kaWRhdGUgPSBjYW5kaWRhdGVzW2NhbmRpZGF0ZXMubGVuZ3RoIC0gMV07XG4gIGlmIChsYXN0Q2FuZGlkYXRlLnBlbmFsdHkgPT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3Qgc2Vjb25kTGFzdENhbmRpZGF0ZSA9IGNhbmRpZGF0ZXNbY2FuZGlkYXRlcy5sZW5ndGggLSAyXTtcbiAgaWYgKFxuICAgIHNlY29uZExhc3RDYW5kaWRhdGUgJiZcbiAgICBsYXN0Q2FuZGlkYXRlLnBlbmFsdHkgPj0gc2Vjb25kTGFzdENhbmRpZGF0ZS5wZW5hbHR5XG4gICkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBjb2x1bW5zID0gbGFzdENhbmRpZGF0ZS5sYXlvdXRSZXN1bHQuY29sdW1ucztcbiAgY29uc3QgbWF4Q29sdW1uQmxvY2tTaXplID0gTWF0aC5tYXguYXBwbHkoXG4gICAgbnVsbCxcbiAgICBjb2x1bW5zLm1hcCgoYykgPT4gYy5jb21wdXRlZEJsb2NrU2l6ZSksXG4gICk7XG4gIGNvbnN0IG1heFBhZ2VGbG9hdEJsb2NrU2l6ZSA9IE1hdGgubWF4LmFwcGx5KFxuICAgIG51bGwsXG4gICAgY29sdW1ucy5tYXAoKGMpID0+IGMuZ2V0TWF4QmxvY2tTaXplT2ZQYWdlRmxvYXRzKCkpLFxuICApO1xuICByZXR1cm4gbWF4Q29sdW1uQmxvY2tTaXplID4gbWF4UGFnZUZsb2F0QmxvY2tTaXplICsgQ09MVU1OX0xFTkdUSF9TVEVQO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVkdWNlQ29udGFpbmVyU2l6ZShcbiAgY2FuZGlkYXRlczogQ29sdW1uQmFsYW5jaW5nVHJpYWxSZXN1bHRbXSxcbiAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4pOiB2b2lkIHtcbiAgY29uc3QgY29sdW1ucyA9IGNhbmRpZGF0ZXNbY2FuZGlkYXRlcy5sZW5ndGggLSAxXS5sYXlvdXRSZXN1bHQuY29sdW1ucztcbiAgY29uc3QgbWF4Q29sdW1uQmxvY2tTaXplID0gTWF0aC5tYXguYXBwbHkoXG4gICAgbnVsbCxcbiAgICBjb2x1bW5zLm1hcCgoYykgPT4ge1xuICAgICAgaWYgKCFpc05hTihjLmJsb2NrRGlzdGFuY2VUb0Jsb2NrRW5kRmxvYXRzKSkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGMuY29tcHV0ZWRCbG9ja1NpemUgLVxuICAgICAgICAgIGMuYmxvY2tEaXN0YW5jZVRvQmxvY2tFbmRGbG9hdHMgK1xuICAgICAgICAgIENPTFVNTl9MRU5HVEhfU1RFUFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGMuY29tcHV0ZWRCbG9ja1NpemU7XG4gICAgICB9XG4gICAgfSksXG4gICk7XG4gIGNvbnN0IG5ld0VkZ2UgPSBtYXhDb2x1bW5CbG9ja1NpemUgLSBDT0xVTU5fTEVOR1RIX1NURVA7XG4gIGlmIChuZXdFZGdlIDwgZ2V0QmxvY2tTaXplKGNvbnRhaW5lcikpIHtcbiAgICBzZXRCbG9ja1NpemUoY29udGFpbmVyLCBuZXdFZGdlKTtcbiAgfSBlbHNlIHtcbiAgICBzZXRCbG9ja1NpemUoY29udGFpbmVyLCBnZXRCbG9ja1NpemUoY29udGFpbmVyKSAtIDEpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCYWxhbmNlTGFzdENvbHVtbkJhbGFuY2VyIGV4dGVuZHMgQ29sdW1uQmFsYW5jZXIge1xuICBvcmlnaW5hbFBvc2l0aW9uOiBWdHJlZS5MYXlvdXRQb3NpdGlvbiB8IG51bGwgPSBudWxsO1xuICBmb3VuZFVwcGVyQm91bmQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBjb2x1bW5HZW5lcmF0b3I6IENvbHVtbkdlbmVyYXRvcixcbiAgICByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgIGxheW91dENvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBjb2x1bW5Db3VudDogbnVtYmVyLFxuICApIHtcbiAgICBzdXBlcihsYXlvdXRDb250YWluZXIsIGNvbHVtbkdlbmVyYXRvciwgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcmVCYWxhbmNlKGxheW91dFJlc3VsdDogQ29sdW1uTGF5b3V0UmVzdWx0KSB7XG4gICAgY29uc3QgY29sdW1ucyA9IGxheW91dFJlc3VsdC5jb2x1bW5zO1xuICAgIGNvbnN0IHRvdGFsQmxvY2tTaXplID0gY29sdW1ucy5yZWR1Y2UoXG4gICAgICAocHJldiwgYykgPT4gcHJldiArIGMuY29tcHV0ZWRCbG9ja1NpemUsXG4gICAgICAwLFxuICAgICk7XG4gICAgc2V0QmxvY2tTaXplKHRoaXMubGF5b3V0Q29udGFpbmVyLCB0b3RhbEJsb2NrU2l6ZSAvIHRoaXMuY29sdW1uQ291bnQpO1xuICAgIHRoaXMub3JpZ2luYWxQb3NpdGlvbiA9IGxheW91dFJlc3VsdC5wb3NpdGlvbjtcbiAgfVxuXG4gIHByaXZhdGUgY2hlY2tQb3NpdGlvbihwb3NpdGlvbjogVnRyZWUuTGF5b3V0UG9zaXRpb24gfCBudWxsKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMub3JpZ2luYWxQb3NpdGlvbikge1xuICAgICAgcmV0dXJuIHRoaXMub3JpZ2luYWxQb3NpdGlvbi5pc1NhbWVQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBwb3NpdGlvbiA9PT0gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjYWxjdWxhdGVQZW5hbHR5KGxheW91dFJlc3VsdDogQ29sdW1uTGF5b3V0UmVzdWx0KTogbnVtYmVyIHtcbiAgICBpZiAoIXRoaXMuY2hlY2tQb3NpdGlvbihsYXlvdXRSZXN1bHQucG9zaXRpb24pKSB7XG4gICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgfVxuICAgIGNvbnN0IGNvbHVtbnMgPSBsYXlvdXRSZXN1bHQuY29sdW1ucztcbiAgICBpZiAoaXNMYXN0Q29sdW1uTG9uZ2VyVGhhbkFueU90aGVyQ29sdW1uKGNvbHVtbnMpKSB7XG4gICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgfVxuICAgIHJldHVybiBNYXRoLm1heC5hcHBseShcbiAgICAgIG51bGwsXG4gICAgICBjb2x1bW5zLm1hcCgoYykgPT4gYy5jb21wdXRlZEJsb2NrU2l6ZSksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGhhc05leHRDYW5kaWRhdGUoY2FuZGlkYXRlczogQ29sdW1uQmFsYW5jaW5nVHJpYWxSZXN1bHRbXSk6IGJvb2xlYW4ge1xuICAgIGlmIChjYW5kaWRhdGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICh0aGlzLmZvdW5kVXBwZXJCb3VuZCkge1xuICAgICAgcmV0dXJuIGNhblJlZHVjZUNvbnRhaW5lclNpemUoY2FuZGlkYXRlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGxhc3RDYW5kaWRhdGUgPSBjYW5kaWRhdGVzW2NhbmRpZGF0ZXMubGVuZ3RoIC0gMV07XG4gICAgICBpZiAodGhpcy5jaGVja1Bvc2l0aW9uKGxhc3RDYW5kaWRhdGUubGF5b3V0UmVzdWx0LnBvc2l0aW9uKSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIWlzTGFzdENvbHVtbkxvbmdlclRoYW5BbnlPdGhlckNvbHVtbihcbiAgICAgICAgICAgIGxhc3RDYW5kaWRhdGUubGF5b3V0UmVzdWx0LmNvbHVtbnMsXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLmZvdW5kVXBwZXJCb3VuZCA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAoXG4gICAgICAgIGdldEJsb2NrU2l6ZSh0aGlzLmxheW91dENvbnRhaW5lcikgPCB0aGlzLm9yaWdpbmFsQ29udGFpbmVyQmxvY2tTaXplXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHVwZGF0ZUNvbmRpdGlvbihjYW5kaWRhdGVzOiBDb2x1bW5CYWxhbmNpbmdUcmlhbFJlc3VsdFtdKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZm91bmRVcHBlckJvdW5kKSB7XG4gICAgICByZWR1Y2VDb250YWluZXJTaXplKGNhbmRpZGF0ZXMsIHRoaXMubGF5b3V0Q29udGFpbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbmV3RWRnZSA9IE1hdGgubWluKFxuICAgICAgICB0aGlzLm9yaWdpbmFsQ29udGFpbmVyQmxvY2tTaXplLFxuICAgICAgICBnZXRCbG9ja1NpemUodGhpcy5sYXlvdXRDb250YWluZXIpICtcbiAgICAgICAgICB0aGlzLm9yaWdpbmFsQ29udGFpbmVyQmxvY2tTaXplICogMC4xLFxuICAgICAgKTtcbiAgICAgIHNldEJsb2NrU2l6ZSh0aGlzLmxheW91dENvbnRhaW5lciwgbmV3RWRnZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzTGFzdENvbHVtbkxvbmdlclRoYW5BbnlPdGhlckNvbHVtbihcbiAgY29sdW1uczogTGF5b3V0LkNvbHVtbltdLFxuKTogYm9vbGVhbiB7XG4gIGlmIChjb2x1bW5zLmxlbmd0aCA8PSAxKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGxhc3RDb2x1bW5CbG9ja1NpemUgPSBjb2x1bW5zW2NvbHVtbnMubGVuZ3RoIC0gMV0uY29tcHV0ZWRCbG9ja1NpemU7XG4gIGNvbnN0IG90aGVyQ29sdW1ucyA9IGNvbHVtbnMuc2xpY2UoMCwgY29sdW1ucy5sZW5ndGggLSAxKTtcbiAgcmV0dXJuIG90aGVyQ29sdW1ucy5ldmVyeSgoYykgPT4gbGFzdENvbHVtbkJsb2NrU2l6ZSA+IGMuY29tcHV0ZWRCbG9ja1NpemUpO1xufVxuXG5leHBvcnQgY2xhc3MgQmFsYW5jZU5vbkxhc3RDb2x1bW5CYWxhbmNlciBleHRlbmRzIENvbHVtbkJhbGFuY2VyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgY29sdW1uR2VuZXJhdG9yOiBDb2x1bW5HZW5lcmF0b3IsXG4gICAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICBsYXlvdXRDb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgKSB7XG4gICAgc3VwZXIobGF5b3V0Q29udGFpbmVyLCBjb2x1bW5HZW5lcmF0b3IsIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2FsY3VsYXRlUGVuYWx0eShsYXlvdXRSZXN1bHQ6IENvbHVtbkxheW91dFJlc3VsdCk6IG51bWJlciB7XG4gICAgaWYgKGxheW91dFJlc3VsdC5jb2x1bW5zLmV2ZXJ5KChjKSA9PiBjLmNvbXB1dGVkQmxvY2tTaXplID09PSAwKSkge1xuICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZEJsb2NrU2l6ZXMgPSBsYXlvdXRSZXN1bHQuY29sdW1uc1xuICAgICAgLmZpbHRlcigoYykgPT4gIWMucGFnZUJyZWFrVHlwZSlcbiAgICAgIC5tYXAoKGMpID0+IGMuY29tcHV0ZWRCbG9ja1NpemUpO1xuICAgIHJldHVybiBNYXRoVXRpbC52YXJpYW5jZShjb21wdXRlZEJsb2NrU2l6ZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaGFzTmV4dENhbmRpZGF0ZShjYW5kaWRhdGVzOiBDb2x1bW5CYWxhbmNpbmdUcmlhbFJlc3VsdFtdKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGNhblJlZHVjZUNvbnRhaW5lclNpemUoY2FuZGlkYXRlcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB1cGRhdGVDb25kaXRpb24oY2FuZGlkYXRlczogQ29sdW1uQmFsYW5jaW5nVHJpYWxSZXN1bHRbXSk6IHZvaWQge1xuICAgIHJlZHVjZUNvbnRhaW5lclNpemUoY2FuZGlkYXRlcywgdGhpcy5sYXlvdXRDb250YWluZXIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb2x1bW5CYWxhbmNlcihcbiAgY29sdW1uQ291bnQ6IG51bWJlcixcbiAgY29sdW1uRmlsbDogQ3NzLklkZW50LFxuICBjb2x1bW5HZW5lcmF0b3I6IENvbHVtbkdlbmVyYXRvcixcbiAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICBsYXlvdXRDb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgY29sdW1uczogTGF5b3V0LkNvbHVtbltdLFxuICBmbG93UG9zaXRpb246IFZ0cmVlLkZsb3dQb3NpdGlvbixcbik6IENvbHVtbkJhbGFuY2VyIHwgbnVsbCB7XG4gIGlmIChjb2x1bW5GaWxsID09PSBDc3MuaWRlbnQuYXV0bykge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIC8vIFRPRE86IGhvdyB0byBoYW5kbGUgYSBjYXNlIHdoZXJlIG5vIG1vcmUgaW4tZmxvdyBjb250ZW50cyBidXQgc29tZVxuICAgIC8vIHBhZ2UgZmxvYXRzXG4gICAgY29uc3Qgbm9Nb3JlQ29udGVudCA9IGZsb3dQb3NpdGlvbi5wb3NpdGlvbnMubGVuZ3RoID09PSAwO1xuICAgIGNvbnN0IGxhc3RDb2x1bW4gPSBjb2x1bW5zW2NvbHVtbnMubGVuZ3RoIC0gMV07XG4gICAgY29uc3QgaXNMYXN0Q29sdW1uRm9yY2VCcm9rZW4gPSAhIShsYXN0Q29sdW1uICYmIGxhc3RDb2x1bW4ucGFnZUJyZWFrVHlwZSk7XG4gICAgaWYgKG5vTW9yZUNvbnRlbnQgfHwgaXNMYXN0Q29sdW1uRm9yY2VCcm9rZW4pIHtcbiAgICAgIHJldHVybiBuZXcgQmFsYW5jZUxhc3RDb2x1bW5CYWxhbmNlcihcbiAgICAgICAgY29sdW1uR2VuZXJhdG9yLFxuICAgICAgICByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgICBsYXlvdXRDb250YWluZXIsXG4gICAgICAgIGNvbHVtbkNvdW50LFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGNvbHVtbkZpbGwgPT09IENzcy5pZGVudC5iYWxhbmNlX2FsbCkge1xuICAgICAgcmV0dXJuIG5ldyBCYWxhbmNlTm9uTGFzdENvbHVtbkJhbGFuY2VyKFxuICAgICAgICBjb2x1bW5HZW5lcmF0b3IsXG4gICAgICAgIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICAgIGxheW91dENvbnRhaW5lcixcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIEFzc2VydHMuYXNzZXJ0KGNvbHVtbkZpbGwgPT09IENzcy5pZGVudC5iYWxhbmNlKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBDc3NTdHlsZXIgLSBBcHBseSBDU1MgY2FzY2FkZSB0byBhIGRvY3VtZW50IGluY3JlbWVudGFsbHkgYW5kXG4gKiBjYWNoZSB0aGUgcmVzdWx0LlxuICovXG5pbXBvcnQgKiBhcyBBc3NlcnRzIGZyb20gXCIuL2Fzc2VydHNcIjtcbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQnJlYWsgZnJvbSBcIi4vYnJlYWtcIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIENzc0Nhc2NhZGUgZnJvbSBcIi4vY3NzLWNhc2NhZGVcIjtcbmltcG9ydCAqIGFzIENzc1BhcnNlciBmcm9tIFwiLi9jc3MtcGFyc2VyXCI7XG5pbXBvcnQgKiBhcyBDc3NQcm9wIGZyb20gXCIuL2Nzcy1wcm9wXCI7XG5pbXBvcnQgKiBhcyBDc3NWYWxpZGF0b3IgZnJvbSBcIi4vY3NzLXZhbGlkYXRvclwiO1xuaW1wb3J0ICogYXMgRGlzcGxheSBmcm9tIFwiLi9kaXNwbGF5XCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCB7IENzc1N0eWxlciwgWG1sRG9jIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIFNsaXBSYW5nZSB7XG4gIGVuZFN0dWNrRml4ZWQ6IG51bWJlcjtcbiAgZW5kRml4ZWQ6IG51bWJlcjtcbiAgZW5kU2xpcHBlZDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKGVuZFN0dWNrRml4ZWQsIGVuZEZpeGVkLCBlbmRTbGlwcGVkKSB7XG4gICAgdGhpcy5lbmRTdHVja0ZpeGVkID0gZW5kU3R1Y2tGaXhlZDtcbiAgICB0aGlzLmVuZEZpeGVkID0gZW5kRml4ZWQ7XG4gICAgdGhpcy5lbmRTbGlwcGVkID0gZW5kU2xpcHBlZDtcbiAgfVxufVxuXG4vKipcbiAqIE1hcHMgYWxsIGludHMgaW4gYSByYW5nZSAoXCJmaXhlZFwiKSB0byBpbnRzIHdpdGggc2xpcHBhZ2UgKFwic2xpcHBlZFwiKVxuICovXG5leHBvcnQgY2xhc3MgU2xpcE1hcCB7XG4gIG1hcCA9IFtdIGFzIFNsaXBSYW5nZVtdO1xuXG4gIGdldE1heEZpeGVkKCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMubWFwLmxlbmd0aCA9PSAwKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgY29uc3QgcmFuZ2UgPSB0aGlzLm1hcFt0aGlzLm1hcC5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4gcmFuZ2UuZW5kRml4ZWQ7XG4gIH1cblxuICBnZXRNYXhTbGlwcGVkKCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMubWFwLmxlbmd0aCA9PSAwKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgY29uc3QgcmFuZ2UgPSB0aGlzLm1hcFt0aGlzLm1hcC5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4gcmFuZ2UuZW5kU2xpcHBlZDtcbiAgfVxuXG4gIGFkZFN0dWNrUmFuZ2UoZW5kRml4ZWQ6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLm1hcC5sZW5ndGggPT0gMCkge1xuICAgICAgdGhpcy5tYXAucHVzaChuZXcgU2xpcFJhbmdlKGVuZEZpeGVkLCBlbmRGaXhlZCwgZW5kRml4ZWQpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLm1hcFt0aGlzLm1hcC5sZW5ndGggLSAxXTtcbiAgICAgIGNvbnN0IGVuZFNsaXBwZWQgPSByYW5nZS5lbmRTbGlwcGVkICsgZW5kRml4ZWQgLSByYW5nZS5lbmRGaXhlZDtcbiAgICAgIGlmIChyYW5nZS5lbmRGaXhlZCA9PSByYW5nZS5lbmRTdHVja0ZpeGVkKSB7XG4gICAgICAgIHJhbmdlLmVuZEZpeGVkID0gZW5kRml4ZWQ7XG4gICAgICAgIHJhbmdlLmVuZFN0dWNrRml4ZWQgPSBlbmRGaXhlZDtcbiAgICAgICAgcmFuZ2UuZW5kU2xpcHBlZCA9IGVuZFNsaXBwZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm1hcC5wdXNoKG5ldyBTbGlwUmFuZ2UoZW5kRml4ZWQsIGVuZEZpeGVkLCBlbmRTbGlwcGVkKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYWRkU2xpcHBlZFJhbmdlKGVuZEZpeGVkOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5tYXAubGVuZ3RoID09IDApIHtcbiAgICAgIHRoaXMubWFwLnB1c2gobmV3IFNsaXBSYW5nZShlbmRGaXhlZCwgMCwgMCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1hcFt0aGlzLm1hcC5sZW5ndGggLSAxXS5lbmRGaXhlZCA9IGVuZEZpeGVkO1xuICAgIH1cbiAgfVxuXG4gIHNsaXBwZWRCeUZpeGVkKGZpeGVkOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGluZGV4ID0gQmFzZS5iaW5hcnlTZWFyY2goXG4gICAgICB0aGlzLm1hcC5sZW5ndGgsXG4gICAgICAoaW5kZXgpID0+IGZpeGVkIDw9IHNlbGYubWFwW2luZGV4XS5lbmRGaXhlZCxcbiAgICApO1xuICAgIGNvbnN0IHJhbmdlID0gdGhpcy5tYXBbaW5kZXhdO1xuICAgIHJldHVybiByYW5nZS5lbmRTbGlwcGVkIC0gTWF0aC5tYXgoMCwgcmFuZ2UuZW5kU3R1Y2tGaXhlZCAtIGZpeGVkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTbWFsbGVzdCBmaXhlZCBmb3IgYSBnaXZlbiBzbGlwcGVkLlxuICAgKi9cbiAgZml4ZWRCeVNsaXBwZWQoc2xpcHBlZDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBpbmRleCA9IEJhc2UuYmluYXJ5U2VhcmNoKFxuICAgICAgdGhpcy5tYXAubGVuZ3RoLFxuICAgICAgKGluZGV4KSA9PiBzbGlwcGVkIDw9IHNlbGYubWFwW2luZGV4XS5lbmRTbGlwcGVkLFxuICAgICk7XG4gICAgY29uc3QgcmFuZ2UgPSB0aGlzLm1hcFtpbmRleF07XG4gICAgcmV0dXJuIHJhbmdlLmVuZFN0dWNrRml4ZWQgLSAocmFuZ2UuZW5kU2xpcHBlZCAtIHNsaXBwZWQpO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmxvd0xpc3RlbmVyIHtcbiAgLyoqXG4gICAqIEByZXR1cm4gdm9pZFxuICAgKi9cbiAgZW5jb3VudGVyZWRGbG93Q2h1bmsoZmxvd0NodW5rOiBWdHJlZS5GbG93Q2h1bmssIGZsb3c6IFZ0cmVlLkZsb3cpOiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWJzdHJhY3RTdHlsZXIgZXh0ZW5kcyBDc3NTdHlsZXIuQWJzdHJhY3RTdHlsZXIge31cblxuLyoqXG4gKiBSZXByZXNlbnQgYSBib3ggZ2VuZXJhdGVkIGJ5IGEgKHBzZXVkbyllbGVtZW50LiBXaGVuIGNvbnN0cnVjdGVkLCBhIGJveFxuICogY29ycmVzcG9uZGluZyB0byBgOjpiZWZvcmVgIHBzZXVkb2VsZW1lbnQgaXMgYWxzbyBjb25zdHJ1Y3RlZCBhbmQgc3RvcmVkIGluXG4gKiBgYmVmb3JlQm94YCBwcm9wZXJ0eSwgd2hlcmVhcyBvbmUgY29ycmVzcG9uZGluZyBgOjphZnRlcmAgcHNldWRvZWxlbWVudCBpc1xuICogbm90IGNvbnN0cnVjdGVkIGFuZCBgYWZ0ZXJCb3hgIHByb3BlcnR5IGlzIGBudWxsYC4gYGFmdGVyQm94YCBpcyBjb25zdHJ1Y3RlZFxuICogYnkgYGJ1aWxkQWZ0ZXJQc2V1ZG9FbGVtZW50Qm94YCBtZXRob2QuXG4gKiBAcGFyYW0gc3R5bGUgQ2FzY2FkZWQgc3R5bGUgdmFsdWVzIGZvciB0aGUgYm94LlxuICogQHBhcmFtIG9mZnNldCBUaGUgc3RhcnQgb2Zmc2V0IG9mIHRoZSBib3guIEl0IGNvaW5jaWRlcyB3aXRoIHRoZSBzdGFydCBvZmZzZXRcbiAqICAgICBvZiB0aGUgZWxlbWVudCBpZiB0aGUgYm94IGlzIGdlbmVyYXRlZCBieSB0aGUgZWxlbWVudCBvciB0aGUgYDo6YmVmb3JlYFxuICogICAgIHBzZXVkb2VsZW1lbnQuIFdoZW4gdGhlIGJveCBjb3JyZXNwb25kcyB0byB0aGUgYDo6YWZ0ZXJgIHBzZXVkb2VsZW1lbnQsXG4gKiAgICAgdGhlIG9mZnNldCBpcyBqdXN0IGFmdGVyIHRoZSBjb250ZW50IGJlZm9yZSB0aGUgYDo6YWZ0ZXJgIHBzZXVkb2VsZW1lbnQuXG4gKiBAcGFyYW0gaXNSb290IFRydWUgaWYgdGhlIGJveCBpcyBnZW5lcmF0ZWQgYnkgdGhlIHJvb3QgZWxlbWVudCAobm90XG4gKiAgICAgcHNldWRvZWxlbWVudCkuXG4gKiBAcGFyYW0gZmxvd0NodW5rIEZsb3dDaHVuayB0byB3aGljaCB0aGUgYm94IGJlbG9uZ3MgdG8uXG4gKiBAcGFyYW0gYXRCbG9ja1N0YXJ0IFRydWUgaWYgdGhlIGJveCBpcyByaWdodCBhZnRlciB0aGUgYmxvY2sgc3RhcnQgZWRnZS5cbiAqIEBwYXJhbSBhdEZsb3dTdGFydCBUcnVlIGlmIHRoZSBib3ggaXMgcmlnaHQgYWZ0ZXIgdGhlIGZsb3cgc3RhcnQuXG4gKiBAcGFyYW0gaXNQYXJlbnRCb3hEaXNwbGF5ZWQgVHJ1ZSBpZiB0aGUgcGFyZW50IGJveCBoYXMgYSBkaXNwbGF5ZWQgYm94LlxuICovXG5leHBvcnQgY2xhc3MgQm94IHtcbiAgZmxvd05hbWU6IHN0cmluZztcbiAgaXNCbG9ja1ZhbHVlOiBib29sZWFuIHwgbnVsbCA9IG51bGw7XG4gIGhhc0JveFZhbHVlOiBib29sZWFuIHwgbnVsbCA9IG51bGw7XG4gIHN0eWxlVmFsdWVzID0ge30gYXMgeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH07XG4gIGJlZm9yZUJveDogQm94ID0gbnVsbDtcbiAgYWZ0ZXJCb3g6IEJveCA9IG51bGw7XG4gIGJyZWFrQmVmb3JlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIHB1YmxpYyByZWFkb25seSBvZmZzZXQ6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNSb290OiBib29sZWFuLFxuICAgIHB1YmxpYyByZWFkb25seSBmbG93Q2h1bms6IFZ0cmVlLkZsb3dDaHVuayxcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXRCbG9ja1N0YXJ0OiBib29sZWFuLFxuICAgIHB1YmxpYyByZWFkb25seSBhdEZsb3dTdGFydDogYm9vbGVhbixcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNQYXJlbnRCb3hEaXNwbGF5ZWQ6IGJvb2xlYW4sXG4gICkge1xuICAgIHRoaXMuZmxvd05hbWUgPSBmbG93Q2h1bmsuZmxvd05hbWU7XG4gICAgaWYgKHRoaXMuaGFzQm94KCkpIHtcbiAgICAgIGNvbnN0IHBzZXVkb01hcCA9IHN0eWxlW1wiX3BzZXVkb3NcIl07XG4gICAgICBpZiAocHNldWRvTWFwKSB7XG4gICAgICAgIGlmIChwc2V1ZG9NYXBbXCJiZWZvcmVcIl0pIHtcbiAgICAgICAgICBjb25zdCBiZWZvcmVCb3ggPSBuZXcgQm94KFxuICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgIHBzZXVkb01hcFtcImJlZm9yZVwiXSxcbiAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgZmxvd0NodW5rLFxuICAgICAgICAgICAgdGhpcy5pc0Jsb2NrKCksXG4gICAgICAgICAgICBhdEZsb3dTdGFydCxcbiAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBiZWZvcmVDb250ZW50ID0gYmVmb3JlQm94LnN0eWxlVmFsdWUoXCJjb250ZW50XCIpO1xuICAgICAgICAgIGlmIChWdHJlZS5ub25Ucml2aWFsQ29udGVudChiZWZvcmVDb250ZW50KSkge1xuICAgICAgICAgICAgdGhpcy5iZWZvcmVCb3ggPSBiZWZvcmVCb3g7XG4gICAgICAgICAgICB0aGlzLmJyZWFrQmVmb3JlID0gYmVmb3JlQm94LmJyZWFrQmVmb3JlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmJyZWFrQmVmb3JlID0gQnJlYWsucmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUoXG4gICAgICB0aGlzLmdldEJyZWFrVmFsdWUoXCJiZWZvcmVcIiksXG4gICAgICB0aGlzLmJyZWFrQmVmb3JlLFxuICAgICk7XG4gICAgaWYgKHRoaXMuYXRGbG93U3RhcnQgJiYgQnJlYWsuaXNGb3JjZWRCcmVha1ZhbHVlKHRoaXMuYnJlYWtCZWZvcmUpKSB7XG4gICAgICBmbG93Q2h1bmsuYnJlYWtCZWZvcmUgPSBCcmVhay5yZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZShcbiAgICAgICAgZmxvd0NodW5rLmJyZWFrQmVmb3JlLFxuICAgICAgICB0aGlzLmJyZWFrQmVmb3JlLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQnVpbGQgYSBib3ggY29ycmVzcG9uZGluZyB0byBgOjphZnRlcmAgcHNldWRvZWxlbWVudCBhbmQgc3RvcmVzIGl0IGluXG4gICAqIGBhZnRlckJveGAgcHJvcGVydHkuXG4gICAqIEBwYXJhbSBvZmZzZXQgVGhlIHN0YXJ0IG9mZnNldCBvZiB0aGUgYDo6YWZ0ZXJgIHBzZXVkb2VsZW1lbnQgYm94LCB3aGljaCBpc1xuICAgKiAgICAganVzdCBhZnRlciB0aGUgY29udGVudCBiZWZvcmUgdGhlIGA6OmFmdGVyYCBwc2V1ZG9lbGVtZW50LlxuICAgKiBAcGFyYW0gYXRCbG9ja1N0YXJ0IFRydWUgaWYgdGhlIGJveCBpcyByaWdodCBhZnRlciB0aGUgYmxvY2sgc3RhcnQgZWRnZS5cbiAgICogQHBhcmFtIGF0Rmxvd1N0YXJ0IFRydWUgaWYgdGhlIGJveCBpcyByaWdodCBhZnRlciB0aGUgZmxvdyBzdGFydC5cbiAgICovXG4gIGJ1aWxkQWZ0ZXJQc2V1ZG9FbGVtZW50Qm94KFxuICAgIG9mZnNldDogbnVtYmVyLFxuICAgIGF0QmxvY2tTdGFydDogYm9vbGVhbixcbiAgICBhdEZsb3dTdGFydDogYm9vbGVhbixcbiAgKSB7XG4gICAgaWYgKHRoaXMuaGFzQm94KCkpIHtcbiAgICAgIGNvbnN0IHBzZXVkb01hcCA9IHRoaXMuc3R5bGVbXCJfcHNldWRvc1wiXTtcbiAgICAgIGlmIChwc2V1ZG9NYXApIHtcbiAgICAgICAgaWYgKHBzZXVkb01hcFtcImFmdGVyXCJdKSB7XG4gICAgICAgICAgY29uc3QgYWZ0ZXJCb3ggPSBuZXcgQm94KFxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgcHNldWRvTWFwW1wiYWZ0ZXJcIl0sXG4gICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIHRoaXMuZmxvd0NodW5rLFxuICAgICAgICAgICAgYXRCbG9ja1N0YXJ0LFxuICAgICAgICAgICAgYXRGbG93U3RhcnQsXG4gICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgYWZ0ZXJDb250ZW50ID0gYWZ0ZXJCb3guc3R5bGVWYWx1ZShcImNvbnRlbnRcIik7XG4gICAgICAgICAgaWYgKFZ0cmVlLm5vblRyaXZpYWxDb250ZW50KGFmdGVyQ29udGVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJCb3ggPSBhZnRlckJveDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdHlsZVZhbHVlKG5hbWU6IHN0cmluZywgZGVmYXVsdFZhbHVlPzogQ3NzLlZhbCk6IENzcy5WYWwgfCBudWxsIHtcbiAgICBpZiAoIShuYW1lIGluIHRoaXMuc3R5bGVWYWx1ZXMpKSB7XG4gICAgICBjb25zdCBjdiA9IHRoaXMuc3R5bGVbbmFtZV07XG4gICAgICB0aGlzLnN0eWxlVmFsdWVzW25hbWVdID0gY3ZcbiAgICAgICAgPyBjdi5ldmFsdWF0ZSh0aGlzLmNvbnRleHQsIG5hbWUpXG4gICAgICAgIDogZGVmYXVsdFZhbHVlIHx8IG51bGw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnN0eWxlVmFsdWVzW25hbWVdO1xuICB9XG5cbiAgZGlzcGxheVZhbHVlKCk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnN0eWxlVmFsdWUoXCJkaXNwbGF5XCIsIENzcy5pZGVudC5pbmxpbmUpO1xuICB9XG5cbiAgaXNCbG9jaygpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5pc0Jsb2NrVmFsdWUgPT09IG51bGwpIHtcbiAgICAgIGNvbnN0IGRpc3BsYXkgPSB0aGlzLmRpc3BsYXlWYWx1ZSgpIGFzIENzcy5JZGVudDtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5zdHlsZVZhbHVlKFwicG9zaXRpb25cIikgYXMgQ3NzLklkZW50O1xuICAgICAgY29uc3QgZmxvYXQgPSB0aGlzLnN0eWxlVmFsdWUoXCJmbG9hdFwiKSBhcyBDc3MuSWRlbnQ7XG4gICAgICB0aGlzLmlzQmxvY2tWYWx1ZSA9IERpc3BsYXkuaXNCbG9jayhcbiAgICAgICAgZGlzcGxheSxcbiAgICAgICAgcG9zaXRpb24sXG4gICAgICAgIGZsb2F0LFxuICAgICAgICB0aGlzLmlzUm9vdCxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmlzQmxvY2tWYWx1ZTtcbiAgfVxuXG4gIGhhc0JveCgpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5oYXNCb3hWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5oYXNCb3hWYWx1ZSA9XG4gICAgICAgIHRoaXMuaXNQYXJlbnRCb3hEaXNwbGF5ZWQgJiYgdGhpcy5kaXNwbGF5VmFsdWUoKSAhPT0gQ3NzLmlkZW50Lm5vbmU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmhhc0JveFZhbHVlO1xuICB9XG5cbiAgZ2V0QnJlYWtWYWx1ZShlZGdlOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgICBsZXQgYnJlYWtWYWx1ZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgaWYgKHRoaXMuaXNCbG9jaygpKSB7XG4gICAgICBjb25zdCB2YWwgPSB0aGlzLnN0eWxlVmFsdWUoYGJyZWFrLSR7ZWRnZX1gKTtcbiAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgYnJlYWtWYWx1ZSA9IHZhbC50b1N0cmluZygpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYnJlYWtWYWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIE1hbmFnZXMgYm94ZXMgZ2VuZXJhdGVkIGJ5IGVsZW1lbnRzIGFzIGEgc3RhY2suXG4gKi9cbmV4cG9ydCBjbGFzcyBCb3hTdGFjayB7XG4gIHN0YWNrID0gW10gYXMgQm94W107XG4gIGF0QmxvY2tTdGFydDogYm9vbGVhbiA9IHRydWU7IC8vIGluZGljYXRlcyBpZiB0aGUgbmV4dCBwdXNoZWQgYm94IHdpbGwgYmUgYXQgdGhlIGJsb2NrIHN0YXJ0XG4gIGF0Rmxvd1N0YXJ0OiBib29sZWFuID0gdHJ1ZTsgLy8gaW5kaWNhdGVzIGlmIHRoZSBuZXh0IHB1c2hlZCBib3ggd2lsbCBiZSBhdCB0aGUgZmxvdyBzdGFydFxuICBhdFN0YXJ0U3RhY2sgPSBbXSBhcyB7IGF0QmxvY2tTdGFydDogYm9vbGVhbjsgYXRGbG93U3RhcnQ6IGJvb2xlYW4gfVtdOyAvLyBwdXNoZWQgd2hlbiBhIG5ldyBmbG93IHN0YXJ0c1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBjb250ZXh0OiBFeHBycy5Db250ZXh0KSB7fVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGlmIHRoZSBzdGFjayBpcyBlbXB0eS5cbiAgICovXG4gIGVtcHR5KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnN0YWNrLmxlbmd0aCA9PT0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBsYXN0IGJveCBpbiB0aGUgc3RhY2suXG4gICAqL1xuICBsYXN0Qm94KCk6IEJveCB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAxXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBmbG93IG5hbWUgb2YgdGhlIGxhc3QgYm94IGluIHRoZSBzdGFjay5cbiAgICovXG4gIGxhc3RGbG93TmFtZSgpOiBzdHJpbmcgfCBudWxsIHtcbiAgICBjb25zdCBsYXN0Qm94ID0gdGhpcy5sYXN0Qm94KCk7XG4gICAgcmV0dXJuIGxhc3RCb3ggPyBsYXN0Qm94LmZsb3dDaHVuay5mbG93TmFtZSA6IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBpZiB0aGUgbGFzdCBib3ggaW4gdGhlIHN0YWNrIGlzIGRpc3BsYXllZC5cbiAgICovXG4gIGlzQ3VycmVudEJveERpc3BsYXllZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zdGFjay5ldmVyeSgoYm94KSA9PiBib3guZGlzcGxheVZhbHVlKCkgIT09IENzcy5pZGVudC5ub25lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgYm94IGFuZCBwdXNoIGl0IHRvIHRoZSBzdGFjay5cbiAgICogQHBhcmFtIHN0eWxlIENhc2NhZGVkIHN0eWxlIHZhbHVlcyBmb3IgdGhlIGJveC5cbiAgICogQHBhcmFtIG9mZnNldCBUaGUgc3RhcnQgb2Zmc2V0IG9mIHRoZSBib3guXG4gICAqIEBwYXJhbSBpc1Jvb3QgVHJ1ZSBpZiB0aGUgYm94IGlzIGdlbmVyYXRlZCBieSB0aGUgcm9vdCBlbGVtZW50XG4gICAqIEBwYXJhbSBuZXdGbG93Q2h1bmsgU3BlY2lmeSBpZiB0aGUgZWxlbWVudCBpcyBhIGZsb3cgZWxlbWVudCAoaS5lLiB0aGVcbiAgICogICAgIGVsZW1lbnQgaXMgc3BlY2lmaWVkIGEgbmV3IGBmbG93LWludG9gIHZhbHVlKVxuICAgKi9cbiAgcHVzaChcbiAgICBzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgaXNSb290OiBib29sZWFuLFxuICAgIG5ld0Zsb3dDaHVuaz86IFZ0cmVlLkZsb3dDaHVuayxcbiAgKTogQm94IHtcbiAgICBjb25zdCBsYXN0Qm94ID0gdGhpcy5sYXN0Qm94KCk7XG4gICAgaWYgKG5ld0Zsb3dDaHVuayAmJiBsYXN0Qm94ICYmIG5ld0Zsb3dDaHVuay5mbG93TmFtZSAhPT0gbGFzdEJveC5mbG93TmFtZSkge1xuICAgICAgdGhpcy5hdFN0YXJ0U3RhY2sucHVzaCh7XG4gICAgICAgIGF0QmxvY2tTdGFydDogdGhpcy5hdEJsb2NrU3RhcnQsXG4gICAgICAgIGF0Rmxvd1N0YXJ0OiB0aGlzLmF0Rmxvd1N0YXJ0LFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGZsb3dDaHVuayA9IG5ld0Zsb3dDaHVuayB8fCBsYXN0Qm94LmZsb3dDaHVuaztcbiAgICBjb25zdCBpc0F0Rmxvd1N0YXJ0ID0gdGhpcy5hdEZsb3dTdGFydCB8fCAhIW5ld0Zsb3dDaHVuaztcbiAgICBjb25zdCBpc1BhcmVudEJveERpc3BsYXllZCA9IHRoaXMuaXNDdXJyZW50Qm94RGlzcGxheWVkKCk7XG4gICAgY29uc3QgYm94ID0gbmV3IEJveChcbiAgICAgIHRoaXMuY29udGV4dCxcbiAgICAgIHN0eWxlLFxuICAgICAgb2Zmc2V0LFxuICAgICAgaXNSb290LFxuICAgICAgZmxvd0NodW5rLFxuICAgICAgaXNBdEZsb3dTdGFydCB8fCB0aGlzLmF0QmxvY2tTdGFydCxcbiAgICAgIGlzQXRGbG93U3RhcnQsXG4gICAgICBpc1BhcmVudEJveERpc3BsYXllZCxcbiAgICApO1xuICAgIHRoaXMuc3RhY2sucHVzaChib3gpO1xuICAgIHRoaXMuYXRCbG9ja1N0YXJ0ID0gYm94Lmhhc0JveCgpXG4gICAgICA/ICFib3guYmVmb3JlQm94ICYmIGJveC5pc0Jsb2NrKClcbiAgICAgIDogdGhpcy5hdEJsb2NrU3RhcnQ7XG4gICAgdGhpcy5hdEZsb3dTdGFydCA9IGJveC5oYXNCb3goKVxuICAgICAgPyAhYm94LmJlZm9yZUJveCAmJiBpc0F0Rmxvd1N0YXJ0XG4gICAgICA6IHRoaXMuYXRGbG93U3RhcnQ7XG4gICAgcmV0dXJuIGJveDtcbiAgfVxuXG4gIGVuY291bnRlcmVkVGV4dE5vZGUobm9kZTogTm9kZSkge1xuICAgIGNvbnN0IGJveCA9IHRoaXMubGFzdEJveCgpO1xuICAgIGlmICgodGhpcy5hdEJsb2NrU3RhcnQgfHwgdGhpcy5hdEZsb3dTdGFydCkgJiYgYm94Lmhhc0JveCgpKSB7XG4gICAgICBjb25zdCB3aGl0ZXNwYWNlVmFsdWUgPSBib3hcbiAgICAgICAgLnN0eWxlVmFsdWUoXCJ3aGl0ZS1zcGFjZVwiLCBDc3MuaWRlbnQubm9ybWFsKVxuICAgICAgICAudG9TdHJpbmcoKTtcbiAgICAgIGNvbnN0IHdoaXRlc3BhY2UgPSBWdHJlZS53aGl0ZXNwYWNlRnJvbVByb3BlcnR5VmFsdWUod2hpdGVzcGFjZVZhbHVlKTtcbiAgICAgIEFzc2VydHMuYXNzZXJ0KHdoaXRlc3BhY2UgIT09IG51bGwpO1xuICAgICAgaWYgKCFWdHJlZS5jYW5JZ25vcmUobm9kZSwgd2hpdGVzcGFjZSkpIHtcbiAgICAgICAgdGhpcy5hdEJsb2NrU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hdEZsb3dTdGFydCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQb3AgdGhlIGxhc3QgYm94LlxuICAgKi9cbiAgcG9wKG9mZnNldDogbnVtYmVyKTogQm94IHtcbiAgICBjb25zdCBib3ggPSB0aGlzLnN0YWNrLnBvcCgpO1xuICAgIGJveC5idWlsZEFmdGVyUHNldWRvRWxlbWVudEJveChvZmZzZXQsIHRoaXMuYXRCbG9ja1N0YXJ0LCB0aGlzLmF0Rmxvd1N0YXJ0KTtcbiAgICBpZiAodGhpcy5hdEZsb3dTdGFydCAmJiBib3guYWZ0ZXJCb3gpIHtcbiAgICAgIGNvbnN0IGJyZWFrQmVmb3JlID0gYm94LmFmdGVyQm94LmdldEJyZWFrVmFsdWUoXCJiZWZvcmVcIik7XG4gICAgICBib3guZmxvd0NodW5rLmJyZWFrQmVmb3JlID0gQnJlYWsucmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUoXG4gICAgICAgIGJveC5mbG93Q2h1bmsuYnJlYWtCZWZvcmUsXG4gICAgICAgIGJyZWFrQmVmb3JlLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy5sYXN0Qm94KCk7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgaWYgKHBhcmVudC5mbG93TmFtZSA9PT0gYm94LmZsb3dOYW1lKSB7XG4gICAgICAgIGlmIChib3guaGFzQm94KCkpIHtcbiAgICAgICAgICB0aGlzLmF0QmxvY2tTdGFydCA9IHRoaXMuYXRGbG93U3RhcnQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgYXRTdGFydCA9IHRoaXMuYXRTdGFydFN0YWNrLnBvcCgpO1xuICAgICAgICB0aGlzLmF0QmxvY2tTdGFydCA9IGF0U3RhcnQuYXRCbG9ja1N0YXJ0O1xuICAgICAgICB0aGlzLmF0Rmxvd1N0YXJ0ID0gYXRTdGFydC5hdEZsb3dTdGFydDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGJveDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kIHRoZSBzdGFydCBvZmZzZXQgb2YgdGhlIG5lYXJlc3QgYmxvY2sgc3RhcnQgZWRnZSB0byB3aGljaCB0aGVcbiAgICogYGJyZWFrLWJlZm9yZWAgdmFsdWUgb2YgdGhlIGJveCBzaG91bGQgYmUgcHJvcGFnYXRlZC4gVGhpcyBtZXRob2QgY2FuIGJlXG4gICAqIGNhbGxlZCB3aGVuIGFmdGVyIHB1c2hpbmcgdGhlIGJveCBpbnRvIHRoZSBzdGFjayBvciBhZnRlciBwb3BwaW5nIHRoZSBib3hcbiAgICogb3V0IG9mIHRoZSBzdGFjay5cbiAgICovXG4gIG5lYXJlc3RCbG9ja1N0YXJ0T2Zmc2V0KGJveDogQm94KTogbnVtYmVyIHtcbiAgICBpZiAoIWJveC5hdEJsb2NrU3RhcnQpIHtcbiAgICAgIHJldHVybiBib3gub2Zmc2V0O1xuICAgIH1cbiAgICBsZXQgaSA9IHRoaXMuc3RhY2subGVuZ3RoIC0gMTtcbiAgICBsZXQgcGFyZW50ID0gdGhpcy5zdGFja1tpXTtcblxuICAgIC8vIFdoZW4gY2FsbGVkIGp1c3QgYWZ0ZXIgdGhlIGJveCBpcyBwb3BwZWQgb3V0LCB0aGUgbGFzdCBib3ggaW4gdGhlIHN0YWNrXG4gICAgLy8gaXMgZGlmZmVyZW50IGZyb20gdGhlIGJveCBhbmQgaXQgaXMgdGhlIHBhcmVudCBvZiB0aGUgYm94LiBXaGVuIGNhbGxlZFxuICAgIC8vIGFmdGVyIHRoZSBib3ggaXMgcHVzaGVkLCB0aGUgbGFzdCBib3ggaW4gdGhlIHN0YWNrIGlzIGlkZW50aWNhbCB0byB0aGVcbiAgICAvLyBib3ggYW5kIHRoZSBwYXJlbnQgb2YgdGhlIGJveCBpcyBhIGJveCByaWdodCBiZWZvcmUgdGhlIHNwZWNpZmllZCBib3guXG4gICAgaWYgKHBhcmVudCA9PT0gYm94KSB7XG4gICAgICBpLS07XG4gICAgICBwYXJlbnQgPSB0aGlzLnN0YWNrW2ldO1xuICAgIH1cbiAgICB3aGlsZSAoaSA+PSAwKSB7XG4gICAgICBpZiAocGFyZW50LmZsb3dOYW1lICE9PSBib3guZmxvd05hbWUpIHtcbiAgICAgICAgcmV0dXJuIGJveC5vZmZzZXQ7XG4gICAgICB9XG4gICAgICBpZiAoIXBhcmVudC5hdEJsb2NrU3RhcnQpIHtcbiAgICAgICAgcmV0dXJuIHBhcmVudC5vZmZzZXQ7XG4gICAgICB9XG4gICAgICBpZiAocGFyZW50LmlzUm9vdCkge1xuICAgICAgICByZXR1cm4gcGFyZW50Lm9mZnNldDtcbiAgICAgIH1cbiAgICAgIGJveCA9IHBhcmVudDtcbiAgICAgIHBhcmVudCA9IHRoaXMuc3RhY2tbLS1pXTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYmxvY2sgc3RhcnQgb2Zmc2V0IGZvdW5kIVwiKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3R5bGVyIGltcGxlbWVudHMgQWJzdHJhY3RTdHlsZXIge1xuICByb290OiBFbGVtZW50O1xuICBjYXNjYWRlSG9sZGVyOiBDc3NDYXNjYWRlLkNhc2NhZGU7XG4gIGxhc3Q6IE5vZGU7XG4gIHJvb3RTdHlsZSA9IHt9IGFzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuICBzdHlsZU1hcDogeyBba2V5OiBzdHJpbmddOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSB9ID0ge307XG4gIGZsb3dzID0ge30gYXMgeyBba2V5OiBzdHJpbmddOiBWdHJlZS5GbG93IH07XG4gIGZsb3dDaHVua3MgPSBbXSBhcyBWdHJlZS5GbG93Q2h1bmtbXTtcbiAgZmxvd0xpc3RlbmVyOiBGbG93TGlzdGVuZXIgPSBudWxsO1xuICBmbG93VG9SZWFjaDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGlkVG9SZWFjaDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGNhc2NhZGU6IENzc0Nhc2NhZGUuQ2FzY2FkZUluc3RhbmNlO1xuICBvZmZzZXRNYXA6IFNsaXBNYXA7XG4gIHByaW1hcnk6IGJvb2xlYW4gPSB0cnVlO1xuICBwcmltYXJ5U3RhY2sgPSBbXSBhcyBib29sZWFuW107XG4gIHJvb3RCYWNrZ3JvdW5kQXNzaWduZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcm9vdExheW91dEFzc2lnbmVkOiBib29sZWFuID0gZmFsc2U7XG4gIGxhc3RPZmZzZXQ6IG51bWJlcjtcbiAgYnJlYWtCZWZvcmVWYWx1ZXMgPSB7fSBhcyB7IFtrZXk6IG51bWJlcl06IHN0cmluZyB8IG51bGwgfTtcbiAgYm94U3RhY2s6IEJveFN0YWNrO1xuICBib2R5UmVhY2hlZDogYm9vbGVhbiA9IHRydWU7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcixcbiAgICBjYXNjYWRlOiBDc3NDYXNjYWRlLkNhc2NhZGUsXG4gICAgcHVibGljIHJlYWRvbmx5IHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IHByaW1hcnlGbG93czogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0sXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbGlkYXRvclNldDogQ3NzVmFsaWRhdG9yLlZhbGlkYXRvclNldCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY291bnRlckxpc3RlbmVyOiBDc3NDYXNjYWRlLkNvdW50ZXJMaXN0ZW5lcixcbiAgICBjb3VudGVyUmVzb2x2ZXI6IENzc0Nhc2NhZGUuQ291bnRlclJlc29sdmVyLFxuICApIHtcbiAgICB0aGlzLnJvb3QgPSB4bWxkb2Mucm9vdDtcbiAgICB0aGlzLmNhc2NhZGVIb2xkZXIgPSBjYXNjYWRlO1xuICAgIHRoaXMubGFzdCA9IHRoaXMucm9vdDtcbiAgICB0aGlzLmNhc2NhZGUgPSBjYXNjYWRlLmNyZWF0ZUluc3RhbmNlKFxuICAgICAgY29udGV4dCxcbiAgICAgIGNvdW50ZXJMaXN0ZW5lcixcbiAgICAgIGNvdW50ZXJSZXNvbHZlcixcbiAgICAgIHhtbGRvYy5sYW5nLFxuICAgICk7XG4gICAgdGhpcy5vZmZzZXRNYXAgPSBuZXcgU2xpcE1hcCgpO1xuICAgIGNvbnN0IHJvb3RPZmZzZXQgPSB4bWxkb2MuZ2V0RWxlbWVudE9mZnNldCh0aGlzLnJvb3QpO1xuICAgIHRoaXMubGFzdE9mZnNldCA9IHJvb3RPZmZzZXQ7XG4gICAgdGhpcy5ib3hTdGFjayA9IG5ldyBCb3hTdGFjayhjb250ZXh0KTtcbiAgICB0aGlzLm9mZnNldE1hcC5hZGRTdHVja1JhbmdlKHJvb3RPZmZzZXQpO1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nZXRBdHRyU3R5bGUodGhpcy5yb290KTtcbiAgICB0aGlzLmNhc2NhZGUucHVzaEVsZW1lbnQodGhpcy5yb290LCBzdHlsZSwgcm9vdE9mZnNldCk7XG4gICAgdGhpcy5wb3N0cHJvY2Vzc1RvcFN0eWxlKHN0eWxlLCBmYWxzZSk7XG4gICAgc3dpdGNoICh0aGlzLnJvb3QubmFtZXNwYWNlVVJJKSB7XG4gICAgICBjYXNlIEJhc2UuTlMuWEhUTUw6XG4gICAgICBjYXNlIEJhc2UuTlMuRkIyOlxuICAgICAgICB0aGlzLmJvZHlSZWFjaGVkID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0aGlzLnByaW1hcnlTdGFjay5wdXNoKHRydWUpO1xuICAgIHRoaXMuc3R5bGVNYXAgPSB7fTtcbiAgICB0aGlzLnN0eWxlTWFwW2BlJHtyb290T2Zmc2V0fWBdID0gc3R5bGU7XG4gICAgdGhpcy5sYXN0T2Zmc2V0Kys7XG4gICAgdGhpcy5yZXBsYXlGbG93RWxlbWVudHNGcm9tT2Zmc2V0KC0xKTtcbiAgfVxuXG4gIGhhc1Byb3AoXG4gICAgc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIG1hcDogQ3NzVmFsaWRhdG9yLlZhbHVlTWFwLFxuICAgIG5hbWU6IHN0cmluZyxcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgY2FzY1ZhbCA9IHN0eWxlW25hbWVdO1xuICAgIHJldHVybiBjYXNjVmFsICYmIGNhc2NWYWwuZXZhbHVhdGUodGhpcy5jb250ZXh0KSAhPT0gbWFwW25hbWVdO1xuICB9XG5cbiAgdHJhbnNmZXJQcm9wc1RvUm9vdChcbiAgICBzcmNTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgbWFwOiBDc3NWYWxpZGF0b3IuVmFsdWVNYXAsXG4gICk6IHZvaWQge1xuICAgIGZvciAoY29uc3QgcG5hbWUgaW4gbWFwKSB7XG4gICAgICBjb25zdCBjYXNjdmFsID0gc3JjU3R5bGVbcG5hbWVdO1xuICAgICAgaWYgKGNhc2N2YWwpIHtcbiAgICAgICAgdGhpcy5yb290U3R5bGVbcG5hbWVdID0gY2FzY3ZhbDtcbiAgICAgICAgZGVsZXRlIHNyY1N0eWxlW3BuYW1lXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IG1hcFtwbmFtZV07XG4gICAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgICB0aGlzLnJvb3RTdHlsZVtwbmFtZV0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoXG4gICAgICAgICAgICB2YWwsXG4gICAgICAgICAgICBDc3NQYXJzZXIuU1BFQ0lGSUNJVFlfQVVUSE9SLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNmZXIgcHJvcGVydGllcyB0aGF0IHNob3VsZCBiZSBhcHBsaWVkIG9uIHRoZSBjb250YWluZXIgKHBhcnRpdGlvbilcbiAgICogbGV2ZWwgdG8gdGhpcy5yb290U3R5bGUuXG4gICAqIEBwYXJhbSBlbGVtU3R5bGUgKHNvdXJjZSkgZWxlbWVudCBzdHlsZVxuICAgKi9cbiAgcG9zdHByb2Nlc3NUb3BTdHlsZShcbiAgICBlbGVtU3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIGlzQm9keTogYm9vbGVhbixcbiAgKTogdm9pZCB7XG4gICAgW1wid3JpdGluZy1tb2RlXCIsIFwiZGlyZWN0aW9uXCJdLmZvckVhY2goKHByb3BOYW1lKSA9PiB7XG4gICAgICBpZiAoZWxlbVN0eWxlW3Byb3BOYW1lXSAmJiAhKGlzQm9keSAmJiB0aGlzLnJvb3RTdHlsZVtwcm9wTmFtZV0pKSB7XG4gICAgICAgIC8vIENvcHkgaXQgb3ZlciwgYnV0IGtlZXAgaXQgYXQgdGhlIHJvb3QgZWxlbWVudCBhcyB3ZWxsLlxuICAgICAgICB0aGlzLnJvb3RTdHlsZVtwcm9wTmFtZV0gPSBlbGVtU3R5bGVbcHJvcE5hbWVdO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghdGhpcy5yb290QmFja2dyb3VuZEFzc2lnbmVkKSB7XG4gICAgICBjb25zdCBiYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmhhc1Byb3AoXG4gICAgICAgIGVsZW1TdHlsZSxcbiAgICAgICAgdGhpcy52YWxpZGF0b3JTZXQuYmFja2dyb3VuZFByb3BzLFxuICAgICAgICBcImJhY2tncm91bmQtY29sb3JcIixcbiAgICAgIClcbiAgICAgICAgPyBlbGVtU3R5bGVbXCJiYWNrZ3JvdW5kLWNvbG9yXCJdLmV2YWx1YXRlKHRoaXMuY29udGV4dClcbiAgICAgICAgOiAobnVsbCBhcyBDc3MuVmFsKTtcbiAgICAgIGNvbnN0IGJhY2tncm91bmRJbWFnZSA9IHRoaXMuaGFzUHJvcChcbiAgICAgICAgZWxlbVN0eWxlLFxuICAgICAgICB0aGlzLnZhbGlkYXRvclNldC5iYWNrZ3JvdW5kUHJvcHMsXG4gICAgICAgIFwiYmFja2dyb3VuZC1pbWFnZVwiLFxuICAgICAgKVxuICAgICAgICA/IGVsZW1TdHlsZVtcImJhY2tncm91bmQtaW1hZ2VcIl0uZXZhbHVhdGUodGhpcy5jb250ZXh0KVxuICAgICAgICA6IChudWxsIGFzIENzcy5WYWwpO1xuICAgICAgaWYgKFxuICAgICAgICAoYmFja2dyb3VuZENvbG9yICYmIGJhY2tncm91bmRDb2xvciAhPT0gQ3NzLmlkZW50LmluaGVyaXQpIHx8XG4gICAgICAgIChiYWNrZ3JvdW5kSW1hZ2UgJiYgYmFja2dyb3VuZEltYWdlICE9PSBDc3MuaWRlbnQuaW5oZXJpdClcbiAgICAgICkge1xuICAgICAgICB0aGlzLnRyYW5zZmVyUHJvcHNUb1Jvb3QoZWxlbVN0eWxlLCB0aGlzLnZhbGlkYXRvclNldC5iYWNrZ3JvdW5kUHJvcHMpO1xuICAgICAgICB0aGlzLnJvb3RCYWNrZ3JvdW5kQXNzaWduZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRoaXMucm9vdExheW91dEFzc2lnbmVkKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbHVtblByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLmhhc1Byb3AoZWxlbVN0eWxlLCB0aGlzLnZhbGlkYXRvclNldC5sYXlvdXRQcm9wcywgY29sdW1uUHJvcHNbaV0pXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMudHJhbnNmZXJQcm9wc1RvUm9vdChlbGVtU3R5bGUsIHRoaXMudmFsaWRhdG9yU2V0LmxheW91dFByb3BzKTtcbiAgICAgICAgICB0aGlzLnJvb3RMYXlvdXRBc3NpZ25lZCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFpc0JvZHkpIHtcbiAgICAgIGNvbnN0IGZvbnRTaXplID0gZWxlbVN0eWxlW1wiZm9udC1zaXplXCJdO1xuICAgICAgaWYgKGZvbnRTaXplKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IGZvbnRTaXplLmV2YWx1YXRlKHRoaXMuY29udGV4dCk7XG4gICAgICAgIGxldCBweCA9IHZhbC5udW07XG4gICAgICAgIHN3aXRjaCAodmFsLnVuaXQpIHtcbiAgICAgICAgICBjYXNlIFwiZW1cIjpcbiAgICAgICAgICBjYXNlIFwicmVtXCI6XG4gICAgICAgICAgICBweCAqPSB0aGlzLmNvbnRleHQuaW5pdGlhbEZvbnRTaXplO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImV4XCI6XG4gICAgICAgICAgICBweCAqPVxuICAgICAgICAgICAgICAodGhpcy5jb250ZXh0LmluaXRpYWxGb250U2l6ZSAqIEV4cHJzLmRlZmF1bHRVbml0U2l6ZXNbXCJleFwiXSkgL1xuICAgICAgICAgICAgICBFeHBycy5kZWZhdWx0VW5pdFNpemVzW1wiZW1cIl07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiJVwiOlxuICAgICAgICAgICAgcHggKj0gdGhpcy5jb250ZXh0LmluaXRpYWxGb250U2l6ZSAvIDEwMDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGNvbnN0IHVuaXRTaXplID0gRXhwcnMuZGVmYXVsdFVuaXRTaXplc1t2YWwudW5pdF07XG4gICAgICAgICAgICBpZiAodW5pdFNpemUpIHtcbiAgICAgICAgICAgICAgcHggKj0gdW5pdFNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udGV4dC5yb290Rm9udFNpemUgPSBweDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRUb3BDb250YWluZXJTdHlsZSgpOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSB7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgd2hpbGUgKCF0aGlzLmJvZHlSZWFjaGVkKSB7XG4gICAgICBvZmZzZXQgKz0gNTAwMDtcbiAgICAgIGlmICh0aGlzLnN0eWxlVW50aWwob2Zmc2V0LCAwKSA9PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnJvb3RTdHlsZTtcbiAgfVxuXG4gIGdldEF0dHJTdHlsZShlbGVtOiBFbGVtZW50KTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUge1xuICAgIC8vIHNraXAgY2FzZXMgaW4gd2hpY2ggZWxlbWVudHMgZm9yIFhNTCBvdGhlciB0aGFuIEhUTUwgb3IgU1ZHXG4gICAgLy8gaGF2ZSAnc3R5bGUnIGF0dHJpYnV0ZSBub3QgZm9yIENTUyBkZWNsYXJhdGlvblxuICAgIGlmICgoZWxlbSBhcyBhbnkpLnN0eWxlIGluc3RhbmNlb2YgQ1NTU3R5bGVEZWNsYXJhdGlvbikge1xuICAgICAgY29uc3Qgc3R5bGVBdHRyVmFsdWUgPSBlbGVtLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICAgICAgaWYgKHN0eWxlQXR0clZhbHVlKSB7XG4gICAgICAgIHJldHVybiBDc3NDYXNjYWRlLnBhcnNlU3R5bGVBdHRyaWJ1dGUoXG4gICAgICAgICAgdGhpcy5zY29wZSxcbiAgICAgICAgICB0aGlzLnZhbGlkYXRvclNldCxcbiAgICAgICAgICB0aGlzLnhtbGRvYy51cmwsXG4gICAgICAgICAgc3R5bGVBdHRyVmFsdWUsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7fSBhcyBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIGN1cnJlbnRseSByZWFjaGVkIG9mZnNldFxuICAgKi9cbiAgZ2V0UmVhY2hlZE9mZnNldCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmxhc3RPZmZzZXQ7XG4gIH1cblxuICAvKipcbiAgICogUmVwbGF5IGZsb3cgZWxlbWVudHMgdGhhdCB3ZXJlIGVuY291bnRlcmVkIHNpbmNlIHRoZSBnaXZlbiBvZmZzZXRcbiAgICovXG4gIHJlcGxheUZsb3dFbGVtZW50c0Zyb21PZmZzZXQob2Zmc2V0OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAob2Zmc2V0ID49IHRoaXMubGFzdE9mZnNldCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgIGNvbnN0IHJvb3RPZmZzZXQgPSB0aGlzLnhtbGRvYy5nZXRFbGVtZW50T2Zmc2V0KHRoaXMucm9vdCk7XG4gICAgaWYgKG9mZnNldCA8IHJvb3RPZmZzZXQpIHtcbiAgICAgIGNvbnN0IHJvb3RTdHlsZSA9IHRoaXMuZ2V0U3R5bGUodGhpcy5yb290LCBmYWxzZSk7XG4gICAgICBBc3NlcnRzLmFzc2VydChyb290U3R5bGUpO1xuICAgICAgY29uc3QgZmxvd05hbWUgPSBDc3NDYXNjYWRlLmdldFByb3Aocm9vdFN0eWxlLCBcImZsb3ctaW50b1wiKTtcbiAgICAgIGNvbnN0IGZsb3dOYW1lU3RyID0gZmxvd05hbWVcbiAgICAgICAgPyBmbG93TmFtZS5ldmFsdWF0ZShjb250ZXh0LCBcImZsb3ctaW50b1wiKS50b1N0cmluZygpXG4gICAgICAgIDogXCJib2R5XCI7XG4gICAgICBjb25zdCBuZXdGbG93Q2h1bmsgPSB0aGlzLmVuY291bnRlcmVkRmxvd0VsZW1lbnQoXG4gICAgICAgIGZsb3dOYW1lU3RyLFxuICAgICAgICByb290U3R5bGUsXG4gICAgICAgIHRoaXMucm9vdCxcbiAgICAgICAgcm9vdE9mZnNldCxcbiAgICAgICk7XG4gICAgICBpZiAodGhpcy5ib3hTdGFjay5lbXB0eSgpKSB7XG4gICAgICAgIHRoaXMuYm94U3RhY2sucHVzaChyb290U3R5bGUsIHJvb3RPZmZzZXQsIHRydWUsIG5ld0Zsb3dDaHVuayk7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBub2RlID0gdGhpcy54bWxkb2MuZ2V0Tm9kZUJ5T2Zmc2V0KG9mZnNldCk7XG4gICAgbGV0IG5vZGVPZmZzZXQgPSB0aGlzLnhtbGRvYy5nZXROb2RlT2Zmc2V0KG5vZGUsIDAsIGZhbHNlKTtcbiAgICBpZiAobm9kZU9mZnNldCA+PSB0aGlzLmxhc3RPZmZzZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgbm9kZU9mZnNldCArPSBub2RlLnRleHRDb250ZW50Lmxlbmd0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGVsZW0gPSBub2RlIGFzIEVsZW1lbnQ7XG4gICAgICAgIGlmIChWSVZMSU9TVFlMRV9ERUJVRykge1xuICAgICAgICAgIGlmIChub2RlT2Zmc2V0ICE9IHRoaXMueG1sZG9jLmdldEVsZW1lbnRPZmZzZXQoZWxlbSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkluY29uc2lzdGVudCBvZmZzZXRcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nZXRTdHlsZShlbGVtLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGZsb3dOYW1lID0gc3R5bGVbXCJmbG93LWludG9cIl07XG4gICAgICAgIGlmIChmbG93TmFtZSkge1xuICAgICAgICAgIGNvbnN0IGZsb3dOYW1lU3RyID0gZmxvd05hbWVcbiAgICAgICAgICAgIC5ldmFsdWF0ZShjb250ZXh0LCBcImZsb3ctaW50b1wiKVxuICAgICAgICAgICAgLnRvU3RyaW5nKCk7XG4gICAgICAgICAgdGhpcy5lbmNvdW50ZXJlZEZsb3dFbGVtZW50KGZsb3dOYW1lU3RyLCBzdHlsZSwgZWxlbSwgbm9kZU9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZU9mZnNldCsrO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGVPZmZzZXQgPj0gdGhpcy5sYXN0T2Zmc2V0KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgbGV0IG5leHQ6IE5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICBpZiAobmV4dCA9PSBudWxsKSB7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgIGlmIChub2RlID09PSB0aGlzLnJvb3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vZGUgPSBuZXh0O1xuICAgIH1cbiAgfVxuXG4gIHJlc2V0Rmxvd0NodW5rU3RyZWFtKGZsb3dMaXN0ZW5lcjogRmxvd0xpc3RlbmVyKTogdm9pZCB7XG4gICAgdGhpcy5mbG93TGlzdGVuZXIgPSBmbG93TGlzdGVuZXI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZsb3dDaHVua3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZmxvd0xpc3RlbmVyLmVuY291bnRlcmVkRmxvd0NodW5rKFxuICAgICAgICB0aGlzLmZsb3dDaHVua3NbaV0sXG4gICAgICAgIHRoaXMuZmxvd3NbdGhpcy5mbG93Q2h1bmtzW2ldLmZsb3dOYW1lXSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgc3R5bGVVbnRpbEZsb3dJc1JlYWNoZWQoZmxvd05hbWU6IHN0cmluZykge1xuICAgIHRoaXMuZmxvd1RvUmVhY2ggPSBmbG93TmFtZTtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKHRoaXMuZmxvd1RvUmVhY2ggPT0gbnVsbCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIG9mZnNldCArPSA1MDAwO1xuICAgICAgaWYgKHRoaXMuc3R5bGVVbnRpbChvZmZzZXQsIDApID09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdHlsZVVudGlsSWRJc1JlYWNoZWQoaWQ6IHN0cmluZykge1xuICAgIGlmICghaWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pZFRvUmVhY2ggPSBpZDtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKCF0aGlzLmlkVG9SZWFjaCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIG9mZnNldCArPSA1MDAwO1xuICAgICAgaWYgKHRoaXMuc3R5bGVVbnRpbChvZmZzZXQsIDApID09PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuaWRUb1JlYWNoID0gbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgZW5jb3VudGVyZWRGbG93RWxlbWVudChcbiAgICBmbG93TmFtZTogc3RyaW5nLFxuICAgIHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBlbGVtOiBFbGVtZW50LFxuICAgIHN0YXJ0T2Zmc2V0OiBudW1iZXIsXG4gICk6IFZ0cmVlLkZsb3dDaHVuayB7XG4gICAgbGV0IHByaW9yaXR5ID0gMDtcbiAgICBsZXQgbGluZ2VyID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIGxldCBleGNsdXNpdmUgPSBmYWxzZTtcbiAgICBsZXQgcmVwZWF0ZWQgPSBmYWxzZTtcbiAgICBsZXQgbGFzdCA9IGZhbHNlO1xuICAgIGNvbnN0IG9wdGlvbnNDViA9IHN0eWxlW1wiZmxvdy1vcHRpb25zXCJdO1xuICAgIGlmIChvcHRpb25zQ1YpIHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBDc3NQcm9wLnRvU2V0KFxuICAgICAgICBvcHRpb25zQ1YuZXZhbHVhdGUodGhpcy5jb250ZXh0LCBcImZsb3ctb3B0aW9uc1wiKSxcbiAgICAgICk7XG4gICAgICBleGNsdXNpdmUgPSAhIW9wdGlvbnNbXCJleGNsdXNpdmVcIl07XG4gICAgICByZXBlYXRlZCA9ICEhb3B0aW9uc1tcInN0YXRpY1wiXTtcbiAgICAgIGxhc3QgPSAhIW9wdGlvbnNbXCJsYXN0XCJdO1xuICAgIH1cbiAgICBjb25zdCBsaW5nZXJDViA9IHN0eWxlW1wiZmxvdy1saW5nZXJcIl07XG4gICAgaWYgKGxpbmdlckNWKSB7XG4gICAgICBsaW5nZXIgPSBDc3NQcm9wLnRvSW50KFxuICAgICAgICBsaW5nZXJDVi5ldmFsdWF0ZSh0aGlzLmNvbnRleHQsIFwiZmxvdy1saW5nZXJcIiksXG4gICAgICAgIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHByaW9yaXR5Q1YgPSBzdHlsZVtcImZsb3ctcHJpb3JpdHlcIl07XG4gICAgaWYgKHByaW9yaXR5Q1YpIHtcbiAgICAgIHByaW9yaXR5ID0gQ3NzUHJvcC50b0ludChcbiAgICAgICAgcHJpb3JpdHlDVi5ldmFsdWF0ZSh0aGlzLmNvbnRleHQsIFwiZmxvdy1wcmlvcml0eVwiKSxcbiAgICAgICAgMCxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGJyZWFrQmVmb3JlID0gdGhpcy5icmVha0JlZm9yZVZhbHVlc1tzdGFydE9mZnNldF0gfHwgbnVsbDtcbiAgICBsZXQgZmxvdyA9IHRoaXMuZmxvd3NbZmxvd05hbWVdO1xuICAgIGlmICghZmxvdykge1xuICAgICAgY29uc3QgcGFyZW50Rmxvd05hbWUgPSB0aGlzLmJveFN0YWNrLmxhc3RGbG93TmFtZSgpO1xuICAgICAgZmxvdyA9IHRoaXMuZmxvd3NbZmxvd05hbWVdID0gbmV3IFZ0cmVlLkZsb3coZmxvd05hbWUsIHBhcmVudEZsb3dOYW1lKTtcbiAgICB9XG4gICAgY29uc3QgZmxvd0NodW5rID0gbmV3IFZ0cmVlLkZsb3dDaHVuayhcbiAgICAgIGZsb3dOYW1lLFxuICAgICAgZWxlbSxcbiAgICAgIHN0YXJ0T2Zmc2V0LFxuICAgICAgcHJpb3JpdHksXG4gICAgICBsaW5nZXIsXG4gICAgICBleGNsdXNpdmUsXG4gICAgICByZXBlYXRlZCxcbiAgICAgIGxhc3QsXG4gICAgICBicmVha0JlZm9yZSxcbiAgICApO1xuICAgIHRoaXMuZmxvd0NodW5rcy5wdXNoKGZsb3dDaHVuayk7XG4gICAgaWYgKHRoaXMuZmxvd1RvUmVhY2ggPT0gZmxvd05hbWUpIHtcbiAgICAgIHRoaXMuZmxvd1RvUmVhY2ggPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5mbG93TGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuZmxvd0xpc3RlbmVyLmVuY291bnRlcmVkRmxvd0NodW5rKGZsb3dDaHVuaywgZmxvdyk7XG4gICAgfVxuICAgIHJldHVybiBmbG93Q2h1bms7XG4gIH1cblxuICByZWdpc3RlckZvcmNlZEJyZWFrT2Zmc2V0KFxuICAgIGJyZWFrVmFsdWU6IHN0cmluZyB8IG51bGwsXG4gICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgZmxvd05hbWU6IHN0cmluZyxcbiAgKSB7XG4gICAgaWYgKEJyZWFrLmlzRm9yY2VkQnJlYWtWYWx1ZShicmVha1ZhbHVlKSkge1xuICAgICAgY29uc3QgZm9yY2VkQnJlYWtPZmZzZXRzID0gdGhpcy5mbG93c1tmbG93TmFtZV0uZm9yY2VkQnJlYWtPZmZzZXRzO1xuICAgICAgaWYgKFxuICAgICAgICBmb3JjZWRCcmVha09mZnNldHMubGVuZ3RoID09PSAwIHx8XG4gICAgICAgIGZvcmNlZEJyZWFrT2Zmc2V0c1tmb3JjZWRCcmVha09mZnNldHMubGVuZ3RoIC0gMV0gPCBvZmZzZXRcbiAgICAgICkge1xuICAgICAgICBmb3JjZWRCcmVha09mZnNldHMucHVzaChvZmZzZXQpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBwcmV2aW91c1ZhbHVlID0gdGhpcy5icmVha0JlZm9yZVZhbHVlc1tvZmZzZXRdO1xuICAgIHRoaXMuYnJlYWtCZWZvcmVWYWx1ZXNbb2Zmc2V0XSA9IEJyZWFrLnJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlKFxuICAgICAgcHJldmlvdXNWYWx1ZSxcbiAgICAgIGJyZWFrVmFsdWUsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gc3RhcnRPZmZzZXQgY3VycmVudCBwb3NpdGlvbiBpbiB0aGUgZG9jdW1lbnRcbiAgICogQHBhcmFtIGxvb2t1cCBsb29rdXAgd2luZG93IHNpemUgZm9yIHRoZSBuZXh0IHBhZ2VcbiAgICogQHJldHVybiBsb29rdXAgb2Zmc2V0IGluIHRoZSBkb2N1bWVudCBmb3IgdGhlIG5leHQgcGFnZVxuICAgKi9cbiAgc3R5bGVVbnRpbChzdGFydE9mZnNldDogbnVtYmVyLCBsb29rdXA6IG51bWJlcik6IG51bWJlciB7XG4gICAgbGV0IHRhcmdldFNsaXBwZWRPZmZzZXQgPSAtMTtcbiAgICBsZXQgc2xpcHBlZE9mZnNldDogbnVtYmVyO1xuICAgIGlmIChzdGFydE9mZnNldCA8PSB0aGlzLmxhc3RPZmZzZXQpIHtcbiAgICAgIHNsaXBwZWRPZmZzZXQgPSB0aGlzLm9mZnNldE1hcC5zbGlwcGVkQnlGaXhlZChzdGFydE9mZnNldCk7XG4gICAgICB0YXJnZXRTbGlwcGVkT2Zmc2V0ID0gc2xpcHBlZE9mZnNldCArIGxvb2t1cDtcbiAgICAgIGlmICh0YXJnZXRTbGlwcGVkT2Zmc2V0IDwgdGhpcy5vZmZzZXRNYXAuZ2V0TWF4U2xpcHBlZCgpKSB7XG4gICAgICAgIC8vIGdvdCB0byB0aGUgZGVzaXJlZCBwb2ludFxuICAgICAgICByZXR1cm4gdGhpcy5vZmZzZXRNYXAuZml4ZWRCeVNsaXBwZWQodGFyZ2V0U2xpcHBlZE9mZnNldCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmxhc3QgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICB9XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgbGV0IG5leHQ6IE5vZGUgPSB0aGlzLmxhc3QuZmlyc3RDaGlsZDtcbiAgICAgIGlmIChuZXh0ID09IG51bGwpIHtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICBpZiAodGhpcy5sYXN0Lm5vZGVUeXBlID09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuY2FzY2FkZS5wb3BFbGVtZW50KHRoaXMubGFzdCBhcyBFbGVtZW50KTtcbiAgICAgICAgICAgIHRoaXMucHJpbWFyeSA9IHRoaXMucHJpbWFyeVN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgY29uc3QgYm94ID0gdGhpcy5ib3hTdGFjay5wb3AodGhpcy5sYXN0T2Zmc2V0KTtcbiAgICAgICAgICAgIGxldCBicmVha0FmdGVyOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChib3guYWZ0ZXJCb3gpIHtcbiAgICAgICAgICAgICAgY29uc3QgYWZ0ZXJQc2V1ZG9CcmVha0JlZm9yZSA9IGJveC5hZnRlckJveC5nZXRCcmVha1ZhbHVlKFxuICAgICAgICAgICAgICAgIFwiYmVmb3JlXCIsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJGb3JjZWRCcmVha09mZnNldChcbiAgICAgICAgICAgICAgICBhZnRlclBzZXVkb0JyZWFrQmVmb3JlLFxuICAgICAgICAgICAgICAgIGJveC5hZnRlckJveC5hdEJsb2NrU3RhcnRcbiAgICAgICAgICAgICAgICAgID8gdGhpcy5ib3hTdGFjay5uZWFyZXN0QmxvY2tTdGFydE9mZnNldChib3gpXG4gICAgICAgICAgICAgICAgICA6IGJveC5hZnRlckJveC5vZmZzZXQsXG4gICAgICAgICAgICAgICAgYm94LmZsb3dOYW1lLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVha0FmdGVyID0gYm94LmFmdGVyQm94LmdldEJyZWFrVmFsdWUoXCJhZnRlclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrQWZ0ZXIgPSBCcmVhay5yZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZShcbiAgICAgICAgICAgICAgYnJlYWtBZnRlcixcbiAgICAgICAgICAgICAgYm94LmdldEJyZWFrVmFsdWUoXCJhZnRlclwiKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyRm9yY2VkQnJlYWtPZmZzZXQoXG4gICAgICAgICAgICAgIGJyZWFrQWZ0ZXIsXG4gICAgICAgICAgICAgIHRoaXMubGFzdE9mZnNldCxcbiAgICAgICAgICAgICAgYm94LmZsb3dOYW1lLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmV4dCA9IHRoaXMubGFzdC5uZXh0U2libGluZztcbiAgICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMubGFzdCA9IHRoaXMubGFzdC5wYXJlbnROb2RlO1xuICAgICAgICAgIGlmICh0aGlzLmxhc3QgPT09IHRoaXMucm9vdCkge1xuICAgICAgICAgICAgdGhpcy5sYXN0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChzdGFydE9mZnNldCA8IHRoaXMubGFzdE9mZnNldCkge1xuICAgICAgICAgICAgICBpZiAodGFyZ2V0U2xpcHBlZE9mZnNldCA8IDApIHtcbiAgICAgICAgICAgICAgICBzbGlwcGVkT2Zmc2V0ID0gdGhpcy5vZmZzZXRNYXAuc2xpcHBlZEJ5Rml4ZWQoc3RhcnRPZmZzZXQpO1xuICAgICAgICAgICAgICAgIHRhcmdldFNsaXBwZWRPZmZzZXQgPSBzbGlwcGVkT2Zmc2V0ICsgbG9va3VwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0YXJnZXRTbGlwcGVkT2Zmc2V0IDw9IHRoaXMub2Zmc2V0TWFwLmdldE1heFNsaXBwZWQoKSkge1xuICAgICAgICAgICAgICAgIC8vIGdvdCB0byB0aGUgZGVzaXJlZCBwb2ludFxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9mZnNldE1hcC5maXhlZEJ5U2xpcHBlZCh0YXJnZXRTbGlwcGVkT2Zmc2V0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMubGFzdCA9IG5leHQ7XG4gICAgICBpZiAodGhpcy5sYXN0Lm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgdGhpcy5sYXN0T2Zmc2V0ICs9IHRoaXMubGFzdC50ZXh0Q29udGVudC5sZW5ndGg7XG4gICAgICAgIHRoaXMuYm94U3RhY2suZW5jb3VudGVyZWRUZXh0Tm9kZSh0aGlzLmxhc3QpO1xuICAgICAgICBpZiAodGhpcy5wcmltYXJ5KSB7XG4gICAgICAgICAgdGhpcy5vZmZzZXRNYXAuYWRkU3R1Y2tSYW5nZSh0aGlzLmxhc3RPZmZzZXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMub2Zmc2V0TWFwLmFkZFNsaXBwZWRSYW5nZSh0aGlzLmxhc3RPZmZzZXQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBlbGVtID0gdGhpcy5sYXN0IGFzIEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nZXRBdHRyU3R5bGUoZWxlbSk7XG4gICAgICAgIHRoaXMucHJpbWFyeVN0YWNrLnB1c2godGhpcy5wcmltYXJ5KTtcbiAgICAgICAgdGhpcy5jYXNjYWRlLnB1c2hFbGVtZW50KGVsZW0sIHN0eWxlLCB0aGlzLmxhc3RPZmZzZXQpO1xuICAgICAgICBjb25zdCBpZCA9XG4gICAgICAgICAgZWxlbS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSB8fCBlbGVtLmdldEF0dHJpYnV0ZU5TKEJhc2UuTlMuWE1MLCBcImlkXCIpO1xuICAgICAgICBpZiAoaWQgJiYgaWQgPT09IHRoaXMuaWRUb1JlYWNoKSB7XG4gICAgICAgICAgdGhpcy5pZFRvUmVhY2ggPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhdGhpcy5ib2R5UmVhY2hlZCAmJlxuICAgICAgICAgIGVsZW0ubG9jYWxOYW1lID09IFwiYm9keVwiICYmXG4gICAgICAgICAgZWxlbS5wYXJlbnROb2RlID09IHRoaXMucm9vdFxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLnBvc3Rwcm9jZXNzVG9wU3R5bGUoc3R5bGUsIHRydWUpO1xuICAgICAgICAgIHRoaXMuYm9keVJlYWNoZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBib3g6IEJveDtcbiAgICAgICAgY29uc3QgZmxvd05hbWUgPSBzdHlsZVtcImZsb3ctaW50b1wiXTtcbiAgICAgICAgaWYgKGZsb3dOYW1lKSB7XG4gICAgICAgICAgY29uc3QgZmxvd05hbWVTdHIgPSBmbG93TmFtZVxuICAgICAgICAgICAgLmV2YWx1YXRlKGNvbnRleHQsIFwiZmxvdy1pbnRvXCIpXG4gICAgICAgICAgICAudG9TdHJpbmcoKTtcbiAgICAgICAgICBjb25zdCBuZXdGbG93Q2h1bmsgPSB0aGlzLmVuY291bnRlcmVkRmxvd0VsZW1lbnQoXG4gICAgICAgICAgICBmbG93TmFtZVN0cixcbiAgICAgICAgICAgIHN0eWxlLFxuICAgICAgICAgICAgZWxlbSxcbiAgICAgICAgICAgIHRoaXMubGFzdE9mZnNldCxcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMucHJpbWFyeSA9ICEhdGhpcy5wcmltYXJ5Rmxvd3NbZmxvd05hbWVTdHJdO1xuICAgICAgICAgIGJveCA9IHRoaXMuYm94U3RhY2sucHVzaChcbiAgICAgICAgICAgIHN0eWxlLFxuICAgICAgICAgICAgdGhpcy5sYXN0T2Zmc2V0LFxuICAgICAgICAgICAgZWxlbSA9PT0gdGhpcy5yb290LFxuICAgICAgICAgICAgbmV3Rmxvd0NodW5rLFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYm94ID0gdGhpcy5ib3hTdGFjay5wdXNoKHN0eWxlLCB0aGlzLmxhc3RPZmZzZXQsIGVsZW0gPT09IHRoaXMucm9vdCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYmxvY2tTdGFydE9mZnNldCA9IHRoaXMuYm94U3RhY2submVhcmVzdEJsb2NrU3RhcnRPZmZzZXQoYm94KTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZvcmNlZEJyZWFrT2Zmc2V0KFxuICAgICAgICAgIGJveC5icmVha0JlZm9yZSxcbiAgICAgICAgICBibG9ja1N0YXJ0T2Zmc2V0LFxuICAgICAgICAgIGJveC5mbG93TmFtZSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGJveC5iZWZvcmVCb3gpIHtcbiAgICAgICAgICBjb25zdCBiZWZvcmVQc2V1ZG9CcmVha0FmdGVyID0gYm94LmJlZm9yZUJveC5nZXRCcmVha1ZhbHVlKFwiYWZ0ZXJcIik7XG4gICAgICAgICAgdGhpcy5yZWdpc3RlckZvcmNlZEJyZWFrT2Zmc2V0KFxuICAgICAgICAgICAgYmVmb3JlUHNldWRvQnJlYWtBZnRlcixcbiAgICAgICAgICAgIGJveC5iZWZvcmVCb3guYXRCbG9ja1N0YXJ0ID8gYmxvY2tTdGFydE9mZnNldCA6IGJveC5vZmZzZXQsXG4gICAgICAgICAgICBib3guZmxvd05hbWUsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wcmltYXJ5KSB7XG4gICAgICAgICAgaWYgKGJveC5kaXNwbGF5VmFsdWUoKSA9PT0gQ3NzLmlkZW50Lm5vbmUpIHtcbiAgICAgICAgICAgIHRoaXMucHJpbWFyeSA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoVklWTElPU1RZTEVfREVCVUcpIHtcbiAgICAgICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLnhtbGRvYy5nZXRFbGVtZW50T2Zmc2V0KHRoaXMubGFzdCBhcyBFbGVtZW50KTtcbiAgICAgICAgICBpZiAob2Zmc2V0ICE9IHRoaXMubGFzdE9mZnNldCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5jb25zaXN0ZW50IG9mZnNldFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdHlsZU1hcFtgZSR7dGhpcy5sYXN0T2Zmc2V0fWBdID0gc3R5bGU7XG4gICAgICAgIHRoaXMubGFzdE9mZnNldCsrO1xuICAgICAgICBpZiAodGhpcy5wcmltYXJ5KSB7XG4gICAgICAgICAgdGhpcy5vZmZzZXRNYXAuYWRkU3R1Y2tSYW5nZSh0aGlzLmxhc3RPZmZzZXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMub2Zmc2V0TWFwLmFkZFNsaXBwZWRSYW5nZSh0aGlzLmxhc3RPZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydE9mZnNldCA8IHRoaXMubGFzdE9mZnNldCkge1xuICAgICAgICAgIGlmICh0YXJnZXRTbGlwcGVkT2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgc2xpcHBlZE9mZnNldCA9IHRoaXMub2Zmc2V0TWFwLnNsaXBwZWRCeUZpeGVkKHN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgICAgIHRhcmdldFNsaXBwZWRPZmZzZXQgPSBzbGlwcGVkT2Zmc2V0ICsgbG9va3VwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGFyZ2V0U2xpcHBlZE9mZnNldCA8PSB0aGlzLm9mZnNldE1hcC5nZXRNYXhTbGlwcGVkKCkpIHtcbiAgICAgICAgICAgIC8vIGdvdCB0byB0aGUgZGVzaXJlZCBwb2ludFxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub2Zmc2V0TWFwLmZpeGVkQnlTbGlwcGVkKHRhcmdldFNsaXBwZWRPZmZzZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFN0eWxlKGVsZW1lbnQ6IEVsZW1lbnQsIGRlZXA6IGJvb2xlYW4pOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSB7XG4gICAgbGV0IG9mZnNldCA9IHRoaXMueG1sZG9jLmdldEVsZW1lbnRPZmZzZXQoZWxlbWVudCk7XG4gICAgY29uc3Qga2V5ID0gYGUke29mZnNldH1gO1xuICAgIGlmIChkZWVwKSB7XG4gICAgICBvZmZzZXQgPSB0aGlzLnhtbGRvYy5nZXROb2RlT2Zmc2V0KGVsZW1lbnQsIDAsIHRydWUpO1xuICAgIH1cbiAgICBpZiAodGhpcy5sYXN0T2Zmc2V0IDw9IG9mZnNldCkge1xuICAgICAgdGhpcy5zdHlsZVVudGlsKG9mZnNldCwgMCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnN0eWxlTWFwW2tleV07XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcm9jZXNzQ29udGVudChlbGVtZW50OiBFbGVtZW50LCBzdHlsZXM6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9KSB7fVxufVxuXG5leHBvcnQgY29uc3QgY29sdW1uUHJvcHMgPSBbXCJjb2x1bW4tY291bnRcIiwgXCJjb2x1bW4td2lkdGhcIiwgXCJjb2x1bW4tZmlsbFwiXTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgQ3NzVmFsaWRhdG9yIC0gUGFyc2UgdmFsaWRhdGlvbiBydWxlcyAodmFsaWRhdGlvbi50eHQpLCB2YWxpZGF0ZVxuICogcHJvcGVydGllcyBhbmQgc2hvcnRoYW5kcy5cbiAqL1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgQ3NzUGFyc2VyIGZyb20gXCIuL2Nzcy1wYXJzZXJcIjtcbmltcG9ydCAqIGFzIENzc1Rva2VuaXplciBmcm9tIFwiLi9jc3MtdG9rZW5pemVyXCI7XG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuL2xvZ2dpbmdcIjtcbmltcG9ydCBWYWxpZGF0aW9uVHh0IGZyb20gXCIuL2Fzc2V0cy92YWxpZGF0aW9uLnR4dFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFByb3BlcnR5UmVjZWl2ZXIge1xuICB1bmtub3duUHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCk6IHZvaWQ7XG5cbiAgaW52YWxpZFByb3BlcnR5VmFsdWUobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCk6IHZvaWQ7XG5cbiAgc2ltcGxlUHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50KTogdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIE5vZGUge1xuICBzdWNjZXNzOiBOb2RlID0gbnVsbDtcbiAgZmFpbHVyZTogTm9kZSA9IG51bGw7XG4gIGNvZGU6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHZhbGlkYXRvcjogUHJvcGVydHlWYWxpZGF0b3IpIHt9XG5cbiAgaXNTcGVjaWFsKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvZGUgIT0gMDtcbiAgfVxuXG4gIG1hcmtBc1N0YXJ0R3JvdXAoKTogdm9pZCB7XG4gICAgdGhpcy5jb2RlID0gLTE7XG4gIH1cblxuICBpc1N0YXJ0R3JvdXAoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY29kZSA9PSAtMTtcbiAgfVxuXG4gIG1hcmtBc0VuZEdyb3VwKCk6IHZvaWQge1xuICAgIHRoaXMuY29kZSA9IC0yO1xuICB9XG5cbiAgaXNFbmRHcm91cCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jb2RlID09IC0yO1xuICB9XG5cbiAgbWFya0FzU3RhcnRBbHRlcm5hdGUoaW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuY29kZSA9IDIgKiBpbmRleCArIDE7XG4gIH1cblxuICBpc1N0YXJ0QWx0ZXJuYXRlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvZGUgPiAwICYmIHRoaXMuY29kZSAlIDIgIT0gMDtcbiAgfVxuXG4gIG1hcmtBc0VuZEFsdGVybmF0ZShpbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5jb2RlID0gMiAqIGluZGV4ICsgMjtcbiAgfVxuXG4gIGlzRW5kQWx0ZXJuYXRlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvZGUgPiAwICYmIHRoaXMuY29kZSAlIDIgPT0gMDtcbiAgfVxuXG4gIGdldEFsdGVybmF0ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLmZsb29yKCh0aGlzLmNvZGUgLSAxKSAvIDIpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uIHtcbiAgd2hhdDogbnVtYmVyID0gLTE7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHdoZXJlOiBudW1iZXIsIHB1YmxpYyBzdWNjZXNzOiBib29sZWFuKSB7fVxufVxuXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBlbnVtIEFkZCB7XG4gIEZPTExPVyA9IDEsXG4gIE9QVElPTkFMLFxuICBSRVBFQVRFRCxcbiAgQUxURVJOQVRFLFxufVxuXG4vKipcbiAqIEEgY2xhc3MgdG8gYnVpbGQgYSBsaXN0IHZhbGlkYXRvciBmcm9tIG90aGVyIHZhbGlkYXRvcnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBWYWxpZGF0aW5nR3JvdXAge1xuICBub2RlczogTm9kZVtdID0gW107XG4gIGNvbm5lY3Rpb25zOiBDb25uZWN0aW9uW10gPSBbXTtcbiAgbWF0Y2g6IG51bWJlcltdID0gW107IC8vIGNvbm5lY3RvciBpbmRpY2llc1xuICBub21hdGNoOiBudW1iZXJbXSA9IFtdOyAvLyBjb25uZWN0b3IgaW5kaWNpZXNcbiAgZXJyb3I6IG51bWJlcltdID0gW107IC8vIGNvbm5lY3RvciBpbmRpY2llc1xuICBlbXB0eUhlYWQ6IGJvb2xlYW4gPSB0cnVlO1xuXG4gIGNvbm5lY3QoYXJyOiBudW1iZXJbXSwgbm9kZUluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5jb25uZWN0aW9uc1thcnJbaV1dLndoYXQgPSBub2RlSW5kZXg7XG4gICAgfVxuICAgIGFyci5zcGxpY2UoMCwgYXJyLmxlbmd0aCk7XG4gIH1cblxuICBjbG9uZSgpOiBWYWxpZGF0aW5nR3JvdXAge1xuICAgIGNvbnN0IGdyb3VwID0gbmV3IFZhbGlkYXRpbmdHcm91cCgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgbm9kZSA9IHRoaXMubm9kZXNbaV07XG4gICAgICBjb25zdCBjbG9uZWROb2RlID0gbmV3IE5vZGUobm9kZS52YWxpZGF0b3IpO1xuICAgICAgY2xvbmVkTm9kZS5jb2RlID0gbm9kZS5jb2RlO1xuICAgICAgZ3JvdXAubm9kZXMucHVzaChjbG9uZWROb2RlKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbm5lY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gdGhpcy5jb25uZWN0aW9uc1tpXTtcbiAgICAgIGNvbnN0IGdyb3VwQ29ubmVjdGlvbiA9IG5ldyBDb25uZWN0aW9uKFxuICAgICAgICBjb25uZWN0aW9uLndoZXJlLFxuICAgICAgICBjb25uZWN0aW9uLnN1Y2Nlc3MsXG4gICAgICApO1xuICAgICAgZ3JvdXBDb25uZWN0aW9uLndoYXQgPSBjb25uZWN0aW9uLndoYXQ7XG4gICAgICBncm91cC5jb25uZWN0aW9ucy5wdXNoKGdyb3VwQ29ubmVjdGlvbik7XG4gICAgfVxuICAgIGdyb3VwLm1hdGNoLnB1c2goLi4udGhpcy5tYXRjaCk7XG4gICAgZ3JvdXAubm9tYXRjaC5wdXNoKC4uLnRoaXMubm9tYXRjaCk7XG4gICAgZ3JvdXAuZXJyb3IucHVzaCguLi50aGlzLmVycm9yKTtcbiAgICByZXR1cm4gZ3JvdXA7XG4gIH1cblxuICAvKipcbiAgICogQWRkIFwic3BlY2lhbFwiIHZhbGlkYXRpb24gbm9kZSB0byBhIGdpdmVuIGFycmF5IChtYXRjaCwgbm9tYXRjaCwgb3IgZXJyb3IpLlxuICAgKiBAcGFyYW0gc3RhcnQgaWYgdGhpcyBhIHN0YXJ0IG9yIHRoZSBlbmQgb2YgYSBjbGF1c2UvZ3JvdXBcbiAgICogQHBhcmFtIGNsYXVzZSAwIGluZGljYXRlcyBncm91cCBzdGFydC9lbmQsIG90aGVyd2lzZSBjbGF1c2UgaW5kZXhcbiAgICovXG4gIHByaXZhdGUgYWRkU3BlY2lhbFRvQXJyKGFycjogbnVtYmVyW10sIHN0YXJ0OiBib29sZWFuLCBjbGF1c2U6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5ub2Rlcy5sZW5ndGg7XG4gICAgY29uc3Qgbm9kZSA9IG5ldyBOb2RlKEFMV0FZU19GQUlMKTtcbiAgICBpZiAoY2xhdXNlID49IDApIHtcbiAgICAgIGlmIChzdGFydCkge1xuICAgICAgICBub2RlLm1hcmtBc1N0YXJ0QWx0ZXJuYXRlKGNsYXVzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlLm1hcmtBc0VuZEFsdGVybmF0ZShjbGF1c2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc3RhcnQpIHtcbiAgICAgICAgbm9kZS5tYXJrQXNTdGFydEdyb3VwKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlLm1hcmtBc0VuZEdyb3VwKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubm9kZXMucHVzaChub2RlKTtcbiAgICB0aGlzLmNvbm5lY3QoYXJyLCBpbmRleCk7XG4gICAgY29uc3Qgc3VjY2VzcyA9IG5ldyBDb25uZWN0aW9uKGluZGV4LCB0cnVlKTtcbiAgICBjb25zdCBmYWlsdXJlID0gbmV3IENvbm5lY3Rpb24oaW5kZXgsIGZhbHNlKTtcbiAgICBhcnIucHVzaCh0aGlzLmNvbm5lY3Rpb25zLmxlbmd0aCk7XG4gICAgdGhpcy5jb25uZWN0aW9ucy5wdXNoKGZhaWx1cmUpO1xuICAgIGFyci5wdXNoKHRoaXMuY29ubmVjdGlvbnMubGVuZ3RoKTtcbiAgICB0aGlzLmNvbm5lY3Rpb25zLnB1c2goc3VjY2Vzcyk7XG4gIH1cblxuICBlbmRTcGVjaWFsR3JvdXAoKTogdm9pZCB7XG4gICAgY29uc3QgYXJycyA9IFt0aGlzLm1hdGNoLCB0aGlzLm5vbWF0Y2gsIHRoaXMuZXJyb3JdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJycy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5hZGRTcGVjaWFsVG9BcnIoYXJyc1tpXSwgZmFsc2UsIC0xKTtcbiAgICB9XG4gIH1cblxuICBzdGFydFNwZWNpYWxHcm91cCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5ub2Rlcy5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgY2FsbFwiKTtcbiAgICB9XG4gICAgdGhpcy5hZGRTcGVjaWFsVG9BcnIodGhpcy5tYXRjaCwgdHJ1ZSwgLTEpO1xuICB9XG5cbiAgZW5kQ2xhdXNlKGNsYXVzZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5hZGRTcGVjaWFsVG9BcnIodGhpcy5tYXRjaCwgZmFsc2UsIGNsYXVzZSk7XG4gIH1cblxuICBzdGFydENsYXVzZShjbGF1c2U6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLm5vZGVzLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBjYWxsXCIpO1xuICAgIH1cbiAgICBjb25zdCBub2RlID0gbmV3IE5vZGUoQUxXQVlTX0ZBSUwpO1xuICAgIG5vZGUubWFya0FzU3RhcnRBbHRlcm5hdGUoY2xhdXNlKTtcbiAgICB0aGlzLm5vZGVzLnB1c2gobm9kZSk7XG4gICAgY29uc3Qgc3VjY2VzcyA9IG5ldyBDb25uZWN0aW9uKDAsIHRydWUpO1xuICAgIGNvbnN0IGZhaWx1cmUgPSBuZXcgQ29ubmVjdGlvbigwLCBmYWxzZSk7XG4gICAgdGhpcy5ub21hdGNoLnB1c2godGhpcy5jb25uZWN0aW9ucy5sZW5ndGgpO1xuICAgIHRoaXMuY29ubmVjdGlvbnMucHVzaChmYWlsdXJlKTtcbiAgICB0aGlzLm1hdGNoLnB1c2godGhpcy5jb25uZWN0aW9ucy5sZW5ndGgpO1xuICAgIHRoaXMuY29ubmVjdGlvbnMucHVzaChzdWNjZXNzKTtcbiAgfVxuXG4gIGFkZFByaW1pdGl2ZSh2YWxpZGF0b3I6IFByb3BlcnR5VmFsaWRhdG9yKTogdm9pZCB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLm5vZGVzLmxlbmd0aDtcbiAgICB0aGlzLm5vZGVzLnB1c2gobmV3IE5vZGUodmFsaWRhdG9yKSk7XG4gICAgY29uc3Qgc3VjY2VzcyA9IG5ldyBDb25uZWN0aW9uKGluZGV4LCB0cnVlKTtcbiAgICBjb25zdCBmYWlsdXJlID0gbmV3IENvbm5lY3Rpb24oaW5kZXgsIGZhbHNlKTtcbiAgICB0aGlzLmNvbm5lY3QodGhpcy5tYXRjaCwgaW5kZXgpO1xuICAgIGlmICh0aGlzLmVtcHR5SGVhZCkge1xuICAgICAgLy8gaWYgZGlkIG5vdCB2YWxpZGF0ZSAtPiBubyBtYXRjaFxuICAgICAgdGhpcy5ub21hdGNoLnB1c2godGhpcy5jb25uZWN0aW9ucy5sZW5ndGgpO1xuICAgICAgdGhpcy5lbXB0eUhlYWQgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaWYgZGlkIG5vdCB2YWxpZGF0ZSAtPiBmYWlsdXJlXG4gICAgICB0aGlzLmVycm9yLnB1c2godGhpcy5jb25uZWN0aW9ucy5sZW5ndGgpO1xuICAgIH1cbiAgICB0aGlzLmNvbm5lY3Rpb25zLnB1c2goZmFpbHVyZSk7XG4gICAgdGhpcy5tYXRjaC5wdXNoKHRoaXMuY29ubmVjdGlvbnMubGVuZ3RoKTtcbiAgICB0aGlzLmNvbm5lY3Rpb25zLnB1c2goc3VjY2Vzcyk7XG4gIH1cblxuICBpc1NpbXBsZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5sZW5ndGggPT0gMSAmJiAhdGhpcy5ub2Rlc1swXS5pc1NwZWNpYWwoKTtcbiAgfVxuXG4gIGlzUHJpbWl0aXZlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmlzU2ltcGxlKCkgJiYgdGhpcy5ub2Rlc1swXS52YWxpZGF0b3IgaW5zdGFuY2VvZiBQcmltaXRpdmVWYWxpZGF0b3JcbiAgICApO1xuICB9XG5cbiAgYWRkR3JvdXAoZ3JvdXA6IFZhbGlkYXRpbmdHcm91cCwgaG93OiBBZGQpOiB2b2lkIHtcbiAgICBpZiAoZ3JvdXAubm9kZXMubGVuZ3RoID09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLm5vZGVzLmxlbmd0aDtcblxuICAgIC8vIG9wdGltaXphdGlvbiBmb3IgYWx0ZXJuYXRlIHByaW1pdGl2ZSB2YWxpZGF0b3JzXG4gICAgaWYgKFxuICAgICAgaG93ID09IEFkZC5BTFRFUk5BVEUgJiZcbiAgICAgIGluZGV4ID09IDEgJiZcbiAgICAgIGdyb3VwLmlzUHJpbWl0aXZlKCkgJiZcbiAgICAgIHRoaXMuaXNQcmltaXRpdmUoKVxuICAgICkge1xuICAgICAgdGhpcy5ub2Rlc1swXS52YWxpZGF0b3IgPSAodGhpcy5ub2Rlc1swXVxuICAgICAgICAudmFsaWRhdG9yIGFzIFByaW1pdGl2ZVZhbGlkYXRvcikuY29tYmluZShcbiAgICAgICAgZ3JvdXAubm9kZXNbMF0udmFsaWRhdG9yIGFzIFByaW1pdGl2ZVZhbGlkYXRvcixcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXAubm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMubm9kZXMucHVzaChncm91cC5ub2Rlc1tpXSk7XG4gICAgfVxuXG4gICAgLy8gbm9kZXNbaW5kZXhdIGlzIGdyb3VwIHN0YXJ0XG4gICAgaWYgKGhvdyA9PSBBZGQuQUxURVJOQVRFKSB7XG4gICAgICB0aGlzLmVtcHR5SGVhZCA9IHRydWU7XG4gICAgICB0aGlzLmNvbm5lY3QodGhpcy5ub21hdGNoLCBpbmRleCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29ubmVjdCh0aGlzLm1hdGNoLCBpbmRleCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbm5lY3Rpb25JbmRleCA9IHRoaXMuY29ubmVjdGlvbnMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXAuY29ubmVjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBncm91cC5jb25uZWN0aW9uc1tpXTtcbiAgICAgIGNvbm5lY3Rpb24ud2hlcmUgKz0gaW5kZXg7XG4gICAgICBpZiAoY29ubmVjdGlvbi53aGF0ID49IDApIHtcbiAgICAgICAgY29ubmVjdGlvbi53aGF0ICs9IGluZGV4O1xuICAgICAgfVxuICAgICAgdGhpcy5jb25uZWN0aW9ucy5wdXNoKGNvbm5lY3Rpb24pO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwLm1hdGNoLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLm1hdGNoLnB1c2goZ3JvdXAubWF0Y2hbaV0gKyBjb25uZWN0aW9uSW5kZXgpO1xuICAgIH1cbiAgICBpZiAoaG93ID09IEFkZC5SRVBFQVRFRCkge1xuICAgICAgdGhpcy5jb25uZWN0KHRoaXMubWF0Y2gsIGluZGV4KTtcbiAgICB9XG4gICAgaWYgKGhvdyA9PSBBZGQuT1BUSU9OQUwgfHwgaG93ID09IEFkZC5SRVBFQVRFRCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cC5ub21hdGNoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMubWF0Y2gucHVzaChncm91cC5ub21hdGNoW2ldICsgY29ubmVjdGlvbkluZGV4KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuZW1wdHlIZWFkKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwLm5vbWF0Y2gubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5ub21hdGNoLnB1c2goZ3JvdXAubm9tYXRjaFtpXSArIGNvbm5lY3Rpb25JbmRleCk7XG4gICAgICB9XG4gICAgICB0aGlzLmVtcHR5SGVhZCA9IGdyb3VwLmVtcHR5SGVhZDtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cC5ub21hdGNoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuZXJyb3IucHVzaChncm91cC5ub21hdGNoW2ldICsgY29ubmVjdGlvbkluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cC5lcnJvci5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5lcnJvci5wdXNoKGdyb3VwLmVycm9yW2ldICsgY29ubmVjdGlvbkluZGV4KTtcbiAgICB9XG5cbiAgICAvLyBpbnZhbGlkYXRlIGdyb3VwXG4gICAgZ3JvdXAubm9kZXMgPSBudWxsO1xuICAgIGdyb3VwLmNvbm5lY3Rpb25zID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIGhvd1xuICAgKi9cbiAgZmluaXNoKHN1Y2Nlc3NUZXJtaW5hbDogTm9kZSwgZmFpbFRlcm1pbmFsOiBOb2RlKTogTm9kZSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLm5vZGVzLmxlbmd0aDtcbiAgICB0aGlzLm5vZGVzLnB1c2goc3VjY2Vzc1Rlcm1pbmFsKTtcbiAgICB0aGlzLm5vZGVzLnB1c2goZmFpbFRlcm1pbmFsKTtcbiAgICB0aGlzLmNvbm5lY3QodGhpcy5tYXRjaCwgaW5kZXgpO1xuICAgIHRoaXMuY29ubmVjdCh0aGlzLm5vbWF0Y2gsIGluZGV4ICsgMSk7XG4gICAgdGhpcy5jb25uZWN0KHRoaXMuZXJyb3IsIGluZGV4ICsgMSk7XG4gICAgZm9yIChjb25zdCBjb25uZWN0aW9uIG9mIHRoaXMuY29ubmVjdGlvbnMpIHtcbiAgICAgIGlmIChjb25uZWN0aW9uLnN1Y2Nlc3MpIHtcbiAgICAgICAgdGhpcy5ub2Rlc1tjb25uZWN0aW9uLndoZXJlXS5zdWNjZXNzID0gdGhpcy5ub2Rlc1tjb25uZWN0aW9uLndoYXRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5ub2Rlc1tjb25uZWN0aW9uLndoZXJlXS5mYWlsdXJlID0gdGhpcy5ub2Rlc1tjb25uZWN0aW9uLndoYXRdO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIG1ha2Ugc3VyZSB0aGF0IG91ciBkYXRhIHN0cnVjdHVyZSBpcyBjb3JyZWN0XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBpbmRleDsgaisrKSB7XG4gICAgICBpZiAodGhpcy5ub2Rlc1tqXS5mYWlsdXJlID09IG51bGwgfHwgdGhpcy5ub2Rlc1tqXS5zdWNjZXNzID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWxpZGF0b3Igc3RhdGVcIik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm5vZGVzWzBdO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBBTExPV19FTVBUWSA9IDE7XG5cbmV4cG9ydCBjb25zdCBBTExPV19TVFIgPSAyO1xuXG5leHBvcnQgY29uc3QgQUxMT1dfSURFTlQgPSA0O1xuXG5leHBvcnQgY29uc3QgQUxMT1dfUE9TX05VTUVSSUMgPSA4O1xuXG5leHBvcnQgY29uc3QgQUxMT1dfUE9TX05VTSA9IDE2O1xuXG5leHBvcnQgY29uc3QgQUxMT1dfUE9TX0lOVCA9IDMyO1xuXG5leHBvcnQgY29uc3QgQUxMT1dfQ09MT1IgPSA2NDtcblxuZXhwb3J0IGNvbnN0IEFMTE9XX1VSTCA9IDEyODtcblxuZXhwb3J0IGNvbnN0IEFMTE9XX05FR0FUSVZFID0gMjU2O1xuXG5leHBvcnQgY29uc3QgQUxMT1dfWkVSTyA9IDUxMjtcblxuZXhwb3J0IGNvbnN0IEFMTE9XX1pFUk9fUEVSQ0VOVCA9IDEwMjQ7XG5cbmV4cG9ydCBjb25zdCBBTExPV19TTEFTSCA9IDIwNDg7XG5cbmV4cG9ydCB0eXBlIFZhbHVlTWFwID0ge1xuICBba2V5OiBzdHJpbmddOiBDc3MuVmFsO1xufTtcblxuLyoqXG4gKiBBYnN0cmFjdCBjbGFzcyB0byB2YWxpZGF0ZSBzaW1wbGUgQ1NTIHByb3BlcnR5IHZhbHVlIChub3QgYSBzaG9ydGhhbmQpXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eVZhbGlkYXRvciBleHRlbmRzIENzcy5WaXNpdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBhIHN1YnNlcXVlbmNlIG9mIHRoZSBnaXZlbiB2YWx1ZXMgZnJvbSB0aGUgZ2l2ZW4gaW5kZXguIFJldHVybiB0aGVcbiAgICogbGlzdCBvZiBtYXRjaGVkIHZhbHVlcyBvciBudWxsIGlmIHRoZXJlIGlzIG5vIG1hdGNoLlxuICAgKi9cbiAgdmFsaWRhdGVGb3JTaG9ydGhhbmQodmFsdWVzOiBDc3MuVmFsW10sIGluZGV4OiBudW1iZXIpOiBDc3MuVmFsW10ge1xuICAgIGNvbnN0IHJ2YWwgPSB2YWx1ZXNbaW5kZXhdLnZpc2l0KHRoaXMpO1xuICAgIGlmIChydmFsKSB7XG4gICAgICByZXR1cm4gW3J2YWxdO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIFZhbGlkYXRlIGEgcHJpbWl0aXZlIENTUyB2YWx1ZSAobm90IGEgbGlzdCBvciBmdW5jdGlvbikuXG4gKiBAcGFyYW0gYWxsb3dlZCBtYXNrIG9mIEFMTE9XXyoqKiBjb25zdGFudHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBQcmltaXRpdmVWYWxpZGF0b3IgZXh0ZW5kcyBQcm9wZXJ0eVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBhbGxvd2VkOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGlkZW50czogVmFsdWVNYXAsXG4gICAgcHVibGljIHJlYWRvbmx5IHVuaXRzOiBWYWx1ZU1hcCxcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0RW1wdHkoZW1wdHk6IENzcy5WYWwpOiBDc3MuVmFsIHtcbiAgICBpZiAodGhpcy5hbGxvd2VkICYgQUxMT1dfRU1QVFkpIHtcbiAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNsYXNoKHNsYXNoOiBDc3MuVmFsKTogQ3NzLlZhbCB7XG4gICAgaWYgKHRoaXMuYWxsb3dlZCAmIEFMTE9XX1NMQVNIKSB7XG4gICAgICByZXR1cm4gc2xhc2g7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRTdHIoc3RyOiBDc3MuU3RyKTogQ3NzLlZhbCB7XG4gICAgaWYgKHRoaXMuYWxsb3dlZCAmIEFMTE9XX1NUUikge1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdElkZW50KGlkZW50OiBDc3MuSWRlbnQpOiBDc3MuVmFsIHtcbiAgICBjb25zdCB2YWwgPSB0aGlzLmlkZW50c1tpZGVudC5uYW1lLnRvTG93ZXJDYXNlKCldO1xuICAgIGlmICh2YWwpIHtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIGlmICh0aGlzLmFsbG93ZWQgJiBBTExPV19JREVOVCkge1xuICAgICAgcmV0dXJuIGlkZW50O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0TnVtZXJpYyhudW1lcmljOiBDc3MuTnVtZXJpYyk6IENzcy5WYWwge1xuICAgIGlmIChudW1lcmljLm51bSA9PSAwICYmICEodGhpcy5hbGxvd2VkICYgQUxMT1dfWkVSTykpIHtcbiAgICAgIGlmIChudW1lcmljLnVuaXQgPT0gXCIlXCIgJiYgdGhpcy5hbGxvd2VkICYgQUxMT1dfWkVST19QRVJDRU5UKSB7XG4gICAgICAgIHJldHVybiBudW1lcmljO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChudW1lcmljLm51bSA8IDAgJiYgISh0aGlzLmFsbG93ZWQgJiBBTExPV19ORUdBVElWRSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy51bml0c1tudW1lcmljLnVuaXRdKSB7XG4gICAgICByZXR1cm4gbnVtZXJpYztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdE51bShudW06IENzcy5OdW0pOiBDc3MuVmFsIHtcbiAgICBpZiAobnVtLm51bSA9PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5hbGxvd2VkICYgQUxMT1dfWkVSTyA/IG51bSA6IG51bGw7XG4gICAgfVxuICAgIGlmIChudW0ubnVtIDw9IDAgJiYgISh0aGlzLmFsbG93ZWQgJiBBTExPV19ORUdBVElWRSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5hbGxvd2VkICYgQUxMT1dfUE9TX05VTSkge1xuICAgICAgcmV0dXJuIG51bTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEludChudW06IENzcy5JbnQpOiBDc3MuVmFsIHtcbiAgICBpZiAobnVtLm51bSA9PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5hbGxvd2VkICYgQUxMT1dfWkVSTyA/IG51bSA6IG51bGw7XG4gICAgfVxuICAgIGlmIChudW0ubnVtIDw9IDAgJiYgISh0aGlzLmFsbG93ZWQgJiBBTExPV19ORUdBVElWRSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5hbGxvd2VkICYgKEFMTE9XX1BPU19JTlQgfCBBTExPV19QT1NfTlVNKSkge1xuICAgICAgcmV0dXJuIG51bTtcbiAgICB9XG4gICAgY29uc3QgdmFsID0gdGhpcy5pZGVudHNbYCR7bnVtLm51bX1gXTtcbiAgICBpZiAodmFsKSB7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0Q29sb3IoY29sb3I6IENzcy5Db2xvcik6IENzcy5WYWwge1xuICAgIGlmICh0aGlzLmFsbG93ZWQgJiBBTExPV19DT0xPUikge1xuICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0VVJMKHVybDogQ3NzLlVSTCk6IENzcy5WYWwge1xuICAgIGlmICh0aGlzLmFsbG93ZWQgJiBBTExPV19VUkwpIHtcbiAgICAgIHJldHVybiB1cmw7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRTcGFjZUxpc3QobGlzdDogQ3NzLlNwYWNlTGlzdCk6IENzcy5WYWwge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRDb21tYUxpc3QobGlzdDogQ3NzLkNvbW1hTGlzdCk6IENzcy5WYWwge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRGdW5jKGZ1bmM6IENzcy5GdW5jKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEV4cHIoZXhwcjogQ3NzLkV4cHIpOiBDc3MuVmFsIHtcbiAgICBpZiAodGhpcy5hbGxvd2VkICYgMHg3ZmUpIHtcbiAgICAgIC8vIEFMTE9XX1NUUnxBTExPV19JREVOVHwuLi58QUxMT1dfWkVST19QRVJDRU5UXG4gICAgICByZXR1cm4gZXhwcjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb21iaW5lKG90aGVyOiBQcmltaXRpdmVWYWxpZGF0b3IpOiBQcmltaXRpdmVWYWxpZGF0b3Ige1xuICAgIGNvbnN0IGlkZW50czogVmFsdWVNYXAgPSB7fTtcbiAgICBjb25zdCB1bml0czogVmFsdWVNYXAgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGlkZW50IGluIHRoaXMuaWRlbnRzKSB7XG4gICAgICBpZGVudHNbaWRlbnRdID0gdGhpcy5pZGVudHNbaWRlbnRdO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGlkZW50IGluIG90aGVyLmlkZW50cykge1xuICAgICAgaWRlbnRzW2lkZW50XSA9IG90aGVyLmlkZW50c1tpZGVudF07XG4gICAgfVxuICAgIGZvciAoY29uc3QgdW5pdCBpbiB0aGlzLnVuaXRzKSB7XG4gICAgICB1bml0c1t1bml0XSA9IHRoaXMudW5pdHNbdW5pdF07XG4gICAgfVxuICAgIGZvciAoY29uc3QgdW5pdCBpbiBvdGhlci51bml0cykge1xuICAgICAgdW5pdHNbdW5pdF0gPSBvdGhlci51bml0c1t1bml0XTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcmltaXRpdmVWYWxpZGF0b3IodGhpcy5hbGxvd2VkIHwgb3RoZXIuYWxsb3dlZCwgaWRlbnRzLCB1bml0cyk7XG4gIH1cbn1cblxuY29uc3QgTk9fSURFTlRTID0ge307XG5cbmV4cG9ydCBjb25zdCBBTFdBWVNfRkFJTCA9IG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoMCwgTk9fSURFTlRTLCBOT19JREVOVFMpO1xuXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIGxpc3QgdmFsaWRhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIExpc3RWYWxpZGF0b3IgZXh0ZW5kcyBQcm9wZXJ0eVZhbGlkYXRvciB7XG4gIHN1Y2Nlc3NUZXJtaW5hbDogTm9kZTtcbiAgZmFpbHVyZVRlcm1pbmFsOiBOb2RlO1xuICBmaXJzdDogTm9kZTtcblxuICBjb25zdHJ1Y3Rvcihncm91cDogVmFsaWRhdGluZ0dyb3VwKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnN1Y2Nlc3NUZXJtaW5hbCA9IG5ldyBOb2RlKG51bGwpO1xuICAgIHRoaXMuZmFpbHVyZVRlcm1pbmFsID0gbmV3IE5vZGUobnVsbCk7XG4gICAgdGhpcy5maXJzdCA9IGdyb3VwLmZpbmlzaCh0aGlzLnN1Y2Nlc3NUZXJtaW5hbCwgdGhpcy5mYWlsdXJlVGVybWluYWwpO1xuICB9XG5cbiAgdmFsaWRhdGVMaXN0KGFycjogQ3NzLlZhbFtdLCBzbGljZTogYm9vbGVhbiwgc3RhcnRJbmRleDogbnVtYmVyKTogQ3NzLlZhbFtdIHtcbiAgICBsZXQgb3V0OiBDc3MuVmFsW10gPSBzbGljZSA/IFtdIDogYXJyO1xuICAgIGxldCBjdXJyZW50ID0gdGhpcy5maXJzdDtcbiAgICBsZXQgaW5kZXggPSBzdGFydEluZGV4O1xuICAgIGxldCBhbHRlcm5hdGl2ZVN0YWNrOiBzdHJpbmdbXVtdID0gbnVsbDtcbiAgICBsZXQgYWx0ZXJuYXRpdmVzOiBzdHJpbmdbXSA9IG51bGw7XG4gICAgd2hpbGUgKFxuICAgICAgY3VycmVudCAhPT0gdGhpcy5zdWNjZXNzVGVybWluYWwgJiZcbiAgICAgIGN1cnJlbnQgIT09IHRoaXMuZmFpbHVyZVRlcm1pbmFsXG4gICAgKSB7XG4gICAgICBpZiAoaW5kZXggPj0gYXJyLmxlbmd0aCkge1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5mYWlsdXJlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGludmFsID0gYXJyW2luZGV4XTtcbiAgICAgIGxldCBvdXR2YWwgPSBpbnZhbDtcbiAgICAgIGlmIChjdXJyZW50LmlzU3BlY2lhbCgpKSB7XG4gICAgICAgIGxldCBzdWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgaWYgKGN1cnJlbnQuaXNTdGFydEdyb3VwKCkpIHtcbiAgICAgICAgICBpZiAoYWx0ZXJuYXRpdmVTdGFjaykge1xuICAgICAgICAgICAgYWx0ZXJuYXRpdmVTdGFjay5wdXNoKGFsdGVybmF0aXZlcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFsdGVybmF0aXZlU3RhY2sgPSBbYWx0ZXJuYXRpdmVzXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWx0ZXJuYXRpdmVzID0gW107XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudC5pc0VuZEdyb3VwKCkpIHtcbiAgICAgICAgICBpZiAoYWx0ZXJuYXRpdmVTdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBhbHRlcm5hdGl2ZXMgPSBhbHRlcm5hdGl2ZVN0YWNrLnBvcCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbHRlcm5hdGl2ZXMgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50LmlzRW5kQWx0ZXJuYXRlKCkpIHtcbiAgICAgICAgICBhbHRlcm5hdGl2ZXNbY3VycmVudC5nZXRBbHRlcm5hdGUoKV0gPSBcInRha2VuXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3VjY2VzcyA9IGFsdGVybmF0aXZlc1tjdXJyZW50LmdldEFsdGVybmF0ZSgpXSA9PSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQgPSBzdWNjZXNzID8gY3VycmVudC5zdWNjZXNzIDogY3VycmVudC5mYWlsdXJlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGluZGV4ID09IDAgJiZcbiAgICAgICAgICAhc2xpY2UgJiZcbiAgICAgICAgICBjdXJyZW50LnZhbGlkYXRvciBpbnN0YW5jZW9mIFNwYWNlTGlzdFZhbGlkYXRvciAmJlxuICAgICAgICAgIHRoaXMgaW5zdGFuY2VvZiBTcGFjZUxpc3RWYWxpZGF0b3JcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gU3BlY2lhbCBuZXN0aW5nIGNhc2U6IHZhbGlkYXRlIHRoZSBpbnB1dCBzcGFjZSBsaXN0IGFzIGEgd2hvbGUuXG4gICAgICAgICAgb3V0dmFsID0gbmV3IENzcy5TcGFjZUxpc3QoYXJyKS52aXNpdChjdXJyZW50LnZhbGlkYXRvcik7XG4gICAgICAgICAgaWYgKG91dHZhbCkge1xuICAgICAgICAgICAgaW5kZXggPSBhcnIubGVuZ3RoO1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuc3VjY2VzcztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBpbmRleCA9PSAwICYmXG4gICAgICAgICAgIXNsaWNlICYmXG4gICAgICAgICAgY3VycmVudC52YWxpZGF0b3IgaW5zdGFuY2VvZiBDb21tYUxpc3RWYWxpZGF0b3IgJiZcbiAgICAgICAgICB0aGlzIGluc3RhbmNlb2YgU3BhY2VMaXN0VmFsaWRhdG9yXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIFNwZWNpYWwgbmVzdGluZyBjYXNlOiB2YWxpZGF0ZSB0aGUgaW5wdXQgY29tbWEgbGlzdCBhcyBhIHdob2xlLlxuICAgICAgICAgIG91dHZhbCA9IG5ldyBDc3MuQ29tbWFMaXN0KGFycikudmlzaXQoY3VycmVudC52YWxpZGF0b3IpO1xuICAgICAgICAgIGlmIChvdXR2YWwpIHtcbiAgICAgICAgICAgIGluZGV4ID0gYXJyLmxlbmd0aDtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnN1Y2Nlc3M7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0dmFsID0gaW52YWwudmlzaXQoY3VycmVudC52YWxpZGF0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3V0dmFsKSB7XG4gICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuZmFpbHVyZTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3V0dmFsICE9PSBpbnZhbCAmJiBhcnIgPT09IG91dCkge1xuICAgICAgICAgIC8vIHN0YXJ0SW5kZXggaXMgemVybyBoZXJlXG4gICAgICAgICAgb3V0ID0gW107XG4gICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBpbmRleDsgaysrKSB7XG4gICAgICAgICAgICBvdXRba10gPSBhcnJba107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChhcnIgIT09IG91dCkge1xuICAgICAgICAgIG91dFtpbmRleCAtIHN0YXJ0SW5kZXhdID0gb3V0dmFsO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4Kys7XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnN1Y2Nlc3M7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjdXJyZW50ID09PSB0aGlzLnN1Y2Nlc3NUZXJtaW5hbCkge1xuICAgICAgaWYgKHNsaWNlID8gb3V0Lmxlbmd0aCA+IDAgOiBpbmRleCA9PSBhcnIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFsaWRhdGVTaW5nbGUoaW52YWw6IENzcy5WYWwpOiBDc3MuVmFsIHtcbiAgICAvLyBubyBuZWVkIHRvIHdvcnJ5IGFib3V0IFwic3BlY2lhbHNcIlxuICAgIGxldCBvdXR2YWw6IENzcy5WYWwgPSBudWxsO1xuICAgIGxldCBjdXJyZW50ID0gdGhpcy5maXJzdDtcbiAgICB3aGlsZSAoXG4gICAgICBjdXJyZW50ICE9PSB0aGlzLnN1Y2Nlc3NUZXJtaW5hbCAmJlxuICAgICAgY3VycmVudCAhPT0gdGhpcy5mYWlsdXJlVGVybWluYWxcbiAgICApIHtcbiAgICAgIGlmICghaW52YWwpIHtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuZmFpbHVyZTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudC5pc1NwZWNpYWwoKSkge1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5zdWNjZXNzO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIG91dHZhbCA9IGludmFsLnZpc2l0KGN1cnJlbnQudmFsaWRhdG9yKTtcbiAgICAgIGlmICghb3V0dmFsKSB7XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmZhaWx1cmU7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaW52YWwgPSBudWxsO1xuICAgICAgY3VycmVudCA9IGN1cnJlbnQuc3VjY2VzcztcbiAgICB9XG4gICAgaWYgKGN1cnJlbnQgPT09IHRoaXMuc3VjY2Vzc1Rlcm1pbmFsKSB7XG4gICAgICByZXR1cm4gb3V0dmFsO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0RW1wdHkoZW1wdHk6IENzcy5WYWwpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShlbXB0eSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNsYXNoKHNsYXNoOiBDc3MuVmFsKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUoc2xhc2gpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRTdHIoc3RyOiBDc3MuU3RyKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUoc3RyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0SWRlbnQoaWRlbnQ6IENzcy5JZGVudCk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKGlkZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0TnVtZXJpYyhudW1lcmljOiBDc3MuTnVtZXJpYyk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKG51bWVyaWMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXROdW0obnVtOiBDc3MuTnVtKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUobnVtKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0SW50KG51bTogQ3NzLkludCk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKG51bSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdENvbG9yKGNvbG9yOiBDc3MuQ29sb3IpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShjb2xvcik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFVSTCh1cmw6IENzcy5VUkwpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZSh1cmwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRTcGFjZUxpc3QobGlzdDogQ3NzLlNwYWNlTGlzdCk6IENzcy5WYWwge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRDb21tYUxpc3QobGlzdDogQ3NzLkNvbW1hTGlzdCk6IENzcy5WYWwge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRGdW5jKGZ1bmM6IENzcy5GdW5jKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUoZnVuYyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEV4cHIoZXhwcjogQ3NzLkV4cHIpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3BhY2VMaXN0VmFsaWRhdG9yIGV4dGVuZHMgTGlzdFZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGdyb3VwOiBWYWxpZGF0aW5nR3JvdXApIHtcbiAgICBzdXBlcihncm91cCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBDc3MuU3BhY2VMaXN0KTogQ3NzLlZhbCB7XG4gICAgY29uc3QgYXJyID0gdGhpcy52YWxpZGF0ZUxpc3QobGlzdC52YWx1ZXMsIGZhbHNlLCAwKTtcbiAgICBpZiAoYXJyID09PSBsaXN0LnZhbHVlcykge1xuICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuICAgIGlmICghYXJyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBDc3MuU3BhY2VMaXN0KGFycik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdENvbW1hTGlzdChsaXN0OiBDc3MuQ29tbWFMaXN0KTogQ3NzLlZhbCB7XG4gICAgLy8gU3BlY2lhbCBDYXNlIDogSXNzdWUgIzE1NlxuICAgIGxldCBub2RlID0gdGhpcy5maXJzdDtcbiAgICBsZXQgaGFzQ29tbWFMaXN0VmFsaWRhdG9yID0gZmFsc2U7XG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgIGlmIChub2RlLnZhbGlkYXRvciBpbnN0YW5jZW9mIENvbW1hTGlzdFZhbGlkYXRvcikge1xuICAgICAgICBoYXNDb21tYUxpc3RWYWxpZGF0b3IgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBub2RlLmZhaWx1cmU7XG4gICAgfVxuICAgIGlmIChoYXNDb21tYUxpc3RWYWxpZGF0b3IpIHtcbiAgICAgIGNvbnN0IGFyciA9IHRoaXMudmFsaWRhdGVMaXN0KGxpc3QudmFsdWVzLCBmYWxzZSwgMCk7XG4gICAgICBpZiAoYXJyID09PSBsaXN0LnZhbHVlcykge1xuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAgIH1cbiAgICAgIGlmICghYXJyKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBDc3MuQ29tbWFMaXN0KGFycik7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmFsaWRhdGVGb3JTaG9ydGhhbmQodmFsdWVzOiBDc3MuVmFsW10sIGluZGV4OiBudW1iZXIpOiBDc3MuVmFsW10ge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlTGlzdCh2YWx1ZXMsIHRydWUsIGluZGV4KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tbWFMaXN0VmFsaWRhdG9yIGV4dGVuZHMgTGlzdFZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGdyb3VwOiBWYWxpZGF0aW5nR3JvdXApIHtcbiAgICBzdXBlcihncm91cCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBDc3MuU3BhY2VMaXN0KTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUobGlzdCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdENvbW1hTGlzdChsaXN0OiBDc3MuQ29tbWFMaXN0KTogQ3NzLlZhbCB7XG4gICAgY29uc3QgYXJyID0gdGhpcy52YWxpZGF0ZUxpc3QobGlzdC52YWx1ZXMsIGZhbHNlLCAwKTtcbiAgICBpZiAoYXJyID09PSBsaXN0LnZhbHVlcykge1xuICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuICAgIGlmICghYXJyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBDc3MuQ29tbWFMaXN0KGFycik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2YWxpZGF0ZUZvclNob3J0aGFuZCh2YWx1ZXM6IENzcy5WYWxbXSwgaW5kZXg6IG51bWJlcik6IENzcy5WYWxbXSB7XG4gICAgbGV0IGN1cnJlbnQgPSB0aGlzLmZpcnN0O1xuICAgIGxldCBydmFsOiBDc3MuVmFsW107XG4gICAgd2hpbGUgKGN1cnJlbnQgIT09IHRoaXMuZmFpbHVyZVRlcm1pbmFsKSB7XG4gICAgICBydmFsID0gY3VycmVudC52YWxpZGF0b3IudmFsaWRhdGVGb3JTaG9ydGhhbmQodmFsdWVzLCBpbmRleCk7XG4gICAgICBpZiAocnZhbCkge1xuICAgICAgICByZXR1cm4gcnZhbDtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmZhaWx1cmU7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGdW5jVmFsaWRhdG9yIGV4dGVuZHMgTGlzdFZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmcsIGdyb3VwOiBWYWxpZGF0aW5nR3JvdXApIHtcbiAgICBzdXBlcihncm91cCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2YWxpZGF0ZVNpbmdsZShpbnZhbDogQ3NzLlZhbCk6IENzcy5WYWwge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRGdW5jKGZ1bmM6IENzcy5GdW5jKTogQ3NzLlZhbCB7XG4gICAgaWYgKGZ1bmMubmFtZS50b0xvd2VyQ2FzZSgpICE9IHRoaXMubmFtZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGFyciA9IHRoaXMudmFsaWRhdGVMaXN0KGZ1bmMudmFsdWVzLCBmYWxzZSwgMCk7XG4gICAgaWYgKGFyciA9PT0gZnVuYy52YWx1ZXMpIHtcbiAgICAgIHJldHVybiBmdW5jO1xuICAgIH1cbiAgICBpZiAoIWFycikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ3NzLkZ1bmMoZnVuYy5uYW1lLCBhcnIpO1xuICB9XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gU2hvcnRoYW5kc1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjbGFzcyBTaG9ydGhhbmRTeW50YXhOb2RlIHtcbiAgLyoqXG4gICAqIEByZXR1cm4gbmV3IGluZGV4LlxuICAgKi9cbiAgdHJ5UGFyc2UoXG4gICAgdmFsdWVzOiBDc3MuVmFsW10sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBzaG9ydGhhbmRWYWxpZGF0b3I6IFNob3J0aGFuZFZhbGlkYXRvcixcbiAgKTogbnVtYmVyIHtcbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICBzdWNjZXNzKHJ2YWw6IENzcy5WYWwsIHNob3J0aGFuZFZhbGlkYXRvcjogU2hvcnRoYW5kVmFsaWRhdG9yKTogdm9pZCB7fVxufVxuXG5leHBvcnQgY2xhc3MgU2hvcnRoYW5kU3ludGF4UHJvcGVydHkgZXh0ZW5kcyBTaG9ydGhhbmRTeW50YXhOb2RlIHtcbiAgdmFsaWRhdG9yOiBQcm9wZXJ0eVZhbGlkYXRvcjtcblxuICBjb25zdHJ1Y3Rvcih2YWxpZGF0b3JTZXQ6IFZhbGlkYXRvclNldCwgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy52YWxpZGF0b3IgPSB2YWxpZGF0b3JTZXQudmFsaWRhdG9yc1t0aGlzLm5hbWVdO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdHJ5UGFyc2UoXG4gICAgdmFsdWVzOiBDc3MuVmFsW10sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBzaG9ydGhhbmRWYWxpZGF0b3I6IFNob3J0aGFuZFZhbGlkYXRvcixcbiAgKTogbnVtYmVyIHtcbiAgICBpZiAoc2hvcnRoYW5kVmFsaWRhdG9yLnZhbHVlc1t0aGlzLm5hbWVdKSB7XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICAgIGNvbnN0IHJ2YWxzID0gdGhpcy52YWxpZGF0b3IudmFsaWRhdGVGb3JTaG9ydGhhbmQodmFsdWVzLCBpbmRleCk7XG4gICAgaWYgKHJ2YWxzKSB7XG4gICAgICBjb25zdCBsZW4gPSBydmFscy5sZW5ndGg7XG4gICAgICBjb25zdCBydmFsID0gbGVuID4gMSA/IG5ldyBDc3MuU3BhY2VMaXN0KHJ2YWxzKSA6IHJ2YWxzWzBdO1xuICAgICAgdGhpcy5zdWNjZXNzKHJ2YWwsIHNob3J0aGFuZFZhbGlkYXRvcik7XG4gICAgICByZXR1cm4gaW5kZXggKyBsZW47XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN1Y2Nlc3MocnZhbDogQ3NzLlZhbCwgc2hvcnRoYW5kVmFsaWRhdG9yOiBTaG9ydGhhbmRWYWxpZGF0b3IpOiB2b2lkIHtcbiAgICBzaG9ydGhhbmRWYWxpZGF0b3IudmFsdWVzW3RoaXMubmFtZV0gPSBydmFsO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTaG9ydGhhbmRTeW50YXhQcm9wZXJ0eU4gZXh0ZW5kcyBTaG9ydGhhbmRTeW50YXhQcm9wZXJ0eSB7XG4gIGNvbnN0cnVjdG9yKHZhbGlkYXRvclNldDogVmFsaWRhdG9yU2V0LCBwdWJsaWMgcmVhZG9ubHkgbmFtZXM6IHN0cmluZ1tdKSB7XG4gICAgc3VwZXIodmFsaWRhdG9yU2V0LCBuYW1lc1swXSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdWNjZXNzKHJ2YWw6IENzcy5WYWwsIHNob3J0aGFuZFZhbGlkYXRvcjogU2hvcnRoYW5kVmFsaWRhdG9yKTogdm9pZCB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzaG9ydGhhbmRWYWxpZGF0b3IudmFsdWVzW3RoaXMubmFtZXNbaV1dID0gcnZhbDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNob3J0aGFuZFN5bnRheENvbXBvdW5kIGV4dGVuZHMgU2hvcnRoYW5kU3ludGF4Tm9kZSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBub2RlczogU2hvcnRoYW5kU3ludGF4Tm9kZVtdLFxuICAgIHB1YmxpYyByZWFkb25seSBzbGFzaDogYm9vbGVhbixcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRyeVBhcnNlKFxuICAgIHZhbHVlczogQ3NzLlZhbFtdLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgc2hvcnRoYW5kVmFsaWRhdG9yOiBTaG9ydGhhbmRWYWxpZGF0b3IsXG4gICk6IG51bWJlciB7XG4gICAgY29uc3QgaW5kZXgwID0gaW5kZXg7XG4gICAgaWYgKHRoaXMuc2xhc2gpIHtcbiAgICAgIGlmICh2YWx1ZXNbaW5kZXhdID09IENzcy5zbGFzaCkge1xuICAgICAgICBpZiAoKytpbmRleCA9PSB2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4MDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGluZGV4MDtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IG5ld0luZGV4ID0gdGhpcy5ub2Rlc1swXS50cnlQYXJzZSh2YWx1ZXMsIGluZGV4LCBzaG9ydGhhbmRWYWxpZGF0b3IpO1xuICAgIGlmIChuZXdJbmRleCA9PSBpbmRleCkge1xuICAgICAgcmV0dXJuIGluZGV4MDtcbiAgICB9XG4gICAgaW5kZXggPSBuZXdJbmRleDtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMubm9kZXMubGVuZ3RoICYmIGluZGV4IDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBuZXdJbmRleCA9IHRoaXMubm9kZXNbaV0udHJ5UGFyc2UodmFsdWVzLCBpbmRleCwgc2hvcnRoYW5kVmFsaWRhdG9yKTtcbiAgICAgIGlmIChuZXdJbmRleCA9PSBpbmRleCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGluZGV4ID0gbmV3SW5kZXg7XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2hvcnRoYW5kVmFsaWRhdG9yIGV4dGVuZHMgQ3NzLlZpc2l0b3Ige1xuICBzeW50YXg6IFNob3J0aGFuZFN5bnRheE5vZGVbXSA9IG51bGw7XG4gIHByb3BMaXN0OiBzdHJpbmdbXSA9IG51bGw7XG4gIGVycm9yOiBib29sZWFuID0gZmFsc2U7XG4gIHZhbHVlczogVmFsdWVNYXAgPSB7fTtcbiAgdmFsaWRhdG9yU2V0OiBWYWxpZGF0b3JTZXQgPSBudWxsO1xuXG4gIHNldE93bmVyKHZhbGlkYXRvclNldDogVmFsaWRhdG9yU2V0KSB7XG4gICAgdGhpcy52YWxpZGF0b3JTZXQgPSB2YWxpZGF0b3JTZXQ7XG4gIH1cblxuICBzeW50YXhOb2RlRm9yUHJvcGVydHkobmFtZTogc3RyaW5nKTogU2hvcnRoYW5kU3ludGF4Tm9kZSB7XG4gICAgcmV0dXJuIG5ldyBTaG9ydGhhbmRTeW50YXhQcm9wZXJ0eSh0aGlzLnZhbGlkYXRvclNldCwgbmFtZSk7XG4gIH1cblxuICBjbG9uZSgpOiB0aGlzIHtcbiAgICBjb25zdCBvdGhlciA9IG5ldyAodGhpcy5jb25zdHJ1Y3RvciBhcyBhbnkpKCk7XG4gICAgb3RoZXIuc3ludGF4ID0gdGhpcy5zeW50YXg7XG4gICAgb3RoZXIucHJvcExpc3QgPSB0aGlzLnByb3BMaXN0O1xuICAgIG90aGVyLnZhbGlkYXRvclNldCA9IHRoaXMudmFsaWRhdG9yU2V0O1xuICAgIHJldHVybiBvdGhlcjtcbiAgfVxuXG4gIGluaXQoc3ludGF4OiBTaG9ydGhhbmRTeW50YXhOb2RlW10sIHByb3BMaXN0OiBzdHJpbmdbXSk6IHZvaWQge1xuICAgIHRoaXMuc3ludGF4ID0gc3ludGF4O1xuICAgIHRoaXMucHJvcExpc3QgPSBwcm9wTGlzdDtcbiAgfVxuXG4gIGZpbmlzaChpbXBvcnRhbnQ6IGJvb2xlYW4sIHJlY2VpdmVyOiBQcm9wZXJ0eVJlY2VpdmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmVycm9yKSB7XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgdGhpcy5wcm9wTGlzdCkge1xuICAgICAgICByZWNlaXZlci5zaW1wbGVQcm9wZXJ0eShcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIHRoaXMudmFsdWVzW25hbWVdIHx8IHRoaXMudmFsaWRhdG9yU2V0LmRlZmF1bHRWYWx1ZXNbbmFtZV0sXG4gICAgICAgICAgaW1wb3J0YW50LFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByb3BhZ2F0ZUluaGVyaXQoaW1wb3J0YW50OiBib29sZWFuLCByZWNlaXZlcjogUHJvcGVydHlSZWNlaXZlcik6IHZvaWQge1xuICAgIGZvciAoY29uc3QgbmFtZSBvZiB0aGlzLnByb3BMaXN0KSB7XG4gICAgICByZWNlaXZlci5zaW1wbGVQcm9wZXJ0eShuYW1lLCBDc3MuaWRlbnQuaW5oZXJpdCwgaW1wb3J0YW50KTtcbiAgICB9XG4gIH1cblxuICB2YWxpZGF0ZUxpc3QobGlzdDogQ3NzLlZhbFtdKTogbnVtYmVyIHtcbiAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHZhbGlkYXRlU2luZ2xlKHZhbDogQ3NzLlZhbCk6IENzcy5WYWwge1xuICAgIHRoaXMudmFsaWRhdGVMaXN0KFt2YWxdKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0RW1wdHkoZW1wdHk6IENzcy5WYWwpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShlbXB0eSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFN0cihzdHI6IENzcy5TdHIpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShzdHIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRJZGVudChpZGVudDogQ3NzLklkZW50KTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUoaWRlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXROdW1lcmljKG51bWVyaWM6IENzcy5OdW1lcmljKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUobnVtZXJpYyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdE51bShudW06IENzcy5OdW0pOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShudW0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRJbnQobnVtOiBDc3MuSW50KTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUobnVtKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0Q29sb3IoY29sb3I6IENzcy5Db2xvcik6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKGNvbG9yKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0VVJMKHVybDogQ3NzLlVSTCk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKHVybCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBDc3MuU3BhY2VMaXN0KTogQ3NzLlZhbCB7XG4gICAgdGhpcy52YWxpZGF0ZUxpc3QobGlzdC52YWx1ZXMpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRDb21tYUxpc3QobGlzdDogQ3NzLkNvbW1hTGlzdCk6IENzcy5WYWwge1xuICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRGdW5jKGZ1bmM6IENzcy5GdW5jKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUoZnVuYyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEV4cHIoZXhwcjogQ3NzLkV4cHIpOiBDc3MuVmFsIHtcbiAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2ltcGxlU2hvcnRoYW5kVmFsaWRhdG9yIGV4dGVuZHMgU2hvcnRoYW5kVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZhbGlkYXRlTGlzdChsaXN0OiBDc3MuVmFsW10pOiBudW1iZXIge1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgbGV0IGkgPSAwO1xuICAgIHdoaWxlIChpbmRleCA8IGxpc3QubGVuZ3RoKSB7XG4gICAgICBjb25zdCBuZXdJbmRleCA9IHRoaXMuc3ludGF4W2ldLnRyeVBhcnNlKGxpc3QsIGluZGV4LCB0aGlzKTtcbiAgICAgIGlmIChuZXdJbmRleCA+IGluZGV4KSB7XG4gICAgICAgIGluZGV4ID0gbmV3SW5kZXg7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICgrK2kgPT0gdGhpcy5zeW50YXgubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbnNldHNTaG9ydGhhbmRWYWxpZGF0b3IgZXh0ZW5kcyBTaG9ydGhhbmRWYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmFsaWRhdGVMaXN0KGxpc3Q6IENzcy5WYWxbXSk6IG51bWJlciB7XG4gICAgaWYgKGxpc3QubGVuZ3RoID4gdGhpcy5zeW50YXgubGVuZ3RoIHx8IGxpc3QubGVuZ3RoID09IDApIHtcbiAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zeW50YXgubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBpbmRleCA9IGk7XG4gICAgICB3aGlsZSAoaW5kZXggPj0gbGlzdC5sZW5ndGgpIHtcbiAgICAgICAgaW5kZXggPSBpbmRleCA9PSAxID8gMCA6IGluZGV4IC0gMjtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN5bnRheFtpXS50cnlQYXJzZShsaXN0LCBpbmRleCwgdGhpcykgIT0gaW5kZXggKyAxKSB7XG4gICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxpc3QubGVuZ3RoO1xuICB9XG5cbiAgY3JlYXRlU3ludGF4Tm9kZSgpOiBTaG9ydGhhbmRTeW50YXhQcm9wZXJ0eU4ge1xuICAgIHJldHVybiBuZXcgU2hvcnRoYW5kU3ludGF4UHJvcGVydHlOKHRoaXMudmFsaWRhdG9yU2V0LCB0aGlzLnByb3BMaXN0KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSW5zZXRzU2xhc2hTaG9ydGhhbmRWYWxpZGF0b3IgZXh0ZW5kcyBTaG9ydGhhbmRWYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmFsaWRhdGVMaXN0KGxpc3Q6IENzcy5WYWxbXSk6IG51bWJlciB7XG4gICAgbGV0IHNsYXNoSW5kZXggPSBsaXN0Lmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0W2ldID09PSBDc3Muc2xhc2gpIHtcbiAgICAgICAgc2xhc2hJbmRleCA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2xhc2hJbmRleCA+IHRoaXMuc3ludGF4Lmxlbmd0aCB8fCBsaXN0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3ludGF4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgaW5kZXgwID0gaTtcbiAgICAgIHdoaWxlIChpbmRleDAgPj0gc2xhc2hJbmRleCkge1xuICAgICAgICBpbmRleDAgPSBpbmRleDAgPT0gMSA/IDAgOiBpbmRleDAgLSAyO1xuICAgICAgfVxuICAgICAgbGV0IGluZGV4MTogbnVtYmVyO1xuICAgICAgaWYgKHNsYXNoSW5kZXggKyAxIDwgbGlzdC5sZW5ndGgpIHtcbiAgICAgICAgaW5kZXgxID0gc2xhc2hJbmRleCArIGkgKyAxO1xuICAgICAgICB3aGlsZSAoaW5kZXgxID49IGxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgaW5kZXgxID0gaW5kZXgxIC0gKGluZGV4MSA9PSBzbGFzaEluZGV4ICsgMiA/IDEgOiAyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5kZXgxID0gaW5kZXgwO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFscyA9IFtsaXN0W2luZGV4MF0sIGxpc3RbaW5kZXgxXV07XG4gICAgICBpZiAodGhpcy5zeW50YXhbaV0udHJ5UGFyc2UodmFscywgMCwgdGhpcykgIT0gMikge1xuICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaXN0Lmxlbmd0aDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tbWFTaG9ydGhhbmRWYWxpZGF0b3IgZXh0ZW5kcyBTaW1wbGVTaG9ydGhhbmRWYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgbWVyZ2VJbihhY2M6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbFtdIH0sIHZhbHVlczogVmFsdWVNYXApIHtcbiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgdGhpcy5wcm9wTGlzdCkge1xuICAgICAgY29uc3QgdmFsID0gdmFsdWVzW25hbWVdIHx8IHRoaXMudmFsaWRhdG9yU2V0LmRlZmF1bHRWYWx1ZXNbbmFtZV07XG4gICAgICBsZXQgYXJyID0gYWNjW25hbWVdO1xuICAgICAgaWYgKCFhcnIpIHtcbiAgICAgICAgYXJyID0gW107XG4gICAgICAgIGFjY1tuYW1lXSA9IGFycjtcbiAgICAgIH1cbiAgICAgIGFyci5wdXNoKHZhbCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRDb21tYUxpc3QobGlzdDogQ3NzLkNvbW1hTGlzdCk6IENzcy5WYWwge1xuICAgIGNvbnN0IGFjYzogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsW10gfSA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC52YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMudmFsdWVzID0ge307XG4gICAgICBpZiAobGlzdC52YWx1ZXNbaV0gaW5zdGFuY2VvZiBDc3MuQ29tbWFMaXN0KSB7XG4gICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGlzdC52YWx1ZXNbaV0udmlzaXQodGhpcyk7XG4gICAgICAgIHRoaXMubWVyZ2VJbihhY2MsIHRoaXMudmFsdWVzKTtcbiAgICAgICAgaWYgKHRoaXMudmFsdWVzW1wiYmFja2dyb3VuZC1jb2xvclwiXSAmJiBpICE9IGxpc3QudmFsdWVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMudmFsdWVzID0ge307XG4gICAgZm9yIChjb25zdCBuYW1lIGluIGFjYykge1xuICAgICAgaWYgKG5hbWUgPT0gXCJiYWNrZ3JvdW5kLWNvbG9yXCIpIHtcbiAgICAgICAgdGhpcy52YWx1ZXNbbmFtZV0gPSBhY2NbbmFtZV0ucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnZhbHVlc1tuYW1lXSA9IG5ldyBDc3MuQ29tbWFMaXN0KGFjY1tuYW1lXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGb250U2hvcnRoYW5kVmFsaWRhdG9yIGV4dGVuZHMgU2ltcGxlU2hvcnRoYW5kVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGluaXQoc3ludGF4OiBTaG9ydGhhbmRTeW50YXhOb2RlW10sIHByb3BMaXN0OiBzdHJpbmdbXSk6IHZvaWQge1xuICAgIHN1cGVyLmluaXQoc3ludGF4LCBwcm9wTGlzdCk7XG4gICAgdGhpcy5wcm9wTGlzdC5wdXNoKFwiZm9udC1mYW1pbHlcIiwgXCJsaW5lLWhlaWdodFwiLCBcImZvbnQtc2l6ZVwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZhbGlkYXRlTGlzdChsaXN0OiBDc3MuVmFsW10pOiBudW1iZXIge1xuICAgIGxldCBpbmRleCA9IHN1cGVyLnZhbGlkYXRlTGlzdChsaXN0KTtcblxuICAgIC8vIG11c3QgYXQgbGVhc3QgaGF2ZSBmb250LXNpemUgYW5kIGZvbnQtZmFtaWx5IGF0IHRoZSBlbmRcbiAgICBpZiAoaW5kZXggKyAyID4gbGlzdC5sZW5ndGgpIHtcbiAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgICB0aGlzLmVycm9yID0gZmFsc2U7XG4gICAgY29uc3QgdmFsaWRhdG9ycyA9IHRoaXMudmFsaWRhdG9yU2V0LnZhbGlkYXRvcnM7XG4gICAgaWYgKCFsaXN0W2luZGV4XS52aXNpdCh2YWxpZGF0b3JzW1wiZm9udC1zaXplXCJdKSkge1xuICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICAgIHRoaXMudmFsdWVzW1wiZm9udC1zaXplXCJdID0gbGlzdFtpbmRleCsrXTtcbiAgICBpZiAobGlzdFtpbmRleF0gPT09IENzcy5zbGFzaCkge1xuICAgICAgaW5kZXgrKztcblxuICAgICAgLy8gbXVzdCBhdCBsZWFzdCBoYXZlIGxpbmUtaGVpZ2h0IGFuZCBmb250LWZhbWlseSBhdCB0aGUgZW5kXG4gICAgICBpZiAoaW5kZXggKyAyID4gbGlzdC5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICAgIGlmICghbGlzdFtpbmRleF0udmlzaXQodmFsaWRhdG9yc1tcImxpbmUtaGVpZ2h0XCJdKSkge1xuICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgICAgdGhpcy52YWx1ZXNbXCJsaW5lLWhlaWdodFwiXSA9IGxpc3RbaW5kZXgrK107XG4gICAgfVxuICAgIGNvbnN0IGZvbnRGYW1pbHkgPVxuICAgICAgaW5kZXggPT0gbGlzdC5sZW5ndGggLSAxXG4gICAgICAgID8gbGlzdFtpbmRleF1cbiAgICAgICAgOiBuZXcgQ3NzLlNwYWNlTGlzdChsaXN0LnNsaWNlKGluZGV4LCBsaXN0Lmxlbmd0aCkpO1xuICAgIGlmICghZm9udEZhbWlseS52aXNpdCh2YWxpZGF0b3JzW1wiZm9udC1mYW1pbHlcIl0pKSB7XG4gICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gICAgdGhpcy52YWx1ZXNbXCJmb250LWZhbWlseVwiXSA9IGZvbnRGYW1pbHk7XG4gICAgcmV0dXJuIGxpc3QubGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRDb21tYUxpc3QobGlzdDogQ3NzLkNvbW1hTGlzdCk6IENzcy5WYWwge1xuICAgIGxpc3QudmFsdWVzWzBdLnZpc2l0KHRoaXMpO1xuICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgZmFtaWx5TGlzdCA9IFt0aGlzLnZhbHVlc1tcImZvbnQtZmFtaWx5XCJdXTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxpc3QudmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmYW1pbHlMaXN0LnB1c2gobGlzdC52YWx1ZXNbaV0pO1xuICAgIH1cbiAgICBjb25zdCBmYW1pbHkgPSBuZXcgQ3NzLkNvbW1hTGlzdChmYW1pbHlMaXN0KTtcbiAgICBpZiAoIWZhbWlseS52aXNpdCh0aGlzLnZhbGlkYXRvclNldC52YWxpZGF0b3JzW1wiZm9udC1mYW1pbHlcIl0pKSB7XG4gICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy52YWx1ZXNbXCJmb250LWZhbWlseVwiXSA9IGZhbWlseTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdElkZW50KGlkZW50OiBDc3MuSWRlbnQpOiBDc3MuVmFsIHtcbiAgICBjb25zdCBwcm9wcyA9IHRoaXMudmFsaWRhdG9yU2V0LnN5c3RlbUZvbnRzW2lkZW50Lm5hbWVdO1xuICAgIGlmIChwcm9wcykge1xuICAgICAgZm9yIChjb25zdCBuYW1lIGluIHByb3BzKSB7XG4gICAgICAgIHRoaXMudmFsdWVzW25hbWVdID0gcHJvcHNbbmFtZV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgY29uc3Qgc2hvcnRoYW5kVmFsaWRhdG9yczoge1xuICBba2V5OiBzdHJpbmddOiB0eXBlb2YgU2hvcnRoYW5kVmFsaWRhdG9yO1xufSA9IHtcbiAgU0lNUExFOiBTaW1wbGVTaG9ydGhhbmRWYWxpZGF0b3IsXG4gIElOU0VUUzogSW5zZXRzU2hvcnRoYW5kVmFsaWRhdG9yLFxuICBJTlNFVFNfU0xBU0g6IEluc2V0c1NsYXNoU2hvcnRoYW5kVmFsaWRhdG9yLFxuICBDT01NQTogQ29tbWFTaG9ydGhhbmRWYWxpZGF0b3IsXG4gIEZPTlQ6IEZvbnRTaG9ydGhhbmRWYWxpZGF0b3IsXG59O1xuXG4vLy0tLS0gdmFsaWRhdGlvbiBncmFtbWFyIHBhcnNlciBhbmQgcHVibGljIHByb3BlcnR5IHZhbGlkYXRvclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4gKiBPYmplY3QgdGhhdCB2YWxpZGF0ZXMgc2ltcGxlIGFuZCBzaG9ydGhhbmQgcHJvcGVydGllcywgYnJlYWtpbmcgdXAgc2hvcnRoYW5kXG4gKiBwcm9wZXJ0aWVzIGludG8gY29ycmVzcG9uZGluZyBzaW1wbGUgb25lcywgYWxzbyBzdHJpcHBpbmcgcHJvcGVydHkgcHJlZml4ZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBWYWxpZGF0b3JTZXQge1xuICB2YWxpZGF0b3JzOiB7IFtrZXk6IHN0cmluZ106IFByb3BlcnR5VmFsaWRhdG9yIH0gPSB7fTtcbiAgcHJlZml4ZXM6IHsgW2tleTogc3RyaW5nXTogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gfSA9IHt9O1xuICBkZWZhdWx0VmFsdWVzOiBWYWx1ZU1hcCA9IHt9O1xuICBuYW1lZFZhbGlkYXRvcnM6IHsgW2tleTogc3RyaW5nXTogVmFsaWRhdGluZ0dyb3VwIH0gPSB7fTtcbiAgc3lzdGVtRm9udHM6IHsgW2tleTogc3RyaW5nXTogVmFsdWVNYXAgfSA9IHt9O1xuICBzaG9ydGhhbmRzOiB7IFtrZXk6IHN0cmluZ106IFNob3J0aGFuZFZhbGlkYXRvciB9ID0ge307XG4gIGxheW91dFByb3BzOiBWYWx1ZU1hcCA9IHt9O1xuICBiYWNrZ3JvdW5kUHJvcHM6IFZhbHVlTWFwID0ge307XG5cbiAgcHJpdmF0ZSBhZGRSZXBsYWNlbWVudChcbiAgICB2YWw6IFZhbGlkYXRpbmdHcm91cCxcbiAgICB0b2tlbjogQ3NzVG9rZW5pemVyLlRva2VuLFxuICApOiBWYWxpZGF0aW5nR3JvdXAge1xuICAgIGxldCBjc3N2YWw6IENzcy5WYWw7XG4gICAgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU1FUklDKSB7XG4gICAgICBjc3N2YWwgPSBuZXcgQ3NzLk51bWVyaWModG9rZW4ubnVtLCB0b2tlbi50ZXh0KTtcbiAgICB9IGVsc2UgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5IQVNIKSB7XG4gICAgICBjc3N2YWwgPSBDc3NQYXJzZXIuY29sb3JGcm9tSGFzaCh0b2tlbi50ZXh0KTtcbiAgICB9IGVsc2UgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVCkge1xuICAgICAgY3NzdmFsID0gQ3NzLmdldE5hbWUodG9rZW4udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInVuZXhwZWN0ZWQgcmVwbGFjZW1lbnRcIik7XG4gICAgfVxuICAgIGlmICh2YWwuaXNQcmltaXRpdmUoKSkge1xuICAgICAgY29uc3QgdmFsaWRhdG9yID0gdmFsLm5vZGVzWzBdLnZhbGlkYXRvciBhcyBQcmltaXRpdmVWYWxpZGF0b3I7XG4gICAgICBjb25zdCBpZGVudHMgPSB2YWxpZGF0b3IuaWRlbnRzO1xuICAgICAgZm9yIChjb25zdCBpZGVudCBpbiBpZGVudHMpIHtcbiAgICAgICAgaWRlbnRzW2lkZW50XSA9IGNzc3ZhbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcInVuZXhwZWN0ZWQgcmVwbGFjZW1lbnRcIik7XG4gIH1cblxuICBwcml2YXRlIG5ld0dyb3VwKG9wOiBzdHJpbmcsIHZhbHM6IFZhbGlkYXRpbmdHcm91cFtdKTogVmFsaWRhdGluZ0dyb3VwIHtcbiAgICBjb25zdCBncm91cCA9IG5ldyBWYWxpZGF0aW5nR3JvdXAoKTtcbiAgICBpZiAob3AgPT0gXCJ8fFwiKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc3ViZ3JvdXAgPSBuZXcgVmFsaWRhdGluZ0dyb3VwKCk7XG4gICAgICAgIHN1Ymdyb3VwLnN0YXJ0Q2xhdXNlKGkpO1xuICAgICAgICBzdWJncm91cC5hZGRHcm91cCh2YWxzW2ldLCBBZGQuRk9MTE9XKTtcbiAgICAgICAgc3ViZ3JvdXAuZW5kQ2xhdXNlKGkpO1xuICAgICAgICBncm91cC5hZGRHcm91cChzdWJncm91cCwgaSA9PSAwID8gQWRkLkZPTExPVyA6IEFkZC5BTFRFUk5BVEUpO1xuICAgICAgfVxuICAgICAgY29uc3Qgb3V0ZXIgPSBuZXcgVmFsaWRhdGluZ0dyb3VwKCk7XG4gICAgICBvdXRlci5zdGFydFNwZWNpYWxHcm91cCgpO1xuICAgICAgb3V0ZXIuYWRkR3JvdXAoZ3JvdXAsIEFkZC5SRVBFQVRFRCk7XG4gICAgICBvdXRlci5lbmRTcGVjaWFsR3JvdXAoKTtcbiAgICAgIHJldHVybiBvdXRlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGhvdzogQWRkO1xuICAgICAgc3dpdGNoIChvcCkge1xuICAgICAgICBjYXNlIFwiIFwiOlxuICAgICAgICAgIGhvdyA9IEFkZC5GT0xMT1c7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ8XCI6XG4gICAgICAgIGNhc2UgXCJ8fFwiOlxuICAgICAgICAgIGhvdyA9IEFkZC5BTFRFUk5BVEU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5leHBlY3RlZCBvcFwiKTtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBncm91cC5hZGRHcm91cCh2YWxzW2ldLCBpID09IDAgPyBBZGQuRk9MTE9XIDogaG93KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFkZENvdW50cyhcbiAgICB2YWw6IFZhbGlkYXRpbmdHcm91cCxcbiAgICBtaW46IG51bWJlcixcbiAgICBtYXg6IG51bWJlcixcbiAgKTogVmFsaWRhdGluZ0dyb3VwIHtcbiAgICBjb25zdCBncm91cCA9IG5ldyBWYWxpZGF0aW5nR3JvdXAoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1pbjsgaSsrKSB7XG4gICAgICBncm91cC5hZGRHcm91cCh2YWwuY2xvbmUoKSwgQWRkLkZPTExPVyk7XG4gICAgfVxuICAgIGlmIChtYXggPT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSB7XG4gICAgICBncm91cC5hZGRHcm91cCh2YWwsIEFkZC5SRVBFQVRFRCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGkgPSBtaW47IGkgPCBtYXg7IGkrKykge1xuICAgICAgICBncm91cC5hZGRHcm91cCh2YWwuY2xvbmUoKSwgQWRkLk9QVElPTkFMKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGdyb3VwO1xuICB9XG5cbiAgcHJpdmF0ZSBwcmltaXRpdmUodmFsaWRhdG9yOiBQcm9wZXJ0eVZhbGlkYXRvcik6IFZhbGlkYXRpbmdHcm91cCB7XG4gICAgY29uc3QgZ3JvdXAgPSBuZXcgVmFsaWRhdGluZ0dyb3VwKCk7XG4gICAgZ3JvdXAuYWRkUHJpbWl0aXZlKHZhbGlkYXRvcik7XG4gICAgcmV0dXJuIGdyb3VwO1xuICB9XG5cbiAgcHJpdmF0ZSBuZXdGdW5jKGZuOiBzdHJpbmcsIHZhbDogVmFsaWRhdGluZ0dyb3VwKTogVmFsaWRhdGluZ0dyb3VwIHtcbiAgICBsZXQgdmFsaWRhdG9yOiBQcm9wZXJ0eVZhbGlkYXRvcjtcbiAgICBzd2l0Y2ggKGZuKSB7XG4gICAgICBjYXNlIFwiQ09NTUFcIjpcbiAgICAgICAgdmFsaWRhdG9yID0gbmV3IENvbW1hTGlzdFZhbGlkYXRvcih2YWwpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJTUEFDRVwiOlxuICAgICAgICB2YWxpZGF0b3IgPSBuZXcgU3BhY2VMaXN0VmFsaWRhdG9yKHZhbCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdmFsaWRhdG9yID0gbmV3IEZ1bmNWYWxpZGF0b3IoZm4udG9Mb3dlckNhc2UoKSwgdmFsKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnByaW1pdGl2ZSh2YWxpZGF0b3IpO1xuICB9XG5cbiAgaW5pdEJ1aWx0SW5WYWxpZGF0b3JzKCk6IHZvaWQge1xuICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW1wiSEFTSENPTE9SXCJdID0gdGhpcy5wcmltaXRpdmUoXG4gICAgICBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKEFMTE9XX0NPTE9SLCBOT19JREVOVFMsIE5PX0lERU5UUyksXG4gICAgKTtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIlBPU19JTlRcIl0gPSB0aGlzLnByaW1pdGl2ZShcbiAgICAgIG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoQUxMT1dfUE9TX0lOVCwgTk9fSURFTlRTLCBOT19JREVOVFMpLFxuICAgICk7XG4gICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbXCJQT1NfTlVNXCJdID0gdGhpcy5wcmltaXRpdmUoXG4gICAgICBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKEFMTE9XX1BPU19OVU0sIE5PX0lERU5UUywgTk9fSURFTlRTKSxcbiAgICApO1xuICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW1wiUE9TX1BFUkNFTlRBR0VcIl0gPSB0aGlzLnByaW1pdGl2ZShcbiAgICAgIG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoQUxMT1dfUE9TX05VTUVSSUMsIE5PX0lERU5UUywgeyBcIiVcIjogQ3NzLmVtcHR5IH0pLFxuICAgICk7XG4gICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbXCJORUdBVElWRVwiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19ORUdBVElWRSwgTk9fSURFTlRTLCBOT19JREVOVFMpLFxuICAgICk7XG4gICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbXCJaRVJPXCJdID0gdGhpcy5wcmltaXRpdmUoXG4gICAgICBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKEFMTE9XX1pFUk8sIE5PX0lERU5UUywgTk9fSURFTlRTKSxcbiAgICApO1xuICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW1wiWkVST19QRVJDRU5UQUdFXCJdID0gdGhpcy5wcmltaXRpdmUoXG4gICAgICBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKEFMTE9XX1pFUk9fUEVSQ0VOVCwgTk9fSURFTlRTLCBOT19JREVOVFMpLFxuICAgICk7XG4gICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbXCJQT1NfTEVOR1RIXCJdID0gdGhpcy5wcmltaXRpdmUoXG4gICAgICBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKEFMTE9XX1BPU19OVU1FUklDLCBOT19JREVOVFMsIHtcbiAgICAgICAgZW06IENzcy5lbXB0eSxcbiAgICAgICAgZXg6IENzcy5lbXB0eSxcbiAgICAgICAgY2g6IENzcy5lbXB0eSxcbiAgICAgICAgcmVtOiBDc3MuZW1wdHksXG4gICAgICAgIHZ3OiBDc3MuZW1wdHksXG4gICAgICAgIHZoOiBDc3MuZW1wdHksXG4gICAgICAgIHZpOiBDc3MuZW1wdHksXG4gICAgICAgIHZiOiBDc3MuZW1wdHksXG4gICAgICAgIHZtaW46IENzcy5lbXB0eSxcbiAgICAgICAgdm1heDogQ3NzLmVtcHR5LFxuICAgICAgICBwdnc6IENzcy5lbXB0eSxcbiAgICAgICAgcHZoOiBDc3MuZW1wdHksXG4gICAgICAgIHB2aTogQ3NzLmVtcHR5LFxuICAgICAgICBwdmI6IENzcy5lbXB0eSxcbiAgICAgICAgcHZtaW46IENzcy5lbXB0eSxcbiAgICAgICAgcHZtYXg6IENzcy5lbXB0eSxcbiAgICAgICAgY206IENzcy5lbXB0eSxcbiAgICAgICAgbW06IENzcy5lbXB0eSxcbiAgICAgICAgaW46IENzcy5lbXB0eSxcbiAgICAgICAgcHg6IENzcy5lbXB0eSxcbiAgICAgICAgcHQ6IENzcy5lbXB0eSxcbiAgICAgICAgcGM6IENzcy5lbXB0eSxcbiAgICAgICAgcTogQ3NzLmVtcHR5LFxuICAgICAgfSksXG4gICAgKTtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIlBPU19BTkdMRVwiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19QT1NfTlVNRVJJQywgTk9fSURFTlRTLCB7XG4gICAgICAgIGRlZzogQ3NzLmVtcHR5LFxuICAgICAgICBncmFkOiBDc3MuZW1wdHksXG4gICAgICAgIHJhZDogQ3NzLmVtcHR5LFxuICAgICAgICB0dXJuOiBDc3MuZW1wdHksXG4gICAgICB9KSxcbiAgICApO1xuICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW1wiUE9TX1RJTUVcIl0gPSB0aGlzLnByaW1pdGl2ZShcbiAgICAgIG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoQUxMT1dfUE9TX05VTUVSSUMsIE5PX0lERU5UUywge1xuICAgICAgICBzOiBDc3MuZW1wdHksXG4gICAgICAgIG1zOiBDc3MuZW1wdHksXG4gICAgICB9KSxcbiAgICApO1xuICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW1wiRlJFUVVFTkNZXCJdID0gdGhpcy5wcmltaXRpdmUoXG4gICAgICBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKEFMTE9XX1BPU19OVU1FUklDLCBOT19JREVOVFMsIHtcbiAgICAgICAgSHo6IENzcy5lbXB0eSxcbiAgICAgICAga0h6OiBDc3MuZW1wdHksXG4gICAgICB9KSxcbiAgICApO1xuICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW1wiUkVTT0xVVElPTlwiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19QT1NfTlVNRVJJQywgTk9fSURFTlRTLCB7XG4gICAgICAgIGRwaTogQ3NzLmVtcHR5LFxuICAgICAgICBkcGNtOiBDc3MuZW1wdHksXG4gICAgICAgIGRwcHg6IENzcy5lbXB0eSxcbiAgICAgIH0pLFxuICAgICk7XG4gICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbXCJVUklcIl0gPSB0aGlzLnByaW1pdGl2ZShcbiAgICAgIG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoQUxMT1dfVVJMLCBOT19JREVOVFMsIE5PX0lERU5UUyksXG4gICAgKTtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIklERU5UXCJdID0gdGhpcy5wcmltaXRpdmUoXG4gICAgICBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKEFMTE9XX0lERU5ULCBOT19JREVOVFMsIE5PX0lERU5UUyksXG4gICAgKTtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIlNUUklOR1wiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19TVFIsIE5PX0lERU5UUywgTk9fSURFTlRTKSxcbiAgICApO1xuICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW1wiU0xBU0hcIl0gPSB0aGlzLnByaW1pdGl2ZShcbiAgICAgIG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoQUxMT1dfU0xBU0gsIE5PX0lERU5UUywgTk9fSURFTlRTKSxcbiAgICApO1xuICAgIGNvbnN0IHN0ZGZvbnQgPSB7IFwiZm9udC1mYW1pbHlcIjogQ3NzLmdldE5hbWUoXCJzYW5zLXNlcmlmXCIpIH07XG4gICAgdGhpcy5zeXN0ZW1Gb250c1tcImNhcHRpb25cIl0gPSBzdGRmb250O1xuICAgIHRoaXMuc3lzdGVtRm9udHNbXCJpY29uXCJdID0gc3RkZm9udDtcbiAgICB0aGlzLnN5c3RlbUZvbnRzW1wibWVudVwiXSA9IHN0ZGZvbnQ7XG4gICAgdGhpcy5zeXN0ZW1Gb250c1tcIm1lc3NhZ2UtYm94XCJdID0gc3RkZm9udDtcbiAgICB0aGlzLnN5c3RlbUZvbnRzW1wic21hbGwtY2FwdGlvblwiXSA9IHN0ZGZvbnQ7XG4gICAgdGhpcy5zeXN0ZW1Gb250c1tcInN0YXR1cy1iYXJcIl0gPSBzdGRmb250O1xuICB9XG5cbiAgcHJpdmF0ZSBpc0J1aWx0SW4obmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhbmFtZS5tYXRjaCgvXltBLVpfMC05XSskLyk7XG4gIH1cblxuICBwcml2YXRlIHJlYWROYW1lQW5kUHJlZml4ZXMoXG4gICAgdG9rOiBDc3NUb2tlbml6ZXIuVG9rZW5pemVyLFxuICAgIHNlY3Rpb246IG51bWJlcixcbiAgKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgbGV0IHRva2VuID0gdG9rLnRva2VuKCk7XG4gICAgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FT0YpIHtcbiAgICAgIC8vIEZpbmlzaGVkIG5vcm1hbGx5XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcnVsZVByZWZpeGVzOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHsgXCJcIjogdHJ1ZSB9O1xuICAgIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUkspIHtcbiAgICAgIGRvIHtcbiAgICAgICAgdG9rLmNvbnN1bWUoKTtcbiAgICAgICAgdG9rZW4gPSB0b2sudG9rZW4oKTtcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlByZWZpeCBuYW1lIGV4cGVjdGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJ1bGVQcmVmaXhlc1t0b2tlbi50ZXh0XSA9IHRydWU7XG4gICAgICAgIHRvay5jb25zdW1lKCk7XG4gICAgICAgIHRva2VuID0gdG9rLnRva2VuKCk7XG4gICAgICB9IHdoaWxlICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09NTUEpO1xuICAgICAgaWYgKHRva2VuLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSSykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCInXScgZXhwZWN0ZWRcIik7XG4gICAgICB9XG4gICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgdG9rZW4gPSB0b2sudG9rZW4oKTtcbiAgICB9XG4gICAgaWYgKHRva2VuLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvcGVydHkgbmFtZSBleHBlY3RlZFwiKTtcbiAgICB9XG4gICAgaWYgKHNlY3Rpb24gPT0gMiA/IHRva2VuLnRleHQgPT0gXCJTSE9SVEhBTkRTXCIgOiB0b2tlbi50ZXh0ID09IFwiREVGQVVMVFNcIikge1xuICAgICAgdG9rLmNvbnN1bWUoKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBuYW1lID0gdG9rZW4udGV4dDtcbiAgICB0b2suY29uc3VtZSgpO1xuICAgIGlmIChzZWN0aW9uICE9IDIpIHtcbiAgICAgIGlmICh0b2sudG9rZW4oKS50eXBlICE9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuRVEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJz0nIGV4cGVjdGVkXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLmlzQnVpbHRJbihuYW1lKSkge1xuICAgICAgICB0aGlzLnByZWZpeGVzW25hbWVdID0gcnVsZVByZWZpeGVzO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodG9rLnRva2VuKCkudHlwZSAhPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTE9OKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIic6JyBleHBlY3RlZFwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5hbWU7XG4gIH1cblxuICBwcml2YXRlIHBhcnNlVmFsaWRhdG9ycyh0b2s6IENzc1Rva2VuaXplci5Ub2tlbml6ZXIpOiB2b2lkIHtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgY29uc3QgcnVsZU5hbWUgPSB0aGlzLnJlYWROYW1lQW5kUHJlZml4ZXModG9rLCAxKTtcbiAgICAgIGlmICghcnVsZU5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IHZhbHM6IFZhbGlkYXRpbmdHcm91cFtdID0gW107XG4gICAgICBjb25zdCBzdGFjayA9IFtdO1xuICAgICAgbGV0IG9wID0gXCJcIjtcbiAgICAgIGxldCB2YWw6IFZhbGlkYXRpbmdHcm91cDtcbiAgICAgIGxldCBleHBlY3R2YWwgPSB0cnVlO1xuICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICBjb25zdCByZWR1Y2UgPSAoKTogVmFsaWRhdGluZ0dyb3VwID0+IHtcbiAgICAgICAgaWYgKHZhbHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB2YWx1ZXNcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICByZXR1cm4gdmFsc1swXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZi5uZXdHcm91cChvcCwgdmFscyk7XG4gICAgICB9O1xuICAgICAgY29uc3Qgc2V0b3AgPSAoY3Vycm9wOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgICAgaWYgKGV4cGVjdHZhbCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJyR7Y3Vycm9wfSc6IHVuZXhwZWN0ZWRgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3AgJiYgb3AgIT0gY3Vycm9wKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtaXhlZCBvcGVyYXRvcnM6ICcke2N1cnJvcH0nIGFuZCAnJHtvcH0nYCk7XG4gICAgICAgIH1cbiAgICAgICAgb3AgPSBjdXJyb3A7XG4gICAgICAgIGV4cGVjdHZhbCA9IHRydWU7XG4gICAgICB9O1xuICAgICAgbGV0IHJlc3VsdDogVmFsaWRhdGluZ0dyb3VwID0gbnVsbDtcbiAgICAgIHdoaWxlICghcmVzdWx0KSB7XG4gICAgICAgIHRvay5jb25zdW1lKCk7XG4gICAgICAgIGxldCB0b2tlbiA9IHRvay50b2tlbigpO1xuICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQ6XG4gICAgICAgICAgICBpZiAoIWV4cGVjdHZhbCkge1xuICAgICAgICAgICAgICBzZXRvcChcIiBcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pc0J1aWx0SW4odG9rZW4udGV4dCkpIHtcbiAgICAgICAgICAgICAgY29uc3QgYnVpbHRJbiA9IHRoaXMubmFtZWRWYWxpZGF0b3JzW3Rva2VuLnRleHRdO1xuICAgICAgICAgICAgICBpZiAoIWJ1aWx0SW4pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCcke3Rva2VuLnRleHR9JyB1bmV4cGVjdGVkYCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFscy5wdXNoKGJ1aWx0SW4uY2xvbmUoKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCBpZGVudHMgPSB7fTtcbiAgICAgICAgICAgICAgaWRlbnRzW3Rva2VuLnRleHQudG9Mb3dlckNhc2UoKV0gPSBDc3MuZ2V0TmFtZSh0b2tlbi50ZXh0KTtcbiAgICAgICAgICAgICAgdmFscy5wdXNoKFxuICAgICAgICAgICAgICAgIHRoaXMucHJpbWl0aXZlKG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoMCwgaWRlbnRzLCBOT19JREVOVFMpKSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4cGVjdHZhbCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklOVDoge1xuICAgICAgICAgICAgY29uc3QgaWRlbnRzID0ge307XG4gICAgICAgICAgICBpZGVudHNbYCR7dG9rZW4ubnVtfWBdID0gbmV3IENzcy5JbnQodG9rZW4ubnVtKTtcbiAgICAgICAgICAgIHZhbHMucHVzaChcbiAgICAgICAgICAgICAgdGhpcy5wcmltaXRpdmUobmV3IFByaW1pdGl2ZVZhbGlkYXRvcigwLCBpZGVudHMsIE5PX0lERU5UUykpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGV4cGVjdHZhbCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5CQVI6XG4gICAgICAgICAgICBzZXRvcChcInxcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuQkFSX0JBUjpcbiAgICAgICAgICAgIHNldG9wKFwifHxcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUks6XG4gICAgICAgICAgICBpZiAoIWV4cGVjdHZhbCkge1xuICAgICAgICAgICAgICBzZXRvcChcIiBcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGFjay5wdXNoKHsgdmFscywgb3AsIGI6IFwiW1wiIH0pO1xuICAgICAgICAgICAgb3AgPSBcIlwiO1xuICAgICAgICAgICAgdmFscyA9IFtdO1xuICAgICAgICAgICAgZXhwZWN0dmFsID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5GVU5DOlxuICAgICAgICAgICAgaWYgKCFleHBlY3R2YWwpIHtcbiAgICAgICAgICAgICAgc2V0b3AoXCIgXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhY2sucHVzaCh7IHZhbHMsIG9wLCBiOiBcIihcIiwgZm46IHRva2VuLnRleHQgfSk7XG4gICAgICAgICAgICBvcCA9IFwiXCI7XG4gICAgICAgICAgICB2YWxzID0gW107XG4gICAgICAgICAgICBleHBlY3R2YWwgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfQlJLOiB7XG4gICAgICAgICAgICB2YWwgPSByZWR1Y2UoKTtcbiAgICAgICAgICAgIGNvbnN0IG9wZW4gPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGlmIChvcGVuLmIgIT0gXCJbXCIpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJ10nIHVuZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWxzID0gb3Blbi52YWxzO1xuICAgICAgICAgICAgdmFscy5wdXNoKHZhbCk7XG4gICAgICAgICAgICBvcCA9IG9wZW4ub3A7XG4gICAgICAgICAgICBleHBlY3R2YWwgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVI6IHtcbiAgICAgICAgICAgIHZhbCA9IHJlZHVjZSgpO1xuICAgICAgICAgICAgY29uc3Qgb3BlbiA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgaWYgKG9wZW4uYiAhPSBcIihcIikge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCInKScgdW5leHBlY3RlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHMgPSBvcGVuLnZhbHM7XG4gICAgICAgICAgICB2YWxzLnB1c2godGhpcy5uZXdGdW5jKG9wZW4uZm4sIHZhbCkpO1xuICAgICAgICAgICAgb3AgPSBvcGVuLm9wO1xuICAgICAgICAgICAgZXhwZWN0dmFsID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTE9OOlxuICAgICAgICAgICAgaWYgKGV4cGVjdHZhbCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCInOicgdW5leHBlY3RlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvay5jb25zdW1lKCk7XG4gICAgICAgICAgICB2YWxzLnB1c2godGhpcy5hZGRSZXBsYWNlbWVudCh2YWxzLnBvcCgpLCB0b2sudG9rZW4oKSkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlFNQVJLOlxuICAgICAgICAgICAgaWYgKGV4cGVjdHZhbCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCInPycgdW5leHBlY3RlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHMucHVzaCh0aGlzLmFkZENvdW50cyh2YWxzLnBvcCgpLCAwLCAxKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RBUjpcbiAgICAgICAgICAgIGlmIChleHBlY3R2YWwpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJyonIHVuZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWxzLnB1c2godGhpcy5hZGRDb3VudHModmFscy5wb3AoKSwgMCwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuUExVUzpcbiAgICAgICAgICAgIGlmIChleHBlY3R2YWwpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJysnIHVuZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWxzLnB1c2godGhpcy5hZGRDb3VudHModmFscy5wb3AoKSwgMSwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUkM6IHtcbiAgICAgICAgICAgIHRvay5jb25zdW1lKCk7XG4gICAgICAgICAgICB0b2tlbiA9IHRvay50b2tlbigpO1xuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlQpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiPGludD4gZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtaW4gPSB0b2tlbi5udW07XG4gICAgICAgICAgICBsZXQgbWF4ID0gbWluO1xuICAgICAgICAgICAgdG9rLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIHRva2VuID0gdG9rLnRva2VuKCk7XG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTU1BKSB7XG4gICAgICAgICAgICAgIHRvay5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIHRva2VuID0gdG9rLnRva2VuKCk7XG4gICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlICE9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSU5UKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiPGludD4gZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbWF4ID0gdG9rZW4ubnVtO1xuICAgICAgICAgICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgICAgICAgICB0b2tlbiA9IHRvay50b2tlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSQykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCInfScgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWxzLnB1c2godGhpcy5hZGRDb3VudHModmFscy5wb3AoKSwgbWluLCBtYXgpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU0VNSUNPTDpcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlZHVjZSgpO1xuICAgICAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmNsb3NlZCAnJHtzdGFjay5wb3AoKS5ifSdgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmV4cGVjdGVkIHRva2VuXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgaWYgKHRoaXMuaXNCdWlsdEluKHJ1bGVOYW1lKSkge1xuICAgICAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tydWxlTmFtZV0gPSByZXN1bHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocmVzdWx0LmlzU2ltcGxlKCkpIHtcbiAgICAgICAgICB0aGlzLnZhbGlkYXRvcnNbcnVsZU5hbWVdID0gcmVzdWx0Lm5vZGVzWzBdLnZhbGlkYXRvcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnZhbGlkYXRvcnNbcnVsZU5hbWVdID0gbmV3IFNwYWNlTGlzdFZhbGlkYXRvcihyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZURlZmF1bHRzKHRvazogQ3NzVG9rZW5pemVyLlRva2VuaXplcik6IHZvaWQge1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCBwcm9wTmFtZSA9IHRoaXMucmVhZE5hbWVBbmRQcmVmaXhlcyh0b2ssIDIpO1xuICAgICAgaWYgKCFwcm9wTmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWxzOiBDc3MuVmFsW10gPSBbXTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHRvay5jb25zdW1lKCk7XG4gICAgICAgIGNvbnN0IHRva2VuID0gdG9rLnRva2VuKCk7XG4gICAgICAgIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuU0VNSUNPTCkge1xuICAgICAgICAgIHRvay5jb25zdW1lKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UOlxuICAgICAgICAgICAgdmFscy5wdXNoKENzcy5nZXROYW1lKHRva2VuLnRleHQpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU06XG4gICAgICAgICAgICB2YWxzLnB1c2gobmV3IENzcy5OdW0odG9rZW4ubnVtKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSU5UOlxuICAgICAgICAgICAgdmFscy5wdXNoKG5ldyBDc3MuSW50KHRva2VuLm51bSkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk5VTUVSSUM6XG4gICAgICAgICAgICB2YWxzLnB1c2gobmV3IENzcy5OdW1lcmljKHRva2VuLm51bSwgdG9rZW4udGV4dCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInVuZXhwZWN0ZWQgdG9rZW5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuZGVmYXVsdFZhbHVlc1twcm9wTmFtZV0gPVxuICAgICAgICB2YWxzLmxlbmd0aCA+IDEgPyBuZXcgQ3NzLlNwYWNlTGlzdCh2YWxzKSA6IHZhbHNbMF07XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZVNob3J0aGFuZHModG9rOiBDc3NUb2tlbml6ZXIuVG9rZW5pemVyKTogdm9pZCB7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IHJ1bGVOYW1lID0gdGhpcy5yZWFkTmFtZUFuZFByZWZpeGVzKHRvaywgMyk7XG4gICAgICBpZiAoIXJ1bGVOYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCB0b2tlbiA9IHRvay5udGhUb2tlbigxKTtcbiAgICAgIGxldCBzaG9ydGhhbmRWYWxpZGF0b3I6IFNob3J0aGFuZFZhbGlkYXRvcjtcbiAgICAgIGlmIChcbiAgICAgICAgdG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UICYmXG4gICAgICAgIHNob3J0aGFuZFZhbGlkYXRvcnNbdG9rZW4udGV4dF1cbiAgICAgICkge1xuICAgICAgICBzaG9ydGhhbmRWYWxpZGF0b3IgPSBuZXcgc2hvcnRoYW5kVmFsaWRhdG9yc1t0b2tlbi50ZXh0XSgpO1xuICAgICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2hvcnRoYW5kVmFsaWRhdG9yID0gbmV3IFNpbXBsZVNob3J0aGFuZFZhbGlkYXRvcigpO1xuICAgICAgfVxuICAgICAgc2hvcnRoYW5kVmFsaWRhdG9yLnNldE93bmVyKHRoaXMpO1xuICAgICAgbGV0IHJlc3VsdCA9IGZhbHNlO1xuICAgICAgbGV0IHN5bnRheDogU2hvcnRoYW5kU3ludGF4Tm9kZVtdID0gW107XG4gICAgICBsZXQgc2xhc2ggPSBmYWxzZTtcbiAgICAgIGNvbnN0IHN0YWNrID0gW107XG4gICAgICBjb25zdCBwcm9wTGlzdCA9IFtdO1xuICAgICAgd2hpbGUgKCFyZXN1bHQpIHtcbiAgICAgICAgdG9rLmNvbnN1bWUoKTtcbiAgICAgICAgdG9rZW4gPSB0b2sudG9rZW4oKTtcbiAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UOlxuICAgICAgICAgICAgaWYgKHRoaXMudmFsaWRhdG9yc1t0b2tlbi50ZXh0XSkge1xuICAgICAgICAgICAgICBzeW50YXgucHVzaChzaG9ydGhhbmRWYWxpZGF0b3Iuc3ludGF4Tm9kZUZvclByb3BlcnR5KHRva2VuLnRleHQpKTtcbiAgICAgICAgICAgICAgcHJvcExpc3QucHVzaCh0b2tlbi50ZXh0KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgIHRoaXMuc2hvcnRoYW5kc1t0b2tlbi50ZXh0XSBpbnN0YW5jZW9mIEluc2V0c1Nob3J0aGFuZFZhbGlkYXRvclxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGluc2V0U2hvcnRoYW5kID0gdGhpcy5zaG9ydGhhbmRzW1xuICAgICAgICAgICAgICAgIHRva2VuLnRleHRcbiAgICAgICAgICAgICAgXSBhcyBJbnNldHNTaG9ydGhhbmRWYWxpZGF0b3I7XG4gICAgICAgICAgICAgIHN5bnRheC5wdXNoKGluc2V0U2hvcnRoYW5kLmNyZWF0ZVN5bnRheE5vZGUoKSk7XG4gICAgICAgICAgICAgIHByb3BMaXN0LnB1c2goLi4uaW5zZXRTaG9ydGhhbmQucHJvcExpc3QpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIGAnJHt0b2tlbi50ZXh0fScgaXMgbmVpdGhlciBhIHNpbXBsZSBwcm9wZXJ0eSBub3IgYW4gaW5zZXQgc2hvcnRoYW5kYCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TTEFTSDpcbiAgICAgICAgICAgIGlmIChzeW50YXgubGVuZ3RoID4gMCB8fCBzbGFzaCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmV4cGVjdGVkIHNsYXNoXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2xhc2ggPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJLOlxuICAgICAgICAgICAgc3RhY2sucHVzaCh7IHNsYXNoLCBzeW50YXggfSk7XG4gICAgICAgICAgICBzeW50YXggPSBbXTtcbiAgICAgICAgICAgIHNsYXNoID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19CUks6IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvdW5kID0gbmV3IFNob3J0aGFuZFN5bnRheENvbXBvdW5kKHN5bnRheCwgc2xhc2gpO1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3ludGF4ID0gaXRlbS5zeW50YXg7XG4gICAgICAgICAgICBzbGFzaCA9IGl0ZW0uc2xhc2g7XG4gICAgICAgICAgICBzeW50YXgucHVzaChjb21wb3VuZCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNFTUlDT0w6XG4gICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgdG9rLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmV4cGVjdGVkIHRva2VuXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzaG9ydGhhbmRWYWxpZGF0b3IuaW5pdChzeW50YXgsIHByb3BMaXN0KTtcbiAgICAgIHRoaXMuc2hvcnRoYW5kc1tydWxlTmFtZV0gPSBzaG9ydGhhbmRWYWxpZGF0b3I7XG4gICAgfVxuICB9XG5cbiAgcGFyc2UodGV4dDogc3RyaW5nKTogdm9pZCB7XG4gICAgLy8gTm90IGFzIHJvYnVzdCBhcyBDU1MgcGFyc2VyLlxuICAgIGNvbnN0IHRvayA9IG5ldyBDc3NUb2tlbml6ZXIuVG9rZW5pemVyKHRleHQsIG51bGwpO1xuICAgIHRoaXMucGFyc2VWYWxpZGF0b3JzKHRvayk7XG4gICAgdGhpcy5wYXJzZURlZmF1bHRzKHRvayk7XG4gICAgdGhpcy5wYXJzZVNob3J0aGFuZHModG9rKTtcbiAgICB0aGlzLmJhY2tncm91bmRQcm9wcyA9IHRoaXMubWFrZVByb3BTZXQoW1wiYmFja2dyb3VuZFwiXSk7XG4gICAgdGhpcy5sYXlvdXRQcm9wcyA9IHRoaXMubWFrZVByb3BTZXQoW1xuICAgICAgXCJtYXJnaW5cIixcbiAgICAgIFwiYm9yZGVyXCIsXG4gICAgICBcInBhZGRpbmdcIixcbiAgICAgIFwiY29sdW1uc1wiLFxuICAgICAgXCJjb2x1bW4tZ2FwXCIsXG4gICAgICBcImNvbHVtbi1ydWxlXCIsXG4gICAgICBcImNvbHVtbi1maWxsXCIsXG4gICAgXSk7XG4gIH1cblxuICBtYWtlUHJvcFNldChwcm9wTGlzdDogc3RyaW5nW10pOiBWYWx1ZU1hcCB7XG4gICAgY29uc3QgbWFwOiBWYWx1ZU1hcCA9IHt9O1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBwcm9wTGlzdCkge1xuICAgICAgY29uc3Qgc2hvcnRoYW5kID0gdGhpcy5zaG9ydGhhbmRzW3Byb3BdO1xuICAgICAgY29uc3QgbGlzdCA9IHNob3J0aGFuZCA/IHNob3J0aGFuZC5wcm9wTGlzdCA6IFtwcm9wXTtcbiAgICAgIGZvciAoY29uc3QgcG5hbWUgb2YgbGlzdCkge1xuICAgICAgICBjb25zdCBwdmFsID0gdGhpcy5kZWZhdWx0VmFsdWVzW3BuYW1lXTtcbiAgICAgICAgaWYgKCFwdmFsKSB7XG4gICAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihcIlVua25vd24gcHJvcGVydHkgaW4gbWFrZVByb3BTZXQ6XCIsIHBuYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXBbcG5hbWVdID0gcHZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWFwO1xuICB9XG5cbiAgdmFsaWRhdGVQcm9wZXJ0eUFuZEhhbmRsZVNob3J0aGFuZChcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgdmFsdWU6IENzcy5WYWwsXG4gICAgaW1wb3J0YW50OiBib29sZWFuLFxuICAgIHJlY2VpdmVyOiBQcm9wZXJ0eVJlY2VpdmVyLFxuICApOiB2b2lkIHtcbiAgICBsZXQgcHJlZml4ID0gXCJcIjtcbiAgICBjb25zdCBvcmlnTmFtZSA9IG5hbWU7XG4gICAgbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCByID0gbmFtZS5tYXRjaCgvXi0oW2Etel0rKS0oWy1hLXowLTldKykkLyk7XG4gICAgaWYgKHIpIHtcbiAgICAgIHByZWZpeCA9IHJbMV07XG4gICAgICBuYW1lID0gclsyXTtcbiAgICB9XG4gICAgY29uc3QgcHggPSB0aGlzLnByZWZpeGVzW25hbWVdO1xuICAgIGlmICghcHggfHwgIXB4W3ByZWZpeF0pIHtcbiAgICAgIHJlY2VpdmVyLnVua25vd25Qcm9wZXJ0eShvcmlnTmFtZSwgdmFsdWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB2YWxpZGF0b3IgPSB0aGlzLnZhbGlkYXRvcnNbbmFtZV07XG4gICAgaWYgKHZhbGlkYXRvcikge1xuICAgICAgY29uc3QgcnZhbHVlID1cbiAgICAgICAgdmFsdWUgPT09IENzcy5pZGVudC5pbmhlcml0IHx8IHZhbHVlLmlzRXhwcigpXG4gICAgICAgICAgPyB2YWx1ZVxuICAgICAgICAgIDogdmFsdWUudmlzaXQodmFsaWRhdG9yKTtcbiAgICAgIGlmIChydmFsdWUpIHtcbiAgICAgICAgcmVjZWl2ZXIuc2ltcGxlUHJvcGVydHkobmFtZSwgcnZhbHVlLCBpbXBvcnRhbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVjZWl2ZXIuaW52YWxpZFByb3BlcnR5VmFsdWUob3JpZ05hbWUsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc2hvcnRoYW5kID0gdGhpcy5zaG9ydGhhbmRzW25hbWVdLmNsb25lKCk7XG4gICAgICBpZiAodmFsdWUgPT09IENzcy5pZGVudC5pbmhlcml0KSB7XG4gICAgICAgIHNob3J0aGFuZC5wcm9wYWdhdGVJbmhlcml0KGltcG9ydGFudCwgcmVjZWl2ZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUudmlzaXQoc2hvcnRoYW5kKTtcbiAgICAgICAgaWYgKCFzaG9ydGhhbmQuZmluaXNoKGltcG9ydGFudCwgcmVjZWl2ZXIpKSB7XG4gICAgICAgICAgcmVjZWl2ZXIuaW52YWxpZFByb3BlcnR5VmFsdWUob3JpZ05hbWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYmFzZVZhbGlkYXRvclNldCgpOiBWYWxpZGF0b3JTZXQge1xuICBjb25zdCB2YWxpZGF0b3JTZXQgPSBuZXcgVmFsaWRhdG9yU2V0KCk7XG4gIHZhbGlkYXRvclNldC5pbml0QnVpbHRJblZhbGlkYXRvcnMoKTtcbiAgdmFsaWRhdG9yU2V0LnBhcnNlKFZhbGlkYXRpb25UeHQpO1xuICByZXR1cm4gdmFsaWRhdG9yU2V0O1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBGb250IC0gRGVhbCB3aXRoIGVtYmVkZGVkIGZvbnRzLlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIENzc0Nhc2NhZGUgZnJvbSBcIi4vY3NzLWNhc2NhZGVcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuL2xvZ2dpbmdcIjtcbmltcG9ydCAqIGFzIE5ldCBmcm9tIFwiLi9uZXRcIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0ICogYXMgVGFza1V0aWwgZnJvbSBcIi4vdGFzay11dGlsXCI7XG5cbmV4cG9ydCBjb25zdCB0cmFpdFByb3BzOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSA9IHtcbiAgXCJmb250LXN0eWxlXCI6IENzcy5pZGVudC5ub3JtYWwsXG4gIFwiZm9udC12YXJpYW50XCI6IENzcy5pZGVudC5ub3JtYWwsXG4gIFwiZm9udC13ZWlnaHRcIjogQ3NzLmlkZW50Lm5vcm1hbCxcbn07XG5cbmV4cG9ydCBjb25zdCBib2d1c0ZvbnREYXRhID0gYE9UVE8ke25ldyBEYXRlKCkudmFsdWVPZigpfWA7XG5cbmV4cG9ydCBsZXQgYm9ndXNGb250Q291bnRlcjogbnVtYmVyID0gMTtcblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VGb250VHJhaXRLZXkocHJvcGVydGllczoge1xuICBba2V5OiBzdHJpbmddOiBDc3MuVmFsO1xufSk6IHN0cmluZyB7XG4gIGNvbnN0IHNiID0gbmV3IEJhc2UuU3RyaW5nQnVmZmVyKCk7XG4gIGZvciAoY29uc3QgcHJvcCBpbiB0cmFpdFByb3BzKSB7XG4gICAgc2IuYXBwZW5kKFwiIFwiKTtcbiAgICBzYi5hcHBlbmQocHJvcGVydGllc1twcm9wXS50b1N0cmluZygpKTtcbiAgfVxuICByZXR1cm4gc2IudG9TdHJpbmcoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbGxEZWZhdWx0cyhwcm9wZXJ0aWVzOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSk6IHZvaWQge1xuICBmb3IgKGNvbnN0IHByb3AgaW4gdHJhaXRQcm9wcykge1xuICAgIGlmICghcHJvcGVydGllc1twcm9wXSkge1xuICAgICAgcHJvcGVydGllc1twcm9wXSA9IHRyYWl0UHJvcHNbcHJvcF07XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlUHJvcGVydGllcyhcbiAgcHJvcGVydGllczogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4pOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSB7XG4gIGNvbnN0IHJlc3VsdCA9IHt9IGFzIHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9O1xuICBmb3IgKGNvbnN0IHByb3AgaW4gcHJvcGVydGllcykge1xuICAgIHJlc3VsdFtwcm9wXSA9IENzc0Nhc2NhZGUuZ2V0UHJvcChwcm9wZXJ0aWVzLCBwcm9wKS5ldmFsdWF0ZShjb250ZXh0LCBwcm9wKTtcbiAgfVxuICBmaWxsRGVmYXVsdHMocmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBIGZvbnQgZGVjbGFyZWQgaW4gYSBmb250LWZhY2UgcnVsZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEZhY2Uge1xuICBmb250VHJhaXRLZXk6IHN0cmluZztcbiAgc3JjOiBzdHJpbmcgfCBudWxsO1xuICBibG9iVVJMczogc3RyaW5nW10gPSBbXTtcbiAgYmxvYnM6IEJsb2JbXSA9IFtdO1xuICBmYW1pbHk6IHN0cmluZyB8IG51bGw7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHByb3BlcnRpZXM6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9KSB7XG4gICAgdGhpcy5mb250VHJhaXRLZXkgPSBtYWtlRm9udFRyYWl0S2V5KHRoaXMucHJvcGVydGllcyk7XG4gICAgdGhpcy5zcmMgPSB0aGlzLnByb3BlcnRpZXNbXCJzcmNcIl1cbiAgICAgID8gdGhpcy5wcm9wZXJ0aWVzW1wic3JjXCJdLnRvU3RyaW5nKClcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBmYW1pbHkgPSB0aGlzLnByb3BlcnRpZXNbXCJmb250LWZhbWlseVwiXTtcbiAgICB0aGlzLmZhbWlseSA9IGZhbWlseSA/IGZhbWlseS5zdHJpbmdWYWx1ZSgpIDogbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBmb250IHRyYWl0cyBhcmUgdGhlIHNhbWUgZm9yIHR3byBmb250IGZhY2VzXG4gICAqL1xuICB0cmFpdHNFcXVhbChvdGhlcjogRmFjZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmZvbnRUcmFpdEtleSA9PSBvdGhlci5mb250VHJhaXRLZXk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIFwiYXRcIiBmb250LWZhY2UgcnVsZS5cbiAgICovXG4gIG1ha2VBdFJ1bGUoc3JjOiBzdHJpbmcsIGZvbnRCeXRlczogQmxvYik6IHN0cmluZyB7XG4gICAgY29uc3Qgc2IgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgICBzYi5hcHBlbmQoXCJAZm9udC1mYWNlIHtcXG4gIGZvbnQtZmFtaWx5OiBcIik7XG4gICAgc2IuYXBwZW5kKHRoaXMuZmFtaWx5IGFzIHN0cmluZyk7XG4gICAgc2IuYXBwZW5kKFwiO1xcbiAgXCIpO1xuICAgIGZvciAoY29uc3QgcHJvcCBpbiB0cmFpdFByb3BzKSB7XG4gICAgICBzYi5hcHBlbmQocHJvcCk7XG4gICAgICBzYi5hcHBlbmQoXCI6IFwiKTtcbiAgICAgIHRoaXMucHJvcGVydGllc1twcm9wXS5hcHBlbmRUbyhzYiwgdHJ1ZSk7XG4gICAgICBzYi5hcHBlbmQoXCI7XFxuICBcIik7XG4gICAgfVxuICAgIGlmIChmb250Qnl0ZXMpIHtcbiAgICAgIHNiLmFwcGVuZCgnc3JjOiB1cmwoXCInKTtcbiAgICAgIGNvbnN0IGJsb2JVUkwgPSBOZXQuY3JlYXRlT2JqZWN0VVJMKGZvbnRCeXRlcyk7XG4gICAgICBzYi5hcHBlbmQoYmxvYlVSTCk7XG4gICAgICB0aGlzLmJsb2JVUkxzLnB1c2goYmxvYlVSTCk7XG4gICAgICB0aGlzLmJsb2JzLnB1c2goZm9udEJ5dGVzKTtcbiAgICAgIHNiLmFwcGVuZCgnXCIpJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNiLmFwcGVuZChcInNyYzogXCIpO1xuICAgICAgc2IuYXBwZW5kKHNyYyk7XG4gICAgfVxuICAgIHNiLmFwcGVuZChcIjtcXG59XFxuXCIpO1xuICAgIHJldHVybiBzYi50b1N0cmluZygpO1xuICB9XG59XG5cbi8qKlxuICogU2V0IG9mIHRoZSBmb250cyBkZWNsYXJlZCBpbiBhbGwgc3R5bGVzaGVldHMgb2YgYSBkb2N1bWVudC5cbiAqIEBwYXJhbSBkZW9iZnVzY2F0b3IgZnVuY3Rpb25cbiAqICAgICB0aGF0IHRha2VzIHVybCBhbmQgcmV0dXJucyBkYXRhIGRlb2JmdXNjYXRvclxuICovXG5leHBvcnQgY2xhc3MgRG9jdW1lbnRGYWNlcyB7XG4gIC8qKlxuICAgKiBNYXBzIHNvdXJjZSBmb250IGZhbWlseSBuYW1lcyB0byB0aGUgZmFtaWx5IG5hbWVzIHVzZWQgaW4gdGhlIEhUTUwgdmlldy5cbiAgICovXG4gIGZhbWlseU1hcCA9IHt9IGFzIHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGRlb2JmdXNjYXRvcjpcbiAgICAgIHwgKChwMTogc3RyaW5nKSA9PiAoKHAxOiBCbG9iKSA9PiBUYXNrLlJlc3VsdDxCbG9iPikgfCBudWxsKVxuICAgICAgfCBudWxsLFxuICApIHt9XG5cbiAgcmVnaXN0ZXJGYW1pbHkoc3JjRmFjZTogRmFjZSwgdmlld0ZhY2U6IEZhY2UpOiB2b2lkIHtcbiAgICBjb25zdCBzcmNGYW1pbHkgPSBzcmNGYWNlLmZhbWlseSBhcyBzdHJpbmc7XG4gICAgY29uc3Qgdmlld0ZhbWlseUZyb21TcmMgPSB0aGlzLmZhbWlseU1hcFtzcmNGYW1pbHldO1xuICAgIGNvbnN0IHZpZXdGYW1pbHlGcm9tVmlldyA9IHZpZXdGYWNlLmZhbWlseTtcbiAgICBpZiAodmlld0ZhbWlseUZyb21TcmMpIHtcbiAgICAgIGlmICh2aWV3RmFtaWx5RnJvbVNyYyAhPSB2aWV3RmFtaWx5RnJvbVZpZXcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFX0ZPTlRfRkFNSUxZX0lOQ09OU0lTVEVOVCAke3NyY0ZhY2UuZmFtaWx5fWApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZhbWlseU1hcFtzcmNGYW1pbHldID0gdmlld0ZhbWlseUZyb21WaWV3IGFzIHN0cmluZztcbiAgICB9XG4gIH1cblxuICBmaWx0ZXJGb250RmFtaWx5KHZhbDogQ3NzLlZhbCk6IENzcy5WYWwge1xuICAgIGlmICh2YWwgaW5zdGFuY2VvZiBDc3MuQ29tbWFMaXN0KSB7XG4gICAgICBjb25zdCBsaXN0ID0gKHZhbCBhcyBDc3MuQ29tbWFMaXN0KS52YWx1ZXM7XG4gICAgICBjb25zdCBuZXdWYWx1ZXMgPSBbXSBhcyBDc3MuVmFsW107XG4gICAgICBmb3IgKGNvbnN0IHYgb2YgbGlzdCkge1xuICAgICAgICBjb25zdCByID0gdGhpcy5mYW1pbHlNYXBbdi5zdHJpbmdWYWx1ZSgpXTtcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICBuZXdWYWx1ZXMucHVzaChDc3MuZ2V0TmFtZShyKSk7XG4gICAgICAgIH1cbiAgICAgICAgbmV3VmFsdWVzLnB1c2godik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IENzcy5Db21tYUxpc3QobmV3VmFsdWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmYgPSB0aGlzLmZhbWlseU1hcFt2YWwuc3RyaW5nVmFsdWUoKV07XG4gICAgICBpZiAocmYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDc3MuQ29tbWFMaXN0KFtDc3MuZ2V0TmFtZShyZiksIHZhbF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBPYmplY3QgdGhhdCBsb2FkcyBmb250cyBpbiBhIGRvY3VtZW50IGFuZCBhbGxvY2F0ZXMgZm9udCBmYW1pbGllcyBmb3IgdGhlbVxuICogaW4gdGhlIHZpZXcgZG9jdW1lbnRcbiAqIEBwYXJhbSBoZWFkIHdoZXJlIHRvIGFkZCBzdHlsZXMgaW4gdGhlIHZpZXcgZG9jdW1lbnQgKG5vcm1hbGx5IGhlYWQgZWxlbWVudClcbiAqIEBwYXJhbSBib2R5IHdoZXJlIHRvIHByb2JlIHRleHQgaW4gdGhlIHZpZXcgZG9jdW1lbnQgKG5vcm1hbGx5IGJvZHkgZWxlbWVudClcbiAqL1xuZXhwb3J0IGNsYXNzIE1hcHBlciB7XG4gIC8qKlxuICAgKiBNYXBzIEZhY2Uuc3JjIHRvIGFuIGVudHJ5IGZvciBhbiBhbHJlYWR5LWxvYWRlZCBmb250LlxuICAgKi9cbiAgc3JjVVJMTWFwOiB7IFtrZXk6IHN0cmluZ106IFRhc2tVdGlsLkZldGNoZXI8RmFjZT4gfSA9IHt9O1xuICBmYW1pbHlQcmVmaXg6IHN0cmluZztcbiAgZmFtaWx5Q291bnRlcjogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgaGVhZDogRWxlbWVudCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgYm9keTogRWxlbWVudCxcbiAgICBvcHRfZmFtaWx5UHJlZml4Pzogc3RyaW5nLFxuICApIHtcbiAgICB0aGlzLmZhbWlseVByZWZpeCA9IG9wdF9mYW1pbHlQcmVmaXggfHwgXCJGbnRfXCI7XG4gIH1cblxuICBnZXRWaWV3Rm9udEZhbWlseShzcmNGYWNlOiBGYWNlLCBkb2N1bWVudEZhY2VzOiBEb2N1bWVudEZhY2VzKTogc3RyaW5nIHtcbiAgICBjb25zdCBzcmNGYW1pbHkgPSBzcmNGYWNlLmZhbWlseSBhcyBzdHJpbmc7XG4gICAgbGV0IHZpZXdGYW1pbHkgPSBkb2N1bWVudEZhY2VzLmZhbWlseU1hcFtzcmNGYW1pbHldO1xuICAgIGlmICh2aWV3RmFtaWx5KSB7XG4gICAgICByZXR1cm4gdmlld0ZhbWlseTtcbiAgICB9XG4gICAgdmlld0ZhbWlseSA9IHRoaXMuZmFtaWx5UHJlZml4ICsgKyt0aGlzLmZhbWlseUNvdW50ZXI7XG4gICAgZG9jdW1lbnRGYWNlcy5mYW1pbHlNYXBbc3JjRmFtaWx5XSA9IHZpZXdGYW1pbHk7XG4gICAgcmV0dXJuIHZpZXdGYW1pbHk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGZvbnRCeXRlcyBkZW9iZnVzY2F0ZWQgZm9udCBieXRlcyAoaWYgZGVvYmZ1c2NhdGlvbiBpcyBuZWVkZWQpXG4gICAqL1xuICBwcml2YXRlIGluaXRGb250KFxuICAgIHNyY0ZhY2U6IEZhY2UsXG4gICAgZm9udEJ5dGVzOiBCbG9iLFxuICAgIGRvY3VtZW50RmFjZXM6IERvY3VtZW50RmFjZXMsXG4gICk6IFRhc2suUmVzdWx0PEZhY2U+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxGYWNlPiA9IFRhc2submV3RnJhbWUoXCJpbml0Rm9udFwiKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBzcmMgPSBzcmNGYWNlLnNyYyBhcyBzdHJpbmc7XG4gICAgY29uc3QgcHJvcHMgPSB7fSBhcyB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfTtcbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gdHJhaXRQcm9wcykge1xuICAgICAgcHJvcHNbcHJvcF0gPSBzcmNGYWNlLnByb3BlcnRpZXNbcHJvcF07XG4gICAgfVxuICAgIGNvbnN0IGZvbnRGYW1pbHkgPSBzZWxmLmdldFZpZXdGb250RmFtaWx5KHNyY0ZhY2UsIGRvY3VtZW50RmFjZXMpO1xuICAgIHByb3BzW1wiZm9udC1mYW1pbHlcIl0gPSBDc3MuZ2V0TmFtZShmb250RmFtaWx5KTtcbiAgICBjb25zdCB2aWV3Rm9udEZhY2UgPSBuZXcgRmFjZShwcm9wcyk7XG4gICAgY29uc3QgcHJvYmUgPSBzZWxmLmJvZHkub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSBhcyBIVE1MRWxlbWVudDtcbiAgICBwcm9iZS50ZXh0Q29udGVudCA9IFwiTVwiO1xuICAgIGNvbnN0IGtpbGxUaW1lID0gbmV3IERhdGUoKS52YWx1ZU9mKCkgKyAxMDAwO1xuICAgIGNvbnN0IHN0eWxlID0gc2VsZi5oZWFkLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgIGNvbnN0IGJvZ3VzRGF0YSA9IGJvZ3VzRm9udERhdGEgKyBib2d1c0ZvbnRDb3VudGVyKys7XG4gICAgc3R5bGUudGV4dENvbnRlbnQgPSB2aWV3Rm9udEZhY2UubWFrZUF0UnVsZShcIlwiLCBOZXQubWFrZUJsb2IoW2JvZ3VzRGF0YV0pKTtcbiAgICBzZWxmLmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgIHNlbGYuYm9keS5hcHBlbmRDaGlsZChwcm9iZSk7XG4gICAgcHJvYmUuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgcHJvYmUuc3R5bGUuZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7XG4gICAgZm9yIChjb25zdCBwbmFtZSBpbiB0cmFpdFByb3BzKSB7XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHByb2JlLCBwbmFtZSwgcHJvcHNbcG5hbWVdLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICBjb25zdCByZWN0ID0gcHJvYmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgaW5pdFdpZHRoID0gcmVjdC5yaWdodCAtIHJlY3QubGVmdDtcbiAgICBjb25zdCBpbml0SGVpZ2h0ID0gcmVjdC5ib3R0b20gLSByZWN0LnRvcDtcbiAgICBzdHlsZS50ZXh0Q29udGVudCA9IHZpZXdGb250RmFjZS5tYWtlQXRSdWxlKHNyYywgZm9udEJ5dGVzKTtcbiAgICBMb2dnaW5nLmxvZ2dlci5pbmZvKFwiU3RhcnRpbmcgdG8gbG9hZCBmb250OlwiLCBzcmMpO1xuICAgIGxldCBsb2FkZWQgPSBmYWxzZTtcbiAgICBmcmFtZVxuICAgICAgLmxvb3AoKCkgPT4ge1xuICAgICAgICBjb25zdCByZWN0ID0gcHJvYmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IGN1cnJXaWR0aCA9IHJlY3QucmlnaHQgLSByZWN0LmxlZnQ7XG4gICAgICAgIGNvbnN0IGN1cnJIZWlnaHQgPSByZWN0LmJvdHRvbSAtIHJlY3QudG9wO1xuICAgICAgICBpZiAoaW5pdFdpZHRoICE9IGN1cnJXaWR0aCB8fCBpbml0SGVpZ2h0ICE9IGN1cnJIZWlnaHQpIHtcbiAgICAgICAgICBsb2FkZWQgPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VyclRpbWUgPSBuZXcgRGF0ZSgpLnZhbHVlT2YoKTtcbiAgICAgICAgaWYgKGN1cnJUaW1lID4ga2lsbFRpbWUpIHtcbiAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmcmFtZS5zbGVlcCgxMCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAobG9hZGVkKSB7XG4gICAgICAgICAgTG9nZ2luZy5sb2dnZXIuaW5mbyhcIkxvYWRlZCBmb250OlwiLCBzcmMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJGYWlsZWQgdG8gbG9hZCBmb250OlwiLCBzcmMpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuYm9keS5yZW1vdmVDaGlsZChwcm9iZSk7XG4gICAgICAgIGZyYW1lLmZpbmlzaCh2aWV3Rm9udEZhY2UpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgbG9hZEZvbnQoXG4gICAgc3JjRmFjZTogRmFjZSxcbiAgICBkb2N1bWVudEZhY2VzOiBEb2N1bWVudEZhY2VzLFxuICApOiBUYXNrVXRpbC5GZXRjaGVyPEZhY2U+IHtcbiAgICBjb25zdCBzcmMgPSBzcmNGYWNlLnNyYyBhcyBzdHJpbmc7XG4gICAgbGV0IGZldGNoZXIgPSB0aGlzLnNyY1VSTE1hcFtzcmNdO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGlmIChmZXRjaGVyKSB7XG4gICAgICBmZXRjaGVyLnBpZ2d5YmFjaygodmlld0ZhY2VQYXJhbSkgPT4ge1xuICAgICAgICBjb25zdCB2aWV3RmFjZSA9IHZpZXdGYWNlUGFyYW0gYXMgRmFjZTtcbiAgICAgICAgaWYgKCF2aWV3RmFjZS50cmFpdHNFcXVhbChzcmNGYWNlKSkge1xuICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJFX0ZPTlRfRkFDRV9JTkNPTVBBVElCTEVcIiwgc3JjRmFjZS5zcmMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvY3VtZW50RmFjZXMucmVnaXN0ZXJGYW1pbHkoc3JjRmFjZSwgdmlld0ZhY2UpO1xuICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJGb3VuZCBhbHJlYWR5LWxvYWRlZCBmb250OlwiLCBzcmMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmV0Y2hlciA9IG5ldyBUYXNrVXRpbC5GZXRjaGVyKCgpID0+IHtcbiAgICAgICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8RmFjZT4gPSBUYXNrLm5ld0ZyYW1lKFwibG9hZEZvbnRcIik7XG4gICAgICAgIGNvbnN0IGRlb2JmdXNjYXRvciA9IGRvY3VtZW50RmFjZXMuZGVvYmZ1c2NhdG9yXG4gICAgICAgICAgPyBkb2N1bWVudEZhY2VzLmRlb2JmdXNjYXRvcihzcmMpXG4gICAgICAgICAgOiBudWxsO1xuICAgICAgICBpZiAoZGVvYmZ1c2NhdG9yKSB7XG4gICAgICAgICAgTmV0LmFqYXgoc3JjLCBOZXQuWE1MSHR0cFJlcXVlc3RSZXNwb25zZVR5cGUuQkxPQikudGhlbigoeGhyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXhoci5yZXNwb25zZUJsb2IpIHtcbiAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZW9iZnVzY2F0b3IoeGhyLnJlc3BvbnNlQmxvYikudGhlbigoZm9udEJ5dGVzKSA9PiB7XG4gICAgICAgICAgICAgIHNlbGZcbiAgICAgICAgICAgICAgICAuaW5pdEZvbnQoc3JjRmFjZSwgZm9udEJ5dGVzLCBkb2N1bWVudEZhY2VzKVxuICAgICAgICAgICAgICAgIC50aGVuRmluaXNoKGZyYW1lKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuaW5pdEZvbnQoc3JjRmFjZSwgbnVsbCwgZG9jdW1lbnRGYWNlcykudGhlbkZpbmlzaChmcmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICAgICAgfSwgYGxvYWRGb250ICR7c3JjfWApO1xuICAgICAgdGhpcy5zcmNVUkxNYXBbc3JjXSA9IGZldGNoZXI7XG4gICAgICBmZXRjaGVyLnN0YXJ0KCk7XG4gICAgfVxuICAgIHJldHVybiBmZXRjaGVyO1xuICB9XG5cbiAgZmluZE9yTG9hZEZvbnRzKFxuICAgIHNyY0ZhY2VzOiBGYWNlW10sXG4gICAgZG9jdW1lbnRGYWNlczogRG9jdW1lbnRGYWNlcyxcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZldGNoZXJzID0gW10gYXMgVGFza1V0aWwuRmV0Y2hlcjxGYWNlPltdO1xuICAgIGZvciAoY29uc3Qgc3JjRmFjZSBvZiBzcmNGYWNlcykge1xuICAgICAgaWYgKCFzcmNGYWNlLnNyYyB8fCAhc3JjRmFjZS5mYW1pbHkpIHtcbiAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihcIkVfRk9OVF9GQUNFX0lOVkFMSURcIik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgZmV0Y2hlcnMucHVzaCh0aGlzLmxvYWRGb250KHNyY0ZhY2UsIGRvY3VtZW50RmFjZXMpKTtcbiAgICB9XG4gICAgcmV0dXJuIFRhc2tVdGlsLndhaXRGb3JGZXRjaGVycyhmZXRjaGVycyk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgUGFnZU1hc3RlciAtIERlYWwgd2l0aCBwYWdlIG1hc3RlcnMsIHBhcnRpdGlvbiBncm91cHMsIGFuZCBwYXJ0aXRpb25zLlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIENzc0Nhc2NhZGUgZnJvbSBcIi4vY3NzLWNhc2NhZGVcIjtcbmltcG9ydCAqIGFzIENzc1BhcnNlciBmcm9tIFwiLi9jc3MtcGFyc2VyXCI7XG5pbXBvcnQgKiBhcyBDc3NWYWxpZGF0b3IgZnJvbSBcIi4vY3NzLXZhbGlkYXRvclwiO1xuaW1wb3J0ICogYXMgRXhwcnMgZnJvbSBcIi4vZXhwcnNcIjtcbmltcG9ydCAqIGFzIEZvbnQgZnJvbSBcIi4vZm9udFwiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcblxuZXhwb3J0IGxldCBrZXlDb3VudDogbnVtYmVyID0gMTtcblxuLyoqXG4gKiBSZXByZXNlbnQgYW4gYXQtcnVsZSB3aGljaCBjcmVhdGVzIGEgcGFnZS1sZXZlbCBDU1MgYm94IChwYWdlLW1hc3RlcixcbiAqIHBhcnRpdGlvbiwgYW5kIHBhcnRpdGlvbi1ncm91cCkuXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBQYWdlQm94PFxuICBJIGV4dGVuZHMgUGFnZUJveEluc3RhbmNlID0gUGFnZUJveEluc3RhbmNlPGFueT5cbj4ge1xuICAvLyBzdHlsZXMgc3BlY2lmaWVkIGluIHRoZSBhdC1ydWxlXG4gIHNwZWNpZmllZDogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUgPSB7fTtcbiAgY2hpbGRyZW46IFBhZ2VCb3hbXSA9IFtdO1xuICBwYWdlTWFzdGVyOiBQYWdlTWFzdGVyID0gbnVsbDtcbiAgaW5kZXg6IG51bWJlciA9IDA7XG4gIGtleTogc3RyaW5nO1xuXG4gIHByb3RlY3RlZCBfc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZTtcblxuICBnZXQgc2NvcGUoKTogRXhwcnMuTGV4aWNhbFNjb3BlIHtcbiAgICByZXR1cm4gdGhpcy5fc2NvcGU7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHB1YmxpYyByZWFkb25seSBwc2V1ZG9OYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHB1YmxpYyByZWFkb25seSBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyZW50OiBQYWdlQm94LFxuICApIHtcbiAgICB0aGlzLl9zY29wZSA9IHNjb3BlO1xuICAgIHRoaXMua2V5ID0gYHAke2tleUNvdW50Kyt9YDtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICB0aGlzLmluZGV4ID0gcGFyZW50LmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgIHBhcmVudC5jaGlsZHJlbi5wdXNoKHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZUluc3RhbmNlKHBhcmVudEluc3RhbmNlOiBQYWdlQm94SW5zdGFuY2UpOiBQYWdlQm94SW5zdGFuY2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkVfVU5FWFBFQ1RFRF9DQUxMXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb25lIHRoZSBQYWdlQm94LlxuICAgKiBAcGFyYW0gcGFyYW0gcGFyZW50OiBUaGUgcGFyZW50IG9mIHRoZSBjbG9uZWQgUGFnZUJveC5cbiAgICogICAgIHBzZXVkb05hbWU6IEFzc2lnbiB0aGlzIHZhbHVlIGFzIHRoZSBwc2V1ZG9OYW1lIG9mIHRoZSBjbG9uZWQgUGFnZUJveC5cbiAgICovXG4gIGNsb25lKHBhcmFtOiB7IHBhcmVudD86IFBhZ2VCb3g7IHBzZXVkb05hbWU/OiBzdHJpbmcgfSk6IFBhZ2VCb3g8ST4ge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkVfVU5FWFBFQ1RFRF9DQUxMXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvcHkgJ3NwZWNpZmllZCcgcHJvcGVydGllcyB0byBhbm90aGVyIGluc3RhbmNlLlxuICAgKiBAcGFyYW0gZGVzdCBUaGUgUGFnZUJveCBpbnRvIHdoaWNoICdzcGVjaWZpZWQnIHByb3BlcnRpZXMgYXJlIGNvcGllZFxuICAgKi9cbiAgcHJvdGVjdGVkIGNvcHlTcGVjaWZpZWQoZGVzdDogUGFnZUJveCkge1xuICAgIGNvbnN0IHNwZWNpZmllZCA9IHRoaXMuc3BlY2lmaWVkO1xuICAgIGNvbnN0IGRlc3RTcGVjaWZpZWQgPSBkZXN0LnNwZWNpZmllZDtcbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gc3BlY2lmaWVkKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNwZWNpZmllZCwgcHJvcCkpIHtcbiAgICAgICAgZGVzdFNwZWNpZmllZFtwcm9wXSA9IHNwZWNpZmllZFtwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xvbmUgY2hpbGRyZW4gd2l0aCB0aGUgc3BlY2lmaWVkIFBhZ2VCb3ggYXMgdGhlaXIgcGFyZW50LlxuICAgKi9cbiAgcHJvdGVjdGVkIGNsb25lQ2hpbGRyZW4ocGFyZW50OiBQYWdlQm94KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyB0aGUgY2xvbmVkIGNoaWxkIGlzIGFkZGVkIHRvIHBhcmVudC5jaGlsZHJlbiBpbiB0aGUgY2hpbGQgY29uc3RydWN0b3IuXG4gICAgICB0aGlzLmNoaWxkcmVuW2ldLmNsb25lKHsgcGFyZW50IH0pO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFBhcmVudCBvZiBhbGwgcGFnZSBtYXN0ZXJzXG4gKi9cbmV4cG9ydCBjbGFzcyBSb290UGFnZUJveCBleHRlbmRzIFBhZ2VCb3g8Um9vdFBhZ2VCb3hJbnN0YW5jZT4ge1xuICBjb25zdHJ1Y3RvcihzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlKSB7XG4gICAgc3VwZXIoc2NvcGUsIG51bGwsIG51bGwsIFtdLCBudWxsKTtcbiAgICB0aGlzLnNwZWNpZmllZFtcIndpZHRoXCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKENzcy5mdWxsV2lkdGgsIDApO1xuICAgIHRoaXMuc3BlY2lmaWVkW1wiaGVpZ2h0XCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKENzcy5mdWxsSGVpZ2h0LCAwKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFnZU1hc3RlclNjb3BlIGV4dGVuZHMgRXhwcnMuTGV4aWNhbFNjb3BlIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSwgcHVibGljIHBhZ2VNYXN0ZXI6IFBhZ2VNYXN0ZXIpIHtcbiAgICBzdXBlcihzY29wZSwgcmVzb2x2ZXIpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGZ1bmN0aW9uIHJlc29sdmVyKHF1YWxpZmllZE5hbWUsIGlzRnVuYykge1xuICAgICAgY29uc3QgciA9IHF1YWxpZmllZE5hbWUubWF0Y2goL14oW14uXSspXFwuKFteLl0rKSQvKTtcbiAgICAgIGlmIChyKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHNlbGYucGFnZU1hc3Rlci5rZXlNYXBbclsxXV07XG4gICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICBjb25zdCBob2xkZXIgPSB0aGlzIGFzIEluc3RhbmNlSG9sZGVyO1xuICAgICAgICAgIGNvbnN0IGJveEluc3RhbmNlID0gaG9sZGVyLmxvb2t1cEluc3RhbmNlKGtleSk7XG4gICAgICAgICAgaWYgKGJveEluc3RhbmNlKSB7XG4gICAgICAgICAgICBpZiAoaXNGdW5jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBib3hJbnN0YW5jZS5yZXNvbHZlRnVuYyhyWzJdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBib3hJbnN0YW5jZS5yZXNvbHZlTmFtZShyWzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudCBhIHBhZ2UtbWFzdGVyIHJ1bGVcbiAqL1xuZXhwb3J0IGNsYXNzIFBhZ2VNYXN0ZXI8XG4gIEkgZXh0ZW5kcyBQYWdlTWFzdGVySW5zdGFuY2UgPSBQYWdlTWFzdGVySW5zdGFuY2U8YW55PlxuPiBleHRlbmRzIFBhZ2VCb3g8ST4ge1xuICBwYWdlTWFzdGVyOiBQYWdlTWFzdGVyO1xuICBrZXlNYXA6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgICBwYXJlbnQ6IFJvb3RQYWdlQm94LFxuICAgIHB1YmxpYyByZWFkb25seSBjb25kaXRpb246IEV4cHJzLlZhbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3BlY2lmaWNpdHk6IG51bWJlcixcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG5hbWUsIHBzZXVkb05hbWUsIGNsYXNzZXMsIHBhcmVudCk7XG4gICAgLy8gaWYgUGFnZU1hc3RlclNjb3BlIG9iamVjdCBpcyBwYXNzZWQsIHVzZSAoc2hhcmUpIGl0LlxuICAgIGlmICghKHNjb3BlIGluc3RhbmNlb2YgUGFnZU1hc3RlclNjb3BlKSkge1xuICAgICAgdGhpcy5fc2NvcGUgPSBuZXcgUGFnZU1hc3RlclNjb3BlKHNjb3BlLCB0aGlzKTtcbiAgICB9XG4gICAgdGhpcy5wYWdlTWFzdGVyID0gdGhpcztcbiAgICB0aGlzLnNwZWNpZmllZFtcIndpZHRoXCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKENzcy5mdWxsV2lkdGgsIDApO1xuICAgIHRoaXMuc3BlY2lmaWVkW1wiaGVpZ2h0XCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKENzcy5mdWxsSGVpZ2h0LCAwKTtcbiAgICB0aGlzLnNwZWNpZmllZFtcIndyYXAtZmxvd1wiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShcbiAgICAgIENzcy5pZGVudC5hdXRvLFxuICAgICAgMCxcbiAgICApO1xuICAgIHRoaXMuc3BlY2lmaWVkW1wicG9zaXRpb25cIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoXG4gICAgICBDc3MuaWRlbnQucmVsYXRpdmUsXG4gICAgICAwLFxuICAgICk7XG4gICAgdGhpcy5zcGVjaWZpZWRbXCJvdmVyZmxvd1wiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShcbiAgICAgIENzcy5pZGVudC52aXNpYmxlLFxuICAgICAgMCxcbiAgICApO1xuXG4gICAgLy8gU2hpZnQgMXB4IHRvIHdvcmthcm91bmQgQ2hyb21lIHByaW50aW5nIGJ1Z1xuICAgIC8vIHRoaXMuc3BlY2lmaWVkW1widG9wXCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKG5ldyBDc3MuTnVtZXJpYygtMSwgXCJweFwiKSwgMCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjcmVhdGVJbnN0YW5jZShwYXJlbnRJbnN0YW5jZSk6IFBhZ2VCb3hJbnN0YW5jZSB7XG4gICAgcmV0dXJuIG5ldyBQYWdlTWFzdGVySW5zdGFuY2UocGFyZW50SW5zdGFuY2UsIHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xvbmUocGFyYW0pOiBQYWdlTWFzdGVyIHtcbiAgICAvLyBUaGUgY2xvbmVkIHBhZ2UgbWFzdGVyIHNoYXJlcyB0aGUgc2FtZSBzY29wZSBvYmplY3Qgd2l0aCB0aGUgb3JpZ2luYWxcbiAgICAvLyBvbmUuXG4gICAgY29uc3QgY2xvbmVkID0gbmV3IFBhZ2VNYXN0ZXIoXG4gICAgICB0aGlzLnNjb3BlLFxuICAgICAgdGhpcy5uYW1lLFxuICAgICAgcGFyYW0ucHNldWRvTmFtZSB8fCB0aGlzLnBzZXVkb05hbWUsXG4gICAgICB0aGlzLmNsYXNzZXMsXG4gICAgICB0aGlzLnBhcmVudCBhcyBSb290UGFnZUJveCxcbiAgICAgIHRoaXMuY29uZGl0aW9uLFxuICAgICAgdGhpcy5zcGVjaWZpY2l0eSxcbiAgICApO1xuICAgIHRoaXMuY29weVNwZWNpZmllZChjbG9uZWQpO1xuICAgIHRoaXMuY2xvbmVDaGlsZHJlbihjbG9uZWQpO1xuICAgIHJldHVybiBjbG9uZWQ7XG4gIH1cblxuICAvKipcbiAgICogUG9pbnQgdGhlIHBhZ2VNYXN0ZXIgcmVmZXJlbmNlIGluIHRoZSBQYWdlTWFzdGVyU2NvcGUgdG8gdGhlIGN1cnJlbnQgcGFnZVxuICAgKiBtYXN0ZXIuIFRoaXMgaXMgbmVlZGVkIHdoZW4gYSBwYWdlIG1hc3RlciBpcyBjbG9uZWQgYW5kIHNoYXJlcyBhIGNvbW1vblxuICAgKiBzY29wZSB3aXRoIHRoZSBvcmlnaW5hbCBwYWdlIG1hc3Rlci4gU2luY2UgZXZlcnkgRXhwcnMuVmFsIHdoaWNoIHRoZVxuICAgKiBwYWdlIG1hc3RlciBob2xkcyBoYXMgYSByZWZlcmVuY2UgdG8gdGhlIHNjb3BlIGFuZCB1c2VzIGl0IGZvciB2YXJpYWJsZVxuICAgKiByZXNvbHV0aW9uLCB0aGlzIHJlZmVyZW5jZSBtdXN0IGJlIHVwZGF0ZWQgcHJvcGVybHkgYmVmb3JlIHRoZSBwYWdlIG1hc3RlclxuICAgKiBpbnN0YW5jZSBpcyB1c2VkLlxuICAgKi9cbiAgcmVzZXRTY29wZSgpIHtcbiAgICAodGhpcy5zY29wZSBhcyBhbnkpLnBhZ2VNYXN0ZXIgPSB0aGlzO1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50IGEgcGFydGl0aW9uLWdyb3VwIHJ1bGVcbiAqL1xuZXhwb3J0IGNsYXNzIFBhcnRpdGlvbkdyb3VwIGV4dGVuZHMgUGFnZUJveDxQYXJ0aXRpb25Hcm91cEluc3RhbmNlPiB7XG4gIHBhZ2VNYXN0ZXI6IFBhZ2VNYXN0ZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICAgcGFyZW50OiBQYWdlQm94LFxuICApIHtcbiAgICBzdXBlcihzY29wZSwgbmFtZSwgcHNldWRvTmFtZSwgY2xhc3NlcywgcGFyZW50KTtcbiAgICB0aGlzLnBhZ2VNYXN0ZXIgPSBwYXJlbnQucGFnZU1hc3RlcjtcbiAgICBpZiAobmFtZSkge1xuICAgICAgdGhpcy5wYWdlTWFzdGVyLmtleU1hcFtuYW1lXSA9IHRoaXMua2V5O1xuICAgIH1cbiAgICB0aGlzLnNwZWNpZmllZFtcIndyYXAtZmxvd1wiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShcbiAgICAgIENzcy5pZGVudC5hdXRvLFxuICAgICAgMCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY3JlYXRlSW5zdGFuY2UocGFyZW50SW5zdGFuY2U6IFBhZ2VCb3hJbnN0YW5jZSk6IFBhZ2VCb3hJbnN0YW5jZSB7XG4gICAgcmV0dXJuIG5ldyBQYXJ0aXRpb25Hcm91cEluc3RhbmNlKHBhcmVudEluc3RhbmNlLCB0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNsb25lKHBhcmFtKTogUGFydGl0aW9uR3JvdXAge1xuICAgIGNvbnN0IGNsb25lZCA9IG5ldyBQYXJ0aXRpb25Hcm91cChcbiAgICAgIHBhcmFtLnBhcmVudC5zY29wZSxcbiAgICAgIHRoaXMubmFtZSxcbiAgICAgIHRoaXMucHNldWRvTmFtZSxcbiAgICAgIHRoaXMuY2xhc3NlcyxcbiAgICAgIHBhcmFtLnBhcmVudCxcbiAgICApO1xuICAgIHRoaXMuY29weVNwZWNpZmllZChjbG9uZWQpO1xuICAgIHRoaXMuY2xvbmVDaGlsZHJlbihjbG9uZWQpO1xuICAgIHJldHVybiBjbG9uZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnQgYSBwYXJ0aXRpb24gcnVsZVxuICovXG5leHBvcnQgY2xhc3MgUGFydGl0aW9uPFxuICBJIGV4dGVuZHMgUGFydGl0aW9uSW5zdGFuY2UgPSBQYXJ0aXRpb25JbnN0YW5jZVxuPiBleHRlbmRzIFBhZ2VCb3g8ST4ge1xuICBwYWdlTWFzdGVyOiBQYWdlTWFzdGVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwc2V1ZG9OYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGNsYXNzZXM6IHN0cmluZ1tdLFxuICAgIHBhcmVudDogUGFnZUJveCxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG5hbWUsIHBzZXVkb05hbWUsIGNsYXNzZXMsIHBhcmVudCk7XG4gICAgdGhpcy5wYWdlTWFzdGVyID0gcGFyZW50LnBhZ2VNYXN0ZXI7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIHRoaXMucGFnZU1hc3Rlci5rZXlNYXBbbmFtZV0gPSB0aGlzLmtleTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjcmVhdGVJbnN0YW5jZShwYXJlbnRJbnN0YW5jZSk6IFBhZ2VCb3hJbnN0YW5jZSB7XG4gICAgcmV0dXJuIG5ldyBQYXJ0aXRpb25JbnN0YW5jZShwYXJlbnRJbnN0YW5jZSwgdGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjbG9uZShwYXJhbSk6IFBhcnRpdGlvbiB7XG4gICAgY29uc3QgY2xvbmVkID0gbmV3IFBhcnRpdGlvbihcbiAgICAgIHBhcmFtLnBhcmVudC5zY29wZSxcbiAgICAgIHRoaXMubmFtZSxcbiAgICAgIHRoaXMucHNldWRvTmFtZSxcbiAgICAgIHRoaXMuY2xhc3NlcyxcbiAgICAgIHBhcmFtLnBhcmVudCxcbiAgICApO1xuICAgIHRoaXMuY29weVNwZWNpZmllZChjbG9uZWQpO1xuICAgIHRoaXMuY2xvbmVDaGlsZHJlbihjbG9uZWQpO1xuICAgIHJldHVybiBjbG9uZWQ7XG4gIH1cbn1cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEluc3RhbmNlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qKlxuICogQHBhcmFtIGRlZiBkZWZhdWx0IHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0V4cHJJZGVudChcbiAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgdmFsOiBDc3MuVmFsLFxuICBkZWY6IHN0cmluZyxcbik6IEV4cHJzLlZhbCB7XG4gIGlmICghdmFsKSB7XG4gICAgcmV0dXJuIG5ldyBFeHBycy5Db25zdChzY29wZSwgZGVmKTtcbiAgfVxuICByZXR1cm4gdmFsLnRvRXhwcihzY29wZSwgc2NvcGUuemVybyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0V4cHJBdXRvKFxuICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICB2YWw6IENzcy5WYWwsXG4gIHJlZjogRXhwcnMuVmFsLFxuKTogRXhwcnMuVmFsIHtcbiAgaWYgKCF2YWwgfHwgdmFsID09PSBDc3MuaWRlbnQuYXV0bykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiB2YWwudG9FeHByKHNjb3BlLCByZWYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9FeHByTm9ybWFsKFxuICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICB2YWw6IENzcy5WYWwsXG4gIHJlZjogRXhwcnMuVmFsLFxuKTogRXhwcnMuVmFsIHtcbiAgaWYgKCF2YWwgfHwgdmFsID09PSBDc3MuaWRlbnQubm9ybWFsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHZhbC50b0V4cHIoc2NvcGUsIHJlZik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0V4cHJaZXJvKFxuICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICB2YWw6IENzcy5WYWwsXG4gIHJlZjogRXhwcnMuVmFsLFxuKTogRXhwcnMuVmFsIHtcbiAgaWYgKCF2YWwgfHwgdmFsID09PSBDc3MuaWRlbnQuYXV0bykge1xuICAgIHJldHVybiBzY29wZS56ZXJvO1xuICB9XG4gIHJldHVybiB2YWwudG9FeHByKHNjb3BlLCByZWYpO1xufVxuXG4vKipcbiAqIElmIHRoZSB2YWx1ZSBpcyBub3Qgc3BlY2lmaWVkIChudWxsKSwgcmV0dXJucyB6ZXJvLlxuICogSWYgdGhlIHZhbHVlIGlzICdhdXRvJywgcmV0dXJucyBudWxsLlxuICogT3RoZXJ3aXNlLCByZXR1cm4gdGhlIHZhbHVlIGl0c2VsZi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvRXhwclplcm9BdXRvKFxuICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICB2YWw6IENzcy5WYWwsXG4gIHJlZjogRXhwcnMuVmFsLFxuKTogRXhwcnMuVmFsIHtcbiAgaWYgKCF2YWwpIHtcbiAgICByZXR1cm4gc2NvcGUuemVybztcbiAgfSBlbHNlIGlmICh2YWwgPT09IENzcy5pZGVudC5hdXRvKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZhbC50b0V4cHIoc2NvcGUsIHJlZik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRXhwclplcm9Cb3JkZXIoXG4gIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gIHZhbDogQ3NzLlZhbCxcbiAgc3R5bGVWYWw6IENzcy5WYWwsXG4gIHJlZjogRXhwcnMuVmFsLFxuKTogRXhwcnMuVmFsIHtcbiAgaWYgKCF2YWwgfHwgc3R5bGVWYWwgPT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgcmV0dXJuIHNjb3BlLnplcm87XG4gIH1cbiAgcmV0dXJuIHZhbC50b0V4cHIoc2NvcGUsIHJlZik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0V4cHJCb29sKFxuICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICB2YWw6IENzcy5WYWwsXG4gIGRlZjogRXhwcnMuVmFsLFxuKTogRXhwcnMuVmFsIHtcbiAgaWYgKCF2YWwpIHtcbiAgICByZXR1cm4gZGVmO1xuICB9XG4gIGlmICh2YWwgPT09IENzcy5pZGVudC5fdHJ1ZSkge1xuICAgIHJldHVybiBzY29wZS5fdHJ1ZTtcbiAgfVxuICBpZiAodmFsID09PSBDc3MuaWRlbnQuX2ZhbHNlKSB7XG4gICAgcmV0dXJuIHNjb3BlLl9mYWxzZTtcbiAgfVxuICByZXR1cm4gdmFsLnRvRXhwcihzY29wZSwgc2NvcGUuemVybyk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5zdGFuY2VIb2xkZXIgZXh0ZW5kcyBFeHBycy5Db250ZXh0IHtcbiAgcmVnaXN0ZXJJbnN0YW5jZShrZXk6IHN0cmluZywgaW5zdGFuY2U6IFBhZ2VCb3hJbnN0YW5jZSk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gaW5zdGFuY2VcbiAgICovXG4gIGxvb2t1cEluc3RhbmNlKGtleTogc3RyaW5nKTogUGFnZUJveEluc3RhbmNlO1xufVxuXG5leHBvcnQgY2xhc3MgUGFnZUJveEluc3RhbmNlPFAgZXh0ZW5kcyBQYWdlQm94ID0gUGFnZUJveDxhbnk+PiB7XG4gIC8qKlxuICAgKiBjYXNjYWRlZCBzdHlsZXMsIGdlb21ldHJpYyBvbmVzIGNvbnZlcnRlZCB0byBDc3MuRXhwclxuICAgKi9cbiAgcHJvdGVjdGVkIGNhc2NhZGVkOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSA9IHt9O1xuICBzdHlsZTogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0gPSB7fTtcbiAgcHJpdmF0ZSBhdXRvV2lkdGg6IEV4cHJzLk5hdGl2ZSA9IG51bGw7XG4gIHByaXZhdGUgYXV0b0hlaWdodDogRXhwcnMuTmF0aXZlID0gbnVsbDtcbiAgY2hpbGRyZW46IFBhZ2VCb3hJbnN0YW5jZVtdID0gW107XG4gIGlzQXV0b1dpZHRoOiBib29sZWFuID0gZmFsc2U7XG4gIGlzQXV0b0hlaWdodDogYm9vbGVhbiA9IGZhbHNlO1xuICBpc1RvcERlcGVuZGVudE9uQXV0b0hlaWdodDogYm9vbGVhbiA9IGZhbHNlO1xuICBpc1JpZ2h0RGVwZW5kZW50T25BdXRvV2lkdGg6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBjYWxjdWxhdGVkV2lkdGg6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgY2FsY3VsYXRlZEhlaWdodDogbnVtYmVyID0gMDtcbiAgcGFnZU1hc3Rlckluc3RhbmNlOiBQYWdlTWFzdGVySW5zdGFuY2UgPSBudWxsO1xuICBuYW1lZFZhbHVlczogeyBba2V5OiBzdHJpbmddOiBFeHBycy5WYWwgfSA9IHt9O1xuICBuYW1lZEZ1bmNzOiB7IFtrZXk6IHN0cmluZ106IEV4cHJzLlZhbCB9ID0ge307XG4gIHZlcnRpY2FsOiBib29sZWFuID0gZmFsc2U7XG4gIHJ0bDogYm9vbGVhbiA9IGZhbHNlO1xuICBzdXBwcmVzc0VtcHR5Qm94R2VuZXJhdGlvbjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBwYXJlbnRJbnN0YW5jZTogUGFnZUJveEluc3RhbmNlLFxuICAgIHB1YmxpYyByZWFkb25seSBwYWdlQm94OiBQLFxuICApIHtcbiAgICBpZiAocGFyZW50SW5zdGFuY2UpIHtcbiAgICAgIHBhcmVudEluc3RhbmNlLmNoaWxkcmVuLnB1c2godGhpcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IGluZm9ybWF0aW9uIHJlbGF0ZWQgdG8gbGF5b3V0LlxuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5jYWxjdWxhdGVkV2lkdGggPSAwO1xuICAgIHRoaXMuY2FsY3VsYXRlZEhlaWdodCA9IDA7XG4gIH1cblxuICBwcml2YXRlIGFkZE5hbWVkVmFsdWVzKG5hbWUxOiBzdHJpbmcsIG5hbWUyOiBzdHJpbmcpOiBFeHBycy5WYWwge1xuICAgIGNvbnN0IHYxID0gdGhpcy5yZXNvbHZlTmFtZShuYW1lMSk7XG4gICAgY29uc3QgdjIgPSB0aGlzLnJlc29sdmVOYW1lKG5hbWUyKTtcbiAgICBpZiAoIXYxIHx8ICF2Mikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRV9JTlRFUk5BTFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIEV4cHJzLmFkZCh0aGlzLnBhZ2VCb3guc2NvcGUsIHYxLCB2Mik7XG4gIH1cblxuICByZXNvbHZlTmFtZShuYW1lOiBzdHJpbmcpOiBFeHBycy5WYWwge1xuICAgIGxldCBleHByID0gdGhpcy5uYW1lZFZhbHVlc1tuYW1lXTtcbiAgICBpZiAoZXhwcikge1xuICAgICAgcmV0dXJuIGV4cHI7XG4gICAgfVxuICAgIGNvbnN0IHZhbCA9IHRoaXMuc3R5bGVbbmFtZV07XG4gICAgaWYgKHZhbCkge1xuICAgICAgZXhwciA9IHZhbC50b0V4cHIodGhpcy5wYWdlQm94LnNjb3BlLCB0aGlzLnBhZ2VCb3guc2NvcGUuemVybyk7XG4gICAgfVxuICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgY2FzZSBcIm1hcmdpbi1sZWZ0LWVkZ2VcIjpcbiAgICAgICAgZXhwciA9IHRoaXMucmVzb2x2ZU5hbWUoXCJsZWZ0XCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJtYXJnaW4tdG9wLWVkZ2VcIjpcbiAgICAgICAgZXhwciA9IHRoaXMucmVzb2x2ZU5hbWUoXCJ0b3BcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm1hcmdpbi1yaWdodC1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLmFkZE5hbWVkVmFsdWVzKFwiYm9yZGVyLXJpZ2h0LWVkZ2VcIiwgXCJtYXJnaW4tcmlnaHRcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm1hcmdpbi1ib3R0b20tZWRnZVwiOlxuICAgICAgICBleHByID0gdGhpcy5hZGROYW1lZFZhbHVlcyhcImJvcmRlci1ib3R0b20tZWRnZVwiLCBcIm1hcmdpbi1ib3R0b21cIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImJvcmRlci1sZWZ0LWVkZ2VcIjpcbiAgICAgICAgZXhwciA9IHRoaXMuYWRkTmFtZWRWYWx1ZXMoXCJtYXJnaW4tbGVmdC1lZGdlXCIsIFwibWFyZ2luLWxlZnRcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImJvcmRlci10b3AtZWRnZVwiOlxuICAgICAgICBleHByID0gdGhpcy5hZGROYW1lZFZhbHVlcyhcIm1hcmdpbi10b3AtZWRnZVwiLCBcIm1hcmdpbi10b3BcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImJvcmRlci1yaWdodC1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLmFkZE5hbWVkVmFsdWVzKFwicGFkZGluZy1yaWdodC1lZGdlXCIsIFwiYm9yZGVyLXJpZ2h0LXdpZHRoXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJib3JkZXItYm90dG9tLWVkZ2VcIjpcbiAgICAgICAgZXhwciA9IHRoaXMuYWRkTmFtZWRWYWx1ZXMoXG4gICAgICAgICAgXCJwYWRkaW5nLWJvdHRvbS1lZGdlXCIsXG4gICAgICAgICAgXCJib3JkZXItYm90dG9tLXdpZHRoXCIsXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInBhZGRpbmctbGVmdC1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLmFkZE5hbWVkVmFsdWVzKFwiYm9yZGVyLWxlZnQtZWRnZVwiLCBcImJvcmRlci1sZWZ0LXdpZHRoXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwYWRkaW5nLXRvcC1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLmFkZE5hbWVkVmFsdWVzKFwiYm9yZGVyLXRvcC1lZGdlXCIsIFwiYm9yZGVyLXRvcC13aWR0aFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicGFkZGluZy1yaWdodC1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLmFkZE5hbWVkVmFsdWVzKFwicmlnaHQtZWRnZVwiLCBcInBhZGRpbmctcmlnaHRcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInBhZGRpbmctYm90dG9tLWVkZ2VcIjpcbiAgICAgICAgZXhwciA9IHRoaXMuYWRkTmFtZWRWYWx1ZXMoXCJib3R0b20tZWRnZVwiLCBcInBhZGRpbmctYm90dG9tXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsZWZ0LWVkZ2VcIjpcbiAgICAgICAgZXhwciA9IHRoaXMuYWRkTmFtZWRWYWx1ZXMoXCJwYWRkaW5nLWxlZnQtZWRnZVwiLCBcInBhZGRpbmctbGVmdFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidG9wLWVkZ2VcIjpcbiAgICAgICAgZXhwciA9IHRoaXMuYWRkTmFtZWRWYWx1ZXMoXCJwYWRkaW5nLXRvcC1lZGdlXCIsIFwicGFkZGluZy10b3BcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJpZ2h0LWVkZ2VcIjpcbiAgICAgICAgZXhwciA9IHRoaXMuYWRkTmFtZWRWYWx1ZXMoXCJsZWZ0LWVkZ2VcIiwgXCJ3aWR0aFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYm90dG9tLWVkZ2VcIjpcbiAgICAgICAgZXhwciA9IHRoaXMuYWRkTmFtZWRWYWx1ZXMoXCJ0b3AtZWRnZVwiLCBcImhlaWdodFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmICghZXhwcikge1xuICAgICAgbGV0IGFsdE5hbWU6IHN0cmluZztcbiAgICAgIGlmIChuYW1lID09IFwiZXh0ZW50XCIpIHtcbiAgICAgICAgYWx0TmFtZSA9IHRoaXMudmVydGljYWwgPyBcIndpZHRoXCIgOiBcImhlaWdodFwiO1xuICAgICAgfSBlbHNlIGlmIChuYW1lID09IFwibWVhc3VyZVwiKSB7XG4gICAgICAgIGFsdE5hbWUgPSB0aGlzLnZlcnRpY2FsID8gXCJoZWlnaHRcIiA6IFwid2lkdGhcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMudmVydGljYWxcbiAgICAgICAgICA/IENzc0Nhc2NhZGUuY291cGxpbmdNYXBWZXJ0XG4gICAgICAgICAgOiBDc3NDYXNjYWRlLmNvdXBsaW5nTWFwSG9yO1xuICAgICAgICBhbHROYW1lID0gbmFtZTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbWFwKSB7XG4gICAgICAgICAgYWx0TmFtZSA9IGFsdE5hbWUucmVwbGFjZShrZXksIG1hcFtrZXldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGFsdE5hbWUgIT0gbmFtZSkge1xuICAgICAgICBleHByID0gdGhpcy5yZXNvbHZlTmFtZShhbHROYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGV4cHIpIHtcbiAgICAgIHRoaXMubmFtZWRWYWx1ZXNbbmFtZV0gPSBleHByO1xuICAgIH1cbiAgICByZXR1cm4gZXhwcjtcbiAgfVxuXG4gIHJlc29sdmVGdW5jKG5hbWUpIHtcbiAgICBsZXQgZXhwciA9IHRoaXMubmFtZWRGdW5jc1tuYW1lXTtcbiAgICBpZiAoZXhwcikge1xuICAgICAgcmV0dXJuIGV4cHI7XG4gICAgfVxuICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgY2FzZSBcImNvbHVtbnNcIjoge1xuICAgICAgICAvLyBtaW4oY291bnQsY29sdW1uLWNvdW50KSAqIChjb2x1bW4td2lkdGggKyBjb2x1bW4tZ2FwKSAtIGNvbHVtbi1nYXBcbiAgICAgICAgY29uc3Qgc2NvcGUgPSB0aGlzLnBhZ2VCb3guc2NvcGU7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gbmV3IEV4cHJzLlBhcmFtKHNjb3BlLCAwKTtcbiAgICAgICAgY29uc3QgY29sdW1uQ291bnQgPSB0aGlzLnJlc29sdmVOYW1lKFwiY29sdW1uLWNvdW50XCIpO1xuICAgICAgICBjb25zdCBjb2x1bW5XaWR0aCA9IHRoaXMucmVzb2x2ZU5hbWUoXCJjb2x1bW4td2lkdGhcIik7XG4gICAgICAgIGNvbnN0IGNvbHVtbkdhcCA9IHRoaXMucmVzb2x2ZU5hbWUoXCJjb2x1bW4tZ2FwXCIpO1xuICAgICAgICBleHByID0gRXhwcnMuc3ViKFxuICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgIEV4cHJzLm11bChcbiAgICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgICAgbmV3IEV4cHJzLkNhbGwoc2NvcGUsIFwibWluXCIsIFtjb3VudCwgY29sdW1uQ291bnRdKSxcbiAgICAgICAgICAgIEV4cHJzLmFkZChzY29wZSwgY29sdW1uV2lkdGgsIGNvbHVtbkdhcCksXG4gICAgICAgICAgKSxcbiAgICAgICAgICBjb2x1bW5HYXAsXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZXhwcikge1xuICAgICAgdGhpcy5uYW1lZEZ1bmNzW25hbWVdID0gZXhwcjtcbiAgICB9XG4gICAgcmV0dXJuIGV4cHI7XG4gIH1cblxuICBwcml2YXRlIGluaXRFbmFibGVkKCk6IHZvaWQge1xuICAgIGNvbnN0IHNjb3BlID0gdGhpcy5wYWdlQm94LnNjb3BlO1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5zdHlsZTtcbiAgICBsZXQgZW5hYmxlZCA9IHRvRXhwckJvb2woc2NvcGUsIHN0eWxlW1wiZW5hYmxlZFwiXSwgc2NvcGUuX3RydWUpO1xuICAgIGNvbnN0IHBhZ2UgPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcInBhZ2VcIl0sIHNjb3BlLnplcm8pO1xuICAgIGlmIChwYWdlKSB7XG4gICAgICBjb25zdCBjdXJyZW50UGFnZSA9IG5ldyBFeHBycy5OYW1lZChzY29wZSwgXCJwYWdlLW51bWJlclwiKTtcbiAgICAgIGVuYWJsZWQgPSBFeHBycy5hbmQoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBlbmFibGVkLFxuICAgICAgICBuZXcgRXhwcnMuRXEoc2NvcGUsIHBhZ2UsIGN1cnJlbnRQYWdlKSxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IG1pblBhZ2VXaWR0aCA9IHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wibWluLXBhZ2Utd2lkdGhcIl0sIHNjb3BlLnplcm8pO1xuICAgIGlmIChtaW5QYWdlV2lkdGgpIHtcbiAgICAgIGVuYWJsZWQgPSBFeHBycy5hbmQoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBlbmFibGVkLFxuICAgICAgICBuZXcgRXhwcnMuR2Uoc2NvcGUsIG5ldyBFeHBycy5OYW1lZChzY29wZSwgXCJwYWdlLXdpZHRoXCIpLCBtaW5QYWdlV2lkdGgpLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgbWluUGFnZUhlaWdodCA9IHRvRXhwckF1dG8oXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW1wibWluLXBhZ2UtaGVpZ2h0XCJdLFxuICAgICAgc2NvcGUuemVybyxcbiAgICApO1xuICAgIGlmIChtaW5QYWdlSGVpZ2h0KSB7XG4gICAgICBlbmFibGVkID0gRXhwcnMuYW5kKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgZW5hYmxlZCxcbiAgICAgICAgbmV3IEV4cHJzLkdlKFxuICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgIG5ldyBFeHBycy5OYW1lZChzY29wZSwgXCJwYWdlLWhlaWdodFwiKSxcbiAgICAgICAgICBtaW5QYWdlSGVpZ2h0LFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9XG4gICAgZW5hYmxlZCA9IHRoaXMuYm94U3BlY2lmaWNFbmFibGVkKGVuYWJsZWQpO1xuICAgIHN0eWxlW1wiZW5hYmxlZFwiXSA9IG5ldyBDc3MuRXhwcihlbmFibGVkKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBib3hTcGVjaWZpY0VuYWJsZWQoZW5hYmxlZDogRXhwcnMuVmFsKTogRXhwcnMuVmFsIHtcbiAgICByZXR1cm4gZW5hYmxlZDtcbiAgfVxuXG4gIHByb3RlY3RlZCBpbml0SG9yaXpvbnRhbCgpOiB2b2lkIHtcbiAgICBjb25zdCBzY29wZSA9IHRoaXMucGFnZUJveC5zY29wZTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuc3R5bGU7XG4gICAgY29uc3QgcGFyZW50V2lkdGggPSB0aGlzLnBhcmVudEluc3RhbmNlXG4gICAgICA/IHRoaXMucGFyZW50SW5zdGFuY2Uuc3R5bGVbXCJ3aWR0aFwiXS50b0V4cHIoc2NvcGUsIG51bGwpXG4gICAgICA6IG51bGw7XG4gICAgbGV0IGxlZnQgPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcImxlZnRcIl0sIHBhcmVudFdpZHRoKTtcbiAgICBsZXQgbWFyZ2luTGVmdCA9IHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wibWFyZ2luLWxlZnRcIl0sIHBhcmVudFdpZHRoKTtcbiAgICBjb25zdCBib3JkZXJMZWZ0V2lkdGggPSB0b0V4cHJaZXJvQm9yZGVyKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtcImJvcmRlci1sZWZ0LXdpZHRoXCJdLFxuICAgICAgc3R5bGVbXCJib3JkZXItbGVmdC1zdHlsZVwiXSxcbiAgICAgIHBhcmVudFdpZHRoLFxuICAgICk7XG4gICAgY29uc3QgcGFkZGluZ0xlZnQgPSB0b0V4cHJaZXJvKHNjb3BlLCBzdHlsZVtcInBhZGRpbmctbGVmdFwiXSwgcGFyZW50V2lkdGgpO1xuICAgIGxldCB3aWR0aCA9IHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wid2lkdGhcIl0sIHBhcmVudFdpZHRoKTtcbiAgICBsZXQgbWF4V2lkdGggPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcIm1heC13aWR0aFwiXSwgcGFyZW50V2lkdGgpO1xuICAgIGNvbnN0IHBhZGRpbmdSaWdodCA9IHRvRXhwclplcm8oc2NvcGUsIHN0eWxlW1wicGFkZGluZy1yaWdodFwiXSwgcGFyZW50V2lkdGgpO1xuICAgIGNvbnN0IGJvcmRlclJpZ2h0V2lkdGggPSB0b0V4cHJaZXJvQm9yZGVyKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtcImJvcmRlci1yaWdodC13aWR0aFwiXSxcbiAgICAgIHN0eWxlW1wiYm9yZGVyLXJpZ2h0LXN0eWxlXCJdLFxuICAgICAgcGFyZW50V2lkdGgsXG4gICAgKTtcbiAgICBsZXQgbWFyZ2luUmlnaHQgPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcIm1hcmdpbi1yaWdodFwiXSwgcGFyZW50V2lkdGgpO1xuICAgIGxldCByaWdodCA9IHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wicmlnaHRcIl0sIHBhcmVudFdpZHRoKTtcbiAgICBjb25zdCBsZWZ0QlAgPSBFeHBycy5hZGQoc2NvcGUsIGJvcmRlckxlZnRXaWR0aCwgcGFkZGluZ0xlZnQpO1xuICAgIGNvbnN0IHJpZ2h0QlAgPSBFeHBycy5hZGQoc2NvcGUsIGJvcmRlckxlZnRXaWR0aCwgcGFkZGluZ1JpZ2h0KTtcbiAgICBpZiAobGVmdCAmJiByaWdodCAmJiB3aWR0aCkge1xuICAgICAgbGV0IGV4dHJhID0gRXhwcnMuc3ViKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgcGFyZW50V2lkdGgsXG4gICAgICAgIEV4cHJzLmFkZChcbiAgICAgICAgICBzY29wZSxcbiAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICBFeHBycy5hZGQoc2NvcGUsIEV4cHJzLmFkZChzY29wZSwgbGVmdCwgbGVmdEJQKSwgcmlnaHRCUCksXG4gICAgICAgICksXG4gICAgICApO1xuICAgICAgaWYgKCFtYXJnaW5MZWZ0KSB7XG4gICAgICAgIGV4dHJhID0gRXhwcnMuc3ViKHNjb3BlLCBleHRyYSwgcmlnaHQpO1xuICAgICAgICBpZiAoIW1hcmdpblJpZ2h0KSB7XG4gICAgICAgICAgbWFyZ2luTGVmdCA9IEV4cHJzLm11bChzY29wZSwgZXh0cmEsIG5ldyBFeHBycy5Db25zdChzY29wZSwgMC41KSk7XG4gICAgICAgICAgbWFyZ2luUmlnaHQgPSBtYXJnaW5MZWZ0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1hcmdpbkxlZnQgPSBFeHBycy5zdWIoc2NvcGUsIGV4dHJhLCBtYXJnaW5SaWdodCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghbWFyZ2luUmlnaHQpIHtcbiAgICAgICAgICBtYXJnaW5SaWdodCA9IEV4cHJzLnN1YihcbiAgICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgICAgZXh0cmEsXG4gICAgICAgICAgICBFeHBycy5hZGQoc2NvcGUsIHJpZ2h0LCBtYXJnaW5MZWZ0KSxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIG92ZXJjb25zdHJhaW50XG4gICAgICAgICAgcmlnaHQgPSBFeHBycy5zdWIoc2NvcGUsIGV4dHJhLCBtYXJnaW5SaWdodCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFtYXJnaW5MZWZ0KSB7XG4gICAgICAgIG1hcmdpbkxlZnQgPSBzY29wZS56ZXJvO1xuICAgICAgfVxuICAgICAgaWYgKCFtYXJnaW5SaWdodCkge1xuICAgICAgICBtYXJnaW5SaWdodCA9IHNjb3BlLnplcm87XG4gICAgICB9XG4gICAgICBpZiAoIWxlZnQgJiYgIXJpZ2h0ICYmICF3aWR0aCkge1xuICAgICAgICBsZWZ0ID0gc2NvcGUuemVybztcbiAgICAgIH1cbiAgICAgIGlmICghbGVmdCAmJiAhd2lkdGgpIHtcbiAgICAgICAgd2lkdGggPSB0aGlzLmF1dG9XaWR0aDtcbiAgICAgICAgdGhpcy5pc0F1dG9XaWR0aCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKCFsZWZ0ICYmICFyaWdodCkge1xuICAgICAgICBsZWZ0ID0gc2NvcGUuemVybztcbiAgICAgIH0gZWxzZSBpZiAoIXdpZHRoICYmICFyaWdodCkge1xuICAgICAgICB3aWR0aCA9IHRoaXMuYXV0b1dpZHRoO1xuICAgICAgICB0aGlzLmlzQXV0b1dpZHRoID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbWFpbnMgPSBFeHBycy5zdWIoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBwYXJlbnRXaWR0aCxcbiAgICAgICAgRXhwcnMuYWRkKFxuICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgIEV4cHJzLmFkZChzY29wZSwgbWFyZ2luTGVmdCwgbGVmdEJQKSxcbiAgICAgICAgICBFeHBycy5hZGQoc2NvcGUsIG1hcmdpblJpZ2h0LCByaWdodEJQKSxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgICBpZiAodGhpcy5pc0F1dG9XaWR0aCkge1xuICAgICAgICBpZiAoIW1heFdpZHRoKSB7XG4gICAgICAgICAgLy8gVE9ETzogaGFuZGxlIHRoZSBjYXNlIHdoZW4gcmlnaHQvbGVmdCBkZXBlbmRzIG9uIHdpZHRoXG4gICAgICAgICAgbWF4V2lkdGggPSBFeHBycy5zdWIoc2NvcGUsIHJlbWFpbnMsIGxlZnQgPyBsZWZ0IDogcmlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9yIG11bHRpLWNvbHVtbiBsYXlvdXQsIHdpZHRoIGlzIG1heC13aWR0aC5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICF0aGlzLnZlcnRpY2FsICYmXG4gICAgICAgICAgKHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wiY29sdW1uLXdpZHRoXCJdLCBudWxsKSB8fFxuICAgICAgICAgICAgdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJjb2x1bW4tY291bnRcIl0sIG51bGwpKVxuICAgICAgICApIHtcbiAgICAgICAgICB3aWR0aCA9IG1heFdpZHRoO1xuICAgICAgICAgIHRoaXMuaXNBdXRvV2lkdGggPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFsZWZ0KSB7XG4gICAgICAgIGxlZnQgPSBFeHBycy5zdWIoc2NvcGUsIHJlbWFpbnMsIEV4cHJzLmFkZChzY29wZSwgcmlnaHQsIHdpZHRoKSk7XG4gICAgICB9IGVsc2UgaWYgKCF3aWR0aCkge1xuICAgICAgICB3aWR0aCA9IEV4cHJzLnN1YihzY29wZSwgcmVtYWlucywgRXhwcnMuYWRkKHNjb3BlLCBsZWZ0LCByaWdodCkpO1xuICAgICAgfSBlbHNlIGlmICghcmlnaHQpIHtcbiAgICAgICAgcmlnaHQgPSBFeHBycy5zdWIoc2NvcGUsIHJlbWFpbnMsIEV4cHJzLmFkZChzY29wZSwgbGVmdCwgd2lkdGgpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzbmFwLXdpZHRoIGlzIGluaGVyaXRlZFxuICAgIGNvbnN0IHNuYXBXaWR0aFZhbCA9XG4gICAgICBzdHlsZVtcInNuYXAtd2lkdGhcIl0gfHxcbiAgICAgICh0aGlzLnBhcmVudEluc3RhbmNlID8gdGhpcy5wYXJlbnRJbnN0YW5jZS5zdHlsZVtcInNuYXAtd2lkdGhcIl0gOiBudWxsKTtcbiAgICBjb25zdCBzbmFwV2lkdGggPSB0b0V4cHJaZXJvKHNjb3BlLCBzbmFwV2lkdGhWYWwsIHBhcmVudFdpZHRoKTtcbiAgICBzdHlsZVtcImxlZnRcIl0gPSBuZXcgQ3NzLkV4cHIobGVmdCk7XG4gICAgc3R5bGVbXCJtYXJnaW4tbGVmdFwiXSA9IG5ldyBDc3MuRXhwcihtYXJnaW5MZWZ0KTtcbiAgICBzdHlsZVtcImJvcmRlci1sZWZ0LXdpZHRoXCJdID0gbmV3IENzcy5FeHByKGJvcmRlckxlZnRXaWR0aCk7XG4gICAgc3R5bGVbXCJwYWRkaW5nLWxlZnRcIl0gPSBuZXcgQ3NzLkV4cHIocGFkZGluZ0xlZnQpO1xuICAgIHN0eWxlW1wid2lkdGhcIl0gPSBuZXcgQ3NzLkV4cHIod2lkdGgpO1xuICAgIHN0eWxlW1wibWF4LXdpZHRoXCJdID0gbmV3IENzcy5FeHByKG1heFdpZHRoID8gbWF4V2lkdGggOiB3aWR0aCk7XG4gICAgc3R5bGVbXCJwYWRkaW5nLXJpZ2h0XCJdID0gbmV3IENzcy5FeHByKHBhZGRpbmdSaWdodCk7XG4gICAgc3R5bGVbXCJib3JkZXItcmlnaHQtd2lkdGhcIl0gPSBuZXcgQ3NzLkV4cHIoYm9yZGVyUmlnaHRXaWR0aCk7XG4gICAgc3R5bGVbXCJtYXJnaW4tcmlnaHRcIl0gPSBuZXcgQ3NzLkV4cHIobWFyZ2luUmlnaHQpO1xuICAgIHN0eWxlW1wicmlnaHRcIl0gPSBuZXcgQ3NzLkV4cHIocmlnaHQpO1xuICAgIHN0eWxlW1wic25hcC13aWR0aFwiXSA9IG5ldyBDc3MuRXhwcihzbmFwV2lkdGgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGluaXRWZXJ0aWNhbCgpOiB2b2lkIHtcbiAgICBjb25zdCBzY29wZSA9IHRoaXMucGFnZUJveC5zY29wZTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuc3R5bGU7XG4gICAgY29uc3QgcGFyZW50V2lkdGggPSB0aGlzLnBhcmVudEluc3RhbmNlXG4gICAgICA/IHRoaXMucGFyZW50SW5zdGFuY2Uuc3R5bGVbXCJ3aWR0aFwiXS50b0V4cHIoc2NvcGUsIG51bGwpXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgcGFyZW50SGVpZ2h0ID0gdGhpcy5wYXJlbnRJbnN0YW5jZVxuICAgICAgPyB0aGlzLnBhcmVudEluc3RhbmNlLnN0eWxlW1wiaGVpZ2h0XCJdLnRvRXhwcihzY29wZSwgbnVsbClcbiAgICAgIDogbnVsbDtcbiAgICBsZXQgdG9wID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJ0b3BcIl0sIHBhcmVudEhlaWdodCk7XG4gICAgbGV0IG1hcmdpblRvcCA9IHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wibWFyZ2luLXRvcFwiXSwgcGFyZW50V2lkdGgpO1xuICAgIGNvbnN0IGJvcmRlclRvcFdpZHRoID0gdG9FeHByWmVyb0JvcmRlcihcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbXCJib3JkZXItdG9wLXdpZHRoXCJdLFxuICAgICAgc3R5bGVbXCJib3JkZXItdG9wLXN0eWxlXCJdLFxuICAgICAgcGFyZW50V2lkdGgsXG4gICAgKTtcbiAgICBjb25zdCBwYWRkaW5nVG9wID0gdG9FeHByWmVybyhzY29wZSwgc3R5bGVbXCJwYWRkaW5nLXRvcFwiXSwgcGFyZW50V2lkdGgpO1xuICAgIGxldCBoZWlnaHQgPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcImhlaWdodFwiXSwgcGFyZW50SGVpZ2h0KTtcbiAgICBsZXQgbWF4SGVpZ2h0ID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJtYXgtaGVpZ2h0XCJdLCBwYXJlbnRIZWlnaHQpO1xuICAgIGNvbnN0IHBhZGRpbmdCb3R0b20gPSB0b0V4cHJaZXJvKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtcInBhZGRpbmctYm90dG9tXCJdLFxuICAgICAgcGFyZW50V2lkdGgsXG4gICAgKTtcbiAgICBjb25zdCBib3JkZXJCb3R0b21XaWR0aCA9IHRvRXhwclplcm9Cb3JkZXIoXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW1wiYm9yZGVyLWJvdHRvbS13aWR0aFwiXSxcbiAgICAgIHN0eWxlW1wiYm9yZGVyLWJvdHRvbS1zdHlsZVwiXSxcbiAgICAgIHBhcmVudFdpZHRoLFxuICAgICk7XG4gICAgbGV0IG1hcmdpbkJvdHRvbSA9IHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wibWFyZ2luLWJvdHRvbVwiXSwgcGFyZW50V2lkdGgpO1xuICAgIGxldCBib3R0b20gPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcImJvdHRvbVwiXSwgcGFyZW50SGVpZ2h0KTtcbiAgICBjb25zdCB0b3BCUCA9IEV4cHJzLmFkZChzY29wZSwgYm9yZGVyVG9wV2lkdGgsIHBhZGRpbmdUb3ApO1xuICAgIGNvbnN0IGJvdHRvbUJQID0gRXhwcnMuYWRkKHNjb3BlLCBib3JkZXJCb3R0b21XaWR0aCwgcGFkZGluZ0JvdHRvbSk7XG4gICAgaWYgKHRvcCAmJiBib3R0b20gJiYgaGVpZ2h0KSB7XG4gICAgICBsZXQgZXh0cmEgPSBFeHBycy5zdWIoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBwYXJlbnRIZWlnaHQsXG4gICAgICAgIEV4cHJzLmFkZChcbiAgICAgICAgICBzY29wZSxcbiAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBFeHBycy5hZGQoc2NvcGUsIHRvcCwgdG9wQlApLCBib3R0b21CUCksXG4gICAgICAgICksXG4gICAgICApO1xuICAgICAgaWYgKCFtYXJnaW5Ub3ApIHtcbiAgICAgICAgZXh0cmEgPSBFeHBycy5zdWIoc2NvcGUsIGV4dHJhLCBib3R0b20pO1xuICAgICAgICBpZiAoIW1hcmdpbkJvdHRvbSkge1xuICAgICAgICAgIG1hcmdpblRvcCA9IEV4cHJzLm11bChzY29wZSwgZXh0cmEsIG5ldyBFeHBycy5Db25zdChzY29wZSwgMC41KSk7XG4gICAgICAgICAgbWFyZ2luQm90dG9tID0gbWFyZ2luVG9wO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1hcmdpblRvcCA9IEV4cHJzLnN1YihzY29wZSwgZXh0cmEsIG1hcmdpbkJvdHRvbSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghbWFyZ2luQm90dG9tKSB7XG4gICAgICAgICAgbWFyZ2luQm90dG9tID0gRXhwcnMuc3ViKFxuICAgICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgICBleHRyYSxcbiAgICAgICAgICAgIEV4cHJzLmFkZChzY29wZSwgYm90dG9tLCBtYXJnaW5Ub3ApLFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gb3ZlcmNvbnN0cmFpbnRcbiAgICAgICAgICBib3R0b20gPSBFeHBycy5zdWIoc2NvcGUsIGV4dHJhLCBtYXJnaW5Ub3ApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghbWFyZ2luVG9wKSB7XG4gICAgICAgIG1hcmdpblRvcCA9IHNjb3BlLnplcm87XG4gICAgICB9XG4gICAgICBpZiAoIW1hcmdpbkJvdHRvbSkge1xuICAgICAgICBtYXJnaW5Cb3R0b20gPSBzY29wZS56ZXJvO1xuICAgICAgfVxuICAgICAgaWYgKCF0b3AgJiYgIWJvdHRvbSAmJiAhaGVpZ2h0KSB7XG4gICAgICAgIHRvcCA9IHNjb3BlLnplcm87XG4gICAgICB9XG4gICAgICBpZiAoIXRvcCAmJiAhaGVpZ2h0KSB7XG4gICAgICAgIGhlaWdodCA9IHRoaXMuYXV0b0hlaWdodDtcbiAgICAgICAgdGhpcy5pc0F1dG9IZWlnaHQgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmICghdG9wICYmICFib3R0b20pIHtcbiAgICAgICAgdG9wID0gc2NvcGUuemVybztcbiAgICAgIH0gZWxzZSBpZiAoIWhlaWdodCAmJiAhYm90dG9tKSB7XG4gICAgICAgIGhlaWdodCA9IHRoaXMuYXV0b0hlaWdodDtcbiAgICAgICAgdGhpcy5pc0F1dG9IZWlnaHQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVtYWlucyA9IEV4cHJzLnN1YihcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHBhcmVudEhlaWdodCxcbiAgICAgICAgRXhwcnMuYWRkKFxuICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgIEV4cHJzLmFkZChzY29wZSwgbWFyZ2luVG9wLCB0b3BCUCksXG4gICAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBtYXJnaW5Cb3R0b20sIGJvdHRvbUJQKSxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgICBpZiAodGhpcy5pc0F1dG9IZWlnaHQpIHtcbiAgICAgICAgaWYgKCFtYXhIZWlnaHQpIHtcbiAgICAgICAgICAvLyBUT0RPOiBoYW5kbGUgdGhlIGNhc2Ugd2hlbiB0b3AvYm90dG9tIGRlcGVuZHMgb24gaGVpZ2h0XG4gICAgICAgICAgbWF4SGVpZ2h0ID0gRXhwcnMuc3ViKHNjb3BlLCByZW1haW5zLCB0b3AgPyB0b3AgOiBib3R0b20pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9yIG11bHRpLWNvbHVtbiBsYXlvdXQgaW4gdmVydGljYWwgd3JpdGluZywgaGVpZ2h0IGlzIG1heC1oZWlnaHQuXG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLnZlcnRpY2FsICYmXG4gICAgICAgICAgKHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wiY29sdW1uLXdpZHRoXCJdLCBudWxsKSB8fFxuICAgICAgICAgICAgdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJjb2x1bW4tY291bnRcIl0sIG51bGwpKVxuICAgICAgICApIHtcbiAgICAgICAgICBoZWlnaHQgPSBtYXhIZWlnaHQ7XG4gICAgICAgICAgdGhpcy5pc0F1dG9IZWlnaHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCF0b3ApIHtcbiAgICAgICAgdG9wID0gRXhwcnMuc3ViKHNjb3BlLCByZW1haW5zLCBFeHBycy5hZGQoc2NvcGUsIGJvdHRvbSwgaGVpZ2h0KSk7XG4gICAgICB9IGVsc2UgaWYgKCFoZWlnaHQpIHtcbiAgICAgICAgaGVpZ2h0ID0gRXhwcnMuc3ViKHNjb3BlLCByZW1haW5zLCBFeHBycy5hZGQoc2NvcGUsIGJvdHRvbSwgdG9wKSk7XG4gICAgICB9IGVsc2UgaWYgKCFib3R0b20pIHtcbiAgICAgICAgYm90dG9tID0gRXhwcnMuc3ViKHNjb3BlLCByZW1haW5zLCBFeHBycy5hZGQoc2NvcGUsIHRvcCwgaGVpZ2h0KSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gc25hcC1oZWlnaHQgaXMgaW5oZXJpdGVkXG4gICAgY29uc3Qgc25hcEhlaWdodFZhbCA9XG4gICAgICBzdHlsZVtcInNuYXAtaGVpZ2h0XCJdIHx8XG4gICAgICAodGhpcy5wYXJlbnRJbnN0YW5jZSA/IHRoaXMucGFyZW50SW5zdGFuY2Uuc3R5bGVbXCJzbmFwLWhlaWdodFwiXSA6IG51bGwpO1xuICAgIGNvbnN0IHNuYXBIZWlnaHQgPSB0b0V4cHJaZXJvKHNjb3BlLCBzbmFwSGVpZ2h0VmFsLCBwYXJlbnRXaWR0aCk7XG4gICAgc3R5bGVbXCJ0b3BcIl0gPSBuZXcgQ3NzLkV4cHIodG9wKTtcbiAgICBzdHlsZVtcIm1hcmdpbi10b3BcIl0gPSBuZXcgQ3NzLkV4cHIobWFyZ2luVG9wKTtcbiAgICBzdHlsZVtcImJvcmRlci10b3Atd2lkdGhcIl0gPSBuZXcgQ3NzLkV4cHIoYm9yZGVyVG9wV2lkdGgpO1xuICAgIHN0eWxlW1wicGFkZGluZy10b3BcIl0gPSBuZXcgQ3NzLkV4cHIocGFkZGluZ1RvcCk7XG4gICAgc3R5bGVbXCJoZWlnaHRcIl0gPSBuZXcgQ3NzLkV4cHIoaGVpZ2h0KTtcbiAgICBzdHlsZVtcIm1heC1oZWlnaHRcIl0gPSBuZXcgQ3NzLkV4cHIobWF4SGVpZ2h0ID8gbWF4SGVpZ2h0IDogaGVpZ2h0KTtcbiAgICBzdHlsZVtcInBhZGRpbmctYm90dG9tXCJdID0gbmV3IENzcy5FeHByKHBhZGRpbmdCb3R0b20pO1xuICAgIHN0eWxlW1wiYm9yZGVyLWJvdHRvbS13aWR0aFwiXSA9IG5ldyBDc3MuRXhwcihib3JkZXJCb3R0b21XaWR0aCk7XG4gICAgc3R5bGVbXCJtYXJnaW4tYm90dG9tXCJdID0gbmV3IENzcy5FeHByKG1hcmdpbkJvdHRvbSk7XG4gICAgc3R5bGVbXCJib3R0b21cIl0gPSBuZXcgQ3NzLkV4cHIoYm90dG9tKTtcbiAgICBzdHlsZVtcInNuYXAtaGVpZ2h0XCJdID0gbmV3IENzcy5FeHByKHNuYXBIZWlnaHQpO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0Q29sdW1ucygpOiB2b2lkIHtcbiAgICBjb25zdCBzY29wZSA9IHRoaXMucGFnZUJveC5zY29wZTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuc3R5bGU7XG4gICAgY29uc3Qgd2lkdGggPSB0b0V4cHJBdXRvKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVt0aGlzLnZlcnRpY2FsID8gXCJoZWlnaHRcIiA6IFwid2lkdGhcIl0sXG4gICAgICBudWxsLFxuICAgICk7XG4gICAgbGV0IGNvbHVtbldpZHRoID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJjb2x1bW4td2lkdGhcIl0sIHdpZHRoKTtcbiAgICBsZXQgY29sdW1uQ291bnQgPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcImNvbHVtbi1jb3VudFwiXSwgbnVsbCk7XG4gICAgbGV0IGNvbHVtbkdhcCA9IHRvRXhwck5vcm1hbChzY29wZSwgc3R5bGVbXCJjb2x1bW4tZ2FwXCJdLCBudWxsKTtcbiAgICBpZiAoIWNvbHVtbkdhcCkge1xuICAgICAgY29sdW1uR2FwID0gbmV3IEV4cHJzLk51bWVyaWMoc2NvcGUsIDEsIFwiZW1cIik7XG4gICAgfVxuICAgIGlmIChjb2x1bW5XaWR0aCAmJiAhY29sdW1uQ291bnQpIHtcbiAgICAgIGNvbHVtbkNvdW50ID0gbmV3IEV4cHJzLkNhbGwoc2NvcGUsIFwiZmxvb3JcIiwgW1xuICAgICAgICBFeHBycy5kaXYoXG4gICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCB3aWR0aCwgY29sdW1uR2FwKSxcbiAgICAgICAgICBFeHBycy5hZGQoc2NvcGUsIGNvbHVtbldpZHRoLCBjb2x1bW5HYXApLFxuICAgICAgICApLFxuICAgICAgXSk7XG4gICAgICBjb2x1bW5Db3VudCA9IG5ldyBFeHBycy5DYWxsKHNjb3BlLCBcIm1heFwiLCBbc2NvcGUub25lLCBjb2x1bW5Db3VudF0pO1xuICAgIH1cbiAgICBpZiAoIWNvbHVtbkNvdW50KSB7XG4gICAgICBjb2x1bW5Db3VudCA9IHNjb3BlLm9uZTtcbiAgICB9XG4gICAgY29sdW1uV2lkdGggPSBFeHBycy5zdWIoXG4gICAgICBzY29wZSxcbiAgICAgIEV4cHJzLmRpdihzY29wZSwgRXhwcnMuYWRkKHNjb3BlLCB3aWR0aCwgY29sdW1uR2FwKSwgY29sdW1uQ291bnQpLFxuICAgICAgY29sdW1uR2FwLFxuICAgICk7XG4gICAgc3R5bGVbXCJjb2x1bW4td2lkdGhcIl0gPSBuZXcgQ3NzLkV4cHIoY29sdW1uV2lkdGgpO1xuICAgIHN0eWxlW1wiY29sdW1uLWNvdW50XCJdID0gbmV3IENzcy5FeHByKGNvbHVtbkNvdW50KTtcbiAgICBzdHlsZVtcImNvbHVtbi1nYXBcIl0gPSBuZXcgQ3NzLkV4cHIoY29sdW1uR2FwKTtcbiAgfVxuXG4gIHByaXZhdGUgZGVwZW5kcyhcbiAgICBwcm9wTmFtZTogc3RyaW5nLFxuICAgIHZhbDogRXhwcnMuVmFsLFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnN0eWxlW3Byb3BOYW1lXVxuICAgICAgLnRvRXhwcih0aGlzLnBhZ2VCb3guc2NvcGUsIG51bGwpXG4gICAgICAuZGVwZW5kKHZhbCwgY29udGV4dCk7XG4gIH1cblxuICBwcml2YXRlIGluaXQoY29udGV4dDogRXhwcnMuQ29udGV4dCk6IHZvaWQge1xuICAgIC8vIElmIGNvbnRleHQgZG9lcyBub3QgaW1wbGVtZW50IEluc3RhbmNlSG9sZGVyIHdlIHdvdWxkIG5vdCBiZSBhYmxlIHRvXG4gICAgLy8gcmVzb2x2ZSBcInBhcnRpdGlvbi5wcm9wZXJ0eVwiIG5hbWVzIGxhdGVyLlxuICAgIGNvbnN0IGhvbGRlciA9IGNvbnRleHQgYXMgSW5zdGFuY2VIb2xkZXI7XG4gICAgaG9sZGVyLnJlZ2lzdGVySW5zdGFuY2UodGhpcy5wYWdlQm94LmtleSwgdGhpcyk7XG4gICAgY29uc3Qgc2NvcGUgPSB0aGlzLnBhZ2VCb3guc2NvcGU7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLnN0eWxlO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IHJlZ2lvbklkcyA9IHRoaXMucGFyZW50SW5zdGFuY2VcbiAgICAgID8gdGhpcy5wYXJlbnRJbnN0YW5jZS5nZXRBY3RpdmVSZWdpb25zKGNvbnRleHQpXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgY2FzY01hcCA9IENzc0Nhc2NhZGUuZmxhdHRlbkNhc2NhZGVkU3R5bGUoXG4gICAgICB0aGlzLmNhc2NhZGVkLFxuICAgICAgY29udGV4dCxcbiAgICAgIHJlZ2lvbklkcyxcbiAgICAgIGZhbHNlLFxuICAgICAgbnVsbCxcbiAgICApO1xuICAgIHRoaXMudmVydGljYWwgPSBDc3NDYXNjYWRlLmlzVmVydGljYWwoXG4gICAgICBjYXNjTWFwLFxuICAgICAgY29udGV4dCxcbiAgICAgIHRoaXMucGFyZW50SW5zdGFuY2UgPyB0aGlzLnBhcmVudEluc3RhbmNlLnZlcnRpY2FsIDogZmFsc2UsXG4gICAgKTtcbiAgICB0aGlzLnJ0bCA9IENzc0Nhc2NhZGUuaXNSdGwoXG4gICAgICBjYXNjTWFwLFxuICAgICAgY29udGV4dCxcbiAgICAgIHRoaXMucGFyZW50SW5zdGFuY2UgPyB0aGlzLnBhcmVudEluc3RhbmNlLnJ0bCA6IGZhbHNlLFxuICAgICk7XG4gICAgQ3NzQ2FzY2FkZS5jb252ZXJ0VG9QaHlzaWNhbChcbiAgICAgIGNhc2NNYXAsXG4gICAgICBzdHlsZSxcbiAgICAgIHRoaXMudmVydGljYWwsXG4gICAgICB0aGlzLnJ0bCxcbiAgICAgIChuYW1lLCBjYXNjVmFsKSA9PiBjYXNjVmFsLnZhbHVlLFxuICAgICk7XG4gICAgdGhpcy5hdXRvV2lkdGggPSBuZXcgRXhwcnMuTmF0aXZlKFxuICAgICAgc2NvcGUsXG4gICAgICAoKSA9PiBzZWxmLmNhbGN1bGF0ZWRXaWR0aCxcbiAgICAgIFwiYXV0b1dpZHRoXCIsXG4gICAgKTtcbiAgICB0aGlzLmF1dG9IZWlnaHQgPSBuZXcgRXhwcnMuTmF0aXZlKFxuICAgICAgc2NvcGUsXG4gICAgICAoKSA9PiBzZWxmLmNhbGN1bGF0ZWRIZWlnaHQsXG4gICAgICBcImF1dG9IZWlnaHRcIixcbiAgICApO1xuICAgIHRoaXMuaW5pdEhvcml6b250YWwoKTtcbiAgICB0aGlzLmluaXRWZXJ0aWNhbCgpO1xuICAgIHRoaXMuaW5pdENvbHVtbnMoKTtcbiAgICB0aGlzLmluaXRFbmFibGVkKCk7XG4gIH1cblxuICBnZXRQcm9wKGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsIG5hbWU6IHN0cmluZyk6IENzcy5WYWwge1xuICAgIGxldCB2YWwgPSB0aGlzLnN0eWxlW25hbWVdO1xuICAgIGlmICh2YWwpIHtcbiAgICAgIHZhbCA9IENzc1BhcnNlci5ldmFsdWF0ZUNTU1RvQ1NTKGNvbnRleHQsIHZhbCwgbmFtZSk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG4gIH1cblxuICBnZXRQcm9wQXNOdW1iZXIoY29udGV4dDogRXhwcnMuQ29udGV4dCwgbmFtZTogc3RyaW5nKTogbnVtYmVyIHtcbiAgICBsZXQgdmFsID0gdGhpcy5zdHlsZVtuYW1lXTtcbiAgICBpZiAodmFsKSB7XG4gICAgICB2YWwgPSBDc3NQYXJzZXIuZXZhbHVhdGVDU1NUb0NTUyhjb250ZXh0LCB2YWwsIG5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gQ3NzLnRvTnVtYmVyKHZhbCwgY29udGV4dCk7XG4gIH1cblxuICBnZXRTcGVjaWFsKGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsIG5hbWU6IHN0cmluZyk6IENzcy5WYWxbXSB7XG4gICAgY29uc3QgYXJyID0gQ3NzQ2FzY2FkZS5nZXRTcGVjaWFsKHRoaXMuY2FzY2FkZWQsIG5hbWUpO1xuICAgIGlmIChhcnIpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IFtdIGFzIENzcy5WYWxbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHYgPSBhcnJbaV0uZXZhbHVhdGUoY29udGV4dCwgXCJcIik7XG4gICAgICAgIGlmICh2ICYmIHYgIT09IENzcy5lbXB0eSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHYpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGdldEFjdGl2ZVJlZ2lvbnMoY29udGV4dDogRXhwcnMuQ29udGV4dCk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBhcnIgPSB0aGlzLmdldFNwZWNpYWwoY29udGV4dCwgXCJyZWdpb24taWRcIik7XG4gICAgaWYgKGFycikge1xuICAgICAgY29uc3QgcmVzdWx0ID0gW10gYXMgc3RyaW5nW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXN1bHRbaV0gPSBhcnJbaV0udG9TdHJpbmcoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcHJvcGFnYXRlUHJvcGVydHkoXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgZG9jRmFjZXM6IEZvbnQuRG9jdW1lbnRGYWNlcyxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5wcm9wYWdhdGVQcm9wZXJ0eVRvRWxlbWVudChjb250ZXh0LCBjb250YWluZXIuZWxlbWVudCwgbmFtZSwgZG9jRmFjZXMpO1xuICB9XG5cbiAgcHJvcGFnYXRlUHJvcGVydHlUb0VsZW1lbnQoXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBkb2NGYWNlczogRm9udC5Eb2N1bWVudEZhY2VzLFxuICApOiB2b2lkIHtcbiAgICBsZXQgdmFsID0gdGhpcy5nZXRQcm9wKGNvbnRleHQsIG5hbWUpO1xuICAgIGlmICh2YWwpIHtcbiAgICAgIGlmIChcbiAgICAgICAgdmFsLmlzTnVtZXJpYygpICYmXG4gICAgICAgIEV4cHJzLm5lZWRVbml0Q29udmVyc2lvbigodmFsIGFzIENzcy5OdW1lcmljKS51bml0KVxuICAgICAgKSB7XG4gICAgICAgIHZhbCA9IENzcy5jb252ZXJ0TnVtZXJpY1RvUHgodmFsLCBjb250ZXh0KTtcbiAgICAgIH1cbiAgICAgIGlmIChuYW1lID09PSBcImZvbnQtZmFtaWx5XCIpIHtcbiAgICAgICAgdmFsID0gZG9jRmFjZXMuZmlsdGVyRm9udEZhbWlseSh2YWwpO1xuICAgICAgfVxuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBuYW1lLCB2YWwudG9TdHJpbmcoKSk7XG4gICAgfVxuICB9XG5cbiAgcHJvcGFnYXRlRGVsYXllZFByb3BlcnR5KFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGRlbGF5ZWRJdGVtczogVnRyZWUuRGVsYXllZEl0ZW1bXSxcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgdmFsID0gdGhpcy5nZXRQcm9wKGNvbnRleHQsIG5hbWUpO1xuICAgIGlmICh2YWwpIHtcbiAgICAgIGRlbGF5ZWRJdGVtcy5wdXNoKG5ldyBWdHJlZS5EZWxheWVkSXRlbShjb250YWluZXIuZWxlbWVudCwgbmFtZSwgdmFsKSk7XG4gICAgfVxuICB9XG5cbiAgYXNzaWduTGVmdFBvc2l0aW9uKGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyKTogdm9pZCB7XG4gICAgY29uc3QgbGVmdCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwibGVmdFwiKTtcbiAgICBjb25zdCBtYXJnaW5MZWZ0ID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJtYXJnaW4tbGVmdFwiKTtcbiAgICBjb25zdCBwYWRkaW5nTGVmdCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwicGFkZGluZy1sZWZ0XCIpO1xuICAgIGNvbnN0IGJvcmRlckxlZnRXaWR0aCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwiYm9yZGVyLWxlZnQtd2lkdGhcIik7XG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcIndpZHRoXCIpO1xuICAgIGNvbnRhaW5lci5zZXRIb3Jpem9udGFsUG9zaXRpb24obGVmdCwgd2lkdGgpO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwibWFyZ2luLWxlZnRcIiwgYCR7bWFyZ2luTGVmdH1weGApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwicGFkZGluZy1sZWZ0XCIsIGAke3BhZGRpbmdMZWZ0fXB4YCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgIGNvbnRhaW5lci5lbGVtZW50LFxuICAgICAgXCJib3JkZXItbGVmdC13aWR0aFwiLFxuICAgICAgYCR7Ym9yZGVyTGVmdFdpZHRofXB4YCxcbiAgICApO1xuICAgIGNvbnRhaW5lci5tYXJnaW5MZWZ0ID0gbWFyZ2luTGVmdDtcbiAgICBjb250YWluZXIuYm9yZGVyTGVmdCA9IGJvcmRlckxlZnRXaWR0aDtcbiAgICBjb250YWluZXIucGFkZGluZ0xlZnQgPSBwYWRkaW5nTGVmdDtcbiAgfVxuXG4gIGFzc2lnblJpZ2h0UG9zaXRpb24oXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgcmlnaHQgPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcInJpZ2h0XCIpO1xuICAgIGNvbnN0IHNuYXBXaWR0aCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwic25hcC1oZWlnaHRcIik7XG4gICAgY29uc3QgbWFyZ2luUmlnaHQgPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcIm1hcmdpbi1yaWdodFwiKTtcbiAgICBsZXQgcGFkZGluZ1JpZ2h0ID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJwYWRkaW5nLXJpZ2h0XCIpO1xuICAgIGNvbnN0IGJvcmRlclJpZ2h0V2lkdGggPSB0aGlzLmdldFByb3BBc051bWJlcihcbiAgICAgIGNvbnRleHQsXG4gICAgICBcImJvcmRlci1yaWdodC13aWR0aFwiLFxuICAgICk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIuZWxlbWVudCwgXCJtYXJnaW4tcmlnaHRcIiwgYCR7bWFyZ2luUmlnaHR9cHhgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgY29udGFpbmVyLmVsZW1lbnQsXG4gICAgICBcInBhZGRpbmctcmlnaHRcIixcbiAgICAgIGAke3BhZGRpbmdSaWdodH1weGAsXG4gICAgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgY29udGFpbmVyLmVsZW1lbnQsXG4gICAgICBcImJvcmRlci1yaWdodC13aWR0aFwiLFxuICAgICAgYCR7Ym9yZGVyUmlnaHRXaWR0aH1weGAsXG4gICAgKTtcbiAgICBjb250YWluZXIubWFyZ2luUmlnaHQgPSBtYXJnaW5SaWdodDtcbiAgICBjb250YWluZXIuYm9yZGVyUmlnaHQgPSBib3JkZXJSaWdodFdpZHRoO1xuICAgIGlmICh0aGlzLnZlcnRpY2FsICYmIHNuYXBXaWR0aCA+IDApIHtcbiAgICAgIGNvbnN0IHhwb3MgPSByaWdodCArIGNvbnRhaW5lci5nZXRJbnNldFJpZ2h0KCk7XG4gICAgICBjb25zdCByID0geHBvcyAtIE1hdGguZmxvb3IoeHBvcyAvIHNuYXBXaWR0aCkgKiBzbmFwV2lkdGg7XG4gICAgICBpZiAociA+IDApIHtcbiAgICAgICAgY29udGFpbmVyLnNuYXBPZmZzZXRYID0gc25hcFdpZHRoIC0gcjtcbiAgICAgICAgcGFkZGluZ1JpZ2h0ICs9IGNvbnRhaW5lci5zbmFwT2Zmc2V0WDtcbiAgICAgIH1cbiAgICB9XG4gICAgY29udGFpbmVyLnBhZGRpbmdSaWdodCA9IHBhZGRpbmdSaWdodDtcbiAgICBjb250YWluZXIuc25hcFdpZHRoID0gc25hcFdpZHRoO1xuICB9XG5cbiAgYXNzaWduVG9wUG9zaXRpb24oY29udGV4dDogRXhwcnMuQ29udGV4dCwgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIpOiB2b2lkIHtcbiAgICBjb25zdCBzbmFwSGVpZ2h0ID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJzbmFwLWhlaWdodFwiKTtcbiAgICBjb25zdCB0b3AgPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcInRvcFwiKTtcbiAgICBjb25zdCBtYXJnaW5Ub3AgPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcIm1hcmdpbi10b3BcIik7XG4gICAgbGV0IHBhZGRpbmdUb3AgPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcInBhZGRpbmctdG9wXCIpO1xuICAgIGNvbnN0IGJvcmRlclRvcFdpZHRoID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJib3JkZXItdG9wLXdpZHRoXCIpO1xuICAgIGNvbnRhaW5lci50b3AgPSB0b3A7XG4gICAgY29udGFpbmVyLm1hcmdpblRvcCA9IG1hcmdpblRvcDtcbiAgICBjb250YWluZXIuYm9yZGVyVG9wID0gYm9yZGVyVG9wV2lkdGg7XG4gICAgY29udGFpbmVyLnNuYXBIZWlnaHQgPSBzbmFwSGVpZ2h0O1xuICAgIGlmICghdGhpcy52ZXJ0aWNhbCAmJiBzbmFwSGVpZ2h0ID4gMCkge1xuICAgICAgY29uc3QgeXBvcyA9IHRvcCArIGNvbnRhaW5lci5nZXRJbnNldFRvcCgpO1xuICAgICAgY29uc3QgciA9IHlwb3MgLSBNYXRoLmZsb29yKHlwb3MgLyBzbmFwSGVpZ2h0KSAqIHNuYXBIZWlnaHQ7XG4gICAgICBpZiAociA+IDApIHtcbiAgICAgICAgY29udGFpbmVyLnNuYXBPZmZzZXRZID0gc25hcEhlaWdodCAtIHI7XG4gICAgICAgIHBhZGRpbmdUb3AgKz0gY29udGFpbmVyLnNuYXBPZmZzZXRZO1xuICAgICAgfVxuICAgIH1cbiAgICBjb250YWluZXIucGFkZGluZ1RvcCA9IHBhZGRpbmdUb3A7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIuZWxlbWVudCwgXCJ0b3BcIiwgYCR7dG9wfXB4YCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIuZWxlbWVudCwgXCJtYXJnaW4tdG9wXCIsIGAke21hcmdpblRvcH1weGApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwicGFkZGluZy10b3BcIiwgYCR7cGFkZGluZ1RvcH1weGApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICBjb250YWluZXIuZWxlbWVudCxcbiAgICAgIFwiYm9yZGVyLXRvcC13aWR0aFwiLFxuICAgICAgYCR7Ym9yZGVyVG9wV2lkdGh9cHhgLFxuICAgICk7XG4gIH1cblxuICBhc3NpZ25Cb3R0b21Qb3NpdGlvbihcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBtYXJnaW5Cb3R0b20gPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcIm1hcmdpbi1ib3R0b21cIik7XG4gICAgY29uc3QgcGFkZGluZ0JvdHRvbSA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwicGFkZGluZy1ib3R0b21cIik7XG4gICAgY29uc3QgYm9yZGVyQm90dG9tV2lkdGggPSB0aGlzLmdldFByb3BBc051bWJlcihcbiAgICAgIGNvbnRleHQsXG4gICAgICBcImJvcmRlci1ib3R0b20td2lkdGhcIixcbiAgICApO1xuICAgIGNvbnN0IGhlaWdodCA9XG4gICAgICB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcImhlaWdodFwiKSAtIGNvbnRhaW5lci5zbmFwT2Zmc2V0WTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lci5lbGVtZW50LCBcImhlaWdodFwiLCBgJHtoZWlnaHR9cHhgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgY29udGFpbmVyLmVsZW1lbnQsXG4gICAgICBcIm1hcmdpbi1ib3R0b21cIixcbiAgICAgIGAke21hcmdpbkJvdHRvbX1weGAsXG4gICAgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgY29udGFpbmVyLmVsZW1lbnQsXG4gICAgICBcInBhZGRpbmctYm90dG9tXCIsXG4gICAgICBgJHtwYWRkaW5nQm90dG9tfXB4YCxcbiAgICApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICBjb250YWluZXIuZWxlbWVudCxcbiAgICAgIFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiLFxuICAgICAgYCR7Ym9yZGVyQm90dG9tV2lkdGh9cHhgLFxuICAgICk7XG4gICAgY29udGFpbmVyLmhlaWdodCA9IGhlaWdodCAtIGNvbnRhaW5lci5zbmFwT2Zmc2V0WTtcbiAgICBjb250YWluZXIubWFyZ2luQm90dG9tID0gbWFyZ2luQm90dG9tO1xuICAgIGNvbnRhaW5lci5ib3JkZXJCb3R0b20gPSBib3JkZXJCb3R0b21XaWR0aDtcbiAgICBjb250YWluZXIucGFkZGluZ0JvdHRvbSA9IHBhZGRpbmdCb3R0b207XG4gIH1cblxuICBhc3NpZ25CZWZvcmVQb3NpdGlvbihcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICApOiB2b2lkIHtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy5hc3NpZ25SaWdodFBvc2l0aW9uKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXNzaWduVG9wUG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICB9XG4gIH1cblxuICBhc3NpZ25BZnRlclBvc2l0aW9uKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICB0aGlzLmFzc2lnbkxlZnRQb3NpdGlvbihjb250ZXh0LCBjb250YWluZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFzc2lnbkJvdHRvbVBvc2l0aW9uKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgfVxuICB9XG5cbiAgYXNzaWduU3RhcnRFbmRQb3NpdGlvbihcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICApOiB2b2lkIHtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy5hc3NpZ25Ub3BQb3NpdGlvbihjb250ZXh0LCBjb250YWluZXIpO1xuICAgICAgdGhpcy5hc3NpZ25Cb3R0b21Qb3NpdGlvbihjb250ZXh0LCBjb250YWluZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFzc2lnblJpZ2h0UG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICAgIHRoaXMuYXNzaWduTGVmdFBvc2l0aW9uKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgfVxuICB9XG5cbiAgc2l6ZVdpdGhNYXhIZWlnaHQoY29udGV4dDogRXhwcnMuQ29udGV4dCwgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIpOiB2b2lkIHtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lci5lbGVtZW50LCBcImJvcmRlci10b3Atd2lkdGhcIiwgXCIwcHhcIik7XG4gICAgbGV0IGhlaWdodCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwibWF4LWhlaWdodFwiKTtcbiAgICBpZiAodGhpcy5pc1RvcERlcGVuZGVudE9uQXV0b0hlaWdodCkge1xuICAgICAgY29udGFpbmVyLnNldFZlcnRpY2FsUG9zaXRpb24oMCwgaGVpZ2h0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hc3NpZ25Ub3BQb3NpdGlvbihjb250ZXh0LCBjb250YWluZXIpO1xuICAgICAgaGVpZ2h0IC09IGNvbnRhaW5lci5zbmFwT2Zmc2V0WTtcbiAgICAgIGNvbnRhaW5lci5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lci5lbGVtZW50LCBcImhlaWdodFwiLCBgJHtoZWlnaHR9cHhgKTtcbiAgICB9XG4gIH1cblxuICBzaXplV2l0aE1heFdpZHRoKGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyKTogdm9pZCB7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIuZWxlbWVudCwgXCJib3JkZXItbGVmdC13aWR0aFwiLCBcIjBweFwiKTtcbiAgICBsZXQgd2lkdGggPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcIm1heC13aWR0aFwiKTtcbiAgICBpZiAodGhpcy5pc1JpZ2h0RGVwZW5kZW50T25BdXRvV2lkdGgpIHtcbiAgICAgIGNvbnRhaW5lci5zZXRIb3Jpem9udGFsUG9zaXRpb24oMCwgd2lkdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFzc2lnblJpZ2h0UG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICAgIHdpZHRoIC09IGNvbnRhaW5lci5zbmFwT2Zmc2V0WDtcbiAgICAgIGNvbnRhaW5lci53aWR0aCA9IHdpZHRoO1xuICAgICAgY29uc3QgcmlnaHQgPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcInJpZ2h0XCIpO1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIuZWxlbWVudCwgXCJyaWdodFwiLCBgJHtyaWdodH1weGApO1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIuZWxlbWVudCwgXCJ3aWR0aFwiLCBgJHt3aWR0aH1weGApO1xuICAgIH1cbiAgfVxuXG4gIHByZXBhcmVDb250YWluZXIoXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIGRvY0ZhY2VzOiBGb250LkRvY3VtZW50RmFjZXMsXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICk6IHZvaWQge1xuICAgIGlmICghdGhpcy5wYXJlbnRJbnN0YW5jZSB8fCB0aGlzLnZlcnRpY2FsICE9IHRoaXMucGFyZW50SW5zdGFuY2UudmVydGljYWwpIHtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICAgIGNvbnRhaW5lci5lbGVtZW50LFxuICAgICAgICBcIndyaXRpbmctbW9kZVwiLFxuICAgICAgICB0aGlzLnZlcnRpY2FsID8gXCJ2ZXJ0aWNhbC1ybFwiIDogXCJob3Jpem9udGFsLXRiXCIsXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy52ZXJ0aWNhbCA/IHRoaXMuaXNBdXRvV2lkdGggOiB0aGlzLmlzQXV0b0hlaWdodCkge1xuICAgICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgICAgdGhpcy5zaXplV2l0aE1heFdpZHRoKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNpemVXaXRoTWF4SGVpZ2h0KGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXNzaWduQmVmb3JlUG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICAgIHRoaXMuYXNzaWduQWZ0ZXJQb3NpdGlvbihjb250ZXh0LCBjb250YWluZXIpO1xuICAgIH1cbiAgICBpZiAodGhpcy52ZXJ0aWNhbCA/IHRoaXMuaXNBdXRvSGVpZ2h0IDogdGhpcy5pc0F1dG9XaWR0aCkge1xuICAgICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgICAgdGhpcy5zaXplV2l0aE1heEhlaWdodChjb250ZXh0LCBjb250YWluZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zaXplV2l0aE1heFdpZHRoKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXNzaWduU3RhcnRFbmRQb3NpdGlvbihjb250ZXh0LCBjb250YWluZXIpO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhc3NQcmVQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnByb3BhZ2F0ZVByb3BlcnR5KFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIHBhc3NQcmVQcm9wZXJ0aWVzW2ldLFxuICAgICAgICBkb2NGYWNlcyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgdHJhbnNmZXJDb250ZW50UHJvcHMoXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIGRvY0ZhY2VzOiBGb250LkRvY3VtZW50RmFjZXMsXG4gICk6IHZvaWQge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFzc0NvbnRlbnRQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnByb3BhZ2F0ZVByb3BlcnR5KFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIHBhc3NDb250ZW50UHJvcGVydGllc1tpXSxcbiAgICAgICAgZG9jRmFjZXMsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHRyYW5zZmVyU2luZ2xVcmlDb250ZW50UHJvcHMoXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgIGRvY0ZhY2VzOiBGb250LkRvY3VtZW50RmFjZXMsXG4gICk6IHZvaWQge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFzc1NpbmdsZVVyaUNvbnRlbnRQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnByb3BhZ2F0ZVByb3BlcnR5VG9FbGVtZW50KFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICBwYXNzU2luZ2xlVXJpQ29udGVudFByb3BlcnRpZXNbaV0sXG4gICAgICAgIGRvY0ZhY2VzLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGNvbHVtbiAobnVsbCB3aGVuIGNvbnRlbnQgY29tZXMgZnJvbSB0aGUgY29udGVudCBwcm9wZXJ0eSlcbiAgICovXG4gIGZpbmlzaENvbnRhaW5lcihcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gICAgY29sdW1uOiBWdHJlZS5Db250YWluZXIsXG4gICAgY29sdW1uQ291bnQ6IG51bWJlcixcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgICBkb2NGYWNlczogRm9udC5Eb2N1bWVudEZhY2VzLFxuICApOiB2b2lkIHtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy5jYWxjdWxhdGVkV2lkdGggPVxuICAgICAgICBjb250YWluZXIuY29tcHV0ZWRCbG9ja1NpemUgKyBjb250YWluZXIuc25hcE9mZnNldFg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2FsY3VsYXRlZEhlaWdodCA9XG4gICAgICAgIGNvbnRhaW5lci5jb21wdXRlZEJsb2NrU2l6ZSArIGNvbnRhaW5lci5zbmFwT2Zmc2V0WTtcbiAgICB9XG4gICAgY29uc3QgcmVhZEhlaWdodCA9ICh0aGlzLnZlcnRpY2FsIHx8ICFjb2x1bW4pICYmIHRoaXMuaXNBdXRvSGVpZ2h0O1xuICAgIGNvbnN0IHJlYWRXaWR0aCA9ICghdGhpcy52ZXJ0aWNhbCB8fCAhY29sdW1uKSAmJiB0aGlzLmlzQXV0b1dpZHRoO1xuICAgIGxldCBiYm94OiBWdHJlZS5DbGllbnRSZWN0ID0gbnVsbDtcbiAgICBpZiAocmVhZFdpZHRoIHx8IHJlYWRIZWlnaHQpIHtcbiAgICAgIGlmIChyZWFkV2lkdGgpIHtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIuZWxlbWVudCwgXCJ3aWR0aFwiLCBcImF1dG9cIik7XG4gICAgICB9XG4gICAgICBpZiAocmVhZEhlaWdodCkge1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lci5lbGVtZW50LCBcImhlaWdodFwiLCBcImF1dG9cIik7XG4gICAgICB9XG4gICAgICBiYm94ID0gY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KFxuICAgICAgICBjb2x1bW4gPyBjb2x1bW4uZWxlbWVudCA6IGNvbnRhaW5lci5lbGVtZW50LFxuICAgICAgKTtcbiAgICAgIGlmIChyZWFkV2lkdGgpIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVkV2lkdGggPSBNYXRoLmNlaWwoXG4gICAgICAgICAgYmJveC5yaWdodCAtXG4gICAgICAgICAgICBiYm94LmxlZnQgLVxuICAgICAgICAgICAgY29udGFpbmVyLnBhZGRpbmdMZWZ0IC1cbiAgICAgICAgICAgIGNvbnRhaW5lci5ib3JkZXJMZWZ0IC1cbiAgICAgICAgICAgIGNvbnRhaW5lci5wYWRkaW5nUmlnaHQgLVxuICAgICAgICAgICAgY29udGFpbmVyLmJvcmRlclJpZ2h0LFxuICAgICAgICApO1xuICAgICAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICAgIHRoaXMuY2FsY3VsYXRlZFdpZHRoICs9IGNvbnRhaW5lci5zbmFwT2Zmc2V0WDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlYWRIZWlnaHQpIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVkSGVpZ2h0ID1cbiAgICAgICAgICBiYm94LmJvdHRvbSAtXG4gICAgICAgICAgYmJveC50b3AgLVxuICAgICAgICAgIGNvbnRhaW5lci5wYWRkaW5nVG9wIC1cbiAgICAgICAgICBjb250YWluZXIuYm9yZGVyVG9wIC1cbiAgICAgICAgICBjb250YWluZXIucGFkZGluZ0JvdHRvbSAtXG4gICAgICAgICAgY29udGFpbmVyLmJvcmRlckJvdHRvbTtcbiAgICAgICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgICAgdGhpcy5jYWxjdWxhdGVkSGVpZ2h0ICs9IGNvbnRhaW5lci5zbmFwT2Zmc2V0WTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy52ZXJ0aWNhbCA/IHRoaXMuaXNBdXRvSGVpZ2h0IDogdGhpcy5pc0F1dG9XaWR0aCkge1xuICAgICAgdGhpcy5hc3NpZ25TdGFydEVuZFBvc2l0aW9uKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgfVxuICAgIGlmICh0aGlzLnZlcnRpY2FsID8gdGhpcy5pc0F1dG9XaWR0aCA6IHRoaXMuaXNBdXRvSGVpZ2h0KSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMudmVydGljYWxcbiAgICAgICAgICA/IHRoaXMuaXNSaWdodERlcGVuZGVudE9uQXV0b1dpZHRoXG4gICAgICAgICAgOiB0aGlzLmlzVG9wRGVwZW5kZW50T25BdXRvSGVpZ2h0XG4gICAgICApIHtcbiAgICAgICAgdGhpcy5hc3NpZ25CZWZvcmVQb3NpdGlvbihjb250ZXh0LCBjb250YWluZXIpO1xuICAgICAgfVxuICAgICAgdGhpcy5hc3NpZ25BZnRlclBvc2l0aW9uKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgfVxuICAgIGlmIChjb2x1bW5Db3VudCA+IDEpIHtcbiAgICAgIGNvbnN0IHJ1bGVXaWR0aCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwiY29sdW1uLXJ1bGUtd2lkdGhcIik7XG4gICAgICBjb25zdCBydWxlU3R5bGUgPSB0aGlzLmdldFByb3AoY29udGV4dCwgXCJjb2x1bW4tcnVsZS1zdHlsZVwiKTtcbiAgICAgIGNvbnN0IHJ1bGVDb2xvciA9IHRoaXMuZ2V0UHJvcChjb250ZXh0LCBcImNvbHVtbi1ydWxlLWNvbG9yXCIpO1xuICAgICAgaWYgKFxuICAgICAgICBydWxlV2lkdGggPiAwICYmXG4gICAgICAgIHJ1bGVTdHlsZSAmJlxuICAgICAgICBydWxlU3R5bGUgIT0gQ3NzLmlkZW50Lm5vbmUgJiZcbiAgICAgICAgcnVsZUNvbG9yICE9IENzcy5pZGVudC50cmFuc3BhcmVudFxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IGNvbHVtbkdhcCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwiY29sdW1uLWdhcFwiKTtcbiAgICAgICAgY29uc3QgY29udGFpbmVyU2l6ZSA9IHRoaXMudmVydGljYWxcbiAgICAgICAgICA/IGNvbnRhaW5lci5oZWlnaHRcbiAgICAgICAgICA6IGNvbnRhaW5lci53aWR0aDtcbiAgICAgICAgY29uc3QgYm9yZGVyID0gdGhpcy52ZXJ0aWNhbCA/IFwiYm9yZGVyLXRvcFwiIDogXCJib3JkZXItbGVmdFwiO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGNvbHVtbkNvdW50OyBpKyspIHtcbiAgICAgICAgICBjb25zdCBwb3MgPVxuICAgICAgICAgICAgKChjb250YWluZXJTaXplICsgY29sdW1uR2FwKSAqIGkpIC8gY29sdW1uQ291bnQgLVxuICAgICAgICAgICAgY29sdW1uR2FwIC8gMiArXG4gICAgICAgICAgICBjb250YWluZXIucGFkZGluZ0xlZnQgLVxuICAgICAgICAgICAgcnVsZVdpZHRoIC8gMjtcbiAgICAgICAgICBjb25zdCBzaXplID1cbiAgICAgICAgICAgIGNvbnRhaW5lci5oZWlnaHQgKyBjb250YWluZXIucGFkZGluZ1RvcCArIGNvbnRhaW5lci5wYWRkaW5nQm90dG9tO1xuICAgICAgICAgIGNvbnN0IHJ1bGUgPSBjb250YWluZXIuZWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShydWxlLCBcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIik7XG4gICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShydWxlLCB0aGlzLnZlcnRpY2FsID8gXCJsZWZ0XCIgOiBcInRvcFwiLCBcIjBweFwiKTtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHJ1bGUsIHRoaXMudmVydGljYWwgPyBcInRvcFwiIDogXCJsZWZ0XCIsIGAke3Bvc31weGApO1xuICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkocnVsZSwgdGhpcy52ZXJ0aWNhbCA/IFwiaGVpZ2h0XCIgOiBcIndpZHRoXCIsIFwiMHB4XCIpO1xuICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICAgICAgICBydWxlLFxuICAgICAgICAgICAgdGhpcy52ZXJ0aWNhbCA/IFwid2lkdGhcIiA6IFwiaGVpZ2h0XCIsXG4gICAgICAgICAgICBgJHtzaXplfXB4YCxcbiAgICAgICAgICApO1xuICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICAgICAgICBydWxlLFxuICAgICAgICAgICAgYm9yZGVyLFxuICAgICAgICAgICAgYCR7cnVsZVdpZHRofXB4ICR7cnVsZVN0eWxlLnRvU3RyaW5nKCl9JHtcbiAgICAgICAgICAgICAgcnVsZUNvbG9yID8gYCAke3J1bGVDb2xvci50b1N0cmluZygpfWAgOiBcIlwiXG4gICAgICAgICAgICB9YCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnRhaW5lci5lbGVtZW50Lmluc2VydEJlZm9yZShydWxlLCBjb250YWluZXIuZWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhc3NQb3N0UHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5wcm9wYWdhdGVQcm9wZXJ0eShcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBwYXNzUG9zdFByb3BlcnRpZXNbaV0sXG4gICAgICAgIGRvY0ZhY2VzLFxuICAgICAgKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWxheWVkUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5wcm9wYWdhdGVEZWxheWVkUHJvcGVydHkoXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgZGVsYXllZFByb3BlcnRpZXNbaV0sXG4gICAgICAgIHBhZ2UuZGVsYXllZEl0ZW1zLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBhcHBseUNhc2NhZGVBbmRJbml0KFxuICAgIGNhc2NhZGU6IENzc0Nhc2NhZGUuQ2FzY2FkZUluc3RhbmNlLFxuICAgIGRvY0VsZW1lbnRTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5jYXNjYWRlZDtcbiAgICBjb25zdCBzcGVjaWZpZWQgPSB0aGlzLnBhZ2VCb3guc3BlY2lmaWVkO1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBzcGVjaWZpZWQpIHtcbiAgICAgIGlmIChDc3NDYXNjYWRlLmlzUHJvcE5hbWUobmFtZSkpIHtcbiAgICAgICAgQ3NzQ2FzY2FkZS5zZXRQcm9wKHN0eWxlLCBuYW1lLCBDc3NDYXNjYWRlLmdldFByb3Aoc3BlY2lmaWVkLCBuYW1lKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnBhZ2VCb3gucHNldWRvTmFtZSA9PSB1c2VyQWdlbnRQYWdlTWFzdGVyUHNldWRvKSB7XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gZG9jRWxlbWVudFN0eWxlKSB7XG4gICAgICAgIGlmIChuYW1lLm1hdGNoKC9eYmFja2dyb3VuZC0vKSB8fCBuYW1lID09IFwid3JpdGluZy1tb2RlXCIpIHtcbiAgICAgICAgICBzdHlsZVtuYW1lXSA9IGRvY0VsZW1lbnRTdHlsZVtuYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5wYWdlQm94LnBzZXVkb05hbWUgPT0gXCJsYXlvdXQtaG9zdFwiKSB7XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gZG9jRWxlbWVudFN0eWxlKSB7XG4gICAgICAgIGlmICghbmFtZS5tYXRjaCgvXmJhY2tncm91bmQtLykgJiYgbmFtZSAhPSBcIndyaXRpbmctbW9kZVwiKSB7XG4gICAgICAgICAgc3R5bGVbbmFtZV0gPSBkb2NFbGVtZW50U3R5bGVbbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY2FzY2FkZS5wdXNoUnVsZSh0aGlzLnBhZ2VCb3guY2xhc3NlcywgbnVsbCwgc3R5bGUpO1xuICAgIGlmIChzdHlsZVtcImNvbnRlbnRcIl0pIHtcbiAgICAgIHN0eWxlW1wiY29udGVudFwiXSA9IHN0eWxlW1wiY29udGVudFwiXS5maWx0ZXJWYWx1ZShcbiAgICAgICAgbmV3IENzc0Nhc2NhZGUuQ29udGVudFByb3BWaXNpdG9yKFxuICAgICAgICAgIGNhc2NhZGUsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBjYXNjYWRlLmNvdW50ZXJSZXNvbHZlcixcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuaW5pdChjYXNjYWRlLmNvbnRleHQpO1xuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5wYWdlQm94LmNoaWxkcmVuKSB7XG4gICAgICBjb25zdCBjaGlsZEluc3RhbmNlID0gY2hpbGQuY3JlYXRlSW5zdGFuY2UodGhpcyk7XG4gICAgICBjaGlsZEluc3RhbmNlLmFwcGx5Q2FzY2FkZUFuZEluaXQoY2FzY2FkZSwgZG9jRWxlbWVudFN0eWxlKTtcbiAgICB9XG4gICAgY2FzY2FkZS5wb3BSdWxlKCk7XG4gIH1cblxuICByZXNvbHZlQXV0b1NpemluZyhjb250ZXh0OiBFeHBycy5Db250ZXh0KTogdm9pZCB7XG4gICAgLy8gYWxsIGltcGxpY2l0IGRlcGVuZGVuY2llcyBhcmUgc2V0IHVwIGF0IHRoaXMgcG9pbnRcbiAgICBpZiAodGhpcy5pc0F1dG9XaWR0aCkge1xuICAgICAgdGhpcy5pc1JpZ2h0RGVwZW5kZW50T25BdXRvV2lkdGggPVxuICAgICAgICB0aGlzLmRlcGVuZHMoXCJyaWdodFwiLCB0aGlzLmF1dG9XaWR0aCwgY29udGV4dCkgfHxcbiAgICAgICAgdGhpcy5kZXBlbmRzKFwibWFyZ2luLXJpZ2h0XCIsIHRoaXMuYXV0b1dpZHRoLCBjb250ZXh0KSB8fFxuICAgICAgICB0aGlzLmRlcGVuZHMoXCJib3JkZXItcmlnaHQtd2lkdGhcIiwgdGhpcy5hdXRvV2lkdGgsIGNvbnRleHQpIHx8XG4gICAgICAgIHRoaXMuZGVwZW5kcyhcInBhZGRpbmctcmlnaHRcIiwgdGhpcy5hdXRvV2lkdGgsIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc0F1dG9IZWlnaHQpIHtcbiAgICAgIHRoaXMuaXNUb3BEZXBlbmRlbnRPbkF1dG9IZWlnaHQgPVxuICAgICAgICB0aGlzLmRlcGVuZHMoXCJ0b3BcIiwgdGhpcy5hdXRvSGVpZ2h0LCBjb250ZXh0KSB8fFxuICAgICAgICB0aGlzLmRlcGVuZHMoXCJtYXJnaW4tdG9wXCIsIHRoaXMuYXV0b0hlaWdodCwgY29udGV4dCkgfHxcbiAgICAgICAgdGhpcy5kZXBlbmRzKFwiYm9yZGVyLXRvcC13aWR0aFwiLCB0aGlzLmF1dG9IZWlnaHQsIGNvbnRleHQpIHx8XG4gICAgICAgIHRoaXMuZGVwZW5kcyhcInBhZGRpbmctdG9wXCIsIHRoaXMuYXV0b0hlaWdodCwgY29udGV4dCk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgY2hpbGRJbnN0YW5jZSBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICBjaGlsZEluc3RhbmNlLnJlc29sdmVBdXRvU2l6aW5nKGNvbnRleHQpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFByb3BlcnRpZXMgdGhhdCBhcmUgcGFzc2VkIHRocm91Z2ggYmVmb3JlIHRoZSBsYXlvdXQuXG4gKi9cbmV4cG9ydCBjb25zdCBwYXNzUHJlUHJvcGVydGllcyA9IFtcbiAgXCJib3JkZXItbGVmdC1zdHlsZVwiLFxuICBcImJvcmRlci1yaWdodC1zdHlsZVwiLFxuICBcImJvcmRlci10b3Atc3R5bGVcIixcbiAgXCJib3JkZXItYm90dG9tLXN0eWxlXCIsXG4gIFwiYm9yZGVyLWxlZnQtY29sb3JcIixcbiAgXCJib3JkZXItcmlnaHQtY29sb3JcIixcbiAgXCJib3JkZXItdG9wLWNvbG9yXCIsXG4gIFwiYm9yZGVyLWJvdHRvbS1jb2xvclwiLFxuICBcIm91dGxpbmUtc3R5bGVcIixcbiAgXCJvdXRsaW5lLWNvbG9yXCIsXG4gIFwib3V0bGluZS13aWR0aFwiLFxuICBcIm92ZXJmbG93XCIsXG4gIFwidmlzaWJpbGl0eVwiLFxuXTtcblxuLyoqXG4gKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIHBhc3NlZCB0aHJvdWdoIGFmdGVyIHRoZSBsYXlvdXQuXG4gKi9cbmV4cG9ydCBjb25zdCBwYXNzUG9zdFByb3BlcnRpZXMgPSBbXG4gIFwiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1c1wiLFxuICBcImJvcmRlci10b3AtcmlnaHQtcmFkaXVzXCIsXG4gIFwiYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXNcIixcbiAgXCJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzXCIsXG4gIFwiYm9yZGVyLWltYWdlLXNvdXJjZVwiLFxuICBcImJvcmRlci1pbWFnZS1zbGljZVwiLFxuICBcImJvcmRlci1pbWFnZS13aWR0aFwiLFxuICBcImJvcmRlci1pbWFnZS1vdXRzZXRcIixcbiAgXCJib3JkZXItaW1hZ2UtcmVwZWF0XCIsXG4gIFwiYmFja2dyb3VuZC1hdHRhY2htZW50XCIsXG4gIFwiYmFja2dyb3VuZC1jb2xvclwiLFxuICBcImJhY2tncm91bmQtaW1hZ2VcIixcbiAgXCJiYWNrZ3JvdW5kLXJlcGVhdFwiLFxuICBcImJhY2tncm91bmQtcG9zaXRpb25cIixcbiAgXCJiYWNrZ3JvdW5kLWNsaXBcIixcbiAgXCJiYWNrZ3JvdW5kLW9yaWdpblwiLFxuICBcImJhY2tncm91bmQtc2l6ZVwiLFxuICBcIm9wYWNpdHlcIixcbiAgXCJ6LWluZGV4XCIsXG4gIFwiYmFja2dyb3VuZC1ibGVuZC1tb2RlXCIsXG4gIFwiaXNvbGF0aW9uXCIsXG4gIFwibWl4LWJsZW5kLW1vZGVcIixcbiAgXCJmaWx0ZXJcIixcbl07XG5cbi8qKlxuICogT25seSBwYXNzZWQgd2hlbiB0aGVyZSBpcyBjb250ZW50IGFzc2lnbmVkIGJ5IHRoZSBjb250ZW50IHByb3BlcnR5LlxuICovXG5leHBvcnQgY29uc3QgcGFzc0NvbnRlbnRQcm9wZXJ0aWVzID0gW1xuICBcImNvbG9yXCIsXG4gIFwiZm9udC1mYW1pbHlcIixcbiAgXCJmb250LXNpemVcIixcbiAgXCJmb250LXN0eWxlXCIsXG4gIFwiZm9udC13ZWlnaHRcIixcbiAgXCJmb250LXZhcmlhbnRcIixcbiAgXCJsaW5lLWhlaWdodFwiLFxuICBcImxldHRlci1zcGFjaW5nXCIsXG4gIFwidGV4dC1hbGlnblwiLFxuICBcInRleHQtZGVjb3JhdGlvblwiLFxuICBcInRleHQtaW5kZW50XCIsXG4gIFwidGV4dC10cmFuc2Zvcm1cIixcbiAgXCJ3aGl0ZS1zcGFjZVwiLFxuICBcIndvcmQtc3BhY2luZ1wiLFxuICBcImZvbnQtZmVhdHVyZS1zZXR0aW5nc1wiLFxuICBcImZvbnQta2VybmluZ1wiLFxuICBcImZvbnQtc2l6ZS1hZGp1c3RcIixcbiAgXCJmb250LXZhcmlhbnQtZWFzdC1hc2lhblwiLFxuICBcImZvbnQtc3RyZXRjaFwiLFxuICBcInRleHQtZGVjb3JhdGlvbi1jb2xvclwiLFxuICBcInRleHQtZGVjb3JhdGlvbi1saW5lXCIsXG4gIFwidGV4dC1kZWNvcmF0aW9uLXNraXBcIixcbiAgXCJ0ZXh0LWRlY29yYXRpb24tc3R5bGVcIixcbiAgXCJ0ZXh0LWVtcGhhc2lzXCIsXG4gIFwidGV4dC1lbXBoYXNpcy1jb2xvclwiLFxuICBcInRleHQtZW1waGFzaXMtcG9zaXRpb25cIixcbiAgXCJ0ZXh0LWVtcGhhc2lzLXN0eWxlXCIsXG4gIFwidGV4dC1zaGFkb3dcIixcbiAgXCJ0ZXh0LXVuZGVybGluZS1wb3NpdGlvblwiLFxuXTtcblxuZXhwb3J0IGNvbnN0IHBhc3NTaW5nbGVVcmlDb250ZW50UHJvcGVydGllcyA9IFtcbiAgXCJ3aWR0aFwiLFxuICBcImhlaWdodFwiLFxuICBcImltYWdlLXJlc29sdXRpb25cIixcbiAgXCJvYmplY3QtZml0XCIsXG4gIFwib2JqZWN0LXBvc2l0aW9uXCIsXG5dO1xuXG5leHBvcnQgY29uc3QgZGVsYXllZFByb3BlcnRpZXMgPSBbXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2Zvcm0tb3JpZ2luXCJdO1xuXG5leHBvcnQgY29uc3QgdXNlckFnZW50UGFnZU1hc3RlclBzZXVkbyA9IFwiYmFja2dyb3VuZC1ob3N0XCI7XG5cbmV4cG9ydCBjbGFzcyBSb290UGFnZUJveEluc3RhbmNlIGV4dGVuZHMgUGFnZUJveEluc3RhbmNlPFJvb3RQYWdlQm94PiB7XG4gIGNvbnN0cnVjdG9yKHBhZ2VCb3g6IFJvb3RQYWdlQm94KSB7XG4gICAgc3VwZXIobnVsbCwgcGFnZUJveCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseUNhc2NhZGVBbmRJbml0KFxuICAgIGNhc2NhZGU6IENzc0Nhc2NhZGUuQ2FzY2FkZUluc3RhbmNlLFxuICAgIGRvY0VsZW1lbnRTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICk6IHZvaWQge1xuICAgIHN1cGVyLmFwcGx5Q2FzY2FkZUFuZEluaXQoY2FzY2FkZSwgZG9jRWxlbWVudFN0eWxlKTtcblxuICAgIC8vIFNvcnQgcGFnZSBtYXN0ZXJzIHVzaW5nIG9yZGVyIGFuZCBzcGVjaWZpY2l0eS5cbiAgICBjb25zdCBwYWdlTWFzdGVycyA9IHRoaXMuY2hpbGRyZW47XG4gICAgKHBhZ2VNYXN0ZXJzIGFzIFBhZ2VNYXN0ZXJJbnN0YW5jZVtdKS5zb3J0KFxuICAgICAgKGEsIGIpID0+XG4gICAgICAgIChiLnBhZ2VCb3ggYXMgYW55KS5zcGVjaWZpY2l0eSAtIChhLnBhZ2VCb3ggYXMgYW55KS5zcGVjaWZpY2l0eSB8fCAvLyBwcm9iYWJseSBjYXVzZSBOYU5cbiAgICAgICAgYS5wYWdlQm94LmluZGV4IC0gYi5wYWdlQm94LmluZGV4LFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhZ2VNYXN0ZXJJbnN0YW5jZTxcbiAgUCBleHRlbmRzIFBhZ2VNYXN0ZXIgPSBQYWdlTWFzdGVyPFBhZ2VNYXN0ZXJJbnN0YW5jZTxhbnk+PlxuPiBleHRlbmRzIFBhZ2VCb3hJbnN0YW5jZTxQPiB7XG4gIHBhZ2VNYXN0ZXJJbnN0YW5jZTogUGFnZU1hc3Rlckluc3RhbmNlO1xuXG4gIGNvbnN0cnVjdG9yKHBhcmVudEluc3RhbmNlOiBQYWdlQm94SW5zdGFuY2UsIHBhZ2VCb3g6IFApIHtcbiAgICBzdXBlcihwYXJlbnRJbnN0YW5jZSwgcGFnZUJveCk7XG4gICAgdGhpcy5wYWdlTWFzdGVySW5zdGFuY2UgPSB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYm94U3BlY2lmaWNFbmFibGVkKGVuYWJsZWQ6IEV4cHJzLlZhbCk6IEV4cHJzLlZhbCB7XG4gICAgY29uc3QgcGFnZU1hc3RlciA9IHRoaXMucGFnZUJveC5wYWdlTWFzdGVyO1xuICAgIGlmIChwYWdlTWFzdGVyLmNvbmRpdGlvbikge1xuICAgICAgZW5hYmxlZCA9IEV4cHJzLmFuZChwYWdlTWFzdGVyLnNjb3BlLCBlbmFibGVkLCBwYWdlTWFzdGVyLmNvbmRpdGlvbik7XG4gICAgfVxuICAgIHJldHVybiBlbmFibGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCBhZnRlciBsYXlvdXQgb2YgY29udGVudHMgb2YgdGhlIHBhZ2UgaGFzIGRvbmUgdG8gYWRqdXN0IHRoZSBvdmVyYWxsXG4gICAqIHBhZ2UgbGF5b3V0LiBPdmVycmlkZSBpbiBzdWJjbGFzc2VzLlxuICAgKi9cbiAgYWRqdXN0UGFnZUxheW91dChcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICkge31cbn1cblxuZXhwb3J0IGNsYXNzIFBhcnRpdGlvbkdyb3VwSW5zdGFuY2UgZXh0ZW5kcyBQYWdlQm94SW5zdGFuY2U8UGFydGl0aW9uR3JvdXA+IHtcbiAgcGFnZU1hc3Rlckluc3RhbmNlOiBQYWdlTWFzdGVySW5zdGFuY2U7XG5cbiAgY29uc3RydWN0b3IocGFyZW50SW5zdGFuY2U6IFBhZ2VCb3hJbnN0YW5jZSwgcGFnZUJveDogUGFnZUJveCkge1xuICAgIHN1cGVyKHBhcmVudEluc3RhbmNlLCBwYWdlQm94KTtcbiAgICB0aGlzLnBhZ2VNYXN0ZXJJbnN0YW5jZSA9IHBhcmVudEluc3RhbmNlLnBhZ2VNYXN0ZXJJbnN0YW5jZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFydGl0aW9uSW5zdGFuY2U8XG4gIFAgZXh0ZW5kcyBQYXJ0aXRpb24gPSBQYXJ0aXRpb248UGFydGl0aW9uSW5zdGFuY2U8YW55Pj5cbj4gZXh0ZW5kcyBQYWdlQm94SW5zdGFuY2U8UD4ge1xuICBwYWdlTWFzdGVySW5zdGFuY2U6IFBhZ2VNYXN0ZXJJbnN0YW5jZTtcblxuICBjb25zdHJ1Y3RvcihwYXJlbnRJbnN0YW5jZTogUGFnZUJveEluc3RhbmNlLCBwYWdlQm94OiBQKSB7XG4gICAgc3VwZXIocGFyZW50SW5zdGFuY2UsIHBhZ2VCb3gpO1xuICAgIHRoaXMucGFnZU1hc3Rlckluc3RhbmNlID0gcGFyZW50SW5zdGFuY2UucGFnZU1hc3Rlckluc3RhbmNlO1xuICB9XG5cbiAgcHJvY2Vzc1BhcnRpdGlvbkxpc3QoXG4gICAgZW5hYmxlZDogRXhwcnMuVmFsLFxuICAgIGxpc3RWYWw6IENzcy5WYWwsXG4gICAgY29uZmxpY3Rpbmc6IGJvb2xlYW4sXG4gICk6IEV4cHJzLlZhbCB7XG4gICAgbGV0IGxpc3Q6IENzcy5WYWxbXSA9IG51bGw7XG4gICAgaWYgKGxpc3RWYWwgaW5zdGFuY2VvZiBDc3MuSWRlbnQpIHtcbiAgICAgIGxpc3QgPSBbbGlzdFZhbF07XG4gICAgfVxuICAgIGlmIChsaXN0VmFsIGluc3RhbmNlb2YgQ3NzLkNvbW1hTGlzdCkge1xuICAgICAgbGlzdCA9IChsaXN0VmFsIGFzIENzcy5Db21tYUxpc3QpLnZhbHVlcztcbiAgICB9XG4gICAgaWYgKGxpc3QpIHtcbiAgICAgIGNvbnN0IHNjb3BlID0gdGhpcy5wYWdlQm94LnNjb3BlO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChsaXN0W2ldIGluc3RhbmNlb2YgQ3NzLklkZW50KSB7XG4gICAgICAgICAgY29uc3QgcW5hbWUgPSBFeHBycy5tYWtlUXVhbGlmaWVkTmFtZShcbiAgICAgICAgICAgIChsaXN0W2ldIGFzIENzcy5JZGVudCkubmFtZSxcbiAgICAgICAgICAgIFwiZW5hYmxlZFwiLFxuICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IHRlcm06IEV4cHJzLlZhbCA9IG5ldyBFeHBycy5OYW1lZChzY29wZSwgcW5hbWUpO1xuICAgICAgICAgIGlmIChjb25mbGljdGluZykge1xuICAgICAgICAgICAgdGVybSA9IG5ldyBFeHBycy5Ob3Qoc2NvcGUsIHRlcm0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbmFibGVkID0gRXhwcnMuYW5kKHNjb3BlLCBlbmFibGVkLCB0ZXJtKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZW5hYmxlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGJveFNwZWNpZmljRW5hYmxlZChlbmFibGVkOiBFeHBycy5WYWwpOiBFeHBycy5WYWwge1xuICAgIGNvbnN0IHNjb3BlID0gdGhpcy5wYWdlQm94LnNjb3BlO1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5zdHlsZTtcbiAgICBjb25zdCByZXF1aXJlZCA9XG4gICAgICB0b0V4cHJCb29sKHNjb3BlLCBzdHlsZVtcInJlcXVpcmVkXCJdLCBzY29wZS5fZmFsc2UpICE9PSBzY29wZS5fZmFsc2U7XG4gICAgaWYgKHJlcXVpcmVkIHx8IHRoaXMuaXNBdXRvSGVpZ2h0KSB7XG4gICAgICBjb25zdCBmbG93TmFtZSA9IHRvRXhwcklkZW50KHNjb3BlLCBzdHlsZVtcImZsb3ctZnJvbVwiXSwgXCJib2R5XCIpO1xuICAgICAgY29uc3QgaGFzQ29udGVudCA9IG5ldyBFeHBycy5DYWxsKHNjb3BlLCBcImhhcy1jb250ZW50XCIsIFtmbG93TmFtZV0pO1xuICAgICAgZW5hYmxlZCA9IEV4cHJzLmFuZChzY29wZSwgZW5hYmxlZCwgaGFzQ29udGVudCk7XG4gICAgfVxuICAgIGVuYWJsZWQgPSB0aGlzLnByb2Nlc3NQYXJ0aXRpb25MaXN0KFxuICAgICAgZW5hYmxlZCxcbiAgICAgIHN0eWxlW1wicmVxdWlyZWQtcGFydGl0aW9uc1wiXSxcbiAgICAgIGZhbHNlLFxuICAgICk7XG4gICAgZW5hYmxlZCA9IHRoaXMucHJvY2Vzc1BhcnRpdGlvbkxpc3QoXG4gICAgICBlbmFibGVkLFxuICAgICAgc3R5bGVbXCJjb25mbGljdGluZy1wYXJ0aXRpb25zXCJdLFxuICAgICAgdHJ1ZSxcbiAgICApO1xuICAgIGlmIChyZXF1aXJlZCkge1xuICAgICAgY29uc3QgcG1FbmFibGVkVmFsID0gdGhpcy5wYWdlTWFzdGVySW5zdGFuY2Uuc3R5bGVbXCJlbmFibGVkXCJdO1xuICAgICAgbGV0IHBtRW5hYmxlZCA9IHBtRW5hYmxlZFZhbFxuICAgICAgICA/IHBtRW5hYmxlZFZhbC50b0V4cHIoc2NvcGUsIG51bGwpXG4gICAgICAgIDogc2NvcGUuX3RydWU7XG4gICAgICBwbUVuYWJsZWQgPSBFeHBycy5hbmQoc2NvcGUsIHBtRW5hYmxlZCwgZW5hYmxlZCk7XG4gICAgICB0aGlzLnBhZ2VNYXN0ZXJJbnN0YW5jZS5zdHlsZVtcImVuYWJsZWRcIl0gPSBuZXcgQ3NzLkV4cHIocG1FbmFibGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIGVuYWJsZWQ7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcmVwYXJlQ29udGFpbmVyKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBkb2NGYWNlczogRm9udC5Eb2N1bWVudEZhY2VzLFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICApOiB2b2lkIHtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lci5lbGVtZW50LCBcIm92ZXJmbG93XCIsIFwiaGlkZGVuXCIpOyAvLyBkZWZhdWx0IHZhbHVlXG4gICAgc3VwZXIucHJlcGFyZUNvbnRhaW5lcihjb250ZXh0LCBjb250YWluZXIsIHBhZ2UsIGRvY0ZhY2VzLCBjbGllbnRMYXlvdXQpO1xuICB9XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHBhcnNpbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjbGFzcyBQYWdlQm94UGFyc2VySGFuZGxlciBleHRlbmRzIENzc1BhcnNlci5TbGF2ZVBhcnNlckhhbmRsZXJcbiAgaW1wbGVtZW50cyBDc3NWYWxpZGF0b3IuUHJvcGVydHlSZWNlaXZlciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgb3duZXI6IENzc1BhcnNlci5EaXNwYXRjaFBhcnNlckhhbmRsZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHRhcmdldDogUGFnZUJveCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmFsaWRhdG9yU2V0OiBDc3NWYWxpZGF0b3IuVmFsaWRhdG9yU2V0LFxuICApIHtcbiAgICBzdXBlcihzY29wZSwgb3duZXIsIGZhbHNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwsIGltcG9ydGFudDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMudmFsaWRhdG9yU2V0LnZhbGlkYXRlUHJvcGVydHlBbmRIYW5kbGVTaG9ydGhhbmQoXG4gICAgICBuYW1lLFxuICAgICAgdmFsdWUsXG4gICAgICBpbXBvcnRhbnQsXG4gICAgICB0aGlzLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB1bmtub3duUHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0KGBFX0lOVkFMSURfUFJPUEVSVFkgJHtuYW1lfTogJHt2YWx1ZS50b1N0cmluZygpfWApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaW52YWxpZFByb3BlcnR5VmFsdWUobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0KGBFX0lOVkFMSURfUFJPUEVSVFlfVkFMVUUgJHtuYW1lfTogJHt2YWx1ZS50b1N0cmluZygpfWApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2ltcGxlUHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50KTogdm9pZCB7XG4gICAgdGhpcy50YXJnZXQuc3BlY2lmaWVkW25hbWVdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKFxuICAgICAgdmFsdWUsXG4gICAgICBpbXBvcnRhbnRcbiAgICAgICAgPyBDc3NQYXJzZXIuU1BFQ0lGSUNJVFlfU1RZTEVcbiAgICAgICAgOiBDc3NQYXJzZXIuU1BFQ0lGSUNJVFlfU1RZTEVfSU1QT1JUQU5ULFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhcnRpdGlvblBhcnNlckhhbmRsZXIgZXh0ZW5kcyBQYWdlQm94UGFyc2VySGFuZGxlciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgb3duZXI6IENzc1BhcnNlci5EaXNwYXRjaFBhcnNlckhhbmRsZXIsXG4gICAgdGFyZ2V0OiBQYXJ0aXRpb24sXG4gICAgdmFsaWRhdG9yU2V0OiBDc3NWYWxpZGF0b3IuVmFsaWRhdG9yU2V0LFxuICApIHtcbiAgICBzdXBlcihzY29wZSwgb3duZXIsIHRhcmdldCwgdmFsaWRhdG9yU2V0KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFydGl0aW9uR3JvdXBQYXJzZXJIYW5kbGVyIGV4dGVuZHMgUGFnZUJveFBhcnNlckhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIG93bmVyOiBDc3NQYXJzZXIuRGlzcGF0Y2hQYXJzZXJIYW5kbGVyLFxuICAgIHRhcmdldDogUGFydGl0aW9uR3JvdXAsXG4gICAgdmFsaWRhdG9yU2V0OiBDc3NWYWxpZGF0b3IuVmFsaWRhdG9yU2V0LFxuICApIHtcbiAgICBzdXBlcihzY29wZSwgb3duZXIsIHRhcmdldCwgdmFsaWRhdG9yU2V0KTtcbiAgICB0YXJnZXQuc3BlY2lmaWVkW1wid2lkdGhcIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoXG4gICAgICBDc3MuaHVuZHJlZFBlcmNlbnQsXG4gICAgICAwLFxuICAgICk7XG4gICAgdGFyZ2V0LnNwZWNpZmllZFtcImhlaWdodFwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShcbiAgICAgIENzcy5odW5kcmVkUGVyY2VudCxcbiAgICAgIDAsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFydGl0aW9uUnVsZShcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHBhcnRpdGlvbiA9IG5ldyBQYXJ0aXRpb24oXG4gICAgICB0aGlzLnNjb3BlLFxuICAgICAgbmFtZSxcbiAgICAgIHBzZXVkb05hbWUsXG4gICAgICBjbGFzc2VzLFxuICAgICAgdGhpcy50YXJnZXQsXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVyID0gbmV3IFBhcnRpdGlvblBhcnNlckhhbmRsZXIoXG4gICAgICB0aGlzLnNjb3BlLFxuICAgICAgdGhpcy5vd25lcixcbiAgICAgIHBhcnRpdGlvbixcbiAgICAgIHRoaXMudmFsaWRhdG9yU2V0LFxuICAgICk7XG4gICAgdGhpcy5vd25lci5wdXNoSGFuZGxlcihoYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFydGl0aW9uR3JvdXBSdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgcGFydGl0aW9uR3JvdXAgPSBuZXcgUGFydGl0aW9uR3JvdXAoXG4gICAgICB0aGlzLnNjb3BlLFxuICAgICAgbmFtZSxcbiAgICAgIHBzZXVkb05hbWUsXG4gICAgICBjbGFzc2VzLFxuICAgICAgdGhpcy50YXJnZXQsXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVyID0gbmV3IFBhcnRpdGlvbkdyb3VwUGFyc2VySGFuZGxlcihcbiAgICAgIHRoaXMuc2NvcGUsXG4gICAgICB0aGlzLm93bmVyLFxuICAgICAgcGFydGl0aW9uR3JvdXAsXG4gICAgICB0aGlzLnZhbGlkYXRvclNldCxcbiAgICApO1xuICAgIHRoaXMub3duZXIucHVzaEhhbmRsZXIoaGFuZGxlcik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhZ2VNYXN0ZXJQYXJzZXJIYW5kbGVyIGV4dGVuZHMgUGFnZUJveFBhcnNlckhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIG93bmVyOiBDc3NQYXJzZXIuRGlzcGF0Y2hQYXJzZXJIYW5kbGVyLFxuICAgIHRhcmdldDogUGFnZU1hc3RlcixcbiAgICB2YWxpZGF0b3JTZXQ6IENzc1ZhbGlkYXRvci5WYWxpZGF0b3JTZXQsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlLCBvd25lciwgdGFyZ2V0LCB2YWxpZGF0b3JTZXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYXJ0aXRpb25SdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgcGFydGl0aW9uID0gbmV3IFBhcnRpdGlvbihcbiAgICAgIHRoaXMuc2NvcGUsXG4gICAgICBuYW1lLFxuICAgICAgcHNldWRvTmFtZSxcbiAgICAgIGNsYXNzZXMsXG4gICAgICB0aGlzLnRhcmdldCxcbiAgICApO1xuICAgIGNvbnN0IGhhbmRsZXIgPSBuZXcgUGFydGl0aW9uUGFyc2VySGFuZGxlcihcbiAgICAgIHRoaXMuc2NvcGUsXG4gICAgICB0aGlzLm93bmVyLFxuICAgICAgcGFydGl0aW9uLFxuICAgICAgdGhpcy52YWxpZGF0b3JTZXQsXG4gICAgKTtcbiAgICB0aGlzLm93bmVyLnB1c2hIYW5kbGVyKGhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYXJ0aXRpb25Hcm91cFJ1bGUoXG4gICAgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwc2V1ZG9OYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGNsYXNzZXM6IHN0cmluZ1tdLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBwYXJ0aXRpb25Hcm91cCA9IG5ldyBQYXJ0aXRpb25Hcm91cChcbiAgICAgIHRoaXMuc2NvcGUsXG4gICAgICBuYW1lLFxuICAgICAgcHNldWRvTmFtZSxcbiAgICAgIGNsYXNzZXMsXG4gICAgICB0aGlzLnRhcmdldCxcbiAgICApO1xuICAgIGNvbnN0IGhhbmRsZXIgPSBuZXcgUGFydGl0aW9uR3JvdXBQYXJzZXJIYW5kbGVyKFxuICAgICAgdGhpcy5zY29wZSxcbiAgICAgIHRoaXMub3duZXIsXG4gICAgICBwYXJ0aXRpb25Hcm91cCxcbiAgICAgIHRoaXMudmFsaWRhdG9yU2V0LFxuICAgICk7XG4gICAgdGhpcy5vd25lci5wdXNoSGFuZGxlcihoYW5kbGVyKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgQ3NzUGFnZSAtIGBAcGFnZWAgcnVsZSAoQ1NTIFBhZ2VkIE1lZGlhKSBzdXBwb3J0IGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtcGFnZS9cbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIENzc0Nhc2NhZGUgZnJvbSBcIi4vY3NzLWNhc2NhZGVcIjtcbmltcG9ydCAqIGFzIENzc1BhcnNlciBmcm9tIFwiLi9jc3MtcGFyc2VyXCI7XG5pbXBvcnQgKiBhcyBDc3NWYWxpZGF0b3IgZnJvbSBcIi4vY3NzLXZhbGlkYXRvclwiO1xuaW1wb3J0ICogYXMgRXhwcnMgZnJvbSBcIi4vZXhwcnNcIjtcbmltcG9ydCAqIGFzIEZvbnQgZnJvbSBcIi4vZm9udFwiO1xuaW1wb3J0ICogYXMgUGFnZU1hc3RlciBmcm9tIFwiLi9wYWdlLW1hc3RlclwiO1xuaW1wb3J0ICogYXMgU2l6aW5nIGZyb20gXCIuL3NpemluZ1wiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcblxuLyoqXG4gKiBSZXNvbHZlIHBhZ2UgcHJvZ3Jlc3Npb24gZGlyZWN0aW9uIGZyb20gd3JpdGluZy1tb2RlIGFuZCBkaXJlY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlUGFnZVByb2dyZXNzaW9uKFxuICBzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4pOiBDb25zdGFudHMuUGFnZVByb2dyZXNzaW9uIHtcbiAgbGV0IHdyaXRpbmdNb2RlID0gc3R5bGVbXCJ3cml0aW5nLW1vZGVcIl07XG4gIHdyaXRpbmdNb2RlID0gd3JpdGluZ01vZGUgJiYgd3JpdGluZ01vZGUudmFsdWU7XG4gIGxldCBkaXJlY3Rpb24gPSBzdHlsZVtcImRpcmVjdGlvblwiXTtcbiAgZGlyZWN0aW9uID0gZGlyZWN0aW9uICYmIGRpcmVjdGlvbi52YWx1ZTtcbiAgaWYgKFxuICAgIHdyaXRpbmdNb2RlID09PSBDc3MuaWRlbnQudmVydGljYWxfbHIgfHxcbiAgICAod3JpdGluZ01vZGUgIT09IENzcy5pZGVudC52ZXJ0aWNhbF9ybCAmJiBkaXJlY3Rpb24gIT09IENzcy5pZGVudC5ydGwpXG4gICkge1xuICAgIHJldHVybiBDb25zdGFudHMuUGFnZVByb2dyZXNzaW9uLkxUUjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gQ29uc3RhbnRzLlBhZ2VQcm9ncmVzc2lvbi5SVEw7XG4gIH1cbn1cbmV4cG9ydCB0eXBlIFBhZ2VTaXplID0ge1xuICB3aWR0aDogQ3NzLk51bWVyaWM7XG4gIGhlaWdodDogQ3NzLk51bWVyaWM7XG59O1xuXG4vKipcbiAqIE5hbWVkIHBhZ2Ugc2l6ZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBwYWdlU2l6ZXM6IHsgW2tleTogc3RyaW5nXTogUGFnZVNpemUgfSA9IHtcbiAgYTU6IHsgd2lkdGg6IG5ldyBDc3MuTnVtZXJpYygxNDgsIFwibW1cIiksIGhlaWdodDogbmV3IENzcy5OdW1lcmljKDIxMCwgXCJtbVwiKSB9LFxuICBhNDogeyB3aWR0aDogbmV3IENzcy5OdW1lcmljKDIxMCwgXCJtbVwiKSwgaGVpZ2h0OiBuZXcgQ3NzLk51bWVyaWMoMjk3LCBcIm1tXCIpIH0sXG4gIGEzOiB7IHdpZHRoOiBuZXcgQ3NzLk51bWVyaWMoMjk3LCBcIm1tXCIpLCBoZWlnaHQ6IG5ldyBDc3MuTnVtZXJpYyg0MjAsIFwibW1cIikgfSxcbiAgYjU6IHsgd2lkdGg6IG5ldyBDc3MuTnVtZXJpYygxNzYsIFwibW1cIiksIGhlaWdodDogbmV3IENzcy5OdW1lcmljKDI1MCwgXCJtbVwiKSB9LFxuICBiNDogeyB3aWR0aDogbmV3IENzcy5OdW1lcmljKDI1MCwgXCJtbVwiKSwgaGVpZ2h0OiBuZXcgQ3NzLk51bWVyaWMoMzUzLCBcIm1tXCIpIH0sXG4gIFwiamlzLWI1XCI6IHtcbiAgICB3aWR0aDogbmV3IENzcy5OdW1lcmljKDE4MiwgXCJtbVwiKSxcbiAgICBoZWlnaHQ6IG5ldyBDc3MuTnVtZXJpYygyNTcsIFwibW1cIiksXG4gIH0sXG4gIFwiamlzLWI0XCI6IHtcbiAgICB3aWR0aDogbmV3IENzcy5OdW1lcmljKDI1NywgXCJtbVwiKSxcbiAgICBoZWlnaHQ6IG5ldyBDc3MuTnVtZXJpYygzNjQsIFwibW1cIiksXG4gIH0sXG4gIGxldHRlcjoge1xuICAgIHdpZHRoOiBuZXcgQ3NzLk51bWVyaWMoOC41LCBcImluXCIpLFxuICAgIGhlaWdodDogbmV3IENzcy5OdW1lcmljKDExLCBcImluXCIpLFxuICB9LFxuICBsZWdhbDoge1xuICAgIHdpZHRoOiBuZXcgQ3NzLk51bWVyaWMoOC41LCBcImluXCIpLFxuICAgIGhlaWdodDogbmV3IENzcy5OdW1lcmljKDE0LCBcImluXCIpLFxuICB9LFxuICBsZWRnZXI6IHtcbiAgICB3aWR0aDogbmV3IENzcy5OdW1lcmljKDExLCBcImluXCIpLFxuICAgIGhlaWdodDogbmV3IENzcy5OdW1lcmljKDE3LCBcImluXCIpLFxuICB9LFxufTtcblxuLyoqXG4gKiBEZWZhdWx0IHZhbHVlIGZvciBsaW5lIHdpZHRoIG9mIHByaW50ZXIgbWFya3NcbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRQcmludGVyTWFya0xpbmVXaWR0aDogQ3NzLk51bWVyaWMgPSBuZXcgQ3NzLk51bWVyaWMoXG4gIDAuMjQsXG4gIFwicHRcIixcbik7XG5cbi8qKlxuICogRGVmYXVsdCB2YWx1ZSBmb3IgZGlzdGFuY2UgYmV0d2VlbiBhbiBlZGdlIG9mIHRoZSBwYWdlIGFuZCBwcmludGVyIG1hcmtzXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0UHJpbnRlck1hcmtPZmZzZXQ6IENzcy5OdW1lcmljID0gbmV3IENzcy5OdW1lcmljKDMsIFwibW1cIik7XG5cbi8qKlxuICogRGVmYXVsdCB2YWx1ZSBmb3IgbGluZSBsZW5ndGggb2YgdGhlIChzaG9ydGVyKSBsaW5lIG9mIGEgY3JvcCBtYXJrIGFuZCB0aGVcbiAqIHNob3J0ZXIgbGluZSBvZiBhIGNyb3NzIG1hcmtcbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRQcmludGVyTWFya0xpbmVMZW5ndGg6IENzcy5OdW1lcmljID0gbmV3IENzcy5OdW1lcmljKFxuICAxMCxcbiAgXCJtbVwiLFxuKTtcblxuLyoqXG4gKiBEZWZhdWx0IHZhbHVlIGZvciBibGVlZCBvZmZzZXQgKD0gZGVmYXVsdFByaW50ZXJNYXJrT2Zmc2V0ICtcbiAqIGRlZmF1bHRQcmludGVyTWFya0xpbmVMZW5ndGgpXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0QmxlZWRPZmZzZXQ6IENzcy5OdW1lcmljID0gbmV3IENzcy5OdW1lcmljKDMgKyAxMCwgXCJtbVwiKTtcblxuZXhwb3J0IHR5cGUgUGFnZVNpemVBbmRCbGVlZCA9IHtcbiAgd2lkdGg6IENzcy5OdW1lcmljO1xuICBoZWlnaHQ6IENzcy5OdW1lcmljO1xuICBibGVlZDogQ3NzLk51bWVyaWM7XG4gIGJsZWVkT2Zmc2V0OiBDc3MuTnVtZXJpYztcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlUGFnZVNpemVBbmRCbGVlZChzdHlsZToge1xuICBba2V5OiBzdHJpbmddOiBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZTtcbn0pOiBQYWdlU2l6ZUFuZEJsZWVkIHtcbiAgLy8gZGVmYXVsdCB2YWx1ZSAoZml0IHRvIHZpZXdwb3J0LCBubyBibGVlZClcbiAgY29uc3QgcGFnZVNpemVBbmRCbGVlZDogUGFnZVNpemVBbmRCbGVlZCA9IHtcbiAgICB3aWR0aDogQ3NzLmZ1bGxXaWR0aCxcbiAgICBoZWlnaHQ6IENzcy5mdWxsSGVpZ2h0LFxuICAgIGJsZWVkOiBDc3MubnVtZXJpY1plcm8sXG4gICAgYmxlZWRPZmZzZXQ6IENzcy5udW1lcmljWmVybyxcbiAgfTtcbiAgY29uc3Qgc2l6ZTogQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUgPSBzdHlsZVtcInNpemVcIl07XG5cbiAgaWYgKCFzaXplIHx8IHNpemUudmFsdWUgPT09IENzcy5pZGVudC5hdXRvKSB7XG4gICAgLy8gaWYgc2l6ZSBpcyBhdXRvLCBmaXQgdG8gdGhlIHZpZXdwb3J0ICh1c2UgZGVmYXVsdCB2YWx1ZSlcbiAgfSBlbHNlIHtcbiAgICAvKiogIXR5cGUgeyFDc3MuVmFsfSAqL1xuICAgIGNvbnN0IHZhbHVlID0gc2l6ZS52YWx1ZTtcbiAgICBsZXQgdmFsMTogQ3NzLlZhbDtcbiAgICBsZXQgdmFsMjogQ3NzLlZhbDtcbiAgICBpZiAodmFsdWUuaXNTcGFjZUxpc3QoKSkge1xuICAgICAgdmFsMSA9ICh2YWx1ZSBhcyBDc3MuU3BhY2VMaXN0KS52YWx1ZXNbMF07XG4gICAgICB2YWwyID0gKHZhbHVlIGFzIENzcy5TcGFjZUxpc3QpLnZhbHVlc1sxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsMSA9IHZhbHVlO1xuICAgICAgdmFsMiA9IG51bGw7XG4gICAgfVxuICAgIGlmICh2YWwxLmlzTnVtZXJpYygpKSB7XG4gICAgICAvLyA8bGVuZ3RoPnsxLDJ9XG4gICAgICBwYWdlU2l6ZUFuZEJsZWVkLndpZHRoID0gdmFsMSBhcyBDc3MuTnVtZXJpYztcbiAgICAgIHBhZ2VTaXplQW5kQmxlZWQuaGVpZ2h0ID0gKHZhbDIgfHwgdmFsMSkgYXMgQ3NzLk51bWVyaWM7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIDxwYWdlLXNpemU+IHx8IFsgcG9ydHJhaXQgfCBsYW5kc2NhcGUgXVxuICAgICAgY29uc3QgcyA9XG4gICAgICAgICh2YWwxIGFzIGFueSkubmFtZSAmJiBwYWdlU2l6ZXNbKHZhbDEgYXMgQ3NzLklkZW50KS5uYW1lLnRvTG93ZXJDYXNlKCldO1xuICAgICAgaWYgKCFzKSB7XG4gICAgICAgIC8vIHBvcnRyYWl0IG9yIGxhbmRzY2FwZSBpcyBzcGVjaWZpZWQgYWxvbmUuIGZhbGxiYWNrIHRvIGZpdCB0byB0aGVcbiAgICAgICAgLy8gdmlld3BvcnQgKHVzZSBkZWZhdWx0IHZhbHVlKVxuICAgICAgfSBlbHNlIGlmICh2YWwyICYmIHZhbDIgPT09IENzcy5pZGVudC5sYW5kc2NhcGUpIHtcbiAgICAgICAgLy8gc3dhcFxuICAgICAgICBwYWdlU2l6ZUFuZEJsZWVkLndpZHRoID0gcy5oZWlnaHQ7XG4gICAgICAgIHBhZ2VTaXplQW5kQmxlZWQuaGVpZ2h0ID0gcy53aWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHJldHVybiB7XG4gICAgICAgIHBhZ2VTaXplQW5kQmxlZWQud2lkdGggPSBzLndpZHRoO1xuICAgICAgICBwYWdlU2l6ZUFuZEJsZWVkLmhlaWdodCA9IHMuaGVpZ2h0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCBtYXJrcyA9IHN0eWxlW1wibWFya3NcIl07XG4gIGlmIChtYXJrcyAmJiBtYXJrcy52YWx1ZSAhPT0gQ3NzLmlkZW50Lm5vbmUpIHtcbiAgICBwYWdlU2l6ZUFuZEJsZWVkLmJsZWVkT2Zmc2V0ID0gZGVmYXVsdEJsZWVkT2Zmc2V0O1xuICB9XG4gIGNvbnN0IGJsZWVkID0gc3R5bGVbXCJibGVlZFwiXTtcbiAgaWYgKCFibGVlZCB8fCBibGVlZC52YWx1ZSA9PT0gQ3NzLmlkZW50LmF1dG8pIHtcbiAgICAvLyBcIignYXV0bycgdmFsdWUpIENvbXB1dGVzIHRvIDZwdCBpZiBtYXJrcyBoYXMgY3JvcCBhbmQgdG8gemVyb1xuICAgIC8vIG90aGVyd2lzZS5cIiBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLXBhZ2UvI3ZhbGRlZi1wYWdlLWJsZWVkLWF1dG9cbiAgICBpZiAobWFya3MpIHtcbiAgICAgIGxldCBoYXNDcm9wID0gZmFsc2U7XG4gICAgICBpZiAobWFya3MudmFsdWUuaXNTcGFjZUxpc3QoKSkge1xuICAgICAgICBoYXNDcm9wID0gKG1hcmtzLnZhbHVlIGFzIENzcy5TcGFjZUxpc3QpLnZhbHVlcy5zb21lKFxuICAgICAgICAgICh2KSA9PiB2ID09PSBDc3MuaWRlbnQuY3JvcCxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhc0Nyb3AgPSBtYXJrcy52YWx1ZSA9PT0gQ3NzLmlkZW50LmNyb3A7XG4gICAgICB9XG4gICAgICBpZiAoaGFzQ3JvcCkge1xuICAgICAgICBwYWdlU2l6ZUFuZEJsZWVkLmJsZWVkID0gbmV3IENzcy5OdW1lcmljKDYsIFwicHRcIik7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGJsZWVkLnZhbHVlICYmIGJsZWVkLnZhbHVlLmlzTnVtZXJpYygpKSB7XG4gICAgcGFnZVNpemVBbmRCbGVlZC5ibGVlZCA9IGJsZWVkLnZhbHVlIGFzIENzcy5OdW1lcmljO1xuICB9XG4gIHJldHVybiBwYWdlU2l6ZUFuZEJsZWVkO1xufVxuXG5leHBvcnQgdHlwZSBFdmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkID0ge1xuICBwYWdlV2lkdGg6IG51bWJlcjtcbiAgcGFnZUhlaWdodDogbnVtYmVyO1xuICBibGVlZDogbnVtYmVyO1xuICBibGVlZE9mZnNldDogbnVtYmVyO1xuICBjcm9wT2Zmc2V0OiBudW1iZXI7XG59O1xuXG4vKipcbiAqIEV2YWx1YXRlIGFjdHVhbCBwYWdlIHdpZHRoLCBoZWlnaHQgYW5kIGJsZWVkIGZyb20gc3R5bGUgc3BlY2lmaWVkIGluIHBhZ2VcbiAqIGNvbnRleHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBldmFsdWF0ZVBhZ2VTaXplQW5kQmxlZWQoXG4gIHBhZ2VTaXplQW5kQmxlZWQ6IFBhZ2VTaXplQW5kQmxlZWQsXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4pOiBFdmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkIHtcbiAgY29uc3QgZXZhbHVhdGVkID0ge30gYXMgRXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZDtcbiAgY29uc3QgYmxlZWQgPVxuICAgIHBhZ2VTaXplQW5kQmxlZWQuYmxlZWQubnVtICpcbiAgICBjb250ZXh0LnF1ZXJ5VW5pdFNpemUocGFnZVNpemVBbmRCbGVlZC5ibGVlZC51bml0LCBmYWxzZSk7XG4gIGNvbnN0IGJsZWVkT2Zmc2V0ID1cbiAgICBwYWdlU2l6ZUFuZEJsZWVkLmJsZWVkT2Zmc2V0Lm51bSAqXG4gICAgY29udGV4dC5xdWVyeVVuaXRTaXplKHBhZ2VTaXplQW5kQmxlZWQuYmxlZWRPZmZzZXQudW5pdCwgZmFsc2UpO1xuICBjb25zdCBjcm9wT2Zmc2V0ID0gYmxlZWQgKyBibGVlZE9mZnNldDtcbiAgY29uc3Qgd2lkdGggPSBwYWdlU2l6ZUFuZEJsZWVkLndpZHRoO1xuICBpZiAod2lkdGggPT09IENzcy5mdWxsV2lkdGgpIHtcbiAgICBpZiAoY29udGV4dC5wcmVmLmRlZmF1bHRQYXBlclNpemUpIHtcbiAgICAgIGV2YWx1YXRlZC5wYWdlV2lkdGggPVxuICAgICAgICBjb250ZXh0LnByZWYuZGVmYXVsdFBhcGVyU2l6ZS53aWR0aCAqXG4gICAgICAgIGNvbnRleHQucXVlcnlVbml0U2l6ZShcInB4XCIsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXZhbHVhdGVkLnBhZ2VXaWR0aCA9XG4gICAgICAgIChjb250ZXh0LnByZWYuc3ByZWFkVmlld1xuICAgICAgICAgID8gTWF0aC5mbG9vcihjb250ZXh0LnZpZXdwb3J0V2lkdGggLyAyKSAtIGNvbnRleHQucHJlZi5wYWdlQm9yZGVyXG4gICAgICAgICAgOiBjb250ZXh0LnZpZXdwb3J0V2lkdGgpIC1cbiAgICAgICAgY3JvcE9mZnNldCAqIDI7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGV2YWx1YXRlZC5wYWdlV2lkdGggPSB3aWR0aC5udW0gKiBjb250ZXh0LnF1ZXJ5VW5pdFNpemUod2lkdGgudW5pdCwgZmFsc2UpO1xuICB9XG4gIGNvbnN0IGhlaWdodCA9IHBhZ2VTaXplQW5kQmxlZWQuaGVpZ2h0O1xuICBpZiAoaGVpZ2h0ID09PSBDc3MuZnVsbEhlaWdodCkge1xuICAgIGlmIChjb250ZXh0LnByZWYuZGVmYXVsdFBhcGVyU2l6ZSkge1xuICAgICAgZXZhbHVhdGVkLnBhZ2VIZWlnaHQgPVxuICAgICAgICBjb250ZXh0LnByZWYuZGVmYXVsdFBhcGVyU2l6ZS5oZWlnaHQgKlxuICAgICAgICBjb250ZXh0LnF1ZXJ5VW5pdFNpemUoXCJweFwiLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV2YWx1YXRlZC5wYWdlSGVpZ2h0ID0gY29udGV4dC52aWV3cG9ydEhlaWdodCAtIGNyb3BPZmZzZXQgKiAyO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBldmFsdWF0ZWQucGFnZUhlaWdodCA9XG4gICAgICBoZWlnaHQubnVtICogY29udGV4dC5xdWVyeVVuaXRTaXplKGhlaWdodC51bml0LCBmYWxzZSk7XG4gIH1cbiAgZXZhbHVhdGVkLmJsZWVkID0gYmxlZWQ7XG4gIGV2YWx1YXRlZC5ibGVlZE9mZnNldCA9IGJsZWVkT2Zmc2V0O1xuICBldmFsdWF0ZWQuY3JvcE9mZnNldCA9IGNyb3BPZmZzZXQ7XG4gIHJldHVybiBldmFsdWF0ZWQ7XG59XG5cbi8qKlxuICogQ3JlYXRlIGFuICdzdmcnIGVsZW1lbnQgZm9yIGEgcHJpbnRlciBtYXJrLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJpbnRlck1hcmtTdmcoXG4gIGRvYzogRG9jdW1lbnQsXG4gIHdpZHRoOiBudW1iZXIsXG4gIGhlaWdodDogbnVtYmVyLFxuKTogRWxlbWVudCB7XG4gIGNvbnN0IG1hcmsgPSBkb2MuY3JlYXRlRWxlbWVudE5TKEJhc2UuTlMuU1ZHLCBcInN2Z1wiKTtcbiAgbWFyay5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCB3aWR0aCk7XG4gIG1hcmsuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIGhlaWdodCk7XG4gIG1hcmsuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gIHJldHVybiBtYXJrO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhbiBTVkcgZWxlbWVudCBmb3IgYSBwcmludGVyIG1hcmsgbGluZS5cbiAqIEBwYXJhbSBlbGVtZW50VHlwZSBTcGVjaWZpZXMgd2hpY2ggdHlwZSBvZiBlbGVtZW50IHRvIGNyZWF0ZS4gRGVmYXVsdCB2YWx1ZVxuICogICAgIGlzIFwicG9seWxpbmVcIi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByaW50ZXJNYXJrRWxlbWVudChcbiAgZG9jOiBEb2N1bWVudCxcbiAgbGluZVdpZHRoOiBudW1iZXIsXG4gIGVsZW1lbnRUeXBlPzogc3RyaW5nLFxuKTogRWxlbWVudCB7XG4gIGVsZW1lbnRUeXBlID0gZWxlbWVudFR5cGUgfHwgXCJwb2x5bGluZVwiO1xuICBjb25zdCBsaW5lID0gZG9jLmNyZWF0ZUVsZW1lbnROUyhCYXNlLk5TLlNWRywgZWxlbWVudFR5cGUpO1xuICBsaW5lLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLCBcImJsYWNrXCIpO1xuICBsaW5lLnNldEF0dHJpYnV0ZShcInN0cm9rZS13aWR0aFwiLCBsaW5lV2lkdGgpO1xuICBsaW5lLnNldEF0dHJpYnV0ZShcImZpbGxcIiwgXCJub25lXCIpO1xuICByZXR1cm4gbGluZTtcbn1cblxuLyoqXG4gKiBQb3NpdGlvbiBvZiBhIGNvcm5lciBtYXJrXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZW51bSBDb3JuZXJNYXJrUG9zaXRpb24ge1xuICBUT1BfTEVGVCA9IFwidG9wIGxlZnRcIixcbiAgVE9QX1JJR0hUID0gXCJ0b3AgcmlnaHRcIixcbiAgQk9UVE9NX0xFRlQgPSBcImJvdHRvbSBsZWZ0XCIsXG4gIEJPVFRPTV9SSUdIVCA9IFwiYm90dG9tIHJpZ2h0XCIsXG59XG5cbi8qKlxuICogQ3JlYXRlIGEgY29ybmVyIG1hcmsuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb3JuZXJNYXJrKFxuICBkb2M6IERvY3VtZW50LFxuICBwb3NpdGlvbjogQ29ybmVyTWFya1Bvc2l0aW9uLFxuICBsaW5lV2lkdGg6IG51bWJlcixcbiAgY3JvcE1hcmtMaW5lTGVuZ3RoOiBudW1iZXIsXG4gIGJsZWVkOiBudW1iZXIsXG4gIG9mZnNldDogbnVtYmVyLFxuKTogRWxlbWVudCB7XG4gIGxldCBibGVlZE1hcmtMaW5lTGVuZ3RoID0gY3JvcE1hcmtMaW5lTGVuZ3RoO1xuXG4gIC8vIGJsZWVkIG1hcmsgbGluZSBzaG91bGQgYmUgbG9uZ2VyIHRoYW4gYmxlZWQgKyAybW1cbiAgaWYgKGJsZWVkTWFya0xpbmVMZW5ndGggPD0gYmxlZWQgKyAyICogRXhwcnMuZGVmYXVsdFVuaXRTaXplc1tcIm1tXCJdKSB7XG4gICAgYmxlZWRNYXJrTGluZUxlbmd0aCA9IGJsZWVkICsgY3JvcE1hcmtMaW5lTGVuZ3RoIC8gMjtcbiAgfVxuICBjb25zdCBtYXhMaW5lTGVuZ3RoID0gTWF0aC5tYXgoY3JvcE1hcmtMaW5lTGVuZ3RoLCBibGVlZE1hcmtMaW5lTGVuZ3RoKTtcbiAgY29uc3Qgc3ZnV2lkdGggPSBibGVlZCArIG1heExpbmVMZW5ndGggKyBsaW5lV2lkdGggLyAyO1xuICBjb25zdCBtYXJrID0gY3JlYXRlUHJpbnRlck1hcmtTdmcoZG9jLCBzdmdXaWR0aCwgc3ZnV2lkdGgpO1xuICBsZXQgcG9pbnRzMSA9IFtcbiAgICBbMCwgYmxlZWQgKyBjcm9wTWFya0xpbmVMZW5ndGhdLFxuICAgIFtjcm9wTWFya0xpbmVMZW5ndGgsIGJsZWVkICsgY3JvcE1hcmtMaW5lTGVuZ3RoXSxcbiAgICBbY3JvcE1hcmtMaW5lTGVuZ3RoLCBibGVlZCArIGNyb3BNYXJrTGluZUxlbmd0aCAtIGJsZWVkTWFya0xpbmVMZW5ndGhdLFxuICBdO1xuXG4gIC8vIHJlZmxlY3Qgd2l0aCByZXNwZWN0IHRvIHk9eFxuICBsZXQgcG9pbnRzMiA9IHBvaW50czEubWFwKChwKSA9PiBbcFsxXSwgcFswXV0pO1xuICBpZiAoXG4gICAgcG9zaXRpb24gPT09IENvcm5lck1hcmtQb3NpdGlvbi5UT1BfUklHSFQgfHxcbiAgICBwb3NpdGlvbiA9PT0gQ29ybmVyTWFya1Bvc2l0aW9uLkJPVFRPTV9SSUdIVFxuICApIHtcbiAgICAvLyByZWZsZWN0IHdpdGggcmVzcGVjdCB0byBhIHZlcnRpY2FsIGF4aXNcbiAgICBwb2ludHMxID0gcG9pbnRzMS5tYXAoKHApID0+IFtibGVlZCArIG1heExpbmVMZW5ndGggLSBwWzBdLCBwWzFdXSk7XG4gICAgcG9pbnRzMiA9IHBvaW50czIubWFwKChwKSA9PiBbYmxlZWQgKyBtYXhMaW5lTGVuZ3RoIC0gcFswXSwgcFsxXV0pO1xuICB9XG4gIGlmIChcbiAgICBwb3NpdGlvbiA9PT0gQ29ybmVyTWFya1Bvc2l0aW9uLkJPVFRPTV9MRUZUIHx8XG4gICAgcG9zaXRpb24gPT09IENvcm5lck1hcmtQb3NpdGlvbi5CT1RUT01fUklHSFRcbiAgKSB7XG4gICAgLy8gcmVmbGVjdCB3aXRoIHJlc3BlY3QgdG8gYSB2ZXJ0aWNhbCBheGlzXG4gICAgcG9pbnRzMSA9IHBvaW50czEubWFwKChwKSA9PiBbcFswXSwgYmxlZWQgKyBtYXhMaW5lTGVuZ3RoIC0gcFsxXV0pO1xuICAgIHBvaW50czIgPSBwb2ludHMyLm1hcCgocCkgPT4gW3BbMF0sIGJsZWVkICsgbWF4TGluZUxlbmd0aCAtIHBbMV1dKTtcbiAgfVxuICBjb25zdCBsaW5lMSA9IGNyZWF0ZVByaW50ZXJNYXJrRWxlbWVudChkb2MsIGxpbmVXaWR0aCk7XG4gIGxpbmUxLnNldEF0dHJpYnV0ZShcInBvaW50c1wiLCBwb2ludHMxLm1hcCgocCkgPT4gcC5qb2luKFwiLFwiKSkuam9pbihcIiBcIikpO1xuICBtYXJrLmFwcGVuZENoaWxkKGxpbmUxKTtcbiAgY29uc3QgbGluZTIgPSBjcmVhdGVQcmludGVyTWFya0VsZW1lbnQoZG9jLCBsaW5lV2lkdGgpO1xuICBsaW5lMi5zZXRBdHRyaWJ1dGUoXCJwb2ludHNcIiwgcG9pbnRzMi5tYXAoKHApID0+IHAuam9pbihcIixcIikpLmpvaW4oXCIgXCIpKTtcbiAgbWFyay5hcHBlbmRDaGlsZChsaW5lMik7XG4gIHBvc2l0aW9uLnNwbGl0KFwiIFwiKS5mb3JFYWNoKChzaWRlKSA9PiB7XG4gICAgKG1hcmsgYXMgYW55KS5zdHlsZVtzaWRlXSA9IGAke29mZnNldH1weGA7XG4gIH0pO1xuICByZXR1cm4gbWFyaztcbn1cblxuLyoqXG4gKiBQb3NpdGlvbiBvZiBhIGNyb3NzIG1hcmtcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIENyb3NzTWFya1Bvc2l0aW9uIHtcbiAgVE9QID0gXCJ0b3BcIixcbiAgQk9UVE9NID0gXCJib3R0b21cIixcbiAgTEVGVCA9IFwibGVmdFwiLFxuICBSSUdIVCA9IFwicmlnaHRcIixcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBjcm9zcyBtYXJrLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ3Jvc3NNYXJrKFxuICBkb2M6IERvY3VtZW50LFxuICBwb3NpdGlvbjogQ3Jvc3NNYXJrUG9zaXRpb24sXG4gIGxpbmVXaWR0aDogbnVtYmVyLFxuICBsaW5lTGVuZ3RoOiBudW1iZXIsXG4gIG9mZnNldDogbnVtYmVyLFxuKTogRWxlbWVudCB7XG4gIGNvbnN0IGxvbmdMaW5lTGVuZ3RoID0gbGluZUxlbmd0aCAqIDI7XG4gIGxldCB3aWR0aDogbnVtYmVyO1xuICBsZXQgaGVpZ2h0OiBudW1iZXI7XG4gIGlmIChcbiAgICBwb3NpdGlvbiA9PT0gQ3Jvc3NNYXJrUG9zaXRpb24uVE9QIHx8XG4gICAgcG9zaXRpb24gPT09IENyb3NzTWFya1Bvc2l0aW9uLkJPVFRPTVxuICApIHtcbiAgICB3aWR0aCA9IGxvbmdMaW5lTGVuZ3RoO1xuICAgIGhlaWdodCA9IGxpbmVMZW5ndGg7XG4gIH0gZWxzZSB7XG4gICAgd2lkdGggPSBsaW5lTGVuZ3RoO1xuICAgIGhlaWdodCA9IGxvbmdMaW5lTGVuZ3RoO1xuICB9XG4gIGNvbnN0IG1hcmsgPSBjcmVhdGVQcmludGVyTWFya1N2Zyhkb2MsIHdpZHRoLCBoZWlnaHQpO1xuICBjb25zdCBob3Jpem9udGFsTGluZSA9IGNyZWF0ZVByaW50ZXJNYXJrRWxlbWVudChkb2MsIGxpbmVXaWR0aCk7XG4gIGhvcml6b250YWxMaW5lLnNldEF0dHJpYnV0ZShcbiAgICBcInBvaW50c1wiLFxuICAgIGAwLCR7aGVpZ2h0IC8gMn0gJHt3aWR0aH0sJHtoZWlnaHQgLyAyfWAsXG4gICk7XG4gIG1hcmsuYXBwZW5kQ2hpbGQoaG9yaXpvbnRhbExpbmUpO1xuICBjb25zdCB2ZXJ0aWNhbExpbmUgPSBjcmVhdGVQcmludGVyTWFya0VsZW1lbnQoZG9jLCBsaW5lV2lkdGgpO1xuICB2ZXJ0aWNhbExpbmUuc2V0QXR0cmlidXRlKFwicG9pbnRzXCIsIGAke3dpZHRoIC8gMn0sMCAke3dpZHRoIC8gMn0sJHtoZWlnaHR9YCk7XG4gIG1hcmsuYXBwZW5kQ2hpbGQodmVydGljYWxMaW5lKTtcbiAgY29uc3QgY2lyY2xlID0gY3JlYXRlUHJpbnRlck1hcmtFbGVtZW50KGRvYywgbGluZVdpZHRoLCBcImNpcmNsZVwiKTtcbiAgY2lyY2xlLnNldEF0dHJpYnV0ZShcImN4XCIsIHdpZHRoIC8gMik7XG4gIGNpcmNsZS5zZXRBdHRyaWJ1dGUoXCJjeVwiLCBoZWlnaHQgLyAyKTtcbiAgY2lyY2xlLnNldEF0dHJpYnV0ZShcInJcIiwgbGluZUxlbmd0aCAvIDQpO1xuICBtYXJrLmFwcGVuZENoaWxkKGNpcmNsZSk7XG4gIGxldCBvcHBvc2l0ZTogQ3Jvc3NNYXJrUG9zaXRpb247XG4gIHN3aXRjaCAocG9zaXRpb24pIHtcbiAgICBjYXNlIENyb3NzTWFya1Bvc2l0aW9uLlRPUDpcbiAgICAgIG9wcG9zaXRlID0gQ3Jvc3NNYXJrUG9zaXRpb24uQk9UVE9NO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBDcm9zc01hcmtQb3NpdGlvbi5CT1RUT006XG4gICAgICBvcHBvc2l0ZSA9IENyb3NzTWFya1Bvc2l0aW9uLlRPUDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQ3Jvc3NNYXJrUG9zaXRpb24uTEVGVDpcbiAgICAgIG9wcG9zaXRlID0gQ3Jvc3NNYXJrUG9zaXRpb24uUklHSFQ7XG4gICAgICBicmVhaztcbiAgICBjYXNlIENyb3NzTWFya1Bvc2l0aW9uLlJJR0hUOlxuICAgICAgb3Bwb3NpdGUgPSBDcm9zc01hcmtQb3NpdGlvbi5MRUZUO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgT2JqZWN0LmtleXMoQ3Jvc3NNYXJrUG9zaXRpb24pLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGNvbnN0IHNpZGUgPSBDcm9zc01hcmtQb3NpdGlvbltrZXldO1xuICAgIGlmIChzaWRlID09PSBwb3NpdGlvbikge1xuICAgICAgKG1hcmsgYXMgYW55KS5zdHlsZVtzaWRlXSA9IGAke29mZnNldH1weGA7XG4gICAgfSBlbHNlIGlmIChzaWRlICE9PSBvcHBvc2l0ZSkge1xuICAgICAgKG1hcmsgYXMgYW55KS5zdHlsZVtzaWRlXSA9IFwiMFwiO1xuICAgICAgKG1hcmsgYXMgYW55KS5zdHlsZVtgbWFyZ2luLSR7c2lkZX1gXSA9IFwiYXV0b1wiO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBtYXJrO1xufVxuXG4vKipcbiAqIEFkZCBwcmludGVyIG1hcmtzIHRvIHRoZSBwYWdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkUHJpbnRlck1hcmtzKFxuICBjYXNjYWRlZFBhZ2VTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gIGV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQ6IEV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQsXG4gIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4pOiB2b2lkIHtcbiAgbGV0IGNyb3AgPSBmYWxzZTtcbiAgbGV0IGNyb3NzID0gZmFsc2U7XG4gIGNvbnN0IG1hcmtzID0gY2FzY2FkZWRQYWdlU3R5bGVbXCJtYXJrc1wiXTtcbiAgaWYgKG1hcmtzKSB7XG4gICAgY29uc3QgdmFsdWUgPSBtYXJrcy52YWx1ZTtcbiAgICBpZiAodmFsdWUuaXNTcGFjZUxpc3QoKSkge1xuICAgICAgdmFsdWUudmFsdWVzLmZvckVhY2goKHYpID0+IHtcbiAgICAgICAgaWYgKHYgPT09IENzcy5pZGVudC5jcm9wKSB7XG4gICAgICAgICAgY3JvcCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAodiA9PT0gQ3NzLmlkZW50LmNyb3NzKSB7XG4gICAgICAgICAgY3Jvc3MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBDc3MuaWRlbnQuY3JvcCkge1xuICAgICAgY3JvcCA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gQ3NzLmlkZW50LmNyb3NzKSB7XG4gICAgICBjcm9zcyA9IHRydWU7XG4gICAgfVxuICB9XG4gIGlmICghY3JvcCAmJiAhY3Jvc3MpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgY29udGFpbmVyID0gcGFnZS5jb250YWluZXI7XG4gIGNvbnN0IGRvYyA9IGNvbnRhaW5lci5vd25lckRvY3VtZW50IGFzIERvY3VtZW50O1xuICBBc3NlcnRzLmFzc2VydChkb2MpO1xuICBjb25zdCBibGVlZCA9IGV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQuYmxlZWQ7XG4gIGNvbnN0IGxpbmVXaWR0aCA9IENzcy50b051bWJlcihkZWZhdWx0UHJpbnRlck1hcmtMaW5lV2lkdGgsIGNvbnRleHQpO1xuICBjb25zdCBwcmludGVyTWFya09mZnNldCA9IENzcy50b051bWJlcihkZWZhdWx0UHJpbnRlck1hcmtPZmZzZXQsIGNvbnRleHQpO1xuICBjb25zdCBsaW5lTGVuZ3RoID0gQ3NzLnRvTnVtYmVyKGRlZmF1bHRQcmludGVyTWFya0xpbmVMZW5ndGgsIGNvbnRleHQpO1xuXG4gIGlmIChibGVlZCkge1xuICAgIGNvbnN0IGJnY29sb3IgPSBjYXNjYWRlZFBhZ2VTdHlsZVtcImJhY2tncm91bmQtY29sb3JcIl07XG4gICAgaWYgKGJnY29sb3IgJiYgYmdjb2xvci52YWx1ZSkge1xuICAgICAgcGFnZS5ibGVlZEJveC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiZ2NvbG9yLnZhbHVlLnN0cmluZ1ZhbHVlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gY29ybmVyIG1hcmtzXG4gIGlmIChjcm9wKSB7XG4gICAgT2JqZWN0LmtleXMoQ29ybmVyTWFya1Bvc2l0aW9uKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gQ29ybmVyTWFya1Bvc2l0aW9uW2tleV07XG4gICAgICBjb25zdCBtYXJrID0gY3JlYXRlQ29ybmVyTWFyayhcbiAgICAgICAgZG9jLFxuICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgbGluZVdpZHRoLFxuICAgICAgICBsaW5lTGVuZ3RoLFxuICAgICAgICBibGVlZCxcbiAgICAgICAgcHJpbnRlck1hcmtPZmZzZXQsXG4gICAgICApO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG1hcmspO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gY3Jvc3MgbWFya3NcbiAgaWYgKGNyb3NzKSB7XG4gICAgT2JqZWN0LmtleXMoQ3Jvc3NNYXJrUG9zaXRpb24pLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBDcm9zc01hcmtQb3NpdGlvbltrZXldO1xuICAgICAgY29uc3QgbWFyayA9IGNyZWF0ZUNyb3NzTWFyayhcbiAgICAgICAgZG9jLFxuICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgbGluZVdpZHRoLFxuICAgICAgICBsaW5lTGVuZ3RoLFxuICAgICAgICBwcmludGVyTWFya09mZnNldCxcbiAgICAgICk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobWFyayk7XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBQcm9wZXJ0aWVzIHRyYW5zZmVyZWQgZnJvbSB0aGUgUGFnZVJ1bGVNYXN0ZXIgdG8gdGhlIFBhZ2VSdWxlUGFydGl0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBwcm9wZXJ0aWVzQXBwbGllZFRvUGFydGl0aW9uID0gKCgpID0+IHtcbiAgY29uc3Qgc2lkZXMgPSBbXG4gICAgXCJsZWZ0XCIsXG4gICAgXCJyaWdodFwiLFxuICAgIFwidG9wXCIsXG4gICAgXCJib3R0b21cIixcbiAgICBcImJlZm9yZVwiLFxuICAgIFwiYWZ0ZXJcIixcbiAgICBcInN0YXJ0XCIsXG4gICAgXCJlbmRcIixcbiAgICBcImJsb2NrLXN0YXJ0XCIsXG4gICAgXCJibG9jay1lbmRcIixcbiAgICBcImlubGluZS1zdGFydFwiLFxuICAgIFwiaW5saW5lLWVuZFwiLFxuICBdO1xuICBjb25zdCBwcm9wcyA9IHtcbiAgICB3aWR0aDogdHJ1ZSxcbiAgICBoZWlnaHQ6IHRydWUsXG4gICAgXCJibG9jay1zaXplXCI6IHRydWUsXG4gICAgXCJpbmxpbmUtc2l6ZVwiOiB0cnVlLFxuICAgIG1hcmdpbjogdHJ1ZSxcbiAgICBwYWRkaW5nOiB0cnVlLFxuICAgIGJvcmRlcjogdHJ1ZSxcbiAgICBvdXRsaW5lOiB0cnVlLFxuICAgIFwib3V0bGluZS13aWR0aFwiOiB0cnVlLFxuICAgIFwib3V0bGluZS1zdHlsZVwiOiB0cnVlLFxuICAgIFwib3V0bGluZS1jb2xvclwiOiB0cnVlLFxuICB9O1xuICBzaWRlcy5mb3JFYWNoKChzaWRlKSA9PiB7XG4gICAgcHJvcHNbYG1hcmdpbi0ke3NpZGV9YF0gPSB0cnVlO1xuICAgIHByb3BzW2BwYWRkaW5nLSR7c2lkZX1gXSA9IHRydWU7XG4gICAgcHJvcHNbYGJvcmRlci0ke3NpZGV9LXdpZHRoYF0gPSB0cnVlO1xuICAgIHByb3BzW2Bib3JkZXItJHtzaWRlfS1zdHlsZWBdID0gdHJ1ZTtcbiAgICBwcm9wc1tgYm9yZGVyLSR7c2lkZX0tY29sb3JgXSA9IHRydWU7XG4gIH0pO1xuICByZXR1cm4gcHJvcHM7XG59KSgpO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgcG9zaXRpb24gb2YgYSBtYXJnaW4gYm94IGFsb25nIHRoZSB2YXJpYWJsZSBkaW1lbnNpb24gb2YgdGhlIHBhZ2UuXG4gKiBTVEFSVCBhbmQgRU5EIGNhbiBiZSBpbnRlcnByZXRlZCBhcyAnaW5saW5lLXN0YXJ0JyBhbmQgJ2lubGluZS1lbmQnIGluXG4gKiBob3Jpem9udGFsIGFuZCB2ZXJ0aWNhbCB3cml0aW5nIG1vZGVzLiBGb3IgZXhhbXBsZSwgZm9yIHRvcCBtYXJnaW4gYm94ZXNcbiAqIChAdG9wLWxlZnQtY29ybmVyLCBAdG9wLWxlZnQsIEB0b3AtY2VudGVyLCBAdG9wLXJpZ2h0LCBAdG9wLXJpZ2h0LWNvcm5lciksXG4gKiBAdG9wLWxlZnQgY29ycmVzcG9uZHMgdG8gU1RBUlQsIEB0b3AtY2VudGVyIHRvIENFTlRFUiwgYW5kIEB0b3AtcmlnaHQgdG8gRU5ELlxuICogVGhlIGNvcm5lciBib3hlcyAoQHRvcC1sZWZ0LWNvcm5lciBhbmQgQHRvcC1yaWdodC1jb3JuZXIpIGhhdmUgYSAnbnVsbCdcbiAqIHBvc2l0aW9uLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGVudW0gTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uIHtcbiAgU1RBUlQgPSBcInN0YXJ0XCIsXG4gIENFTlRFUiA9IFwiY2VudGVyXCIsXG4gIEVORCA9IFwiZW5kXCIsXG59XG5cbmV4cG9ydCB0eXBlIFBhZ2VNYXJnaW5Cb3hJbmZvcm1hdGlvbiA9IHtcbiAgb3JkZXI6IG51bWJlcjtcbiAgaXNJblRvcFJvdzogYm9vbGVhbjtcbiAgaXNJbkJvdHRvbVJvdzogYm9vbGVhbjtcbiAgaXNJbkxlZnRDb2x1bW46IGJvb2xlYW47XG4gIGlzSW5SaWdodENvbHVtbjogYm9vbGVhbjtcbiAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOiBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb247XG59O1xuXG4vKipcbiAqIFBhZ2UtbWFyZ2luIGJveGVzLlxuICogQGRpY3RcbiAqL1xuZXhwb3J0IGNvbnN0IHBhZ2VNYXJnaW5Cb3hlczogeyBba2V5OiBzdHJpbmddOiBQYWdlTWFyZ2luQm94SW5mb3JtYXRpb24gfSA9IHtcbiAgXCJ0b3AtbGVmdC1jb3JuZXJcIjoge1xuICAgIG9yZGVyOiAxLFxuICAgIGlzSW5Ub3BSb3c6IHRydWUsXG4gICAgaXNJbkJvdHRvbVJvdzogZmFsc2UsXG4gICAgaXNJbkxlZnRDb2x1bW46IHRydWUsXG4gICAgaXNJblJpZ2h0Q29sdW1uOiB0cnVlLFxuICAgIHBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjogbnVsbCxcbiAgfSxcbiAgXCJ0b3AtbGVmdFwiOiB7XG4gICAgb3JkZXI6IDIsXG4gICAgaXNJblRvcFJvdzogdHJ1ZSxcbiAgICBpc0luQm90dG9tUm93OiBmYWxzZSxcbiAgICBpc0luTGVmdENvbHVtbjogZmFsc2UsXG4gICAgaXNJblJpZ2h0Q29sdW1uOiBmYWxzZSxcbiAgICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246XG4gICAgICBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uU1RBUlQsXG4gIH0sXG4gIFwidG9wLWNlbnRlclwiOiB7XG4gICAgb3JkZXI6IDMsXG4gICAgaXNJblRvcFJvdzogdHJ1ZSxcbiAgICBpc0luQm90dG9tUm93OiBmYWxzZSxcbiAgICBpc0luTGVmdENvbHVtbjogZmFsc2UsXG4gICAgaXNJblJpZ2h0Q29sdW1uOiBmYWxzZSxcbiAgICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246XG4gICAgICBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uQ0VOVEVSLFxuICB9LFxuICBcInRvcC1yaWdodFwiOiB7XG4gICAgb3JkZXI6IDQsXG4gICAgaXNJblRvcFJvdzogdHJ1ZSxcbiAgICBpc0luQm90dG9tUm93OiBmYWxzZSxcbiAgICBpc0luTGVmdENvbHVtbjogZmFsc2UsXG4gICAgaXNJblJpZ2h0Q29sdW1uOiBmYWxzZSxcbiAgICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246IE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5FTkQsXG4gIH0sXG4gIFwidG9wLXJpZ2h0LWNvcm5lclwiOiB7XG4gICAgb3JkZXI6IDUsXG4gICAgaXNJblRvcFJvdzogdHJ1ZSxcbiAgICBpc0luQm90dG9tUm93OiBmYWxzZSxcbiAgICBpc0luTGVmdENvbHVtbjogZmFsc2UsXG4gICAgaXNJblJpZ2h0Q29sdW1uOiB0cnVlLFxuICAgIHBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjogbnVsbCxcbiAgfSxcbiAgXCJyaWdodC10b3BcIjoge1xuICAgIG9yZGVyOiA2LFxuICAgIGlzSW5Ub3BSb3c6IGZhbHNlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IGZhbHNlLFxuICAgIGlzSW5MZWZ0Q29sdW1uOiBmYWxzZSxcbiAgICBpc0luUmlnaHRDb2x1bW46IHRydWUsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOlxuICAgICAgTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLlNUQVJULFxuICB9LFxuICBcInJpZ2h0LW1pZGRsZVwiOiB7XG4gICAgb3JkZXI6IDcsXG4gICAgaXNJblRvcFJvdzogZmFsc2UsXG4gICAgaXNJbkJvdHRvbVJvdzogZmFsc2UsXG4gICAgaXNJbkxlZnRDb2x1bW46IGZhbHNlLFxuICAgIGlzSW5SaWdodENvbHVtbjogdHJ1ZSxcbiAgICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246XG4gICAgICBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uQ0VOVEVSLFxuICB9LFxuICBcInJpZ2h0LWJvdHRvbVwiOiB7XG4gICAgb3JkZXI6IDgsXG4gICAgaXNJblRvcFJvdzogZmFsc2UsXG4gICAgaXNJbkJvdHRvbVJvdzogZmFsc2UsXG4gICAgaXNJbkxlZnRDb2x1bW46IGZhbHNlLFxuICAgIGlzSW5SaWdodENvbHVtbjogdHJ1ZSxcbiAgICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246IE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5FTkQsXG4gIH0sXG4gIFwiYm90dG9tLXJpZ2h0LWNvcm5lclwiOiB7XG4gICAgb3JkZXI6IDksXG4gICAgaXNJblRvcFJvdzogZmFsc2UsXG4gICAgaXNJbkJvdHRvbVJvdzogdHJ1ZSxcbiAgICBpc0luTGVmdENvbHVtbjogZmFsc2UsXG4gICAgaXNJblJpZ2h0Q29sdW1uOiB0cnVlLFxuICAgIHBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjogbnVsbCxcbiAgfSxcbiAgXCJib3R0b20tcmlnaHRcIjoge1xuICAgIG9yZGVyOiAxMCxcbiAgICBpc0luVG9wUm93OiBmYWxzZSxcbiAgICBpc0luQm90dG9tUm93OiB0cnVlLFxuICAgIGlzSW5MZWZ0Q29sdW1uOiBmYWxzZSxcbiAgICBpc0luUmlnaHRDb2x1bW46IGZhbHNlLFxuICAgIHBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjogTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkVORCxcbiAgfSxcbiAgXCJib3R0b20tY2VudGVyXCI6IHtcbiAgICBvcmRlcjogMTEsXG4gICAgaXNJblRvcFJvdzogZmFsc2UsXG4gICAgaXNJbkJvdHRvbVJvdzogdHJ1ZSxcbiAgICBpc0luTGVmdENvbHVtbjogZmFsc2UsXG4gICAgaXNJblJpZ2h0Q29sdW1uOiBmYWxzZSxcbiAgICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246XG4gICAgICBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uQ0VOVEVSLFxuICB9LFxuICBcImJvdHRvbS1sZWZ0XCI6IHtcbiAgICBvcmRlcjogMTIsXG4gICAgaXNJblRvcFJvdzogZmFsc2UsXG4gICAgaXNJbkJvdHRvbVJvdzogdHJ1ZSxcbiAgICBpc0luTGVmdENvbHVtbjogZmFsc2UsXG4gICAgaXNJblJpZ2h0Q29sdW1uOiBmYWxzZSxcbiAgICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246XG4gICAgICBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uU1RBUlQsXG4gIH0sXG4gIFwiYm90dG9tLWxlZnQtY29ybmVyXCI6IHtcbiAgICBvcmRlcjogMTMsXG4gICAgaXNJblRvcFJvdzogZmFsc2UsXG4gICAgaXNJbkJvdHRvbVJvdzogdHJ1ZSxcbiAgICBpc0luTGVmdENvbHVtbjogdHJ1ZSxcbiAgICBpc0luUmlnaHRDb2x1bW46IGZhbHNlLFxuICAgIHBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjogbnVsbCxcbiAgfSxcbiAgXCJsZWZ0LWJvdHRvbVwiOiB7XG4gICAgb3JkZXI6IDE0LFxuICAgIGlzSW5Ub3BSb3c6IGZhbHNlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IGZhbHNlLFxuICAgIGlzSW5MZWZ0Q29sdW1uOiB0cnVlLFxuICAgIGlzSW5SaWdodENvbHVtbjogZmFsc2UsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOiBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uRU5ELFxuICB9LFxuICBcImxlZnQtbWlkZGxlXCI6IHtcbiAgICBvcmRlcjogMTUsXG4gICAgaXNJblRvcFJvdzogZmFsc2UsXG4gICAgaXNJbkJvdHRvbVJvdzogZmFsc2UsXG4gICAgaXNJbkxlZnRDb2x1bW46IHRydWUsXG4gICAgaXNJblJpZ2h0Q29sdW1uOiBmYWxzZSxcbiAgICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246XG4gICAgICBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uQ0VOVEVSLFxuICB9LFxuICBcImxlZnQtdG9wXCI6IHtcbiAgICBvcmRlcjogMTYsXG4gICAgaXNJblRvcFJvdzogZmFsc2UsXG4gICAgaXNJbkJvdHRvbVJvdzogZmFsc2UsXG4gICAgaXNJbkxlZnRDb2x1bW46IHRydWUsXG4gICAgaXNJblJpZ2h0Q29sdW1uOiBmYWxzZSxcbiAgICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246XG4gICAgICBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uU1RBUlQsXG4gIH0sXG59O1xuXG4vKipcbiAqIE5hbWVzIGZvciBwYWdlLW1hcmdpbiBib3hlcyBvcmRlciBpbiB0aGUgZGVmYXVsdCBwYWludGluZyBvcmRlci5cbiAqL1xuZXhwb3J0IGNvbnN0IHBhZ2VNYXJnaW5Cb3hOYW1lczogc3RyaW5nW10gPSAoKCkgPT4ge1xuICBjb25zdCBib3hlcyA9IHBhZ2VNYXJnaW5Cb3hlcztcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGJveGVzKS5zb3J0KChhLCBiKSA9PiBib3hlc1thXS5vcmRlciAtIGJveGVzW2JdLm9yZGVyKTtcbn0pKCk7XG5cbi8qKlxuICogSW5kaWNhdGVzIHRoYXQgdGhlIHBhZ2UgbWFzdGVyIGlzIGdlbmVyYXRlZCBmb3IgYEBwYWdlYCBydWxlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IHBhZ2VSdWxlTWFzdGVyUHNldWRvTmFtZSA9IFwidml2bGlvc3R5bGUtcGFnZS1ydWxlLW1hc3RlclwiO1xuXG4vKipcbiAqIEtleSBmb3IgcHJvcGVydGllcyBpbiBtYXJnaW4gY29udGV4dHMuXG4gKiBTdHlsZXMgaW4gbWFyZ2luIGNvbnRleHRzIGFyZSBzdG9yZWQgaW4gcGFnZVN0eWxlW1wiX21hcmdpbkJveGVzXCJdWyhtYXJnaW5cbiAqIGJveCdzIG5hbWUpXS5cbiAqL1xuZXhwb3J0IGNvbnN0IG1hcmdpbkJveGVzS2V5OiBzdHJpbmcgPSBcIl9tYXJnaW5Cb3hlc1wiO1xuXG4vKipcbiAqIFJlcHJlc2VudCBhIHBhZ2UgbWFzdGVyIGdlbmVyYXRlZCBmb3IgYEBwYWdlYCBydWxlc1xuICogQHBhcmFtIHN0eWxlIENhc2NhZGVkIHN0eWxlIGZvciBgQHBhZ2VgIHJ1bGVzXG4gKi9cbmV4cG9ydCBjbGFzcyBQYWdlUnVsZU1hc3RlciBleHRlbmRzIFBhZ2VNYXN0ZXIuUGFnZU1hc3RlcjxcbiAgUGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZVxuPiB7XG4gIHByaXZhdGUgYm9keVBhcnRpdGlvbktleTogc3RyaW5nO1xuICBwcml2YXRlIHBhZ2VNYXJnaW5Cb3hlcyA9IHt9IGFzIHtcbiAgICBba2V5OiBzdHJpbmddOiBQYWdlTWFyZ2luQm94UGFydGl0aW9uO1xuICB9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcGFyZW50OiBQYWdlTWFzdGVyLlJvb3RQYWdlQm94LFxuICAgIHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG51bGwsIHBhZ2VSdWxlTWFzdGVyUHNldWRvTmFtZSwgW10sIHBhcmVudCwgbnVsbCwgMCk7XG4gICAgY29uc3QgcGFnZVNpemUgPSByZXNvbHZlUGFnZVNpemVBbmRCbGVlZChzdHlsZSBhcyBhbnkpO1xuICAgIGNvbnN0IHBhcnRpdGlvbiA9IG5ldyBQYWdlUnVsZVBhcnRpdGlvbih0aGlzLnNjb3BlLCB0aGlzLCBzdHlsZSwgcGFnZVNpemUpO1xuICAgIHRoaXMuYm9keVBhcnRpdGlvbktleSA9IHBhcnRpdGlvbi5rZXk7XG4gICAgdGhpcy5jcmVhdGVQYWdlTWFyZ2luQm94ZXMoc3R5bGUpO1xuICAgIHRoaXMuYXBwbHlTcGVjaWZpZWQoc3R5bGUsIHBhZ2VTaXplKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgcGFnZS1tYXJnaW4gYm94ZXNcbiAgICovXG4gIGNyZWF0ZVBhZ2VNYXJnaW5Cb3hlcyhzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUpIHtcbiAgICBjb25zdCBtYXJnaW5Cb3hlc01hcCA9IHN0eWxlW21hcmdpbkJveGVzS2V5XTtcbiAgICBpZiAobWFyZ2luQm94ZXNNYXApIHtcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgcGFnZU1hcmdpbkJveE5hbWVzLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgICAgaWYgKG1hcmdpbkJveGVzTWFwW25hbWVdKSB7XG4gICAgICAgICAgc2VsZi5wYWdlTWFyZ2luQm94ZXNbbmFtZV0gPSBuZXcgUGFnZU1hcmdpbkJveFBhcnRpdGlvbihcbiAgICAgICAgICAgIHNlbGYuc2NvcGUsXG4gICAgICAgICAgICBzZWxmLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIHN0eWxlLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2ZlciBjYXNjYWRlZCBzdHlsZSBmb3IgYEBwYWdlYCBydWxlcyB0byAnc3BlY2lmaWVkJyBzdHlsZSBvZiB0aGlzXG4gICAqIFBhZ2VCb3hcbiAgICovXG4gIHByaXZhdGUgYXBwbHlTcGVjaWZpZWQoc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLCBwYWdlU2l6ZTogUGFnZVNpemUpIHtcbiAgICB0aGlzLnNwZWNpZmllZFtcInBvc2l0aW9uXCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKFxuICAgICAgQ3NzLmlkZW50LnJlbGF0aXZlLFxuICAgICAgMCxcbiAgICApO1xuICAgIHRoaXMuc3BlY2lmaWVkW1wid2lkdGhcIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUocGFnZVNpemUud2lkdGgsIDApO1xuICAgIHRoaXMuc3BlY2lmaWVkW1wiaGVpZ2h0XCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKHBhZ2VTaXplLmhlaWdodCwgMCk7XG4gICAgZm9yIChjb25zdCBuYW1lIGluIHN0eWxlKSB7XG4gICAgICBpZiAoIXByb3BlcnRpZXNBcHBsaWVkVG9QYXJ0aXRpb25bbmFtZV0gJiYgbmFtZSAhPT0gXCJiYWNrZ3JvdW5kLWNsaXBcIikge1xuICAgICAgICB0aGlzLnNwZWNpZmllZFtuYW1lXSA9IHN0eWxlW25hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNyZWF0ZUluc3RhbmNlKHBhcmVudEluc3RhbmNlKTogUGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZSB7XG4gICAgcmV0dXJuIG5ldyBQYWdlUnVsZU1hc3Rlckluc3RhbmNlKHBhcmVudEluc3RhbmNlLCB0aGlzKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudCBhIHBhcnRpdGlvbiBwbGFjZWQgaW4gYSBQYWdlUnVsZU1hc3RlclxuICogQHBhcmFtIHN0eWxlIENhc2NhZGVkIHN0eWxlIGZvciBgQHBhZ2VgIHJ1bGVzXG4gKi9cbmV4cG9ydCBjbGFzcyBQYWdlUnVsZVBhcnRpdGlvbiBleHRlbmRzIFBhZ2VNYXN0ZXIuUGFydGl0aW9uPFxuICBQYWdlUnVsZVBhcnRpdGlvbkluc3RhbmNlXG4+IHtcbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBwYXJlbnQ6IFBhZ2VSdWxlTWFzdGVyLFxuICAgIHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFnZVNpemU6IFBhZ2VTaXplLFxuICApIHtcbiAgICBzdXBlcihzY29wZSwgbnVsbCwgbnVsbCwgW10sIHBhcmVudCk7XG4gICAgdGhpcy5zcGVjaWZpZWRbXCJ6LWluZGV4XCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKG5ldyBDc3MuSW50KDApLCAwKTtcbiAgICB0aGlzLmFwcGx5U3BlY2lmaWVkKHN0eWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2ZlciBjYXNjYWRlZCBzdHlsZSBmb3IgYEBwYWdlYCBydWxlcyB0byAnc3BlY2lmaWVkJyBzdHlsZSBvZiB0aGlzXG4gICAqIFBhZ2VCb3hcbiAgICovXG4gIHByaXZhdGUgYXBwbHlTcGVjaWZpZWQoc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlKSB7XG4gICAgdGhpcy5zcGVjaWZpZWRbXCJmbG93LWZyb21cIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoXG4gICAgICBDc3MuZ2V0TmFtZShcImJvZHlcIiksXG4gICAgICAwLFxuICAgICk7XG5cbiAgICAvLyBVc2UgYWJzb2x1dGUgcG9zaXRpb25pbmcgc28gdGhhdCB0aGlzIHBhcnRpdGlvbidzIG1hcmdpbnMgZG9uJ3QgY29sbGFwc2VcbiAgICAvLyB3aXRoIGl0cyBwYXJlbnQncyBtYXJnaW5zXG4gICAgdGhpcy5zcGVjaWZpZWRbXCJwb3NpdGlvblwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShcbiAgICAgIENzcy5pZGVudC5hYnNvbHV0ZSxcbiAgICAgIDAsXG4gICAgKTtcbiAgICB0aGlzLnNwZWNpZmllZFtcIm92ZXJmbG93XCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKFxuICAgICAgQ3NzLmlkZW50LnZpc2libGUsXG4gICAgICAwLFxuICAgICk7XG4gICAgZm9yIChjb25zdCBwcm9wIGluIHByb3BlcnRpZXNBcHBsaWVkVG9QYXJ0aXRpb24pIHtcbiAgICAgIGlmIChwcm9wZXJ0aWVzQXBwbGllZFRvUGFydGl0aW9uLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgIHRoaXMuc3BlY2lmaWVkW3Byb3BdID0gc3R5bGVbcHJvcF07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY3JlYXRlSW5zdGFuY2UocGFyZW50SW5zdGFuY2UpOiBQYWdlTWFzdGVyLlBhZ2VCb3hJbnN0YW5jZSB7XG4gICAgcmV0dXJuIG5ldyBQYWdlUnVsZVBhcnRpdGlvbkluc3RhbmNlKHBhcmVudEluc3RhbmNlLCB0aGlzKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudCBhIHBhcnRpdGlvbiBmb3IgYSBwYWdlLW1hcmdpbiBib3hcbiAqL1xuZXhwb3J0IGNsYXNzIFBhZ2VNYXJnaW5Cb3hQYXJ0aXRpb24gZXh0ZW5kcyBQYWdlTWFzdGVyLlBhcnRpdGlvbjxcbiAgUGFnZU1hcmdpbkJveFBhcnRpdGlvbkluc3RhbmNlXG4+IHtcbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBwYXJlbnQ6IFBhZ2VSdWxlTWFzdGVyLFxuICAgIHB1YmxpYyByZWFkb25seSBtYXJnaW5Cb3hOYW1lOiBzdHJpbmcsXG4gICAgc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICApIHtcbiAgICBzdXBlcihzY29wZSwgbnVsbCwgbnVsbCwgW10sIHBhcmVudCk7XG4gICAgdGhpcy5hcHBseVNwZWNpZmllZChzdHlsZSk7XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNmZXIgY2FzY2FkZWQgc3R5bGUgZm9yIGBAcGFnZWAgcnVsZXMgdG8gJ3NwZWNpZmllZCcgc3R5bGUgb2YgdGhpc1xuICAgKiBQYWdlTWFyZ2luQm94XG4gICAqL1xuICBhcHBseVNwZWNpZmllZChzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUpIHtcbiAgICBjb25zdCBvd25TdHlsZSA9IHN0eWxlW21hcmdpbkJveGVzS2V5XVtcbiAgICAgIHRoaXMubWFyZ2luQm94TmFtZVxuICAgIF0gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGU7XG5cbiAgICAvLyBJbmhlcml0IHByb3BlcnRpZXMgaW4gdGhlIHBhZ2UgY29udGV4dCB0byB0aGUgcGFnZS1tYXJnaW4gY29udGV4dFxuICAgIGZvciAoY29uc3QgcHJvcCBpbiBzdHlsZSkge1xuICAgICAgY29uc3QgdmFsID0gc3R5bGVbcHJvcF0gYXMgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWU7XG4gICAgICBjb25zdCBvd25WYWwgPSBvd25TdHlsZVtwcm9wXSBhcyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZTtcbiAgICAgIGlmIChcbiAgICAgICAgQ3NzQ2FzY2FkZS5pbmhlcml0ZWRQcm9wc1twcm9wXSB8fFxuICAgICAgICAob3duVmFsICYmIG93blZhbC52YWx1ZSA9PT0gQ3NzLmlkZW50LmluaGVyaXQpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5zcGVjaWZpZWRbcHJvcF0gPSB2YWw7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3QgcHJvcCBpbiBvd25TdHlsZSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvd25TdHlsZSwgcHJvcCkpIHtcbiAgICAgICAgY29uc3QgdmFsID0gb3duU3R5bGVbcHJvcF0gYXMgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWU7XG4gICAgICAgIGlmICh2YWwgJiYgdmFsLnZhbHVlICE9PSBDc3MuaWRlbnQuaW5oZXJpdCkge1xuICAgICAgICAgIHRoaXMuc3BlY2lmaWVkW3Byb3BdID0gdmFsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY3JlYXRlSW5zdGFuY2UocGFyZW50SW5zdGFuY2UpOiBQYWdlTWFzdGVyLlBhZ2VCb3hJbnN0YW5jZSB7XG4gICAgcmV0dXJuIG5ldyBQYWdlTWFyZ2luQm94UGFydGl0aW9uSW5zdGFuY2UocGFyZW50SW5zdGFuY2UsIHRoaXMpO1xuICB9XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBJbnN0YW5jZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IHR5cGUgUGFnZUFyZWFEaW1lbnNpb24gPSB7XG4gIGJvcmRlckJveFdpZHRoOiBFeHBycy5WYWw7XG4gIGJvcmRlckJveEhlaWdodDogRXhwcnMuVmFsO1xuICBtYXJnaW5Ub3A6IEV4cHJzLlZhbDtcbiAgbWFyZ2luQm90dG9tOiBFeHBycy5WYWw7XG4gIG1hcmdpbkxlZnQ6IEV4cHJzLlZhbDtcbiAgbWFyZ2luUmlnaHQ6IEV4cHJzLlZhbDtcbn07XG5cbmV4cG9ydCBjbGFzcyBQYWdlUnVsZU1hc3Rlckluc3RhbmNlIGV4dGVuZHMgUGFnZU1hc3Rlci5QYWdlTWFzdGVySW5zdGFuY2U8XG4gIFBhZ2VSdWxlTWFzdGVyXG4+IHtcbiAgcGFnZUFyZWFEaW1lbnNpb246IFBhZ2VBcmVhRGltZW5zaW9uIHwgbnVsbCA9IG51bGw7XG4gIHBhZ2VNYXJnaW5Cb3hJbnN0YW5jZXM6IHtcbiAgICBba2V5OiBzdHJpbmddOiBQYWdlTWFyZ2luQm94UGFydGl0aW9uSW5zdGFuY2U7XG4gIH0gPSB7fTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwYXJlbnRJbnN0YW5jZTogUGFnZU1hc3Rlci5QYWdlQm94SW5zdGFuY2UsXG4gICAgcGFnZVJ1bGVNYXN0ZXI6IFBhZ2VSdWxlTWFzdGVyLFxuICApIHtcbiAgICBzdXBlcihwYXJlbnRJbnN0YW5jZSwgcGFnZVJ1bGVNYXN0ZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHlDYXNjYWRlQW5kSW5pdChcbiAgICBjYXNjYWRlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSxcbiAgICBkb2NFbGVtZW50U3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuY2FzY2FkZWQ7XG4gICAgZm9yIChjb25zdCBuYW1lIGluIGRvY0VsZW1lbnRTdHlsZSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkb2NFbGVtZW50U3R5bGUsIG5hbWUpKSB7XG4gICAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICAgIGNhc2UgXCJ3cml0aW5nLW1vZGVcIjpcbiAgICAgICAgICBjYXNlIFwiZGlyZWN0aW9uXCI6XG4gICAgICAgICAgICBzdHlsZVtuYW1lXSA9IGRvY0VsZW1lbnRTdHlsZVtuYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBzdXBlci5hcHBseUNhc2NhZGVBbmRJbml0KGNhc2NhZGUsIGRvY0VsZW1lbnRTdHlsZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpbml0SG9yaXpvbnRhbCgpOiB2b2lkIHtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuc3R5bGU7XG4gICAgc3R5bGVbXCJsZWZ0XCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW1wibWFyZ2luLWxlZnRcIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgc3R5bGVbXCJib3JkZXItbGVmdC13aWR0aFwiXSA9IENzcy5udW1lcmljWmVybztcbiAgICBzdHlsZVtcInBhZGRpbmctbGVmdFwiXSA9IENzcy5udW1lcmljWmVybztcbiAgICBzdHlsZVtcInBhZGRpbmctcmlnaHRcIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgc3R5bGVbXCJib3JkZXItcmlnaHQtd2lkdGhcIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgc3R5bGVbXCJtYXJnaW4tcmlnaHRcIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgc3R5bGVbXCJyaWdodFwiXSA9IENzcy5udW1lcmljWmVybztcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGluaXRWZXJ0aWNhbCgpOiB2b2lkIHtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuc3R5bGU7XG5cbiAgICAvLyBTaGlmdCAxcHggdG8gd29ya2Fyb3VuZCBDaHJvbWUgcHJpbnRpbmcgYnVnXG4gICAgLy8gc3R5bGVbXCJ0b3BcIl0gPSBuZXcgQ3NzLk51bWVyaWMoLTEsIFwicHhcIik7XG4gICAgc3R5bGVbXCJ0b3BcIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgc3R5bGVbXCJtYXJnaW4tdG9wXCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW1wiYm9yZGVyLXRvcC13aWR0aFwiXSA9IENzcy5udW1lcmljWmVybztcbiAgICBzdHlsZVtcInBhZGRpbmctdG9wXCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW1wicGFkZGluZy1ib3R0b21cIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgc3R5bGVbXCJib3JkZXItYm90dG9tLXdpZHRoXCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW1wibWFyZ2luLWJvdHRvbVwiXSA9IENzcy5udW1lcmljWmVybztcbiAgICBzdHlsZVtcImJvdHRvbVwiXSA9IENzcy5udW1lcmljWmVybztcbiAgfVxuXG4gIHNldFBhZ2VBcmVhRGltZW5zaW9uKGRpbTogUGFnZUFyZWFEaW1lbnNpb24pIHtcbiAgICB0aGlzLnBhZ2VBcmVhRGltZW5zaW9uID0gZGltO1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5zdHlsZTtcbiAgICBzdHlsZVtcIndpZHRoXCJdID0gbmV3IENzcy5FeHByKGRpbS5ib3JkZXJCb3hXaWR0aCk7XG4gICAgc3R5bGVbXCJoZWlnaHRcIl0gPSBuZXcgQ3NzLkV4cHIoZGltLmJvcmRlckJveEhlaWdodCk7XG4gICAgc3R5bGVbXCJwYWRkaW5nLWxlZnRcIl0gPSBuZXcgQ3NzLkV4cHIoZGltLm1hcmdpbkxlZnQpO1xuICAgIHN0eWxlW1wicGFkZGluZy1yaWdodFwiXSA9IG5ldyBDc3MuRXhwcihkaW0ubWFyZ2luUmlnaHQpO1xuICAgIHN0eWxlW1wicGFkZGluZy10b3BcIl0gPSBuZXcgQ3NzLkV4cHIoZGltLm1hcmdpblRvcCk7XG4gICAgc3R5bGVbXCJwYWRkaW5nLWJvdHRvbVwiXSA9IG5ldyBDc3MuRXhwcihkaW0ubWFyZ2luQm90dG9tKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFkanVzdFBhZ2VMYXlvdXQoXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICApIHtcbiAgICBjb25zdCBtYXJnaW5Cb3hDb250YWluZXJzID0gcGFnZS5tYXJnaW5Cb3hlcztcbiAgICBjb25zdCBob3Jpem9udGFsRGltZW5zaW9ucyA9IHtcbiAgICAgIHN0YXJ0OiB0aGlzLnBhZ2VBcmVhRGltZW5zaW9uLm1hcmdpbkxlZnQsXG4gICAgICBlbmQ6IHRoaXMucGFnZUFyZWFEaW1lbnNpb24ubWFyZ2luUmlnaHQsXG4gICAgICBleHRlbnQ6IHRoaXMucGFnZUFyZWFEaW1lbnNpb24uYm9yZGVyQm94V2lkdGgsXG4gICAgfTtcbiAgICBjb25zdCB2ZXJ0aWNhbERpbWVuc2lvbnMgPSB7XG4gICAgICBzdGFydDogdGhpcy5wYWdlQXJlYURpbWVuc2lvbi5tYXJnaW5Ub3AsXG4gICAgICBlbmQ6IHRoaXMucGFnZUFyZWFEaW1lbnNpb24ubWFyZ2luQm90dG9tLFxuICAgICAgZXh0ZW50OiB0aGlzLnBhZ2VBcmVhRGltZW5zaW9uLmJvcmRlckJveEhlaWdodCxcbiAgICB9O1xuICAgIHRoaXMuc2l6ZU1hcmdpbkJveGVzQWxvbmdWYXJpYWJsZURpbWVuc2lvbihcbiAgICAgIG1hcmdpbkJveENvbnRhaW5lcnMudG9wLFxuICAgICAgdHJ1ZSxcbiAgICAgIGhvcml6b250YWxEaW1lbnNpb25zLFxuICAgICAgY29udGV4dCxcbiAgICAgIGNsaWVudExheW91dCxcbiAgICApO1xuICAgIHRoaXMuc2l6ZU1hcmdpbkJveGVzQWxvbmdWYXJpYWJsZURpbWVuc2lvbihcbiAgICAgIG1hcmdpbkJveENvbnRhaW5lcnMuYm90dG9tLFxuICAgICAgdHJ1ZSxcbiAgICAgIGhvcml6b250YWxEaW1lbnNpb25zLFxuICAgICAgY29udGV4dCxcbiAgICAgIGNsaWVudExheW91dCxcbiAgICApO1xuICAgIHRoaXMuc2l6ZU1hcmdpbkJveGVzQWxvbmdWYXJpYWJsZURpbWVuc2lvbihcbiAgICAgIG1hcmdpbkJveENvbnRhaW5lcnMubGVmdCxcbiAgICAgIGZhbHNlLFxuICAgICAgdmVydGljYWxEaW1lbnNpb25zLFxuICAgICAgY29udGV4dCxcbiAgICAgIGNsaWVudExheW91dCxcbiAgICApO1xuICAgIHRoaXMuc2l6ZU1hcmdpbkJveGVzQWxvbmdWYXJpYWJsZURpbWVuc2lvbihcbiAgICAgIG1hcmdpbkJveENvbnRhaW5lcnMucmlnaHQsXG4gICAgICBmYWxzZSxcbiAgICAgIHZlcnRpY2FsRGltZW5zaW9ucyxcbiAgICAgIGNvbnRleHQsXG4gICAgICBjbGllbnRMYXlvdXQsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgYW5kIHNldCBtYXJnaW4gYm94ZXMnIHNpemVzIGFsb25nIHZhcmlhYmxlIGRpbWVuc2lvbiB1c2luZyBhblxuICAgKiBhbGdvcml0aG0gc3BlY2lmaWVkIGluIENTUyBQYWdlZCBNZWRpYSBzcGVjLlxuICAgKiBAcGFyYW0gbWFyZ2luQm94Q29udGFpbmVycyBDb250YWluZXJzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHRhcmdldCBtYXJnaW5cbiAgICogICAgIGJveGVzIGluIG9uZSBwYWdlIGVkZ2UgKHRvcCwgYm90dG9tLCBsZWZ0LCByaWdodClcbiAgICogQHBhcmFtIGlzSG9yaXpvbnRhbCBJbmRpY2F0ZXMgaWYgdGhlIHRhcmdldCBtYXJnaW4gYm94ZXMgYXJlIG9uIHRoZVxuICAgKiAgICAgaG9yaXpvbnRhbCBlZGdlICh0b3Agb3IgYm90dG9tKSBvciBub3QgKGxlZnQgb3IgcmlnaHQpLlxuICAgKiBAcGFyYW0gZGltZW5zaW9ucyBQYWdlIGRpbWVuc2lvbnMuIHN0YXJ0OiBtYXJnaW4tbGVmdCBvciBtYXJnaW4tdG9wLiBlbmQ6XG4gICAqICAgICBtYXJnaW4tcmlnaHQgb3IgbWFyZ2luLWJvdHRvbS4gZXh0ZW50OiBib3JkZXItYm94IHdpZHRoIG9yIGhlaWdodCBvZlxuICAgKiAgICAgdGhlIHBhZ2UgYXJlYSAoPSBhdmFpbGFibGUgd2lkdGggb3IgaGVpZ2h0IGZvciB0aGUgdGFyZ2V0IG1hcmdpbiBib3hlcylcbiAgICovXG4gIHByaXZhdGUgc2l6ZU1hcmdpbkJveGVzQWxvbmdWYXJpYWJsZURpbWVuc2lvbihcbiAgICBtYXJnaW5Cb3hDb250YWluZXJzOiB7IFtrZXk6IHN0cmluZ106IFZ0cmVlLkNvbnRhaW5lciB9LFxuICAgIGlzSG9yaXpvbnRhbDogYm9vbGVhbixcbiAgICBkaW1lbnNpb25zOiB7IHN0YXJ0OiBFeHBycy5WYWw7IGVuZDogRXhwcnMuVmFsOyBleHRlbnQ6IEV4cHJzLlZhbCB9LFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICkge1xuICAgIGNvbnN0IFNUQVJUID0gTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLlNUQVJUO1xuICAgIGNvbnN0IENFTlRFUiA9IE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5DRU5URVI7XG4gICAgY29uc3QgRU5EID0gTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkVORDtcblxuICAgIC8vIHByZXBhcmUgcGFyYW1ldGVyc1xuICAgIGNvbnN0IHNjb3BlID0gdGhpcy5wYWdlQm94LnNjb3BlO1xuICAgIGNvbnN0IGNvbnRhaW5lcnM6IHtcbiAgICAgIFtrZXkgaW4gTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uXT86IFZ0cmVlLkNvbnRhaW5lcjtcbiAgICB9ID0ge307XG4gICAgY29uc3QgYm94SW5zdGFuY2VzOiB7XG4gICAgICBba2V5IGluIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbl0/OiBQYWdlTWFyZ2luQm94UGFydGl0aW9uSW5zdGFuY2U7XG4gICAgfSA9IHt9O1xuICAgIGNvbnN0IGJveFBhcmFtczoge1xuICAgICAgW2tleSBpbiBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb25dPzogTWFyZ2luQm94U2l6aW5nUGFyYW07XG4gICAgfSA9IHt9O1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBtYXJnaW5Cb3hDb250YWluZXJzKSB7XG4gICAgICBjb25zdCBib3hJbmZvID0gcGFnZU1hcmdpbkJveGVzW25hbWVdO1xuICAgICAgaWYgKGJveEluZm8pIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gbWFyZ2luQm94Q29udGFpbmVyc1tuYW1lXTtcbiAgICAgICAgY29uc3QgYm94SW5zdGFuY2UgPSB0aGlzLnBhZ2VNYXJnaW5Cb3hJbnN0YW5jZXNbbmFtZV07XG4gICAgICAgIGNvbnN0IGJveFBhcmFtID0gbmV3IFNpbmdsZUJveE1hcmdpbkJveFNpemluZ1BhcmFtKFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAoYm94SW5zdGFuY2UgYXMgYW55KS5zdHlsZSxcbiAgICAgICAgICBpc0hvcml6b250YWwsXG4gICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgY2xpZW50TGF5b3V0LFxuICAgICAgICApO1xuICAgICAgICBjb250YWluZXJzW2JveEluZm8ucG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uXSA9IGNvbnRhaW5lcjtcbiAgICAgICAgYm94SW5zdGFuY2VzW2JveEluZm8ucG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uXSA9IGJveEluc3RhbmNlO1xuICAgICAgICBib3hQYXJhbXNbYm94SW5mby5wb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb25dID0gYm94UGFyYW07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZGV0ZXJtaW5lIHNpemVzXG4gICAgY29uc3QgZXZhbHVhdGVkRGltID0ge1xuICAgICAgc3RhcnQ6IGRpbWVuc2lvbnMuc3RhcnQuZXZhbHVhdGUoY29udGV4dCkgYXMgbnVtYmVyLFxuICAgICAgZW5kOiBkaW1lbnNpb25zLmVuZC5ldmFsdWF0ZShjb250ZXh0KSBhcyBudW1iZXIsXG4gICAgICBleHRlbnQ6IGRpbWVuc2lvbnMuZXh0ZW50LmV2YWx1YXRlKGNvbnRleHQpIGFzIG51bWJlcixcbiAgICB9O1xuICAgIGxldCBzaXplcyA9IHRoaXMuZ2V0U2l6ZXNPZk1hcmdpbkJveGVzQWxvbmdWYXJpYWJsZURpbWVuc2lvbihcbiAgICAgIGJveFBhcmFtcyxcbiAgICAgIGV2YWx1YXRlZERpbS5leHRlbnQsXG4gICAgKTtcbiAgICBsZXQgbmVlZFJlY2FsY3VsYXRlOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvLyBDaGVjayBtYXgtd2lkdGgvbWF4LWhlaWdodFxuICAgIGNvbnN0IG1heE91dGVyU2l6ZXM6IHtcbiAgICAgIFtrZXkgaW4gTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uXT86IG51bWJlcjtcbiAgICB9ID0ge307XG4gICAgT2JqZWN0LmtleXMoY29udGFpbmVycykuZm9yRWFjaCgobikgPT4ge1xuICAgICAgY29uc3QgbmFtZSA9IG4gYXMgTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uO1xuICAgICAgY29uc3QgbWF4U2l6ZSA9IFBhZ2VNYXN0ZXIudG9FeHByQXV0byhcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGJveEluc3RhbmNlc1tuYW1lXS5zdHlsZVtpc0hvcml6b250YWwgPyBcIm1heC13aWR0aFwiIDogXCJtYXgtaGVpZ2h0XCJdLFxuICAgICAgICBkaW1lbnNpb25zLmV4dGVudCxcbiAgICAgICk7XG4gICAgICBpZiAobWF4U2l6ZSkge1xuICAgICAgICBjb25zdCBldmFsdWF0ZWRNYXhTaXplID0gbWF4U2l6ZS5ldmFsdWF0ZShjb250ZXh0KSBhcyBudW1iZXI7XG4gICAgICAgIGlmIChzaXplc1tuYW1lXSA+IGV2YWx1YXRlZE1heFNpemUpIHtcbiAgICAgICAgICBjb25zdCBwID0gKGJveFBhcmFtc1tuYW1lXSA9IG5ldyBGaXhlZFNpemVNYXJnaW5Cb3hTaXppbmdQYXJhbShcbiAgICAgICAgICAgIGNvbnRhaW5lcnNbbmFtZV0sXG4gICAgICAgICAgICBib3hJbnN0YW5jZXNbbmFtZV0uc3R5bGUsXG4gICAgICAgICAgICBpc0hvcml6b250YWwsXG4gICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgIGNsaWVudExheW91dCxcbiAgICAgICAgICAgIGV2YWx1YXRlZE1heFNpemUsXG4gICAgICAgICAgKSk7XG4gICAgICAgICAgbWF4T3V0ZXJTaXplc1tuYW1lXSA9IHAuZ2V0T3V0ZXJTaXplKCk7XG4gICAgICAgICAgbmVlZFJlY2FsY3VsYXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChuZWVkUmVjYWxjdWxhdGUpIHtcbiAgICAgIHNpemVzID0gdGhpcy5nZXRTaXplc09mTWFyZ2luQm94ZXNBbG9uZ1ZhcmlhYmxlRGltZW5zaW9uKFxuICAgICAgICBib3hQYXJhbXMsXG4gICAgICAgIGV2YWx1YXRlZERpbS5leHRlbnQsXG4gICAgICApO1xuICAgICAgbmVlZFJlY2FsY3VsYXRlID0gZmFsc2U7XG4gICAgICBbU1RBUlQsIENFTlRFUiwgRU5EXS5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgICAgIHNpemVzW25hbWVdID0gbWF4T3V0ZXJTaXplc1tuYW1lXSB8fCBzaXplc1tuYW1lXTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIENoZWNrIG1pbi13aWR0aC9taW4taGVpZ2h0XG4gICAgY29uc3QgbWluT3V0ZXJTaXplczoge1xuICAgICAgW2tleSBpbiBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb25dPzogbnVtYmVyO1xuICAgIH0gPSB7fTtcbiAgICBPYmplY3Qua2V5cyhjb250YWluZXJzKS5mb3JFYWNoKChuKSA9PiB7XG4gICAgICBjb25zdCBuYW1lID0gbiBhcyBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb247XG4gICAgICBjb25zdCBtaW5TaXplID0gUGFnZU1hc3Rlci50b0V4cHJBdXRvKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgYm94SW5zdGFuY2VzW25hbWVdLnN0eWxlW2lzSG9yaXpvbnRhbCA/IFwibWluLXdpZHRoXCIgOiBcIm1pbi1oZWlnaHRcIl0sXG4gICAgICAgIGRpbWVuc2lvbnMuZXh0ZW50LFxuICAgICAgKTtcbiAgICAgIGlmIChtaW5TaXplKSB7XG4gICAgICAgIGNvbnN0IGV2YWx1YXRlZE1pblNpemUgPSBtaW5TaXplLmV2YWx1YXRlKGNvbnRleHQpIGFzIG51bWJlcjtcbiAgICAgICAgaWYgKHNpemVzW25hbWVdIDwgZXZhbHVhdGVkTWluU2l6ZSkge1xuICAgICAgICAgIGNvbnN0IHAgPSAoYm94UGFyYW1zW25hbWVdID0gbmV3IEZpeGVkU2l6ZU1hcmdpbkJveFNpemluZ1BhcmFtKFxuICAgICAgICAgICAgY29udGFpbmVyc1tuYW1lXSxcbiAgICAgICAgICAgIGJveEluc3RhbmNlc1tuYW1lXS5zdHlsZSxcbiAgICAgICAgICAgIGlzSG9yaXpvbnRhbCxcbiAgICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgICAgY2xpZW50TGF5b3V0LFxuICAgICAgICAgICAgZXZhbHVhdGVkTWluU2l6ZSxcbiAgICAgICAgICApKTtcbiAgICAgICAgICBtaW5PdXRlclNpemVzW25hbWVdID0gcC5nZXRPdXRlclNpemUoKTtcbiAgICAgICAgICBuZWVkUmVjYWxjdWxhdGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKG5lZWRSZWNhbGN1bGF0ZSkge1xuICAgICAgc2l6ZXMgPSB0aGlzLmdldFNpemVzT2ZNYXJnaW5Cb3hlc0Fsb25nVmFyaWFibGVEaW1lbnNpb24oXG4gICAgICAgIGJveFBhcmFtcyxcbiAgICAgICAgZXZhbHVhdGVkRGltLmV4dGVudCxcbiAgICAgICk7XG4gICAgICBbU1RBUlQsIENFTlRFUiwgRU5EXS5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgICAgIHNpemVzW25hbWVdID0gbWluT3V0ZXJTaXplc1tuYW1lXSB8fCBzaXplc1tuYW1lXTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIHNldCBzaXplc1xuICAgIGNvbnN0IGVuZEVkZ2UgPSBldmFsdWF0ZWREaW0uc3RhcnQgKyBldmFsdWF0ZWREaW0uZXh0ZW50O1xuICAgIGNvbnN0IHN0YXJ0RW5kU3VtID1cbiAgICAgIGV2YWx1YXRlZERpbS5zdGFydCArIChldmFsdWF0ZWREaW0uc3RhcnQgKyBldmFsdWF0ZWREaW0uZXh0ZW50KTtcbiAgICBbU1RBUlQsIENFTlRFUiwgRU5EXS5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgICBjb25zdCBvdXRlclNpemUgPSBzaXplc1tuYW1lXTtcbiAgICAgIGlmIChvdXRlclNpemUpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gY29udGFpbmVyc1tuYW1lXTtcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICAgIGNhc2UgU1RBUlQ6XG4gICAgICAgICAgICBvZmZzZXQgPSBpc0hvcml6b250YWwgPyBjb250YWluZXIubGVmdCA6IGNvbnRhaW5lci50b3A7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENFTlRFUjpcbiAgICAgICAgICAgIG9mZnNldCA9IChzdGFydEVuZFN1bSAtIG91dGVyU2l6ZSkgLyAyO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBFTkQ6XG4gICAgICAgICAgICBvZmZzZXQgPSBlbmRFZGdlIC0gb3V0ZXJTaXplO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICAgIGNvbnRhaW5lci5zZXRIb3Jpem9udGFsUG9zaXRpb24oXG4gICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICBvdXRlclNpemUgLSBjb250YWluZXIuZ2V0SW5zZXRMZWZ0KCkgLSBjb250YWluZXIuZ2V0SW5zZXRSaWdodCgpLFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGFpbmVyLnNldFZlcnRpY2FsUG9zaXRpb24oXG4gICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICBvdXRlclNpemUgLSBjb250YWluZXIuZ2V0SW5zZXRUb3AoKSAtIGNvbnRhaW5lci5nZXRJbnNldEJvdHRvbSgpLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U2l6ZXNPZk1hcmdpbkJveGVzQWxvbmdWYXJpYWJsZURpbWVuc2lvbihcbiAgICBib3hQYXJhbXM6IHtcbiAgICAgIFtrZXkgaW4gTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uXT86IE1hcmdpbkJveFNpemluZ1BhcmFtO1xuICAgIH0sXG4gICAgYXZhaWxhYmxlU2l6ZTogbnVtYmVyLFxuICApOiB7IFtrZXkgaW4gTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uXT86IG51bWJlciB9IHtcbiAgICBjb25zdCBzdGFydEJveFBhcmFtID1cbiAgICAgIGJveFBhcmFtc1tNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uU1RBUlRdO1xuICAgIGNvbnN0IGNlbnRlckJveFBhcmFtID1cbiAgICAgIGJveFBhcmFtc1tNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uQ0VOVEVSXTtcbiAgICBjb25zdCBlbmRCb3hQYXJhbSA9IGJveFBhcmFtc1tNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uRU5EXTtcbiAgICBjb25zdCBzaXplczoge1xuICAgICAgW2tleSBpbiBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb25dPzogbnVtYmVyO1xuICAgIH0gPSB7fTtcbiAgICBpZiAoIWNlbnRlckJveFBhcmFtKSB7XG4gICAgICBjb25zdCBzdGFydEVuZFNpemVzID0gdGhpcy5kaXN0cmlidXRlQXV0b01hcmdpbkJveFNpemVzKFxuICAgICAgICBzdGFydEJveFBhcmFtLFxuICAgICAgICBlbmRCb3hQYXJhbSxcbiAgICAgICAgYXZhaWxhYmxlU2l6ZSxcbiAgICAgICk7XG4gICAgICBpZiAoc3RhcnRFbmRTaXplcy54U2l6ZSkge1xuICAgICAgICBzaXplc1tNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uU1RBUlRdID1cbiAgICAgICAgICBzdGFydEVuZFNpemVzLnhTaXplO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0RW5kU2l6ZXMueVNpemUpIHtcbiAgICAgICAgc2l6ZXNbTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkVORF0gPVxuICAgICAgICAgIHN0YXJ0RW5kU2l6ZXMueVNpemU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFtzdGFydEJveFBhcmFtLCBlbmRCb3hQYXJhbV0uZmlsdGVyKChwKSA9PiBwKTtcbiAgICAgIGNvbnN0IHN0YXJ0RW5kQm94UGFyYW0gPSBwYXJhbXMubGVuZ3RoXG4gICAgICAgID8gbmV3IE11bHRpcGxlQm94ZXNNYXJnaW5Cb3hTaXppbmdQYXJhbShwYXJhbXMpXG4gICAgICAgIDogbnVsbDtcbiAgICAgIGNvbnN0IGNlbnRlclNpemVzID0gdGhpcy5kaXN0cmlidXRlQXV0b01hcmdpbkJveFNpemVzKFxuICAgICAgICBjZW50ZXJCb3hQYXJhbSxcbiAgICAgICAgc3RhcnRFbmRCb3hQYXJhbSxcbiAgICAgICAgYXZhaWxhYmxlU2l6ZSxcbiAgICAgICk7XG4gICAgICBpZiAoY2VudGVyU2l6ZXMueFNpemUpIHtcbiAgICAgICAgc2l6ZXNbTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkNFTlRFUl0gPVxuICAgICAgICAgIGNlbnRlclNpemVzLnhTaXplO1xuICAgICAgfVxuICAgICAgY29uc3QgY2VudGVyU2l6ZSA9IGNlbnRlclNpemVzLnhTaXplIHx8IGNlbnRlckJveFBhcmFtLmdldE91dGVyU2l6ZSgpO1xuICAgICAgY29uc3Qgc3RhcnRFbmRBdXRvU2l6ZSA9IChhdmFpbGFibGVTaXplIC0gY2VudGVyU2l6ZSkgLyAyO1xuICAgICAgaWYgKHN0YXJ0Qm94UGFyYW0gJiYgc3RhcnRCb3hQYXJhbS5oYXNBdXRvU2l6ZSgpKSB7XG4gICAgICAgIHNpemVzW01hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5TVEFSVF0gPSBzdGFydEVuZEF1dG9TaXplO1xuICAgICAgfVxuICAgICAgaWYgKGVuZEJveFBhcmFtICYmIGVuZEJveFBhcmFtLmhhc0F1dG9TaXplKCkpIHtcbiAgICAgICAgc2l6ZXNbTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkVORF0gPSBzdGFydEVuZEF1dG9TaXplO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2l6ZXM7XG4gIH1cblxuICAvKipcbiAgICogRGlzdHJpYnV0ZSBhdXRvIG1hcmdpbiBzaXplcyBhbW9uZyB0d28gbWFyZ2luIGJveGVzIHVzaW5nIGFuIGFsZ29yaXRobVxuICAgKiBzcGVjaWZpZWQgaW4gQ1NTIFBhZ2VkIE1lZGlhIHNwZWMuXG4gICAqIEBwYXJhbSB4IFBhcmFtZXRlciBmb3IgdGhlIGZpcnN0IG1hcmdpbiBib3guIG51bGwgaWYgdGhlIGJveCBpcyBub3RcbiAgICogICAgIGdlbmVyYXRlZC5cbiAgICogQHBhcmFtIHkgUGFyYW1ldGVyIGZvciB0aGUgc2Vjb25kIG1hcmdpbiBib3guIG51bGwgaWYgdGhlIGJveCBpcyBub3RcbiAgICogICAgIGdlbmVyYXRlZC5cbiAgICogQHBhcmFtIGF2YWlsYWJsZVNpemUgQXZhaWxhYmxlIHNpemUgZm9yIHRoZSBtYXJnaW4gYm94ZXMuXG4gICAqIEByZXR1cm5zIERldGVybWluZWQgc2l6ZXMgZm9yIHRoZSB0d28gYm94ZXMuIEVhY2ggdmFsdWUgaXMgcHJlc2VudCBvbmx5XG4gICAqICAgICB3aGVuIHRoZSBzaXplIG9mIHRoZSBjb3JyZXNwb25kaW5nIGJveCBpcyAnYXV0bycuXG4gICAqL1xuICBwcml2YXRlIGRpc3RyaWJ1dGVBdXRvTWFyZ2luQm94U2l6ZXMoXG4gICAgeDogTWFyZ2luQm94U2l6aW5nUGFyYW0sXG4gICAgeTogTWFyZ2luQm94U2l6aW5nUGFyYW0sXG4gICAgYXZhaWxhYmxlU2l6ZTogbnVtYmVyLFxuICApOiB7IHhTaXplOiBudW1iZXIgfCBudWxsOyB5U2l6ZTogbnVtYmVyIHwgbnVsbCB9IHtcbiAgICBjb25zdCByZXN1bHQ6IHsgeFNpemU6IG51bWJlciB8IG51bGw7IHlTaXplOiBudW1iZXIgfCBudWxsIH0gPSB7XG4gICAgICB4U2l6ZTogbnVsbCxcbiAgICAgIHlTaXplOiBudWxsLFxuICAgIH07XG4gICAgaWYgKHggJiYgeSkge1xuICAgICAgaWYgKHguaGFzQXV0b1NpemUoKSAmJiB5Lmhhc0F1dG9TaXplKCkpIHtcbiAgICAgICAgY29uc3QgeE91dGVyTWF4Q29udGVudFNpemUgPSB4LmdldE91dGVyTWF4Q29udGVudFNpemUoKTtcbiAgICAgICAgY29uc3QgeU91dGVyTWF4Q29udGVudFNpemUgPSB5LmdldE91dGVyTWF4Q29udGVudFNpemUoKTtcbiAgICAgICAgaWYgKHhPdXRlck1heENvbnRlbnRTaXplID4gMCAmJiB5T3V0ZXJNYXhDb250ZW50U2l6ZSA+IDApIHtcbiAgICAgICAgICBjb25zdCBtYXhDb250ZW50U2l6ZVN1bSA9IHhPdXRlck1heENvbnRlbnRTaXplICsgeU91dGVyTWF4Q29udGVudFNpemU7XG4gICAgICAgICAgaWYgKG1heENvbnRlbnRTaXplU3VtIDwgYXZhaWxhYmxlU2l6ZSkge1xuICAgICAgICAgICAgcmVzdWx0LnhTaXplID1cbiAgICAgICAgICAgICAgKGF2YWlsYWJsZVNpemUgKiB4T3V0ZXJNYXhDb250ZW50U2l6ZSkgLyBtYXhDb250ZW50U2l6ZVN1bTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgeE91dGVyTWluQ29udGVudFNpemUgPSB4LmdldE91dGVyTWluQ29udGVudFNpemUoKTtcbiAgICAgICAgICAgIGNvbnN0IHlPdXRlck1pbkNvbnRlbnRTaXplID0geS5nZXRPdXRlck1pbkNvbnRlbnRTaXplKCk7XG4gICAgICAgICAgICBjb25zdCBtaW5Db250ZW50U2l6ZVN1bSA9XG4gICAgICAgICAgICAgIHhPdXRlck1pbkNvbnRlbnRTaXplICsgeU91dGVyTWluQ29udGVudFNpemU7XG4gICAgICAgICAgICBpZiAobWluQ29udGVudFNpemVTdW0gPCBhdmFpbGFibGVTaXplKSB7XG4gICAgICAgICAgICAgIHJlc3VsdC54U2l6ZSA9XG4gICAgICAgICAgICAgICAgeE91dGVyTWluQ29udGVudFNpemUgK1xuICAgICAgICAgICAgICAgICgoYXZhaWxhYmxlU2l6ZSAtIG1pbkNvbnRlbnRTaXplU3VtKSAqXG4gICAgICAgICAgICAgICAgICAoeE91dGVyTWF4Q29udGVudFNpemUgLSB4T3V0ZXJNaW5Db250ZW50U2l6ZSkpIC9cbiAgICAgICAgICAgICAgICAgIChtYXhDb250ZW50U2l6ZVN1bSAtIG1pbkNvbnRlbnRTaXplU3VtKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWluQ29udGVudFNpemVTdW0gPiAwKSB7XG4gICAgICAgICAgICAgIHJlc3VsdC54U2l6ZSA9XG4gICAgICAgICAgICAgICAgKGF2YWlsYWJsZVNpemUgKiB4T3V0ZXJNaW5Db250ZW50U2l6ZSkgLyBtaW5Db250ZW50U2l6ZVN1bTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJlc3VsdC54U2l6ZSA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdC55U2l6ZSA9IGF2YWlsYWJsZVNpemUgLSByZXN1bHQueFNpemU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHhPdXRlck1heENvbnRlbnRTaXplID4gMCkge1xuICAgICAgICAgIHJlc3VsdC54U2l6ZSA9IGF2YWlsYWJsZVNpemU7XG4gICAgICAgIH0gZWxzZSBpZiAoeU91dGVyTWF4Q29udGVudFNpemUgPiAwKSB7XG4gICAgICAgICAgcmVzdWx0LnlTaXplID0gYXZhaWxhYmxlU2l6ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh4Lmhhc0F1dG9TaXplKCkpIHtcbiAgICAgICAgcmVzdWx0LnhTaXplID0gTWF0aC5tYXgoYXZhaWxhYmxlU2l6ZSAtIHkuZ2V0T3V0ZXJTaXplKCksIDApO1xuICAgICAgfSBlbHNlIGlmICh5Lmhhc0F1dG9TaXplKCkpIHtcbiAgICAgICAgcmVzdWx0LnlTaXplID0gTWF0aC5tYXgoYXZhaWxhYmxlU2l6ZSAtIHguZ2V0T3V0ZXJTaXplKCksIDApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoeCkge1xuICAgICAgaWYgKHguaGFzQXV0b1NpemUoKSkge1xuICAgICAgICByZXN1bHQueFNpemUgPSBhdmFpbGFibGVTaXplO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoeSkge1xuICAgICAgaWYgKHkuaGFzQXV0b1NpemUoKSkge1xuICAgICAgICByZXN1bHQueVNpemUgPSBhdmFpbGFibGVTaXplO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJlcGFyZUNvbnRhaW5lcihcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gICAgZG9jRmFjZXM6IEZvbnQuRG9jdW1lbnRGYWNlcyxcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgKTogdm9pZCB7XG4gICAgc3VwZXIucHJlcGFyZUNvbnRhaW5lcihjb250ZXh0LCBjb250YWluZXIsIHBhZ2UsIGRvY0ZhY2VzLCBjbGllbnRMYXlvdXQpO1xuXG4gICAgLy8gQWRkIGFuIGF0dHJpYnV0ZSB0byB0aGUgZWxlbWVudCBzbyB0aGF0IGl0IGNhbiBiZSByZWZlcmVkIGZyb20gZXh0ZXJuYWxcbiAgICAvLyBzdHlsZSBzaGVldHMuXG4gICAgY29udGFpbmVyLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS12aXZsaW9zdHlsZS1wYWdlLWJveFwiLCB0cnVlKTtcbiAgfVxufVxuXG4vKipcbiAqIEludGVyZmFjZSB1c2VkIGZvciBwYXJhbWV0ZXJzIHBhc3NlZCB0byBkaXN0cmlidXRlQXV0b01hcmdpbkJveFNpemVzIG1ldGhvZC5cbiAqL1xuaW50ZXJmYWNlIE1hcmdpbkJveFNpemluZ1BhcmFtIHtcbiAgaGFzQXV0b1NpemUoKTogYm9vbGVhbjtcblxuICBnZXRPdXRlck1heENvbnRlbnRTaXplKCk6IG51bWJlcjtcblxuICBnZXRPdXRlck1pbkNvbnRlbnRTaXplKCk6IG51bWJlcjtcblxuICBnZXRPdXRlclNpemUoKTogbnVtYmVyO1xufVxuXG4vKipcbiAqIE1hcmdpbkJveFNpemluZ1BhcmFtIGZvciBhIHNpbmdsZSBwYWdlLW1hcmdpbiBib3guXG4gKiBAcGFyYW0gY29udGFpbmVyIEEgY29udGFpbmVyIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHRhcmdldCBtYXJnaW4gYm94LlxuICogQHBhcmFtIHN0eWxlIFN0eWxlcyBzcGVjaWZpZWQgdG8gdGhlIHRhcmdldCBtYXJnaW4gYm94LlxuICovXG5jbGFzcyBTaW5nbGVCb3hNYXJnaW5Cb3hTaXppbmdQYXJhbSBpbXBsZW1lbnRzIE1hcmdpbkJveFNpemluZ1BhcmFtIHtcbiAgcHJpdmF0ZSBoYXNBdXRvU2l6ZV86IGJvb2xlYW47XG4gIHByaXZhdGUgc2l6ZTogeyBba2V5IGluIFNpemluZy5TaXplXTogbnVtYmVyIH0gfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgc3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9LFxuICAgIHByb3RlY3RlZCByZWFkb25seSBpc0hvcml6b250YWw6IGJvb2xlYW4sXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICApIHtcbiAgICB0aGlzLmhhc0F1dG9TaXplXyA9ICFQYWdlTWFzdGVyLnRvRXhwckF1dG8oXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW2lzSG9yaXpvbnRhbCA/IFwid2lkdGhcIiA6IFwiaGVpZ2h0XCJdLFxuICAgICAgbmV3IEV4cHJzLk51bWVyaWMoc2NvcGUsIDAsIFwicHhcIiksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAgQG92ZXJyaWRlXG4gICAqL1xuICBoYXNBdXRvU2l6ZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5oYXNBdXRvU2l6ZV87XG4gIH1cblxuICBwcml2YXRlIGdldFNpemUoKTogeyBba2V5IGluIFNpemluZy5TaXplXTogbnVtYmVyIH0ge1xuICAgIGlmICghdGhpcy5zaXplKSB7XG4gICAgICBjb25zdCBzaXplcyA9IHRoaXMuaXNIb3Jpem9udGFsXG4gICAgICAgID8gW1NpemluZy5TaXplLk1BWF9DT05URU5UX1dJRFRILCBTaXppbmcuU2l6ZS5NSU5fQ09OVEVOVF9XSURUSF1cbiAgICAgICAgOiBbU2l6aW5nLlNpemUuTUFYX0NPTlRFTlRfSEVJR0hULCBTaXppbmcuU2l6ZS5NSU5fQ09OVEVOVF9IRUlHSFRdO1xuICAgICAgdGhpcy5zaXplID0gU2l6aW5nLmdldFNpemUoXG4gICAgICAgIHRoaXMuY2xpZW50TGF5b3V0LFxuICAgICAgICB0aGlzLmNvbnRhaW5lci5lbGVtZW50LFxuICAgICAgICBzaXplcyxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNpemU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPdXRlck1heENvbnRlbnRTaXplKCk6IG51bWJlciB7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpO1xuICAgIGlmICh0aGlzLmlzSG9yaXpvbnRhbCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0SW5zZXRMZWZ0KCkgK1xuICAgICAgICBzaXplW1NpemluZy5TaXplLk1BWF9DT05URU5UX1dJRFRIXSArXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmdldEluc2V0UmlnaHQoKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0SW5zZXRUb3AoKSArXG4gICAgICAgIHNpemVbU2l6aW5nLlNpemUuTUFYX0NPTlRFTlRfSEVJR0hUXSArXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmdldEluc2V0Qm90dG9tKClcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3V0ZXJNaW5Db250ZW50U2l6ZSgpOiBudW1iZXIge1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLmdldFNpemUoKTtcbiAgICBpZiAodGhpcy5pc0hvcml6b250YWwpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmdldEluc2V0TGVmdCgpICtcbiAgICAgICAgc2l6ZVtTaXppbmcuU2l6ZS5NSU5fQ09OVEVOVF9XSURUSF0gK1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldFJpZ2h0KClcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmdldEluc2V0VG9wKCkgK1xuICAgICAgICBzaXplW1NpemluZy5TaXplLk1JTl9DT05URU5UX0hFSUdIVF0gK1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldEJvdHRvbSgpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE91dGVyU2l6ZSgpOiBudW1iZXIge1xuICAgIGlmICh0aGlzLmlzSG9yaXpvbnRhbCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0SW5zZXRMZWZ0KCkgK1xuICAgICAgICB0aGlzLmNvbnRhaW5lci53aWR0aCArXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmdldEluc2V0UmlnaHQoKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0SW5zZXRUb3AoKSArXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmhlaWdodCArXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmdldEluc2V0Qm90dG9tKClcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogTWFyZ2luQm94U2l6aW5nUGFyYW0gd2l0aCB3aGljaCBtdWx0aXBsZSBtYXJnaW4gYm94ZXMgYXJlIHRyZWF0ZWQgYXMgb25lXG4gKiBtYXJnaW4gYm94LiBFYWNoIG1ldGhvZCBxdWVyeWluZyBhIGRpbWVuc2lvbiByZXR1cm5zIHRoZSBtYXhpbXVtIG9mIHRoZSBib3hlc1xuICogbXVsdGlwbGllZCBieSB0aGUgbnVtYmVyIG9mIHRoZSBib3hlcy5cbiAqIEBwYXJhbSBwYXJhbXMgTWFyZ2luQm94U2l6aW5nUGFyYW0ncyBvZiB0aGUgdGFyZ2V0IG1hcmdpbiBib3hlcy5cbiAqL1xuY2xhc3MgTXVsdGlwbGVCb3hlc01hcmdpbkJveFNpemluZ1BhcmFtIGltcGxlbWVudHMgTWFyZ2luQm94U2l6aW5nUGFyYW0ge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IHBhcmFtczogTWFyZ2luQm94U2l6aW5nUGFyYW1bXSkge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBoYXNBdXRvU2l6ZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5wYXJhbXMuc29tZSgocCkgPT4gcC5oYXNBdXRvU2l6ZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAgQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPdXRlck1heENvbnRlbnRTaXplKCk6IG51bWJlciB7XG4gICAgY29uc3Qgc2l6ZXMgPSB0aGlzLnBhcmFtcy5tYXAoKHApID0+IHAuZ2V0T3V0ZXJNYXhDb250ZW50U2l6ZSgpKTtcbiAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkobnVsbCwgc2l6ZXMpICogc2l6ZXMubGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqICBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE91dGVyTWluQ29udGVudFNpemUoKTogbnVtYmVyIHtcbiAgICBjb25zdCBzaXplcyA9IHRoaXMucGFyYW1zLm1hcCgocCkgPT4gcC5nZXRPdXRlck1pbkNvbnRlbnRTaXplKCkpO1xuICAgIHJldHVybiBNYXRoLm1heC5hcHBseShudWxsLCBzaXplcykgKiBzaXplcy5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3V0ZXJTaXplKCk6IG51bWJlciB7XG4gICAgY29uc3Qgc2l6ZXMgPSB0aGlzLnBhcmFtcy5tYXAoKHApID0+IHAuZ2V0T3V0ZXJTaXplKCkpO1xuICAgIHJldHVybiBNYXRoLm1heC5hcHBseShudWxsLCBzaXplcykgKiBzaXplcy5sZW5ndGg7XG4gIH1cbn1cblxuLyoqXG4gKiBNYXJnaW5Cb3hTaXppbmdQYXJhbSBmb3IgYSBzaW5nbGUgcGFnZS1tYXJnaW4gYm94IHdpdGggYSBmaXhlZCBzaXplIGFsb25nIHRoZVxuICogdmFyaWFibGUgZGltZW5zaW9uLlxuICogQHBhcmFtIGNvbnRhaW5lciBBIGNvbnRhaW5lciBjb3JyZXNwb25kaW5nIHRvIHRoZSB0YXJnZXQgbWFyZ2luIGJveC5cbiAqIEBwYXJhbSBzdHlsZSBTdHlsZXMgc3BlY2lmaWVkIHRvIHRoZSB0YXJnZXQgbWFyZ2luIGJveC5cbiAqIEBwYXJhbSBzaXplIFRoZSBmaXhlZCBzaXplICh3aWR0aCBvciBoZWlnaHQpIGFsb25nIHRoZSB2YXJpYWJsZSBkaW1lbnNpb24uXG4gKi9cbmNsYXNzIEZpeGVkU2l6ZU1hcmdpbkJveFNpemluZ1BhcmFtIGV4dGVuZHMgU2luZ2xlQm94TWFyZ2luQm94U2l6aW5nUGFyYW0ge1xuICBwcml2YXRlIGZpeGVkU2l6ZTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIHN0eWxlOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSxcbiAgICBpc0hvcml6b250YWw6IGJvb2xlYW4sXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgICBzaXplOiBudW1iZXIsXG4gICkge1xuICAgIHN1cGVyKGNvbnRhaW5lciwgc3R5bGUsIGlzSG9yaXpvbnRhbCwgc2NvcGUsIGNsaWVudExheW91dCk7XG4gICAgdGhpcy5maXhlZFNpemUgPSBzaXplO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaGFzQXV0b1NpemUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqICBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE91dGVyTWF4Q29udGVudFNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5nZXRPdXRlclNpemUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAgQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPdXRlck1pbkNvbnRlbnRTaXplKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0T3V0ZXJTaXplKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPdXRlclNpemUoKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy5pc0hvcml6b250YWwpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmdldEluc2V0TGVmdCgpICtcbiAgICAgICAgdGhpcy5maXhlZFNpemUgK1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldFJpZ2h0KClcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmdldEluc2V0VG9wKCkgK1xuICAgICAgICB0aGlzLmZpeGVkU2l6ZSArXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmdldEluc2V0Qm90dG9tKClcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYWdlUnVsZVBhcnRpdGlvbkluc3RhbmNlIGV4dGVuZHMgUGFnZU1hc3Rlci5QYXJ0aXRpb25JbnN0YW5jZTxcbiAgUGFnZVJ1bGVQYXJ0aXRpb25cbj4ge1xuICBib3JkZXJCb3hXaWR0aDogRXhwcnMuVmFsID0gbnVsbDtcbiAgYm9yZGVyQm94SGVpZ2h0OiBFeHBycy5WYWwgPSBudWxsO1xuICBtYXJnaW5Ub3A6IEV4cHJzLlZhbCA9IG51bGw7XG4gIG1hcmdpblJpZ2h0OiBFeHBycy5WYWwgPSBudWxsO1xuICBtYXJnaW5Cb3R0b206IEV4cHJzLlZhbCA9IG51bGw7XG4gIG1hcmdpbkxlZnQ6IEV4cHJzLlZhbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcGFyZW50SW5zdGFuY2U6IFBhZ2VNYXN0ZXIuUGFnZUJveEluc3RhbmNlLFxuICAgIHBhZ2VSdWxlUGFydGl0aW9uOiBQYWdlUnVsZVBhcnRpdGlvbixcbiAgKSB7XG4gICAgc3VwZXIocGFyZW50SW5zdGFuY2UsIHBhZ2VSdWxlUGFydGl0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5Q2FzY2FkZUFuZEluaXQoXG4gICAgY2FzY2FkZTogQ3NzQ2FzY2FkZS5DYXNjYWRlSW5zdGFuY2UsXG4gICAgZG9jRWxlbWVudFN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgKTogdm9pZCB7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLmNhc2NhZGVkO1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBkb2NFbGVtZW50U3R5bGUpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZG9jRWxlbWVudFN0eWxlLCBuYW1lKSkge1xuICAgICAgICBpZiAobmFtZS5tYXRjaCgvXmNvbHVtbi4qJC8pIHx8IG5hbWUubWF0Y2goL15iYWNrZ3JvdW5kLS8pKSB7XG4gICAgICAgICAgc3R5bGVbbmFtZV0gPSBkb2NFbGVtZW50U3R5bGVbbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgc3VwZXIuYXBwbHlDYXNjYWRlQW5kSW5pdChjYXNjYWRlLCBkb2NFbGVtZW50U3R5bGUpO1xuICAgIGNvbnN0IHBhZ2VSdWxlTWFzdGVySW5zdGFuY2UgPSB0aGlzXG4gICAgICAucGFyZW50SW5zdGFuY2UgYXMgUGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZTtcbiAgICBwYWdlUnVsZU1hc3Rlckluc3RhbmNlLnNldFBhZ2VBcmVhRGltZW5zaW9uKHtcbiAgICAgIGJvcmRlckJveFdpZHRoOiB0aGlzLmJvcmRlckJveFdpZHRoLFxuICAgICAgYm9yZGVyQm94SGVpZ2h0OiB0aGlzLmJvcmRlckJveEhlaWdodCxcbiAgICAgIG1hcmdpblRvcDogdGhpcy5tYXJnaW5Ub3AsXG4gICAgICBtYXJnaW5SaWdodDogdGhpcy5tYXJnaW5SaWdodCxcbiAgICAgIG1hcmdpbkJvdHRvbTogdGhpcy5tYXJnaW5Cb3R0b20sXG4gICAgICBtYXJnaW5MZWZ0OiB0aGlzLm1hcmdpbkxlZnQsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpbml0SG9yaXpvbnRhbCgpOiB2b2lkIHtcbiAgICBjb25zdCBkaW0gPSB0aGlzLnJlc29sdmVQYWdlQm94RGltZW5zaW9ucyh7XG4gICAgICBzdGFydDogXCJsZWZ0XCIsXG4gICAgICBlbmQ6IFwicmlnaHRcIixcbiAgICAgIGV4dGVudDogXCJ3aWR0aFwiLFxuICAgIH0pO1xuICAgIHRoaXMuYm9yZGVyQm94V2lkdGggPSBkaW0uYm9yZGVyQm94RXh0ZW50O1xuICAgIHRoaXMubWFyZ2luTGVmdCA9IGRpbS5tYXJnaW5TdGFydDtcbiAgICB0aGlzLm1hcmdpblJpZ2h0ID0gZGltLm1hcmdpbkVuZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGluaXRWZXJ0aWNhbCgpOiB2b2lkIHtcbiAgICBjb25zdCBkaW0gPSB0aGlzLnJlc29sdmVQYWdlQm94RGltZW5zaW9ucyh7XG4gICAgICBzdGFydDogXCJ0b3BcIixcbiAgICAgIGVuZDogXCJib3R0b21cIixcbiAgICAgIGV4dGVudDogXCJoZWlnaHRcIixcbiAgICB9KTtcbiAgICB0aGlzLmJvcmRlckJveEhlaWdodCA9IGRpbS5ib3JkZXJCb3hFeHRlbnQ7XG4gICAgdGhpcy5tYXJnaW5Ub3AgPSBkaW0ubWFyZ2luU3RhcnQ7XG4gICAgdGhpcy5tYXJnaW5Cb3R0b20gPSBkaW0ubWFyZ2luRW5kO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBwYWdlIGRpbWVuc2lvbnMgYXMgc3BlY2lmaWVkIGluIENTUyBQYWdlZCBNZWRpYVxuICAgKiAoaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3NzLXBhZ2UvI3BhZ2UtbW9kZWwpIFBhZ2UgYm9yZGVyIGJveCBleHRlbnQgYW5kXG4gICAqIG1hcmdpbnMuIFNpbmNlIHRoZSBjb250YWluaW5nIGJsb2NrIGNhbiBiZSByZXNpemVkIGluIHRoZSBvdmVyLWNvbnN0cmFpbmVkXG4gICAqIGNhc2UsIHRoZSBzdW0gb2YgdGhlc2UgdmFsdWVzIGlzIG5vdCBuZWNlc3NhcmlseSBzYW1lIHRvIHRoZSBvcmlnaW5hbCBwYWdlXG4gICAqIGRpbWVuc2lvbiBzcGVjaWZpZWQgaW4gdGhlIHBhZ2UgYXQtcnVsZXMuXG4gICAqL1xuICBwcml2YXRlIHJlc29sdmVQYWdlQm94RGltZW5zaW9ucyhuYW1lczoge1xuICAgIHN0YXJ0OiBzdHJpbmc7XG4gICAgZW5kOiBzdHJpbmc7XG4gICAgZXh0ZW50OiBzdHJpbmc7XG4gIH0pOiB7XG4gICAgYm9yZGVyQm94RXh0ZW50OiBFeHBycy5WYWw7XG4gICAgbWFyZ2luU3RhcnQ6IEV4cHJzLlZhbDtcbiAgICBtYXJnaW5FbmQ6IEV4cHJzLlZhbDtcbiAgfSB7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLnN0eWxlO1xuICAgIGNvbnN0IHBhZ2VTaXplID0gdGhpcy5wYWdlQm94LnBhZ2VTaXplO1xuICAgIGNvbnN0IHNjb3BlID0gdGhpcy5wYWdlQm94LnNjb3BlO1xuICAgIGNvbnN0IHN0YXJ0U2lkZSA9IG5hbWVzLnN0YXJ0O1xuICAgIGNvbnN0IGVuZFNpZGUgPSBuYW1lcy5lbmQ7XG4gICAgY29uc3QgZXh0ZW50TmFtZSA9IG5hbWVzLmV4dGVudDtcbiAgICBjb25zdCBwYWdlRXh0ZW50ID0gcGFnZVNpemVbZXh0ZW50TmFtZV0udG9FeHByKHNjb3BlLCBudWxsKTtcbiAgICBsZXQgZXh0ZW50ID0gUGFnZU1hc3Rlci50b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtleHRlbnROYW1lXSwgcGFnZUV4dGVudCk7XG4gICAgbGV0IG1hcmdpblN0YXJ0ID0gUGFnZU1hc3Rlci50b0V4cHJBdXRvKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtgbWFyZ2luLSR7c3RhcnRTaWRlfWBdLFxuICAgICAgcGFnZUV4dGVudCxcbiAgICApO1xuICAgIGxldCBtYXJnaW5FbmQgPSBQYWdlTWFzdGVyLnRvRXhwckF1dG8oXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW2BtYXJnaW4tJHtlbmRTaWRlfWBdLFxuICAgICAgcGFnZUV4dGVudCxcbiAgICApO1xuICAgIGNvbnN0IHBhZGRpbmdTdGFydCA9IFBhZ2VNYXN0ZXIudG9FeHByWmVybyhcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbYHBhZGRpbmctJHtzdGFydFNpZGV9YF0sXG4gICAgICBwYWdlRXh0ZW50LFxuICAgICk7XG4gICAgY29uc3QgcGFkZGluZ0VuZCA9IFBhZ2VNYXN0ZXIudG9FeHByWmVybyhcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbYHBhZGRpbmctJHtlbmRTaWRlfWBdLFxuICAgICAgcGFnZUV4dGVudCxcbiAgICApO1xuICAgIGNvbnN0IGJvcmRlclN0YXJ0V2lkdGggPSBQYWdlTWFzdGVyLnRvRXhwclplcm9Cb3JkZXIoXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW2Bib3JkZXItJHtzdGFydFNpZGV9LXdpZHRoYF0sXG4gICAgICBzdHlsZVtgYm9yZGVyLSR7c3RhcnRTaWRlfS1zdHlsZWBdLFxuICAgICAgcGFnZUV4dGVudCxcbiAgICApO1xuICAgIGNvbnN0IGJvcmRlckVuZFdpZHRoID0gUGFnZU1hc3Rlci50b0V4cHJaZXJvQm9yZGVyKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtgYm9yZGVyLSR7ZW5kU2lkZX0td2lkdGhgXSxcbiAgICAgIHN0eWxlW2Bib3JkZXItJHtlbmRTaWRlfS1zdHlsZWBdLFxuICAgICAgcGFnZUV4dGVudCxcbiAgICApO1xuICAgIGxldCByZW1haW5zID0gRXhwcnMuc3ViKFxuICAgICAgc2NvcGUsXG4gICAgICBwYWdlRXh0ZW50LFxuICAgICAgRXhwcnMuYWRkKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBib3JkZXJTdGFydFdpZHRoLCBwYWRkaW5nU3RhcnQpLFxuICAgICAgICBFeHBycy5hZGQoc2NvcGUsIGJvcmRlckVuZFdpZHRoLCBwYWRkaW5nRW5kKSxcbiAgICAgICksXG4gICAgKTtcblxuICAgIC8vIFRoZSBkaW1lbnNpb25zIGFyZSBjYWxjdWxhdGVkIGFzIGZvciBhIG5vbi1yZXBsYWNlZCBibG9jayBlbGVtZW50IGluXG4gICAgLy8gbm9ybWFsIGZsb3cgKGh0dHA6Ly93d3cudzMub3JnL1RSL0NTUzIxL3Zpc3VkZXQuaHRtbCNibG9ja3dpZHRoKVxuICAgIGlmICghZXh0ZW50KSB7XG4gICAgICBpZiAoIW1hcmdpblN0YXJ0KSB7XG4gICAgICAgIG1hcmdpblN0YXJ0ID0gc2NvcGUuemVybztcbiAgICAgIH1cbiAgICAgIGlmICghbWFyZ2luRW5kKSB7XG4gICAgICAgIG1hcmdpbkVuZCA9IHNjb3BlLnplcm87XG4gICAgICB9XG4gICAgICBleHRlbnQgPSBFeHBycy5zdWIoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICByZW1haW5zLFxuICAgICAgICBFeHBycy5hZGQoc2NvcGUsIG1hcmdpblN0YXJ0LCBtYXJnaW5FbmQpLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtYWlucyA9IEV4cHJzLnN1YihzY29wZSwgcmVtYWlucywgZXh0ZW50KTtcbiAgICAgIGlmICghbWFyZ2luU3RhcnQgJiYgIW1hcmdpbkVuZCkge1xuICAgICAgICBtYXJnaW5TdGFydCA9IEV4cHJzLm11bChzY29wZSwgcmVtYWlucywgbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCAwLjUpKTtcbiAgICAgICAgbWFyZ2luRW5kID0gbWFyZ2luU3RhcnQ7XG4gICAgICB9IGVsc2UgaWYgKG1hcmdpblN0YXJ0KSB7XG4gICAgICAgIG1hcmdpbkVuZCA9IEV4cHJzLnN1YihzY29wZSwgcmVtYWlucywgbWFyZ2luU3RhcnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFyZ2luU3RhcnQgPSBFeHBycy5zdWIoc2NvcGUsIHJlbWFpbnMsIG1hcmdpbkVuZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVE9ETyBvdmVyLWNvbnN0cmFpbmVkIGNhc2VcbiAgICAvLyBcImlmIHRoZSB2YWx1ZXMgYXJlIG92ZXItY29uc3RyYWluZWQsIGluc3RlYWQgb2YgaWdub3JpbmcgYW55IG1hcmdpbnMsIHRoZVxuICAgIC8vIGNvbnRhaW5pbmcgYmxvY2sgaXMgcmVzaXplZCB0byBjb2luY2lkZSB3aXRoIHRoZSBtYXJnaW4gZWRnZXMgb2YgdGhlIHBhZ2VcbiAgICAvLyBib3guXCIgKENTUyBQYWdlZCBNZWRpYSBodHRwOi8vZGV2LnczLm9yZy9jc3N3Zy9jc3MtcGFnZS8jcGFnZS1tb2RlbClcbiAgICBzdHlsZVtzdGFydFNpZGVdID0gbmV3IENzcy5FeHByKG1hcmdpblN0YXJ0KTtcbiAgICBzdHlsZVtlbmRTaWRlXSA9IG5ldyBDc3MuRXhwcihtYXJnaW5FbmQpO1xuICAgIHN0eWxlW2BtYXJnaW4tJHtzdGFydFNpZGV9YF0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgc3R5bGVbYG1hcmdpbi0ke2VuZFNpZGV9YF0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgc3R5bGVbYHBhZGRpbmctJHtzdGFydFNpZGV9YF0gPSBuZXcgQ3NzLkV4cHIocGFkZGluZ1N0YXJ0KTtcbiAgICBzdHlsZVtgcGFkZGluZy0ke2VuZFNpZGV9YF0gPSBuZXcgQ3NzLkV4cHIocGFkZGluZ0VuZCk7XG4gICAgc3R5bGVbYGJvcmRlci0ke3N0YXJ0U2lkZX0td2lkdGhgXSA9IG5ldyBDc3MuRXhwcihib3JkZXJTdGFydFdpZHRoKTtcbiAgICBzdHlsZVtgYm9yZGVyLSR7ZW5kU2lkZX0td2lkdGhgXSA9IG5ldyBDc3MuRXhwcihib3JkZXJFbmRXaWR0aCk7XG4gICAgc3R5bGVbZXh0ZW50TmFtZV0gPSBuZXcgQ3NzLkV4cHIoZXh0ZW50KTtcbiAgICBzdHlsZVtgbWF4LSR7ZXh0ZW50TmFtZX1gXSA9IG5ldyBDc3MuRXhwcihleHRlbnQpO1xuICAgIHJldHVybiB7XG4gICAgICBib3JkZXJCb3hFeHRlbnQ6IEV4cHJzLnN1YihcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHBhZ2VFeHRlbnQsXG4gICAgICAgIEV4cHJzLmFkZChzY29wZSwgbWFyZ2luU3RhcnQsIG1hcmdpbkVuZCksXG4gICAgICApLFxuICAgICAgbWFyZ2luU3RhcnQsXG4gICAgICBtYXJnaW5FbmQsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHByZXBhcmVDb250YWluZXIoXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIGRvY0ZhY2VzOiBGb250LkRvY3VtZW50RmFjZXMsXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICk6IHZvaWQge1xuICAgIHN1cGVyLnByZXBhcmVDb250YWluZXIoY29udGV4dCwgY29udGFpbmVyLCBwYWdlLCBkb2NGYWNlcywgY2xpZW50TGF5b3V0KTtcbiAgICBwYWdlLnBhZ2VBcmVhRWxlbWVudCA9IGNvbnRhaW5lci5lbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuXG4gICAgLy8gU2V0IHBhZ2UgYXJlYSBzaXplIGZvciB2dy92aCB1bml0IGNhbGN1bGF0aW9uXG4gICAgY29udGV4dC5wYWdlQXJlYVdpZHRoID0gcGFyc2VGbG9hdChwYWdlLnBhZ2VBcmVhRWxlbWVudC5zdHlsZS53aWR0aCk7XG4gICAgY29udGV4dC5wYWdlQXJlYUhlaWdodCA9IHBhcnNlRmxvYXQocGFnZS5wYWdlQXJlYUVsZW1lbnQuc3R5bGUuaGVpZ2h0KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFnZU1hcmdpbkJveFBhcnRpdGlvbkluc3RhbmNlIGV4dGVuZHMgUGFnZU1hc3Rlci5QYXJ0aXRpb25JbnN0YW5jZTxcbiAgUGFnZU1hcmdpbkJveFBhcnRpdGlvblxuPiB7XG4gIGJveEluZm86IFBhZ2VNYXJnaW5Cb3hJbmZvcm1hdGlvbjtcbiAgc3VwcHJlc3NFbXB0eUJveEdlbmVyYXRpb246IGJvb2xlYW4gPSB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHBhcmVudEluc3RhbmNlOiBQYWdlTWFzdGVyLlBhZ2VCb3hJbnN0YW5jZSxcbiAgICBwYWdlTWFyZ2luQm94UGFydGl0aW9uOiBQYWdlTWFyZ2luQm94UGFydGl0aW9uLFxuICApIHtcbiAgICBzdXBlcihwYXJlbnRJbnN0YW5jZSwgcGFnZU1hcmdpbkJveFBhcnRpdGlvbik7XG4gICAgY29uc3QgbmFtZSA9IHBhZ2VNYXJnaW5Cb3hQYXJ0aXRpb24ubWFyZ2luQm94TmFtZTtcbiAgICB0aGlzLmJveEluZm8gPSBwYWdlTWFyZ2luQm94ZXNbbmFtZV07XG4gICAgY29uc3QgcGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZSA9IHBhcmVudEluc3RhbmNlIGFzIFBhZ2VSdWxlTWFzdGVySW5zdGFuY2U7XG4gICAgcGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZS5wYWdlTWFyZ2luQm94SW5zdGFuY2VzW25hbWVdID0gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHByZXBhcmVDb250YWluZXIoXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIGRvY0ZhY2VzOiBGb250LkRvY3VtZW50RmFjZXMsXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICk6IHZvaWQge1xuICAgIHRoaXMuYXBwbHlWZXJ0aWNhbEFsaWduKGNvbnRleHQsIGNvbnRhaW5lci5lbGVtZW50KTtcbiAgICBzdXBlci5wcmVwYXJlQ29udGFpbmVyKGNvbnRleHQsIGNvbnRhaW5lciwgcGFnZSwgZG9jRmFjZXMsIGNsaWVudExheW91dCk7XG4gIH1cblxuICBwcml2YXRlIGFwcGx5VmVydGljYWxBbGlnbihjb250ZXh0OiBFeHBycy5Db250ZXh0LCBlbGVtZW50OiBFbGVtZW50KSB7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcImRpc3BsYXlcIiwgXCJmbGV4XCIpO1xuICAgIGNvbnN0IHZlcnRpY2FsQWxpZ246IENzcy5WYWwgPSB0aGlzLmdldFByb3AoY29udGV4dCwgXCJ2ZXJ0aWNhbC1hbGlnblwiKTtcbiAgICBsZXQgZmxleEFsaWduOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICBpZiAodmVydGljYWxBbGlnbiA9PT0gQ3NzLmdldE5hbWUoXCJtaWRkbGVcIikpIHtcbiAgICAgIGZsZXhBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgfSBlbHNlIGlmICh2ZXJ0aWNhbEFsaWduID09PSBDc3MuZ2V0TmFtZShcInRvcFwiKSkge1xuICAgICAgZmxleEFsaWduID0gXCJmbGV4LXN0YXJ0XCI7XG4gICAgfSBlbHNlIGlmICh2ZXJ0aWNhbEFsaWduID09PSBDc3MuZ2V0TmFtZShcImJvdHRvbVwiKSkge1xuICAgICAgZmxleEFsaWduID0gXCJmbGV4LWVuZFwiO1xuICAgIH1cbiAgICBpZiAoZmxleEFsaWduKSB7XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICBcImZsZXgtZmxvd1wiLFxuICAgICAgICB0aGlzLnZlcnRpY2FsID8gXCJyb3dcIiA6IFwiY29sdW1uXCIsXG4gICAgICApO1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcImp1c3RpZnktY29udGVudFwiLCBmbGV4QWxpZ24pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgcGFnZS1tYXJnaW4gYm94ZXMgcG9zaXRpb25zIGFsb25nIHRoZSB2YXJpYWJsZSBkaW1lbnNpb24gb2YgdGhlXG4gICAqIHBhZ2UuIEZvciBDRU5URVIgYW5kIEVORCBtYXJnaW4gYm94ZXMsIHRoZSBwb3NpdGlvbiBpcyBjYWxjdWxhdGVkIG9ubHkgaWZcbiAgICogdGhlIGRpbWVuc2lvbiAod2lkdGggb3IgaGVpZ2h0KSBpcyBub24tYXV0bywgc28gdGhhdCBpdCBjYW4gYmUgcmVzb2x2ZWQgYXRcbiAgICogdGhpcyBwb2ludC4gSWYgdGhlIGRpbWVuc2lvbiBpcyBhdXRvLCB0aGUgY2FsY3VsYXRpb24gaXMgZGVmZmVyZWQuXG4gICAqL1xuICBwcml2YXRlIHBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbihcbiAgICBuYW1lczogeyBzdGFydDogc3RyaW5nOyBlbmQ6IHN0cmluZzsgZXh0ZW50OiBzdHJpbmcgfSxcbiAgICBkaW06IFBhZ2VBcmVhRGltZW5zaW9uIHwgbnVsbCxcbiAgKTogdm9pZCB7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLnN0eWxlO1xuICAgIGNvbnN0IHNjb3BlID0gdGhpcy5wYWdlQm94LnNjb3BlO1xuICAgIGNvbnN0IHN0YXJ0U2lkZSA9IG5hbWVzLnN0YXJ0O1xuICAgIGNvbnN0IGVuZFNpZGUgPSBuYW1lcy5lbmQ7XG4gICAgY29uc3QgZXh0ZW50TmFtZSA9IG5hbWVzLmV4dGVudDtcbiAgICBjb25zdCBpc0hvcml6b250YWwgPSBzdGFydFNpZGUgPT09IFwibGVmdFwiO1xuICAgIGNvbnN0IGF2YWlsYWJsZUV4dGVudCA9IGlzSG9yaXpvbnRhbFxuICAgICAgPyBkaW0uYm9yZGVyQm94V2lkdGhcbiAgICAgIDogZGltLmJvcmRlckJveEhlaWdodDtcbiAgICBjb25zdCBleHRlbnQgPSBQYWdlTWFzdGVyLnRvRXhwckF1dG8oXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW2V4dGVudE5hbWVdLFxuICAgICAgYXZhaWxhYmxlRXh0ZW50LFxuICAgICk7XG4gICAgY29uc3Qgc3RhcnRPZmZzZXQgPSBpc0hvcml6b250YWwgPyBkaW0ubWFyZ2luTGVmdCA6IGRpbS5tYXJnaW5Ub3A7XG4gICAgaWYgKFxuICAgICAgdGhpcy5ib3hJbmZvLnBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbiA9PT1cbiAgICAgIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5TVEFSVFxuICAgICkge1xuICAgICAgc3R5bGVbc3RhcnRTaWRlXSA9IG5ldyBDc3MuRXhwcihzdGFydE9mZnNldCk7XG4gICAgfSBlbHNlIGlmIChleHRlbnQpIHtcbiAgICAgIGNvbnN0IG1hcmdpblN0YXJ0ID0gUGFnZU1hc3Rlci50b0V4cHJaZXJvKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgc3R5bGVbYG1hcmdpbi0ke3N0YXJ0U2lkZX1gXSxcbiAgICAgICAgYXZhaWxhYmxlRXh0ZW50LFxuICAgICAgKTtcbiAgICAgIGNvbnN0IG1hcmdpbkVuZCA9IFBhZ2VNYXN0ZXIudG9FeHByWmVybyhcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHN0eWxlW2BtYXJnaW4tJHtlbmRTaWRlfWBdLFxuICAgICAgICBhdmFpbGFibGVFeHRlbnQsXG4gICAgICApO1xuICAgICAgY29uc3QgcGFkZGluZ1N0YXJ0ID0gUGFnZU1hc3Rlci50b0V4cHJaZXJvKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgc3R5bGVbYHBhZGRpbmctJHtzdGFydFNpZGV9YF0sXG4gICAgICAgIGF2YWlsYWJsZUV4dGVudCxcbiAgICAgICk7XG4gICAgICBjb25zdCBwYWRkaW5nRW5kID0gUGFnZU1hc3Rlci50b0V4cHJaZXJvKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgc3R5bGVbYHBhZGRpbmctJHtlbmRTaWRlfWBdLFxuICAgICAgICBhdmFpbGFibGVFeHRlbnQsXG4gICAgICApO1xuICAgICAgY29uc3QgYm9yZGVyU3RhcnRXaWR0aCA9IFBhZ2VNYXN0ZXIudG9FeHByWmVyb0JvcmRlcihcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHN0eWxlW2Bib3JkZXItJHtzdGFydFNpZGV9LXdpZHRoYF0sXG4gICAgICAgIHN0eWxlW2Bib3JkZXItJHtzdGFydFNpZGV9LXN0eWxlYF0sXG4gICAgICAgIGF2YWlsYWJsZUV4dGVudCxcbiAgICAgICk7XG4gICAgICBjb25zdCBib3JkZXJFbmRXaWR0aCA9IFBhZ2VNYXN0ZXIudG9FeHByWmVyb0JvcmRlcihcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHN0eWxlW2Bib3JkZXItJHtlbmRTaWRlfS13aWR0aGBdLFxuICAgICAgICBzdHlsZVtgYm9yZGVyLSR7ZW5kU2lkZX0tc3R5bGVgXSxcbiAgICAgICAgYXZhaWxhYmxlRXh0ZW50LFxuICAgICAgKTtcbiAgICAgIGNvbnN0IG91dGVyRXh0ZW50ID0gRXhwcnMuYWRkKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgZXh0ZW50LFxuICAgICAgICBFeHBycy5hZGQoXG4gICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBwYWRkaW5nU3RhcnQsIHBhZGRpbmdFbmQpLFxuICAgICAgICAgIEV4cHJzLmFkZChcbiAgICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBib3JkZXJTdGFydFdpZHRoLCBib3JkZXJFbmRXaWR0aCksXG4gICAgICAgICAgICBFeHBycy5hZGQoc2NvcGUsIG1hcmdpblN0YXJ0LCBtYXJnaW5FbmQpLFxuICAgICAgICAgICksXG4gICAgICAgICksXG4gICAgICApO1xuICAgICAgc3dpdGNoICh0aGlzLmJveEluZm8ucG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uKSB7XG4gICAgICAgIGNhc2UgTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkNFTlRFUjpcbiAgICAgICAgICBzdHlsZVtzdGFydFNpZGVdID0gbmV3IENzcy5FeHByKFxuICAgICAgICAgICAgRXhwcnMuYWRkKFxuICAgICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgICAgc3RhcnRPZmZzZXQsXG4gICAgICAgICAgICAgIEV4cHJzLmRpdihcbiAgICAgICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgICAgICBFeHBycy5zdWIoc2NvcGUsIGF2YWlsYWJsZUV4dGVudCwgb3V0ZXJFeHRlbnQpLFxuICAgICAgICAgICAgICAgIG5ldyBFeHBycy5Db25zdChzY29wZSwgMiksXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkVORDpcbiAgICAgICAgICBzdHlsZVtzdGFydFNpZGVdID0gbmV3IENzcy5FeHByKFxuICAgICAgICAgICAgRXhwcnMuc3ViKFxuICAgICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBzdGFydE9mZnNldCwgYXZhaWxhYmxlRXh0ZW50KSxcbiAgICAgICAgICAgICAgb3V0ZXJFeHRlbnQsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBwYWdlLW1hcmdpbiBib3hlcyBwb3NpdGlvbnMgYWxvbmcgdGhlIGZpeGVkIGRpbWVuc2lvbiBvZiB0aGVcbiAgICogcGFnZS5cbiAgICovXG4gIHByaXZhdGUgcG9zaXRpb25BbmRTaXplQWxvbmdGaXhlZERpbWVuc2lvbihcbiAgICBuYW1lczogeyBpbnNpZGU6IHN0cmluZzsgb3V0c2lkZTogc3RyaW5nOyBleHRlbnQ6IHN0cmluZyB9LFxuICAgIGRpbTogUGFnZUFyZWFEaW1lbnNpb24gfCBudWxsLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuc3R5bGU7XG4gICAgY29uc3Qgc2NvcGUgPSB0aGlzLnBhZ2VCb3guc2NvcGU7XG4gICAgY29uc3QgaW5zaWRlTmFtZSA9IG5hbWVzLmluc2lkZTtcbiAgICBjb25zdCBvdXRzaWRlTmFtZSA9IG5hbWVzLm91dHNpZGU7XG4gICAgY29uc3QgZXh0ZW50TmFtZSA9IG5hbWVzLmV4dGVudDtcbiAgICBjb25zdCBwYWdlTWFyZ2luID1cbiAgICAgIGRpbVtcbiAgICAgICAgYG1hcmdpbiR7b3V0c2lkZU5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCl9JHtvdXRzaWRlTmFtZS5zdWJzdHJpbmcoXG4gICAgICAgICAgMSxcbiAgICAgICAgKX1gXG4gICAgICBdO1xuICAgIGNvbnN0IG1hcmdpbkluc2lkZSA9IFBhZ2VNYXN0ZXIudG9FeHByWmVyb0F1dG8oXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW2BtYXJnaW4tJHtpbnNpZGVOYW1lfWBdLFxuICAgICAgcGFnZU1hcmdpbixcbiAgICApO1xuICAgIGNvbnN0IG1hcmdpbk91dHNpZGUgPSBQYWdlTWFzdGVyLnRvRXhwclplcm9BdXRvKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtgbWFyZ2luLSR7b3V0c2lkZU5hbWV9YF0sXG4gICAgICBwYWdlTWFyZ2luLFxuICAgICk7XG4gICAgY29uc3QgcGFkZGluZ0luc2lkZSA9IFBhZ2VNYXN0ZXIudG9FeHByWmVybyhcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbYHBhZGRpbmctJHtpbnNpZGVOYW1lfWBdLFxuICAgICAgcGFnZU1hcmdpbixcbiAgICApO1xuICAgIGNvbnN0IHBhZGRpbmdPdXRzaWRlID0gUGFnZU1hc3Rlci50b0V4cHJaZXJvKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtgcGFkZGluZy0ke291dHNpZGVOYW1lfWBdLFxuICAgICAgcGFnZU1hcmdpbixcbiAgICApO1xuICAgIGNvbnN0IGJvcmRlckluc2lkZVdpZHRoID0gUGFnZU1hc3Rlci50b0V4cHJaZXJvQm9yZGVyKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtgYm9yZGVyLSR7aW5zaWRlTmFtZX0td2lkdGhgXSxcbiAgICAgIHN0eWxlW2Bib3JkZXItJHtpbnNpZGVOYW1lfS1zdHlsZWBdLFxuICAgICAgcGFnZU1hcmdpbixcbiAgICApO1xuICAgIGNvbnN0IGJvcmRlck91dHNpZGVXaWR0aCA9IFBhZ2VNYXN0ZXIudG9FeHByWmVyb0JvcmRlcihcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbYGJvcmRlci0ke291dHNpZGVOYW1lfS13aWR0aGBdLFxuICAgICAgc3R5bGVbYGJvcmRlci0ke291dHNpZGVOYW1lfS1zdHlsZWBdLFxuICAgICAgcGFnZU1hcmdpbixcbiAgICApO1xuICAgIGNvbnN0IGV4dGVudCA9IFBhZ2VNYXN0ZXIudG9FeHByQXV0byhzY29wZSwgc3R5bGVbZXh0ZW50TmFtZV0sIHBhZ2VNYXJnaW4pO1xuICAgIGxldCByZXN1bHQ6IHtcbiAgICAgIGV4dGVudDogRXhwcnMuUmVzdWx0O1xuICAgICAgbWFyZ2luSW5zaWRlOiBFeHBycy5SZXN1bHQ7XG4gICAgICBtYXJnaW5PdXRzaWRlOiBFeHBycy5SZXN1bHQ7XG4gICAgfSA9IG51bGw7XG5cbiAgICBmdW5jdGlvbiBnZXRDb21wdXRlZFZhbHVlcyhcbiAgICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgKToge1xuICAgICAgZXh0ZW50OiBFeHBycy5SZXN1bHQgfCBudWxsO1xuICAgICAgbWFyZ2luSW5zaWRlOiBFeHBycy5SZXN1bHQgfCBudWxsO1xuICAgICAgbWFyZ2luT3V0c2lkZTogRXhwcnMuUmVzdWx0IHwgbnVsbDtcbiAgICB9IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgZXh0ZW50OiBleHRlbnQgPyBleHRlbnQuZXZhbHVhdGUoY29udGV4dCkgOiBudWxsLFxuICAgICAgICBtYXJnaW5JbnNpZGU6IG1hcmdpbkluc2lkZSA/IG1hcmdpbkluc2lkZS5ldmFsdWF0ZShjb250ZXh0KSA6IG51bGwsXG4gICAgICAgIG1hcmdpbk91dHNpZGU6IG1hcmdpbk91dHNpZGUgPyBtYXJnaW5PdXRzaWRlLmV2YWx1YXRlKGNvbnRleHQpIDogbnVsbCxcbiAgICAgIH07XG4gICAgICBjb25zdCBwYWdlTWFyZ2luVmFsdWUgPSBwYWdlTWFyZ2luLmV2YWx1YXRlKGNvbnRleHQpO1xuICAgICAgbGV0IGJvcmRlckFuZFBhZGRpbmcgPSAwO1xuICAgICAgW1xuICAgICAgICBib3JkZXJJbnNpZGVXaWR0aCxcbiAgICAgICAgcGFkZGluZ0luc2lkZSxcbiAgICAgICAgcGFkZGluZ091dHNpZGUsXG4gICAgICAgIGJvcmRlck91dHNpZGVXaWR0aCxcbiAgICAgIF0uZm9yRWFjaCgoeCkgPT4ge1xuICAgICAgICBpZiAoeCkge1xuICAgICAgICAgIGJvcmRlckFuZFBhZGRpbmcgKz0geC5ldmFsdWF0ZShjb250ZXh0KSBhcyBudW1iZXI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKHJlc3VsdC5tYXJnaW5JbnNpZGUgPT09IG51bGwgfHwgcmVzdWx0Lm1hcmdpbk91dHNpZGUgPT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgdG90YWwgPVxuICAgICAgICAgIGJvcmRlckFuZFBhZGRpbmcgK1xuICAgICAgICAgIChyZXN1bHQuZXh0ZW50IGFzIG51bWJlcikgK1xuICAgICAgICAgIChyZXN1bHQubWFyZ2luSW5zaWRlIGFzIG51bWJlcikgK1xuICAgICAgICAgIChyZXN1bHQubWFyZ2luT3V0c2lkZSBhcyBudW1iZXIpO1xuICAgICAgICBpZiAodG90YWwgPiBwYWdlTWFyZ2luVmFsdWUpIHtcbiAgICAgICAgICBpZiAocmVzdWx0Lm1hcmdpbkluc2lkZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzdWx0Lm1hcmdpbkluc2lkZSA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyZXN1bHQubWFyZ2luT3V0c2lkZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzdWx0Lm1hcmdpbk91dHNpZGUgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICByZXN1bHQuZXh0ZW50ICE9PSBudWxsICYmXG4gICAgICAgIHJlc3VsdC5tYXJnaW5JbnNpZGUgIT09IG51bGwgJiZcbiAgICAgICAgcmVzdWx0Lm1hcmdpbk91dHNpZGUgIT09IG51bGxcbiAgICAgICkge1xuICAgICAgICAvLyBvdmVyLWNvbnN0cmFpbmVkXG4gICAgICAgIHJlc3VsdC5tYXJnaW5PdXRzaWRlID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgcmVzdWx0LmV4dGVudCA9PT0gbnVsbCAmJlxuICAgICAgICByZXN1bHQubWFyZ2luSW5zaWRlICE9PSBudWxsICYmXG4gICAgICAgIHJlc3VsdC5tYXJnaW5PdXRzaWRlICE9PSBudWxsXG4gICAgICApIHtcbiAgICAgICAgcmVzdWx0LmV4dGVudCA9XG4gICAgICAgICAgcGFnZU1hcmdpblZhbHVlIC1cbiAgICAgICAgICBib3JkZXJBbmRQYWRkaW5nIC1cbiAgICAgICAgICAocmVzdWx0Lm1hcmdpbkluc2lkZSBhcyBudW1iZXIpIC1cbiAgICAgICAgICAocmVzdWx0Lm1hcmdpbk91dHNpZGUgYXMgbnVtYmVyKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHJlc3VsdC5leHRlbnQgIT09IG51bGwgJiZcbiAgICAgICAgKHJlc3VsdC5tYXJnaW5JbnNpZGUgYXMgbnVtYmVyKSA9PT0gbnVsbCAmJlxuICAgICAgICAocmVzdWx0Lm1hcmdpbk91dHNpZGUgYXMgbnVtYmVyKSAhPT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIHJlc3VsdC5tYXJnaW5JbnNpZGUgPVxuICAgICAgICAgIHBhZ2VNYXJnaW5WYWx1ZSAtXG4gICAgICAgICAgYm9yZGVyQW5kUGFkZGluZyAtXG4gICAgICAgICAgKHJlc3VsdC5leHRlbnQgYXMgbnVtYmVyKSAtXG4gICAgICAgICAgKHJlc3VsdC5tYXJnaW5PdXRzaWRlIGFzIG51bWJlcik7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICByZXN1bHQuZXh0ZW50ICE9PSBudWxsICYmXG4gICAgICAgIHJlc3VsdC5tYXJnaW5JbnNpZGUgIT09IG51bGwgJiZcbiAgICAgICAgcmVzdWx0Lm1hcmdpbk91dHNpZGUgPT09IG51bGxcbiAgICAgICkge1xuICAgICAgICByZXN1bHQubWFyZ2luT3V0c2lkZSA9XG4gICAgICAgICAgcGFnZU1hcmdpblZhbHVlIC1cbiAgICAgICAgICBib3JkZXJBbmRQYWRkaW5nIC1cbiAgICAgICAgICAocmVzdWx0LmV4dGVudCBhcyBudW1iZXIpIC1cbiAgICAgICAgICAocmVzdWx0Lm1hcmdpbkluc2lkZSBhcyBudW1iZXIpO1xuICAgICAgfSBlbHNlIGlmIChyZXN1bHQuZXh0ZW50ID09PSBudWxsKSB7XG4gICAgICAgIHJlc3VsdC5tYXJnaW5JbnNpZGUgPSByZXN1bHQubWFyZ2luT3V0c2lkZSA9IDA7XG4gICAgICAgIHJlc3VsdC5leHRlbnQgPSBwYWdlTWFyZ2luVmFsdWUgLSBib3JkZXJBbmRQYWRkaW5nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0Lm1hcmdpbkluc2lkZSA9IHJlc3VsdC5tYXJnaW5PdXRzaWRlID1cbiAgICAgICAgICAocGFnZU1hcmdpblZhbHVlIC0gYm9yZGVyQW5kUGFkZGluZyAtIChyZXN1bHQuZXh0ZW50IGFzIG51bWJlcikpIC8gMjtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHN0eWxlW2V4dGVudE5hbWVdID0gbmV3IENzcy5FeHByKFxuICAgICAgbmV3IEV4cHJzLk5hdGl2ZShcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gZ2V0Q29tcHV0ZWRWYWx1ZXModGhpcykuZXh0ZW50O1xuICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCA/IDAgOiB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZXh0ZW50TmFtZSxcbiAgICAgICksXG4gICAgKTtcbiAgICBzdHlsZVtgbWFyZ2luLSR7aW5zaWRlTmFtZX1gXSA9IG5ldyBDc3MuRXhwcihcbiAgICAgIG5ldyBFeHBycy5OYXRpdmUoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGdldENvbXB1dGVkVmFsdWVzKHRoaXMpLm1hcmdpbkluc2lkZTtcbiAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgPyAwIDogdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGBtYXJnaW4tJHtpbnNpZGVOYW1lfWAsXG4gICAgICApLFxuICAgICk7XG4gICAgc3R5bGVbYG1hcmdpbi0ke291dHNpZGVOYW1lfWBdID0gbmV3IENzcy5FeHByKFxuICAgICAgbmV3IEV4cHJzLk5hdGl2ZShcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gZ2V0Q29tcHV0ZWRWYWx1ZXModGhpcykubWFyZ2luT3V0c2lkZTtcbiAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgPyAwIDogdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGBtYXJnaW4tJHtvdXRzaWRlTmFtZX1gLFxuICAgICAgKSxcbiAgICApO1xuICAgIGlmIChpbnNpZGVOYW1lID09PSBcImxlZnRcIikge1xuICAgICAgc3R5bGVbXCJsZWZ0XCJdID0gbmV3IENzcy5FeHByKFxuICAgICAgICBFeHBycy5hZGQoc2NvcGUsIGRpbS5tYXJnaW5MZWZ0LCBkaW0uYm9yZGVyQm94V2lkdGgpLFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGluc2lkZU5hbWUgPT09IFwidG9wXCIpIHtcbiAgICAgIHN0eWxlW1widG9wXCJdID0gbmV3IENzcy5FeHByKFxuICAgICAgICBFeHBycy5hZGQoc2NvcGUsIGRpbS5tYXJnaW5Ub3AsIGRpbS5ib3JkZXJCb3hIZWlnaHQpLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpbml0SG9yaXpvbnRhbCgpOiB2b2lkIHtcbiAgICBjb25zdCBwYWdlUnVsZU1hc3Rlckluc3RhbmNlID0gdGhpc1xuICAgICAgLnBhcmVudEluc3RhbmNlIGFzIFBhZ2VSdWxlTWFzdGVySW5zdGFuY2U7XG4gICAgY29uc3QgZGltID0gcGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZS5wYWdlQXJlYURpbWVuc2lvbjtcbiAgICBpZiAodGhpcy5ib3hJbmZvLmlzSW5MZWZ0Q29sdW1uKSB7XG4gICAgICB0aGlzLnBvc2l0aW9uQW5kU2l6ZUFsb25nRml4ZWREaW1lbnNpb24oXG4gICAgICAgIHsgaW5zaWRlOiBcInJpZ2h0XCIsIG91dHNpZGU6IFwibGVmdFwiLCBleHRlbnQ6IFwid2lkdGhcIiB9LFxuICAgICAgICBkaW0sXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5ib3hJbmZvLmlzSW5SaWdodENvbHVtbikge1xuICAgICAgdGhpcy5wb3NpdGlvbkFuZFNpemVBbG9uZ0ZpeGVkRGltZW5zaW9uKFxuICAgICAgICB7IGluc2lkZTogXCJsZWZ0XCIsIG91dHNpZGU6IFwicmlnaHRcIiwgZXh0ZW50OiBcIndpZHRoXCIgfSxcbiAgICAgICAgZGltLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24oXG4gICAgICAgIHsgc3RhcnQ6IFwibGVmdFwiLCBlbmQ6IFwicmlnaHRcIiwgZXh0ZW50OiBcIndpZHRoXCIgfSxcbiAgICAgICAgZGltLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpbml0VmVydGljYWwoKTogdm9pZCB7XG4gICAgY29uc3QgcGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZSA9IHRoaXNcbiAgICAgIC5wYXJlbnRJbnN0YW5jZSBhcyBQYWdlUnVsZU1hc3Rlckluc3RhbmNlO1xuICAgIGNvbnN0IGRpbSA9IHBhZ2VSdWxlTWFzdGVySW5zdGFuY2UucGFnZUFyZWFEaW1lbnNpb247XG4gICAgaWYgKHRoaXMuYm94SW5mby5pc0luVG9wUm93KSB7XG4gICAgICB0aGlzLnBvc2l0aW9uQW5kU2l6ZUFsb25nRml4ZWREaW1lbnNpb24oXG4gICAgICAgIHsgaW5zaWRlOiBcImJvdHRvbVwiLCBvdXRzaWRlOiBcInRvcFwiLCBleHRlbnQ6IFwiaGVpZ2h0XCIgfSxcbiAgICAgICAgZGltLFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuYm94SW5mby5pc0luQm90dG9tUm93KSB7XG4gICAgICB0aGlzLnBvc2l0aW9uQW5kU2l6ZUFsb25nRml4ZWREaW1lbnNpb24oXG4gICAgICAgIHsgaW5zaWRlOiBcInRvcFwiLCBvdXRzaWRlOiBcImJvdHRvbVwiLCBleHRlbnQ6IFwiaGVpZ2h0XCIgfSxcbiAgICAgICAgZGltLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24oXG4gICAgICAgIHsgc3RhcnQ6IFwidG9wXCIsIGVuZDogXCJib3R0b21cIiwgZXh0ZW50OiBcImhlaWdodFwiIH0sXG4gICAgICAgIGRpbSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZmluaXNoQ29udGFpbmVyKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBjb2x1bW46IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBjb2x1bW5Db3VudDogbnVtYmVyLFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICAgIGRvY0ZhY2VzOiBGb250LkRvY3VtZW50RmFjZXMsXG4gICk6IHZvaWQge1xuICAgIHN1cGVyLmZpbmlzaENvbnRhaW5lcihcbiAgICAgIGNvbnRleHQsXG4gICAgICBjb250YWluZXIsXG4gICAgICBwYWdlLFxuICAgICAgY29sdW1uLFxuICAgICAgY29sdW1uQ291bnQsXG4gICAgICBjbGllbnRMYXlvdXQsXG4gICAgICBkb2NGYWNlcyxcbiAgICApO1xuXG4gICAgLy8gZmluaXNoQ29udGFpbmVyIGlzIGNhbGxlZCBvbmx5IHdoZW4gdGhlIG1hcmdpbiBib3ggaXMgZ2VuZXJhdGVkLlxuICAgIC8vIEluIHRoaXMgY2FzZSwgc3RvcmUgdGhlIGdlbmVyYXRlZCBjb250YWluZXIgZm9yIHRoZSBtYXJnaW4gYm94IGluIHRoZVxuICAgIC8vIHBhZ2Ugb2JqZWN0LiAoZXhjZXB0IHdoZW4gaXQgaXMgYSBjb3JuZXIgbWFyZ2luIGJveCwgYmVjYXVzZSBzaXplIG9mIGFcbiAgICAvLyBjb3JuZXIgbWFyZ2luIGJveCBkb2VzIG5vdCBuZWVkIHRvIGJlIGFkanVzdGVkIGFmdGVyIHRoZSBsYXlvdXQpXG4gICAgY29uc3QgbWFyZ2luQm94ZXMgPSBwYWdlLm1hcmdpbkJveGVzO1xuICAgIGNvbnN0IG5hbWUgPSAodGhpcy5wYWdlQm94IGFzIGFueSkubWFyZ2luQm94TmFtZTtcbiAgICBjb25zdCBib3hJbmZvID0gdGhpcy5ib3hJbmZvO1xuICAgIGlmICghYm94SW5mby5pc0luTGVmdENvbHVtbiAmJiAhYm94SW5mby5pc0luUmlnaHRDb2x1bW4pIHtcbiAgICAgIGlmIChib3hJbmZvLmlzSW5Ub3BSb3cpIHtcbiAgICAgICAgbWFyZ2luQm94ZXMudG9wW25hbWVdID0gY29udGFpbmVyO1xuICAgICAgfSBlbHNlIGlmIChib3hJbmZvLmlzSW5Cb3R0b21Sb3cpIHtcbiAgICAgICAgbWFyZ2luQm94ZXMuYm90dG9tW25hbWVdID0gY29udGFpbmVyO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWJveEluZm8uaXNJblRvcFJvdyAmJiAhYm94SW5mby5pc0luQm90dG9tUm93KSB7XG4gICAgICBpZiAoYm94SW5mby5pc0luTGVmdENvbHVtbikge1xuICAgICAgICBtYXJnaW5Cb3hlcy5sZWZ0W25hbWVdID0gY29udGFpbmVyO1xuICAgICAgfSBlbHNlIGlmIChib3hJbmZvLmlzSW5SaWdodENvbHVtbikge1xuICAgICAgICBtYXJnaW5Cb3hlcy5yaWdodFtuYW1lXSA9IGNvbnRhaW5lcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBEeW5hbWljYWxseSBnZW5lcmF0ZSBhbmQgbWFuYWdlIHBhZ2UgbWFzdGVycyBjb3JyZXNwb25kaW5nIHRvIHBhZ2UgYXQtcnVsZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYWdlTWFuYWdlciB7XG4gIHByaXZhdGUgcGFnZU1hc3RlckNhY2hlOiBhbnkgPSB7fSBhcyB7XG4gICAgW2tleTogc3RyaW5nXTogUGFnZU1hc3Rlci5QYWdlTWFzdGVySW5zdGFuY2U7XG4gIH07XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZWFkb25seSBjYXNjYWRlSW5zdGFuY2U6IENzc0Nhc2NhZGUuQ2FzY2FkZUluc3RhbmNlLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgcGFnZVNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcHJpdmF0ZSByZWFkb25seSByb290UGFnZUJveEluc3RhbmNlOiBQYWdlTWFzdGVyLlJvb3RQYWdlQm94SW5zdGFuY2UsXG4gICAgcHJpdmF0ZSByZWFkb25seSBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgZG9jRWxlbWVudFN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgKSB7XG4gICAgdGhpcy5kZWZpbmVQYWdlUHJvZ3Jlc3Npb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgdGhlIHBhZ2UgcHJvZ3Jlc3Npb24gYW5kIGRlZmluZSBsZWZ0L3JpZ2h0L3JlY3RvL3ZlcnNvIHBhZ2VzLlxuICAgKi9cbiAgcHJpdmF0ZSBkZWZpbmVQYWdlUHJvZ3Jlc3Npb24oKSB7XG4gICAgLy8gVE9ETyBJZiBhIHBhZ2UgYnJlYWsgaXMgZm9yY2VkIGJlZm9yZSB0aGUgcm9vdCBlbGVtZW50LCByZWN0by92ZXJzbyBwYWdlc1xuICAgIC8vIGFyZSBubyBsb25nZXIgb2RkL2V2ZW4gcGFnZXMuIGxlZnQvcmlnaHQgYXJlIHJldmVyc2VkIHRvby5cbiAgICBjb25zdCBzY29wZSA9IHRoaXMucGFnZVNjb3BlO1xuICAgIGNvbnN0IHBhZ2VOdW1iZXIgPSBuZXcgRXhwcnMuTmFtZWQoc2NvcGUsIFwicGFnZS1udW1iZXJcIik7XG4gICAgY29uc3QgaXNFdmVuUGFnZSA9IG5ldyBFeHBycy5FcShcbiAgICAgIHNjb3BlLFxuICAgICAgbmV3IEV4cHJzLk1vZHVsbyhzY29wZSwgcGFnZU51bWJlciwgbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCAyKSksXG4gICAgICBzY29wZS56ZXJvLFxuICAgICk7XG4gICAgc2NvcGUuZGVmaW5lTmFtZShcInJlY3RvLXBhZ2VcIiwgbmV3IEV4cHJzLk5vdChzY29wZSwgaXNFdmVuUGFnZSkpO1xuICAgIHNjb3BlLmRlZmluZU5hbWUoXCJ2ZXJzby1wYWdlXCIsIGlzRXZlblBhZ2UpO1xuICAgIGNvbnN0IHN0eWxlSW5zdGFuY2U6IGFueSAvKiBPcHMuU3R5bGVJbnN0YW5jZSAqLyA9IHRoaXMuY29udGV4dDtcbiAgICBjb25zdCBwYWdlUHJvZ3Jlc3Npb24gPVxuICAgICAgc3R5bGVJbnN0YW5jZS5wYWdlUHJvZ3Jlc3Npb24gfHxcbiAgICAgIHJlc29sdmVQYWdlUHJvZ3Jlc3Npb24odGhpcy5kb2NFbGVtZW50U3R5bGUpO1xuICAgIGlmIChwYWdlUHJvZ3Jlc3Npb24gPT09IENvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb24uTFRSKSB7XG4gICAgICBzY29wZS5kZWZpbmVOYW1lKFwibGVmdC1wYWdlXCIsIGlzRXZlblBhZ2UpO1xuICAgICAgc2NvcGUuZGVmaW5lTmFtZShcInJpZ2h0LXBhZ2VcIiwgbmV3IEV4cHJzLk5vdChzY29wZSwgaXNFdmVuUGFnZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY29wZS5kZWZpbmVOYW1lKFwibGVmdC1wYWdlXCIsIG5ldyBFeHBycy5Ob3Qoc2NvcGUsIGlzRXZlblBhZ2UpKTtcbiAgICAgIHNjb3BlLmRlZmluZU5hbWUoXCJyaWdodC1wYWdlXCIsIGlzRXZlblBhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY2FzY2FkZWQgcGFnZSBzdHlsZSBzcGVjaWZpZWQgaW4gcGFnZSBjb250ZXh0IGZvciB0aGUgY3VycmVudCBwYWdlLlxuICAgKi9cbiAgZ2V0Q2FzY2FkZWRQYWdlU3R5bGUoKTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUge1xuICAgIGNvbnN0IHN0eWxlID0ge30gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGU7XG4gICAgdGhpcy5jYXNjYWRlSW5zdGFuY2UucHVzaFJ1bGUoW10sIFwiXCIsIHN0eWxlKTtcbiAgICB0aGlzLmNhc2NhZGVJbnN0YW5jZS5wb3BSdWxlKCk7XG4gICAgcmV0dXJuIHN0eWxlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIFBhZ2VNYXN0ZXJJbnN0YW5jZSB3aXRoIHBhZ2UgcnVsZXMgYXBwbGllZC4gUmV0dXJuIGEgY2FjaGVkXG4gICAqIGluc3RhbmNlIGlmIHRoZXJlIGFscmVhZHkgZXhpc3RzIG9uZSB3aXRoIHRoZSBzYW1lIHN0eWxlcy5cbiAgICogQHBhcmFtIHBhZ2VNYXN0ZXJJbnN0YW5jZSBUaGUgb3JpZ2luYWwgcGFnZSBtYXN0ZXIgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSBjYXNjYWRlZFBhZ2VTdHlsZSBDYXNjYWRlZCBwYWdlIHN0eWxlIHNwZWNpZmllZCBpbiBwYWdlIGNvbnRleHQuXG4gICAqL1xuICBnZXRQYWdlUnVsZVBhZ2VNYXN0ZXIoXG4gICAgcGFnZU1hc3Rlckluc3RhbmNlOiBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXJJbnN0YW5jZSxcbiAgICBjYXNjYWRlZFBhZ2VTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICk6IFBhZ2VNYXN0ZXIuUGFnZU1hc3Rlckluc3RhbmNlIHtcbiAgICBjb25zdCBwYWdlTWFzdGVyID0gcGFnZU1hc3Rlckluc3RhbmNlLnBhZ2VCb3ggYXMgUGFnZU1hc3Rlci5QYWdlTWFzdGVyO1xuXG4gICAgLy8gSWYgbm8gcHJvcGVyaWVzIGFyZSBzcGVjaWZpZWQgaW4gQHBhZ2UgcnVsZXMsIHVzZSB0aGUgb3JpZ2luYWwgcGFnZVxuICAgIC8vIG1hc3Rlci5cbiAgICBpZiAoT2JqZWN0LmtleXMoY2FzY2FkZWRQYWdlU3R5bGUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcGFnZU1hc3Rlci5yZXNldFNjb3BlKCk7XG4gICAgICByZXR1cm4gcGFnZU1hc3Rlckluc3RhbmNlO1xuICAgIH1cbiAgICBjb25zdCBrZXkgPSB0aGlzLm1ha2VDYWNoZUtleShjYXNjYWRlZFBhZ2VTdHlsZSwgcGFnZU1hc3Rlcik7XG4gICAgbGV0IGFwcGxpZWQgPSB0aGlzLnBhZ2VNYXN0ZXJDYWNoZVtrZXldO1xuICAgIGlmICghYXBwbGllZCkge1xuICAgICAgaWYgKHBhZ2VNYXN0ZXIucHNldWRvTmFtZSA9PT0gUGFnZU1hc3Rlci51c2VyQWdlbnRQYWdlTWFzdGVyUHNldWRvKSB7XG4gICAgICAgIC8vIElmIHRoZSBwYXNzZWQgcGFnZSBtYXN0ZXIgaXMgYSBVQSBwYWdlIG1hc3RlcixcbiAgICAgICAgLy8gaWdub3JlIGl0IGFuZCBnZW5lcmF0ZSBhIG5ldyBwYWdlIG1hc3RlciBmcm9tIEBwYWdlIHJ1bGVzLlxuICAgICAgICBhcHBsaWVkID0gdGhpcy5nZW5lcmF0ZVBhZ2VSdWxlTWFzdGVyKGNhc2NhZGVkUGFnZVN0eWxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE90aGVyd2lzZSBjYXNjYWRlIHNvbWUgcHJvcGVydGllcyBmcm9tIEBwYWdlIHJ1bGVzIHRvIHRoZSBwYWdlXG4gICAgICAgIC8vIG1hc3Rlci5cbiAgICAgICAgYXBwbGllZCA9IHRoaXMuZ2VuZXJhdGVDYXNjYWRlZFBhZ2VNYXN0ZXIoXG4gICAgICAgICAgY2FzY2FkZWRQYWdlU3R5bGUsXG4gICAgICAgICAgcGFnZU1hc3RlcixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucGFnZU1hc3RlckNhY2hlW2tleV0gPSBhcHBsaWVkO1xuICAgIH1cbiAgICBhcHBsaWVkLnBhZ2VCb3gucmVzZXRTY29wZSgpO1xuICAgIHJldHVybiBhcHBsaWVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgY2FjaGUga2V5IGZyb20gdGhlIHNwZWNpZmllZCBzdHlsZXMgYW5kIHRoZSBvcmlnaW5hbCBwYWdlIG1hc3RlclxuICAgKiBrZXkuXG4gICAqL1xuICBwcml2YXRlIG1ha2VDYWNoZUtleShcbiAgICBzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgcGFnZU1hc3RlcjogUGFnZU1hc3Rlci5QYWdlTWFzdGVyLFxuICApOiBzdHJpbmcge1xuICAgIGNvbnN0IHByb3BzU3RyID0gdGhpcy5tYWtlQ2FzY2FkZVZhbHVlT2JqZWN0S2V5KHN0eWxlKTtcbiAgICByZXR1cm4gYCR7cGFnZU1hc3Rlci5rZXl9XiR7cHJvcHNTdHJ9YDtcbiAgfVxuXG4gIHByaXZhdGUgbWFrZUNhc2NhZGVWYWx1ZU9iamVjdEtleShvYmplY3Q6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlKTogc3RyaW5nIHtcbiAgICBjb25zdCBwcm9wcyA9IFtdIGFzIHN0cmluZ1tdO1xuICAgIGZvciAoY29uc3QgcHJvcCBpbiBvYmplY3QpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wKSkge1xuICAgICAgICBjb25zdCB2YWwgPSBvYmplY3RbcHJvcF07XG4gICAgICAgIGxldCBzdHI6IHN0cmluZztcbiAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKSB7XG4gICAgICAgICAgc3RyID0gYCR7dmFsLnZhbHVlfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gdGhpcy5tYWtlQ2FzY2FkZVZhbHVlT2JqZWN0S2V5KHZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvcHMucHVzaChwcm9wICsgc3RyICsgKHZhbC5wcmlvcml0eSB8fCBcIlwiKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcm9wcy5zb3J0KCkuam9pbihcIl5cIik7XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlUGFnZVJ1bGVNYXN0ZXIoXG4gICAgc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICApOiBQYWdlUnVsZU1hc3Rlckluc3RhbmNlIHtcbiAgICBjb25zdCBwYWdlTWFzdGVyID0gbmV3IFBhZ2VSdWxlTWFzdGVyKFxuICAgICAgdGhpcy5wYWdlU2NvcGUsXG4gICAgICB0aGlzLnJvb3RQYWdlQm94SW5zdGFuY2UucGFnZUJveCBhcyBQYWdlTWFzdGVyLlJvb3RQYWdlQm94LFxuICAgICAgc3R5bGUsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlTWFzdGVySW5zdGFuY2UgPSBwYWdlTWFzdGVyLmNyZWF0ZUluc3RhbmNlKFxuICAgICAgdGhpcy5yb290UGFnZUJveEluc3RhbmNlLFxuICAgICk7XG5cbiAgICAvLyBEbyB0aGUgc2FtZSBpbml0aWFsaXphdGlvbiBhcyBpbiBPcHMuU3R5bGVJbnN0YW5jZS5wcm90b3R5cGUuaW5pdFxuICAgIHBhZ2VNYXN0ZXJJbnN0YW5jZS5hcHBseUNhc2NhZGVBbmRJbml0KFxuICAgICAgdGhpcy5jYXNjYWRlSW5zdGFuY2UsXG4gICAgICB0aGlzLmRvY0VsZW1lbnRTdHlsZSxcbiAgICApO1xuICAgIHBhZ2VNYXN0ZXJJbnN0YW5jZS5yZXNvbHZlQXV0b1NpemluZyh0aGlzLmNvbnRleHQpO1xuICAgIHJldHVybiBwYWdlTWFzdGVySW5zdGFuY2U7XG4gIH1cblxuICAvKipcbiAgICogQ2FzY2FkZSBzb21lIHByb3BlcnRpZXMgZnJvbSBgQHBhZ2VgIHJ1bGVzIHRvIGEgcGFnZSBtYXN0ZXIuXG4gICAqIEZvciBub3csIG9ubHkgJ3dpZHRoJyBhbmQgJ2hlaWdodCcgcmVzb2x2ZWQgZnJvbSAnc2l6ZScgdmFsdWUgYXJlIGNhc2NhZGVkLlxuICAgKiBAcGFyYW0gc3R5bGUgQ2FzY2FkZWQgc3R5bGUgaW4gdGhlIHBhZ2UgY29udGV4dFxuICAgKiBAcGFyYW0gcGFnZU1hc3RlciBUaGUgb3JpZ2luYWwgcGFnZSBtYXN0ZXJcbiAgICovXG4gIHByaXZhdGUgZ2VuZXJhdGVDYXNjYWRlZFBhZ2VNYXN0ZXIoXG4gICAgc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIHBhZ2VNYXN0ZXI6IFBhZ2VNYXN0ZXIuUGFnZU1hc3RlcixcbiAgKTogUGFnZU1hc3Rlci5QYWdlTWFzdGVySW5zdGFuY2Uge1xuICAgIGNvbnN0IG5ld1BhZ2VNYXN0ZXIgPSBwYWdlTWFzdGVyLmNsb25lKHtcbiAgICAgIHBzZXVkb05hbWU6IHBhZ2VSdWxlTWFzdGVyUHNldWRvTmFtZSxcbiAgICB9KTtcbiAgICBjb25zdCBwYWdlTWFzdGVyU3R5bGUgPSBuZXdQYWdlTWFzdGVyLnNwZWNpZmllZDtcbiAgICBjb25zdCBzaXplID0gc3R5bGVbXCJzaXplXCJdO1xuICAgIGlmIChzaXplKSB7XG4gICAgICBjb25zdCBwYWdlU2l6ZSA9IHJlc29sdmVQYWdlU2l6ZUFuZEJsZWVkKHN0eWxlIGFzIGFueSk7XG4gICAgICBjb25zdCBwcmlvcml0eSA9IHNpemUucHJpb3JpdHk7XG4gICAgICBwYWdlTWFzdGVyU3R5bGVbXCJ3aWR0aFwiXSA9IENzc0Nhc2NhZGUuY2FzY2FkZVZhbHVlcyhcbiAgICAgICAgdGhpcy5jb250ZXh0LFxuICAgICAgICBwYWdlTWFzdGVyU3R5bGVbXCJ3aWR0aFwiXSxcbiAgICAgICAgbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKHBhZ2VTaXplLndpZHRoLCBwcmlvcml0eSksXG4gICAgICApO1xuICAgICAgcGFnZU1hc3RlclN0eWxlW1wiaGVpZ2h0XCJdID0gQ3NzQ2FzY2FkZS5jYXNjYWRlVmFsdWVzKFxuICAgICAgICB0aGlzLmNvbnRleHQsXG4gICAgICAgIHBhZ2VNYXN0ZXJTdHlsZVtcImhlaWdodFwiXSxcbiAgICAgICAgbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKHBhZ2VTaXplLmhlaWdodCwgcHJpb3JpdHkpLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBUcmFuc2ZlciBjb3VudGVyIHByb3BlcnRpZXMgdG8gdGhlIHBhZ2Ugc3R5bGUgc28gdGhhdCB0aGVzZSBzcGVjaWZpZWQgaW5cbiAgICAvLyB0aGUgcGFnZSBtYXN0ZXIgYXJlIGFsc28gZWZmZWN0aXZlLiBOb3RlIHRoYXQgdGhlc2UgdmFsdWVzIChpZiBzcGVjaWZpZWQpXG4gICAgLy8gYWx3YXlzIG92ZXJyaWRlIHZhbHVlcyBpbiBwYWdlIGNvbnRleHRzLlxuICAgIFtcImNvdW50ZXItcmVzZXRcIiwgXCJjb3VudGVyLWluY3JlbWVudFwiXS5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgICBpZiAocGFnZU1hc3RlclN0eWxlW25hbWVdKSB7XG4gICAgICAgIHN0eWxlW25hbWVdID0gcGFnZU1hc3RlclN0eWxlW25hbWVdO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHBhZ2VNYXN0ZXJJbnN0YW5jZSA9IG5ld1BhZ2VNYXN0ZXIuY3JlYXRlSW5zdGFuY2UoXG4gICAgICB0aGlzLnJvb3RQYWdlQm94SW5zdGFuY2UsXG4gICAgKSBhcyBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXJJbnN0YW5jZTtcblxuICAgIC8vIERvIHRoZSBzYW1lIGluaXRpYWxpemF0aW9uIGFzIGluIE9wcy5TdHlsZUluc3RhbmNlLnByb3RvdHlwZS5pbml0XG4gICAgcGFnZU1hc3Rlckluc3RhbmNlLmFwcGx5Q2FzY2FkZUFuZEluaXQoXG4gICAgICB0aGlzLmNhc2NhZGVJbnN0YW5jZSxcbiAgICAgIHRoaXMuZG9jRWxlbWVudFN0eWxlLFxuICAgICk7XG4gICAgcGFnZU1hc3Rlckluc3RhbmNlLnJlc29sdmVBdXRvU2l6aW5nKHRoaXMuY29udGV4dCk7XG4gICAgcmV0dXJuIHBhZ2VNYXN0ZXJJbnN0YW5jZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tQYWdlVHlwZUFjdGlvbiBleHRlbmRzIENzc0Nhc2NhZGUuQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBwYWdlVHlwZTogc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ3NzQ2FzY2FkZS5DYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRQYWdlVHlwZSA9PT0gdGhpcy5wYWdlVHlwZSkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gMztcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG1ha2VQcmltYXJ5KGNhc2NhZGU6IENzc0Nhc2NhZGUuQ2FzY2FkZSk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmNoYWluZWQpIHtcbiAgICAgIGNhc2NhZGUuaW5zZXJ0SW5UYWJsZShjYXNjYWRlLnBhZ2V0eXBlcywgdGhpcy5wYWdlVHlwZSwgdGhpcy5jaGFpbmVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzRmlyc3RQYWdlQWN0aW9uIGV4dGVuZHMgQ3NzQ2FzY2FkZS5DaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNvbnN0IHBhZ2VOdW1iZXIgPSBuZXcgRXhwcnMuTmFtZWQodGhpcy5zY29wZSwgXCJwYWdlLW51bWJlclwiKTtcbiAgICBpZiAocGFnZU51bWJlci5ldmFsdWF0ZShjYXNjYWRlSW5zdGFuY2UuY29udGV4dCkgPT09IDEpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDI7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzTGVmdFBhZ2VBY3Rpb24gZXh0ZW5kcyBDc3NDYXNjYWRlLkNoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENzc0Nhc2NhZGUuQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgY29uc3QgbGVmdFBhZ2UgPSBuZXcgRXhwcnMuTmFtZWQodGhpcy5zY29wZSwgXCJsZWZ0LXBhZ2VcIik7XG4gICAgaWYgKGxlZnRQYWdlLmV2YWx1YXRlKGNhc2NhZGVJbnN0YW5jZS5jb250ZXh0KSkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gMTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNSaWdodFBhZ2VBY3Rpb24gZXh0ZW5kcyBDc3NDYXNjYWRlLkNoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENzc0Nhc2NhZGUuQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgY29uc3QgcmlnaHRQYWdlID0gbmV3IEV4cHJzLk5hbWVkKHRoaXMuc2NvcGUsIFwicmlnaHQtcGFnZVwiKTtcbiAgICBpZiAocmlnaHRQYWdlLmV2YWx1YXRlKGNhc2NhZGVJbnN0YW5jZS5jb250ZXh0KSkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gMTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNSZWN0b1BhZ2VBY3Rpb24gZXh0ZW5kcyBDc3NDYXNjYWRlLkNoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENzc0Nhc2NhZGUuQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgY29uc3QgcmVjdG9QYWdlID0gbmV3IEV4cHJzLk5hbWVkKHRoaXMuc2NvcGUsIFwicmVjdG8tcGFnZVwiKTtcbiAgICBpZiAocmVjdG9QYWdlLmV2YWx1YXRlKGNhc2NhZGVJbnN0YW5jZS5jb250ZXh0KSkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gMTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNWZXJzb1BhZ2VBY3Rpb24gZXh0ZW5kcyBDc3NDYXNjYWRlLkNoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENzc0Nhc2NhZGUuQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgY29uc3QgdmVyc29QYWdlID0gbmV3IEV4cHJzLk5hbWVkKHRoaXMuc2NvcGUsIFwidmVyc28tcGFnZVwiKTtcbiAgICBpZiAodmVyc29QYWdlLmV2YWx1YXRlKGNhc2NhZGVJbnN0YW5jZS5jb250ZXh0KSkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gMTtcbiAgfVxufVxuXG4vKipcbiAqIEFjdGlvbiBhcHBseWluZyBhbiBhdC1wYWdlIHJ1bGVcbiAqL1xuZXhwb3J0IGNsYXNzIEFwcGx5UGFnZVJ1bGVBY3Rpb24gZXh0ZW5kcyBDc3NDYXNjYWRlLkFwcGx5UnVsZUFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSwgc3BlY2lmaWNpdHk6IG51bWJlcikge1xuICAgIHN1cGVyKHN0eWxlLCBzcGVjaWZpY2l0eSwgbnVsbCwgbnVsbCwgbnVsbCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENzc0Nhc2NhZGUuQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgbWVyZ2VJblBhZ2VSdWxlKFxuICAgICAgY2FzY2FkZUluc3RhbmNlLmNvbnRleHQsXG4gICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudFN0eWxlLFxuICAgICAgdGhpcy5zdHlsZSxcbiAgICAgIHRoaXMuc3BlY2lmaWNpdHksXG4gICAgICBjYXNjYWRlSW5zdGFuY2UsXG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIE1lcmdlIHBhZ2Ugc3R5bGVzLCBpbmNsdWRpbmcgc3R5bGVzIHNwZWNpZmllZCBvbiBwYWdlLW1hcmdpbiBib3hlcyxcbiAqIGNvbnNpZGVyaW5nIHNwZWNpZmljaXR5LiBJbnRlbmRlZCB0byBiZSB1c2VkIGluIHBsYWNlIG9mXG4gKiBDc3NDYXNjYWRlLm1lcmdlSW4sIHdoaWNoIGlzIGZvciBlbGVtZW50IHN0eWxlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlSW5QYWdlUnVsZShcbiAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgdGFyZ2V0OiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICBzcGVjaWZpY2l0eTogbnVtYmVyLFxuICBjYXNjYWRlSW5zdGFuY2U6IENzc0Nhc2NhZGUuQ2FzY2FkZUluc3RhbmNlLFxuKTogdm9pZCB7XG4gIENzc0Nhc2NhZGUubWVyZ2VJbihjb250ZXh0LCB0YXJnZXQsIHN0eWxlLCBzcGVjaWZpY2l0eSwgbnVsbCwgbnVsbCwgbnVsbCk7XG4gIGNvbnN0IG1hcmdpbkJveGVzID0gc3R5bGVbbWFyZ2luQm94ZXNLZXldO1xuICBpZiAobWFyZ2luQm94ZXMpIHtcbiAgICBjb25zdCB0YXJnZXRNYXAgPSBDc3NDYXNjYWRlLmdldE11dGFibGVTdHlsZU1hcCh0YXJnZXQsIG1hcmdpbkJveGVzS2V5KTtcbiAgICBmb3IgKGNvbnN0IGJveE5hbWUgaW4gbWFyZ2luQm94ZXMpIHtcbiAgICAgIGlmIChtYXJnaW5Cb3hlcy5oYXNPd25Qcm9wZXJ0eShib3hOYW1lKSkge1xuICAgICAgICBsZXQgdGFyZ2V0Qm94ID0gdGFyZ2V0TWFwW2JveE5hbWVdO1xuICAgICAgICBpZiAoIXRhcmdldEJveCkge1xuICAgICAgICAgIHRhcmdldEJveCA9IHt9IGFzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuICAgICAgICAgIHRhcmdldE1hcFtib3hOYW1lXSA9IHRhcmdldEJveDtcbiAgICAgICAgfVxuICAgICAgICBDc3NDYXNjYWRlLm1lcmdlSW4oXG4gICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICB0YXJnZXRCb3gsXG4gICAgICAgICAgbWFyZ2luQm94ZXNbYm94TmFtZV0sXG4gICAgICAgICAgc3BlY2lmaWNpdHksXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUGFyc2VySGFuZGxlciBmb3IgYEBwYWdlYCBydWxlcy4gSXQgaGFuZGxlcyBwcm9wZXJ0aWVzIHNwZWNpZmllZCB3aXRoIHBhZ2VcbiAqIGNvbnRleHRzLiBJdCBhbHNvIGRvZXMgYmFzaWMgY2FzY2FkaW5nICh3aGljaCBjYW4gYmUgZG9uZSB3aXRob3V0IGluZm9ybWF0aW9uXG4gKiBvdGhlciB0aGFuIHRoZSBwYWdlIHJ1bGVzIHRoZW1zZWx2ZXMpIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiBgcGFnZVByb3BzYFxuICogb2JqZWN0IGFzIGEgbWFwIGZyb20gcGFnZSBzZWxlY3RvcnMgdG8gc2V0cyBvZiBwcm9wZXJ0aWVzLiBUaGlzIHJlc3VsdCBpc1xuICogbGF0ZXIgdXNlZCBmb3IgYWRkaW5nIGBAcGFnZWAgcnVsZXMgdG8gdGhlIHJlYWwgRE9NLCB3aGljaCBhcmUgdGhlbiB1c2VkIGJ5XG4gKiB0aGUgUERGIHJlbmRlcmVyIChDaHJvbWl1bSkgdG8gZGV0ZXJtaW5lIHBhZ2Ugc2l6ZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYWdlUGFyc2VySGFuZGxlciBleHRlbmRzIENzc0Nhc2NhZGUuQ2FzY2FkZVBhcnNlckhhbmRsZXJcbiAgaW1wbGVtZW50cyBDc3NWYWxpZGF0b3IuUHJvcGVydHlSZWNlaXZlciB7XG4gIHByaXZhdGUgY3VycmVudFBhZ2VTZWxlY3RvcnM6IHtcbiAgICBzZWxlY3RvcnM6IHN0cmluZ1tdIHwgbnVsbDtcbiAgICBzcGVjaWZpY2l0eTogbnVtYmVyO1xuICB9W10gPSBbXTtcbiAgcHJpdmF0ZSBjdXJyZW50TmFtZWRQYWdlU2VsZWN0b3I6IHN0cmluZyA9IFwiXCI7XG4gIHByaXZhdGUgY3VycmVudFBzZXVkb1BhZ2VDbGFzc1NlbGVjdG9yczogc3RyaW5nW10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIG93bmVyOiBDc3NQYXJzZXIuRGlzcGF0Y2hQYXJzZXJIYW5kbGVyLFxuICAgIHBhcmVudDogQ3NzQ2FzY2FkZS5DYXNjYWRlUGFyc2VySGFuZGxlcixcbiAgICB2YWxpZGF0b3JTZXQ6IENzc1ZhbGlkYXRvci5WYWxpZGF0b3JTZXQsXG4gICAgcHJpdmF0ZSByZWFkb25seSBwYWdlUHJvcHM6IHsgW2tleTogc3RyaW5nXTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUgfSxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG93bmVyLCBudWxsLCBwYXJlbnQsIG51bGwsIHZhbGlkYXRvclNldCwgZmFsc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYWdlUnVsZSgpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXJ0U2VsZWN0b3JSdWxlKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0YWdTZWxlY3Rvcihuczogc3RyaW5nIHwgbnVsbCwgbmFtZTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xuICAgIEFzc2VydHMuYXNzZXJ0KG5hbWUpO1xuICAgIHRoaXMuY3VycmVudE5hbWVkUGFnZVNlbGVjdG9yID0gbmFtZTtcbiAgICBpZiAobmFtZSkge1xuICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja1BhZ2VUeXBlQWN0aW9uKG5hbWUpKTtcbiAgICAgIHRoaXMuc3BlY2lmaWNpdHkgKz0gNjU1MzY7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHNldWRvY2xhc3NTZWxlY3RvcihuYW1lOiBzdHJpbmcsIHBhcmFtczogKG51bWJlciB8IHN0cmluZylbXSk6IHZvaWQge1xuICAgIGlmIChwYXJhbXMpIHtcbiAgICAgIHRoaXMucmVwb3J0QW5kU2tpcChcbiAgICAgICAgYEVfSU5WQUxJRF9QQUdFX1NFTEVDVE9SIDoke25hbWV9KCR7cGFyYW1zLmpvaW4oXCJcIil9KWAsXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRQc2V1ZG9QYWdlQ2xhc3NTZWxlY3RvcnMucHVzaChgOiR7bmFtZX1gKTtcbiAgICBzd2l0Y2ggKG5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgY2FzZSBcImZpcnN0XCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNGaXJzdFBhZ2VBY3Rpb24odGhpcy5zY29wZSkpO1xuICAgICAgICB0aGlzLnNwZWNpZmljaXR5ICs9IDI1NjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzTGVmdFBhZ2VBY3Rpb24odGhpcy5zY29wZSkpO1xuICAgICAgICB0aGlzLnNwZWNpZmljaXR5ICs9IDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNSaWdodFBhZ2VBY3Rpb24odGhpcy5zY29wZSkpO1xuICAgICAgICB0aGlzLnNwZWNpZmljaXR5ICs9IDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJlY3RvXCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNSZWN0b1BhZ2VBY3Rpb24odGhpcy5zY29wZSkpO1xuICAgICAgICB0aGlzLnNwZWNpZmljaXR5ICs9IDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInZlcnNvXCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNWZXJzb1BhZ2VBY3Rpb24odGhpcy5zY29wZSkpO1xuICAgICAgICB0aGlzLnNwZWNpZmljaXR5ICs9IDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5yZXBvcnRBbmRTa2lwKGBFX0lOVkFMSURfUEFHRV9TRUxFQ1RPUiA6JHtuYW1lfWApO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSBjdXJyZW50bHkgcHJvY2Vzc2VkIHNlbGVjdG9yIGFuZCByZXNldCB2YXJpYWJsZXMuXG4gICAqL1xuICBwcml2YXRlIGZpbmlzaFNlbGVjdG9yKCkge1xuICAgIGxldCBzZWxlY3RvcnM6IHN0cmluZ1tdO1xuICAgIGlmIChcbiAgICAgICF0aGlzLmN1cnJlbnROYW1lZFBhZ2VTZWxlY3RvciAmJlxuICAgICAgIXRoaXMuY3VycmVudFBzZXVkb1BhZ2VDbGFzc1NlbGVjdG9ycy5sZW5ndGhcbiAgICApIHtcbiAgICAgIHNlbGVjdG9ycyA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGVjdG9ycyA9IFt0aGlzLmN1cnJlbnROYW1lZFBhZ2VTZWxlY3Rvcl0uY29uY2F0KFxuICAgICAgICB0aGlzLmN1cnJlbnRQc2V1ZG9QYWdlQ2xhc3NTZWxlY3RvcnMuc29ydCgpLFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50UGFnZVNlbGVjdG9ycy5wdXNoKHtcbiAgICAgIHNlbGVjdG9ycyxcbiAgICAgIHNwZWNpZmljaXR5OiB0aGlzLnNwZWNpZmljaXR5LFxuICAgIH0pO1xuICAgIHRoaXMuY3VycmVudE5hbWVkUGFnZVNlbGVjdG9yID0gXCJcIjtcbiAgICB0aGlzLmN1cnJlbnRQc2V1ZG9QYWdlQ2xhc3NTZWxlY3RvcnMgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG5leHRTZWxlY3RvcigpOiB2b2lkIHtcbiAgICB0aGlzLmZpbmlzaFNlbGVjdG9yKCk7XG4gICAgc3VwZXIubmV4dFNlbGVjdG9yKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFJ1bGVCb2R5KCk6IHZvaWQge1xuICAgIHRoaXMuZmluaXNoU2VsZWN0b3IoKTtcbiAgICBzdXBlci5zdGFydFJ1bGVCb2R5KCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzaW1wbGVQcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQpOiB2b2lkIHtcbiAgICAvLyB3ZSBsaW1pdCAnYmxlZWQnIGFuZCAnbWFya3MnIHRvIGJlIGVmZmVjdGl2ZSBvbmx5IHdoZW4gc3BlY2lmaWVkIHdpdGhvdXRcbiAgICAvLyBwYWdlIHNlbGVjdG9yc1xuICAgIGlmIChcbiAgICAgIChuYW1lID09PSBcImJsZWVkXCIgfHwgbmFtZSA9PT0gXCJtYXJrc1wiKSAmJlxuICAgICAgIXRoaXMuY3VycmVudFBhZ2VTZWxlY3RvcnMuc29tZSgocykgPT4gcy5zZWxlY3RvcnMgPT09IG51bGwpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN1cGVyLnNpbXBsZVByb3BlcnR5KG5hbWUsIHZhbHVlLCBpbXBvcnRhbnQpO1xuICAgIGNvbnN0IGNhc2NWYWwgPSBDc3NDYXNjYWRlLmdldFByb3AodGhpcy5lbGVtZW50U3R5bGUsIG5hbWUpO1xuICAgIGNvbnN0IHBhZ2VQcm9wcyA9IHRoaXMucGFnZVByb3BzO1xuICAgIGlmIChuYW1lID09PSBcImJsZWVkXCIgfHwgbmFtZSA9PT0gXCJtYXJrc1wiKSB7XG4gICAgICBpZiAoIXBhZ2VQcm9wc1tcIlwiXSkge1xuICAgICAgICBwYWdlUHJvcHNbXCJcIl0gPSB7fSBhcyBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgICAgIH1cblxuICAgICAgLy8gd2UgY2FuIHNpbXBseSBvdmVyd3JpdGUgd2l0aG91dCBjb25zaWRlcmluZyBzcGVjaWZpY2l0eVxuICAgICAgLy8gc2luY2UgJ2JsZWVkJyBhbmQgJ21hcmtzJyBhbHdheXMgY29tZSBmcm9tIGEgcGFnZSBydWxlIHdpdGhvdXQgcGFnZVxuICAgICAgLy8gc2VsZWN0b3JzLlxuICAgICAgT2JqZWN0LmtleXMocGFnZVByb3BzKS5mb3JFYWNoKChzZWxlY3RvcikgPT4ge1xuICAgICAgICBDc3NDYXNjYWRlLnNldFByb3AocGFnZVByb3BzW3NlbGVjdG9yXSwgbmFtZSwgY2FzY1ZhbCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKG5hbWUgPT09IFwic2l6ZVwiKSB7XG4gICAgICBjb25zdCBub1BhZ2VTZWxlY3RvclByb3BzID0gcGFnZVByb3BzW1wiXCJdO1xuICAgICAgdGhpcy5jdXJyZW50UGFnZVNlbGVjdG9ycy5mb3JFYWNoKChzKSA9PiB7XG4gICAgICAgIC8vIHVwZGF0ZSBzcGVjaWZpY2l0eSB0byByZWZsZWN0IHRoZSBzcGVjaWZpY2l0eSBvZiB0aGUgc2VsZWN0b3JcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShcbiAgICAgICAgICBjYXNjVmFsLnZhbHVlLFxuICAgICAgICAgIGNhc2NWYWwucHJpb3JpdHkgKyBzLnNwZWNpZmljaXR5LFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBzZWxlY3RvciA9IHMuc2VsZWN0b3JzID8gcy5zZWxlY3RvcnMuam9pbihcIlwiKSA6IFwiXCI7XG4gICAgICAgIGxldCBwcm9wcyA9IHBhZ2VQcm9wc1tzZWxlY3Rvcl07XG4gICAgICAgIGlmICghcHJvcHMpIHtcbiAgICAgICAgICAvLyBzaW5jZSBubyBwcm9wZXJ0aWVzIGZvciB0aGlzIHNlbGVjdG9yIGhhdmUgYmVlbiBzdG9yZWQgYmVmb3JlLFxuICAgICAgICAgIC8vIHdlIGNhbiBzaW1wbHkgc2V0IHRoZSAnc2l6ZScsICdibGVlZCcgYW5kICdtYXJrcycgcHJvcGVydGllcy5cbiAgICAgICAgICBwcm9wcyA9IHBhZ2VQcm9wc1tzZWxlY3Rvcl0gPSB7fSBhcyBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgICAgICAgICBDc3NDYXNjYWRlLnNldFByb3AocHJvcHMsIG5hbWUsIHJlc3VsdCk7XG4gICAgICAgICAgaWYgKG5vUGFnZVNlbGVjdG9yUHJvcHMpIHtcbiAgICAgICAgICAgIFtcImJsZWVkXCIsIFwibWFya3NcIl0uZm9yRWFjaCgobikgPT4ge1xuICAgICAgICAgICAgICBpZiAobm9QYWdlU2VsZWN0b3JQcm9wc1tuXSkge1xuICAgICAgICAgICAgICAgIENzc0Nhc2NhZGUuc2V0UHJvcChwcm9wcywgbiwgbm9QYWdlU2VsZWN0b3JQcm9wc1tuXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBjb25zaWRlciBzcGVjaWZpY2l0eSB3aGVuIHNldHRpbmcgJ3NpemUnIHByb3BlcnR5LlxuICAgICAgICAgIC8vIHdlIGRvbid0IGhhdmUgdG8gc2V0ICdibGVlZCcgYW5kICdtYXJrcycgc2luY2UgdGhleSBzaG91bGQgaGF2ZVxuICAgICAgICAgIC8vIGJlZW4gYWxyZWFkeSB1cGRhdGVkLlxuICAgICAgICAgIGNvbnN0IHByZXZDYXNjVmFsID0gQ3NzQ2FzY2FkZS5nZXRQcm9wKHByb3BzLCBuYW1lKTtcbiAgICAgICAgICByZXN1bHQgPSBwcmV2Q2FzY1ZhbFxuICAgICAgICAgICAgPyBDc3NDYXNjYWRlLmNhc2NhZGVWYWx1ZXMobnVsbCwgcmVzdWx0LCBwcmV2Q2FzY1ZhbClcbiAgICAgICAgICAgIDogcmVzdWx0O1xuICAgICAgICAgIENzc0Nhc2NhZGUuc2V0UHJvcChwcm9wcywgbmFtZSwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaW5zZXJ0Tm9uUHJpbWFyeShhY3Rpb246IENzc0Nhc2NhZGUuQ2FzY2FkZUFjdGlvbik6IHZvaWQge1xuICAgIC8vIFdlIHJlcHJlc2VudCBwYWdlIHJ1bGVzIHdpdGhvdXQgc2VsZWN0b3JzIGJ5ICosIHRob3VnaCBpdCBpcyBpbGxlZ2FsIGluXG4gICAgLy8gQ1NTXG4gICAgdGhpcy5jYXNjYWRlLmluc2VydEluVGFibGUodGhpcy5jYXNjYWRlLnBhZ2V0eXBlcywgXCIqXCIsIGFjdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBtYWtlQXBwbHlSdWxlQWN0aW9uKHNwZWNpZmljaXR5OiBudW1iZXIpOiBDc3NDYXNjYWRlLkFwcGx5UnVsZUFjdGlvbiB7XG4gICAgcmV0dXJuIG5ldyBBcHBseVBhZ2VSdWxlQWN0aW9uKHRoaXMuZWxlbWVudFN0eWxlLCBzcGVjaWZpY2l0eSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhZ2VNYXJnaW5Cb3hSdWxlKG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IG1hcmdpbkJveE1hcCA9IENzc0Nhc2NhZGUuZ2V0TXV0YWJsZVN0eWxlTWFwKFxuICAgICAgdGhpcy5lbGVtZW50U3R5bGUsXG4gICAgICBtYXJnaW5Cb3hlc0tleSxcbiAgICApO1xuICAgIGxldCBib3hTdHlsZSA9IG1hcmdpbkJveE1hcFtuYW1lXTtcbiAgICBpZiAoIWJveFN0eWxlKSB7XG4gICAgICBib3hTdHlsZSA9IHt9IGFzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuICAgICAgbWFyZ2luQm94TWFwW25hbWVdID0gYm94U3R5bGU7XG4gICAgfVxuICAgIGNvbnN0IGhhbmRsZXIgPSBuZXcgUGFnZU1hcmdpbkJveFBhcnNlckhhbmRsZXIoXG4gICAgICB0aGlzLnNjb3BlLFxuICAgICAgdGhpcy5vd25lcixcbiAgICAgIHRoaXMudmFsaWRhdG9yU2V0LFxuICAgICAgYm94U3R5bGUsXG4gICAgKTtcbiAgICB0aGlzLm93bmVyLnB1c2hIYW5kbGVyKGhhbmRsZXIpO1xuICB9XG59XG5cbi8qKlxuICogUGFyc2VyIGhhbmRsZXIgZm9yIGEgcGFnZS1tYXJnaW4gYm94IHJ1bGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYWdlTWFyZ2luQm94UGFyc2VySGFuZGxlciBleHRlbmRzIENzc1BhcnNlci5TbGF2ZVBhcnNlckhhbmRsZXJcbiAgaW1wbGVtZW50cyBDc3NWYWxpZGF0b3IuUHJvcGVydHlSZWNlaXZlciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgb3duZXI6IENzc1BhcnNlci5EaXNwYXRjaFBhcnNlckhhbmRsZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbGlkYXRvclNldDogQ3NzVmFsaWRhdG9yLlZhbGlkYXRvclNldCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgYm94U3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICApIHtcbiAgICBzdXBlcihzY29wZSwgb3duZXIsIGZhbHNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwsIGltcG9ydGFudDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMudmFsaWRhdG9yU2V0LnZhbGlkYXRlUHJvcGVydHlBbmRIYW5kbGVTaG9ydGhhbmQoXG4gICAgICBuYW1lLFxuICAgICAgdmFsdWUsXG4gICAgICBpbXBvcnRhbnQsXG4gICAgICB0aGlzLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpbnZhbGlkUHJvcGVydHlWYWx1ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnQoYEVfSU5WQUxJRF9QUk9QRVJUWV9WQUxVRSAke25hbWV9OiAke3ZhbHVlLnRvU3RyaW5nKCl9YCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB1bmtub3duUHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0KGBFX0lOVkFMSURfUFJPUEVSVFkgJHtuYW1lfTogJHt2YWx1ZS50b1N0cmluZygpfWApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2ltcGxlUHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50KTogdm9pZCB7XG4gICAgY29uc3Qgc3BlY2lmaWNpdHkgPSBpbXBvcnRhbnRcbiAgICAgID8gdGhpcy5nZXRJbXBvcnRhbnRTcGVjaWZpY2l0eSgpXG4gICAgICA6IHRoaXMuZ2V0QmFzZVNwZWNpZmljaXR5KCk7XG4gICAgY29uc3QgY2FzY3ZhbCA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZSh2YWx1ZSwgc3BlY2lmaWNpdHkpO1xuICAgIENzc0Nhc2NhZGUuc2V0UHJvcCh0aGlzLmJveFN0eWxlLCBuYW1lLCBjYXNjdmFsKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgVXJscyAtIFVSTCBVdGlsaXRpZXNcbiAqL1xuXG4vKipcbiAqIHRyYW5zZm9ybSBhbGwgdXJscyBpbiBhdHRyaWJ1dGVWYWx1ZSB1c2luZyBkb2N1bWVudFVSTFRyYW5zZm9ybWVyLlxuICpcbiAqIEByZXR1cm5zIHRyYW5zZm9ybWVkIGF0dHJpYnV0ZVZhbHVlXG4gKi9cblxuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybVVSSXMgPSAoXG4gIGF0dHJpYnV0ZVZhbHVlLFxuICBiYXNlVXJsLFxuICBkb2N1bWVudFVSTFRyYW5zZm9ybWVyLFxuKSA9PlxuICBhdHRyaWJ1dGVWYWx1ZVxuICAgIC5yZXBsYWNlKFxuICAgICAgL1t1VV1bclJdW2xMXVxcKFxccypcIigoXFxcXChbXjAtOWEtZkEtRl0rfFswLTlhLWZBLUZdK1xccyopfFteXCJcXHJcXG5dKSspXCIvZ20sXG4gICAgICAobWF0Y2gsIG0xKSA9PlxuICAgICAgICBgdXJsKFwiJHtkb2N1bWVudFVSTFRyYW5zZm9ybWVyLnRyYW5zZm9ybVVSTChtMSwgYmFzZVVybCl9XCJgLFxuICAgIClcbiAgICAucmVwbGFjZShcbiAgICAgIC9bdVVdW3JSXVtsTF1cXChcXHMqJygoXFxcXChbXjAtOWEtZkEtRl0rfFswLTlhLWZBLUZdK1xccyopfFteJ1xcclxcbl0pKyknL2dtLFxuICAgICAgKG1hdGNoLCBtMSkgPT5cbiAgICAgICAgYHVybCgnJHtkb2N1bWVudFVSTFRyYW5zZm9ybWVyLnRyYW5zZm9ybVVSTChtMSwgYmFzZVVybCl9J2AsXG4gICAgKVxuICAgIC5yZXBsYWNlKFxuICAgICAgL1t1VV1bclJdW2xMXVxcKFxccyooKFxcXFwoW14wLTlhLWZBLUZdK3xbMC05YS1mQS1GXStcXHMqKXxbXlwiJ1xcclxcblxcKVxcc10pKykvZ20sXG4gICAgICAobWF0Y2gsIG0xKSA9PiBgdXJsKCR7ZG9jdW1lbnRVUkxUcmFuc2Zvcm1lci50cmFuc2Zvcm1VUkwobTEsIGJhc2VVcmwpfWAsXG4gICAgKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgVmdlbiAtIFZpZXcgdHJlZSBnZW5lcmF0b3IuXG4gKi9cbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBDc3NDYXNjYWRlIGZyb20gXCIuL2Nzcy1jYXNjYWRlXCI7XG5pbXBvcnQgKiBhcyBDc3NQcm9wIGZyb20gXCIuL2Nzcy1wcm9wXCI7XG5pbXBvcnQgKiBhcyBDc3NTdHlsZXIgZnJvbSBcIi4vY3NzLXN0eWxlclwiO1xuaW1wb3J0ICogYXMgRGlmZiBmcm9tIFwiLi9kaWZmXCI7XG5pbXBvcnQgKiBhcyBEaXNwbGF5IGZyb20gXCIuL2Rpc3BsYXlcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBGb250IGZyb20gXCIuL2ZvbnRcIjtcbmltcG9ydCAqIGFzIE1hdGNoZXJzIGZyb20gXCIuL21hdGNoZXJzXCI7XG5pbXBvcnQgKiBhcyBQYWdlRmxvYXRzIGZyb20gXCIuL3BhZ2UtZmxvYXRzXCI7XG5pbXBvcnQgKiBhcyBQbHVnaW4gZnJvbSBcIi4vcGx1Z2luXCI7XG5pbXBvcnQgKiBhcyBQc2V1ZG9FbGVtZW50IGZyb20gXCIuL3BzZXVkby1lbGVtZW50XCI7XG5pbXBvcnQgKiBhcyBSZXBldGl0aXZlRWxlbWVudCBmcm9tIFwiLi9yZXBldGl0aXZlLWVsZW1lbnRcIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0ICogYXMgVGFza1V0aWwgZnJvbSBcIi4vdGFzay11dGlsXCI7XG5pbXBvcnQgKiBhcyBVcmxzIGZyb20gXCIuL3VybHNcIjtcbmltcG9ydCAqIGFzIFZ0cmVlIGZyb20gXCIuL3Z0cmVlXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXQgZnJvbSBcIi4vbGF5b3V0XCI7XG5pbXBvcnQgeyBYbWxEb2MgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5jb25zdCBuYW1lc3BhY2VQcmVmaXhNYXAgPSB7fTtcblxuZXhwb3J0IGNvbnN0IGZyb250RWRnZUJsYWNrTGlzdEhvcjogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHtcbiAgXCJ0ZXh0LWluZGVudFwiOiBcIjBweFwiLFxuICBcIm1hcmdpbi10b3BcIjogXCIwcHhcIixcbiAgXCJwYWRkaW5nLXRvcFwiOiBcIjBweFwiLFxuICBcImJvcmRlci10b3Atd2lkdGhcIjogXCIwcHhcIixcbiAgXCJib3JkZXItdG9wLXN0eWxlXCI6IFwibm9uZVwiLFxuICBcImJvcmRlci10b3AtY29sb3JcIjogXCJ0cmFuc3BhcmVudFwiLFxuICBcImJvcmRlci10b3AtbGVmdC1yYWRpdXNcIjogXCIwcHhcIixcbiAgXCJib3JkZXItdG9wLXJpZ2h0LXJhZGl1c1wiOiBcIjBweFwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGZyb250RWRnZUJsYWNrTGlzdFZlcnQ6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG4gIFwidGV4dC1pbmRlbnRcIjogXCIwcHhcIixcbiAgXCJtYXJnaW4tcmlnaHRcIjogXCIwcHhcIixcbiAgXCJwYWRkaW5nLXJpZ2h0XCI6IFwiMHB4XCIsXG4gIFwiYm9yZGVyLXJpZ2h0LXdpZHRoXCI6IFwiMHB4XCIsXG4gIFwiYm9yZGVyLXJpZ2h0LXN0eWxlXCI6IFwibm9uZVwiLFxuICBcImJvcmRlci1yaWdodC1jb2xvclwiOiBcInRyYW5zcGFyZW50XCIsXG4gIFwiYm9yZGVyLXRvcC1yaWdodC1yYWRpdXNcIjogXCIwcHhcIixcbiAgXCJib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1c1wiOiBcIjBweFwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGZyb250RWRnZVVuZm9yY2VkQnJlYWtCbGFja0xpc3RIb3I6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG4gIFwibWFyZ2luLXRvcFwiOiBcIjBweFwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGZyb250RWRnZVVuZm9yY2VkQnJlYWtCbGFja0xpc3RWZXJ0OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xuICBcIm1hcmdpbi1yaWdodFwiOiBcIjBweFwiLFxufTtcblxuZXhwb3J0IHR5cGUgQ3VzdG9tUmVuZGVyZXIgPSAoXG4gIHAxOiBFbGVtZW50LFxuICBwMjogRWxlbWVudCxcbiAgcDM6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9LFxuKSA9PiBUYXNrLlJlc3VsdDxFbGVtZW50PjtcblxuZXhwb3J0IGludGVyZmFjZSBDdXN0b21SZW5kZXJlckZhY3Rvcnkge1xuICBtYWtlQ3VzdG9tUmVuZGVyZXIoeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKTogQ3VzdG9tUmVuZGVyZXI7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBlcHViUmVhZGluZ1N5c3RlbSBvYmplY3QgaW4gdGhlIGlmcmFtZS5jb250ZW50V2luZG93Lm5hdmlnYXRvclxuICogd2hlbiBsb2FkIGV2ZW50IGZpcmVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdElGcmFtZShpZnJhbWU6IEhUTUxJRnJhbWVFbGVtZW50KTogdm9pZCB7XG4gIGlmcmFtZS5hZGRFdmVudExpc3RlbmVyKFxuICAgIFwibG9hZFwiLFxuICAgICgpID0+IHtcbiAgICAgIGlmcmFtZS5jb250ZW50V2luZG93Lm5hdmlnYXRvcltcImVwdWJSZWFkaW5nU3lzdGVtXCJdID0ge1xuICAgICAgICBuYW1lOiBcImFkYXB0XCIsXG4gICAgICAgIHZlcnNpb246IFwiMC4xXCIsXG4gICAgICAgIGxheW91dFN0eWxlOiBcInBhZ2luYXRlZFwiLFxuICAgICAgICBoYXNGZWF0dXJlOiBmdW5jdGlvbihuYW1lLCB2ZXJzaW9uKSB7XG4gICAgICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgICAgICBjYXNlIFwibW91c2UtZXZlbnRzXCI6XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH0sXG4gICAgZmFsc2UsXG4gICk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3R5bGVyUHJvZHVjZXIge1xuICBnZXRTdHlsZXJGb3JEb2MoeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKTogQ3NzU3R5bGVyLkFic3RyYWN0U3R5bGVyO1xufVxuXG5leHBvcnQgY2xhc3MgVmlld0ZhY3RvcnkgZXh0ZW5kcyBCYXNlLlNpbXBsZUV2ZW50VGFyZ2V0XG4gIGltcGxlbWVudHMgVnRyZWUuTGF5b3V0Q29udGV4dCB7XG4gIHByaXZhdGUgc3RhdGljIFNWR19VUkxfQVRUUklCVVRFUzogc3RyaW5nW10gPSBbXG4gICAgXCJjb2xvci1wcm9maWxlXCIsXG4gICAgXCJjbGlwLXBhdGhcIixcbiAgICBcImN1cnNvclwiLFxuICAgIFwiZmlsdGVyXCIsXG4gICAgXCJtYXJrZXJcIixcbiAgICBcIm1hcmtlci1zdGFydFwiLFxuICAgIFwibWFya2VyLWVuZFwiLFxuICAgIFwibWFya2VyLW1pZFwiLFxuICAgIFwiZmlsbFwiLFxuICAgIFwic3Ryb2tlXCIsXG4gICAgXCJtYXNrXCIsXG4gIF07XG4gIGRvY3VtZW50OiBEb2N1bWVudDtcbiAgZXhwckNvbnRlbnRMaXN0ZW5lcjogVnRyZWUuRXhwckNvbnRlbnRMaXN0ZW5lcjtcblxuICAvLyBwcm92aWRlZCBieSBsYXlvdXRcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0IHwgbnVsbCA9IG51bGw7XG4gIHZpZXdSb290OiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGlzRm9vdG5vdGU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgc291cmNlTm9kZTogTm9kZSB8IG51bGwgPSBudWxsO1xuICBvZmZzZXRJbk5vZGU6IG51bWJlciA9IDA7XG5cbiAgLy8gY29tcHV0ZWRcbiAgLy8gVE9ETzogb25seSBzZXQgaXQgb24gTm9kZUNvbnRleHRcbiAgdmlld05vZGU6IE5vZGUgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmxvd05hbWU6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmlld3BvcnQ6IFZpZXdwb3J0LFxuICAgIHB1YmxpYyByZWFkb25seSBzdHlsZXI6IENzc1N0eWxlci5TdHlsZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHJlZ2lvbklkczogc3RyaW5nW10sXG4gICAgcHVibGljIHJlYWRvbmx5IHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgZG9jRmFjZXM6IEZvbnQuRG9jdW1lbnRGYWNlcyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9vdG5vdGVTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgcHVibGljIHJlYWRvbmx5IHN0eWxlclByb2R1Y2VyOiBTdHlsZXJQcm9kdWNlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY3VzdG9tUmVuZGVyZXI6IEN1c3RvbVJlbmRlcmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBmYWxsYmFja01hcDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcjogQmFzZS5Eb2N1bWVudFVSTFRyYW5zZm9ybWVyLFxuICApIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZG9jdW1lbnQgPSB2aWV3cG9ydC5kb2N1bWVudDtcbiAgICB0aGlzLmV4cHJDb250ZW50TGlzdGVuZXIgPSBzdHlsZXIuY291bnRlckxpc3RlbmVyLmdldEV4cHJDb250ZW50TGlzdGVuZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNsb25lKCk6IFZ0cmVlLkxheW91dENvbnRleHQge1xuICAgIHJldHVybiBuZXcgVmlld0ZhY3RvcnkoXG4gICAgICB0aGlzLmZsb3dOYW1lLFxuICAgICAgdGhpcy5jb250ZXh0LFxuICAgICAgdGhpcy52aWV3cG9ydCxcbiAgICAgIHRoaXMuc3R5bGVyLFxuICAgICAgdGhpcy5yZWdpb25JZHMsXG4gICAgICB0aGlzLnhtbGRvYyxcbiAgICAgIHRoaXMuZG9jRmFjZXMsXG4gICAgICB0aGlzLmZvb3Rub3RlU3R5bGUsXG4gICAgICB0aGlzLnN0eWxlclByb2R1Y2VyLFxuICAgICAgdGhpcy5wYWdlLFxuICAgICAgdGhpcy5jdXN0b21SZW5kZXJlcixcbiAgICAgIHRoaXMuZmFsbGJhY2tNYXAsXG4gICAgICB0aGlzLmRvY3VtZW50VVJMVHJhbnNmb3JtZXIsXG4gICAgKTtcbiAgfVxuXG4gIGNyZWF0ZVBzZXVkb2VsZW1lbnRTaGFkb3coXG4gICAgZWxlbWVudDogRWxlbWVudCxcbiAgICBpc1Jvb3Q6IGJvb2xlYW4sXG4gICAgY2FzY1N0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBjb21wdXRlZFN0eWxlOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSxcbiAgICBzdHlsZXI6IENzc1N0eWxlci5BYnN0cmFjdFN0eWxlcixcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIHBhcmVudFNoYWRvdzogVnRyZWUuU2hhZG93Q29udGV4dCxcbiAgICBzdWJTaGFkb3c6IFZ0cmVlLlNoYWRvd0NvbnRleHQsXG4gICk6IFZ0cmVlLlNoYWRvd0NvbnRleHQge1xuICAgIGNvbnN0IHBzZXVkb01hcCA9IHRoaXMuZ2V0UHNldWRvTWFwKFxuICAgICAgY2FzY1N0eWxlLFxuICAgICAgdGhpcy5yZWdpb25JZHMsXG4gICAgICB0aGlzLmlzRm9vdG5vdGUsXG4gICAgICB0aGlzLm5vZGVDb250ZXh0LFxuICAgICAgY29udGV4dCxcbiAgICApO1xuICAgIGlmICghcHNldWRvTWFwKSB7XG4gICAgICByZXR1cm4gc3ViU2hhZG93O1xuICAgIH1cbiAgICBjb25zdCBhZGRlZE5hbWVzID0gW107XG4gICAgY29uc3Qgcm9vdCA9IFBzZXVkb0VsZW1lbnQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKEJhc2UuTlMuU0hBRE9XLCBcInJvb3RcIik7XG4gICAgbGV0IGF0dCA9IHJvb3Q7XG4gICAgZm9yIChjb25zdCBuYW1lIG9mIFBzZXVkb0VsZW1lbnQucHNldWRvTmFtZXMpIHtcbiAgICAgIGxldCBlbGVtOiBFbGVtZW50O1xuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgaWYgKCFwc2V1ZG9NYXBbbmFtZV0pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZSA9PSBcImZvb3Rub3RlLW1hcmtlclwiICYmICEoaXNSb290ICYmIHRoaXMuaXNGb290bm90ZSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZS5tYXRjaCgvXmZpcnN0LS8pKSB7XG4gICAgICAgICAgY29uc3QgZGlzcGxheSA9IGNvbXB1dGVkU3R5bGVbXCJkaXNwbGF5XCJdO1xuICAgICAgICAgIGlmICghZGlzcGxheSB8fCBkaXNwbGF5ID09PSBDc3MuaWRlbnQuaW5saW5lKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUgPT09IFwiYmVmb3JlXCIgfHwgbmFtZSA9PT0gXCJhZnRlclwiKSB7XG4gICAgICAgICAgY29uc3QgY29udGVudCA9IHBzZXVkb01hcFtuYW1lXVtcImNvbnRlbnRcIl07XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWNvbnRlbnQgfHxcbiAgICAgICAgICAgIGNvbnRlbnQgPT09IENzcy5pZGVudC5ub3JtYWwgfHxcbiAgICAgICAgICAgIGNvbnRlbnQgPT09IENzcy5pZGVudC5ub25lXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYWRkZWROYW1lcy5wdXNoKG5hbWUpO1xuICAgICAgICBlbGVtID0gUHNldWRvRWxlbWVudC5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoQmFzZS5OUy5YSFRNTCwgXCJzcGFuXCIpO1xuICAgICAgICBQc2V1ZG9FbGVtZW50LnNldFBzZXVkb05hbWUoZWxlbSwgbmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtID0gUHNldWRvRWxlbWVudC5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAgICAgQmFzZS5OUy5TSEFET1csXG4gICAgICAgICAgXCJjb250ZW50XCIsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBhdHQuYXBwZW5kQ2hpbGQoZWxlbSk7XG4gICAgICBpZiAobmFtZS5tYXRjaCgvXmZpcnN0LS8pKSB7XG4gICAgICAgIGF0dCA9IGVsZW07XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghYWRkZWROYW1lcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBzdWJTaGFkb3c7XG4gICAgfVxuICAgIGNvbnN0IHNoYWRvd1N0eWxlciA9IG5ldyBQc2V1ZG9FbGVtZW50LlBzZXVkb2VsZW1lbnRTdHlsZXIoXG4gICAgICBlbGVtZW50LFxuICAgICAgY2FzY1N0eWxlLFxuICAgICAgc3R5bGVyLFxuICAgICAgY29udGV4dCxcbiAgICAgIHRoaXMuZXhwckNvbnRlbnRMaXN0ZW5lcixcbiAgICApO1xuICAgIHJldHVybiBuZXcgVnRyZWUuU2hhZG93Q29udGV4dChcbiAgICAgIGVsZW1lbnQsXG4gICAgICByb290LFxuICAgICAgbnVsbCxcbiAgICAgIHBhcmVudFNoYWRvdyxcbiAgICAgIHN1YlNoYWRvdyxcbiAgICAgIFZ0cmVlLlNoYWRvd1R5cGUuUk9PVExFU1MsXG4gICAgICBzaGFkb3dTdHlsZXIsXG4gICAgKTtcbiAgfVxuXG4gIGdldFBzZXVkb01hcChcbiAgICBjYXNjU3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIHJlZ2lvbklkczogc3RyaW5nW10sXG4gICAgaXNGb290bm90ZTogYm9vbGVhbixcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgKSB7XG4gICAgY29uc3QgcHNldWRvTWFwID0gQ3NzQ2FzY2FkZS5nZXRTdHlsZU1hcChjYXNjU3R5bGUsIFwiX3BzZXVkb3NcIik7XG4gICAgaWYgKCFwc2V1ZG9NYXApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZFBzZXVkb1N0eWxlTWFwID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcHNldWRvTWFwKSB7XG4gICAgICBjb25zdCBjb21wdXRlZFBzZXVkb1N0eWxlID0gKGNvbXB1dGVkUHNldWRvU3R5bGVNYXBba2V5XSA9IHt9KTtcbiAgICAgIENzc0Nhc2NhZGUubWVyZ2VTdHlsZShjb21wdXRlZFBzZXVkb1N0eWxlLCBwc2V1ZG9NYXBba2V5XSwgY29udGV4dCk7XG4gICAgICBDc3NDYXNjYWRlLm1lcmdlVmlld0NvbmRpdGlvbmFsU3R5bGVzKFxuICAgICAgICBjb21wdXRlZFBzZXVkb1N0eWxlLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBwc2V1ZG9NYXBba2V5XSxcbiAgICAgICk7XG4gICAgICBDc3NDYXNjYWRlLmZvckVhY2hTdHlsZXNJblJlZ2lvbihcbiAgICAgICAgcHNldWRvTWFwW2tleV0sXG4gICAgICAgIHJlZ2lvbklkcyxcbiAgICAgICAgaXNGb290bm90ZSxcbiAgICAgICAgKHJlZ2lvbklkLCByZWdpb25TdHlsZSkgPT4ge1xuICAgICAgICAgIENzc0Nhc2NhZGUubWVyZ2VTdHlsZShjb21wdXRlZFBzZXVkb1N0eWxlLCByZWdpb25TdHlsZSwgY29udGV4dCk7XG4gICAgICAgICAgQ3NzQ2FzY2FkZS5mb3JFYWNoVmlld0NvbmRpdGlvbmFsU3R5bGVzKFxuICAgICAgICAgICAgcmVnaW9uU3R5bGUsXG4gICAgICAgICAgICAodmlld0NvbmRpdGlvbmFsU3R5bGVzKSA9PiB7XG4gICAgICAgICAgICAgIENzc0Nhc2NhZGUubWVyZ2VTdHlsZShcbiAgICAgICAgICAgICAgICBjb21wdXRlZFBzZXVkb1N0eWxlLFxuICAgICAgICAgICAgICAgIHZpZXdDb25kaXRpb25hbFN0eWxlcyxcbiAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXB1dGVkUHNldWRvU3R5bGVNYXA7XG4gIH1cblxuICBjcmVhdGVSZWZTaGFkb3coXG4gICAgaHJlZjogc3RyaW5nLFxuICAgIHR5cGU6IFZ0cmVlLlNoYWRvd1R5cGUsXG4gICAgZWxlbWVudDogRWxlbWVudCxcbiAgICBwYXJlbnRTaGFkb3c6IFZ0cmVlLlNoYWRvd0NvbnRleHQsXG4gICAgc3ViU2hhZG93OiBWdHJlZS5TaGFkb3dDb250ZXh0LFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5TaGFkb3dDb250ZXh0PiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuU2hhZG93Q29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJjcmVhdGVSZWZTaGFkb3dcIixcbiAgICApO1xuICAgIHNlbGYueG1sZG9jLnN0b3JlLmxvYWQoaHJlZikudGhlbigocmVmRG9jUGFyYW0pID0+IHtcbiAgICAgIGNvbnN0IHJlZkRvYyA9IHJlZkRvY1BhcmFtO1xuICAgICAgaWYgKHJlZkRvYykge1xuICAgICAgICBjb25zdCByZWZFbGVtZW50ID0gcmVmRG9jLmdldEVsZW1lbnQoaHJlZik7XG4gICAgICAgIGlmIChyZWZFbGVtZW50KSB7XG4gICAgICAgICAgY29uc3QgcmVmU3R5bGVyID0gc2VsZi5zdHlsZXJQcm9kdWNlci5nZXRTdHlsZXJGb3JEb2MocmVmRG9jKTtcbiAgICAgICAgICBzdWJTaGFkb3cgPSBuZXcgVnRyZWUuU2hhZG93Q29udGV4dChcbiAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICByZWZFbGVtZW50LFxuICAgICAgICAgICAgcmVmRG9jLFxuICAgICAgICAgICAgcGFyZW50U2hhZG93LFxuICAgICAgICAgICAgc3ViU2hhZG93LFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIHJlZlN0eWxlcixcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmcmFtZS5maW5pc2goc3ViU2hhZG93KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBjcmVhdGVTaGFkb3dzKFxuICAgIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgaXNSb290LFxuICAgIGNhc2NTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgY29tcHV0ZWRTdHlsZTogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0sXG4gICAgc3R5bGVyOiBDc3NTdHlsZXIuQWJzdHJhY3RTdHlsZXIsXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBzaGFkb3dDb250ZXh0OiBWdHJlZS5TaGFkb3dDb250ZXh0LFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5TaGFkb3dDb250ZXh0PiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuU2hhZG93Q29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJjcmVhdGVTaGFkb3dzXCIsXG4gICAgKTtcbiAgICBjb25zdCBzaGFkb3c6IFZ0cmVlLlNoYWRvd0NvbnRleHQgPSBudWxsO1xuICAgIGNvbnN0IHRlbXBsYXRlVVJMVmFsID0gY29tcHV0ZWRTdHlsZVtcInRlbXBsYXRlXCJdO1xuICAgIGxldCBjb250OiBUYXNrLlJlc3VsdDxWdHJlZS5TaGFkb3dDb250ZXh0PjtcbiAgICBpZiAodGVtcGxhdGVVUkxWYWwgaW5zdGFuY2VvZiBDc3MuVVJMKSB7XG4gICAgICBjb25zdCB1cmwgPSAodGVtcGxhdGVVUkxWYWwgYXMgQ3NzLlVSTCkudXJsO1xuICAgICAgY29udCA9IHNlbGYuY3JlYXRlUmVmU2hhZG93KFxuICAgICAgICB1cmwsXG4gICAgICAgIFZ0cmVlLlNoYWRvd1R5cGUuUk9PVExFU1MsXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIHNoYWRvd0NvbnRleHQsXG4gICAgICAgIHNoYWRvdyxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnQgPSBUYXNrLm5ld1Jlc3VsdChzaGFkb3cpO1xuICAgIH1cbiAgICBjb250LnRoZW4oKHNoYWRvdykgPT4ge1xuICAgICAgbGV0IGNvbnQxOiBUYXNrLlJlc3VsdDxWdHJlZS5TaGFkb3dDb250ZXh0PiA9IG51bGw7XG4gICAgICBpZiAoZWxlbWVudC5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5TSEFET1cpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQubG9jYWxOYW1lID09IFwiaW5jbHVkZVwiKSB7XG4gICAgICAgICAgbGV0IGhyZWYgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG4gICAgICAgICAgbGV0IHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlciA9IG51bGw7XG4gICAgICAgICAgaWYgKGhyZWYpIHtcbiAgICAgICAgICAgIHhtbGRvYyA9IHNoYWRvd0NvbnRleHQgPyBzaGFkb3dDb250ZXh0LnhtbGRvYyA6IHNlbGYueG1sZG9jO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc2hhZG93Q29udGV4dCkge1xuICAgICAgICAgICAgaWYgKHNoYWRvd0NvbnRleHQub3duZXIubmFtZXNwYWNlVVJJID09IEJhc2UuTlMuWEhUTUwpIHtcbiAgICAgICAgICAgICAgaHJlZiA9IHNoYWRvd0NvbnRleHQub3duZXIuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGhyZWYgPSBzaGFkb3dDb250ZXh0Lm93bmVyLmdldEF0dHJpYnV0ZU5TKEJhc2UuTlMuWExJTkssIFwiaHJlZlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHhtbGRvYyA9IHNoYWRvd0NvbnRleHQucGFyZW50U2hhZG93XG4gICAgICAgICAgICAgID8gc2hhZG93Q29udGV4dC5wYXJlbnRTaGFkb3cueG1sZG9jXG4gICAgICAgICAgICAgIDogc2VsZi54bWxkb2M7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChocmVmKSB7XG4gICAgICAgICAgICBocmVmID0gQmFzZS5yZXNvbHZlVVJMKGhyZWYsIHhtbGRvYy51cmwpO1xuICAgICAgICAgICAgY29udDEgPSBzZWxmLmNyZWF0ZVJlZlNoYWRvdyhcbiAgICAgICAgICAgICAgaHJlZixcbiAgICAgICAgICAgICAgVnRyZWUuU2hhZG93VHlwZS5ST09URUQsXG4gICAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICAgIHNoYWRvd0NvbnRleHQsXG4gICAgICAgICAgICAgIHNoYWRvdyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY29udDEgPT0gbnVsbCkge1xuICAgICAgICBjb250MSA9IFRhc2submV3UmVzdWx0KHNoYWRvdyk7XG4gICAgICB9XG4gICAgICBsZXQgY29udDI6IFRhc2suUmVzdWx0PFZ0cmVlLlNoYWRvd0NvbnRleHQ+ID0gbnVsbDtcbiAgICAgIGNvbnQxLnRoZW4oKHNoYWRvdykgPT4ge1xuICAgICAgICBpZiAoY29tcHV0ZWRTdHlsZVtcImRpc3BsYXlcIl0gPT09IENzcy5pZGVudC50YWJsZV9jZWxsKSB7XG4gICAgICAgICAgY29uc3QgdXJsID0gQmFzZS5yZXNvbHZlVVJMKFxuICAgICAgICAgICAgXCJ1c2VyLWFnZW50LnhtbCN0YWJsZS1jZWxsXCIsXG4gICAgICAgICAgICBCYXNlLnJlc291cmNlQmFzZVVSTCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnQyID0gc2VsZi5jcmVhdGVSZWZTaGFkb3coXG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICBWdHJlZS5TaGFkb3dUeXBlLlJPT1RMRVNTLFxuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgIHNoYWRvd0NvbnRleHQsXG4gICAgICAgICAgICBzaGFkb3csXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250MiA9IFRhc2submV3UmVzdWx0KHNoYWRvdyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29udDIudGhlbigoc2hhZG93KSA9PiB7XG4gICAgICAgIHNoYWRvdyA9IHNlbGYuY3JlYXRlUHNldWRvZWxlbWVudFNoYWRvdyhcbiAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgIGlzUm9vdCxcbiAgICAgICAgICBjYXNjU3R5bGUsXG4gICAgICAgICAgY29tcHV0ZWRTdHlsZSxcbiAgICAgICAgICBzdHlsZXIsXG4gICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICBzaGFkb3dDb250ZXh0LFxuICAgICAgICAgIHNoYWRvdyxcbiAgICAgICAgKTtcbiAgICAgICAgZnJhbWUuZmluaXNoKHNoYWRvdyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzZXRWaWV3Um9vdCh2aWV3Um9vdDogRWxlbWVudCwgaXNGb290bm90ZTogYm9vbGVhbikge1xuICAgIHRoaXMudmlld1Jvb3QgPSB2aWV3Um9vdDtcbiAgICB0aGlzLmlzRm9vdG5vdGUgPSBpc0Zvb3Rub3RlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gdmVydGljYWxcbiAgICovXG4gIGNvbXB1dGVTdHlsZShcbiAgICB2ZXJ0aWNhbDogYm9vbGVhbixcbiAgICBydGw6IGJvb2xlYW4sXG4gICAgc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9LFxuICApOiBib29sZWFuIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgIGNvbnN0IGNhc2NNYXAgPSBDc3NDYXNjYWRlLmZsYXR0ZW5DYXNjYWRlZFN0eWxlKFxuICAgICAgc3R5bGUsXG4gICAgICBjb250ZXh0LFxuICAgICAgdGhpcy5yZWdpb25JZHMsXG4gICAgICB0aGlzLmlzRm9vdG5vdGUsXG4gICAgICB0aGlzLm5vZGVDb250ZXh0LFxuICAgICk7XG4gICAgdmVydGljYWwgPSBDc3NDYXNjYWRlLmlzVmVydGljYWwoY2FzY01hcCwgY29udGV4dCwgdmVydGljYWwpO1xuICAgIHJ0bCA9IENzc0Nhc2NhZGUuaXNSdGwoY2FzY01hcCwgY29udGV4dCwgcnRsKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBDc3NDYXNjYWRlLmNvbnZlcnRUb1BoeXNpY2FsKFxuICAgICAgY2FzY01hcCxcbiAgICAgIGNvbXB1dGVkU3R5bGUsXG4gICAgICB2ZXJ0aWNhbCxcbiAgICAgIHJ0bCxcbiAgICAgIChuYW1lLCBjYXNjVmFsKSA9PiB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGNhc2NWYWwuZXZhbHVhdGUoY29udGV4dCwgbmFtZSk7XG4gICAgICAgIGlmIChuYW1lID09IFwiZm9udC1mYW1pbHlcIikge1xuICAgICAgICAgIHZhbHVlID0gc2VsZi5kb2NGYWNlcy5maWx0ZXJGb250RmFtaWx5KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9LFxuICAgICk7XG5cbiAgICAvLyBDb21wdXRlIHZhbHVlcyBvZiBkaXNwbGF5LCBwb3NpdGlvbiBhbmQgZmxvYXRcbiAgICBjb25zdCBwb3NpdGlvbiA9IGNvbXB1dGVkU3R5bGVbXCJwb3NpdGlvblwiXSBhcyBDc3MuSWRlbnQ7XG4gICAgY29uc3QgZmxvYXQgPSBjb21wdXRlZFN0eWxlW1wiZmxvYXRcIl0gYXMgQ3NzLklkZW50O1xuICAgIGNvbnN0IGRpc3BsYXlWYWx1ZXMgPSBEaXNwbGF5LmdldENvbXB1dGVkRGlzbGF5VmFsdWUoXG4gICAgICAoY29tcHV0ZWRTdHlsZVtcImRpc3BsYXlcIl0gYXMgQ3NzLklkZW50KSB8fCBDc3MuaWRlbnQuaW5saW5lLFxuICAgICAgcG9zaXRpb24sXG4gICAgICBmbG9hdCxcbiAgICAgIHRoaXMuc291cmNlTm9kZSA9PT0gdGhpcy54bWxkb2Mucm9vdCxcbiAgICApO1xuICAgIFtcImRpc3BsYXlcIiwgXCJwb3NpdGlvblwiLCBcImZsb2F0XCJdLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgIGlmIChkaXNwbGF5VmFsdWVzW25hbWVdKSB7XG4gICAgICAgIGNvbXB1dGVkU3R5bGVbbmFtZV0gPSBkaXNwbGF5VmFsdWVzW25hbWVdO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB2ZXJ0aWNhbDtcbiAgfVxuXG4gIHByaXZhdGUgaW5oZXJpdEZyb21Tb3VyY2VQYXJlbnQoXG4gICAgZWxlbWVudFN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgKTogeyBsYW5nOiBzdHJpbmcgfCBudWxsOyBlbGVtZW50U3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlIH0ge1xuICAgIGxldCBub2RlID0gdGhpcy5ub2RlQ29udGV4dC5zb3VyY2VOb2RlO1xuICAgIGNvbnN0IHN0eWxlcyA9IFtdO1xuICAgIGxldCBsYW5nOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICAgIC8vIFRPRE86IHRoaXMgaXMgaGFja3kuIFdlIG5lZWQgdG8gcmVjb3ZlciB0aGUgcGF0aCB0aHJvdWdoIHRoZSBzaGFkb3dcbiAgICAvLyB0cmVlcywgYnV0IHdlIGRvIG5vdCBoYXZlIHRoZSBmdWxsIHNoYWRvdyB0cmVlIHN0cnVjdHVyZSBhdCB0aGlzIHBvaW50LlxuICAgIC8vIFRoaXMgY29kZSBoYW5kbGVzIGNvbWluZyBvdXQgb2YgdGhlIHNoYWRvdyB0cmVlcywgYnV0IGRvZXMgbm90IGdvIGJhY2sgaW5cbiAgICAvLyAodGhyb3VnaCBzaGFkb3c6Y29udGVudCBlbGVtZW50KS5cbiAgICBsZXQgc2hhZG93Q29udGV4dCA9IHRoaXMubm9kZUNvbnRleHQuc2hhZG93Q29udGV4dDtcbiAgICBsZXQgc3RlcHMgPSAtMTtcbiAgICB3aGlsZSAobm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEpIHtcbiAgICAgIGNvbnN0IHNoYWRvd1Jvb3QgPSBzaGFkb3dDb250ZXh0ICYmIHNoYWRvd0NvbnRleHQucm9vdCA9PSBub2RlO1xuICAgICAgaWYgKCFzaGFkb3dSb290IHx8IHNoYWRvd0NvbnRleHQudHlwZSA9PSBWdHJlZS5TaGFkb3dUeXBlLlJPT1RMRVNTKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlciA9IHNoYWRvd0NvbnRleHRcbiAgICAgICAgICA/IChzaGFkb3dDb250ZXh0LnN0eWxlciBhcyBDc3NTdHlsZXIuQWJzdHJhY3RTdHlsZXIpXG4gICAgICAgICAgOiB0aGlzLnN0eWxlcjtcbiAgICAgICAgY29uc3Qgbm9kZVN0eWxlID0gc3R5bGVyLmdldFN0eWxlKG5vZGUgYXMgRWxlbWVudCwgZmFsc2UpO1xuICAgICAgICBzdHlsZXMucHVzaChub2RlU3R5bGUpO1xuICAgICAgICBsYW5nID0gbGFuZyB8fCBCYXNlLmdldExhbmdBdHRyaWJ1dGUobm9kZSBhcyBFbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGlmIChzaGFkb3dSb290KSB7XG4gICAgICAgIG5vZGUgPSBzaGFkb3dDb250ZXh0Lm93bmVyO1xuICAgICAgICBzaGFkb3dDb250ZXh0ID0gc2hhZG93Q29udGV4dC5wYXJlbnRTaGFkb3c7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICBzdGVwcysrO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpc1Jvb3QgPSBzdGVwcyA9PT0gMDtcbiAgICBjb25zdCBmb250U2l6ZSA9IHRoaXMuY29udGV4dC5xdWVyeVVuaXRTaXplKFwiZW1cIiwgaXNSb290KTtcbiAgICBjb25zdCBwcm9wcyA9IHtcbiAgICAgIFwiZm9udC1zaXplXCI6IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShcbiAgICAgICAgbmV3IENzcy5OdW1lcmljKGZvbnRTaXplLCBcInB4XCIpLFxuICAgICAgICAwLFxuICAgICAgKSxcbiAgICB9IGFzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuICAgIGNvbnN0IGluaGVyaXRhbmNlVmlzaXRvciA9IG5ldyBDc3NDYXNjYWRlLkluaGVyaXRhbmNlVmlzaXRvcihcbiAgICAgIHByb3BzLFxuICAgICAgdGhpcy5jb250ZXh0LFxuICAgICk7XG4gICAgZm9yIChsZXQgaSA9IHN0eWxlcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgY29uc3Qgc3R5bGUgPSBzdHlsZXNbaV07XG4gICAgICBjb25zdCBwcm9wTGlzdCA9IFtdO1xuICAgICAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBzdHlsZSkge1xuICAgICAgICBpZiAoQ3NzQ2FzY2FkZS5pc0luaGVyaXRlZChwcm9wTmFtZSkpIHtcbiAgICAgICAgICBwcm9wTGlzdC5wdXNoKHByb3BOYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcHJvcExpc3Quc29ydChDc3MucHJvY2Vzc2luZ09yZGVyRm4pO1xuICAgICAgZm9yIChjb25zdCBuYW1lIG9mIHByb3BMaXN0KSB7XG4gICAgICAgIGluaGVyaXRhbmNlVmlzaXRvci5zZXRQcm9wTmFtZShuYW1lKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBDc3NDYXNjYWRlLmdldFByb3Aoc3R5bGUsIG5hbWUpO1xuICAgICAgICBpZiAodmFsdWUudmFsdWUgIT09IENzcy5pZGVudC5pbmhlcml0KSB7XG4gICAgICAgICAgcHJvcHNbbmFtZV0gPSB2YWx1ZS5maWx0ZXJWYWx1ZShpbmhlcml0YW5jZVZpc2l0b3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3Qgc25hbWUgaW4gZWxlbWVudFN0eWxlKSB7XG4gICAgICBpZiAoIUNzc0Nhc2NhZGUuaXNJbmhlcml0ZWQoc25hbWUpKSB7XG4gICAgICAgIHByb3BzW3NuYW1lXSA9IGVsZW1lbnRTdHlsZVtzbmFtZV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGxhbmcsIGVsZW1lbnRTdHlsZTogcHJvcHMgfTtcbiAgfVxuXG4gIHJlc29sdmVVUkwodXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHVybCA9IEJhc2UucmVzb2x2ZVVSTCh1cmwsIHRoaXMueG1sZG9jLnVybCk7XG4gICAgcmV0dXJuIHRoaXMuZmFsbGJhY2tNYXBbdXJsXSB8fCB1cmw7XG4gIH1cblxuICBpbmhlcml0TGFuZ0F0dHJpYnV0ZSgpIHtcbiAgICB0aGlzLm5vZGVDb250ZXh0LmxhbmcgPVxuICAgICAgQmFzZS5nZXRMYW5nQXR0cmlidXRlKHRoaXMubm9kZUNvbnRleHQuc291cmNlTm9kZSBhcyBFbGVtZW50KSB8fFxuICAgICAgKHRoaXMubm9kZUNvbnRleHQucGFyZW50ICYmIHRoaXMubm9kZUNvbnRleHQucGFyZW50LmxhbmcpIHx8XG4gICAgICB0aGlzLm5vZGVDb250ZXh0Lmxhbmc7XG4gIH1cblxuICB0cmFuc2ZlclBvbHlmaWxsZWRJbmhlcml0ZWRQcm9wcyhjb21wdXRlZFN0eWxlOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSkge1xuICAgIGNvbnN0IHBvbHlmaWxsZWRJbmhlcml0ZWRQcm9wcyA9IENzc0Nhc2NhZGUuZ2V0UG9seWZpbGxlZEluaGVyaXRlZFByb3BzKCkuZmlsdGVyKFxuICAgICAgKG5hbWUpID0+IGNvbXB1dGVkU3R5bGVbbmFtZV0sXG4gICAgKTtcbiAgICBpZiAocG9seWZpbGxlZEluaGVyaXRlZFByb3BzLmxlbmd0aCkge1xuICAgICAgbGV0IHByb3BzID0gdGhpcy5ub2RlQ29udGV4dC5pbmhlcml0ZWRQcm9wcztcbiAgICAgIGlmICh0aGlzLm5vZGVDb250ZXh0LnBhcmVudCkge1xuICAgICAgICBwcm9wcyA9IHRoaXMubm9kZUNvbnRleHQuaW5oZXJpdGVkUHJvcHMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBuIGluIHRoaXMubm9kZUNvbnRleHQucGFyZW50LmluaGVyaXRlZFByb3BzKSB7XG4gICAgICAgICAgcHJvcHNbbl0gPSB0aGlzLm5vZGVDb250ZXh0LnBhcmVudC5pbmhlcml0ZWRQcm9wc1tuXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcG9seWZpbGxlZEluaGVyaXRlZFByb3BzLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBjb21wdXRlZFN0eWxlW25hbWVdO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBDc3MuSW50KSB7XG4gICAgICAgICAgICBwcm9wc1tuYW1lXSA9ICh2YWx1ZSBhcyBDc3MuSW50KS5udW07XG4gICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIENzcy5JZGVudCkge1xuICAgICAgICAgICAgcHJvcHNbbmFtZV0gPSAodmFsdWUgYXMgQ3NzLklkZW50KS5uYW1lO1xuICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBDc3MuTnVtZXJpYykge1xuICAgICAgICAgICAgY29uc3QgbnVtZXJpY1ZhbCA9IHZhbHVlIGFzIENzcy5OdW1lcmljO1xuICAgICAgICAgICAgc3dpdGNoIChudW1lcmljVmFsLnVuaXQpIHtcbiAgICAgICAgICAgICAgY2FzZSBcImRwaVwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZHBjbVwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZHBweFwiOlxuICAgICAgICAgICAgICAgIHByb3BzW25hbWVdID1cbiAgICAgICAgICAgICAgICAgIG51bWVyaWNWYWwubnVtICogRXhwcnMuZGVmYXVsdFVuaXRTaXplc1tudW1lcmljVmFsLnVuaXRdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9wc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWxldGUgY29tcHV0ZWRTdHlsZVtuYW1lXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmVzb2x2ZUZvcm1hdHRpbmdDb250ZXh0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBmaXJzdFRpbWU6IGJvb2xlYW4sXG4gICAgZGlzcGxheTogQ3NzLklkZW50LFxuICAgIHBvc2l0aW9uOiBDc3MuSWRlbnQsXG4gICAgZmxvYXQ6IENzcy5JZGVudCxcbiAgICBpc1Jvb3Q6IGJvb2xlYW4sXG4gICkge1xuICAgIGNvbnN0IGhvb2tzOiBQbHVnaW4uUmVzb2x2ZUZvcm1hdHRpbmdDb250ZXh0SG9va1tdID0gUGx1Z2luLmdldEhvb2tzRm9yTmFtZShcbiAgICAgIFBsdWdpbi5IT09LUy5SRVNPTFZFX0ZPUk1BVFRJTkdfQ09OVEVYVCxcbiAgICApO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9va3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gaG9va3NbaV0oXG4gICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICBmaXJzdFRpbWUsXG4gICAgICAgIGRpc3BsYXksXG4gICAgICAgIHBvc2l0aW9uLFxuICAgICAgICBmbG9hdCxcbiAgICAgICAgaXNSb290LFxuICAgICAgKTtcbiAgICAgIGlmIChmb3JtYXR0aW5nQ29udGV4dCkge1xuICAgICAgICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCA9IGZvcm1hdHRpbmdDb250ZXh0O1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gaG9sZGluZyB0cnVlIGlmIGNoaWxkcmVuIHNob3VsZCBiZSBwcm9jZXNzZWRcbiAgICovXG4gIHByaXZhdGUgY3JlYXRlRWxlbWVudFZpZXcoXG4gICAgZmlyc3RUaW1lOiBib29sZWFuLFxuICAgIGF0VW5mb3JjZWRCcmVhazogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBuZWVkVG9Qcm9jZXNzQ2hpbGRyZW4gPSB0cnVlO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcImNyZWF0ZUVsZW1lbnRWaWV3XCIpO1xuXG4gICAgLy8gRmlndXJlIG91dCBlbGVtZW50J3Mgc3R5bGVzXG4gICAgbGV0IGVsZW1lbnQgPSBzZWxmLnNvdXJjZU5vZGUgYXMgRWxlbWVudDtcbiAgICBjb25zdCBzdHlsZXIgPSBzZWxmLm5vZGVDb250ZXh0LnNoYWRvd0NvbnRleHRcbiAgICAgID8gKHNlbGYubm9kZUNvbnRleHQuc2hhZG93Q29udGV4dC5zdHlsZXIgYXMgQ3NzU3R5bGVyLkFic3RyYWN0U3R5bGVyKVxuICAgICAgOiBzZWxmLnN0eWxlcjtcbiAgICBsZXQgZWxlbWVudFN0eWxlID0gc3R5bGVyLmdldFN0eWxlKGVsZW1lbnQsIGZhbHNlKTtcbiAgICBpZiAoIXNlbGYubm9kZUNvbnRleHQuc2hhZG93Q29udGV4dCkge1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy54bWxkb2MuZ2V0RWxlbWVudE9mZnNldChlbGVtZW50KTtcbiAgICAgIE1hdGNoZXJzLk50aEZyYWdtZW50TWF0Y2hlci5yZWdpc3RlckZyYWdtZW50SW5kZXgoXG4gICAgICAgIG9mZnNldCxcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5mcmFnbWVudEluZGV4LFxuICAgICAgICAwLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IHt9O1xuICAgIGlmICghc2VsZi5ub2RlQ29udGV4dC5wYXJlbnQpIHtcbiAgICAgIGNvbnN0IGluaGVyaXRlZFZhbHVlcyA9IHNlbGYuaW5oZXJpdEZyb21Tb3VyY2VQYXJlbnQoZWxlbWVudFN0eWxlKTtcbiAgICAgIGVsZW1lbnRTdHlsZSA9IGluaGVyaXRlZFZhbHVlcy5lbGVtZW50U3R5bGU7XG4gICAgICBzZWxmLm5vZGVDb250ZXh0LmxhbmcgPSBpbmhlcml0ZWRWYWx1ZXMubGFuZztcbiAgICB9XG4gICAgY29uc3QgZmxvYXRSZWZlcmVuY2UgPVxuICAgICAgZWxlbWVudFN0eWxlW1wiZmxvYXQtcmVmZXJlbmNlXCJdICYmXG4gICAgICBQYWdlRmxvYXRzLmZsb2F0UmVmZXJlbmNlT2YoXG4gICAgICAgIGVsZW1lbnRTdHlsZVtcImZsb2F0LXJlZmVyZW5jZVwiXS52YWx1ZS50b1N0cmluZygpLFxuICAgICAgKTtcbiAgICBpZiAoXG4gICAgICBzZWxmLm5vZGVDb250ZXh0LnBhcmVudCAmJlxuICAgICAgZmxvYXRSZWZlcmVuY2UgJiZcbiAgICAgIFBhZ2VGbG9hdHMuaXNQYWdlRmxvYXQoZmxvYXRSZWZlcmVuY2UpXG4gICAgKSB7XG4gICAgICAvLyBTaW5jZSBhIHBhZ2UgZmxvYXQgd2lsbCBiZSBkZXRhY2hlZCBmcm9tIGEgdmlldyBub2RlIG9mIGl0cyBwYXJlbnQsXG4gICAgICAvLyBpbmhlcml0ZWQgcHJvcGVydGllcyBuZWVkIHRvIGJlIGluaGVyaXRlZCBmcm9tIGl0cyBzb3VyY2UgcGFyZW50LlxuICAgICAgY29uc3QgaW5oZXJpdGVkVmFsdWVzID0gc2VsZi5pbmhlcml0RnJvbVNvdXJjZVBhcmVudChlbGVtZW50U3R5bGUpO1xuICAgICAgZWxlbWVudFN0eWxlID0gaW5oZXJpdGVkVmFsdWVzLmVsZW1lbnRTdHlsZTtcbiAgICAgIHNlbGYubm9kZUNvbnRleHQubGFuZyA9IGluaGVyaXRlZFZhbHVlcy5sYW5nO1xuICAgIH1cbiAgICBzZWxmLm5vZGVDb250ZXh0LnZlcnRpY2FsID0gc2VsZi5jb21wdXRlU3R5bGUoXG4gICAgICBzZWxmLm5vZGVDb250ZXh0LnZlcnRpY2FsLFxuICAgICAgc2VsZi5ub2RlQ29udGV4dC5kaXJlY3Rpb24gPT09IFwicnRsXCIsXG4gICAgICBlbGVtZW50U3R5bGUsXG4gICAgICBjb21wdXRlZFN0eWxlLFxuICAgICk7XG4gICAgc3R5bGVyLnByb2Nlc3NDb250ZW50KGVsZW1lbnQsIGNvbXB1dGVkU3R5bGUpO1xuICAgIHRoaXMudHJhbnNmZXJQb2x5ZmlsbGVkSW5oZXJpdGVkUHJvcHMoY29tcHV0ZWRTdHlsZSk7XG4gICAgdGhpcy5pbmhlcml0TGFuZ0F0dHJpYnV0ZSgpO1xuICAgIGlmIChjb21wdXRlZFN0eWxlW1wiZGlyZWN0aW9uXCJdKSB7XG4gICAgICBzZWxmLm5vZGVDb250ZXh0LmRpcmVjdGlvbiA9IGNvbXB1dGVkU3R5bGVbXCJkaXJlY3Rpb25cIl0udG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICAvLyBTb3J0IG91dCB0aGUgcHJvcGVydGllc1xuICAgIGNvbnN0IGZsb3cgPSBjb21wdXRlZFN0eWxlW1wiZmxvdy1pbnRvXCJdO1xuICAgIGlmIChmbG93ICYmIGZsb3cudG9TdHJpbmcoKSAhPSBzZWxmLmZsb3dOYW1lKSB7XG4gICAgICAvLyBmb3JlaWduIGZsb3csIGRvbid0IGNyZWF0ZSBhIHZpZXdcbiAgICAgIGZyYW1lLmZpbmlzaChmYWxzZSk7XG4gICAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gICAgfVxuICAgIGxldCBkaXNwbGF5ID0gY29tcHV0ZWRTdHlsZVtcImRpc3BsYXlcIl07XG4gICAgaWYgKGRpc3BsYXkgPT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgICAvLyBubyBjb250ZW50XG4gICAgICBmcmFtZS5maW5pc2goZmFsc2UpO1xuICAgICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICAgIH1cbiAgICBjb25zdCBpc1Jvb3QgPSBzZWxmLm5vZGVDb250ZXh0LnBhcmVudCA9PSBudWxsO1xuICAgIHNlbGYubm9kZUNvbnRleHQuZmxleENvbnRhaW5lciA9IGRpc3BsYXkgPT09IENzcy5pZGVudC5mbGV4O1xuICAgIHNlbGZcbiAgICAgIC5jcmVhdGVTaGFkb3dzKFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICBpc1Jvb3QsXG4gICAgICAgIGVsZW1lbnRTdHlsZSxcbiAgICAgICAgY29tcHV0ZWRTdHlsZSxcbiAgICAgICAgc3R5bGVyLFxuICAgICAgICBzZWxmLmNvbnRleHQsXG4gICAgICAgIHNlbGYubm9kZUNvbnRleHQuc2hhZG93Q29udGV4dCxcbiAgICAgIClcbiAgICAgIC50aGVuKChzaGFkb3dQYXJhbSkgPT4ge1xuICAgICAgICBzZWxmLm5vZGVDb250ZXh0Lm5vZGVTaGFkb3cgPSBzaGFkb3dQYXJhbTtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBjb21wdXRlZFN0eWxlW1wicG9zaXRpb25cIl07XG4gICAgICAgIGxldCBmbG9hdFNpZGUgPSBjb21wdXRlZFN0eWxlW1wiZmxvYXRcIl07XG4gICAgICAgIGxldCBjbGVhclNpZGUgPSBjb21wdXRlZFN0eWxlW1wiY2xlYXJcIl07XG4gICAgICAgIGNvbnN0IHdyaXRpbmdNb2RlID0gc2VsZi5ub2RlQ29udGV4dC52ZXJ0aWNhbFxuICAgICAgICAgID8gQ3NzLmlkZW50LnZlcnRpY2FsX3JsXG4gICAgICAgICAgOiBDc3MuaWRlbnQuaG9yaXpvbnRhbF90YjtcbiAgICAgICAgY29uc3QgcGFyZW50V3JpdGluZ01vZGUgPSBzZWxmLm5vZGVDb250ZXh0LnBhcmVudFxuICAgICAgICAgID8gc2VsZi5ub2RlQ29udGV4dC5wYXJlbnQudmVydGljYWxcbiAgICAgICAgICAgID8gQ3NzLmlkZW50LnZlcnRpY2FsX3JsXG4gICAgICAgICAgICA6IENzcy5pZGVudC5ob3Jpem9udGFsX3RiXG4gICAgICAgICAgOiB3cml0aW5nTW9kZTtcbiAgICAgICAgY29uc3QgaXNGbG93Um9vdCA9IERpc3BsYXkuaXNGbG93Um9vdChlbGVtZW50KTtcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5lc3RhYmxpc2hlc0JGQyA9IERpc3BsYXkuZXN0YWJsaXNoZXNCRkMoXG4gICAgICAgICAgZGlzcGxheSxcbiAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICBmbG9hdFNpZGUsXG4gICAgICAgICAgY29tcHV0ZWRTdHlsZVtcIm92ZXJmbG93XCJdLFxuICAgICAgICAgIHdyaXRpbmdNb2RlLFxuICAgICAgICAgIHBhcmVudFdyaXRpbmdNb2RlLFxuICAgICAgICAgIGlzRmxvd1Jvb3QsXG4gICAgICAgICk7XG4gICAgICAgIHNlbGYubm9kZUNvbnRleHQuY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGUgPSBEaXNwbGF5LmVzdGFibGlzaGVzQ0JGb3JBYnNvbHV0ZShcbiAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHNlbGYubm9kZUNvbnRleHQuaXNJbnNpZGVCRkMoKSAmJlxuICAgICAgICAgIGZsb2F0U2lkZSAhPT0gQ3NzLmlkZW50LmZvb3Rub3RlICYmXG4gICAgICAgICAgIShmbG9hdFJlZmVyZW5jZSAmJiBQYWdlRmxvYXRzLmlzUGFnZUZsb2F0KGZsb2F0UmVmZXJlbmNlKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gV2hlbiB0aGUgZWxlbWVudCBpcyBhbHJlYWR5IGluc2lkZSBhIGJsb2NrIGZvcm1hdHRpbmcgY29udGV4dFxuICAgICAgICAgIC8vIChleGNlcHQgb25lIGZyb20gdGhlIHJvb3QpLCBmbG9hdCBhbmQgY2xlYXIgY2FuIGJlIGNvbnRyb2xsZWQgYnlcbiAgICAgICAgICAvLyB0aGUgYnJvd3NlciBhbmQgd2UgZG9uJ3QgbmVlZCB0byBjYXJlLlxuICAgICAgICAgIGZsb2F0U2lkZSA9IG51bGw7XG4gICAgICAgICAgY2xlYXJTaWRlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZmxvYXRpbmcgPVxuICAgICAgICAgIGZsb2F0U2lkZSA9PT0gQ3NzLmlkZW50LmxlZnQgfHxcbiAgICAgICAgICBmbG9hdFNpZGUgPT09IENzcy5pZGVudC5yaWdodCB8fFxuICAgICAgICAgIGZsb2F0U2lkZSA9PT0gQ3NzLmlkZW50LnRvcCB8fFxuICAgICAgICAgIGZsb2F0U2lkZSA9PT0gQ3NzLmlkZW50LmJvdHRvbSB8fFxuICAgICAgICAgIGZsb2F0U2lkZSA9PT0gQ3NzLmlkZW50LmlubGluZV9zdGFydCB8fFxuICAgICAgICAgIGZsb2F0U2lkZSA9PT0gQ3NzLmlkZW50LmlubGluZV9lbmQgfHxcbiAgICAgICAgICBmbG9hdFNpZGUgPT09IENzcy5pZGVudC5ibG9ja19zdGFydCB8fFxuICAgICAgICAgIGZsb2F0U2lkZSA9PT0gQ3NzLmlkZW50LmJsb2NrX2VuZCB8fFxuICAgICAgICAgIGZsb2F0U2lkZSA9PT0gQ3NzLmlkZW50LnNuYXBfYmxvY2sgfHxcbiAgICAgICAgICBmbG9hdFNpZGUgPT09IENzcy5pZGVudC5mb290bm90ZTtcbiAgICAgICAgaWYgKGZsb2F0U2lkZSkge1xuICAgICAgICAgIC8vIERvbid0IHdhbnQgdG8gc2V0IGl0IGluIHZpZXcgRE9NIENTUy5cbiAgICAgICAgICBkZWxldGUgY29tcHV0ZWRTdHlsZVtcImZsb2F0XCJdO1xuICAgICAgICAgIGlmIChmbG9hdFNpZGUgPT09IENzcy5pZGVudC5mb290bm90ZSkge1xuICAgICAgICAgICAgaWYgKHNlbGYuaXNGb290bm90ZSkge1xuICAgICAgICAgICAgICAvLyBObyBmb290bm90ZXMgaW5zaWRlIGZvb3Rub3Rlcy4gc2VsZiBpcyBtb3N0IGxpa2VseSB0aGUgcm9vdFxuICAgICAgICAgICAgICAvLyBvZiB0aGUgZm9vdG5vdGUgYm9keSBiZWluZyByZW5kZXJlZCBpbiBmb290bm90ZSBhcmVhLiBUcmVhdFxuICAgICAgICAgICAgICAvLyBhcyBibG9jay5cbiAgICAgICAgICAgICAgZmxvYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImRpc3BsYXlcIl0gPSBDc3MuaWRlbnQuYmxvY2s7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSA9IENzcy5pZGVudC5pbmxpbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjbGVhclNpZGUpIHtcbiAgICAgICAgICBpZiAoY2xlYXJTaWRlID09PSBDc3MuaWRlbnQuaW5oZXJpdCkge1xuICAgICAgICAgICAgaWYgKHNlbGYubm9kZUNvbnRleHQucGFyZW50ICYmIHNlbGYubm9kZUNvbnRleHQucGFyZW50LmNsZWFyU2lkZSkge1xuICAgICAgICAgICAgICBjbGVhclNpZGUgPSBDc3MuZ2V0TmFtZShzZWxmLm5vZGVDb250ZXh0LnBhcmVudC5jbGVhclNpZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjbGVhclNpZGUgPT09IENzcy5pZGVudC5sZWZ0IHx8XG4gICAgICAgICAgICBjbGVhclNpZGUgPT09IENzcy5pZGVudC5yaWdodCB8fFxuICAgICAgICAgICAgY2xlYXJTaWRlID09PSBDc3MuaWRlbnQudG9wIHx8XG4gICAgICAgICAgICBjbGVhclNpZGUgPT09IENzcy5pZGVudC5ib3R0b20gfHxcbiAgICAgICAgICAgIGNsZWFyU2lkZSA9PT0gQ3NzLmlkZW50LmJvdGggfHxcbiAgICAgICAgICAgIGNsZWFyU2lkZSA9PT0gQ3NzLmlkZW50LmFsbCB8fFxuICAgICAgICAgICAgY2xlYXJTaWRlID09PSBDc3MuaWRlbnQuc2FtZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZGVsZXRlIGNvbXB1dGVkU3R5bGVbXCJjbGVhclwiXTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImRpc3BsYXlcIl0gJiZcbiAgICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImRpc3BsYXlcIl0gIT0gQ3NzLmlkZW50LmlubGluZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHNlbGYubm9kZUNvbnRleHQuY2xlYXJTaWRlID0gY2xlYXJTaWRlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxpc3RJdGVtID1cbiAgICAgICAgICBkaXNwbGF5ID09PSBDc3MuaWRlbnQubGlzdF9pdGVtICYmXG4gICAgICAgICAgY29tcHV0ZWRTdHlsZVtcInVhLWxpc3QtaXRlbS1jb3VudFwiXTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGZsb2F0aW5nIHx8XG4gICAgICAgICAgKGNvbXB1dGVkU3R5bGVbXCJicmVhay1pbnNpZGVcIl0gJiZcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJicmVhay1pbnNpZGVcIl0gIT09IENzcy5pZGVudC5hdXRvKVxuICAgICAgICApIHtcbiAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmJyZWFrUGVuYWx0eSsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICBkaXNwbGF5ICYmXG4gICAgICAgICAgZGlzcGxheSAhPT0gQ3NzLmlkZW50LmlubGluZSAmJlxuICAgICAgICAgIERpc3BsYXkuaXNJbmxpbmVMZXZlbChkaXNwbGF5KVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBEb24ndCBicmVhayBpbnNpZGUgcnVieSwgaW5saW5lLWJsb2NrLCBldGMuXG4gICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5icmVha1BlbmFsdHkrKztcbiAgICAgICAgfVxuICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmlubGluZSA9XG4gICAgICAgICAgKCFmbG9hdGluZyAmJiAhZGlzcGxheSkgfHxcbiAgICAgICAgICBEaXNwbGF5LmlzSW5saW5lTGV2ZWwoZGlzcGxheSkgfHxcbiAgICAgICAgICBEaXNwbGF5LmlzUnVieUludGVybmFsRGlzcGxheShkaXNwbGF5KTtcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5kaXNwbGF5ID0gZGlzcGxheSA/IGRpc3BsYXkudG9TdHJpbmcoKSA6IFwiaW5saW5lXCI7XG4gICAgICAgIHNlbGYubm9kZUNvbnRleHQuZmxvYXRTaWRlID0gZmxvYXRpbmcgPyBmbG9hdFNpZGUudG9TdHJpbmcoKSA6IG51bGw7XG4gICAgICAgIHNlbGYubm9kZUNvbnRleHQuZmxvYXRSZWZlcmVuY2UgPVxuICAgICAgICAgIGZsb2F0UmVmZXJlbmNlIHx8IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UuSU5MSU5FO1xuICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmZsb2F0TWluV3JhcEJsb2NrID1cbiAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiZmxvYXQtbWluLXdyYXAtYmxvY2tcIl0gfHwgbnVsbDtcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5jb2x1bW5TcGFuID0gY29tcHV0ZWRTdHlsZVtcImNvbHVtbi1zcGFuXCJdO1xuICAgICAgICBpZiAoIXNlbGYubm9kZUNvbnRleHQuaW5saW5lKSB7XG4gICAgICAgICAgY29uc3QgYnJlYWtBZnRlciA9IGNvbXB1dGVkU3R5bGVbXCJicmVhay1hZnRlclwiXTtcbiAgICAgICAgICBpZiAoYnJlYWtBZnRlcikge1xuICAgICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5icmVha0FmdGVyID0gYnJlYWtBZnRlci50b1N0cmluZygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBicmVha0JlZm9yZSA9IGNvbXB1dGVkU3R5bGVbXCJicmVhay1iZWZvcmVcIl07XG4gICAgICAgICAgaWYgKGJyZWFrQmVmb3JlKSB7XG4gICAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmJyZWFrQmVmb3JlID0gYnJlYWtCZWZvcmUudG9TdHJpbmcoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC52ZXJ0aWNhbEFsaWduID1cbiAgICAgICAgICAoY29tcHV0ZWRTdHlsZVtcInZlcnRpY2FsLWFsaWduXCJdICYmXG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1widmVydGljYWwtYWxpZ25cIl0udG9TdHJpbmcoKSkgfHxcbiAgICAgICAgICBcImJhc2VsaW5lXCI7XG4gICAgICAgIHNlbGYubm9kZUNvbnRleHQuY2FwdGlvblNpZGUgPVxuICAgICAgICAgIChjb21wdXRlZFN0eWxlW1wiY2FwdGlvbi1zaWRlXCJdICYmXG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiY2FwdGlvbi1zaWRlXCJdLnRvU3RyaW5nKCkpIHx8XG4gICAgICAgICAgXCJ0b3BcIjtcbiAgICAgICAgY29uc3QgYm9yZGVyQ29sbGFwc2UgPSBjb21wdXRlZFN0eWxlW1wiYm9yZGVyLWNvbGxhcHNlXCJdO1xuICAgICAgICBpZiAoIWJvcmRlckNvbGxhcHNlIHx8IGJvcmRlckNvbGxhcHNlID09PSBDc3MuZ2V0TmFtZShcInNlcGFyYXRlXCIpKSB7XG4gICAgICAgICAgY29uc3QgYm9yZGVyU3BhY2luZyA9IGNvbXB1dGVkU3R5bGVbXCJib3JkZXItc3BhY2luZ1wiXTtcbiAgICAgICAgICBsZXQgaW5saW5lQm9yZGVyU3BhY2luZztcbiAgICAgICAgICBsZXQgYmxvY2tCb3JkZXJTcGFjaW5nO1xuICAgICAgICAgIGlmIChib3JkZXJTcGFjaW5nKSB7XG4gICAgICAgICAgICBpZiAoYm9yZGVyU3BhY2luZy5pc1NwYWNlTGlzdCgpKSB7XG4gICAgICAgICAgICAgIGlubGluZUJvcmRlclNwYWNpbmcgPSBib3JkZXJTcGFjaW5nLnZhbHVlc1swXTtcbiAgICAgICAgICAgICAgYmxvY2tCb3JkZXJTcGFjaW5nID0gYm9yZGVyU3BhY2luZy52YWx1ZXNbMV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpbmxpbmVCb3JkZXJTcGFjaW5nID0gYmxvY2tCb3JkZXJTcGFjaW5nID0gYm9yZGVyU3BhY2luZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmxpbmVCb3JkZXJTcGFjaW5nLmlzTnVtZXJpYygpKSB7XG4gICAgICAgICAgICAgIHNlbGYubm9kZUNvbnRleHQuaW5saW5lQm9yZGVyU3BhY2luZyA9IENzcy50b051bWJlcihcbiAgICAgICAgICAgICAgICBpbmxpbmVCb3JkZXJTcGFjaW5nLFxuICAgICAgICAgICAgICAgIHNlbGYuY29udGV4dCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChibG9ja0JvcmRlclNwYWNpbmcuaXNOdW1lcmljKCkpIHtcbiAgICAgICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5ibG9ja0JvcmRlclNwYWNpbmcgPSBDc3MudG9OdW1iZXIoXG4gICAgICAgICAgICAgICAgYmxvY2tCb3JkZXJTcGFjaW5nLFxuICAgICAgICAgICAgICAgIHNlbGYuY29udGV4dCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5mb290bm90ZVBvbGljeSA9IGNvbXB1dGVkU3R5bGVbXCJmb290bm90ZS1wb2xpY3lcIl07XG4gICAgICAgIGNvbnN0IGZpcnN0UHNldWRvID0gY29tcHV0ZWRTdHlsZVtcIngtZmlyc3QtcHNldWRvXCJdO1xuICAgICAgICBpZiAoZmlyc3RQc2V1ZG8pIHtcbiAgICAgICAgICBjb25zdCBvdXRlclBzZXVkbyA9IHNlbGYubm9kZUNvbnRleHQucGFyZW50XG4gICAgICAgICAgICA/IHNlbGYubm9kZUNvbnRleHQucGFyZW50LmZpcnN0UHNldWRvXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5maXJzdFBzZXVkbyA9IG5ldyBWdHJlZS5GaXJzdFBzZXVkbyhcbiAgICAgICAgICAgIG91dGVyUHNldWRvLFxuICAgICAgICAgICAgLyoqIENzcy5JbnQgKi9cbiAgICAgICAgICAgIGZpcnN0UHNldWRvLm51bSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2VsZi5ub2RlQ29udGV4dC5pbmxpbmUpIHtcbiAgICAgICAgICBzZWxmLnByb2Nlc3NBZnRlcklmY29udGludWVzKFxuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgIGVsZW1lbnRTdHlsZSxcbiAgICAgICAgICAgIHN0eWxlcixcbiAgICAgICAgICAgIHNlbGYuY29udGV4dCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHdoaXRlc3BhY2UgPSBjb21wdXRlZFN0eWxlW1wid2hpdGUtc3BhY2VcIl07XG4gICAgICAgIGlmICh3aGl0ZXNwYWNlKSB7XG4gICAgICAgICAgY29uc3Qgd2hpdGVzcGFjZVZhbHVlID0gVnRyZWUud2hpdGVzcGFjZUZyb21Qcm9wZXJ0eVZhbHVlKFxuICAgICAgICAgICAgd2hpdGVzcGFjZS50b1N0cmluZygpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHdoaXRlc3BhY2VWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC53aGl0ZXNwYWNlID0gd2hpdGVzcGFjZVZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoeXBoZW5hdGVDaGFyYWN0ZXIgPSBjb21wdXRlZFN0eWxlW1wiaHlwaGVuYXRlLWNoYXJhY3RlclwiXTtcbiAgICAgICAgaWYgKGh5cGhlbmF0ZUNoYXJhY3RlciAmJiBoeXBoZW5hdGVDaGFyYWN0ZXIgIT09IENzcy5pZGVudC5hdXRvKSB7XG4gICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5oeXBoZW5hdGVDaGFyYWN0ZXIgPSBoeXBoZW5hdGVDaGFyYWN0ZXIuc3RyO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHdvcmRCcmVhayA9IGNvbXB1dGVkU3R5bGVbXCJ3b3JkLWJyZWFrXCJdO1xuICAgICAgICBjb25zdCBvdmVyZmxvd1dyYXAgPSBjb21wdXRlZFN0eWxlW1wib3ZlcmZsb3ctd3JhcFwiXSB8fCBbXCJ3b3JkLXdyYXBcIl07XG4gICAgICAgIHNlbGYubm9kZUNvbnRleHQuYnJlYWtXb3JkID1cbiAgICAgICAgICB3b3JkQnJlYWsgPT09IENzcy5pZGVudC5icmVha19hbGwgfHxcbiAgICAgICAgICBvdmVyZmxvd1dyYXAgPT09IENzcy5pZGVudC5icmVha193b3JkO1xuXG4gICAgICAgIC8vIFJlc29sdmUgZm9ybWF0dGluZyBjb250ZXh0XG4gICAgICAgIHNlbGYucmVzb2x2ZUZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgICAgIHNlbGYubm9kZUNvbnRleHQsXG4gICAgICAgICAgZmlyc3RUaW1lLFxuICAgICAgICAgIGRpc3BsYXksXG4gICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgZmxvYXRTaWRlLFxuICAgICAgICAgIGlzUm9vdCxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHNlbGYubm9kZUNvbnRleHQucGFyZW50ICYmXG4gICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5wYXJlbnQuZm9ybWF0dGluZ0NvbnRleHRcbiAgICAgICAgKSB7XG4gICAgICAgICAgZmlyc3RUaW1lID0gc2VsZi5ub2RlQ29udGV4dC5wYXJlbnQuZm9ybWF0dGluZ0NvbnRleHQuaXNGaXJzdFRpbWUoXG4gICAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LFxuICAgICAgICAgICAgZmlyc3RUaW1lLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzZWxmLm5vZGVDb250ZXh0LmlubGluZSkge1xuICAgICAgICAgIHNlbGYubm9kZUNvbnRleHQucmVwZWF0T25CcmVhayA9IHNlbGYucHJvY2Vzc1JlcGVhdE9uQnJlYWsoXG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlLFxuICAgICAgICAgICk7XG4gICAgICAgICAgc2VsZi5maW5kQW5kUHJvY2Vzc1JlcGVhdGluZ0VsZW1lbnRzKGVsZW1lbnQsIHN0eWxlcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgdGhlIHZpZXcgZWxlbWVudFxuICAgICAgICBsZXQgY3VzdG9tID0gZmFsc2U7XG4gICAgICAgIGxldCBpbm5lcjogRWxlbWVudCA9IG51bGw7XG4gICAgICAgIGNvbnN0IGZldGNoZXJzID0gW107XG4gICAgICAgIGxldCBucyA9IGVsZW1lbnQubmFtZXNwYWNlVVJJO1xuICAgICAgICBsZXQgdGFnID0gZWxlbWVudC5sb2NhbE5hbWU7XG4gICAgICAgIGlmIChucyA9PSBCYXNlLk5TLlhIVE1MKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGFnID09IFwiaHRtbFwiIHx8XG4gICAgICAgICAgICB0YWcgPT0gXCJib2R5XCIgfHxcbiAgICAgICAgICAgIHRhZyA9PSBcInNjcmlwdFwiIHx8XG4gICAgICAgICAgICB0YWcgPT0gXCJsaW5rXCIgfHxcbiAgICAgICAgICAgIHRhZyA9PSBcIm1ldGFcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGFnID0gXCJkaXZcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRhZyA9PSBcInZpZGVfXCIpIHtcbiAgICAgICAgICAgIHRhZyA9IFwidmlkZW9cIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRhZyA9PSBcImF1ZGlfXCIpIHtcbiAgICAgICAgICAgIHRhZyA9IFwiYXVkaW9cIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRhZyA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBjdXN0b20gPSAhIXNlbGYuY3VzdG9tUmVuZGVyZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZShQc2V1ZG9FbGVtZW50LlBTRVVET19BVFRSKSkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBlbGVtZW50U3R5bGVbXCJjb250ZW50XCJdICYmXG4gICAgICAgICAgICAgIGVsZW1lbnRTdHlsZVtcImNvbnRlbnRcIl0udmFsdWUgJiZcbiAgICAgICAgICAgICAgZWxlbWVudFN0eWxlW1wiY29udGVudFwiXS52YWx1ZS51cmxcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB0YWcgPSBcImltZ1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChucyA9PSBCYXNlLk5TLmVwdWIpIHtcbiAgICAgICAgICB0YWcgPSBcInNwYW5cIjtcbiAgICAgICAgICBucyA9IEJhc2UuTlMuWEhUTUw7XG4gICAgICAgIH0gZWxzZSBpZiAobnMgPT0gQmFzZS5OUy5GQjIpIHtcbiAgICAgICAgICBucyA9IEJhc2UuTlMuWEhUTUw7XG4gICAgICAgICAgaWYgKHRhZyA9PSBcImltYWdlXCIpIHtcbiAgICAgICAgICAgIHRhZyA9IFwiZGl2XCI7XG4gICAgICAgICAgICBjb25zdCBpbWFnZVJlZiA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlTlMoQmFzZS5OUy5YTElOSywgXCJocmVmXCIpO1xuICAgICAgICAgICAgaWYgKGltYWdlUmVmICYmIGltYWdlUmVmLmNoYXJBdCgwKSA9PSBcIiNcIikge1xuICAgICAgICAgICAgICBjb25zdCBpbWFnZUJpbmFyeSA9IHNlbGYueG1sZG9jLmdldEVsZW1lbnQoaW1hZ2VSZWYpO1xuICAgICAgICAgICAgICBpZiAoaW1hZ2VCaW5hcnkpIHtcbiAgICAgICAgICAgICAgICBpbm5lciA9IHNlbGYuY3JlYXRlRWxlbWVudChucywgXCJpbWdcIik7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVkaWFUeXBlID1cbiAgICAgICAgICAgICAgICAgIGltYWdlQmluYXJ5LmdldEF0dHJpYnV0ZShcImNvbnRlbnQtdHlwZVwiKSB8fCBcImltYWdlL2pwZWdcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBpbm5lclNyYyA9IGBkYXRhOiR7bWVkaWFUeXBlfTtiYXNlNjQsJHtpbWFnZUJpbmFyeS50ZXh0Q29udGVudC5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgL1sgXFx0XFxuXFx0XS9nLFxuICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICApfWA7XG4gICAgICAgICAgICAgICAgZmV0Y2hlcnMucHVzaChUYXNrVXRpbC5sb2FkRWxlbWVudChpbm5lciwgaW5uZXJTcmMpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YWcgPSBmYjJSZW1hcFt0YWddO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIXRhZykge1xuICAgICAgICAgICAgdGFnID0gc2VsZi5ub2RlQ29udGV4dC5pbmxpbmUgPyBcInNwYW5cIiA6IFwiZGl2XCI7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG5zID09IEJhc2UuTlMuTkNYKSB7XG4gICAgICAgICAgbnMgPSBCYXNlLk5TLlhIVE1MO1xuICAgICAgICAgIGlmICh0YWcgPT0gXCJuY3hcIiB8fCB0YWcgPT0gXCJuYXZQb2ludFwiKSB7XG4gICAgICAgICAgICB0YWcgPSBcImRpdlwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGFnID09IFwibmF2TGFiZWxcIikge1xuICAgICAgICAgICAgLy8gQ2hlYXQgaGVyZS4gVHJhbnNsYXRlIHNvdXJjZSB0byBIVE1MLCBzbyBpdCB3aWxsIHBsdWdcbiAgICAgICAgICAgIC8vIGluIGludG8gdGhlIHJlc3Qgb2YgdGhlIHBpcGVsaW5lLlxuICAgICAgICAgICAgdGFnID0gXCJzcGFuXCI7XG4gICAgICAgICAgICBjb25zdCBuYXZQYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICAgICAgICBpZiAobmF2UGFyZW50KSB7XG4gICAgICAgICAgICAgIC8vIGZpbmQgdGhlIGNvbnRlbnQgZWxlbWVudFxuICAgICAgICAgICAgICBsZXQgaHJlZjogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICAgICAgICAgIGZvciAobGV0IGM6IE5vZGUgPSBuYXZQYXJlbnQuZmlyc3RDaGlsZDsgYzsgYyA9IGMubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoYy5ub2RlVHlwZSAhPSAxKSB7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRFbGVtZW50ID0gYyBhcyBFbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIGNoaWxkRWxlbWVudC5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5OQ1ggJiZcbiAgICAgICAgICAgICAgICAgIGNoaWxkRWxlbWVudC5sb2NhbE5hbWUgPT0gXCJjb250ZW50XCJcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGhyZWYgPSBjaGlsZEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwic3JjXCIpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChocmVmKSB7XG4gICAgICAgICAgICAgICAgdGFnID0gXCJhXCI7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMsIFwiYVwiKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImhyZWZcIiwgaHJlZik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFnID0gXCJzcGFuXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG5zID09IEJhc2UuTlMuU0hBRE9XKSB7XG4gICAgICAgICAgbnMgPSBCYXNlLk5TLlhIVE1MO1xuICAgICAgICAgIHRhZyA9IHNlbGYubm9kZUNvbnRleHQuaW5saW5lID8gXCJzcGFuXCIgOiBcImRpdlwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN1c3RvbSA9ICEhc2VsZi5jdXN0b21SZW5kZXJlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGlzdEl0ZW0pIHtcbiAgICAgICAgICBpZiAoZmlyc3RUaW1lKSB7XG4gICAgICAgICAgICB0YWcgPSBcImxpXCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhZyA9IFwiZGl2XCI7XG4gICAgICAgICAgICBkaXNwbGF5ID0gQ3NzLmlkZW50LmJsb2NrO1xuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImRpc3BsYXlcIl0gPSBkaXNwbGF5O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0YWcgPT0gXCJib2R5XCIgfHwgdGFnID09IFwibGlcIikge1xuICAgICAgICAgIHRhZyA9IFwiZGl2XCI7XG4gICAgICAgIH0gZWxzZSBpZiAodGFnID09IFwicVwiKSB7XG4gICAgICAgICAgdGFnID0gXCJzcGFuXCI7XG4gICAgICAgIH0gZWxzZSBpZiAodGFnID09IFwiYVwiKSB7XG4gICAgICAgICAgY29uc3QgaHAgPSBjb21wdXRlZFN0eWxlW1wiaHlwZXJsaW5rLXByb2Nlc3NpbmdcIl07XG4gICAgICAgICAgaWYgKGhwICYmIGhwLnRvU3RyaW5nKCkgIT0gXCJub3JtYWxcIikge1xuICAgICAgICAgICAgdGFnID0gXCJzcGFuXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wdXRlZFN0eWxlW1wiYmVoYXZpb3JcIl0pIHtcbiAgICAgICAgICBjb25zdCBiZWhhdmlvciA9IGNvbXB1dGVkU3R5bGVbXCJiZWhhdmlvclwiXS50b1N0cmluZygpO1xuICAgICAgICAgIGlmIChiZWhhdmlvciAhPSBcIm5vbmVcIiAmJiBzZWxmLmN1c3RvbVJlbmRlcmVyKSB7XG4gICAgICAgICAgICBjdXN0b20gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgKGVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLmRhdGFzZXQgJiZcbiAgICAgICAgICBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtbWF0aC10eXBlc2V0XCIpID09PSBcInRydWVcIlxuICAgICAgICApIHtcbiAgICAgICAgICBjdXN0b20gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBlbGVtUmVzdWx0OiBUYXNrLlJlc3VsdDxFbGVtZW50PjtcbiAgICAgICAgaWYgKGN1c3RvbSkge1xuICAgICAgICAgIGNvbnN0IHBhcmVudE5vZGUgPSBzZWxmLm5vZGVDb250ZXh0LnBhcmVudFxuICAgICAgICAgICAgPyBzZWxmLm5vZGVDb250ZXh0LnBhcmVudC52aWV3Tm9kZVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgIGVsZW1SZXN1bHQgPSBzZWxmLmN1c3RvbVJlbmRlcmVyKFxuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgIHBhcmVudE5vZGUgYXMgRWxlbWVudCxcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGUsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtUmVzdWx0ID0gVGFzay5uZXdSZXN1bHQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbVJlc3VsdC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoY3VzdG9tKSB7XG4gICAgICAgICAgICAgIG5lZWRUb1Byb2Nlc3NDaGlsZHJlbiA9XG4gICAgICAgICAgICAgICAgcmVzdWx0LmdldEF0dHJpYnV0ZShcImRhdGEtYWRhcHQtcHJvY2Vzcy1jaGlsZHJlblwiKSA9PSBcInRydWVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gc2VsZi5jcmVhdGVFbGVtZW50KG5zLCB0YWcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGFnID09IFwiYVwiKSB7XG4gICAgICAgICAgICByZXN1bHQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNlbGYucGFnZS5ocmVmSGFuZGxlciwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW5uZXIpIHtcbiAgICAgICAgICAgIHNlbGYuYXBwbHlQc2V1ZG9lbGVtZW50U3R5bGUoc2VsZi5ub2RlQ29udGV4dCwgXCJpbm5lclwiLCBpbm5lcik7XG4gICAgICAgICAgICByZXN1bHQuYXBwZW5kQ2hpbGQoaW5uZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICByZXN1bHQubG9jYWxOYW1lID09IFwiaWZyYW1lXCIgJiZcbiAgICAgICAgICAgIHJlc3VsdC5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5YSFRNTFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaW5pdElGcmFtZShyZXN1bHQgYXMgSFRNTElGcmFtZUVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBpbWFnZVJlc29sdXRpb24gPSBzZWxmLm5vZGVDb250ZXh0LmluaGVyaXRlZFByb3BzW1xuICAgICAgICAgICAgXCJpbWFnZS1yZXNvbHV0aW9uXCJcbiAgICAgICAgICBdIGFzIG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICAgICAgICBjb25zdCBpbWFnZXM6IHtcbiAgICAgICAgICAgIGltYWdlOiBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgZmV0Y2hlcjogVGFza1V0aWwuRmV0Y2hlcjxzdHJpbmc+O1xuICAgICAgICAgIH1bXSA9IFtdO1xuICAgICAgICAgIGNvbnN0IGNzc1dpZHRoID0gY29tcHV0ZWRTdHlsZVtcIndpZHRoXCJdO1xuICAgICAgICAgIGNvbnN0IGNzc0hlaWdodCA9IGNvbXB1dGVkU3R5bGVbXCJoZWlnaHRcIl07XG4gICAgICAgICAgY29uc3QgYXR0cldpZHRoID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKTtcbiAgICAgICAgICBjb25zdCBhdHRySGVpZ2h0ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIik7XG4gICAgICAgICAgY29uc3QgaGFzQXV0b1dpZHRoID1cbiAgICAgICAgICAgIGNzc1dpZHRoID09PSBDc3MuaWRlbnQuYXV0byB8fCAoIWNzc1dpZHRoICYmICFhdHRyV2lkdGgpO1xuICAgICAgICAgIGNvbnN0IGhhc0F1dG9IZWlnaHQgPVxuICAgICAgICAgICAgY3NzSGVpZ2h0ID09PSBDc3MuaWRlbnQuYXV0byB8fCAoIWNzc0hlaWdodCAmJiAhYXR0ckhlaWdodCk7XG4gICAgICAgICAgaWYgKGVsZW1lbnQubmFtZXNwYWNlVVJJICE9IEJhc2UuTlMuRkIyIHx8IHRhZyA9PSBcInRkXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBlbGVtZW50LmF0dHJpYnV0ZXM7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVDb3VudCA9IGF0dHJpYnV0ZXMubGVuZ3RoO1xuICAgICAgICAgICAgbGV0IGRlbGF5ZWRTcmM6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRyaWJ1dGVDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZU5TID0gYXR0cmlidXRlLm5hbWVzcGFjZVVSSTtcbiAgICAgICAgICAgICAgbGV0IGF0dHJpYnV0ZU5hbWUgPSBhdHRyaWJ1dGUubG9jYWxOYW1lO1xuICAgICAgICAgICAgICBsZXQgYXR0cmlidXRlVmFsdWUgPSBhdHRyaWJ1dGUubm9kZVZhbHVlO1xuICAgICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZU5TKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZU5hbWUubWF0Y2goL15vbi8pKSB7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gZG9uJ3QgcHJvcGFnYXRlIEphdmFTY3JpcHQgY29kZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlTmFtZSA9PSBcInN0eWxlXCIpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyB3ZSBkbyBzdHlsaW5nIG91cnNlbHZlc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlTmFtZSA9PSBcImlkXCIgfHwgYXR0cmlidXRlTmFtZSA9PSBcIm5hbWVcIikge1xuICAgICAgICAgICAgICAgICAgLy8gUHJvcGFnYXRlIHRyYW5zZm9ybWVkIGlkcyBhbmQgY29sbGVjdCB0aGVtIG9uIHRoZSBwYWdlXG4gICAgICAgICAgICAgICAgICAvLyAob25seSBmaXJzdCB0aW1lKS5cbiAgICAgICAgICAgICAgICAgIGlmIChmaXJzdFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlVmFsdWUgPSBzZWxmLmRvY3VtZW50VVJMVHJhbnNmb3JtZXIudHJhbnNmb3JtRnJhZ21lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgc2VsZi54bWxkb2MudXJsLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlLnJlZ2lzdGVyRWxlbWVudFdpdGhJZChyZXN1bHQsIGF0dHJpYnV0ZVZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogdW5kZXJzdGFuZCB0aGUgZWxlbWVudCB3ZSBhcmUgd29ya2luZyB3aXRoLlxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWUgPT0gXCJzcmNcIiB8fFxuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9PSBcImhyZWZcIiB8fFxuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9PSBcInBvc3RlclwiXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZSA9IHNlbGYucmVzb2x2ZVVSTChhdHRyaWJ1dGVWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlTmFtZSA9PT0gXCJocmVmXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlVmFsdWUgPSBzZWxmLmRvY3VtZW50VVJMVHJhbnNmb3JtZXIudHJhbnNmb3JtVVJMKFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZVZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIHNlbGYueG1sZG9jLnVybCxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZU5hbWUgPT0gXCJzcmNzZXRcIikge1xuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlVmFsdWUgPSBhdHRyaWJ1dGVWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAuc3BsaXQoXCIsXCIpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKHZhbHVlKSA9PiBzZWxmLnJlc29sdmVVUkwodmFsdWUudHJpbSgpKSlcbiAgICAgICAgICAgICAgICAgICAgLmpvaW4oXCIsXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lID09PSBcInBvc3RlclwiICYmXG4gICAgICAgICAgICAgICAgICB0YWcgPT09IFwidmlkZW9cIiAmJlxuICAgICAgICAgICAgICAgICAgbnMgPT09IEJhc2UuTlMuWEhUTUwgJiZcbiAgICAgICAgICAgICAgICAgIGhhc0F1dG9XaWR0aCAmJlxuICAgICAgICAgICAgICAgICAgaGFzQXV0b0hlaWdodFxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGZldGNoZXIgPSBUYXNrVXRpbC5sb2FkRWxlbWVudChpbWFnZSwgYXR0cmlidXRlVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgZmV0Y2hlcnMucHVzaChmZXRjaGVyKTtcbiAgICAgICAgICAgICAgICAgIGltYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2UsXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHJlc3VsdCBhcyBIVE1MRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgZmV0Y2hlcixcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVOUyA9PSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvXCIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gbmFtZXNwYWNlIGRlY2xhcmF0aW9uIChpbiBGaXJlZm94KVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZU5TID09IEJhc2UuTlMuWExJTkspIHtcbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlTmFtZSA9PSBcImhyZWZcIikge1xuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlVmFsdWUgPSBzZWxmLnJlc29sdmVVUkwoYXR0cmlidXRlVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAobnMgPT0gQmFzZS5OUy5TVkcgJiYgL15bQS1aXFwtXSskLy50ZXN0KGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgRWRnZSBidWdcbiAgICAgICAgICAgICAgICAvLyBTZWVcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL2VuLXVzL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy81NTc5MzExL1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWUgPSBhdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHNlbGYuaXNTVkdVcmxBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZSA9IFVybHMudHJhbnNmb3JtVVJJcyhcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZVZhbHVlLFxuICAgICAgICAgICAgICAgICAgc2VsZi54bWxkb2MudXJsLFxuICAgICAgICAgICAgICAgICAgc2VsZi5kb2N1bWVudFVSTFRyYW5zZm9ybWVyLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZU5TKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlUHJlZml4ID0gbmFtZXNwYWNlUHJlZml4TWFwW2F0dHJpYnV0ZU5TXTtcbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlUHJlZml4KSB7XG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lID0gYCR7YXR0cmlidXRlUHJlZml4fToke2F0dHJpYnV0ZU5hbWV9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWUgPT0gXCJzcmNcIiAmJlxuICAgICAgICAgICAgICAgICFhdHRyaWJ1dGVOUyAmJlxuICAgICAgICAgICAgICAgICh0YWcgPT0gXCJpbWdcIiB8fCB0YWcgPT0gXCJpbnB1dFwiKSAmJlxuICAgICAgICAgICAgICAgIG5zID09IEJhc2UuTlMuWEhUTUxcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gSFRNTCBpbWcgZWxlbWVudCBzaG91bGQgc3RhcnQgbG9hZGluZyBvbmx5IG9uY2UgYWxsXG4gICAgICAgICAgICAgICAgLy8gYXR0cmlidXRlcyBhcmUgYXNzaWduZWQuXG4gICAgICAgICAgICAgICAgZGVsYXllZFNyYyA9IGF0dHJpYnV0ZVZhbHVlO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWUgPT0gXCJocmVmXCIgJiZcbiAgICAgICAgICAgICAgICB0YWcgPT0gXCJpbWFnZVwiICYmXG4gICAgICAgICAgICAgICAgbnMgPT0gQmFzZS5OUy5TVkcgJiZcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOUyA9PSBCYXNlLk5TLlhMSU5LXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHNlbGYucGFnZS5mZXRjaGVycy5wdXNoKFxuICAgICAgICAgICAgICAgICAgVGFza1V0aWwubG9hZEVsZW1lbnQocmVzdWx0LCBhdHRyaWJ1dGVWYWx1ZSksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBkb2N1bWVudCBpcyBub3QgWE1MIGRvY3VtZW50IChlLmcuIG5vbi1YTUwgSFRNTClcbiAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGVOUyBjYW4gYmUgbnVsbFxuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVOUykge1xuICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldEF0dHJpYnV0ZU5TKFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOUyxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlVmFsdWUsXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICByZXN1bHQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZWxheWVkU3JjKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGltYWdlID0gdGFnID09PSBcImlucHV0XCIgPyBuZXcgSW1hZ2UoKSA6IHJlc3VsdDtcbiAgICAgICAgICAgICAgY29uc3QgaW1hZ2VGZXRjaGVyID0gVGFza1V0aWwubG9hZEVsZW1lbnQoaW1hZ2UsIGRlbGF5ZWRTcmMpO1xuICAgICAgICAgICAgICBpZiAoaW1hZ2UgIT09IHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIChyZXN1bHQgYXMgSFRNTEltYWdlRWxlbWVudCkuc3JjID0gZGVsYXllZFNyYztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoIWhhc0F1dG9XaWR0aCAmJiAhaGFzQXV0b0hlaWdodCkge1xuICAgICAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gd2FpdCBmb3IgdGhlIGltYWdlLCBkb2VzIG5vdCBhZmZlY3QgbGF5b3V0XG4gICAgICAgICAgICAgICAgc2VsZi5wYWdlLmZldGNoZXJzLnB1c2goaW1hZ2VGZXRjaGVyKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBoYXNBdXRvV2lkdGggJiZcbiAgICAgICAgICAgICAgICAgIGhhc0F1dG9IZWlnaHQgJiZcbiAgICAgICAgICAgICAgICAgIGltYWdlUmVzb2x1dGlvbiAmJlxuICAgICAgICAgICAgICAgICAgaW1hZ2VSZXNvbHV0aW9uICE9PSAxXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBpbWFnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlOiBpbWFnZSBhcyBIVE1MRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogcmVzdWx0IGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICBmZXRjaGVyOiBpbWFnZUZldGNoZXIsXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmV0Y2hlcnMucHVzaChpbWFnZUZldGNoZXIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlbGV0ZSBjb21wdXRlZFN0eWxlW1wiY29udGVudFwiXTtcbiAgICAgICAgICBjb25zdCBsaXN0U3R5bGVJbWFnZSA9IGNvbXB1dGVkU3R5bGVbXCJsaXN0LXN0eWxlLWltYWdlXCJdO1xuICAgICAgICAgIGlmIChsaXN0U3R5bGVJbWFnZSAmJiBsaXN0U3R5bGVJbWFnZSBpbnN0YW5jZW9mIENzcy5VUkwpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RTdHlsZVVSTCA9IChsaXN0U3R5bGVJbWFnZSBhcyBDc3MuVVJMKS51cmw7XG4gICAgICAgICAgICBmZXRjaGVycy5wdXNoKFRhc2tVdGlsLmxvYWRFbGVtZW50KG5ldyBJbWFnZSgpLCBsaXN0U3R5bGVVUkwpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZi5wcmVwcm9jZXNzRWxlbWVudFN0eWxlKGNvbXB1dGVkU3R5bGUpO1xuICAgICAgICAgIHNlbGYuYXBwbHlDb21wdXRlZFN0eWxlcyhyZXN1bHQsIGNvbXB1dGVkU3R5bGUpO1xuICAgICAgICAgIGlmICghc2VsZi5ub2RlQ29udGV4dC5pbmxpbmUpIHtcbiAgICAgICAgICAgIGxldCBibGFja0xpc3Q6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSBudWxsO1xuICAgICAgICAgICAgaWYgKCFmaXJzdFRpbWUpIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHNlbGYubm9kZUNvbnRleHQuaW5oZXJpdGVkUHJvcHNbXCJib3gtZGVjb3JhdGlvbi1icmVha1wiXSAhPT1cbiAgICAgICAgICAgICAgICBcImNsb25lXCJcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgYmxhY2tMaXN0ID0gc2VsZi5ub2RlQ29udGV4dC52ZXJ0aWNhbFxuICAgICAgICAgICAgICAgICAgPyBmcm9udEVkZ2VCbGFja0xpc3RWZXJ0XG4gICAgICAgICAgICAgICAgICA6IGZyb250RWRnZUJsYWNrTGlzdEhvcjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIGJveC1kZWNvcmF0aW9uLWJyZWFrOiBjbG9uZSwgY2xvbmVkIG1hcmdpbnMgYXJlIGFsd2F5c1xuICAgICAgICAgICAgICAgIC8vIHRydW5jYXRlZCB0byB6ZXJvLlxuICAgICAgICAgICAgICAgIGJsYWNrTGlzdCA9IHNlbGYubm9kZUNvbnRleHQudmVydGljYWxcbiAgICAgICAgICAgICAgICAgID8gZnJvbnRFZGdlVW5mb3JjZWRCcmVha0JsYWNrTGlzdFZlcnRcbiAgICAgICAgICAgICAgICAgIDogZnJvbnRFZGdlVW5mb3JjZWRCcmVha0JsYWNrTGlzdEhvcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChhdFVuZm9yY2VkQnJlYWspIHtcbiAgICAgICAgICAgICAgYmxhY2tMaXN0ID0gc2VsZi5ub2RlQ29udGV4dC52ZXJ0aWNhbFxuICAgICAgICAgICAgICAgID8gZnJvbnRFZGdlVW5mb3JjZWRCcmVha0JsYWNrTGlzdFZlcnRcbiAgICAgICAgICAgICAgICA6IGZyb250RWRnZVVuZm9yY2VkQnJlYWtCbGFja0xpc3RIb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmxhY2tMaXN0KSB7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgcHJvcE5hbWUgaW4gYmxhY2tMaXN0KSB7XG4gICAgICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShyZXN1bHQsIHByb3BOYW1lLCBibGFja0xpc3RbcHJvcE5hbWVdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobGlzdEl0ZW0pIHtcbiAgICAgICAgICAgIHJlc3VsdC5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgIFwidmFsdWVcIixcbiAgICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcInVhLWxpc3QtaXRlbS1jb3VudFwiXS5zdHJpbmdWYWx1ZSgpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZi52aWV3Tm9kZSA9IHJlc3VsdDtcbiAgICAgICAgICBpZiAoZmV0Y2hlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBUYXNrVXRpbC53YWl0Rm9yRmV0Y2hlcnMoZmV0Y2hlcnMpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoaW1hZ2VSZXNvbHV0aW9uID4gMCkge1xuICAgICAgICAgICAgICAgIHNlbGYubW9kaWZ5RWxlbURpbWVuc2lvbldpdGhJbWFnZVJlc29sdXRpb24oXG4gICAgICAgICAgICAgICAgICBpbWFnZXMsXG4gICAgICAgICAgICAgICAgICBpbWFnZVJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlLFxuICAgICAgICAgICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC52ZXJ0aWNhbCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChuZWVkVG9Qcm9jZXNzQ2hpbGRyZW4pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZyYW1lLnRpbWVTbGljZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBmcmFtZS5maW5pc2gobmVlZFRvUHJvY2Vzc0NoaWxkcmVuKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBwcml2YXRlIHByb2Nlc3NBZnRlcklmY29udGludWVzKFxuICAgIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgY2FzY1N0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBzdHlsZXI6IENzc1N0eWxlci5BYnN0cmFjdFN0eWxlcixcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICApIHtcbiAgICBjb25zdCBwc2V1ZG9NYXAgPSB0aGlzLmdldFBzZXVkb01hcChcbiAgICAgIGNhc2NTdHlsZSxcbiAgICAgIHRoaXMucmVnaW9uSWRzLFxuICAgICAgdGhpcy5pc0Zvb3Rub3RlLFxuICAgICAgdGhpcy5ub2RlQ29udGV4dCxcbiAgICAgIGNvbnRleHQsXG4gICAgKTtcbiAgICBpZiAoIXBzZXVkb01hcCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBwc2V1ZG9NYXBbXCJhZnRlci1pZi1jb250aW51ZXNcIl0gJiZcbiAgICAgIHBzZXVkb01hcFtcImFmdGVyLWlmLWNvbnRpbnVlc1wiXVtcImNvbnRlbnRcIl1cbiAgICApIHtcbiAgICAgIGNvbnN0IHNoYWRvd1N0eWxlciA9IG5ldyBQc2V1ZG9FbGVtZW50LlBzZXVkb2VsZW1lbnRTdHlsZXIoXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIGNhc2NTdHlsZSxcbiAgICAgICAgc3R5bGVyLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICB0aGlzLmV4cHJDb250ZW50TGlzdGVuZXIsXG4gICAgICApO1xuICAgICAgdGhpcy5ub2RlQ29udGV4dC5hZnRlcklmQ29udGludWVzID0gbmV3IExheW91dC5BZnRlcklmQ29udGludWVzKFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICBzaGFkb3dTdHlsZXIsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIGlzU1ZHVXJsQXR0cmlidXRlXG4gICAqL1xuICBpc1NWR1VybEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gVmlld0ZhY3RvcnkuU1ZHX1VSTF9BVFRSSUJVVEVTLmluY2x1ZGVzKGF0dHJpYnV0ZU5hbWUudG9Mb3dlckNhc2UoKSk7XG4gIH1cblxuICBtb2RpZnlFbGVtRGltZW5zaW9uV2l0aEltYWdlUmVzb2x1dGlvbihcbiAgICBpbWFnZXM6IHtcbiAgICAgIGltYWdlOiBIVE1MRWxlbWVudDtcbiAgICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgICAgZmV0Y2hlcjogVGFza1V0aWwuRmV0Y2hlcjxzdHJpbmc+O1xuICAgIH1bXSxcbiAgICBpbWFnZVJlc29sdXRpb246IG51bWJlcixcbiAgICBjb21wdXRlZFN0eWxlOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSxcbiAgICBpc1ZlcnRpY2FsOiBib29sZWFuLFxuICApIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpbWFnZXMuZm9yRWFjaCgocGFyYW0pID0+IHtcbiAgICAgIGlmIChwYXJhbS5mZXRjaGVyLmdldCgpLmdldCgpID09PSBcImxvYWRcIikge1xuICAgICAgICBjb25zdCBpbWcgPSBwYXJhbS5pbWFnZTtcbiAgICAgICAgbGV0IHNjYWxlZFdpZHRoID0gKGltZyBhcyBIVE1MSW1hZ2VFbGVtZW50KS53aWR0aCAvIGltYWdlUmVzb2x1dGlvbjtcbiAgICAgICAgbGV0IHNjYWxlZEhlaWdodCA9IChpbWcgYXMgSFRNTEltYWdlRWxlbWVudCkuaGVpZ2h0IC8gaW1hZ2VSZXNvbHV0aW9uO1xuICAgICAgICBjb25zdCBlbGVtID0gcGFyYW0uZWxlbWVudDtcbiAgICAgICAgaWYgKHNjYWxlZFdpZHRoID4gMCAmJiBzY2FsZWRIZWlnaHQgPiAwKSB7XG4gICAgICAgICAgaWYgKGNvbXB1dGVkU3R5bGVbXCJib3gtc2l6aW5nXCJdID09PSBDc3MuaWRlbnQuYm9yZGVyX2JveCkge1xuICAgICAgICAgICAgaWYgKGNvbXB1dGVkU3R5bGVbXCJib3JkZXItbGVmdC1zdHlsZVwiXSAhPT0gQ3NzLmlkZW50Lm5vbmUpIHtcbiAgICAgICAgICAgICAgc2NhbGVkV2lkdGggKz0gQ3NzLnRvTnVtYmVyKFxuICAgICAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJib3JkZXItbGVmdC13aWR0aFwiXSxcbiAgICAgICAgICAgICAgICBzZWxmLmNvbnRleHQsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29tcHV0ZWRTdHlsZVtcImJvcmRlci1yaWdodC1zdHlsZVwiXSAhPT0gQ3NzLmlkZW50Lm5vbmUpIHtcbiAgICAgICAgICAgICAgc2NhbGVkV2lkdGggKz0gQ3NzLnRvTnVtYmVyKFxuICAgICAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJib3JkZXItcmlnaHQtd2lkdGhcIl0sXG4gICAgICAgICAgICAgICAgc2VsZi5jb250ZXh0LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbXB1dGVkU3R5bGVbXCJib3JkZXItdG9wLXN0eWxlXCJdICE9PSBDc3MuaWRlbnQubm9uZSkge1xuICAgICAgICAgICAgICBzY2FsZWRIZWlnaHQgKz0gQ3NzLnRvTnVtYmVyKFxuICAgICAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJib3JkZXItdG9wLXdpZHRoXCJdLFxuICAgICAgICAgICAgICAgIHNlbGYuY29udGV4dCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb21wdXRlZFN0eWxlW1wiYm9yZGVyLWJvdHRvbS1zdHlsZVwiXSAhPT0gQ3NzLmlkZW50Lm5vbmUpIHtcbiAgICAgICAgICAgICAgc2NhbGVkSGVpZ2h0ICs9IENzcy50b051bWJlcihcbiAgICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiYm9yZGVyLWJvdHRvbS13aWR0aFwiXSxcbiAgICAgICAgICAgICAgICBzZWxmLmNvbnRleHQsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbWFnZVJlc29sdXRpb24gPiAxKSB7XG4gICAgICAgICAgICBjb25zdCBtYXhXaWR0aCA9IGNvbXB1dGVkU3R5bGVbXCJtYXgtd2lkdGhcIl0gfHwgQ3NzLmlkZW50Lm5vbmU7XG4gICAgICAgICAgICBjb25zdCBtYXhIZWlnaHQgPSBjb21wdXRlZFN0eWxlW1wibWF4LWhlaWdodFwiXSB8fCBDc3MuaWRlbnQubm9uZTtcbiAgICAgICAgICAgIGlmIChtYXhXaWR0aCA9PT0gQ3NzLmlkZW50Lm5vbmUgJiYgbWF4SGVpZ2h0ID09PSBDc3MuaWRlbnQubm9uZSkge1xuICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwibWF4LXdpZHRoXCIsIGAke3NjYWxlZFdpZHRofXB4YCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICBtYXhXaWR0aCAhPT0gQ3NzLmlkZW50Lm5vbmUgJiZcbiAgICAgICAgICAgICAgbWF4SGVpZ2h0ID09PSBDc3MuaWRlbnQubm9uZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbSwgXCJ3aWR0aFwiLCBgJHtzY2FsZWRXaWR0aH1weGApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgbWF4V2lkdGggPT09IENzcy5pZGVudC5ub25lICYmXG4gICAgICAgICAgICAgIG1heEhlaWdodCAhPT0gQ3NzLmlkZW50Lm5vbmVcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwiaGVpZ2h0XCIsIGAke3NjYWxlZEhlaWdodH1weGApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gbWF4V2lkdGggIT0gbm9uZSAmJiBtYXhIZWlnaHQgIT0gbm9uZVxuICAgICAgICAgICAgICBBc3NlcnRzLmFzc2VydChtYXhXaWR0aC5pc051bWVyaWMoKSk7XG4gICAgICAgICAgICAgIEFzc2VydHMuYXNzZXJ0KG1heEhlaWdodC5pc051bWVyaWMoKSk7XG4gICAgICAgICAgICAgIGNvbnN0IG51bWVyaWNNYXhXaWR0aCA9IG1heFdpZHRoIGFzIENzcy5OdW1lcmljO1xuICAgICAgICAgICAgICBjb25zdCBudW1lcmljTWF4SGVpZ2h0ID0gbWF4SGVpZ2h0IGFzIENzcy5OdW1lcmljO1xuICAgICAgICAgICAgICBpZiAobnVtZXJpY01heFdpZHRoLnVuaXQgIT09IFwiJVwiKSB7XG4gICAgICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgIGVsZW0sXG4gICAgICAgICAgICAgICAgICBcIm1heC13aWR0aFwiLFxuICAgICAgICAgICAgICAgICAgYCR7TWF0aC5taW4oXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlZFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBDc3MudG9OdW1iZXIobnVtZXJpY01heFdpZHRoLCBzZWxmLmNvbnRleHQpLFxuICAgICAgICAgICAgICAgICAgKX1weGAsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChudW1lcmljTWF4SGVpZ2h0LnVuaXQgIT09IFwiJVwiKSB7XG4gICAgICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgIGVsZW0sXG4gICAgICAgICAgICAgICAgICBcIm1heC1oZWlnaHRcIixcbiAgICAgICAgICAgICAgICAgIGAke01hdGgubWluKFxuICAgICAgICAgICAgICAgICAgICBzY2FsZWRIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIENzcy50b051bWJlcihudW1lcmljTWF4SGVpZ2h0LCBzZWxmLmNvbnRleHQpLFxuICAgICAgICAgICAgICAgICAgKX1weGAsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtLCBcImhlaWdodFwiLCBgJHtzY2FsZWRIZWlnaHR9cHhgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtLCBcIndpZHRoXCIsIGAke3NjYWxlZFdpZHRofXB4YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChpbWFnZVJlc29sdXRpb24gPCAxKSB7XG4gICAgICAgICAgICBjb25zdCBtaW5XaWR0aCA9IGNvbXB1dGVkU3R5bGVbXCJtaW4td2lkdGhcIl0gfHwgQ3NzLm51bWVyaWNaZXJvO1xuICAgICAgICAgICAgY29uc3QgbWluSGVpZ2h0ID0gY29tcHV0ZWRTdHlsZVtcIm1pbi1oZWlnaHRcIl0gfHwgQ3NzLm51bWVyaWNaZXJvO1xuICAgICAgICAgICAgQXNzZXJ0cy5hc3NlcnQobWluV2lkdGguaXNOdW1lcmljKCkpO1xuICAgICAgICAgICAgQXNzZXJ0cy5hc3NlcnQobWluV2lkdGguaXNOdW1lcmljKCkpO1xuICAgICAgICAgICAgY29uc3QgbnVtZXJpY01pbldpZHRoID0gbWluV2lkdGggYXMgQ3NzLk51bWVyaWM7XG4gICAgICAgICAgICBjb25zdCBudW1lcmljTWluSGVpZ2h0ID0gbWluSGVpZ2h0IGFzIENzcy5OdW1lcmljO1xuICAgICAgICAgICAgaWYgKG51bWVyaWNNaW5XaWR0aC5udW0gPT09IDAgJiYgbnVtZXJpY01pbkhlaWdodC5udW0gPT09IDApIHtcbiAgICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtLCBcIm1pbi13aWR0aFwiLCBgJHtzY2FsZWRXaWR0aH1weGApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgbnVtZXJpY01pbldpZHRoLm51bSAhPT0gMCAmJlxuICAgICAgICAgICAgICBudW1lcmljTWluSGVpZ2h0Lm51bSA9PT0gMFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbSwgXCJ3aWR0aFwiLCBgJHtzY2FsZWRXaWR0aH1weGApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgbnVtZXJpY01pbldpZHRoLm51bSA9PT0gMCAmJlxuICAgICAgICAgICAgICBudW1lcmljTWluSGVpZ2h0Lm51bSAhPT0gMFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbSwgXCJoZWlnaHRcIiwgYCR7c2NhbGVkSGVpZ2h0fXB4YCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBtaW5XaWR0aCAhPSAwICYmIG1pbkhlaWdodCAhPSAwXG4gICAgICAgICAgICAgIGlmIChudW1lcmljTWluV2lkdGgudW5pdCAhPT0gXCIlXCIpIHtcbiAgICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgZWxlbSxcbiAgICAgICAgICAgICAgICAgIFwibWluLXdpZHRoXCIsXG4gICAgICAgICAgICAgICAgICBgJHtNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVkV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIENzcy50b051bWJlcihudW1lcmljTWluV2lkdGgsIHNlbGYuY29udGV4dCksXG4gICAgICAgICAgICAgICAgICApfXB4YCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKG51bWVyaWNNaW5IZWlnaHQudW5pdCAhPT0gXCIlXCIpIHtcbiAgICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgZWxlbSxcbiAgICAgICAgICAgICAgICAgIFwibWluLWhlaWdodFwiLFxuICAgICAgICAgICAgICAgICAgYCR7TWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlZEhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgQ3NzLnRvTnVtYmVyKG51bWVyaWNNaW5IZWlnaHQsIHNlbGYuY29udGV4dCksXG4gICAgICAgICAgICAgICAgICApfXB4YCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwiaGVpZ2h0XCIsIGAke3NjYWxlZEhlaWdodH1weGApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwid2lkdGhcIiwgYCR7c2NhbGVkV2lkdGh9cHhgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcHJlcHJvY2Vzc0VsZW1lbnRTdHlsZShjb21wdXRlZFN0eWxlOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGhvb2tzOiBQbHVnaW4uUHJlUHJvY2Vzc0VsZW1lbnRTdHlsZUhvb2tbXSA9IFBsdWdpbi5nZXRIb29rc0Zvck5hbWUoXG4gICAgICBQbHVnaW4uSE9PS1MuUFJFUFJPQ0VTU19FTEVNRU5UX1NUWUxFLFxuICAgICk7XG4gICAgaG9va3MuZm9yRWFjaCgoaG9vaykgPT4ge1xuICAgICAgaG9vayhzZWxmLm5vZGVDb250ZXh0LCBjb21wdXRlZFN0eWxlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgZmluZEFuZFByb2Nlc3NSZXBlYXRpbmdFbGVtZW50cyhcbiAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgIHN0eWxlcjogQ3NzU3R5bGVyLkFic3RyYWN0U3R5bGVyLFxuICApIHtcbiAgICBmb3IgKFxuICAgICAgbGV0IGNoaWxkOiBOb2RlID0gZWxlbWVudC5maXJzdENoaWxkO1xuICAgICAgY2hpbGQ7XG4gICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nXG4gICAgKSB7XG4gICAgICBpZiAoY2hpbGQubm9kZVR5cGUgIT09IDEpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCBjb21wdXRlZFN0eWxlID0ge307XG4gICAgICBjb25zdCBlbGVtZW50U3R5bGUgPSBzdHlsZXIuZ2V0U3R5bGUoY2hpbGQgYXMgRWxlbWVudCwgZmFsc2UpO1xuICAgICAgdGhpcy5jb21wdXRlU3R5bGUoXG4gICAgICAgIHRoaXMubm9kZUNvbnRleHQudmVydGljYWwsXG4gICAgICAgIHRoaXMubm9kZUNvbnRleHQuZGlyZWN0aW9uID09PSBcInJ0bFwiLFxuICAgICAgICBlbGVtZW50U3R5bGUsXG4gICAgICAgIGNvbXB1dGVkU3R5bGUsXG4gICAgICApO1xuICAgICAgY29uc3QgcHJvY2Vzc1JlcGVhdE9uQnJlYWsgPSB0aGlzLnByb2Nlc3NSZXBlYXRPbkJyZWFrKGNvbXB1dGVkU3R5bGUpO1xuICAgICAgaWYgKCFwcm9jZXNzUmVwZWF0T25CcmVhaykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5ub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCBpbnN0YW5jZW9mXG4gICAgICAgICAgUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCAmJlxuICAgICAgICAhdGhpcy5ub2RlQ29udGV4dC5iZWxvbmdzVG8odGhpcy5ub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dClcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLm5vZGVDb250ZXh0LnBhcmVudDtcbiAgICAgIGNvbnN0IHBhcmVudEZvcm1hdHRpbmdDb250ZXh0ID0gcGFyZW50ICYmIHBhcmVudC5mb3JtYXR0aW5nQ29udGV4dDtcbiAgICAgIHRoaXMubm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQgPSBuZXcgUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgICAgcGFyZW50Rm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICAgIHRoaXMubm9kZUNvbnRleHQuc291cmNlTm9kZSBhcyBFbGVtZW50LFxuICAgICAgKTtcbiAgICAgICh0aGlzLm5vZGVDb250ZXh0XG4gICAgICAgIC5mb3JtYXR0aW5nQ29udGV4dCBhcyBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KS5pbml0aWFsaXplUmVwZXRpdGl2ZUVsZW1lbnRzKFxuICAgICAgICB0aGlzLm5vZGVDb250ZXh0LnZlcnRpY2FsLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHByb2Nlc3NSZXBlYXRPbkJyZWFrKGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9KSB7XG4gICAgbGV0IHJlcGVhdE9uQnJlYWsgPSBjb21wdXRlZFN0eWxlW1wicmVwZWF0LW9uLWJyZWFrXCJdO1xuICAgIGlmIChyZXBlYXRPbkJyZWFrICE9PSBDc3MuaWRlbnQubm9uZSkge1xuICAgICAgaWYgKHJlcGVhdE9uQnJlYWsgPT09IENzcy5pZGVudC5hdXRvKSB7XG4gICAgICAgIGlmIChjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSA9PT0gQ3NzLmlkZW50LnRhYmxlX2hlYWRlcl9ncm91cCkge1xuICAgICAgICAgIHJlcGVhdE9uQnJlYWsgPSBDc3MuaWRlbnQuaGVhZGVyO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbXB1dGVkU3R5bGVbXCJkaXNwbGF5XCJdID09PSBDc3MuaWRlbnQudGFibGVfZm9vdGVyX2dyb3VwKSB7XG4gICAgICAgICAgcmVwZWF0T25CcmVhayA9IENzcy5pZGVudC5mb290ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVwZWF0T25CcmVhayA9IENzcy5pZGVudC5ub25lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmVwZWF0T25CcmVhayAmJiByZXBlYXRPbkJyZWFrICE9PSBDc3MuaWRlbnQubm9uZSkge1xuICAgICAgICByZXR1cm4gcmVwZWF0T25CcmVhay50b1N0cmluZygpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlVGV4dE5vZGVWaWV3KCk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJjcmVhdGVUZXh0Tm9kZVZpZXdcIik7XG4gICAgdGhpcy5wcmVwcm9jZXNzVGV4dENvbnRlbnQoKS50aGVuKCgpID0+IHtcbiAgICAgIGNvbnN0IG9mZnNldEluTm9kZSA9IHNlbGYub2Zmc2V0SW5Ob2RlIHx8IDA7XG4gICAgICBjb25zdCB0ZXh0Q29udGVudCA9IERpZmYucmVzdG9yZU5ld1RleHQoXG4gICAgICAgIHNlbGYubm9kZUNvbnRleHQucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQsXG4gICAgICApLnN1YnN0cihvZmZzZXRJbk5vZGUpO1xuICAgICAgc2VsZi52aWV3Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHRDb250ZW50KTtcbiAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBwcml2YXRlIHByZXByb2Nlc3NUZXh0Q29udGVudCgpOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgaWYgKHRoaXMubm9kZUNvbnRleHQucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH1cbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBsZXQgb3JpZ2lubDogc3RyaW5nO1xuICAgIGxldCB0ZXh0Q29udGVudCA9IChvcmlnaW5sID0gc2VsZi5zb3VyY2VOb2RlLnRleHRDb250ZW50KTtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJwcmVwcm9jZXNzVGV4dENvbnRlbnRcIik7XG4gICAgY29uc3QgaG9va3M6IFBsdWdpbi5QcmVQcm9jZXNzVGV4dENvbnRlbnRIb29rW10gPSBQbHVnaW4uZ2V0SG9va3NGb3JOYW1lKFxuICAgICAgUGx1Z2luLkhPT0tTLlBSRVBST0NFU1NfVEVYVF9DT05URU5ULFxuICAgICk7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBmcmFtZVxuICAgICAgLmxvb3AoKCkgPT4ge1xuICAgICAgICBpZiAoaW5kZXggPj0gaG9va3MubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaG9va3NbaW5kZXgrK10oc2VsZi5ub2RlQ29udGV4dCwgdGV4dENvbnRlbnQpLnRoZW5Bc3luYyhcbiAgICAgICAgICAocHJvY2Vzc2VkVGV4dCkgPT4ge1xuICAgICAgICAgICAgdGV4dENvbnRlbnQgPSBwcm9jZXNzZWRUZXh0O1xuICAgICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBzZWxmLm5vZGVDb250ZXh0LnByZXByb2Nlc3NlZFRleHRDb250ZW50ID0gRGlmZi5kaWZmQ2hhcnMoXG4gICAgICAgICAgb3JpZ2lubCxcbiAgICAgICAgICB0ZXh0Q29udGVudCxcbiAgICAgICAgKTtcbiAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gaG9sZGluZyB0cnVlIGlmIGNoaWxkcmVuIHNob3VsZCBiZSBwcm9jZXNzZWRcbiAgICovXG4gIGNyZWF0ZU5vZGVWaWV3KFxuICAgIGZpcnN0VGltZTogYm9vbGVhbixcbiAgICBhdFVuZm9yY2VkQnJlYWs6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJjcmVhdGVOb2RlVmlld1wiKTtcbiAgICBsZXQgcmVzdWx0OiBUYXNrLlJlc3VsdDxib29sZWFuPjtcbiAgICBsZXQgbmVlZFRvUHJvY2Vzc0NoaWxkcmVuID0gdHJ1ZTtcbiAgICBpZiAoc2VsZi5zb3VyY2VOb2RlLm5vZGVUeXBlID09IDEpIHtcbiAgICAgIHJlc3VsdCA9IHNlbGYuY3JlYXRlRWxlbWVudFZpZXcoZmlyc3RUaW1lLCBhdFVuZm9yY2VkQnJlYWspO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc2VsZi5zb3VyY2VOb2RlLm5vZGVUeXBlID09IDgpIHtcbiAgICAgICAgc2VsZi52aWV3Tm9kZSA9IG51bGw7IC8vIGNvbW1lbnQgbm9kZVxuICAgICAgICByZXN1bHQgPSBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHNlbGYuY3JlYXRlVGV4dE5vZGVWaWV3KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC50aGVuKChwcm9jZXNzQ2hpbGRyZW4pID0+IHtcbiAgICAgIG5lZWRUb1Byb2Nlc3NDaGlsZHJlbiA9IHByb2Nlc3NDaGlsZHJlbjtcbiAgICAgIHNlbGYubm9kZUNvbnRleHQudmlld05vZGUgPSBzZWxmLnZpZXdOb2RlO1xuICAgICAgaWYgKHNlbGYudmlld05vZGUpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gc2VsZi5ub2RlQ29udGV4dC5wYXJlbnRcbiAgICAgICAgICA/IHNlbGYubm9kZUNvbnRleHQucGFyZW50LnZpZXdOb2RlXG4gICAgICAgICAgOiBzZWxmLnZpZXdSb290O1xuICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHNlbGYudmlld05vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmcmFtZS5maW5pc2gobmVlZFRvUHJvY2Vzc0NoaWxkcmVuKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzZXRDdXJyZW50KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBmaXJzdFRpbWU6IGJvb2xlYW4sXG4gICAgYXRVbmZvcmNlZEJyZWFrPzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIHRoaXMubm9kZUNvbnRleHQgPSBub2RlQ29udGV4dDtcbiAgICBpZiAobm9kZUNvbnRleHQpIHtcbiAgICAgIHRoaXMuc291cmNlTm9kZSA9IG5vZGVDb250ZXh0LnNvdXJjZU5vZGU7XG4gICAgICB0aGlzLm9mZnNldEluTm9kZSA9IG5vZGVDb250ZXh0Lm9mZnNldEluTm9kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zb3VyY2VOb2RlID0gbnVsbDtcbiAgICAgIHRoaXMub2Zmc2V0SW5Ob2RlID0gLTE7XG4gICAgfVxuICAgIHRoaXMudmlld05vZGUgPSBudWxsO1xuICAgIGlmICh0aGlzLm5vZGVDb250ZXh0KSB7XG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGVOb2RlVmlldyhmaXJzdFRpbWUsICEhYXRVbmZvcmNlZEJyZWFrKTtcbiAgICB9XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICB9XG5cbiAgcHJvY2Vzc1NoYWRvd0NvbnRlbnQocG9zOiBWdHJlZS5Ob2RlQ29udGV4dCk6IFZ0cmVlLk5vZGVDb250ZXh0IHtcbiAgICBpZiAoXG4gICAgICBwb3Muc2hhZG93Q29udGV4dCA9PSBudWxsIHx8XG4gICAgICAocG9zLnNvdXJjZU5vZGUgYXMgRWxlbWVudCkubG9jYWxOYW1lICE9IFwiY29udGVudFwiIHx8XG4gICAgICBwb3Muc291cmNlTm9kZS5uYW1lc3BhY2VVUkkgIT0gQmFzZS5OUy5TSEFET1dcbiAgICApIHtcbiAgICAgIHJldHVybiBwb3M7XG4gICAgfVxuICAgIGNvbnN0IGJveE9mZnNldCA9IHBvcy5ib3hPZmZzZXQ7XG4gICAgY29uc3Qgc2hhZG93ID0gcG9zLnNoYWRvd0NvbnRleHQ7XG4gICAgY29uc3QgcGFyZW50ID0gcG9zLnBhcmVudDtcblxuICAgIC8vIGNvbnRlbnQgdGhhdCB3aWxsIGJlIGluc2VydGVkXG4gICAgbGV0IGNvbnRlbnROb2RlOiBOb2RlO1xuICAgIGxldCBjb250ZW50U2hhZG93VHlwZTogVnRyZWUuU2hhZG93VHlwZTtcbiAgICBsZXQgY29udGVudFNoYWRvdzogVnRyZWUuU2hhZG93Q29udGV4dDtcbiAgICBpZiAoc2hhZG93LnN1YlNoYWRvdykge1xuICAgICAgY29udGVudFNoYWRvdyA9IHNoYWRvdy5zdWJTaGFkb3c7XG4gICAgICBjb250ZW50Tm9kZSA9IHNoYWRvdy5yb290O1xuICAgICAgY29udGVudFNoYWRvd1R5cGUgPSBzaGFkb3cudHlwZTtcbiAgICAgIGlmIChjb250ZW50U2hhZG93VHlwZSA9PSBWdHJlZS5TaGFkb3dUeXBlLlJPT1RMRVNTKSB7XG4gICAgICAgIGNvbnRlbnROb2RlID0gY29udGVudE5vZGUuZmlyc3RDaGlsZDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29udGVudFNoYWRvdyA9IHNoYWRvdy5wYXJlbnRTaGFkb3c7XG4gICAgICBjb250ZW50Tm9kZSA9IHNoYWRvdy5vd25lci5maXJzdENoaWxkO1xuICAgICAgY29udGVudFNoYWRvd1R5cGUgPSBWdHJlZS5TaGFkb3dUeXBlLlJPT1RMRVNTO1xuICAgIH1cbiAgICBjb25zdCBuZXh0U2libGluZyA9IHBvcy5zb3VyY2VOb2RlLm5leHRTaWJsaW5nO1xuICAgIGlmIChuZXh0U2libGluZykge1xuICAgICAgcG9zLnNvdXJjZU5vZGUgPSBuZXh0U2libGluZztcbiAgICAgIHBvcy5yZXNldFZpZXcoKTtcbiAgICB9IGVsc2UgaWYgKHBvcy5zaGFkb3dTaWJsaW5nKSB7XG4gICAgICBwb3MgPSBwb3Muc2hhZG93U2libGluZztcbiAgICB9IGVsc2UgaWYgKGNvbnRlbnROb2RlKSB7XG4gICAgICBwb3MgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb3MgPSBwb3MucGFyZW50Lm1vZGlmeSgpO1xuICAgICAgcG9zLmFmdGVyID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNvbnRlbnROb2RlKSB7XG4gICAgICBjb25zdCByID0gbmV3IFZ0cmVlLk5vZGVDb250ZXh0KGNvbnRlbnROb2RlLCBwYXJlbnQsIGJveE9mZnNldCk7XG4gICAgICByLnNoYWRvd0NvbnRleHQgPSBjb250ZW50U2hhZG93O1xuICAgICAgci5zaGFkb3dUeXBlID0gY29udGVudFNoYWRvd1R5cGU7XG4gICAgICByLnNoYWRvd1NpYmxpbmcgPSBwb3M7XG4gICAgICByZXR1cm4gcjtcbiAgICB9XG4gICAgcG9zLmJveE9mZnNldCA9IGJveE9mZnNldDtcbiAgICByZXR1cm4gcG9zO1xuICB9XG5cbiAgcHJpdmF0ZSBuZXh0UG9zaXRpb25JblRyZWUocG9zOiBWdHJlZS5Ob2RlQ29udGV4dCk6IFZ0cmVlLk5vZGVDb250ZXh0IHtcbiAgICBsZXQgYm94T2Zmc2V0ID0gcG9zLmJveE9mZnNldCArIDE7IC8vIG9mZnNldCBmb3IgdGhlIG5leHQgcG9zaXRpb25cbiAgICBpZiAocG9zLmFmdGVyKSB7XG4gICAgICAvLyByb290LCB0aGF0IHdhcyB0aGUgbGFzdCBwb3NzaWJsZSBwb3NpdGlvblxuICAgICAgaWYgKCFwb3MucGFyZW50KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyB3ZSBhcmUgZG9uZSB3aXRoIHRoaXMgc291cmNlTm9kZSwgc2VlIGlmIHRoZXJlIGlzIGEgbmV4dCBzaWJsaW5nLFxuICAgICAgLy8gdW5sZXNzIHRoaXMgaXMgdGhlIHJvb3Qgb2YgdGhlIHNoYWRvdyB0cmVlXG4gICAgICBpZiAocG9zLnNoYWRvd1R5cGUgIT0gVnRyZWUuU2hhZG93VHlwZS5ST09URUQpIHtcbiAgICAgICAgY29uc3QgbmV4dCA9IHBvcy5zb3VyY2VOb2RlLm5leHRTaWJsaW5nO1xuICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgIHBvcyA9IHBvcy5tb2RpZnkoKTtcblxuICAgICAgICAgIC8vIGtlZXAgc2hhZG93VHlwZVxuICAgICAgICAgIHBvcy5ib3hPZmZzZXQgPSBib3hPZmZzZXQ7XG4gICAgICAgICAgcG9zLnNvdXJjZU5vZGUgPSBuZXh0O1xuICAgICAgICAgIHBvcy5yZXNldFZpZXcoKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzU2hhZG93Q29udGVudChwb3MpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIG5vIHZpYWJsZSBzaWJsaW5ncywgY2hlY2sgaWYgdGhlcmUgYXJlIHNoYWRvdyBzaWJsaW5nc1xuICAgICAgaWYgKHBvcy5zaGFkb3dTaWJsaW5nKSB7XG4gICAgICAgIC8vIG91ciBuZXh0IHBvc2l0aW9uIGlzIHRoZSBlbGVtZW50IGFmdGVyIHNoYWRvdzpjb250ZW50IGluIHRoZSBwYXJlbnRcbiAgICAgICAgLy8gc2hhZG93IHRyZWVcbiAgICAgICAgcG9zID0gcG9zLnNoYWRvd1NpYmxpbmcubW9kaWZ5KCk7XG4gICAgICAgIHBvcy5ib3hPZmZzZXQgPSBib3hPZmZzZXQ7XG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIG5vdCByb290bGVzcyBzaGFkb3csIG1vdmUgdG8gdGhlIFwiYWZ0ZXJcIiBwb3NpdGlvbiBmb3IgdGhlIHBhcmVudFxuICAgICAgcG9zID0gcG9zLnBhcmVudC5tb2RpZnkoKTtcbiAgICAgIHBvcy5ib3hPZmZzZXQgPSBib3hPZmZzZXQ7XG4gICAgICBwb3MuYWZ0ZXIgPSB0cnVlO1xuICAgICAgcmV0dXJuIHBvcztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYW55IHNoYWRvdyB0cmVlcz9cbiAgICAgIGlmIChwb3Mubm9kZVNoYWRvdykge1xuICAgICAgICBsZXQgc2hhZG93Tm9kZTogTm9kZSB8IG51bGwgPSBwb3Mubm9kZVNoYWRvdy5yb290O1xuICAgICAgICBpZiAocG9zLm5vZGVTaGFkb3cudHlwZSA9PSBWdHJlZS5TaGFkb3dUeXBlLlJPT1RMRVNTKSB7XG4gICAgICAgICAgc2hhZG93Tm9kZSA9IHNoYWRvd05vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hhZG93Tm9kZSkge1xuICAgICAgICAgIGNvbnN0IHNyID0gbmV3IFZ0cmVlLk5vZGVDb250ZXh0KHNoYWRvd05vZGUsIHBvcywgYm94T2Zmc2V0KTtcbiAgICAgICAgICBzci5zaGFkb3dDb250ZXh0ID0gcG9zLm5vZGVTaGFkb3c7XG4gICAgICAgICAgc3Iuc2hhZG93VHlwZSA9IHBvcy5ub2RlU2hhZG93LnR5cGU7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc1NoYWRvd0NvbnRlbnQoc3IpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGFueSBjaGlsZHJlbj9cbiAgICAgIGNvbnN0IGNoaWxkID0gcG9zLnNvdXJjZU5vZGUuZmlyc3RDaGlsZDtcbiAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzU2hhZG93Q29udGVudChcbiAgICAgICAgICBuZXcgVnRyZWUuTm9kZUNvbnRleHQoY2hpbGQsIHBvcywgYm94T2Zmc2V0KSxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gbm8gY2hpbGRyZW4gLSB3YXMgdGhlcmUgdGV4dCBjb250ZW50P1xuICAgICAgaWYgKHBvcy5zb3VyY2VOb2RlLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IERpZmYucmVzdG9yZU5ld1RleHQocG9zLnByZXByb2Nlc3NlZFRleHRDb250ZW50KTtcbiAgICAgICAgYm94T2Zmc2V0ICs9IGNvbnRlbnQubGVuZ3RoIC0gMSAtIHBvcy5vZmZzZXRJbk5vZGU7XG4gICAgICB9XG4gICAgICBwb3MgPSBwb3MubW9kaWZ5KCk7XG4gICAgICBwb3MuYm94T2Zmc2V0ID0gYm94T2Zmc2V0O1xuICAgICAgcG9zLmFmdGVyID0gdHJ1ZTtcbiAgICAgIHJldHVybiBwb3M7XG4gICAgfVxuICB9XG5cbiAgaXNUcmFuc2NsdXNpb24oXG4gICAgZWxlbWVudDogRWxlbWVudCxcbiAgICBlbGVtZW50U3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIHRyYW5zY2x1c2lvblR5cGU6IHN0cmluZyB8IG51bGwsXG4gICkge1xuICAgIGNvbnN0IHByb2MgPSBDc3NDYXNjYWRlLmdldFByb3AoZWxlbWVudFN0eWxlLCBcImh5cGVybGluay1wcm9jZXNzaW5nXCIpO1xuICAgIGlmICghcHJvYykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBwcm9wID0gcHJvYy5ldmFsdWF0ZSh0aGlzLmNvbnRleHQsIFwiaHlwZXJsaW5rLXByb2Nlc3NpbmdcIik7XG4gICAgaWYgKCFwcm9wKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBwcm9wLnRvU3RyaW5nKCkgPT0gdHJhbnNjbHVzaW9uVHlwZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG5leHRJblRyZWUoXG4gICAgcG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGF0VW5mb3JjZWRCcmVhaz86IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgbGV0IG5vZGVDb250ZXh0ID0gdGhpcy5uZXh0UG9zaXRpb25JblRyZWUocG9zaXRpb24pO1xuICAgIGlmICghbm9kZUNvbnRleHQgfHwgbm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChub2RlQ29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PiA9IFRhc2submV3RnJhbWUoXCJuZXh0SW5UcmVlXCIpO1xuICAgIHRoaXMuc2V0Q3VycmVudChub2RlQ29udGV4dCwgdHJ1ZSwgYXRVbmZvcmNlZEJyZWFrKS50aGVuKFxuICAgICAgKHByb2Nlc3NDaGlsZHJlbikgPT4ge1xuICAgICAgICBpZiAoIW5vZGVDb250ZXh0LnZpZXdOb2RlIHx8ICFwcm9jZXNzQ2hpbGRyZW4pIHtcbiAgICAgICAgICBub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0Lm1vZGlmeSgpO1xuICAgICAgICAgIG5vZGVDb250ZXh0LmFmdGVyID0gdHJ1ZTsgLy8gc2tpcFxuICAgICAgICAgIGlmICghbm9kZUNvbnRleHQudmlld05vZGUpIHtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0LmlubGluZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6IFwibmV4dEluVHJlZVwiLCBub2RlQ29udGV4dCB9IGFzIGFueSk7XG4gICAgICAgIGZyYW1lLmZpbmlzaChub2RlQ29udGV4dCk7XG4gICAgICB9LFxuICAgICk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgYWRkSW1hZ2VGZXRjaGVycyhiZzogQ3NzLlZhbCkge1xuICAgIGlmIChiZyBpbnN0YW5jZW9mIENzcy5Db21tYUxpc3QpIHtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IChiZyBhcyBDc3MuQ29tbWFMaXN0KS52YWx1ZXM7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmFkZEltYWdlRmV0Y2hlcnModmFsdWVzW2ldKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGJnIGluc3RhbmNlb2YgQ3NzLlVSTCkge1xuICAgICAgY29uc3QgdXJsID0gKGJnIGFzIENzcy5VUkwpLnVybDtcbiAgICAgIHRoaXMucGFnZS5mZXRjaGVycy5wdXNoKFRhc2tVdGlsLmxvYWRFbGVtZW50KG5ldyBJbWFnZSgpLCB1cmwpKTtcbiAgICB9XG4gIH1cblxuICBhcHBseUNvbXB1dGVkU3R5bGVzKFxuICAgIHRhcmdldDogRWxlbWVudCxcbiAgICBjb21wdXRlZFN0eWxlOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSxcbiAgKSB7XG4gICAgY29uc3QgYmcgPSBjb21wdXRlZFN0eWxlW1wiYmFja2dyb3VuZC1pbWFnZVwiXTtcbiAgICBpZiAoYmcpIHtcbiAgICAgIHRoaXMuYWRkSW1hZ2VGZXRjaGVycyhiZyk7XG4gICAgfVxuICAgIGNvbnN0IGlzUmVsYXRpdmVQb3NpdGlvbmVkID1cbiAgICAgIGNvbXB1dGVkU3R5bGVbXCJwb3NpdGlvblwiXSA9PT0gQ3NzLmlkZW50LnJlbGF0aXZlO1xuICAgIGZvciAoY29uc3QgcHJvcE5hbWUgaW4gY29tcHV0ZWRTdHlsZSkge1xuICAgICAgaWYgKHByb3BlcnRpZXNOb3RQYXNzZWRUb0RPTVtwcm9wTmFtZV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBsZXQgdmFsdWUgPSBjb21wdXRlZFN0eWxlW3Byb3BOYW1lXTtcbiAgICAgIHZhbHVlID0gdmFsdWUudmlzaXQoXG4gICAgICAgIG5ldyBDc3NQcm9wLlVybFRyYW5zZm9ybVZpc2l0b3IoXG4gICAgICAgICAgdGhpcy54bWxkb2MudXJsLFxuICAgICAgICAgIHRoaXMuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcixcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgICBpZiAoXG4gICAgICAgIHZhbHVlLmlzTnVtZXJpYygpICYmXG4gICAgICAgIEV4cHJzLm5lZWRVbml0Q29udmVyc2lvbigodmFsdWUgYXMgQ3NzLk51bWVyaWMpLnVuaXQpXG4gICAgICApIHtcbiAgICAgICAgLy8gZm9udC1zaXplIGZvciB0aGUgcm9vdCBlbGVtZW50IGlzIGFscmVhZHkgY29udmVydGVkIHRvIHB4XG4gICAgICAgIHZhbHVlID0gQ3NzLmNvbnZlcnROdW1lcmljVG9QeCh2YWx1ZSwgdGhpcy5jb250ZXh0KTtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgVnRyZWUuZGVsYXllZFByb3BzW3Byb3BOYW1lXSB8fFxuICAgICAgICAoaXNSZWxhdGl2ZVBvc2l0aW9uZWQgJiZcbiAgICAgICAgICBWdHJlZS5kZWxheWVkUHJvcHNJZlJlbGF0aXZlUG9zaXRpb25lZFtwcm9wTmFtZV0pXG4gICAgICApIHtcbiAgICAgICAgLy8gU2V0IGl0IGFmdGVyIHBhZ2UgbGF5b3V0IGlzIGRvbmUuXG4gICAgICAgIHRoaXMucGFnZS5kZWxheWVkSXRlbXMucHVzaChcbiAgICAgICAgICBuZXcgVnRyZWUuRGVsYXllZEl0ZW0odGFyZ2V0LCBwcm9wTmFtZSwgdmFsdWUpLFxuICAgICAgICApO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkodGFyZ2V0LCBwcm9wTmFtZSwgdmFsdWUudG9TdHJpbmcoKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHlQc2V1ZG9lbGVtZW50U3R5bGUoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyxcbiAgICB0YXJnZXQ6IEVsZW1lbnQsXG4gICk6IHZvaWQge1xuICAgIGlmIChub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5zb3VyY2VOb2RlIGFzIEVsZW1lbnQ7XG4gICAgY29uc3Qgc3R5bGVyID0gbm9kZUNvbnRleHQuc2hhZG93Q29udGV4dFxuICAgICAgPyAobm9kZUNvbnRleHQuc2hhZG93Q29udGV4dC5zdHlsZXIgYXMgQ3NzU3R5bGVyLkFic3RyYWN0U3R5bGVyKVxuICAgICAgOiB0aGlzLnN0eWxlcjtcbiAgICBsZXQgZWxlbWVudFN0eWxlID0gc3R5bGVyLmdldFN0eWxlKGVsZW1lbnQsIGZhbHNlKTtcbiAgICBjb25zdCBwc2V1ZG9NYXAgPSBDc3NDYXNjYWRlLmdldFN0eWxlTWFwKGVsZW1lbnRTdHlsZSwgXCJfcHNldWRvc1wiKTtcbiAgICBpZiAoIXBzZXVkb01hcCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbGVtZW50U3R5bGUgPSBwc2V1ZG9NYXBbcHNldWRvTmFtZV07XG4gICAgaWYgKCFlbGVtZW50U3R5bGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IHt9O1xuICAgIG5vZGVDb250ZXh0LnZlcnRpY2FsID0gdGhpcy5jb21wdXRlU3R5bGUoXG4gICAgICBub2RlQ29udGV4dC52ZXJ0aWNhbCxcbiAgICAgIG5vZGVDb250ZXh0LmRpcmVjdGlvbiA9PT0gXCJydGxcIixcbiAgICAgIGVsZW1lbnRTdHlsZSxcbiAgICAgIGNvbXB1dGVkU3R5bGUsXG4gICAgKTtcbiAgICBjb25zdCBjb250ZW50ID0gY29tcHV0ZWRTdHlsZVtcImNvbnRlbnRcIl07XG4gICAgaWYgKFZ0cmVlLm5vblRyaXZpYWxDb250ZW50KGNvbnRlbnQpKSB7XG4gICAgICBjb250ZW50LnZpc2l0KFxuICAgICAgICBuZXcgVnRyZWUuQ29udGVudFByb3BlcnR5SGFuZGxlcihcbiAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgdGhpcy5jb250ZXh0LFxuICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgdGhpcy5leHByQ29udGVudExpc3RlbmVyLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICAgIGRlbGV0ZSBjb21wdXRlZFN0eWxlW1wiY29udGVudFwiXTtcbiAgICB9XG4gICAgdGhpcy5hcHBseUNvbXB1dGVkU3R5bGVzKHRhcmdldCwgY29tcHV0ZWRTdHlsZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwZWVsT2ZmKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBub2RlT2Zmc2V0OiBudW1iZXIsXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+ID0gVGFzay5uZXdGcmFtZShcInBlZWxPZmZcIik7XG4gICAgY29uc3QgZmlyc3RQc2V1ZG8gPSBub2RlQ29udGV4dC5maXJzdFBzZXVkbztcbiAgICBsZXQgb2Zmc2V0SW5Ob2RlID0gbm9kZUNvbnRleHQub2Zmc2V0SW5Ob2RlO1xuICAgIGNvbnN0IGFmdGVyID0gbm9kZUNvbnRleHQuYWZ0ZXI7XG4gICAgaWYgKG5vZGVPZmZzZXQgPiAwKSB7XG4gICAgICBjb25zdCB0ZXh0ID0gbm9kZUNvbnRleHQudmlld05vZGUudGV4dENvbnRlbnQ7XG4gICAgICBub2RlQ29udGV4dC52aWV3Tm9kZS50ZXh0Q29udGVudCA9IHRleHQuc3Vic3RyKDAsIG5vZGVPZmZzZXQpO1xuICAgICAgb2Zmc2V0SW5Ob2RlICs9IG5vZGVPZmZzZXQ7XG4gICAgfSBlbHNlIGlmICghYWZ0ZXIgJiYgbm9kZUNvbnRleHQudmlld05vZGUgJiYgb2Zmc2V0SW5Ob2RlID09IDApIHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IG5vZGVDb250ZXh0LnZpZXdOb2RlLnBhcmVudE5vZGU7XG4gICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChub2RlQ29udGV4dC52aWV3Tm9kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGJveE9mZnNldCA9IG5vZGVDb250ZXh0LmJveE9mZnNldCArIG5vZGVPZmZzZXQ7XG4gICAgY29uc3QgYXJyID0gW107XG4gICAgd2hpbGUgKG5vZGVDb250ZXh0LmZpcnN0UHNldWRvID09PSBmaXJzdFBzZXVkbykge1xuICAgICAgYXJyLnB1c2gobm9kZUNvbnRleHQpO1xuICAgICAgbm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5wYXJlbnQ7XG4gICAgfVxuICAgIGxldCBwbiA9IGFyci5wb3AoKTsgLy8gY29udGFpbmVyIGZvciB0aGF0IHBzZXVkb2VsZW1lbnRcbiAgICBsZXQgc2hhZG93U2libGluZyA9IHBuLnNoYWRvd1NpYmxpbmc7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgZnJhbWVcbiAgICAgIC5sb29wKCgpID0+IHtcbiAgICAgICAgd2hpbGUgKGFyci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcG4gPSBhcnIucG9wKCk7XG4gICAgICAgICAgbm9kZUNvbnRleHQgPSBuZXcgVnRyZWUuTm9kZUNvbnRleHQoXG4gICAgICAgICAgICBwbi5zb3VyY2VOb2RlLFxuICAgICAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgICAgICBib3hPZmZzZXQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoYXJyLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBub2RlQ29udGV4dC5vZmZzZXRJbk5vZGUgPSBvZmZzZXRJbk5vZGU7XG4gICAgICAgICAgICBub2RlQ29udGV4dC5hZnRlciA9IGFmdGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2RlQ29udGV4dC5zaGFkb3dUeXBlID0gcG4uc2hhZG93VHlwZTtcbiAgICAgICAgICAobm9kZUNvbnRleHQuc2hhZG93Q29udGV4dCA9IHBuLnNoYWRvd0NvbnRleHQpLFxuICAgICAgICAgICAgKG5vZGVDb250ZXh0Lm5vZGVTaGFkb3cgPSBwbi5ub2RlU2hhZG93KTtcbiAgICAgICAgICBub2RlQ29udGV4dC5zaGFkb3dTaWJsaW5nID0gcG4uc2hhZG93U2libGluZ1xuICAgICAgICAgICAgPyBwbi5zaGFkb3dTaWJsaW5nXG4gICAgICAgICAgICA6IHNoYWRvd1NpYmxpbmc7XG4gICAgICAgICAgc2hhZG93U2libGluZyA9IG51bGw7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gc2VsZi5zZXRDdXJyZW50KG5vZGVDb250ZXh0LCBmYWxzZSk7XG4gICAgICAgICAgaWYgKHJlc3VsdC5pc1BlbmRpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGZhbHNlKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChub2RlQ29udGV4dCk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBjcmVhdGVFbGVtZW50KG5zOiBzdHJpbmcsIHRhZzogc3RyaW5nKTogRWxlbWVudCB7XG4gICAgaWYgKG5zID09IEJhc2UuTlMuWEhUTUwpIHtcbiAgICAgIHJldHVybiB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zLCB0YWcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHlGb290bm90ZVN0eWxlKFxuICAgIHZlcnRpY2FsOiBib29sZWFuLFxuICAgIHJ0bDogYm9vbGVhbixcbiAgICB0YXJnZXQ6IEVsZW1lbnQsXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSB7fTtcbiAgICBjb25zdCBwc2V1ZG9NYXAgPSBDc3NDYXNjYWRlLmdldFN0eWxlTWFwKHRoaXMuZm9vdG5vdGVTdHlsZSwgXCJfcHNldWRvc1wiKTtcbiAgICB2ZXJ0aWNhbCA9IHRoaXMuY29tcHV0ZVN0eWxlKFxuICAgICAgdmVydGljYWwsXG4gICAgICBydGwsXG4gICAgICB0aGlzLmZvb3Rub3RlU3R5bGUsXG4gICAgICBjb21wdXRlZFN0eWxlLFxuICAgICk7XG4gICAgaWYgKHBzZXVkb01hcCAmJiBwc2V1ZG9NYXBbXCJiZWZvcmVcIl0pIHtcbiAgICAgIGNvbnN0IGNoaWxkQ29tcHV0ZWRTdHlsZSA9IHt9O1xuICAgICAgY29uc3Qgc3BhbiA9IHRoaXMuY3JlYXRlRWxlbWVudChCYXNlLk5TLlhIVE1MLCBcInNwYW5cIik7XG4gICAgICBQc2V1ZG9FbGVtZW50LnNldFBzZXVkb05hbWUoc3BhbiwgXCJiZWZvcmVcIik7XG4gICAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgICB0aGlzLmNvbXB1dGVTdHlsZSh2ZXJ0aWNhbCwgcnRsLCBwc2V1ZG9NYXBbXCJiZWZvcmVcIl0sIGNoaWxkQ29tcHV0ZWRTdHlsZSk7XG4gICAgICBkZWxldGUgY2hpbGRDb21wdXRlZFN0eWxlW1wiY29udGVudFwiXTtcbiAgICAgIHRoaXMuYXBwbHlDb21wdXRlZFN0eWxlcyhzcGFuLCBjaGlsZENvbXB1dGVkU3R5bGUpO1xuICAgIH1cbiAgICBkZWxldGUgY29tcHV0ZWRTdHlsZVtcImNvbnRlbnRcIl07XG4gICAgdGhpcy5hcHBseUNvbXB1dGVkU3R5bGVzKHRhcmdldCwgY29tcHV0ZWRTdHlsZSk7XG4gICAgcmV0dXJuIHZlcnRpY2FsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJvY2Vzc0ZyYWdtZW50ZWRCbG9ja0VkZ2Uobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KSB7XG4gICAgaWYgKG5vZGVDb250ZXh0KSB7XG4gICAgICBub2RlQ29udGV4dC53YWxrVXBCbG9ja3MoKGJsb2NrKSA9PiB7XG4gICAgICAgIGNvbnN0IGJveERlY29yYXRpb25CcmVhayA9IGJsb2NrLmluaGVyaXRlZFByb3BzW1wiYm94LWRlY29yYXRpb24tYnJlYWtcIl07XG4gICAgICAgIGlmICghYm94RGVjb3JhdGlvbkJyZWFrIHx8IGJveERlY29yYXRpb25CcmVhayA9PT0gXCJzbGljZVwiKSB7XG4gICAgICAgICAgY29uc3QgZWxlbSA9IGJsb2NrLnZpZXdOb2RlIGFzIEVsZW1lbnQ7XG4gICAgICAgICAgQXNzZXJ0cy5hc3NlcnQoZWxlbSBpbnN0YW5jZW9mIEVsZW1lbnQpO1xuICAgICAgICAgIGlmIChibG9jay52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtLCBcInBhZGRpbmctbGVmdFwiLCBcIjBcIik7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwiYm9yZGVyLWxlZnRcIiwgXCJub25lXCIpO1xuICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtLCBcImJvcmRlci10b3AtbGVmdC1yYWRpdXNcIiwgXCIwXCIpO1xuICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtLCBcImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXNcIiwgXCIwXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwicGFkZGluZy1ib3R0b21cIiwgXCIwXCIpO1xuICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtLCBcImJvcmRlci1ib3R0b21cIiwgXCJub25lXCIpO1xuICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtLCBcImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXNcIiwgXCIwXCIpO1xuICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtLCBcImJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzXCIsIFwiMFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNvbnZlcnRMZW5ndGhUb1B4KFxuICAgIG51bWVyaWM6IENzcy5OdW1lcmljLFxuICAgIHZpZXdOb2RlOiBOb2RlLFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICApOiBudW1iZXIgfCBDc3MuTnVtZXJpYyB7XG4gICAgY29uc3QgbnVtID0gbnVtZXJpYy5udW07XG4gICAgY29uc3QgdW5pdCA9IG51bWVyaWMudW5pdDtcbiAgICBpZiAoRXhwcnMuaXNGb250UmVsYXRpdmVMZW5ndGhVbml0KHVuaXQpKSB7XG4gICAgICBsZXQgZWxlbSA9IHZpZXdOb2RlO1xuICAgICAgd2hpbGUgKGVsZW0gJiYgZWxlbS5ub2RlVHlwZSAhPT0gMSkge1xuICAgICAgICBlbGVtID0gZWxlbS5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgICAgQXNzZXJ0cy5hc3NlcnQoZWxlbSk7XG4gICAgICBjb25zdCBmb250U2l6ZSA9IHBhcnNlRmxvYXQoXG4gICAgICAgIGNsaWVudExheW91dC5nZXRFbGVtZW50Q29tcHV0ZWRTdHlsZShlbGVtIGFzIEVsZW1lbnQpW1wiZm9udC1zaXplXCJdLFxuICAgICAgKTtcbiAgICAgIEFzc2VydHMuYXNzZXJ0KHRoaXMuY29udGV4dCk7XG4gICAgICByZXR1cm4gQ3NzQ2FzY2FkZS5jb252ZXJ0Rm9udFJlbGF0aXZlTGVuZ3RoVG9QeChcbiAgICAgICAgbnVtZXJpYyxcbiAgICAgICAgZm9udFNpemUsXG4gICAgICAgIHRoaXMuY29udGV4dCxcbiAgICAgICkubnVtO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB1bml0U2l6ZSA9IHRoaXMuY29udGV4dC5xdWVyeVVuaXRTaXplKHVuaXQsIGZhbHNlKTtcbiAgICAgIGlmICh1bml0U2l6ZSkge1xuICAgICAgICByZXR1cm4gbnVtICogdW5pdFNpemU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVtZXJpYztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBpZiB0d28gTm9kZVBvc2l0aW9uU3RlcCBhcmUgZXF1aXZhbGVudC5cbiAgICovXG4gIGlzU2FtZU5vZGVQb3NpdGlvblN0ZXAoXG4gICAgc3RlcDE6IFZ0cmVlLk5vZGVQb3NpdGlvblN0ZXAsXG4gICAgc3RlcDI6IFZ0cmVlLk5vZGVQb3NpdGlvblN0ZXAsXG4gICk6IGJvb2xlYW4ge1xuICAgIGlmIChzdGVwMS5zaGFkb3dDb250ZXh0KSB7XG4gICAgICBpZiAoIXN0ZXAyLnNoYWRvd0NvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3QgZWxlbTEgPVxuICAgICAgICBzdGVwMS5ub2RlLm5vZGVUeXBlID09PSAxXG4gICAgICAgICAgPyAoc3RlcDEubm9kZSBhcyBFbGVtZW50KVxuICAgICAgICAgIDogKHN0ZXAxLm5vZGUucGFyZW50RWxlbWVudCBhcyBFbGVtZW50KTtcbiAgICAgIGNvbnN0IGVsZW0yID1cbiAgICAgICAgc3RlcDIubm9kZS5ub2RlVHlwZSA9PT0gMVxuICAgICAgICAgID8gKHN0ZXAyLm5vZGUgYXMgRWxlbWVudClcbiAgICAgICAgICA6IChzdGVwMi5ub2RlLnBhcmVudEVsZW1lbnQgYXMgRWxlbWVudCk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBzdGVwMS5zaGFkb3dDb250ZXh0Lm93bmVyID09PSBzdGVwMi5zaGFkb3dDb250ZXh0Lm93bmVyICYmXG4gICAgICAgIFBzZXVkb0VsZW1lbnQuZ2V0UHNldWRvTmFtZShlbGVtMSkgPT09XG4gICAgICAgICAgUHNldWRvRWxlbWVudC5nZXRQc2V1ZG9OYW1lKGVsZW0yKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHN0ZXAxLm5vZGUgPT09IHN0ZXAyLm5vZGU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNTYW1lTm9kZVBvc2l0aW9uKFxuICAgIG5vZGVQb3NpdGlvbjE6IFZ0cmVlLk5vZGVQb3NpdGlvbixcbiAgICBub2RlUG9zaXRpb24yOiBWdHJlZS5Ob2RlUG9zaXRpb24sXG4gICk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBub2RlUG9zaXRpb24xLm9mZnNldEluTm9kZSA9PT0gbm9kZVBvc2l0aW9uMi5vZmZzZXRJbk5vZGUgJiZcbiAgICAgIG5vZGVQb3NpdGlvbjEuYWZ0ZXIgPT0gbm9kZVBvc2l0aW9uMi5hZnRlciAmJlxuICAgICAgbm9kZVBvc2l0aW9uMS5zdGVwcy5sZW5ndGggPT09IG5vZGVQb3NpdGlvbjIuc3RlcHMubGVuZ3RoICYmXG4gICAgICBub2RlUG9zaXRpb24xLnN0ZXBzLmV2ZXJ5KChzdGVwMSwgaSkgPT4ge1xuICAgICAgICBjb25zdCBzdGVwMiA9IG5vZGVQb3NpdGlvbjIuc3RlcHNbaV07XG4gICAgICAgIHJldHVybiB0aGlzLmlzU2FtZU5vZGVQb3NpdGlvblN0ZXAoc3RlcDEsIHN0ZXAyKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIGlzUHNldWRvZWxlbWVudChlbGVtKSB7XG4gICAgcmV0dXJuICEhUHNldWRvRWxlbWVudC5nZXRQc2V1ZG9OYW1lKGVsZW0pO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBmYjJSZW1hcCA9IHtcbiAgYTogXCJhXCIsXG4gIHN1YjogXCJzdWJcIixcbiAgc3VwOiBcInN1cFwiLFxuICB0YWJsZTogXCJ0YWJsZVwiLFxuICB0cjogXCJ0clwiLFxuICB0ZDogXCJ0ZFwiLFxuICB0aDogXCJ0aFwiLFxuICBjb2RlOiBcImNvZGVcIixcbiAgYm9keTogXCJkaXZcIixcbiAgcDogXCJwXCIsXG4gIHY6IFwicFwiLFxuICBkYXRlOiBcInBcIixcbiAgZW1waGFzaXM6IFwiZW1cIixcbiAgc3Ryb25nOiBcInN0cm9uZ1wiLFxuICBzdHlsZTogXCJzcGFuXCIsXG4gIHN0cmlrZXRocm91Z2g6IFwiZGVsXCIsXG59O1xuXG5leHBvcnQgY29uc3QgcHJvcGVydGllc05vdFBhc3NlZFRvRE9NID0ge1xuICBcImJveC1kZWNvcmF0aW9uLWJyZWFrXCI6IHRydWUsXG4gIFwiZmxvYXQtbWluLXdyYXAtYmxvY2tcIjogdHJ1ZSxcbiAgXCJmbG9hdC1yZWZlcmVuY2VcIjogdHJ1ZSxcbiAgXCJmbG93LWludG9cIjogdHJ1ZSxcbiAgXCJmbG93LWxpbmdlclwiOiB0cnVlLFxuICBcImZsb3ctb3B0aW9uc1wiOiB0cnVlLFxuICBcImZsb3ctcHJpb3JpdHlcIjogdHJ1ZSxcbiAgXCJmb290bm90ZS1wb2xpY3lcIjogdHJ1ZSxcbiAgcGFnZTogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjbGFzcyBEZWZhdWx0Q2xpZW50TGF5b3V0IGltcGxlbWVudHMgVnRyZWUuQ2xpZW50TGF5b3V0IHtcbiAgbGF5b3V0Qm94OiBFbGVtZW50O1xuICB3aW5kb3c6IFdpbmRvdztcblxuICBjb25zdHJ1Y3Rvcih2aWV3cG9ydDogVmlld3BvcnQpIHtcbiAgICB0aGlzLmxheW91dEJveCA9IHZpZXdwb3J0LmxheW91dEJveDtcbiAgICB0aGlzLndpbmRvdyA9IHZpZXdwb3J0LndpbmRvdztcbiAgfVxuXG4gIHByaXZhdGUgc3VidHJhY3RPZmZzZXRzKFxuICAgIHJlY3Q6IFZ0cmVlLkNsaWVudFJlY3QsXG4gICAgb3JpZ2luUmVjdDogVnRyZWUuQ2xpZW50UmVjdCxcbiAgKTogVnRyZWUuQ2xpZW50UmVjdCB7XG4gICAgY29uc3Qgdmlld3BvcnRMZWZ0ID0gb3JpZ2luUmVjdC5sZWZ0O1xuICAgIGNvbnN0IHZpZXdwb3J0VG9wID0gb3JpZ2luUmVjdC50b3A7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxlZnQ6IHJlY3QubGVmdCAtIHZpZXdwb3J0TGVmdCxcbiAgICAgIHRvcDogcmVjdC50b3AgLSB2aWV3cG9ydFRvcCxcbiAgICAgIHJpZ2h0OiByZWN0LnJpZ2h0IC0gdmlld3BvcnRMZWZ0LFxuICAgICAgYm90dG9tOiByZWN0LmJvdHRvbSAtIHZpZXdwb3J0VG9wLFxuICAgICAgd2lkdGg6IHJlY3Qud2lkdGgsXG4gICAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0LFxuICAgIH0gYXMgVnRyZWUuQ2xpZW50UmVjdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFJhbmdlQ2xpZW50UmVjdHMocmFuZ2U6IFJhbmdlKTogQ2xpZW50UmVjdFtdIHtcbiAgICBjb25zdCByZWN0cyA9IHJhbmdlW1wiZ2V0Q2xpZW50UmVjdHNcIl0oKTtcbiAgICBjb25zdCBsYXlvdXRCb3hSZWN0ID0gdGhpcy5sYXlvdXRCb3guZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIEFycmF5LmZyb20ocmVjdHMpLm1hcCgocmVjdCkgPT5cbiAgICAgIHRoaXMuc3VidHJhY3RPZmZzZXRzKHJlY3QsIGxheW91dEJveFJlY3QpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRFbGVtZW50Q2xpZW50UmVjdChlbGVtZW50OiBFbGVtZW50KTogQ2xpZW50UmVjdCB7XG4gICAgY29uc3QgaHRtbEVsZW1lbnQgPSBlbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnN0IHJlY3QgPSBodG1sRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSBhcyBWdHJlZS5DbGllbnRSZWN0O1xuICAgIGNvbnN0IGxheW91dEJveFJlY3QgPSB0aGlzLmxheW91dEJveC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4gdGhpcy5zdWJ0cmFjdE9mZnNldHMocmVjdCwgbGF5b3V0Qm94UmVjdCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRFbGVtZW50Q29tcHV0ZWRTdHlsZShlbGVtZW50OiBFbGVtZW50KTogQ1NTU3R5bGVEZWNsYXJhdGlvbiB7XG4gICAgcmV0dXJuIHRoaXMud2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgbnVsbCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFZpZXdwb3J0IHtcbiAgZG9jdW1lbnQ6IERvY3VtZW50O1xuICByb290OiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBvdXRlclpvb21Cb3g6IEhUTUxFbGVtZW50O1xuICBjb250ZW50Q29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgbGF5b3V0Qm94OiBFbGVtZW50O1xuICB3aWR0aDogbnVtYmVyO1xuICBoZWlnaHQ6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgd2luZG93OiBXaW5kb3csXG4gICAgcHVibGljIHJlYWRvbmx5IGZvbnRTaXplOiBudW1iZXIsXG4gICAgb3B0X3Jvb3Q/OiBIVE1MRWxlbWVudCxcbiAgICBvcHRfd2lkdGg/OiBudW1iZXIsXG4gICAgb3B0X2hlaWdodD86IG51bWJlcixcbiAgKSB7XG4gICAgdGhpcy5kb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDtcbiAgICB0aGlzLnJvb3QgPSBvcHRfcm9vdCB8fCB0aGlzLmRvY3VtZW50LmJvZHk7XG4gICAgbGV0IG91dGVyWm9vbUJveCA9IHRoaXMucm9vdC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICBpZiAoIW91dGVyWm9vbUJveCkge1xuICAgICAgb3V0ZXJab29tQm94ID0gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgb3V0ZXJab29tQm94LnNldEF0dHJpYnV0ZShcImRhdGEtdml2bGlvc3R5bGUtb3V0ZXItem9vbS1ib3hcIiwgXCJ0cnVlXCIpO1xuICAgICAgdGhpcy5yb290LmFwcGVuZENoaWxkKG91dGVyWm9vbUJveCk7XG4gICAgfVxuICAgIGxldCBjb250ZW50Q29udGFpbmVyID0gb3V0ZXJab29tQm94LmZpcnN0RWxlbWVudENoaWxkO1xuICAgIGlmICghY29udGVudENvbnRhaW5lcikge1xuICAgICAgY29udGVudENvbnRhaW5lciA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGNvbnRlbnRDb250YWluZXIuc2V0QXR0cmlidXRlKFxuICAgICAgICBcImRhdGEtdml2bGlvc3R5bGUtc3ByZWFkLWNvbnRhaW5lclwiLFxuICAgICAgICBcInRydWVcIixcbiAgICAgICk7XG4gICAgICBvdXRlclpvb21Cb3guYXBwZW5kQ2hpbGQoY29udGVudENvbnRhaW5lcik7XG4gICAgfVxuICAgIGxldCBsYXlvdXRCb3ggPSBvdXRlclpvb21Cb3gubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgIGlmICghbGF5b3V0Qm94KSB7XG4gICAgICBsYXlvdXRCb3ggPSB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBsYXlvdXRCb3guc2V0QXR0cmlidXRlKFwiZGF0YS12aXZsaW9zdHlsZS1sYXlvdXQtYm94XCIsIFwidHJ1ZVwiKTtcbiAgICAgIHRoaXMucm9vdC5hcHBlbmRDaGlsZChsYXlvdXRCb3gpO1xuICAgIH1cbiAgICB0aGlzLm91dGVyWm9vbUJveCA9IG91dGVyWm9vbUJveCBhcyBIVE1MRWxlbWVudDtcbiAgICB0aGlzLmNvbnRlbnRDb250YWluZXIgPSBjb250ZW50Q29udGFpbmVyIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMubGF5b3V0Qm94ID0gbGF5b3V0Qm94IGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnN0IGNsaWVudExheW91dCA9IG5ldyBEZWZhdWx0Q2xpZW50TGF5b3V0KHRoaXMpO1xuICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSBjbGllbnRMYXlvdXQuZ2V0RWxlbWVudENvbXB1dGVkU3R5bGUodGhpcy5yb290KTtcbiAgICB0aGlzLndpZHRoID1cbiAgICAgIG9wdF93aWR0aCB8fCBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGVbXCJ3aWR0aFwiXSkgfHwgd2luZG93LmlubmVyV2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPVxuICAgICAgb3B0X2hlaWdodCB8fCBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGVbXCJoZWlnaHRcIl0pIHx8IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldCB6b29tLlxuICAgKi9cbiAgcmVzZXRab29tKCkge1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkodGhpcy5vdXRlclpvb21Cb3gsIFwid2lkdGhcIiwgXCJcIik7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLm91dGVyWm9vbUJveCwgXCJoZWlnaHRcIiwgXCJcIik7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmNvbnRlbnRDb250YWluZXIsIFwid2lkdGhcIiwgXCJcIik7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmNvbnRlbnRDb250YWluZXIsIFwiaGVpZ2h0XCIsIFwiXCIpO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkodGhpcy5jb250ZW50Q29udGFpbmVyLCBcInRyYW5zZm9ybVwiLCBcIlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBab29tIHZpZXdwb3J0LlxuICAgKiBAcGFyYW0gd2lkdGggT3ZlcmFsbCB3aWR0aCBvZiBjb250ZW50cyBiZWZvcmUgc2NhbGluZyAocHgpXG4gICAqIEBwYXJhbSBoZWlnaHQgT3ZlcmFsbCBoZWlnaHQgb2YgY29udGVudHMgYmVmb3JlIHNjYWxpbmcgKHB4KVxuICAgKiBAcGFyYW0gc2NhbGUgRmFjdG9yIHRvIHdoaWNoIHRoZSB2aWV3cG9ydCB3aWxsIGJlIHNjYWxlZC5cbiAgICovXG4gIHpvb20od2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIHNjYWxlOiBudW1iZXIpIHtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMub3V0ZXJab29tQm94LCBcIndpZHRoXCIsIGAke3dpZHRoICogc2NhbGV9cHhgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMub3V0ZXJab29tQm94LCBcImhlaWdodFwiLCBgJHtoZWlnaHQgKiBzY2FsZX1weGApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkodGhpcy5jb250ZW50Q29udGFpbmVyLCBcIndpZHRoXCIsIGAke3dpZHRofXB4YCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmNvbnRlbnRDb250YWluZXIsIFwiaGVpZ2h0XCIsIGAke2hlaWdodH1weGApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkodGhpcy5jb250ZW50Q29udGFpbmVyLCBcInRyYW5zZm9ybVwiLCBgc2NhbGUoJHtzY2FsZX0pYCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFsbCBwYWdlcyBpbnNpZGUgdGhlIHZpZXdwb3J0LlxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgY29uc3Qgcm9vdCA9IHRoaXMucm9vdDtcbiAgICB3aGlsZSAocm9vdC5sYXN0Q2hpbGQpIHtcbiAgICAgIHJvb3QucmVtb3ZlQ2hpbGQocm9vdC5sYXN0Q2hpbGQpO1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBYbWxEb2MgLSBVdGlsaXR5IGZ1bmN0aW9ucyB0byB3b3JrIHdpdGggWE1MIChtb3N0bHkgWEhUTUwpXG4gKiBkb2N1bWVudHMuXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgTmV0IGZyb20gXCIuL25ldFwiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgeyBYbWxEb2MgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgdHlwZSBYTUxEb2NTdG9yZSA9IFhtbERvYy5YTUxEb2NTdG9yZTtcblxuZXhwb3J0IGNvbnN0IEVMRU1FTlRfT0ZGU0VUX0FUVFIgPSBcImRhdGEtYWRhcHQtZWxvZmZcIjtcblxuZXhwb3J0IGNsYXNzIFhNTERvY0hvbGRlciBpbXBsZW1lbnRzIFhtbERvYy5YTUxEb2NIb2xkZXIge1xuICBsYW5nOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgdG90YWxPZmZzZXQ6IG51bWJlciA9IC0xO1xuICByb290OiBFbGVtZW50O1xuICBib2R5OiBFbGVtZW50O1xuICBoZWFkOiBFbGVtZW50O1xuICBsYXN0OiBFbGVtZW50O1xuICBsYXN0T2Zmc2V0OiBudW1iZXIgPSAxO1xuICBpZE1hcDogeyBba2V5OiBzdHJpbmddOiBFbGVtZW50IH07XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHN0b3JlOiBYTUxEb2NTdG9yZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdXJsOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IGRvY3VtZW50OiBEb2N1bWVudCxcbiAgKSB7XG4gICAgdGhpcy5yb290ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OyAvLyBodG1sIGVsZW1lbnRcbiAgICBsZXQgYm9keTogRWxlbWVudCA9IG51bGw7XG4gICAgbGV0IGhlYWQ6IEVsZW1lbnQgPSBudWxsO1xuICAgIGlmICh0aGlzLnJvb3QubmFtZXNwYWNlVVJJID09IEJhc2UuTlMuWEhUTUwpIHtcbiAgICAgIGZvciAoXG4gICAgICAgIGxldCBjaGlsZDogTm9kZSA9IHRoaXMucm9vdC5maXJzdENoaWxkO1xuICAgICAgICBjaGlsZDtcbiAgICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZ1xuICAgICAgKSB7XG4gICAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSAhPSAxKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWxlbSA9IGNoaWxkIGFzIEVsZW1lbnQ7XG4gICAgICAgIGlmIChlbGVtLm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLlhIVE1MKSB7XG4gICAgICAgICAgc3dpdGNoIChlbGVtLmxvY2FsTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBcImhlYWRcIjpcbiAgICAgICAgICAgICAgaGVhZCA9IGVsZW07XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImJvZHlcIjpcbiAgICAgICAgICAgICAgYm9keSA9IGVsZW07XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5sYW5nID0gdGhpcy5yb290LmdldEF0dHJpYnV0ZShcImxhbmdcIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnJvb3QubmFtZXNwYWNlVVJJID09IEJhc2UuTlMuRkIyKSB7XG4gICAgICBoZWFkID0gdGhpcy5yb290O1xuICAgICAgZm9yIChcbiAgICAgICAgbGV0IGNoaWxkOiBOb2RlID0gdGhpcy5yb290LmZpcnN0Q2hpbGQ7XG4gICAgICAgIGNoaWxkO1xuICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nXG4gICAgICApIHtcbiAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtID0gY2hpbGQgYXMgRWxlbWVudDtcbiAgICAgICAgaWYgKGVsZW0ubmFtZXNwYWNlVVJJID09IEJhc2UuTlMuRkIyKSB7XG4gICAgICAgICAgaWYgKGVsZW0ubG9jYWxOYW1lID09IFwiYm9keVwiKSB7XG4gICAgICAgICAgICBib2R5ID0gZWxlbTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGxhbmdzID0gdGhpcy5kb2MoKVxuICAgICAgICAuY2hpbGQoXCJGaWN0aW9uQm9va1wiKVxuICAgICAgICAuY2hpbGQoXCJkZXNjcmlwdGlvblwiKVxuICAgICAgICAuY2hpbGQoXCJ0aXRsZS1pbmZvXCIpXG4gICAgICAgIC5jaGlsZChcImxhbmdcIilcbiAgICAgICAgLnRleHRDb250ZW50KCk7XG4gICAgICBpZiAobGFuZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmxhbmcgPSBsYW5nc1swXTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMucm9vdC5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5TU0UpIHtcbiAgICAgIC8vIHRyZWF0IDxtZXRhPiBlbGVtZW50IGFzIFwiaGVhZFwiIG9mIHRoZSBkb2N1bWVudFxuICAgICAgZm9yIChcbiAgICAgICAgbGV0IGVsZW0gPSB0aGlzLnJvb3QuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICAgIGVsZW07XG4gICAgICAgIGVsZW0gPSBlbGVtLm5leHRFbGVtZW50U2libGluZ1xuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IGxvY2FsTmFtZSA9IGVsZW0ubG9jYWxOYW1lO1xuICAgICAgICBpZiAobG9jYWxOYW1lID09PSBcIm1ldGFcIikge1xuICAgICAgICAgIGhlYWQgPSBlbGVtO1xuICAgICAgICB9IGVsc2UgaWYgKGxvY2FsTmFtZSA9PT0gXCJib2R5XCIpIHtcbiAgICAgICAgICBib2R5ID0gZWxlbTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmJvZHkgPSBib2R5IGFzIEVsZW1lbnQ7XG4gICAgdGhpcy5oZWFkID0gaGVhZCBhcyBFbGVtZW50O1xuICAgIHRoaXMubGFzdCA9IHRoaXMucm9vdDtcbiAgICB0aGlzLmxhc3Quc2V0QXR0cmlidXRlKEVMRU1FTlRfT0ZGU0VUX0FUVFIsIFwiMFwiKTtcbiAgfVxuXG4gIGRvYygpOiBYbWxEb2MuTm9kZUxpc3Qge1xuICAgIHJldHVybiBuZXcgTm9kZUxpc3QoW3RoaXMuZG9jdW1lbnRdKTtcbiAgfVxuXG4gIGdldEVsZW1lbnRPZmZzZXQoZWxlbWVudDogRWxlbWVudCk6IG51bWJlciB7XG4gICAgY29uc3Qgb2Zmc2V0U3RyID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoRUxFTUVOVF9PRkZTRVRfQVRUUik7XG4gICAgaWYgKG9mZnNldFN0cikge1xuICAgICAgcmV0dXJuIHBhcnNlSW50KG9mZnNldFN0ciwgMTApO1xuICAgIH1cbiAgICBsZXQgb2Zmc2V0ID0gdGhpcy5sYXN0T2Zmc2V0O1xuICAgIGxldCBsYXN0OiBOb2RlIHwgbnVsbCA9IHRoaXMubGFzdDtcbiAgICB3aGlsZSAobGFzdCAhPSBlbGVtZW50KSB7XG4gICAgICBsZXQgbmV4dDogTm9kZSB8IG51bGwgPSBsYXN0LmZpcnN0Q2hpbGQ7XG4gICAgICBpZiAoIW5leHQpIHtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICBuZXh0ID0gbGFzdC5uZXh0U2libGluZztcbiAgICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhc3QgPSBsYXN0LnBhcmVudE5vZGU7XG4gICAgICAgICAgaWYgKGxhc3QgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW50ZXJuYWwgZXJyb3JcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsYXN0ID0gbmV4dDtcbiAgICAgIGlmIChuZXh0Lm5vZGVUeXBlID09IDEpIHtcbiAgICAgICAgY29uc3QgbmV4dEVsZW1lbnQgPSBuZXh0IGFzIEVsZW1lbnQ7XG4gICAgICAgIG5leHRFbGVtZW50LnNldEF0dHJpYnV0ZShFTEVNRU5UX09GRlNFVF9BVFRSLCBvZmZzZXQudG9TdHJpbmcoKSk7XG4gICAgICAgICsrb2Zmc2V0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2Zmc2V0ICs9IChuZXh0LnRleHRDb250ZW50IGFzIHN0cmluZykubGVuZ3RoO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmxhc3RPZmZzZXQgPSBvZmZzZXQ7XG4gICAgdGhpcy5sYXN0ID0gZWxlbWVudDtcbiAgICByZXR1cm4gb2Zmc2V0IC0gMTtcbiAgfVxuXG4gIGdldE5vZGVPZmZzZXQoc3JjTm9kZTogTm9kZSwgb2Zmc2V0SW5Ob2RlOiBudW1iZXIsIGFmdGVyOiBib29sZWFuKSB7XG4gICAgbGV0IGV4dHJhT2Zmc2V0ID0gMDtcbiAgICBsZXQgbm9kZTogTm9kZSB8IG51bGwgPSBzcmNOb2RlO1xuICAgIGxldCBwcmV2OiBOb2RlIHwgbnVsbCA9IG51bGw7XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgLy8gYWZ0ZXIgPSB0cnVlIGlzIG9ubHkgdmFsaWQgZm9yIGVsZW1lbnRzXG4gICAgICBpZiAoIWFmdGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEVsZW1lbnRPZmZzZXQobm9kZSBhcyBFbGVtZW50KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gb2Zmc2V0SW5Ob2RlIGlzIG9ubHkgdmFsaWQgZm9yIHRleHQgbm9kZXNcbiAgICAgIGV4dHJhT2Zmc2V0ID0gb2Zmc2V0SW5Ob2RlO1xuICAgICAgcHJldiA9IG5vZGUucHJldmlvdXNTaWJsaW5nO1xuICAgICAgaWYgKCFwcmV2KSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgIGV4dHJhT2Zmc2V0ICs9IDE7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEVsZW1lbnRPZmZzZXQobm9kZSBhcyBFbGVtZW50KSArIGV4dHJhT2Zmc2V0O1xuICAgICAgfVxuICAgICAgbm9kZSA9IHByZXY7XG4gICAgfVxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICB3aGlsZSAobm9kZS5sYXN0Q2hpbGQpIHtcbiAgICAgICAgbm9kZSA9IG5vZGUubGFzdENoaWxkO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAvLyBlbXB0eSBlbGVtZW50XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZXh0cmFPZmZzZXQgKz0gKG5vZGUudGV4dENvbnRlbnQgYXMgc3RyaW5nKS5sZW5ndGg7XG4gICAgICBwcmV2ID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICBpZiAoIXByZXYpIHtcbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBub2RlID0gcHJldjtcbiAgICB9XG4gICAgZXh0cmFPZmZzZXQgKz0gMTtcbiAgICByZXR1cm4gdGhpcy5nZXRFbGVtZW50T2Zmc2V0KG5vZGUgYXMgRWxlbWVudCkgKyBleHRyYU9mZnNldDtcbiAgfVxuXG4gIGdldFRvdGFsT2Zmc2V0KCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMudG90YWxPZmZzZXQgPCAwKSB7XG4gICAgICB0aGlzLnRvdGFsT2Zmc2V0ID0gdGhpcy5nZXROb2RlT2Zmc2V0KHRoaXMucm9vdCwgMCwgdHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRvdGFsT2Zmc2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gbGFzdCBub2RlIHN1Y2ggdGhhdCBpdHMgb2Zmc2V0IGlzIGxlc3Mgb3IgZXF1YWwgdG8gdGhlIGdpdmVuXG4gICAqL1xuICBnZXROb2RlQnlPZmZzZXQob2Zmc2V0OiBudW1iZXIpOiBOb2RlIHtcbiAgICBsZXQgZWxlbWVudE9mZnNldDogbnVtYmVyO1xuXG4gICAgLy8gRmlyc3QsIGZpbmQgdGhlIGxhc3QgZWxlbWVudCBpbiB0aGUgZG9jdW1lbnQsIHN1Y2ggdGhhdFxuICAgIC8vIHRoaXMuZ2V0RWxlbWVudE9mZnNldChlbGVtZW50KSA8PSBvZmZzZXQ7IGlmIG9mZmVzdCBtYXRjaGVzXG4gICAgLy8gZXhhY3RseSwganVzdCByZXR1cm4gaXQuXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgbGV0IGVsZW1lbnQgPSB0aGlzLnJvb3Q7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGVsZW1lbnRPZmZzZXQgPSB0aGlzLmdldEVsZW1lbnRPZmZzZXQoZWxlbWVudCk7XG4gICAgICBpZiAoZWxlbWVudE9mZnNldCA+PSBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICB9XG4gICAgICBjb25zdCBjaGlsZHJlbiA9IGVsZW1lbnQuY2hpbGRyZW47IC8vIEVsZW1lbnQgY2hpbGRyZW5cbiAgICAgIGlmICghY2hpbGRyZW4pIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjb25zdCBpbmRleCA9IEJhc2UuYmluYXJ5U2VhcmNoKGNoaWxkcmVuLmxlbmd0aCwgKGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baW5kZXhdO1xuICAgICAgICBjb25zdCBjaGlsZE9mZnNldCA9IHNlbGYuZ2V0RWxlbWVudE9mZnNldChjaGlsZCk7XG4gICAgICAgIHJldHVybiBjaGlsZE9mZnNldCA+IG9mZnNldDtcbiAgICAgIH0pO1xuICAgICAgaWYgKGluZGV4ID09IDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoVklWTElPU1RZTEVfREVCVUcpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgZWxlbU9mZnNldCA9IHNlbGYuZ2V0RWxlbWVudE9mZnNldChjaGlsZHJlbltpbmRleF0pO1xuICAgICAgICAgIGlmIChlbGVtT2Zmc2V0IDw9IG9mZnNldCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29uc2lzdGVuY3kgY2hlY2sgZmFpbGVkIVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsZW1lbnQgPSBjaGlsZHJlbltpbmRleCAtIDFdO1xuICAgIH1cblxuICAgIC8vIE5vdyB3ZSBoYXZlIGVsZW1lbnQgd2l0aCBvZmZzZXQgbGVzcyB0aGFuIGRlc2lyZWQuIEZpbmQgZm9sbG93aW5nXG4gICAgLy8gKG5vbi1lbGVtZW50KSBub2RlIHdpdGggdGhlIHJpZ2h0IG9mZnNldC5cbiAgICBsZXQgbm9kZU9mZnNldCA9IGVsZW1lbnRPZmZzZXQgKyAxO1xuICAgIGxldCBub2RlOiBOb2RlIHwgbnVsbCA9IGVsZW1lbnQ7XG4gICAgbGV0IG5leHQ6IE5vZGUgfCBudWxsID0gbm9kZS5maXJzdENoaWxkIHx8IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgbGV0IGxhc3RHb29kOiBOb2RlIHwgbnVsbCA9IG51bGw7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgIGlmIChuZXh0Lm5vZGVUeXBlID09IDEpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbmV4dDtcbiAgICAgICAgbGFzdEdvb2QgPSBub2RlO1xuICAgICAgICBub2RlT2Zmc2V0ICs9IChuZXh0LnRleHRDb250ZW50IGFzIHN0cmluZykubGVuZ3RoO1xuICAgICAgICBpZiAobm9kZU9mZnNldCA+IG9mZnNldCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIHJldHVybiBsYXN0R29vZCB8fCBlbGVtZW50O1xuICB9XG5cbiAgcHJpdmF0ZSBidWlsZElkTWFwKGU6IEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb25zdCBpZCA9IGUuZ2V0QXR0cmlidXRlKFwiaWRcIik7XG4gICAgaWYgKGlkICYmICF0aGlzLmlkTWFwW2lkXSkge1xuICAgICAgdGhpcy5pZE1hcFtpZF0gPSBlO1xuICAgIH1cbiAgICBjb25zdCB4bWxpZCA9IGUuZ2V0QXR0cmlidXRlTlMoQmFzZS5OUy5YTUwsIFwiaWRcIik7XG4gICAgaWYgKHhtbGlkICYmICF0aGlzLmlkTWFwW3htbGlkXSkge1xuICAgICAgdGhpcy5pZE1hcFt4bWxpZF0gPSBlO1xuICAgIH1cbiAgICBmb3IgKGxldCBjID0gZS5maXJzdEVsZW1lbnRDaGlsZDsgYzsgYyA9IGMubmV4dEVsZW1lbnRTaWJsaW5nKSB7XG4gICAgICB0aGlzLmJ1aWxkSWRNYXAoYyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBlbGVtZW50IGJ5IFVSTCBpbiB0aGUgc291cmNlIGRvY3VtZW50KHMpLiBVUkwgbXVzdCBiZSBpbiBlaXRoZXIgJyNpZCdcbiAgICogb3IgJ3VybCNpZCcgZm9ybS5cbiAgICovXG4gIGdldEVsZW1lbnQodXJsOiBzdHJpbmcpOiBFbGVtZW50IHwgbnVsbCB7XG4gICAgY29uc3QgbSA9IHVybC5tYXRjaCgvKFteI10qKSMoLispJC8pO1xuICAgIGlmICghbSB8fCAobVsxXSAmJiBtWzFdICE9IHRoaXMudXJsKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGlkID0gbVsyXTtcbiAgICBsZXQgcjogRWxlbWVudCA9IHRoaXMuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgIGlmICghciAmJiB0aGlzLmRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKSB7XG4gICAgICByID0gdGhpcy5kb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShpZClbMF07XG4gICAgfVxuICAgIGlmICghcikge1xuICAgICAgaWYgKCF0aGlzLmlkTWFwKSB7XG4gICAgICAgIHRoaXMuaWRNYXAgPSB7fTtcbiAgICAgICAgdGhpcy5idWlsZElkTWFwKHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIHIgPSB0aGlzLmlkTWFwW2lkXTtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH1cbn1cblxuLyoqXG4gKiBjZi4gaHR0cHM6Ly93M2MuZ2l0aHViLmlvL0RPTS1QYXJzaW5nLyN0aGUtZG9tcGFyc2VyLWludGVyZmFjZVxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGVudW0gRE9NUGFyc2VyU3VwcG9ydGVkVHlwZSB7XG4gIFRFWFRfSFRNTCA9IFwidGV4dC9odG1sXCIsXG4gIFRFWFRfWE1MID0gXCJ0ZXh0L3htbFwiLFxuICBBUFBMSUNBVElPTl9YTUwgPSBcImFwcGxpY2F0aW9uL3htbFwiLFxuICBBUFBMSUNBVElPTl9YSFRNTF9YTUwgPSBcImFwcGxpY2F0aW9uL3hodG1sX3htbFwiLFxuICBJTUFHRV9TVkdfWE1MID0gXCJpbWFnZS9zdmcreG1sXCIsXG59XG5cbi8qKlxuICogUGFyc2VzIGEgc3RyaW5nIHdpdGggYSBET01QYXJzZXIgYW5kIHJldHVybnMgdGhlIGRvY3VtZW50LlxuICogSWYgYSBwYXJzZSBlcnJvciBvY2N1cnMsIHJldHVybiBudWxsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VBbmRSZXR1cm5OdWxsSWZFcnJvcihcbiAgc3RyOiBzdHJpbmcsXG4gIHR5cGU6IHN0cmluZyxcbiAgb3B0X3BhcnNlcj86IERPTVBhcnNlcixcbik6IERvY3VtZW50IHwgbnVsbCB7XG4gIGNvbnN0IHBhcnNlciA9IG9wdF9wYXJzZXIgfHwgbmV3IERPTVBhcnNlcigpO1xuICBsZXQgZG9jOiBEb2N1bWVudDtcbiAgdHJ5IHtcbiAgICBkb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHN0ciwgdHlwZSBhcyBTdXBwb3J0ZWRUeXBlKTtcbiAgfSBjYXRjaCAoZSkge31cbiAgaWYgKCFkb2MpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBkb2NFbGVtZW50ID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICBjb25zdCBlcnJvclRhZ05hbWUgPSBcInBhcnNlcmVycm9yXCI7XG4gICAgaWYgKGRvY0VsZW1lbnQubG9jYWxOYW1lID09PSBlcnJvclRhZ05hbWUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBjID0gZG9jRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZDsgYzsgYyA9IGMubmV4dEVsZW1lbnRTaWJsaW5nKSB7XG4gICAgICAgIGlmIChjLmxvY2FsTmFtZSA9PT0gZXJyb3JUYWdOYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRvYztcbn1cblxuLyoqXG4gKiBAcmV0dXJucyBudWxsIGlmIGNvbnRlbnRUeXBlIGNhbm5vdCBiZSBpbmZlcnJlZCBmcm9tIEhUVFAgaGVhZGVyIGFuZCBmaWxlXG4gKiAgICAgZXh0ZW5zaW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQ29udGVudFR5cGUocmVzcG9uc2U6IE5ldC5SZXNwb25zZSk6IHN0cmluZyB8IG51bGwge1xuICBjb25zdCBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmNvbnRlbnRUeXBlO1xuICBpZiAoY29udGVudFR5cGUpIHtcbiAgICBjb25zdCBzdXBwb3J0ZWRLZXlzID0gT2JqZWN0LmtleXMoRE9NUGFyc2VyU3VwcG9ydGVkVHlwZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdXBwb3J0ZWRLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoRE9NUGFyc2VyU3VwcG9ydGVkVHlwZVtzdXBwb3J0ZWRLZXlzW2ldXSA9PT0gY29udGVudFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnRUeXBlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29udGVudFR5cGUubWF0Y2goL1xcK3htbCQvKSkge1xuICAgICAgcmV0dXJuIERPTVBhcnNlclN1cHBvcnRlZFR5cGUuQVBQTElDQVRJT05fWE1MO1xuICAgIH1cbiAgfVxuICBjb25zdCBtYXRjaCA9IHJlc3BvbnNlLnVybC5tYXRjaCgvXFwuKFteLi9dKykkLyk7XG4gIGlmIChtYXRjaCkge1xuICAgIGNvbnN0IGV4dGVuc2lvbiA9IG1hdGNoWzFdO1xuICAgIHN3aXRjaCAoZXh0ZW5zaW9uKSB7XG4gICAgICBjYXNlIFwiaHRtbFwiOlxuICAgICAgY2FzZSBcImh0bVwiOlxuICAgICAgICByZXR1cm4gRE9NUGFyc2VyU3VwcG9ydGVkVHlwZS5URVhUX0hUTUw7XG4gICAgICBjYXNlIFwieGh0bWxcIjpcbiAgICAgIGNhc2UgXCJ4aHRcIjpcbiAgICAgICAgcmV0dXJuIERPTVBhcnNlclN1cHBvcnRlZFR5cGUuQVBQTElDQVRJT05fWEhUTUxfWE1MO1xuICAgICAgY2FzZSBcInN2Z1wiOlxuICAgICAgY2FzZSBcInN2Z3pcIjpcbiAgICAgICAgcmV0dXJuIERPTVBhcnNlclN1cHBvcnRlZFR5cGUuSU1BR0VfU1ZHX1hNTDtcbiAgICAgIGNhc2UgXCJvcGZcIjpcbiAgICAgIGNhc2UgXCJ4bWxcIjpcbiAgICAgICAgcmV0dXJuIERPTVBhcnNlclN1cHBvcnRlZFR5cGUuQVBQTElDQVRJT05fWE1MO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlWE1MUmVzb3VyY2UoXG4gIHJlc3BvbnNlOiBOZXQuUmVzcG9uc2UsXG4gIHN0b3JlOiBYTUxEb2NTdG9yZSxcbik6IFRhc2suUmVzdWx0PFhtbERvYy5YTUxEb2NIb2xkZXI+IHtcbiAgbGV0IGRvYyA9IHJlc3BvbnNlLnJlc3BvbnNlWE1MO1xuICBpZiAoIWRvYykge1xuICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICBjb25zdCB0ZXh0ID0gcmVzcG9uc2UucmVzcG9uc2VUZXh0O1xuICAgIGlmICh0ZXh0KSB7XG4gICAgICBjb25zdCBjb250ZW50VHlwZSA9IHJlc29sdmVDb250ZW50VHlwZShyZXNwb25zZSk7XG4gICAgICBkb2MgPSBwYXJzZUFuZFJldHVybk51bGxJZkVycm9yKFxuICAgICAgICB0ZXh0LFxuICAgICAgICBjb250ZW50VHlwZSB8fCBET01QYXJzZXJTdXBwb3J0ZWRUeXBlLkFQUExJQ0FUSU9OX1hNTCxcbiAgICAgICAgcGFyc2VyLFxuICAgICAgKTtcblxuICAgICAgLy8gV2hlbiBjb250ZW50VHlwZSBjYW5ub3QgYmUgaW5mZXJyZWQgZnJvbSBIVFRQIGhlYWRlciBhbmQgZmlsZVxuICAgICAgLy8gZXh0ZW5zaW9uLCB3ZSB1c2Ugcm9vdCBlbGVtZW50J3MgdGFnIG5hbWUgdG8gaW5mZXIgdGhlIGNvbnRlbnRUeXBlLiBJZlxuICAgICAgLy8gaXQgaXMgaHRtbCBvciBzdmcsIHdlIHJlLXBhcnNlIHRoZSBzb3VyY2Ugd2l0aCBhbiBhcHByb3ByaWF0ZVxuICAgICAgLy8gY29udGVudFR5cGUuXG4gICAgICBpZiAoZG9jICYmICFjb250ZW50VHlwZSkge1xuICAgICAgICBjb25zdCByb290ID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgaWYgKHJvb3QubG9jYWxOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaHRtbFwiICYmICFyb290Lm5hbWVzcGFjZVVSSSkge1xuICAgICAgICAgIGRvYyA9IHBhcnNlQW5kUmV0dXJuTnVsbElmRXJyb3IoXG4gICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgRE9NUGFyc2VyU3VwcG9ydGVkVHlwZS5URVhUX0hUTUwsXG4gICAgICAgICAgICBwYXJzZXIsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICByb290LmxvY2FsTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcInN2Z1wiICYmXG4gICAgICAgICAgKGRvYyBhcyBhbnkpLmNvbnRlbnRUeXBlICE9PSBET01QYXJzZXJTdXBwb3J0ZWRUeXBlLklNQUdFX1NWR19YTUxcbiAgICAgICAgKSB7XG4gICAgICAgICAgZG9jID0gcGFyc2VBbmRSZXR1cm5OdWxsSWZFcnJvcihcbiAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICBET01QYXJzZXJTdXBwb3J0ZWRUeXBlLklNQUdFX1NWR19YTUwsXG4gICAgICAgICAgICBwYXJzZXIsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gSFRNTCBwYXJzaW5nXG4gICAgICAgIGRvYyA9IHBhcnNlQW5kUmV0dXJuTnVsbElmRXJyb3IoXG4gICAgICAgICAgdGV4dCxcbiAgICAgICAgICBET01QYXJzZXJTdXBwb3J0ZWRUeXBlLlRFWFRfSFRNTCxcbiAgICAgICAgICBwYXJzZXIsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnN0IHhtbGRvYyA9IGRvYyA/IG5ldyBYTUxEb2NIb2xkZXIoc3RvcmUsIHJlc3BvbnNlLnVybCwgZG9jKSA6IG51bGw7XG4gIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh4bWxkb2MpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3WE1MRG9jU3RvcmUoKTogWE1MRG9jU3RvcmUge1xuICByZXR1cm4gbmV3IE5ldC5SZXNvdXJjZVN0b3JlKFxuICAgIHBhcnNlWE1MUmVzb3VyY2UsXG4gICAgTmV0LlhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlLkRPQ1VNRU5ULFxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgUHJlZGljYXRlIGltcGxlbWVudHMgWG1sRG9jLlByZWRpY2F0ZSB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBmbjogKHAxOiBOb2RlKSA9PiBib29sZWFuKSB7fVxuXG4gIGNoZWNrKG5vZGU6IE5vZGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5mbihub2RlKTtcbiAgfVxuXG4gIHdpdGhBdHRyaWJ1dGUobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKTogUHJlZGljYXRlIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByZWRpY2F0ZShcbiAgICAgIChub2RlKSA9PlxuICAgICAgICBzZWxmLmNoZWNrKG5vZGUpICYmXG4gICAgICAgIG5vZGUubm9kZVR5cGUgPT0gMSAmJlxuICAgICAgICAobm9kZSBhcyBFbGVtZW50KS5nZXRBdHRyaWJ1dGUobmFtZSkgPT0gdmFsdWUsXG4gICAgKTtcbiAgfVxuXG4gIHdpdGhDaGlsZChuYW1lOiBzdHJpbmcsIG9wdF9jaGlsZFByZWRpY2F0ZT86IFByZWRpY2F0ZSk6IFByZWRpY2F0ZSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcmVkaWNhdGUoKG5vZGUpID0+IHtcbiAgICAgIGlmICghc2VsZi5jaGVjayhub2RlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBsZXQgbGlzdCA9IG5ldyBOb2RlTGlzdChbbm9kZV0pO1xuICAgICAgbGlzdCA9IGxpc3QuY2hpbGQobmFtZSk7XG4gICAgICBpZiAob3B0X2NoaWxkUHJlZGljYXRlKSB7XG4gICAgICAgIGxpc3QgPSBsaXN0LnByZWRpY2F0ZShvcHRfY2hpbGRQcmVkaWNhdGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxpc3Quc2l6ZSgpID4gMDtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgcHJlZGljYXRlID0gbmV3IFByZWRpY2F0ZSgobm9kZSkgPT4gdHJ1ZSk7XG5cbmV4cG9ydCBjbGFzcyBOb2RlTGlzdCBpbXBsZW1lbnRzIFhtbERvYy5Ob2RlTGlzdCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBub2RlczogTm9kZVtdKSB7fVxuXG4gIGFzQXJyYXkoKTogTm9kZVtdIHtcbiAgICByZXR1cm4gdGhpcy5ub2RlcztcbiAgfVxuXG4gIHNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogRmlsdGVyIHdpdGggcHJlZGljYXRlXG4gICAqL1xuICBwcmVkaWNhdGUocHI6IFByZWRpY2F0ZSk6IE5vZGVMaXN0IHtcbiAgICBjb25zdCBhcnIgPSBbXTtcbiAgICBmb3IgKGNvbnN0IG4gb2YgdGhpcy5ub2Rlcykge1xuICAgICAgaWYgKHByLmNoZWNrKG4pKSB7XG4gICAgICAgIGFyci5wdXNoKG4pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IE5vZGVMaXN0KGFycik7XG4gIH1cblxuICBmb3JFYWNoTm9kZShmbjogKHAxOiBOb2RlLCBwMjogKHAxOiBOb2RlKSA9PiB2b2lkKSA9PiB2b2lkKTogTm9kZUxpc3Qge1xuICAgIGNvbnN0IGFyciA9IFtdO1xuICAgIGNvbnN0IGFkZCA9IChuKSA9PiB7XG4gICAgICBhcnIucHVzaChuKTtcbiAgICB9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgZm4odGhpcy5ub2Rlc1tpXSwgYWRkKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBOb2RlTGlzdChhcnIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEB0ZW1wbGF0ZSBUXG4gICAqL1xuICBmb3JFYWNoPFQ+KGZuOiAocDE6IE5vZGUpID0+IFQpOiBUW10ge1xuICAgIGNvbnN0IGFyciA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJyLnB1c2goZm4odGhpcy5ub2Rlc1tpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgLyoqXG4gICAqIEB0ZW1wbGF0ZSBUXG4gICAqL1xuICBmb3JFYWNoTm9uTnVsbDxUPihmbjogKHAxOiBOb2RlKSA9PiBUKTogVFtdIHtcbiAgICBjb25zdCBhcnIgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHQgPSBmbih0aGlzLm5vZGVzW2ldKTtcbiAgICAgIGlmICh0ICE9IG51bGwpIHtcbiAgICAgICAgYXJyLnB1c2godCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICBjaGlsZCh0YWc6IHN0cmluZyk6IE5vZGVMaXN0IHtcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoTm9kZSgobm9kZSwgYWRkKSA9PiB7XG4gICAgICBmb3IgKGxldCBjOiBOb2RlID0gbm9kZS5maXJzdENoaWxkOyBjOyBjID0gYy5uZXh0U2libGluZykge1xuICAgICAgICBpZiAoYy5ub2RlVHlwZSA9PSAxICYmIChjIGFzIEVsZW1lbnQpLmxvY2FsTmFtZSA9PSB0YWcpIHtcbiAgICAgICAgICBhZGQoYyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNoaWxkRWxlbWVudHMoKTogTm9kZUxpc3Qge1xuICAgIHJldHVybiB0aGlzLmZvckVhY2hOb2RlKChub2RlLCBhZGQpID0+IHtcbiAgICAgIGZvciAobGV0IGM6IE5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7IGM7IGMgPSBjLm5leHRTaWJsaW5nKSB7XG4gICAgICAgIGlmIChjLm5vZGVUeXBlID09IDEpIHtcbiAgICAgICAgICBhZGQoYyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGF0dHJpYnV0ZShuYW1lOiBzdHJpbmcpOiAoc3RyaW5nIHwgbnVsbClbXSB7XG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaE5vbk51bGwoKG5vZGUpID0+IHtcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpIHtcbiAgICAgICAgcmV0dXJuIChub2RlIGFzIEVsZW1lbnQpLmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pO1xuICB9XG5cbiAgdGV4dENvbnRlbnQoKTogKHN0cmluZyB8IG51bGwpW10ge1xuICAgIHJldHVybiB0aGlzLmZvckVhY2goKG5vZGUpID0+IG5vZGUudGV4dENvbnRlbnQpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IE9wcyAtIFJlbmRlciBFUFVCIGNvbnRlbnQgZmlsZXMgYnkgYXBwbHlpbmcgcGFnZSBtYXN0ZXJzLFxuICogc3R5bGluZyBhbmQgbGF5b3V0LlxuICovXG5pbXBvcnQgXCIuL2Zvb3Rub3Rlc1wiO1xuaW1wb3J0IFwiLi90YWJsZVwiO1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIEJyZWFrIGZyb20gXCIuL2JyZWFrXCI7XG5pbXBvcnQgKiBhcyBDb2x1bW5zIGZyb20gXCIuL2NvbHVtbnNcIjtcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCAqIGFzIENvdW50ZXJzIGZyb20gXCIuL2NvdW50ZXJzXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBDc3NDYXNjYWRlIGZyb20gXCIuL2Nzcy1jYXNjYWRlXCI7XG5pbXBvcnQgKiBhcyBDc3NQYXJzZXIgZnJvbSBcIi4vY3NzLXBhcnNlclwiO1xuaW1wb3J0ICogYXMgQ3NzUHJvcCBmcm9tIFwiLi9jc3MtcHJvcFwiO1xuaW1wb3J0ICogYXMgQ3NzU3R5bGVyIGZyb20gXCIuL2Nzcy1zdHlsZXJcIjtcbmltcG9ydCAqIGFzIENzc1Rva2VuaXplciBmcm9tIFwiLi9jc3MtdG9rZW5pemVyXCI7XG5pbXBvcnQgKiBhcyBDc3NWYWxpZGF0b3IgZnJvbSBcIi4vY3NzLXZhbGlkYXRvclwiO1xuaW1wb3J0ICogYXMgRXhwcnMgZnJvbSBcIi4vZXhwcnNcIjtcbmltcG9ydCAqIGFzIEZvbnQgZnJvbSBcIi4vZm9udFwiO1xuaW1wb3J0ICogYXMgR2VvbWV0cnlVdGlsIGZyb20gXCIuL2dlb21ldHJ5LXV0aWxcIjtcbmltcG9ydCAqIGFzIExheW91dCBmcm9tIFwiLi9sYXlvdXRcIjtcbmltcG9ydCAqIGFzIExheW91dFByb2Nlc3NvciBmcm9tIFwiLi9sYXlvdXQtcHJvY2Vzc29yXCI7XG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuL2xvZ2dpbmdcIjtcbmltcG9ydCAqIGFzIE5ldCBmcm9tIFwiLi9uZXRcIjtcbmltcG9ydCAqIGFzIFBhZ2VGbG9hdHMgZnJvbSBcIi4vcGFnZS1mbG9hdHNcIjtcbmltcG9ydCAqIGFzIENzc1BhZ2UgZnJvbSBcIi4vY3NzLXBhZ2VcIjtcbmltcG9ydCAqIGFzIFBsdWdpbiBmcm9tIFwiLi9wbHVnaW5cIjtcbmltcG9ydCAqIGFzIFBhZ2VNYXN0ZXIgZnJvbSBcIi4vcGFnZS1tYXN0ZXJcIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0ICogYXMgVGFza1V0aWwgZnJvbSBcIi4vdGFzay11dGlsXCI7XG5pbXBvcnQgKiBhcyBWZ2VuIGZyb20gXCIuL3ZnZW5cIjtcbmltcG9ydCAqIGFzIFZ0cmVlIGZyb20gXCIuL3Z0cmVlXCI7XG5pbXBvcnQgKiBhcyBYbWxEb2MgZnJvbSBcIi4veG1sLWRvY1wiO1xuaW1wb3J0IHsgTGF5b3V0IGFzIExheW91dFR5cGUgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IFVzZXJBZ2VudEJhc2VDc3MgZnJvbSBcIi4vYXNzZXRzL3VzZXItYWdlbnQtYmFzZS5jc3NcIjtcbmltcG9ydCBVc2VyQWdlbnRQYWdlQ3NzIGZyb20gXCIuL2Fzc2V0cy91c2VyLWFnZW50LXBhZ2UuY3NzXCI7XG5cbmV4cG9ydCBjb25zdCB1YVN0eWxlc2hlZXRCYXNlRmV0Y2hlcjogVGFza1V0aWwuRmV0Y2hlcjxib29sZWFuPiA9IG5ldyBUYXNrVXRpbC5GZXRjaGVyKFxuICAoKSA9PiB7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwidWFTdHlsZXNoZWV0QmFzZVwiKTtcbiAgICBjb25zdCB2YWxpZGF0b3JTZXQgPSBDc3NWYWxpZGF0b3IuYmFzZVZhbGlkYXRvclNldCgpO1xuICAgIGNvbnN0IHVybCA9IEJhc2UucmVzb2x2ZVVSTChcInVzZXItYWdlbnQtYmFzZS5jc3NcIiwgQmFzZS5yZXNvdXJjZUJhc2VVUkwpO1xuICAgIGNvbnN0IGhhbmRsZXIgPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlUGFyc2VySGFuZGxlcihcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICAgdmFsaWRhdG9yU2V0LFxuICAgICAgdHJ1ZSxcbiAgICApO1xuICAgIGhhbmRsZXIuc3RhcnRTdHlsZXNoZWV0KENzc1BhcnNlci5TdHlsZXNoZWV0Rmxhdm9yLlVTRVJfQUdFTlQpO1xuICAgIENzc0Nhc2NhZGUuc2V0VUFCYXNlQ2FzY2FkZShoYW5kbGVyLmNhc2NhZGUpO1xuICAgIENzc1BhcnNlci5wYXJzZVN0eWxlc2hlZXRGcm9tVGV4dChcbiAgICAgIFVzZXJBZ2VudEJhc2VDc3MsXG4gICAgICBoYW5kbGVyLFxuICAgICAgdXJsLFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgKS50aGVuRmluaXNoKGZyYW1lKTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH0sXG4gIFwidWFTdHlsZXNoZWV0QmFzZUZldGNoZXJcIixcbik7XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkVUFCYXNlKCk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgcmV0dXJuIHVhU3R5bGVzaGVldEJhc2VGZXRjaGVyLmdldCgpO1xufVxuXG5leHBvcnQgdHlwZSBGb250RmFjZSA9IHtcbiAgcHJvcGVydGllczogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGU7XG4gIGNvbmRpdGlvbjogRXhwcnMuVmFsO1xufTtcblxuZXhwb3J0IGNsYXNzIFN0eWxlIHtcbiAgZm9udERlb2JmdXNjYXRvcjpcbiAgICB8ICgocDE6IHN0cmluZykgPT4gKChwMTogQmxvYikgPT4gVGFzay5SZXN1bHQ8QmxvYj4pIHwgbnVsbClcbiAgICB8IG51bGw7XG4gIHZhbGlkYXRvclNldDogQ3NzVmFsaWRhdG9yLlZhbGlkYXRvclNldDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RvcmU6IE9QU0RvY1N0b3JlLFxuICAgIHB1YmxpYyByZWFkb25seSByb290U2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFnZVNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcHVibGljIHJlYWRvbmx5IGNhc2NhZGU6IENzc0Nhc2NhZGUuQ2FzY2FkZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcm9vdEJveDogUGFnZU1hc3Rlci5Sb290UGFnZUJveCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9udEZhY2VzOiBGb250RmFjZVtdLFxuICAgIHB1YmxpYyByZWFkb25seSBmb290bm90ZVByb3BzOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmxvd1Byb3BzOiB7IFtrZXk6IHN0cmluZ106IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlIH0sXG4gICAgcHVibGljIHJlYWRvbmx5IHZpZXdwb3J0UHJvcHM6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlW10sXG4gICAgcHVibGljIHJlYWRvbmx5IHBhZ2VQcm9wczogeyBba2V5OiBzdHJpbmddOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSB9LFxuICApIHtcbiAgICB0aGlzLmZvbnREZW9iZnVzY2F0b3IgPSBzdG9yZS5mb250RGVvYmZ1c2NhdG9yO1xuICAgIHRoaXMudmFsaWRhdG9yU2V0ID0gc3RvcmUudmFsaWRhdG9yU2V0O1xuICAgIHRoaXMucGFnZVNjb3BlLmRlZmluZUJ1aWx0SW4oXCJoYXMtY29udGVudFwiLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgICBuYW1lID0gbmFtZSBhcyBzdHJpbmc7XG4gICAgICBjb25zdCBzdHlsZUluc3RhbmNlID0gdGhpcyBhcyBTdHlsZUluc3RhbmNlO1xuICAgICAgY29uc3QgY3AgPSBzdHlsZUluc3RhbmNlLmN1cnJlbnRMYXlvdXRQb3NpdGlvbjtcbiAgICAgIGNvbnN0IGZsb3dDaHVuayA9IGNwLmZpcnN0Rmxvd0NodW5rT2ZGbG93KG5hbWUpO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgc3R5bGVJbnN0YW5jZS5tYXRjaFBhZ2VTaWRlKGNwLnN0YXJ0U2lkZU9mRmxvdyhuYW1lIGFzIHN0cmluZykpICYmXG4gICAgICAgIGNwLmhhc0NvbnRlbnQobmFtZSBhcyBzdHJpbmcsIHN0eWxlSW5zdGFuY2UubG9va3VwT2Zmc2V0KSAmJlxuICAgICAgICAhIWZsb3dDaHVuayAmJlxuICAgICAgICAhc3R5bGVJbnN0YW5jZS5mbG93Q2h1bmtJc0FmdGVyUGFyZW50Rmxvd0ZvcmNlZEJyZWFrKGZsb3dDaHVuaylcbiAgICAgICk7XG4gICAgfSk7XG4gICAgdGhpcy5wYWdlU2NvcGUuZGVmaW5lTmFtZShcbiAgICAgIFwicGFnZS1udW1iZXJcIixcbiAgICAgIG5ldyBFeHBycy5OYXRpdmUoXG4gICAgICAgIHRoaXMucGFnZVNjb3BlLFxuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICBjb25zdCBzdHlsZUluc3RhbmNlID0gdGhpcyBhcyBTdHlsZUluc3RhbmNlO1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBzdHlsZUluc3RhbmNlLnBhZ2VOdW1iZXJPZmZzZXQgK1xuICAgICAgICAgICAgc3R5bGVJbnN0YW5jZS5jdXJyZW50TGF5b3V0UG9zaXRpb24ucGFnZVxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIFwicGFnZS1udW1iZXJcIixcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIHNpemVWaWV3cG9ydChcbiAgICB2aWV3cG9ydFdpZHRoOiBudW1iZXIsXG4gICAgdmlld3BvcnRIZWlnaHQ6IG51bWJlcixcbiAgICBmb250U2l6ZTogbnVtYmVyLFxuICAgIHByZWY/OiBFeHBycy5QcmVmZXJlbmNlcyxcbiAgKTogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlcjsgZm9udFNpemU6IG51bWJlciB9IHtcbiAgICBpZiAodGhpcy52aWV3cG9ydFByb3BzLmxlbmd0aCkge1xuICAgICAgY29uc3QgY29udGV4dCA9IG5ldyBFeHBycy5Db250ZXh0KFxuICAgICAgICB0aGlzLnJvb3RTY29wZSxcbiAgICAgICAgdmlld3BvcnRXaWR0aCxcbiAgICAgICAgdmlld3BvcnRIZWlnaHQsXG4gICAgICAgIGZvbnRTaXplLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHZpZXdwb3J0UHJvcHMgPSBDc3NDYXNjYWRlLm1lcmdlQWxsKGNvbnRleHQsIHRoaXMudmlld3BvcnRQcm9wcyk7XG4gICAgICBjb25zdCB3aWR0aCA9IHZpZXdwb3J0UHJvcHNbXCJ3aWR0aFwiXTtcbiAgICAgIGNvbnN0IGhlaWdodCA9IHZpZXdwb3J0UHJvcHNbXCJoZWlnaHRcIl07XG4gICAgICBjb25zdCB0ZXh0Wm9vbSA9IHZpZXdwb3J0UHJvcHNbXCJ0ZXh0LXpvb21cIl07XG4gICAgICBsZXQgc2NhbGVGYWN0b3IgPSAxO1xuICAgICAgaWYgKCh3aWR0aCAmJiBoZWlnaHQpIHx8IHRleHRab29tKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRGb250U2l6ZSA9IEV4cHJzLmRlZmF1bHRVbml0U2l6ZXNbXCJlbVwiXTtcbiAgICAgICAgY29uc3Qgem9vbVZhbCA9IHRleHRab29tXG4gICAgICAgICAgPyB0ZXh0Wm9vbS5ldmFsdWF0ZShjb250ZXh0LCBcInRleHQtem9vbVwiKVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgaWYgKHpvb21WYWwgPT09IENzcy5pZGVudC5zY2FsZSkge1xuICAgICAgICAgIHNjYWxlRmFjdG9yID0gZGVmYXVsdEZvbnRTaXplIC8gZm9udFNpemU7XG4gICAgICAgICAgZm9udFNpemUgPSBkZWZhdWx0Rm9udFNpemU7XG4gICAgICAgICAgdmlld3BvcnRXaWR0aCAqPSBzY2FsZUZhY3RvcjtcbiAgICAgICAgICB2aWV3cG9ydEhlaWdodCAqPSBzY2FsZUZhY3RvcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2lkdGggJiYgaGVpZ2h0KSB7XG4gICAgICAgICAgY29uc3Qgd2lkdGhWYWwgPSBDc3MudG9OdW1iZXIoXG4gICAgICAgICAgICB3aWR0aC5ldmFsdWF0ZShjb250ZXh0LCBcIndpZHRoXCIpLFxuICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IGhlaWdodFZhbCA9IENzcy50b051bWJlcihcbiAgICAgICAgICAgIGhlaWdodC5ldmFsdWF0ZShjb250ZXh0LCBcImhlaWdodFwiKSxcbiAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAod2lkdGhWYWwgPiAwICYmIGhlaWdodFZhbCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHNwcmVhZFdpZHRoID1cbiAgICAgICAgICAgICAgcHJlZiAmJiBwcmVmLnNwcmVhZFZpZXdcbiAgICAgICAgICAgICAgICA/ICh3aWR0aFZhbCArIHByZWYucGFnZUJvcmRlcikgKiAyXG4gICAgICAgICAgICAgICAgOiB3aWR0aFZhbDtcbiAgICAgICAgICAgIHJldHVybiB7IHdpZHRoOiBzcHJlYWRXaWR0aCwgaGVpZ2h0OiBoZWlnaHRWYWwsIGZvbnRTaXplIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IHdpZHRoOiB2aWV3cG9ydFdpZHRoLCBoZWlnaHQ6IHZpZXdwb3J0SGVpZ2h0LCBmb250U2l6ZSB9O1xuICB9XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNsYXNzIFN0eWxlSW5zdGFuY2UgZXh0ZW5kcyBFeHBycy5Db250ZXh0XG4gIGltcGxlbWVudHNcbiAgICBDc3NTdHlsZXIuRmxvd0xpc3RlbmVyLFxuICAgIFBhZ2VNYXN0ZXIuSW5zdGFuY2VIb2xkZXIsXG4gICAgVmdlbi5TdHlsZXJQcm9kdWNlciB7XG4gIGxhbmc6IHN0cmluZyB8IG51bGw7XG4gIHByaW1hcnlGbG93cyA9IHsgYm9keTogdHJ1ZSB9IGFzIHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9O1xuICByb290UGFnZUJveEluc3RhbmNlOiBQYWdlTWFzdGVyLlJvb3RQYWdlQm94SW5zdGFuY2UgPSBudWxsO1xuICBzdHlsZXI6IENzc1N0eWxlci5TdHlsZXIgPSBudWxsO1xuICBzdHlsZXJNYXA6IHsgW2tleTogc3RyaW5nXTogQ3NzU3R5bGVyLlN0eWxlciB9ID0gbnVsbDtcbiAgY3VycmVudExheW91dFBvc2l0aW9uOiBWdHJlZS5MYXlvdXRQb3NpdGlvbiA9IG51bGw7XG4gIGxheW91dFBvc2l0aW9uQXRQYWdlU3RhcnQ6IFZ0cmVlLkxheW91dFBvc2l0aW9uID0gbnVsbDtcbiAgbG9va3VwT2Zmc2V0OiBudW1iZXIgPSAwO1xuICBmYWNlczogRm9udC5Eb2N1bWVudEZhY2VzO1xuICBwYWdlQm94SW5zdGFuY2VzOiB7IFtrZXk6IHN0cmluZ106IFBhZ2VNYXN0ZXIuUGFnZUJveEluc3RhbmNlIH0gPSB7fTtcbiAgcGFnZU1hbmFnZXI6IENzc1BhZ2UuUGFnZU1hbmFnZXIgPSBudWxsO1xuICBwcml2YXRlIHJvb3RQYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQ7XG4gIHBhZ2VCcmVha3M6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge307XG4gIHBhZ2VQcm9ncmVzc2lvbjogQ29uc3RhbnRzLlBhZ2VQcm9ncmVzc2lvbiB8IG51bGwgPSBudWxsO1xuICBwYWdlU2hlZXRTaXplOiB7IFtrZXk6IHN0cmluZ106IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfSB9ID0ge307XG4gIHBhZ2VTaGVldEhlaWdodDogbnVtYmVyID0gMDtcbiAgcGFnZVNoZWV0V2lkdGg6IG51bWJlciA9IDA7XG4gIGFjdHVhbFBhZ2VXaWR0aDogbnVtYmVyO1xuICBhY3R1YWxQYWdlSGVpZ2h0OiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHN0eWxlOiBTdHlsZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyLFxuICAgIGRlZmF1bHRMYW5nOiBzdHJpbmcgfCBudWxsLFxuICAgIHB1YmxpYyByZWFkb25seSB2aWV3cG9ydDogVmdlbi5WaWV3cG9ydCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICAgcHVibGljIHJlYWRvbmx5IGZvbnRNYXBwZXI6IEZvbnQuTWFwcGVyLFxuICAgIHB1YmxpYyByZWFkb25seSBjdXN0b21SZW5kZXJlcjogVmdlbi5DdXN0b21SZW5kZXJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmFsbGJhY2tNYXA6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0sXG4gICAgcHVibGljIHJlYWRvbmx5IHBhZ2VOdW1iZXJPZmZzZXQ6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcjogQmFzZS5Eb2N1bWVudFVSTFRyYW5zZm9ybWVyLFxuICAgIHB1YmxpYyByZWFkb25seSBjb3VudGVyU3RvcmU6IENvdW50ZXJzLkNvdW50ZXJTdG9yZSxcbiAgICBwYWdlUHJvZ3Jlc3Npb24/OiBDb25zdGFudHMuUGFnZVByb2dyZXNzaW9uLFxuICApIHtcbiAgICBzdXBlcihzdHlsZS5yb290U2NvcGUsIHZpZXdwb3J0LndpZHRoLCB2aWV3cG9ydC5oZWlnaHQsIHZpZXdwb3J0LmZvbnRTaXplKTtcbiAgICB0aGlzLmxhbmcgPSB4bWxkb2MubGFuZyB8fCBkZWZhdWx0TGFuZztcbiAgICB0aGlzLmZhY2VzID0gbmV3IEZvbnQuRG9jdW1lbnRGYWNlcyh0aGlzLnN0eWxlLmZvbnREZW9iZnVzY2F0b3IpO1xuICAgIHRoaXMucm9vdFBhZ2VGbG9hdExheW91dENvbnRleHQgPSBuZXcgUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0KFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICApO1xuICAgIHRoaXMucGFnZVByb2dyZXNzaW9uID0gcGFnZVByb2dyZXNzaW9uIHx8IG51bGw7XG4gICAgZm9yIChjb25zdCBmbG93TmFtZSBpbiBzdHlsZS5mbG93UHJvcHMpIHtcbiAgICAgIGNvbnN0IGZsb3dTdHlsZSA9IHN0eWxlLmZsb3dQcm9wc1tmbG93TmFtZV07XG4gICAgICBjb25zdCBjb25zdW1lID0gQ3NzQ2FzY2FkZS5nZXRQcm9wKGZsb3dTdHlsZSwgXCJmbG93LWNvbnN1bWVcIik7XG4gICAgICBpZiAoY29uc3VtZSkge1xuICAgICAgICBjb25zdCBjb25zdW1lVmFsID0gY29uc3VtZS5ldmFsdWF0ZSh0aGlzLCBcImZsb3ctY29uc3VtZVwiKTtcbiAgICAgICAgaWYgKGNvbnN1bWVWYWwgPT0gQ3NzLmlkZW50LmFsbCkge1xuICAgICAgICAgIHRoaXMucHJpbWFyeUZsb3dzW2Zsb3dOYW1lXSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIHRoaXMucHJpbWFyeUZsb3dzW2Zsb3dOYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGluaXQoKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcIlN0eWxlSW5zdGFuY2UuaW5pdFwiKTtcbiAgICBjb25zdCBjb3VudGVyTGlzdGVuZXIgPSBzZWxmLmNvdW50ZXJTdG9yZS5jcmVhdGVDb3VudGVyTGlzdGVuZXIoXG4gICAgICBzZWxmLnhtbGRvYy51cmwsXG4gICAgKTtcbiAgICBjb25zdCBjb3VudGVyUmVzb2x2ZXIgPSBzZWxmLmNvdW50ZXJTdG9yZS5jcmVhdGVDb3VudGVyUmVzb2x2ZXIoXG4gICAgICBzZWxmLnhtbGRvYy51cmwsXG4gICAgICBzZWxmLnN0eWxlLnJvb3RTY29wZSxcbiAgICAgIHNlbGYuc3R5bGUucGFnZVNjb3BlLFxuICAgICk7XG4gICAgc2VsZi5zdHlsZXIgPSBuZXcgQ3NzU3R5bGVyLlN0eWxlcihcbiAgICAgIHNlbGYueG1sZG9jLFxuICAgICAgc2VsZi5zdHlsZS5jYXNjYWRlLFxuICAgICAgc2VsZi5zdHlsZS5yb290U2NvcGUsXG4gICAgICBzZWxmLFxuICAgICAgdGhpcy5wcmltYXJ5Rmxvd3MsXG4gICAgICBzZWxmLnN0eWxlLnZhbGlkYXRvclNldCxcbiAgICAgIGNvdW50ZXJMaXN0ZW5lcixcbiAgICAgIGNvdW50ZXJSZXNvbHZlcixcbiAgICApO1xuICAgIGNvdW50ZXJSZXNvbHZlci5zZXRTdHlsZXIoc2VsZi5zdHlsZXIpO1xuICAgIHNlbGYuc3R5bGVyLnJlc2V0Rmxvd0NodW5rU3RyZWFtKHNlbGYpO1xuICAgIHNlbGYuc3R5bGVyTWFwID0ge307XG4gICAgc2VsZi5zdHlsZXJNYXBbc2VsZi54bWxkb2MudXJsXSA9IHNlbGYuc3R5bGVyO1xuICAgIGNvbnN0IGRvY0VsZW1lbnRTdHlsZSA9IHNlbGYuc3R5bGVyLmdldFRvcENvbnRhaW5lclN0eWxlKCk7XG4gICAgaWYgKCFzZWxmLnBhZ2VQcm9ncmVzc2lvbikge1xuICAgICAgc2VsZi5wYWdlUHJvZ3Jlc3Npb24gPSBDc3NQYWdlLnJlc29sdmVQYWdlUHJvZ3Jlc3Npb24oZG9jRWxlbWVudFN0eWxlKTtcbiAgICB9XG4gICAgY29uc3Qgcm9vdEJveCA9IHRoaXMuc3R5bGUucm9vdEJveDtcbiAgICB0aGlzLnJvb3RQYWdlQm94SW5zdGFuY2UgPSBuZXcgUGFnZU1hc3Rlci5Sb290UGFnZUJveEluc3RhbmNlKHJvb3RCb3gpO1xuICAgIGNvbnN0IGNhc2NhZGVJbnN0YW5jZSA9IHRoaXMuc3R5bGUuY2FzY2FkZS5jcmVhdGVJbnN0YW5jZShcbiAgICAgIHNlbGYsXG4gICAgICBjb3VudGVyTGlzdGVuZXIsXG4gICAgICBjb3VudGVyUmVzb2x2ZXIsXG4gICAgICB0aGlzLmxhbmcsXG4gICAgKTtcbiAgICB0aGlzLnJvb3RQYWdlQm94SW5zdGFuY2UuYXBwbHlDYXNjYWRlQW5kSW5pdChcbiAgICAgIGNhc2NhZGVJbnN0YW5jZSxcbiAgICAgIGRvY0VsZW1lbnRTdHlsZSxcbiAgICApO1xuICAgIHRoaXMucm9vdFBhZ2VCb3hJbnN0YW5jZS5yZXNvbHZlQXV0b1NpemluZyhzZWxmKTtcbiAgICB0aGlzLnBhZ2VNYW5hZ2VyID0gbmV3IENzc1BhZ2UuUGFnZU1hbmFnZXIoXG4gICAgICBjYXNjYWRlSW5zdGFuY2UsXG4gICAgICB0aGlzLnN0eWxlLnBhZ2VTY29wZSxcbiAgICAgIHRoaXMucm9vdFBhZ2VCb3hJbnN0YW5jZSxcbiAgICAgIHNlbGYsXG4gICAgICBkb2NFbGVtZW50U3R5bGUsXG4gICAgKTtcbiAgICBjb25zdCBzcmNGYWNlcyA9IFtdIGFzIEZvbnQuRmFjZVtdO1xuICAgIGZvciAoY29uc3QgZm9udEZhY2Ugb2Ygc2VsZi5zdHlsZS5mb250RmFjZXMpIHtcbiAgICAgIGlmIChmb250RmFjZS5jb25kaXRpb24gJiYgIWZvbnRGYWNlLmNvbmRpdGlvbi5ldmFsdWF0ZShzZWxmKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBGb250LnByZXBhcmVQcm9wZXJ0aWVzKGZvbnRGYWNlLnByb3BlcnRpZXMsIHNlbGYpO1xuICAgICAgY29uc3Qgc3JjRmFjZSA9IG5ldyBGb250LkZhY2UocHJvcGVydGllcyk7XG4gICAgICBzcmNGYWNlcy5wdXNoKHNyY0ZhY2UpO1xuICAgIH1cbiAgICBzZWxmLmZvbnRNYXBwZXIuZmluZE9yTG9hZEZvbnRzKHNyY0ZhY2VzLCBzZWxmLmZhY2VzKS50aGVuRmluaXNoKGZyYW1lKTtcblxuICAgIC8vIERldGVybWluZSBwYWdlIHNoZWV0IHNpemVzIGNvcnJlc3BvbmRpbmcgdG8gcGFnZSBzZWxlY3RvcnNcbiAgICBjb25zdCBwYWdlUHJvcHMgPSBzZWxmLnN0eWxlLnBhZ2VQcm9wcztcbiAgICBPYmplY3Qua2V5cyhwYWdlUHJvcHMpLmZvckVhY2goKHNlbGVjdG9yKSA9PiB7XG4gICAgICBjb25zdCBwYWdlU2l6ZUFuZEJsZWVkID0gQ3NzUGFnZS5ldmFsdWF0ZVBhZ2VTaXplQW5kQmxlZWQoXG4gICAgICAgIENzc1BhZ2UucmVzb2x2ZVBhZ2VTaXplQW5kQmxlZWQocGFnZVByb3BzW3NlbGVjdG9yXSBhcyBhbnkpLFxuICAgICAgICB0aGlzLFxuICAgICAgKTtcbiAgICAgIHRoaXMucGFnZVNoZWV0U2l6ZVtzZWxlY3Rvcl0gPSB7XG4gICAgICAgIHdpZHRoOiBwYWdlU2l6ZUFuZEJsZWVkLnBhZ2VXaWR0aCArIHBhZ2VTaXplQW5kQmxlZWQuY3JvcE9mZnNldCAqIDIsXG4gICAgICAgIGhlaWdodDogcGFnZVNpemVBbmRCbGVlZC5wYWdlSGVpZ2h0ICsgcGFnZVNpemVBbmRCbGVlZC5jcm9wT2Zmc2V0ICogMixcbiAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0U3R5bGVyRm9yRG9jKHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcik6IENzc1N0eWxlci5BYnN0cmFjdFN0eWxlciB7XG4gICAgbGV0IHN0eWxlciA9IHRoaXMuc3R5bGVyTWFwW3htbGRvYy51cmxdO1xuICAgIGlmICghc3R5bGVyKSB7XG4gICAgICBjb25zdCBzdHlsZSA9IHRoaXMuc3R5bGUuc3RvcmUuZ2V0U3R5bGVGb3JEb2MoeG1sZG9jKTtcblxuICAgICAgLy8gV2UgbmVlZCBhIHNlcGFyYXRlIGNvbnRlbnQsIHNvIHRoYXQgdmFyaWFibGVzIGNhbiBnZXQgcG90ZW50aWFsbHlcbiAgICAgIC8vIGRpZmZlcmVudCB2YWx1ZXMuXG4gICAgICBjb25zdCBjb250ZXh0ID0gbmV3IEV4cHJzLkNvbnRleHQoXG4gICAgICAgIHN0eWxlLnJvb3RTY29wZSxcbiAgICAgICAgdGhpcy5wYWdlV2lkdGgoKSxcbiAgICAgICAgdGhpcy5wYWdlSGVpZ2h0KCksXG4gICAgICAgIHRoaXMuaW5pdGlhbEZvbnRTaXplLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGNvdW50ZXJMaXN0ZW5lciA9IHRoaXMuY291bnRlclN0b3JlLmNyZWF0ZUNvdW50ZXJMaXN0ZW5lcihcbiAgICAgICAgeG1sZG9jLnVybCxcbiAgICAgICk7XG4gICAgICBjb25zdCBjb3VudGVyUmVzb2x2ZXIgPSB0aGlzLmNvdW50ZXJTdG9yZS5jcmVhdGVDb3VudGVyUmVzb2x2ZXIoXG4gICAgICAgIHhtbGRvYy51cmwsXG4gICAgICAgIHN0eWxlLnJvb3RTY29wZSxcbiAgICAgICAgc3R5bGUucGFnZVNjb3BlLFxuICAgICAgKTtcbiAgICAgIHN0eWxlciA9IG5ldyBDc3NTdHlsZXIuU3R5bGVyKFxuICAgICAgICB4bWxkb2MsXG4gICAgICAgIHN0eWxlLmNhc2NhZGUsXG4gICAgICAgIHN0eWxlLnJvb3RTY29wZSxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgdGhpcy5wcmltYXJ5Rmxvd3MsXG4gICAgICAgIHN0eWxlLnZhbGlkYXRvclNldCxcbiAgICAgICAgY291bnRlckxpc3RlbmVyLFxuICAgICAgICBjb3VudGVyUmVzb2x2ZXIsXG4gICAgICApO1xuICAgICAgdGhpcy5zdHlsZXJNYXBbeG1sZG9jLnVybF0gPSBzdHlsZXI7XG4gICAgfVxuICAgIHJldHVybiBzdHlsZXI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICByZWdpc3Rlckluc3RhbmNlKGtleTogc3RyaW5nLCBpbnN0YW5jZTogUGFnZU1hc3Rlci5QYWdlQm94SW5zdGFuY2UpOiB2b2lkIHtcbiAgICB0aGlzLnBhZ2VCb3hJbnN0YW5jZXNba2V5XSA9IGluc3RhbmNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbG9va3VwSW5zdGFuY2Uoa2V5OiBzdHJpbmcpOiBQYWdlTWFzdGVyLlBhZ2VCb3hJbnN0YW5jZSB7XG4gICAgcmV0dXJuIHRoaXMucGFnZUJveEluc3RhbmNlc1trZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZW5jb3VudGVyZWRGbG93Q2h1bmsoZmxvd0NodW5rOiBWdHJlZS5GbG93Q2h1bmssIGZsb3c6IFZ0cmVlLkZsb3cpOiBhbnkge1xuICAgIGNvbnN0IGNwID0gdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb247XG4gICAgaWYgKGNwKSB7XG4gICAgICBpZiAoIWNwLmZsb3dzW2Zsb3dDaHVuay5mbG93TmFtZV0pIHtcbiAgICAgICAgY3AuZmxvd3NbZmxvd0NodW5rLmZsb3dOYW1lXSA9IGZsb3c7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmbG93ID0gY3AuZmxvd3NbZmxvd0NodW5rLmZsb3dOYW1lXTtcbiAgICAgIH1cbiAgICAgIGxldCBmbG93UG9zaXRpb24gPSBjcC5mbG93UG9zaXRpb25zW2Zsb3dDaHVuay5mbG93TmFtZV07XG4gICAgICBpZiAoIWZsb3dQb3NpdGlvbikge1xuICAgICAgICBmbG93UG9zaXRpb24gPSBuZXcgVnRyZWUuRmxvd1Bvc2l0aW9uKCk7XG4gICAgICAgIGNwLmZsb3dQb3NpdGlvbnNbZmxvd0NodW5rLmZsb3dOYW1lXSA9IGZsb3dQb3NpdGlvbjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vZGVQb3NpdGlvbiA9IFZ0cmVlLm5ld05vZGVQb3NpdGlvbkZyb21Ob2RlKGZsb3dDaHVuay5lbGVtZW50KTtcbiAgICAgIGNvbnN0IGNodW5rUG9zaXRpb24gPSBuZXcgVnRyZWUuQ2h1bmtQb3NpdGlvbihub2RlUG9zaXRpb24pO1xuICAgICAgY29uc3QgZmxvd0NodW5rUG9zaXRpb24gPSBuZXcgVnRyZWUuRmxvd0NodW5rUG9zaXRpb24oXG4gICAgICAgIGNodW5rUG9zaXRpb24sXG4gICAgICAgIGZsb3dDaHVuayxcbiAgICAgICk7XG4gICAgICBmbG93UG9zaXRpb24ucG9zaXRpb25zLnB1c2goZmxvd0NodW5rUG9zaXRpb24pO1xuICAgIH1cbiAgfVxuXG4gIGdldENvbnN1bWVkT2Zmc2V0KGZsb3dQb3NpdGlvbjogVnRyZWUuRmxvd1Bvc2l0aW9uKTogbnVtYmVyIHtcbiAgICBsZXQgb2Zmc2V0ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmxvd1Bvc2l0aW9uLnBvc2l0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcG9zID0gZmxvd1Bvc2l0aW9uLnBvc2l0aW9uc1tpXS5jaHVua1Bvc2l0aW9uLnByaW1hcnk7XG4gICAgICBsZXQgbm9kZSA9IHBvcy5zdGVwc1swXS5ub2RlO1xuICAgICAgbGV0IG9mZnNldEluTm9kZSA9IHBvcy5vZmZzZXRJbk5vZGU7XG4gICAgICBsZXQgYWZ0ZXIgPSBwb3MuYWZ0ZXI7XG4gICAgICBsZXQgayA9IDA7XG4gICAgICB3aGlsZSAobm9kZS5vd25lckRvY3VtZW50ICE9IHRoaXMueG1sZG9jLmRvY3VtZW50KSB7XG4gICAgICAgIGsrKztcbiAgICAgICAgbm9kZSA9IHBvcy5zdGVwc1trXS5ub2RlO1xuICAgICAgICBhZnRlciA9IGZhbHNlO1xuICAgICAgICBvZmZzZXRJbk5vZGUgPSAwO1xuICAgICAgfVxuICAgICAgY29uc3QgY2h1bmtPZmZzZXQgPSB0aGlzLnhtbGRvYy5nZXROb2RlT2Zmc2V0KG5vZGUsIG9mZnNldEluTm9kZSwgYWZ0ZXIpO1xuICAgICAgaWYgKGNodW5rT2Zmc2V0IDwgb2Zmc2V0KSB7XG4gICAgICAgIG9mZnNldCA9IGNodW5rT2Zmc2V0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2Zmc2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBub0xvb2tBaGVhZCBEbyBub3QgbG9vayBhaGVhZCBlbGVtZW50cyB0aGF0IGFyZSBub3Qgc3R5bGVkIHlldFxuICAgKiBAcmV0dXJuIGRvY3VtZW50IG9mZnNldCBvZiB0aGUgZ2l2ZW4gbGF5b3V0UG9zaXRpb25cbiAgICovXG4gIGdldFBvc2l0aW9uKFxuICAgIGxheW91dFBvc2l0aW9uPzogVnRyZWUuTGF5b3V0UG9zaXRpb24sXG4gICAgbm9Mb29rQWhlYWQ/OiBib29sZWFuLFxuICApOiBudW1iZXIge1xuICAgIGlmICghbGF5b3V0UG9zaXRpb24pIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBsZXQgY3VycmVudFBvc2l0aW9uID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIGZvciAoY29uc3QgZmxvd05hbWUgaW4gdGhpcy5wcmltYXJ5Rmxvd3MpIHtcbiAgICAgIGxldCBmbG93UG9zaXRpb24gPSBsYXlvdXRQb3NpdGlvbi5mbG93UG9zaXRpb25zW2Zsb3dOYW1lXTtcbiAgICAgIGlmIChcbiAgICAgICAgIW5vTG9va0FoZWFkICYmXG4gICAgICAgICghZmxvd1Bvc2l0aW9uIHx8IGZsb3dQb3NpdGlvbi5wb3NpdGlvbnMubGVuZ3RoID09IDApICYmXG4gICAgICAgIHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5zdHlsZXIuc3R5bGVVbnRpbEZsb3dJc1JlYWNoZWQoZmxvd05hbWUpO1xuICAgICAgICBmbG93UG9zaXRpb24gPSB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5mbG93UG9zaXRpb25zW2Zsb3dOYW1lXTtcbiAgICAgICAgaWYgKGxheW91dFBvc2l0aW9uICE9IHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uKSB7XG4gICAgICAgICAgaWYgKGZsb3dQb3NpdGlvbikge1xuICAgICAgICAgICAgZmxvd1Bvc2l0aW9uID0gZmxvd1Bvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgICAgICBsYXlvdXRQb3NpdGlvbi5mbG93UG9zaXRpb25zW2Zsb3dOYW1lXSA9IGZsb3dQb3NpdGlvbjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmbG93UG9zaXRpb24pIHtcbiAgICAgICAgY29uc3QgY29uc3VtZWRPZmZzZXQgPSB0aGlzLmdldENvbnN1bWVkT2Zmc2V0KGZsb3dQb3NpdGlvbik7XG4gICAgICAgIGlmIChjb25zdW1lZE9mZnNldCA8IGN1cnJlbnRQb3NpdGlvbikge1xuICAgICAgICAgIGN1cnJlbnRQb3NpdGlvbiA9IGNvbnN1bWVkT2Zmc2V0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50UG9zaXRpb247XG4gIH1cblxuICBkdW1wTG9jYXRpb24ocG9zaXRpb24pIHtcbiAgICBMb2dnaW5nLmxvZ2dlci5kZWJ1ZyhcIkxvY2F0aW9uIC0gcGFnZVwiLCB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5wYWdlKTtcbiAgICBMb2dnaW5nLmxvZ2dlci5kZWJ1ZyhcIiAgY3VycmVudDpcIiwgcG9zaXRpb24pO1xuICAgIExvZ2dpbmcubG9nZ2VyLmRlYnVnKFwiICBsb29rdXA6XCIsIHRoaXMubG9va3VwT2Zmc2V0KTtcbiAgICBmb3IgKGNvbnN0IGZsb3dOYW1lIGluIHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uLmZsb3dQb3NpdGlvbnMpIHtcbiAgICAgIGNvbnN0IGZsb3dQb3NpdGlvbiA9IHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uLmZsb3dQb3NpdGlvbnNbZmxvd05hbWVdO1xuICAgICAgZm9yIChjb25zdCBwIG9mIGZsb3dQb3NpdGlvbi5wb3NpdGlvbnMpIHtcbiAgICAgICAgTG9nZ2luZy5sb2dnZXIuZGVidWcoXG4gICAgICAgICAgXCIgIENodW5rXCIsXG4gICAgICAgICAgYCR7Zmxvd05hbWV9OmAsXG4gICAgICAgICAgcC5mbG93Q2h1bmsuc3RhcnRPZmZzZXQsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbWF0Y2hQYWdlU2lkZShzaWRlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBzd2l0Y2ggKHNpZGUpIHtcbiAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgIGNhc2UgXCJyZWN0b1wiOlxuICAgICAgY2FzZSBcInZlcnNvXCI6XG4gICAgICAgIHJldHVybiBuZXcgRXhwcnMuTmFtZWQodGhpcy5zdHlsZS5wYWdlU2NvcGUsIGAke3NpZGV9LXBhZ2VgKS5ldmFsdWF0ZShcbiAgICAgICAgICB0aGlzLFxuICAgICAgICApIGFzIGJvb2xlYW47XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVTdGFydFNpZGUobGF5b3V0UG9zaXRpb246IFZ0cmVlLkxheW91dFBvc2l0aW9uKSB7XG4gICAgZm9yIChjb25zdCBuYW1lIGluIGxheW91dFBvc2l0aW9uLmZsb3dQb3NpdGlvbnMpIHtcbiAgICAgIGNvbnN0IGZsb3dQb3MgPSBsYXlvdXRQb3NpdGlvbi5mbG93UG9zaXRpb25zW25hbWVdO1xuICAgICAgaWYgKGZsb3dQb3MgJiYgZmxvd1Bvcy5wb3NpdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBmbG93Q2h1bmsgPSBmbG93UG9zLnBvc2l0aW9uc1swXS5mbG93Q2h1bms7XG4gICAgICAgIGlmICh0aGlzLmdldENvbnN1bWVkT2Zmc2V0KGZsb3dQb3MpID09PSBmbG93Q2h1bmsuc3RhcnRPZmZzZXQpIHtcbiAgICAgICAgICBjb25zdCBmbG93Q2h1bmtCcmVha0JlZm9yZSA9XG4gICAgICAgICAgICBmbG93UG9zLnBvc2l0aW9uc1swXS5mbG93Q2h1bmsuYnJlYWtCZWZvcmU7XG4gICAgICAgICAgY29uc3QgZmxvd0JyZWFrQWZ0ZXIgPSBCcmVhay5zdGFydFNpZGVWYWx1ZVRvQnJlYWtWYWx1ZShcbiAgICAgICAgICAgIGZsb3dQb3Muc3RhcnRTaWRlLFxuICAgICAgICAgICk7XG4gICAgICAgICAgZmxvd1Bvcy5zdGFydFNpZGUgPSBCcmVhay5icmVha1ZhbHVlVG9TdGFydFNpZGVWYWx1ZShcbiAgICAgICAgICAgIEJyZWFrLnJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlKFxuICAgICAgICAgICAgICBmbG93QnJlYWtBZnRlcixcbiAgICAgICAgICAgICAgZmxvd0NodW5rQnJlYWtCZWZvcmUsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGNhc2NhZGVkUGFnZVN0eWxlIENhc2NhZGVkIHBhZ2Ugc3R5bGUgc3BlY2lmaWVkIGluIHBhZ2UgY29udGV4dFxuICAgKi9cbiAgc2VsZWN0UGFnZU1hc3RlcihcbiAgICBjYXNjYWRlZFBhZ2VTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICk6IFBhZ2VNYXN0ZXIuUGFnZU1hc3Rlckluc3RhbmNlIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBjcCA9IHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uO1xuXG4gICAgLy8gMy41LiBQYWdlIExheW91dCBQcm9jZXNzaW5nIE1vZGVsXG4gICAgLy8gMS4gRGV0ZXJtaW5lIGN1cnJlbnQgcG9zaXRpb24gaW4gdGhlIGRvY3VtZW50OiBGaW5kIHRoZSBtaW5pbWFsXG4gICAgLy8gY29uc3VtZWQtb2Zmc2V0IGZvciBhbGwgZWxlbWVudHMgbm90IGZ1bGx5LWNvbnN1bWVkIGluIGVhY2ggcHJpbWFyeSBmbG93LlxuICAgIC8vIEN1cnJlbnQgcG9zaXRpb24gaXMgbWF4aW11bSBvZiB0aGUgcmVzdWx0cyBhbW9uZyBhbGwgcHJpbWFyeSBmbG93cy5cbiAgICBjb25zdCBjdXJyZW50UG9zaXRpb24gPSB0aGlzLmdldFBvc2l0aW9uKGNwKTtcbiAgICBpZiAoY3VycmVudFBvc2l0aW9uID09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuICAgICAgLy8gZW5kIG9mIHByaW1hcnkgY29udGVudCBpcyByZWFjaGVkXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyAyLiBQYWdlIG1hc3RlciBzZWxlY3Rpb246IGZvciBlYWNoIHBhZ2UgbWFzdGVyOlxuICAgIGNvbnN0IHBhZ2VNYXN0ZXJzID0gdGhpcy5yb290UGFnZUJveEluc3RhbmNlXG4gICAgICAuY2hpbGRyZW4gYXMgUGFnZU1hc3Rlci5QYWdlTWFzdGVySW5zdGFuY2VbXTtcbiAgICBsZXQgcGFnZU1hc3RlcjogUGFnZU1hc3Rlci5QYWdlTWFzdGVySW5zdGFuY2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlTWFzdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgcGFnZU1hc3RlciA9IHBhZ2VNYXN0ZXJzW2ldO1xuXG4gICAgICAvLyBTa2lwIGEgcGFnZSBtYXN0ZXIgZ2VuZXJhdGVkIGZvciBAcGFnZSBydWxlc1xuICAgICAgaWYgKHBhZ2VNYXN0ZXIucGFnZUJveC5wc2V1ZG9OYW1lID09PSBDc3NQYWdlLnBhZ2VSdWxlTWFzdGVyUHNldWRvTmFtZSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGxldCBjb2VmZiA9IDE7XG5cbiAgICAgIC8vIEEuIENhbGN1bGF0ZSBsb29rdXAgcG9zaXRpb24gdXNpbmcgY3VycmVudCBwb3NpdGlvbiBhbmQgdXRpbGl6YXRpb25cbiAgICAgIC8vIChzZWUgLWVwdWJ4LXV0aWxpemF0aW9uIHByb3BlcnR5KVxuICAgICAgY29uc3QgdXRpbGl6YXRpb24gPSBwYWdlTWFzdGVyLmdldFByb3Aoc2VsZiwgXCJ1dGlsaXphdGlvblwiKTtcbiAgICAgIGlmICh1dGlsaXphdGlvbiAmJiB1dGlsaXphdGlvbi5pc051bSgpKSB7XG4gICAgICAgIGNvZWZmID0gKHV0aWxpemF0aW9uIGFzIENzcy5OdW0pLm51bTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVtID0gc2VsZi5xdWVyeVVuaXRTaXplKFwiZW1cIiwgZmFsc2UpO1xuICAgICAgY29uc3QgcGFnZUFyZWEgPSBzZWxmLnBhZ2VXaWR0aCgpICogc2VsZi5wYWdlSGVpZ2h0KCk7XG4gICAgICBjb25zdCBsb29rdXAgPSBNYXRoLmNlaWwoKGNvZWZmICogcGFnZUFyZWEpIC8gKGVtICogZW0pKTtcblxuICAgICAgLy8gQi4gRGV0ZXJtaW5lIGVsZW1lbnQgZWxpZ2liaWxpdHkuIEVhY2ggZWxlbWVudCBpbiBhIGZsb3cgaXMgY29uc2lkZXJlZFxuICAgICAgLy8gZWxpZ2libGUgaWYgaXQgaXMgaXMgbm90IG1hcmtlZCBhcyBmdWxseSBjb25zdW1lZCBhbmQgaXQgY29tZXMgaW4gdGhlXG4gICAgICAvLyBkb2N1bWVudCBiZWZvcmUgdGhlIGxvb2t1cCBwb3NpdGlvbi4gRmVlZCBsb29rdXBPZmZzZXQgYW5kIGZsb3dcbiAgICAgIC8vIGF2YWlsYWJpbGl0eSBpbnRvIHRoZSBjb250ZXh0XG4gICAgICB0aGlzLmxvb2t1cE9mZnNldCA9IHRoaXMuc3R5bGVyLnN0eWxlVW50aWwoY3VycmVudFBvc2l0aW9uLCBsb29rdXApO1xuICAgICAgQXNzZXJ0cy5hc3NlcnQoY3ApO1xuICAgICAgdGhpcy51cGRhdGVTdGFydFNpZGUoY3ApO1xuXG4gICAgICAvLyB1cGRhdGUgbGF5b3V0UG9zaXRpb25BdFBhZ2VTdGFydCBzaW5jZSBzdGFydFNpZGUgb2YgRmxvd0NodW5rcyBtYXkgYmVcbiAgICAgIC8vIHVwZGF0ZWRcbiAgICAgIHRoaXMubGF5b3V0UG9zaXRpb25BdFBhZ2VTdGFydCA9IGNwLmNsb25lKCk7XG4gICAgICB0aGlzLmluaXRMaW5nZXJpbmcoKTtcbiAgICAgIHNlbGYuY2xlYXJTY29wZSh0aGlzLnN0eWxlLnBhZ2VTY29wZSk7XG5cbiAgICAgIC8vIEMuIERldGVybWluZSBjb250ZW50IGF2YWlsYWJpbGl0eS4gRmxvdyBoYXMgY29udGVudCBhdmFpbGFibGUgaWYgaXRcbiAgICAgIC8vIGNvbnRhaW5zIGVsaWdpYmxlIGVsZW1lbnRzLiBELiBEZXRlcm1pbmUgaWYgcGFnZSBtYXN0ZXIgaXMgZW5hYmxlZFxuICAgICAgLy8gdXNpbmcgcnVsZXMgaW4gU2VjdGlvbiAzLjQuN1xuICAgICAgY29uc3QgZW5hYmxlZCA9IHBhZ2VNYXN0ZXIuZ2V0UHJvcChzZWxmLCBcImVuYWJsZWRcIik7XG5cbiAgICAgIC8vIEUuIEZpcnN0IGVuYWJsZWQgcGFnZSBtYXN0ZXIgaXMgdXNlZCBmb3IgdGhlIG5leHQgcGFnZVxuICAgICAgaWYgKCFlbmFibGVkIHx8IGVuYWJsZWQgPT09IENzcy5pZGVudC5fdHJ1ZSkge1xuICAgICAgICBpZiAoVklWTElPU1RZTEVfREVCVUcpIHtcbiAgICAgICAgICB0aGlzLmR1bXBMb2NhdGlvbihjdXJyZW50UG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXBwbHkgQHBhZ2UgcnVsZXNcbiAgICAgICAgcmV0dXJuIHRoaXMucGFnZU1hbmFnZXIuZ2V0UGFnZVJ1bGVQYWdlTWFzdGVyKFxuICAgICAgICAgIHBhZ2VNYXN0ZXIsXG4gICAgICAgICAgY2FzY2FkZWRQYWdlU3R5bGUsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGVuYWJsZWQgcGFnZSBtYXN0ZXJzXCIpO1xuICB9XG5cbiAgZmxvd0NodW5rSXNBZnRlclBhcmVudEZsb3dGb3JjZWRCcmVhayhmbG93Q2h1bms6IFZ0cmVlLkZsb3dDaHVuayk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGZsb3dzID0gdGhpcy5sYXlvdXRQb3NpdGlvbkF0UGFnZVN0YXJ0LmZsb3dzO1xuICAgIGNvbnN0IHBhcmVudEZsb3dOYW1lID0gZmxvd3NbZmxvd0NodW5rLmZsb3dOYW1lXS5wYXJlbnRGbG93TmFtZTtcbiAgICBpZiAocGFyZW50Rmxvd05hbWUpIHtcbiAgICAgIGNvbnN0IHN0YXJ0T2Zmc2V0ID0gZmxvd0NodW5rLnN0YXJ0T2Zmc2V0O1xuICAgICAgY29uc3QgZm9yY2VkQnJlYWtPZmZzZXRzID0gZmxvd3NbcGFyZW50Rmxvd05hbWVdLmZvcmNlZEJyZWFrT2Zmc2V0cztcbiAgICAgIGlmICghZm9yY2VkQnJlYWtPZmZzZXRzLmxlbmd0aCB8fCBzdGFydE9mZnNldCA8IGZvcmNlZEJyZWFrT2Zmc2V0c1swXSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCBicmVha09mZnNldEJlZm9yZVN0YXJ0SW5kZXggPVxuICAgICAgICBCYXNlLmJpbmFyeVNlYXJjaChcbiAgICAgICAgICBmb3JjZWRCcmVha09mZnNldHMubGVuZ3RoLFxuICAgICAgICAgIChpKSA9PiBmb3JjZWRCcmVha09mZnNldHNbaV0gPiBzdGFydE9mZnNldCxcbiAgICAgICAgKSAtIDE7XG4gICAgICBjb25zdCBicmVha09mZnNldEJlZm9yZVN0YXJ0ID1cbiAgICAgICAgZm9yY2VkQnJlYWtPZmZzZXRzW2JyZWFrT2Zmc2V0QmVmb3JlU3RhcnRJbmRleF07XG4gICAgICBjb25zdCBwYXJlbnRGbG93UG9zaXRpb24gPSB0aGlzLmxheW91dFBvc2l0aW9uQXRQYWdlU3RhcnQuZmxvd1Bvc2l0aW9uc1tcbiAgICAgICAgcGFyZW50Rmxvd05hbWVcbiAgICAgIF07XG4gICAgICBjb25zdCBwYXJlbnRTdGFydE9mZnNldCA9IHRoaXMuZ2V0Q29uc3VtZWRPZmZzZXQocGFyZW50Rmxvd1Bvc2l0aW9uKTtcbiAgICAgIGlmIChicmVha09mZnNldEJlZm9yZVN0YXJ0IDwgcGFyZW50U3RhcnRPZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmVudFN0YXJ0T2Zmc2V0IDwgYnJlYWtPZmZzZXRCZWZvcmVTdGFydCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gU3BlY2lhbCBjYXNlOiBwYXJlbnRTdGFydE9mZnNldCA9PT0gYnJlYWtPZmZzZXRCZWZvcmVTdGFydFxuICAgICAgLy8gSW4gdGhpcyBjYXNlLCB0aGUgZmxvd0NodW5rIGNhbiBiZSB1c2VkIGlmIHRoZSBzdGFydCBzaWRlIG9mIHRoZSBwYXJlbnRcbiAgICAgIC8vIGZsb3cgbWF0Y2hlcyB0aGUgY3VycmVudCBwYWdlIHNpZGUuXG4gICAgICByZXR1cm4gIXRoaXMubWF0Y2hQYWdlU2lkZShwYXJlbnRGbG93UG9zaXRpb24uc3RhcnRTaWRlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc2V0Rm9ybWF0dGluZ0NvbnRleHRUb0NvbHVtbihjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLCBmbG93TmFtZTogc3RyaW5nKSB7XG4gICAgY29uc3QgZmxvdyA9IHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uLmZsb3dzW2Zsb3dOYW1lXTtcbiAgICBpZiAoIWZsb3cuZm9ybWF0dGluZ0NvbnRleHQpIHtcbiAgICAgIGZsb3cuZm9ybWF0dGluZ0NvbnRleHQgPSBuZXcgTGF5b3V0UHJvY2Vzc29yLkJsb2NrRm9ybWF0dGluZ0NvbnRleHQobnVsbCk7XG4gICAgfVxuICAgIGNvbHVtbi5mbG93Um9vdEZvcm1hdHRpbmdDb250ZXh0ID0gZmxvdy5mb3JtYXR0aW5nQ29udGV4dDtcbiAgfVxuXG4gIGxheW91dERlZmVycmVkUGFnZUZsb2F0cyhjb2x1bW46IExheW91dFR5cGUuQ29sdW1uKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHBhZ2VGbG9hdExheW91dENvbnRleHQgPSBjb2x1bW4ucGFnZUZsb2F0TGF5b3V0Q29udGV4dDtcbiAgICBjb25zdCBkZWZlcnJlZEZsb2F0cyA9IHBhZ2VGbG9hdExheW91dENvbnRleHQuZ2V0RGVmZXJyZWRQYWdlRmxvYXRDb250aW51YXRpb25zKCk7XG4gICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lPGJvb2xlYW4+KFwibGF5b3V0RGVmZXJyZWRQYWdlRmxvYXRzXCIpO1xuICAgIGxldCBpbnZhbGlkYXRlZCA9IGZhbHNlO1xuICAgIGxldCBpID0gMDtcbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICBpZiAoaSA9PT0gZGVmZXJyZWRGbG9hdHMubGVuZ3RoKSB7XG4gICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250aW51YXRpb24gPSBkZWZlcnJlZEZsb2F0c1tpKytdO1xuICAgICAgICBjb25zdCBmbG9hdCA9IGNvbnRpbnVhdGlvbi5mbG9hdDtcbiAgICAgICAgY29uc3Qgc3RyYXRlZ3kgPSBuZXcgUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneVJlc29sdmVyKCkuZmluZEJ5RmxvYXQoXG4gICAgICAgICAgZmxvYXQsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHBhZ2VGbG9hdEZyYWdtZW50ID0gc3RyYXRlZ3kuZmluZFBhZ2VGbG9hdEZyYWdtZW50KFxuICAgICAgICAgIGZsb2F0LFxuICAgICAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChwYWdlRmxvYXRGcmFnbWVudCAmJiBwYWdlRmxvYXRGcmFnbWVudC5oYXNGbG9hdChmbG9hdCkpIHtcbiAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQuaXNGb3JiaWRkZW4oZmxvYXQpIHx8XG4gICAgICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5oYXNQcmVjZWRpbmdGbG9hdHNEZWZlcnJlZFRvTmV4dChmbG9hdClcbiAgICAgICAgKSB7XG4gICAgICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5kZWZlclBhZ2VGbG9hdChjb250aW51YXRpb24pO1xuICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29sdW1uXG4gICAgICAgICAgLmxheW91dFBhZ2VGbG9hdElubmVyKGNvbnRpbnVhdGlvbiwgc3RyYXRlZ3ksIG51bGwsIHBhZ2VGbG9hdEZyYWdtZW50KVxuICAgICAgICAgIC50aGVuKChzdWNjZXNzKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRJbnZhbGlkYXRlZCA9IHBhZ2VGbG9hdExheW91dENvbnRleHQucGFyZW50LmlzSW52YWxpZGF0ZWQoKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRJbnZhbGlkYXRlZCkge1xuICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpICYmXG4gICAgICAgICAgICAgICFwYXJlbnRJbnZhbGlkYXRlZFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGludmFsaWRhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dC52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgaWYgKGludmFsaWRhdGVkKSB7XG4gICAgICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pbnZhbGlkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgZ2V0TGFzdEFmdGVyUG9zaXRpb25JZkRlZmVycmVkRmxvYXRzRXhpc3RzKFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICAgbmV3UG9zaXRpb246IFZ0cmVlLkNodW5rUG9zaXRpb24gfCBudWxsLFxuICApOiBWdHJlZS5DaHVua1Bvc2l0aW9uIHwgbnVsbCB7XG4gICAgY29uc3QgcGFnZUZsb2F0TGF5b3V0Q29udGV4dCA9IGNvbHVtbi5wYWdlRmxvYXRMYXlvdXRDb250ZXh0O1xuICAgIGNvbnN0IGRlZmVycmVkRmxvYXRzID0gcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5nZXRQYWdlRmxvYXRDb250aW51YXRpb25zRGVmZXJyZWRUb05leHQoKTtcbiAgICBpZiAoZGVmZXJyZWRGbG9hdHMubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKGNvbHVtbi5sYXN0QWZ0ZXJQb3NpdGlvbikge1xuICAgICAgICBsZXQgcmVzdWx0OiBWdHJlZS5DaHVua1Bvc2l0aW9uO1xuICAgICAgICBpZiAobmV3UG9zaXRpb24pIHtcbiAgICAgICAgICAvLyBOZWVkIG92ZXJmbG93biBmb290bm90ZXMgb3duZWQgYnkgbmV3UG9zaXRpb25cbiAgICAgICAgICByZXN1bHQgPSBuZXdQb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgICAgIHJlc3VsdC5wcmltYXJ5ID0gY29sdW1uLmxhc3RBZnRlclBvc2l0aW9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IG5ldyBWdHJlZS5DaHVua1Bvc2l0aW9uKGNvbHVtbi5sYXN0QWZ0ZXJQb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEFzc2VydHMuYXNzZXJ0KFwiY29sdW1uLmxhc3RBZnRlclBvc2l0aW9uID09PSBudWxsXCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gaG9sZGluZyB0cnVlXG4gICAqL1xuICBsYXlvdXRDb2x1bW4oXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgICBmbG93TmFtZTogc3RyaW5nLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgZmxvd1Bvc2l0aW9uID0gdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb24uZmxvd1Bvc2l0aW9uc1tmbG93TmFtZV07XG4gICAgaWYgKCFmbG93UG9zaXRpb24gfHwgIXRoaXMubWF0Y2hQYWdlU2lkZShmbG93UG9zaXRpb24uc3RhcnRTaWRlKSkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH1cbiAgICBmbG93UG9zaXRpb24uc3RhcnRTaWRlID0gXCJhbnlcIjtcbiAgICB0aGlzLnNldEZvcm1hdHRpbmdDb250ZXh0VG9Db2x1bW4oY29sdW1uLCBmbG93TmFtZSk7XG4gICAgY29sdW1uLmluaXQoKTtcbiAgICBpZiAodGhpcy5wcmltYXJ5Rmxvd3NbZmxvd05hbWVdICYmIGNvbHVtbi5iYW5kcy5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBJbiBnZW5lcmFsLCB3ZSBmb3JjZSBub24tZml0dGluZyBjb250ZW50LiBFeGNlcHRpb24gaXMgb25seSBmb3IgcHJpbWFyeVxuICAgICAgLy8gZmxvdyBjb2x1bW5zIHRoYXQgaGF2ZSBleGNsdXNpb25zLlxuICAgICAgY29sdW1uLmZvcmNlTm9uZml0dGluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJsYXlvdXRDb2x1bW5cIik7XG4gICAgdGhpcy5sYXlvdXREZWZlcnJlZFBhZ2VGbG9hdHMoY29sdW1uKS50aGVuKCgpID0+IHtcbiAgICAgIGlmIChjb2x1bW4ucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkpIHtcbiAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFJlY29yZCBpbmRpY2VzIG9mIHJlcGVhdGVkIHBvc2l0aW9ucyBhbmQgcmVtb3ZlZCBwb3NpdGlvbnNcbiAgICAgIGNvbnN0IHJlcGVhdGVkSW5kaWNlcyA9IFtdIGFzIG51bWJlcltdO1xuICAgICAgY29uc3QgcmVtb3ZlZEluZGljZXMgPSBbXSBhcyBudW1iZXJbXTtcbiAgICAgIGxldCBsZWFkaW5nRWRnZSA9IHRydWU7XG4gICAgICBmcmFtZVxuICAgICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY29sdW1uLnBhZ2VGbG9hdExheW91dENvbnRleHQuaGFzQ29udGludWluZ0Zsb2F0RnJhZ21lbnRzSW5GbG93KFxuICAgICAgICAgICAgICBmbG93TmFtZSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgd2hpbGUgKGZsb3dQb3NpdGlvbi5wb3NpdGlvbnMubGVuZ3RoIC0gcmVtb3ZlZEluZGljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcblxuICAgICAgICAgICAgLy8gU2tpcCBhbGwgcmVtb3ZlZCBwb3NpdGlvbnNcbiAgICAgICAgICAgIHdoaWxlIChyZW1vdmVkSW5kaWNlcy5pbmNsdWRlcyhpbmRleCkpIHtcbiAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzZWxlY3RlZCA9IGZsb3dQb3NpdGlvbi5wb3NpdGlvbnNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzZWxlY3RlZC5mbG93Q2h1bmsuc3RhcnRPZmZzZXQgPiBzZWxmLmxvb2t1cE9mZnNldCB8fFxuICAgICAgICAgICAgICBzZWxmLmZsb3dDaHVua0lzQWZ0ZXJQYXJlbnRGbG93Rm9yY2VkQnJlYWsoc2VsZWN0ZWQuZmxvd0NodW5rKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgayA9IGluZGV4ICsgMTsgayA8IGZsb3dQb3NpdGlvbi5wb3NpdGlvbnMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgaWYgKHJlbW92ZWRJbmRpY2VzLmluY2x1ZGVzKGspKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7IC8vIFNraXAgcmVtb3ZlZCBwb3NpdGlvbnNcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCBhbHQgPSBmbG93UG9zaXRpb24ucG9zaXRpb25zW2tdO1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgYWx0LmZsb3dDaHVuay5zdGFydE9mZnNldCA+IHNlbGYubG9va3VwT2Zmc2V0IHx8XG4gICAgICAgICAgICAgICAgc2VsZi5mbG93Q2h1bmtJc0FmdGVyUGFyZW50Rmxvd0ZvcmNlZEJyZWFrKGFsdC5mbG93Q2h1bmspXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChhbHQuZmxvd0NodW5rLmlzQmV0dGVyKHNlbGVjdGVkLmZsb3dDaHVuaykpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZCA9IGFsdDtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZsb3dDaHVuayA9IHNlbGVjdGVkLmZsb3dDaHVuaztcbiAgICAgICAgICAgIGxldCBwZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbHVtblxuICAgICAgICAgICAgICAubGF5b3V0KFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkLmNodW5rUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgbGVhZGluZ0VkZ2UsXG4gICAgICAgICAgICAgICAgZmxvd1Bvc2l0aW9uLmJyZWFrQWZ0ZXIsXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLnRoZW4oKG5ld1Bvc2l0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZWFkaW5nRWRnZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgLy8gc3RhdGljOiBrZWVwIGluIHRoZSBmbG93XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQuZmxvd0NodW5rLnJlcGVhdGVkICYmXG4gICAgICAgICAgICAgICAgICAobmV3UG9zaXRpb24gPT09IG51bGwgfHwgZmxvd0NodW5rLmV4Y2x1c2l2ZSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHJlcGVhdGVkSW5kaWNlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZsb3dDaHVuay5leGNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgIC8vIGV4Y2x1c2l2ZSwgb25seSBjYW4gaGF2ZSBvbmUsIHJlbW92ZSBmcm9tIHRoZSBmbG93IGV2ZW5cbiAgICAgICAgICAgICAgICAgIC8vIGlmIGl0IGRpZCBub3QgZml0XG4gICAgICAgICAgICAgICAgICByZW1vdmVkSW5kaWNlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gbm90IGV4Y2x1c2l2ZVxuICAgICAgICAgICAgICAgICAgY29uc3QgZW5kT2ZDb2x1bW4gPSAhIW5ld1Bvc2l0aW9uIHx8ICEhY29sdW1uLnBhZ2VCcmVha1R5cGU7XG4gICAgICAgICAgICAgICAgICBjb25zdCBsYXN0QWZ0ZXJQb3NpdGlvbiA9IHNlbGYuZ2V0TGFzdEFmdGVyUG9zaXRpb25JZkRlZmVycmVkRmxvYXRzRXhpc3RzKFxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4sXG4gICAgICAgICAgICAgICAgICAgIG5ld1Bvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGlmIChjb2x1bW4ucGFnZUJyZWFrVHlwZSAmJiBsYXN0QWZ0ZXJQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZC5jaHVua1Bvc2l0aW9uID0gbGFzdEFmdGVyUG9zaXRpb247XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBwcm9wYWdhdGUgcGFnZUJyZWFrVHlwZVxuICAgICAgICAgICAgICAgICAgICBmbG93UG9zaXRpb24uYnJlYWtBZnRlciA9IGNvbHVtbi5wYWdlQnJlYWtUeXBlO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4ucGFnZUJyZWFrVHlwZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBnbyB0byB0aGUgbmV4dCBlbGVtZW50IGluIHRoZSBmbG93XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZWRJbmRpY2VzLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3UG9zaXRpb24gfHwgbGFzdEFmdGVyUG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBkaWQgbm90IGZpdCBjb21wbGV0ZWx5XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQuY2h1bmtQb3NpdGlvbiA9IG5ld1Bvc2l0aW9uIHx8IGxhc3RBZnRlclBvc2l0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdGVkSW5kaWNlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY29sdW1uLnBhZ2VCcmVha1R5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBmb3JjZWQgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgICBmbG93UG9zaXRpb24uc3RhcnRTaWRlID0gQnJlYWsuYnJlYWtWYWx1ZVRvU3RhcnRTaWRlVmFsdWUoXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4ucGFnZUJyZWFrVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoZW5kT2ZDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gU2luY2UgYXQgbGVhc3Qgb25lIGZsb3dDaHVuayBoYXMgYmVlbiBwbGFjZWQgaW4gdGhlXG4gICAgICAgICAgICAgICAgLy8gY29sdW1uLCB0aGUgbmV4dCBmbG93Q2h1bmsgb2YgdGhlIGZsb3cgY2FuIGJlIGRlZmVycmVkIHRvXG4gICAgICAgICAgICAgICAgLy8gdGhlIG5leHQgcGFydGl0aW9uIGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggc3BhY2UgaW4gdGhlXG4gICAgICAgICAgICAgICAgLy8gY3VycmVudCBwYXJ0aXRpb24uXG4gICAgICAgICAgICAgICAgY29sdW1uLmZvcmNlTm9uZml0dGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgICAvLyBTeW5jIHJlc3VsdFxuICAgICAgICAgICAgICAgICAgcGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvLyBBc3luYyByZXN1bHRcbiAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgLy8gQXN5bmMgcmVzdWx0XG4gICAgICAgICAgICAgIHBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFN5bmMgcmVzdWx0XG4gICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgaWYgKCFjb2x1bW4ucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkpIHtcbiAgICAgICAgICAgIC8vIEtlZXAgcG9zaXRpb25zIHJlcGVhdGVkIG9yIG5vdCByZW1vdmVkXG4gICAgICAgICAgICBmbG93UG9zaXRpb24ucG9zaXRpb25zID0gZmxvd1Bvc2l0aW9uLnBvc2l0aW9ucy5maWx0ZXIoXG4gICAgICAgICAgICAgIChwb3MsIGkpID0+XG4gICAgICAgICAgICAgICAgcmVwZWF0ZWRJbmRpY2VzLmluY2x1ZGVzKGkpIHx8ICFyZW1vdmVkSW5kaWNlcy5pbmNsdWRlcyhpKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoZmxvd1Bvc2l0aW9uLmJyZWFrQWZ0ZXIgPT09IFwiY29sdW1uXCIpIHtcbiAgICAgICAgICAgICAgZmxvd1Bvc2l0aW9uLmJyZWFrQWZ0ZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29sdW1uLnNhdmVEaXN0YW5jZVRvQmxvY2tFbmRGbG9hdHMoKTtcbiAgICAgICAgICAgIGNvbnN0IGVkZ2UgPSBjb2x1bW4ucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5nZXRNYXhSZWFjaGVkQWZ0ZXJFZGdlKCk7XG4gICAgICAgICAgICBjb2x1bW4udXBkYXRlTWF4UmVhY2hlZEFmdGVyRWRnZShlZGdlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBjcmVhdGVMYXlvdXRDb25zdHJhaW50KFxuICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgKTogTGF5b3V0VHlwZS5MYXlvdXRDb25zdHJhaW50IHtcbiAgICBjb25zdCBwYWdlSW5kZXggPSB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5wYWdlIC0gMTtcbiAgICBjb25zdCBjb3VudGVyQ29uc3RyYWludCA9IHRoaXMuY291bnRlclN0b3JlLmNyZWF0ZUxheW91dENvbnN0cmFpbnQoXG4gICAgICBwYWdlSW5kZXgsXG4gICAgKTtcbiAgICByZXR1cm4gbmV3IExheW91dC5BbGxMYXlvdXRDb25zdHJhaW50KFxuICAgICAgW2NvdW50ZXJDb25zdHJhaW50XS5jb25jYXQocGFnZUZsb2F0TGF5b3V0Q29udGV4dC5nZXRMYXlvdXRDb25zdHJhaW50cygpKSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVBbmRMYXlvdXRDb2x1bW4oXG4gICAgYm94SW5zdGFuY2U6IFBhZ2VNYXN0ZXIuUGFnZUJveEluc3RhbmNlLFxuICAgIG9mZnNldFg6IG51bWJlcixcbiAgICBvZmZzZXRZOiBudW1iZXIsXG4gICAgZXhjbHVzaW9uczogR2VvbWV0cnlVdGlsLlNoYXBlW10sXG4gICAgbGF5b3V0Q29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgY3VycmVudENvbHVtbkluZGV4OiBudW1iZXIsXG4gICAgZmxvd05hbWVTdHI6IHN0cmluZyxcbiAgICByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgY29sdW1uQ291bnQ6IG51bWJlcixcbiAgICBjb2x1bW5HYXA6IG51bWJlcixcbiAgICBjb2x1bW5XaWR0aDogbnVtYmVyLFxuICAgIGlubmVyU2hhcGU6IEdlb21ldHJ5VXRpbC5TaGFwZSxcbiAgICBsYXlvdXRDb250ZXh0OiBWdHJlZS5MYXlvdXRDb250ZXh0LFxuICAgIGZvcmNlTm9uRml0dGluZzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8TGF5b3V0VHlwZS5Db2x1bW4+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBkb250QXBwbHlFeGNsdXNpb25zID0gYm94SW5zdGFuY2UudmVydGljYWxcbiAgICAgID8gYm94SW5zdGFuY2UuaXNBdXRvV2lkdGggJiYgYm94SW5zdGFuY2UuaXNSaWdodERlcGVuZGVudE9uQXV0b1dpZHRoXG4gICAgICA6IGJveEluc3RhbmNlLmlzQXV0b0hlaWdodCAmJiBib3hJbnN0YW5jZS5pc1RvcERlcGVuZGVudE9uQXV0b0hlaWdodDtcbiAgICBjb25zdCBib3hDb250YWluZXIgPSBsYXlvdXRDb250YWluZXIuZWxlbWVudDtcbiAgICBjb25zdCBjb2x1bW5QYWdlRmxvYXRMYXlvdXRDb250ZXh0ID0gbmV3IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dChcbiAgICAgIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLkNPTFVNTixcbiAgICAgIG51bGwsXG4gICAgICBmbG93TmFtZVN0cixcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICApO1xuICAgIGNvbnN0IHBvc2l0aW9uQXRDb2x1bW5TdGFydCA9IHNlbGYuY3VycmVudExheW91dFBvc2l0aW9uLmNsb25lKCk7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8TGF5b3V0VHlwZS5Db2x1bW4+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwiY3JlYXRlQW5kTGF5b3V0Q29sdW1uXCIsXG4gICAgKTtcbiAgICBsZXQgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbjtcbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBsYXlvdXRDb25zdHJhaW50ID0gc2VsZi5jcmVhdGVMYXlvdXRDb25zdHJhaW50KFxuICAgICAgICAgIGNvbHVtblBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChjb2x1bW5Db3VudCA+IDEpIHtcbiAgICAgICAgICBjb25zdCBjb2x1bW5Db250YWluZXIgPSBzZWxmLnZpZXdwb3J0LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb2x1bW5Db250YWluZXIsIFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiKTtcbiAgICAgICAgICBib3hDb250YWluZXIuYXBwZW5kQ2hpbGQoY29sdW1uQ29udGFpbmVyKTtcbiAgICAgICAgICBjb2x1bW4gPSBuZXcgTGF5b3V0LkNvbHVtbihcbiAgICAgICAgICAgIGNvbHVtbkNvbnRhaW5lcixcbiAgICAgICAgICAgIGxheW91dENvbnRleHQsXG4gICAgICAgICAgICBzZWxmLmNsaWVudExheW91dCxcbiAgICAgICAgICAgIGxheW91dENvbnN0cmFpbnQsXG4gICAgICAgICAgICBjb2x1bW5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29sdW1uLmZvcmNlTm9uZml0dGluZyA9IGZvcmNlTm9uRml0dGluZztcbiAgICAgICAgICBjb2x1bW4udmVydGljYWwgPSBsYXlvdXRDb250YWluZXIudmVydGljYWw7XG4gICAgICAgICAgY29sdW1uLnNuYXBIZWlnaHQgPSBsYXlvdXRDb250YWluZXIuc25hcEhlaWdodDtcbiAgICAgICAgICBjb2x1bW4uc25hcFdpZHRoID0gbGF5b3V0Q29udGFpbmVyLnNuYXBXaWR0aDtcbiAgICAgICAgICBpZiAobGF5b3V0Q29udGFpbmVyLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICBjb25zdCBjb2x1bW5ZID1cbiAgICAgICAgICAgICAgY3VycmVudENvbHVtbkluZGV4ICogKGNvbHVtbldpZHRoICsgY29sdW1uR2FwKSArXG4gICAgICAgICAgICAgIGxheW91dENvbnRhaW5lci5wYWRkaW5nVG9wO1xuICAgICAgICAgICAgY29sdW1uLnNldEhvcml6b250YWxQb3NpdGlvbihcbiAgICAgICAgICAgICAgbGF5b3V0Q29udGFpbmVyLnBhZGRpbmdMZWZ0LFxuICAgICAgICAgICAgICBsYXlvdXRDb250YWluZXIud2lkdGgsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29sdW1uLnNldFZlcnRpY2FsUG9zaXRpb24oY29sdW1uWSwgY29sdW1uV2lkdGgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjb2x1bW5YID1cbiAgICAgICAgICAgICAgY3VycmVudENvbHVtbkluZGV4ICogKGNvbHVtbldpZHRoICsgY29sdW1uR2FwKSArXG4gICAgICAgICAgICAgIGxheW91dENvbnRhaW5lci5wYWRkaW5nTGVmdDtcbiAgICAgICAgICAgIGNvbHVtbi5zZXRWZXJ0aWNhbFBvc2l0aW9uKFxuICAgICAgICAgICAgICBsYXlvdXRDb250YWluZXIucGFkZGluZ1RvcCxcbiAgICAgICAgICAgICAgbGF5b3V0Q29udGFpbmVyLmhlaWdodCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb2x1bW4uc2V0SG9yaXpvbnRhbFBvc2l0aW9uKGNvbHVtblgsIGNvbHVtbldpZHRoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29sdW1uLm9yaWdpblggPSBvZmZzZXRYO1xuICAgICAgICAgIGNvbHVtbi5vcmlnaW5ZID0gb2Zmc2V0WTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb2x1bW4gPSBuZXcgTGF5b3V0LkNvbHVtbihcbiAgICAgICAgICAgIGJveENvbnRhaW5lcixcbiAgICAgICAgICAgIGxheW91dENvbnRleHQsXG4gICAgICAgICAgICBzZWxmLmNsaWVudExheW91dCxcbiAgICAgICAgICAgIGxheW91dENvbnN0cmFpbnQsXG4gICAgICAgICAgICBjb2x1bW5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29sdW1uLmNvcHlGcm9tKGxheW91dENvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgY29sdW1uLmV4Y2x1c2lvbnMgPSBkb250QXBwbHlFeGNsdXNpb25zID8gW10gOiBleGNsdXNpb25zLmNvbmNhdCgpO1xuICAgICAgICBjb2x1bW4uaW5uZXJTaGFwZSA9IGlubmVyU2hhcGU7XG4gICAgICAgIGNvbHVtblBhZ2VGbG9hdExheW91dENvbnRleHQuc2V0Q29udGFpbmVyKGNvbHVtbik7XG4gICAgICAgIGlmIChjb2x1bW4ud2lkdGggPj0gMCkge1xuICAgICAgICAgIC8vIGNvbHVtbi5lbGVtZW50LnN0eWxlLm91dGxpbmUgPSBcIjFweCBkb3R0ZWQgZ3JlZW5cIjtcbiAgICAgICAgICBzZWxmLmxheW91dENvbHVtbihjb2x1bW4sIGZsb3dOYW1lU3RyKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghY29sdW1uUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkpIHtcbiAgICAgICAgICAgICAgY29sdW1uUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5maW5pc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgY29sdW1uLnBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpICYmXG4gICAgICAgICAgICAgICFyZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbHVtbi5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LnZhbGlkYXRlKCk7XG4gICAgICAgICAgICAgIHNlbGYuY3VycmVudExheW91dFBvc2l0aW9uID0gcG9zaXRpb25BdENvbHVtblN0YXJ0LmNsb25lKCk7XG4gICAgICAgICAgICAgIGlmIChjb2x1bW4uZWxlbWVudCAhPT0gYm94Q29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgYm94Q29udGFpbmVyLnJlbW92ZUNoaWxkKGNvbHVtbi5lbGVtZW50KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29sdW1uUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5maW5pc2goKTtcbiAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChjb2x1bW4pO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgc2V0UGFnZVBhZ2VGbG9hdExheW91dENvbnRleHRDb250YWluZXIoXG4gICAgcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICBib3hJbnN0YW5jZTogUGFnZU1hc3Rlci5QYWdlQm94SW5zdGFuY2UsXG4gICAgbGF5b3V0Q29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICkge1xuICAgIGlmIChcbiAgICAgIGJveEluc3RhbmNlIGluc3RhbmNlb2YgQ3NzUGFnZS5QYWdlUnVsZVBhcnRpdGlvbkluc3RhbmNlIHx8XG4gICAgICAoYm94SW5zdGFuY2UgaW5zdGFuY2VvZiBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXJJbnN0YW5jZSAmJlxuICAgICAgICAhKGJveEluc3RhbmNlIGluc3RhbmNlb2YgQ3NzUGFnZS5QYWdlUnVsZU1hc3Rlckluc3RhbmNlKSlcbiAgICApIHtcbiAgICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0LnNldENvbnRhaW5lcihsYXlvdXRDb250YWluZXIpO1xuICAgIH1cbiAgfVxuXG4gIGdldFJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQoXG4gICAgcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICBib3hJbnN0YW5jZTogUGFnZU1hc3Rlci5QYWdlQm94SW5zdGFuY2UsXG4gICAgbGF5b3V0Q29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgZmxvd05hbWU6IHN0cmluZyxcbiAgKTogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0IHtcbiAgICBBc3NlcnRzLmFzc2VydChib3hJbnN0YW5jZSBpbnN0YW5jZW9mIFBhZ2VNYXN0ZXIuUGFydGl0aW9uSW5zdGFuY2UpO1xuICAgIGNvbnN0IHdyaXRpbmdNb2RlID0gYm94SW5zdGFuY2UuZ2V0UHJvcCh0aGlzLCBcIndyaXRpbmctbW9kZVwiKSB8fCBudWxsO1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IGJveEluc3RhbmNlLmdldFByb3AodGhpcywgXCJkaXJlY3Rpb25cIikgfHwgbnVsbDtcbiAgICByZXR1cm4gbmV3IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dChcbiAgICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZS5SRUdJT04sXG4gICAgICBsYXlvdXRDb250YWluZXIsXG4gICAgICBmbG93TmFtZSxcbiAgICAgIG51bGwsXG4gICAgICB3cml0aW5nTW9kZSxcbiAgICAgIGRpcmVjdGlvbixcbiAgICApO1xuICB9XG5cbiAgbGF5b3V0Rmxvd0NvbHVtbnNXaXRoQmFsYW5jaW5nKFxuICAgIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gICAgYm94SW5zdGFuY2U6IFBhZ2VNYXN0ZXIuUGFnZUJveEluc3RhbmNlLFxuICAgIG9mZnNldFg6IG51bWJlcixcbiAgICBvZmZzZXRZOiBudW1iZXIsXG4gICAgZXhjbHVzaW9uczogR2VvbWV0cnlVdGlsLlNoYXBlW10sXG4gICAgcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICBsYXlvdXRDb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBmbG93TmFtZVN0cjogc3RyaW5nLFxuICAgIGNvbHVtbkNvdW50OiBudW1iZXIsXG4gICk6IFRhc2suUmVzdWx0PExheW91dFR5cGUuQ29sdW1uW10+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBwb3NpdGlvbkF0Q29udGFpbmVyU3RhcnQgPSBzZWxmLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5jbG9uZSgpO1xuICAgIGNvbnN0IHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQgPSBzZWxmLmdldFJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQoXG4gICAgICBwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgIGJveEluc3RhbmNlLFxuICAgICAgbGF5b3V0Q29udGFpbmVyLFxuICAgICAgZmxvd05hbWVTdHIsXG4gICAgKTtcbiAgICBsZXQgaXNGaXJzdFRpbWUgPSB0cnVlO1xuXG4gICAgZnVuY3Rpb24gbGF5b3V0Q29sdW1ucygpIHtcbiAgICAgIHNlbGYuY3VycmVudExheW91dFBvc2l0aW9uID0gcG9zaXRpb25BdENvbnRhaW5lclN0YXJ0LmNsb25lKCk7XG4gICAgICByZXR1cm4gc2VsZlxuICAgICAgICAubGF5b3V0Rmxvd0NvbHVtbnMoXG4gICAgICAgICAgcGFnZSxcbiAgICAgICAgICBib3hJbnN0YW5jZSxcbiAgICAgICAgICBvZmZzZXRYLFxuICAgICAgICAgIG9mZnNldFksXG4gICAgICAgICAgZXhjbHVzaW9ucyxcbiAgICAgICAgICBwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgICAgICByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgICAgIGxheW91dENvbnRhaW5lcixcbiAgICAgICAgICBmbG93TmFtZVN0cixcbiAgICAgICAgICBjb2x1bW5Db3VudCxcbiAgICAgICAgICBpc0ZpcnN0VGltZSxcbiAgICAgICAgKVxuICAgICAgICAudGhlbkFzeW5jKChjb2x1bW5zKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbHVtbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh7XG4gICAgICAgICAgICAgIGNvbHVtbnMsXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBzZWxmLmN1cnJlbnRMYXlvdXRQb3NpdGlvbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGxheW91dENvbHVtbnMoKS50aGVuQXN5bmMoKGdlbmVyYXRvclJlc3VsdCkgPT4ge1xuICAgICAgaWYgKCFnZW5lcmF0b3JSZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbHVtbkNvdW50IDw9IDEpIHtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGdlbmVyYXRvclJlc3VsdC5jb2x1bW5zKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbHVtbkZpbGwgPVxuICAgICAgICAoYm94SW5zdGFuY2UuZ2V0UHJvcChzZWxmLCBcImNvbHVtbi1maWxsXCIpIGFzIENzcy5JZGVudCkgfHxcbiAgICAgICAgQ3NzLmlkZW50LmJhbGFuY2U7XG4gICAgICBjb25zdCBmbG93UG9zaXRpb24gPVxuICAgICAgICBzZWxmLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5mbG93UG9zaXRpb25zW2Zsb3dOYW1lU3RyXTtcbiAgICAgIEFzc2VydHMuYXNzZXJ0KGZsb3dQb3NpdGlvbik7XG4gICAgICBjb25zdCBjb2x1bW5CYWxhbmNlciA9IENvbHVtbnMuY3JlYXRlQ29sdW1uQmFsYW5jZXIoXG4gICAgICAgIGNvbHVtbkNvdW50LFxuICAgICAgICBjb2x1bW5GaWxsLFxuICAgICAgICBsYXlvdXRDb2x1bW5zLFxuICAgICAgICByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgICBsYXlvdXRDb250YWluZXIsXG4gICAgICAgIGdlbmVyYXRvclJlc3VsdC5jb2x1bW5zLFxuICAgICAgICBmbG93UG9zaXRpb24sXG4gICAgICApO1xuICAgICAgaWYgKCFjb2x1bW5CYWxhbmNlcikge1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZ2VuZXJhdG9yUmVzdWx0LmNvbHVtbnMpO1xuICAgICAgfVxuICAgICAgaXNGaXJzdFRpbWUgPSBmYWxzZTtcbiAgICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0LmxvY2soKTtcbiAgICAgIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQubG9jaygpO1xuICAgICAgcmV0dXJuIGNvbHVtbkJhbGFuY2VyXG4gICAgICAgIC5iYWxhbmNlQ29sdW1ucyhnZW5lcmF0b3JSZXN1bHQpXG4gICAgICAgIC50aGVuQXN5bmMoKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0LnVubG9jaygpO1xuICAgICAgICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0LnZhbGlkYXRlKCk7XG4gICAgICAgICAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dC51bmxvY2soKTtcbiAgICAgICAgICBzZWxmLmN1cnJlbnRMYXlvdXRQb3NpdGlvbiA9IHJlc3VsdC5wb3NpdGlvbjtcbiAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQocmVzdWx0LmNvbHVtbnMpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGxheW91dEZsb3dDb2x1bW5zKFxuICAgIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gICAgYm94SW5zdGFuY2U6IFBhZ2VNYXN0ZXIuUGFnZUJveEluc3RhbmNlLFxuICAgIG9mZnNldFg6IG51bWJlcixcbiAgICBvZmZzZXRZOiBudW1iZXIsXG4gICAgZXhjbHVzaW9uczogR2VvbWV0cnlVdGlsLlNoYXBlW10sXG4gICAgcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgbGF5b3V0Q29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgZmxvd05hbWVTdHI6IHN0cmluZyxcbiAgICBjb2x1bW5Db3VudDogbnVtYmVyLFxuICAgIGZvcmNlTm9uRml0dGluZzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8TGF5b3V0VHlwZS5Db2x1bW5bXSB8IG51bGw+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxMYXlvdXRUeXBlLkNvbHVtbltdIHwgbnVsbD4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJsYXlvdXRGbG93Q29sdW1uc1wiLFxuICAgICk7XG4gICAgY29uc3QgcG9zaXRpb25BdENvbnRhaW5lclN0YXJ0ID0gc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24uY2xvbmUoKTtcbiAgICBjb25zdCBjb2x1bW5HYXAgPSBib3hJbnN0YW5jZS5nZXRQcm9wQXNOdW1iZXIoc2VsZiwgXCJjb2x1bW4tZ2FwXCIpO1xuXG4gICAgLy8gRG9uJ3QgcXVlcnkgY29sdW1uV2lkdGggd2hlbiBpdCdzIG5vdCBuZWVkZWQsIHNvIHRoYXQgd2lkdGggY2FsY3VsYXRpb25cbiAgICAvLyBjYW4gYmUgZGVsYXllZCBmb3Igd2lkdGg6IGF1dG8gY29sdW1ucy5cbiAgICBjb25zdCBjb2x1bW5XaWR0aCA9XG4gICAgICBjb2x1bW5Db3VudCA+IDFcbiAgICAgICAgPyBib3hJbnN0YW5jZS5nZXRQcm9wQXNOdW1iZXIoc2VsZiwgXCJjb2x1bW4td2lkdGhcIilcbiAgICAgICAgOiBsYXlvdXRDb250YWluZXIud2lkdGg7XG4gICAgY29uc3QgcmVnaW9uSWRzID0gYm94SW5zdGFuY2UuZ2V0QWN0aXZlUmVnaW9ucyhzZWxmKTtcbiAgICBjb25zdCBpbm5lclNoYXBlVmFsID0gYm94SW5zdGFuY2UuZ2V0UHJvcChzZWxmLCBcInNoYXBlLWluc2lkZVwiKTtcbiAgICBjb25zdCBpbm5lclNoYXBlID0gQ3NzUHJvcC50b1NoYXBlKFxuICAgICAgaW5uZXJTaGFwZVZhbCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgbGF5b3V0Q29udGFpbmVyLndpZHRoLFxuICAgICAgbGF5b3V0Q29udGFpbmVyLmhlaWdodCxcbiAgICAgIHNlbGYsXG4gICAgKTtcbiAgICBjb25zdCBsYXlvdXRDb250ZXh0ID0gbmV3IFZnZW4uVmlld0ZhY3RvcnkoXG4gICAgICBmbG93TmFtZVN0cixcbiAgICAgIHNlbGYsXG4gICAgICBzZWxmLnZpZXdwb3J0LFxuICAgICAgc2VsZi5zdHlsZXIsXG4gICAgICByZWdpb25JZHMsXG4gICAgICBzZWxmLnhtbGRvYyxcbiAgICAgIHNlbGYuZmFjZXMsXG4gICAgICBzZWxmLnN0eWxlLmZvb3Rub3RlUHJvcHMsXG4gICAgICBzZWxmLFxuICAgICAgcGFnZSxcbiAgICAgIHNlbGYuY3VzdG9tUmVuZGVyZXIsXG4gICAgICBzZWxmLmZhbGxiYWNrTWFwLFxuICAgICAgdGhpcy5kb2N1bWVudFVSTFRyYW5zZm9ybWVyLFxuICAgICk7XG4gICAgbGV0IGNvbHVtbkluZGV4ID0gMDtcbiAgICBsZXQgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbiA9IG51bGw7XG4gICAgbGV0IGNvbHVtbnM6IExheW91dFR5cGUuQ29sdW1uW10gPSBbXTtcbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICBzZWxmXG4gICAgICAgICAgLmNyZWF0ZUFuZExheW91dENvbHVtbihcbiAgICAgICAgICAgIGJveEluc3RhbmNlLFxuICAgICAgICAgICAgb2Zmc2V0WCxcbiAgICAgICAgICAgIG9mZnNldFksXG4gICAgICAgICAgICBleGNsdXNpb25zLFxuICAgICAgICAgICAgbGF5b3V0Q29udGFpbmVyLFxuICAgICAgICAgICAgY29sdW1uSW5kZXgrKyxcbiAgICAgICAgICAgIGZsb3dOYW1lU3RyLFxuICAgICAgICAgICAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgICAgICAgIGNvbHVtbkNvdW50LFxuICAgICAgICAgICAgY29sdW1uR2FwLFxuICAgICAgICAgICAgY29sdW1uV2lkdGgsXG4gICAgICAgICAgICBpbm5lclNoYXBlLFxuICAgICAgICAgICAgbGF5b3V0Q29udGV4dCxcbiAgICAgICAgICAgIGZvcmNlTm9uRml0dGluZyxcbiAgICAgICAgICApXG4gICAgICAgICAgLnRoZW4oKGMpID0+IHtcbiAgICAgICAgICAgIGlmIChwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkpIHtcbiAgICAgICAgICAgICAgY29sdW1ucyA9IG51bGw7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZm9yY2VkUmVnaW9uQnJlYWsgPVxuICAgICAgICAgICAgICAhIWMucGFnZUJyZWFrVHlwZSAmJiBjLnBhZ2VCcmVha1R5cGUgIT09IFwiY29sdW1uXCI7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIChmb3JjZWRSZWdpb25CcmVhayB8fCBjb2x1bW5JbmRleCA9PT0gY29sdW1uQ291bnQpICYmXG4gICAgICAgICAgICAgICFyZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQuZmluaXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkpIHtcbiAgICAgICAgICAgICAgY29sdW1uSW5kZXggPSAwO1xuICAgICAgICAgICAgICBzZWxmLmN1cnJlbnRMYXlvdXRQb3NpdGlvbiA9IHBvc2l0aW9uQXRDb250YWluZXJTdGFydC5jbG9uZSgpO1xuICAgICAgICAgICAgICByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LnZhbGlkYXRlKCk7XG4gICAgICAgICAgICAgIGlmIChyZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzTG9ja2VkKCkpIHtcbiAgICAgICAgICAgICAgICBjb2x1bW5zID0gbnVsbDtcbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbHVtbiA9IGM7XG4gICAgICAgICAgICBjb2x1bW5zW2NvbHVtbkluZGV4IC0gMV0gPSBjb2x1bW47XG4gICAgICAgICAgICBpZiAoY29sdW1uLnBhZ2VCcmVha1R5cGUpIHtcbiAgICAgICAgICAgICAgaWYgKGNvbHVtbi5wYWdlQnJlYWtUeXBlICE9IFwiY29sdW1uXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBza2lwIHJlbWFpbmluZyBjb2x1bW5zXG4gICAgICAgICAgICAgICAgY29sdW1uSW5kZXggPSBjb2x1bW5Db3VudDtcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uLnBhZ2VCcmVha1R5cGUgIT0gXCJyZWdpb25cIikge1xuICAgICAgICAgICAgICAgICAgLy8gc2tpcCByZW1haW5pbmcgcmVnaW9uc1xuICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlQnJlYWtzW2Zsb3dOYW1lU3RyXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29sdW1uSW5kZXggPCBjb2x1bW5Db3VudCkge1xuICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBmcmFtZS5maW5pc2goY29sdW1ucyk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBob2xkaW5nIHRydWVcbiAgICovXG4gIGxheW91dENvbnRhaW5lcihcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIGJveEluc3RhbmNlOiBQYWdlTWFzdGVyLlBhZ2VCb3hJbnN0YW5jZSxcbiAgICBwYXJlbnRDb250YWluZXI6IEhUTUxFbGVtZW50LFxuICAgIG9mZnNldFg6IG51bWJlcixcbiAgICBvZmZzZXRZOiBudW1iZXIsXG4gICAgZXhjbHVzaW9uczogR2VvbWV0cnlVdGlsLlNoYXBlW10sXG4gICAgcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGJveEluc3RhbmNlLnJlc2V0KCk7XG4gICAgY29uc3QgZW5hYmxlZCA9IGJveEluc3RhbmNlLmdldFByb3Aoc2VsZiwgXCJlbmFibGVkXCIpO1xuICAgIGlmIChlbmFibGVkICYmIGVuYWJsZWQgIT09IENzcy5pZGVudC5fdHJ1ZSkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH1cbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJsYXlvdXRDb250YWluZXJcIik7XG4gICAgY29uc3Qgd3JhcEZsb3cgPSBib3hJbnN0YW5jZS5nZXRQcm9wKHNlbGYsIFwid3JhcC1mbG93XCIpO1xuICAgIGNvbnN0IGRvbnRFeGNsdWRlID0gd3JhcEZsb3cgPT09IENzcy5pZGVudC5hdXRvO1xuICAgIGNvbnN0IGZsb3dOYW1lID0gYm94SW5zdGFuY2UuZ2V0UHJvcChzZWxmLCBcImZsb3ctZnJvbVwiKTtcbiAgICBjb25zdCBib3hDb250YWluZXIgPSBzZWxmLnZpZXdwb3J0LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29uc3QgcG9zaXRpb24gPSBib3hJbnN0YW5jZS5nZXRQcm9wKHNlbGYsIFwicG9zaXRpb25cIik7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgIGJveENvbnRhaW5lcixcbiAgICAgIFwicG9zaXRpb25cIixcbiAgICAgIHBvc2l0aW9uID8gKHBvc2l0aW9uIGFzIGFueSkubmFtZSA6IFwiYWJzb2x1dGVcIixcbiAgICApO1xuICAgIHBhcmVudENvbnRhaW5lci5pbnNlcnRCZWZvcmUoYm94Q29udGFpbmVyLCBwYXJlbnRDb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgbGV0IGxheW91dENvbnRhaW5lciA9IG5ldyBWdHJlZS5Db250YWluZXIoYm94Q29udGFpbmVyKTtcbiAgICBsYXlvdXRDb250YWluZXIudmVydGljYWwgPSBib3hJbnN0YW5jZS52ZXJ0aWNhbDtcbiAgICBsYXlvdXRDb250YWluZXIuZXhjbHVzaW9ucyA9IGV4Y2x1c2lvbnM7XG4gICAgYm94SW5zdGFuY2UucHJlcGFyZUNvbnRhaW5lcihcbiAgICAgIHNlbGYsXG4gICAgICBsYXlvdXRDb250YWluZXIsXG4gICAgICBwYWdlLFxuICAgICAgc2VsZi5mYWNlcyxcbiAgICAgIHNlbGYuY2xpZW50TGF5b3V0LFxuICAgICk7XG4gICAgbGF5b3V0Q29udGFpbmVyLm9yaWdpblggPSBvZmZzZXRYO1xuICAgIGxheW91dENvbnRhaW5lci5vcmlnaW5ZID0gb2Zmc2V0WTtcbiAgICBvZmZzZXRYICs9XG4gICAgICBsYXlvdXRDb250YWluZXIubGVmdCArXG4gICAgICBsYXlvdXRDb250YWluZXIubWFyZ2luTGVmdCArXG4gICAgICBsYXlvdXRDb250YWluZXIuYm9yZGVyTGVmdDtcbiAgICBvZmZzZXRZICs9XG4gICAgICBsYXlvdXRDb250YWluZXIudG9wICtcbiAgICAgIGxheW91dENvbnRhaW5lci5tYXJnaW5Ub3AgK1xuICAgICAgbGF5b3V0Q29udGFpbmVyLmJvcmRlclRvcDtcbiAgICB0aGlzLnNldFBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0Q29udGFpbmVyKFxuICAgICAgcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICBib3hJbnN0YW5jZSxcbiAgICAgIGxheW91dENvbnRhaW5lcixcbiAgICApO1xuICAgIGxldCBjb250OiBUYXNrLlJlc3VsdDxib29sZWFuPjtcbiAgICBsZXQgcmVtb3ZlZCA9IGZhbHNlO1xuICAgIGlmICghZmxvd05hbWUgfHwgIWZsb3dOYW1lLmlzSWRlbnQoKSkge1xuICAgICAgY29uc3QgY29udGVudFZhbCA9IGJveEluc3RhbmNlLmdldFByb3Aoc2VsZiwgXCJjb250ZW50XCIpO1xuICAgICAgaWYgKGNvbnRlbnRWYWwgJiYgVnRyZWUubm9uVHJpdmlhbENvbnRlbnQoY29udGVudFZhbCkpIHtcbiAgICAgICAgbGV0IGlubmVyQ29udGFpbmVyVGFnID0gXCJzcGFuXCI7XG4gICAgICAgIGlmICgoY29udGVudFZhbCBhcyBhbnkpLnVybCkge1xuICAgICAgICAgIGlubmVyQ29udGFpbmVyVGFnID0gXCJpbWdcIjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbm5lckNvbnRhaW5lciA9IHNlbGYudmlld3BvcnQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBpbm5lckNvbnRhaW5lclRhZyxcbiAgICAgICAgKTtcbiAgICAgICAgY29udGVudFZhbC52aXNpdChcbiAgICAgICAgICBuZXcgVnRyZWUuQ29udGVudFByb3BlcnR5SGFuZGxlcihcbiAgICAgICAgICAgIGlubmVyQ29udGFpbmVyLFxuICAgICAgICAgICAgc2VsZixcbiAgICAgICAgICAgIGNvbnRlbnRWYWwsXG4gICAgICAgICAgICBzZWxmLmNvdW50ZXJTdG9yZS5nZXRFeHByQ29udGVudExpc3RlbmVyKCksXG4gICAgICAgICAgKSxcbiAgICAgICAgKTtcbiAgICAgICAgYm94Q29udGFpbmVyLmFwcGVuZENoaWxkKGlubmVyQ29udGFpbmVyKTtcbiAgICAgICAgaWYgKGlubmVyQ29udGFpbmVyVGFnID09IFwiaW1nXCIpIHtcbiAgICAgICAgICBib3hJbnN0YW5jZS50cmFuc2ZlclNpbmdsVXJpQ29udGVudFByb3BzKFxuICAgICAgICAgICAgc2VsZixcbiAgICAgICAgICAgIGlubmVyQ29udGFpbmVyLFxuICAgICAgICAgICAgc2VsZi5mYWNlcyxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGJveEluc3RhbmNlLnRyYW5zZmVyQ29udGVudFByb3BzKFxuICAgICAgICAgIHNlbGYsXG4gICAgICAgICAgbGF5b3V0Q29udGFpbmVyLFxuICAgICAgICAgIHBhZ2UsXG4gICAgICAgICAgc2VsZi5mYWNlcyxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoYm94SW5zdGFuY2Uuc3VwcHJlc3NFbXB0eUJveEdlbmVyYXRpb24pIHtcbiAgICAgICAgcGFyZW50Q29udGFpbmVyLnJlbW92ZUNoaWxkKGJveENvbnRhaW5lcik7XG4gICAgICAgIHJlbW92ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKCFyZW1vdmVkKSB7XG4gICAgICAgIGJveEluc3RhbmNlLmZpbmlzaENvbnRhaW5lcihcbiAgICAgICAgICBzZWxmLFxuICAgICAgICAgIGxheW91dENvbnRhaW5lcixcbiAgICAgICAgICBwYWdlLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgMSxcbiAgICAgICAgICBzZWxmLmNsaWVudExheW91dCxcbiAgICAgICAgICBzZWxmLmZhY2VzLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29udCA9IFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH0gZWxzZSBpZiAoIXNlbGYucGFnZUJyZWFrc1tmbG93TmFtZS50b1N0cmluZygpXSkge1xuICAgICAgY29uc3QgaW5uZXJGcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXG4gICAgICAgIFwibGF5b3V0Q29udGFpbmVyLmlubmVyXCIsXG4gICAgICApO1xuICAgICAgY29uc3QgZmxvd05hbWVTdHIgPSBmbG93TmFtZS50b1N0cmluZygpO1xuXG4gICAgICAvLyBmb3Igbm93IG9ubHkgYSBzaW5nbGUgY29sdW1uIGluIHZlcnRpY2FsIGNhc2VcbiAgICAgIGNvbnN0IGNvbHVtbkNvdW50ID0gYm94SW5zdGFuY2UuZ2V0UHJvcEFzTnVtYmVyKHNlbGYsIFwiY29sdW1uLWNvdW50XCIpO1xuICAgICAgc2VsZlxuICAgICAgICAubGF5b3V0Rmxvd0NvbHVtbnNXaXRoQmFsYW5jaW5nKFxuICAgICAgICAgIHBhZ2UsXG4gICAgICAgICAgYm94SW5zdGFuY2UsXG4gICAgICAgICAgb2Zmc2V0WCxcbiAgICAgICAgICBvZmZzZXRZLFxuICAgICAgICAgIGV4Y2x1c2lvbnMsXG4gICAgICAgICAgcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICAgICAgbGF5b3V0Q29udGFpbmVyLFxuICAgICAgICAgIGZsb3dOYW1lU3RyLFxuICAgICAgICAgIGNvbHVtbkNvdW50LFxuICAgICAgICApXG4gICAgICAgIC50aGVuKChjb2x1bW5zKSA9PiB7XG4gICAgICAgICAgaWYgKCFwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbHVtbiA9IGNvbHVtbnNbMF07XG4gICAgICAgICAgICBBc3NlcnRzLmFzc2VydChjb2x1bW4pO1xuICAgICAgICAgICAgaWYgKGNvbHVtbi5lbGVtZW50ID09PSBib3hDb250YWluZXIpIHtcbiAgICAgICAgICAgICAgbGF5b3V0Q29udGFpbmVyID0gY29sdW1uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGF5b3V0Q29udGFpbmVyLmNvbXB1dGVkQmxvY2tTaXplID0gTWF0aC5tYXguYXBwbHkoXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIGNvbHVtbnMubWFwKChjKSA9PiBjLmNvbXB1dGVkQmxvY2tTaXplKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBib3hJbnN0YW5jZS5maW5pc2hDb250YWluZXIoXG4gICAgICAgICAgICAgIHNlbGYsXG4gICAgICAgICAgICAgIGxheW91dENvbnRhaW5lcixcbiAgICAgICAgICAgICAgcGFnZSxcbiAgICAgICAgICAgICAgY29sdW1uLFxuICAgICAgICAgICAgICBjb2x1bW5Db3VudCxcbiAgICAgICAgICAgICAgc2VsZi5jbGllbnRMYXlvdXQsXG4gICAgICAgICAgICAgIHNlbGYuZmFjZXMsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgZmxvd1Bvc2l0aW9uID1cbiAgICAgICAgICAgICAgc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24uZmxvd1Bvc2l0aW9uc1tmbG93TmFtZVN0cl07XG4gICAgICAgICAgICBpZiAoZmxvd1Bvc2l0aW9uICYmIGZsb3dQb3NpdGlvbi5icmVha0FmdGVyID09PSBcInJlZ2lvblwiKSB7XG4gICAgICAgICAgICAgIGZsb3dQb3NpdGlvbi5icmVha0FmdGVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaW5uZXJGcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgY29udCA9IGlubmVyRnJhbWUucmVzdWx0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgIGJveEluc3RhbmNlLmZpbmlzaENvbnRhaW5lcihcbiAgICAgICAgICBzZWxmLFxuICAgICAgICAgIGxheW91dENvbnRhaW5lcixcbiAgICAgICAgICBwYWdlLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgMSxcbiAgICAgICAgICBzZWxmLmNsaWVudExheW91dCxcbiAgICAgICAgICBzZWxmLmZhY2VzLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29udCA9IFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH1cbiAgICBjb250LnRoZW4oKCkgPT4ge1xuICAgICAgaWYgKHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgIWJveEluc3RhbmNlLmlzQXV0b0hlaWdodCB8fFxuICAgICAgICBNYXRoLmZsb29yKGxheW91dENvbnRhaW5lci5jb21wdXRlZEJsb2NrU2l6ZSkgPiAwXG4gICAgICApIHtcbiAgICAgICAgaWYgKCFyZW1vdmVkICYmICFkb250RXhjbHVkZSkge1xuICAgICAgICAgIGNvbnN0IG91dGVyU2hhcGVQcm9wID0gYm94SW5zdGFuY2UuZ2V0UHJvcChzZWxmLCBcInNoYXBlLW91dHNpZGVcIik7XG4gICAgICAgICAgY29uc3Qgb3V0ZXJTaGFwZSA9IGxheW91dENvbnRhaW5lci5nZXRPdXRlclNoYXBlKFxuICAgICAgICAgICAgb3V0ZXJTaGFwZVByb3AsXG4gICAgICAgICAgICBzZWxmLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyBUaG91Z2ggaXQgc2VlbXMgdGhhdCBMU2hhcGVGbG9hdEJ1ZyBzdGlsbCBleGlzdHMgaW4gRmlyZWZveCwgaXRcbiAgICAgICAgICAvLyBhcHBhcmVudGx5IGRvZXMgbm90IG9jY3VyIG9uIGV4Y2x1c2lvbiBmbG9hdHMuIFNlZSB0aGUgdGVzdCBmaWxlOlxuICAgICAgICAgIC8vIHRlc3QvZmlsZXMvY29sdW1uLWJyZWFrLWJ1Zy5odG1sXG4gICAgICAgICAgLy8gaWYgKEJhc2UuY2hlY2tMU2hhcGVGbG9hdEJ1ZyhzZWxmLnZpZXdwb3J0LnJvb3QpKSB7XG4gICAgICAgICAgLy8gXHQvLyBTaW1wbGlzdGljIGJ1ZyB3b3JrYXJvdW5kOiBhZGQgYSBjb3B5IG9mIHRoZSBzaGFwZSB0cmFuc2xhdGVkIHVwLlxuICAgICAgICAgIC8vICAgICBleGNsdXNpb25zLnB1c2gob3V0ZXJTaGFwZS53aXRoT2Zmc2V0KDAsIC0xLjI1ICogc2VsZi5xdWVyeVVuaXRTaXplKFwiZW1cIiwgZmFsc2UpKSk7XG4gICAgICAgICAgLy8gfVxuICAgICAgICAgIGV4Y2x1c2lvbnMucHVzaChvdXRlclNoYXBlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChib3hJbnN0YW5jZS5jaGlsZHJlbi5sZW5ndGggPT0gMCkge1xuICAgICAgICBwYXJlbnRDb250YWluZXIucmVtb3ZlQ2hpbGQoYm94Q29udGFpbmVyKTtcbiAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgaSA9IGJveEluc3RhbmNlLmNoaWxkcmVuLmxlbmd0aCAtIDE7XG4gICAgICBmcmFtZVxuICAgICAgICAubG9vcCgoKSA9PiB7XG4gICAgICAgICAgd2hpbGUgKGkgPj0gMCkge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBib3hJbnN0YW5jZS5jaGlsZHJlbltpLS1dO1xuICAgICAgICAgICAgY29uc3QgciA9IHNlbGYubGF5b3V0Q29udGFpbmVyKFxuICAgICAgICAgICAgICBwYWdlLFxuICAgICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgICAgYm94Q29udGFpbmVyIGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgICBvZmZzZXRYLFxuICAgICAgICAgICAgICBvZmZzZXRZLFxuICAgICAgICAgICAgICBleGNsdXNpb25zLFxuICAgICAgICAgICAgICBwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoci5pc1BlbmRpbmcoKSkge1xuICAgICAgICAgICAgICByZXR1cm4gci50aGVuQXN5bmMoKCkgPT5cbiAgICAgICAgICAgICAgICBUYXNrLm5ld1Jlc3VsdCghcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmFsc2UpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBwcm9jZXNzTGluZ2VyKCk6IHZvaWQge1xuICAgIGNvbnN0IHBhZ2VOdW1iZXIgPSB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5wYWdlO1xuICAgIGZvciAoY29uc3QgZmxvd05hbWUgaW4gdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb24uZmxvd1Bvc2l0aW9ucykge1xuICAgICAgY29uc3QgZmxvd1Bvc2l0aW9uID0gdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb24uZmxvd1Bvc2l0aW9uc1tmbG93TmFtZV07XG4gICAgICBmb3IgKGxldCBpID0gZmxvd1Bvc2l0aW9uLnBvc2l0aW9ucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBwb3MgPSBmbG93UG9zaXRpb24ucG9zaXRpb25zW2ldO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgcG9zLmZsb3dDaHVuay5zdGFydFBhZ2UgPj0gMCAmJlxuICAgICAgICAgIHBvcy5mbG93Q2h1bmsuc3RhcnRQYWdlICsgcG9zLmZsb3dDaHVuay5saW5nZXIgLSAxIDw9IHBhZ2VOdW1iZXJcbiAgICAgICAgKSB7XG4gICAgICAgICAgZmxvd1Bvc2l0aW9uLnBvc2l0aW9ucy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpbml0TGluZ2VyaW5nKCk6IHZvaWQge1xuICAgIGNvbnN0IHBhZ2VOdW1iZXIgPSB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5wYWdlO1xuICAgIGZvciAoY29uc3QgZmxvd05hbWUgaW4gdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb24uZmxvd1Bvc2l0aW9ucykge1xuICAgICAgY29uc3QgZmxvd1Bvc2l0aW9uID0gdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb24uZmxvd1Bvc2l0aW9uc1tmbG93TmFtZV07XG4gICAgICBmb3IgKGxldCBpID0gZmxvd1Bvc2l0aW9uLnBvc2l0aW9ucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBwb3MgPSBmbG93UG9zaXRpb24ucG9zaXRpb25zW2ldO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgcG9zLmZsb3dDaHVuay5zdGFydFBhZ2UgPCAwICYmXG4gICAgICAgICAgcG9zLmZsb3dDaHVuay5zdGFydE9mZnNldCA8IHRoaXMubG9va3VwT2Zmc2V0XG4gICAgICAgICkge1xuICAgICAgICAgIHBvcy5mbG93Q2h1bmsuc3RhcnRQYWdlID0gcGFnZU51bWJlcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG5vTW9yZVByaW1hcnlGbG93cyhjcDogVnRyZWUuTGF5b3V0UG9zaXRpb24pOiBib29sZWFuIHtcbiAgICBmb3IgKGNvbnN0IGZsb3dOYW1lIGluIHRoaXMucHJpbWFyeUZsb3dzKSB7XG4gICAgICBjb25zdCBmbG93UG9zaXRpb24gPSBjcC5mbG93UG9zaXRpb25zW2Zsb3dOYW1lXTtcbiAgICAgIGlmIChmbG93UG9zaXRpb24gJiYgZmxvd1Bvc2l0aW9uLnBvc2l0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBsYXlvdXROZXh0UGFnZShcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIGNwPzogVnRyZWUuTGF5b3V0UG9zaXRpb24sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLkxheW91dFBvc2l0aW9uPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBUT0MgYm94IGlzIHNwZWNpYWwgcGFnZSBjb250YWluZXIsIG5vIHBhZ2luYXRpb25cbiAgICBjb25zdCBpc1RvY0JveCA9IHBhZ2UuY29udGFpbmVyID09PSBwYWdlLmJsZWVkQm94O1xuXG4gICAgc2VsZi5wYWdlQnJlYWtzID0ge307XG4gICAgaWYgKGNwKSB7XG4gICAgICBzZWxmLmN1cnJlbnRMYXlvdXRQb3NpdGlvbiA9IGNwLmNsb25lKCk7XG4gICAgICBzZWxmLnN0eWxlci5yZXBsYXlGbG93RWxlbWVudHNGcm9tT2Zmc2V0KGNwLmhpZ2hlc3RTZWVuT2Zmc2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24gPSBuZXcgVnRyZWUuTGF5b3V0UG9zaXRpb24oKTtcbiAgICAgIHNlbGYuc3R5bGVyLnJlcGxheUZsb3dFbGVtZW50c0Zyb21PZmZzZXQoLTEpO1xuICAgIH1cbiAgICBpZiAodGhpcy5sYW5nKSB7XG4gICAgICBwYWdlLmJsZWVkQm94LnNldEF0dHJpYnV0ZShcImxhbmdcIiwgdGhpcy5sYW5nKTtcbiAgICB9XG4gICAgY3AgPSBzZWxmLmN1cnJlbnRMYXlvdXRQb3NpdGlvbjtcbiAgICBjcC5wYWdlKys7XG4gICAgc2VsZi5jbGVhclNjb3BlKHNlbGYuc3R5bGUucGFnZVNjb3BlKTtcbiAgICBzZWxmLmxheW91dFBvc2l0aW9uQXRQYWdlU3RhcnQgPSBjcC5jbG9uZSgpO1xuXG4gICAgLy8gUmVzb2x2ZSBwYWdlIHNpemUgYmVmb3JlIHBhZ2UgbWFzdGVyIHNlbGVjdGlvbi5cbiAgICBjb25zdCBjYXNjYWRlZFBhZ2VTdHlsZSA9IGlzVG9jQm94XG4gICAgICA/ICh7fSBhcyBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSlcbiAgICAgIDogc2VsZi5wYWdlTWFuYWdlci5nZXRDYXNjYWRlZFBhZ2VTdHlsZSgpO1xuICAgIGNvbnN0IHBhZ2VNYXN0ZXIgPSBzZWxmLnNlbGVjdFBhZ2VNYXN0ZXIoY2FzY2FkZWRQYWdlU3R5bGUpO1xuICAgIGlmICghcGFnZU1hc3Rlcikge1xuICAgICAgLy8gZW5kIG9mIHByaW1hcnkgY29udGVudFxuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwgYXMgVnRyZWUuTGF5b3V0UG9zaXRpb24pO1xuICAgIH1cbiAgICBsZXQgYmxlZWRCb3hQYWRkaW5nRWRnZSA9IDA7XG4gICAgaWYgKCFpc1RvY0JveCkge1xuICAgICAgcGFnZS5zZXRBdXRvUGFnZVdpZHRoKFxuICAgICAgICBwYWdlTWFzdGVyLnBhZ2VCb3guc3BlY2lmaWVkW1wid2lkdGhcIl0udmFsdWUgPT09IENzcy5mdWxsV2lkdGgsXG4gICAgICApO1xuICAgICAgcGFnZS5zZXRBdXRvUGFnZUhlaWdodChcbiAgICAgICAgcGFnZU1hc3Rlci5wYWdlQm94LnNwZWNpZmllZFtcImhlaWdodFwiXS52YWx1ZSA9PT0gQ3NzLmZ1bGxIZWlnaHQsXG4gICAgICApO1xuICAgICAgc2VsZi5jb3VudGVyU3RvcmUuc2V0Q3VycmVudFBhZ2UocGFnZSk7XG4gICAgICBzZWxmLmNvdW50ZXJTdG9yZS51cGRhdGVQYWdlQ291bnRlcnMoY2FzY2FkZWRQYWdlU3R5bGUsIHNlbGYpO1xuXG4gICAgICAvLyBzZXR1cCBibGVlZCBhcmVhIGFuZCBjcm9wIG1hcmtzXG4gICAgICBjb25zdCBldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkID0gQ3NzUGFnZS5ldmFsdWF0ZVBhZ2VTaXplQW5kQmxlZWQoXG4gICAgICAgIENzc1BhZ2UucmVzb2x2ZVBhZ2VTaXplQW5kQmxlZWQoY2FzY2FkZWRQYWdlU3R5bGUgYXMgYW55KSxcbiAgICAgICAgdGhpcyxcbiAgICAgICk7XG4gICAgICBzZWxmLnNldFBhZ2VTaXplQW5kQmxlZWQoZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZCwgcGFnZSk7XG4gICAgICBDc3NQYWdlLmFkZFByaW50ZXJNYXJrcyhcbiAgICAgICAgY2FzY2FkZWRQYWdlU3R5bGUsXG4gICAgICAgIGV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQsXG4gICAgICAgIHBhZ2UsXG4gICAgICAgIHRoaXMsXG4gICAgICApO1xuICAgICAgYmxlZWRCb3hQYWRkaW5nRWRnZSA9XG4gICAgICAgIGV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQuYmxlZWRPZmZzZXQgKyBldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLmJsZWVkO1xuICAgIH1cblxuICAgIGNvbnN0IHdyaXRpbmdNb2RlID1cbiAgICAgICghaXNUb2NCb3ggJiYgcGFnZU1hc3Rlci5nZXRQcm9wKHNlbGYsIFwid3JpdGluZy1tb2RlXCIpKSB8fFxuICAgICAgQ3NzLmlkZW50Lmhvcml6b250YWxfdGI7XG5cbiAgICB0aGlzLnBhZ2VWZXJ0aWNhbCA9IHdyaXRpbmdNb2RlICE9IENzcy5pZGVudC5ob3Jpem9udGFsX3RiO1xuXG4gICAgY29uc3QgZGlyZWN0aW9uID0gcGFnZU1hc3Rlci5nZXRQcm9wKHNlbGYsIFwiZGlyZWN0aW9uXCIpIHx8IENzcy5pZGVudC5sdHI7XG4gICAgY29uc3QgcGFnZUZsb2F0TGF5b3V0Q29udGV4dCA9IG5ldyBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQoXG4gICAgICBzZWxmLnJvb3RQYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZS5QQUdFLFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICAgd3JpdGluZ01vZGUsXG4gICAgICBkaXJlY3Rpb24sXG4gICAgKTtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5MYXlvdXRQb3NpdGlvbj4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJsYXlvdXROZXh0UGFnZVwiLFxuICAgICk7XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgLy8gc2VsZi5sYXlvdXRDb250YWluZXIocGFnZSwgcGFnZU1hc3RlciwgcGFnZS5ibGVlZEJveCwgYmxlZWRCb3hQYWRkaW5nRWRnZSwgYmxlZWRCb3hQYWRkaW5nRWRnZSsxLCAvLyBDb21wZW5zYXRlICd0b3A6IC0xcHgnIG9uIHBhZ2UgbWFzdGVyXG4gICAgICAgIHNlbGZcbiAgICAgICAgICAubGF5b3V0Q29udGFpbmVyKFxuICAgICAgICAgICAgcGFnZSxcbiAgICAgICAgICAgIHBhZ2VNYXN0ZXIsXG4gICAgICAgICAgICBwYWdlLmJsZWVkQm94LFxuICAgICAgICAgICAgYmxlZWRCb3hQYWRkaW5nRWRnZSxcbiAgICAgICAgICAgIGJsZWVkQm94UGFkZGluZ0VkZ2UsXG4gICAgICAgICAgICBbXSxcbiAgICAgICAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICAgICAgKVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkpIHtcbiAgICAgICAgICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5maW5pc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICAgICAgICBzZWxmLmN1cnJlbnRMYXlvdXRQb3NpdGlvbiA9IHNlbGYubGF5b3V0UG9zaXRpb25BdFBhZ2VTdGFydC5jbG9uZSgpO1xuICAgICAgICAgICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LnZhbGlkYXRlKCk7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHBhZ2VNYXN0ZXIuYWRqdXN0UGFnZUxheW91dChzZWxmLCBwYWdlLCBzZWxmLmNsaWVudExheW91dCk7XG4gICAgICAgIGlmICghaXNUb2NCb3gpIHtcbiAgICAgICAgICBjb25zdCBpc0xlZnRQYWdlID0gbmV3IEV4cHJzLk5hbWVkKFxuICAgICAgICAgICAgcGFnZU1hc3Rlci5wYWdlQm94LnNjb3BlLFxuICAgICAgICAgICAgXCJsZWZ0LXBhZ2VcIixcbiAgICAgICAgICApO1xuICAgICAgICAgIHBhZ2Uuc2lkZSA9IGlzTGVmdFBhZ2UuZXZhbHVhdGUoc2VsZilcbiAgICAgICAgICAgID8gQ29uc3RhbnRzLlBhZ2VTaWRlLkxFRlRcbiAgICAgICAgICAgIDogQ29uc3RhbnRzLlBhZ2VTaWRlLlJJR0hUO1xuICAgICAgICAgIHNlbGYucHJvY2Vzc0xpbmdlcigpO1xuICAgICAgICAgIGNwID0gc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb247XG4gICAgICAgICAgT2JqZWN0LmtleXMoY3AuZmxvd1Bvc2l0aW9ucykuZm9yRWFjaCgoZmxvd05hbWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZsb3dQb3NpdGlvbiA9IGNwLmZsb3dQb3NpdGlvbnNbZmxvd05hbWVdO1xuICAgICAgICAgICAgY29uc3QgYnJlYWtBZnRlciA9IGZsb3dQb3NpdGlvbi5icmVha0FmdGVyO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBicmVha0FmdGVyICYmXG4gICAgICAgICAgICAgIChicmVha0FmdGVyID09PSBcInBhZ2VcIiB8fCAhc2VsZi5tYXRjaFBhZ2VTaWRlKGJyZWFrQWZ0ZXIpKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGZsb3dQb3NpdGlvbi5icmVha0FmdGVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLmN1cnJlbnRMYXlvdXRQb3NpdGlvbiA9IHNlbGYubGF5b3V0UG9zaXRpb25BdFBhZ2VTdGFydCA9IG51bGw7XG4gICAgICAgIGNwLmhpZ2hlc3RTZWVuT2Zmc2V0ID0gc2VsZi5zdHlsZXIuZ2V0UmVhY2hlZE9mZnNldCgpO1xuICAgICAgICBjb25zdCB0cmlnZ2VycyA9IHNlbGYuc3R5bGUuc3RvcmUuZ2V0VHJpZ2dlcnNGb3JEb2Moc2VsZi54bWxkb2MpO1xuICAgICAgICBwYWdlLmZpbmlzaCh0cmlnZ2Vycywgc2VsZi5jbGllbnRMYXlvdXQpO1xuICAgICAgICBpZiAoc2VsZi5ub01vcmVQcmltYXJ5Rmxvd3MoY3ApKSB7XG4gICAgICAgICAgY3AgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGZyYW1lLmZpbmlzaChjcCk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGFjdHVhbCBwYWdlIHdpZHRoLCBoZWlnaHQgYW5kIGJsZWVkIGZyb20gc3R5bGUgc3BlY2lmaWVkIGluIHBhZ2VcbiAgICogY29udGV4dC5cbiAgICovXG4gIHByaXZhdGUgc2V0UGFnZVNpemVBbmRCbGVlZChcbiAgICBldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkOiBDc3NQYWdlLkV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQsXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgKSB7XG4gICAgdGhpcy5hY3R1YWxQYWdlV2lkdGggPSBldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLnBhZ2VXaWR0aDtcbiAgICB0aGlzLmFjdHVhbFBhZ2VIZWlnaHQgPSBldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLnBhZ2VIZWlnaHQ7XG4gICAgdGhpcy5wYWdlU2hlZXRXaWR0aCA9XG4gICAgICBldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLnBhZ2VXaWR0aCArXG4gICAgICBldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLmNyb3BPZmZzZXQgKiAyO1xuICAgIHRoaXMucGFnZVNoZWV0SGVpZ2h0ID1cbiAgICAgIGV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQucGFnZUhlaWdodCArXG4gICAgICBldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLmNyb3BPZmZzZXQgKiAyO1xuICAgIHBhZ2UuY29udGFpbmVyLnN0eWxlLndpZHRoID0gYCR7dGhpcy5wYWdlU2hlZXRXaWR0aH1weGA7XG4gICAgcGFnZS5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5wYWdlU2hlZXRIZWlnaHR9cHhgO1xuICAgIHBhZ2UuYmxlZWRCb3guc3R5bGUubGVmdCA9IGAke2V2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQuYmxlZWRPZmZzZXR9cHhgO1xuICAgIHBhZ2UuYmxlZWRCb3guc3R5bGUucmlnaHQgPSBgJHtldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLmJsZWVkT2Zmc2V0fXB4YDtcbiAgICBwYWdlLmJsZWVkQm94LnN0eWxlLnRvcCA9IGAke2V2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQuYmxlZWRPZmZzZXR9cHhgO1xuICAgIHBhZ2UuYmxlZWRCb3guc3R5bGUuYm90dG9tID0gYCR7ZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5ibGVlZE9mZnNldH1weGA7XG4gICAgcGFnZS5ibGVlZEJveC5zdHlsZS5wYWRkaW5nID0gYCR7ZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5ibGVlZH1weGA7XG5cbiAgICAvLyBTaGlmdCAxcHggdG8gd29ya2Fyb3VuZCBDaHJvbWUgcHJpbnRpbmcgYnVnIChDYW5jZWxlZCBiZWNhdXNlIG9mIGFub3RoZXIgQ2hyb21lIHByb2JsZW0pXG4gICAgLy8gcGFnZS5ibGVlZEJveC5zdHlsZS5wYWRkaW5nVG9wID0gYCR7ZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5ibGVlZCsxfXB4YDtcblxuICAgIC8vIFNoaWZ0IDAuMDFweCB0byB3b3JrYXJvdW5kIEZpcmVmb3ggcHJpbnRpbmcgcHJvYmxlbVxuICAgIC8vIChUaGlzIHNtYWxsIHZhbHVlICg8IDEvNjQgcHgpIGhhcyBubyBlZmZlY3QgdG8gQ2hyb21lKVxuICAgIHBhZ2UuYmxlZWRCb3guc3R5bGUucGFkZGluZ1RvcCA9IGAke2V2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQuYmxlZWQgK1xuICAgICAgMC4wMX1weGA7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJhc2VQYXJzZXJIYW5kbGVyIGV4dGVuZHMgQ3NzQ2FzY2FkZS5DYXNjYWRlUGFyc2VySGFuZGxlciB7XG4gIGluc2lkZVJlZ2lvbjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBtYXN0ZXJIYW5kbGVyOiBTdHlsZVBhcnNlckhhbmRsZXIsXG4gICAgY29uZGl0aW9uOiBFeHBycy5WYWwsXG4gICAgcGFyZW50OiBCYXNlUGFyc2VySGFuZGxlcixcbiAgICByZWdpb25JZDogc3RyaW5nIHwgbnVsbCxcbiAgKSB7XG4gICAgc3VwZXIoXG4gICAgICBtYXN0ZXJIYW5kbGVyLnJvb3RTY29wZSxcbiAgICAgIG1hc3RlckhhbmRsZXIsXG4gICAgICBjb25kaXRpb24sXG4gICAgICBwYXJlbnQsXG4gICAgICByZWdpb25JZCxcbiAgICAgIG1hc3RlckhhbmRsZXIudmFsaWRhdG9yU2V0LFxuICAgICAgIXBhcmVudCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYWdlVGVtcGxhdGVSdWxlKCk6IHZvaWQge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhZ2VNYXN0ZXJSdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgcGFnZU1hc3RlciA9IG5ldyBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXIoXG4gICAgICB0aGlzLm1hc3RlckhhbmRsZXIucGFnZVNjb3BlLFxuICAgICAgbmFtZSxcbiAgICAgIHBzZXVkb05hbWUsXG4gICAgICBjbGFzc2VzLFxuICAgICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnJvb3RCb3gsXG4gICAgICB0aGlzLmNvbmRpdGlvbixcbiAgICAgIHRoaXMub3duZXIuZ2V0QmFzZVNwZWNpZmljaXR5KCksXG4gICAgKTtcbiAgICB0aGlzLm1hc3RlckhhbmRsZXIucHVzaEhhbmRsZXIoXG4gICAgICBuZXcgUGFnZU1hc3Rlci5QYWdlTWFzdGVyUGFyc2VySGFuZGxlcihcbiAgICAgICAgcGFnZU1hc3Rlci5zY29wZSxcbiAgICAgICAgdGhpcy5tYXN0ZXJIYW5kbGVyLFxuICAgICAgICBwYWdlTWFzdGVyLFxuICAgICAgICB0aGlzLnZhbGlkYXRvclNldCxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0V2hlblJ1bGUoZXhwcjogQ3NzLkV4cHIpOiB2b2lkIHtcbiAgICBsZXQgY29uZGl0aW9uID0gZXhwci5leHByO1xuICAgIGlmICh0aGlzLmNvbmRpdGlvbiAhPSBudWxsKSB7XG4gICAgICBjb25kaXRpb24gPSBFeHBycy5hbmQodGhpcy5zY29wZSwgdGhpcy5jb25kaXRpb24sIGNvbmRpdGlvbik7XG4gICAgfVxuICAgIHRoaXMubWFzdGVySGFuZGxlci5wdXNoSGFuZGxlcihcbiAgICAgIG5ldyBCYXNlUGFyc2VySGFuZGxlcih0aGlzLm1hc3RlckhhbmRsZXIsIGNvbmRpdGlvbiwgdGhpcywgdGhpcy5yZWdpb25JZCksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0RGVmaW5lUnVsZSgpOiB2b2lkIHtcbiAgICB0aGlzLm1hc3RlckhhbmRsZXIucHVzaEhhbmRsZXIoXG4gICAgICBuZXcgQ3NzQ2FzY2FkZS5EZWZpbmVQYXJzZXJIYW5kbGVyKHRoaXMuc2NvcGUsIHRoaXMub3duZXIpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydEZvbnRGYWNlUnVsZSgpOiB2b2lkIHtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0ge30gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGU7XG4gICAgdGhpcy5tYXN0ZXJIYW5kbGVyLmZvbnRGYWNlcy5wdXNoKHtcbiAgICAgIHByb3BlcnRpZXMsXG4gICAgICBjb25kaXRpb246IHRoaXMuY29uZGl0aW9uLFxuICAgIH0pO1xuICAgIHRoaXMubWFzdGVySGFuZGxlci5wdXNoSGFuZGxlcihcbiAgICAgIG5ldyBDc3NDYXNjYWRlLlByb3BTZXRQYXJzZXJIYW5kbGVyKFxuICAgICAgICB0aGlzLnNjb3BlLFxuICAgICAgICB0aGlzLm93bmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBwcm9wZXJ0aWVzLFxuICAgICAgICB0aGlzLm1hc3RlckhhbmRsZXIudmFsaWRhdG9yU2V0LFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRGbG93UnVsZShmbG93TmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgbGV0IHN0eWxlID0gdGhpcy5tYXN0ZXJIYW5kbGVyLmZsb3dQcm9wc1tmbG93TmFtZV07XG4gICAgaWYgKCFzdHlsZSkge1xuICAgICAgc3R5bGUgPSB7fSBhcyBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgICAgIHRoaXMubWFzdGVySGFuZGxlci5mbG93UHJvcHNbZmxvd05hbWVdID0gc3R5bGU7XG4gICAgfVxuICAgIHRoaXMubWFzdGVySGFuZGxlci5wdXNoSGFuZGxlcihcbiAgICAgIG5ldyBDc3NDYXNjYWRlLlByb3BTZXRQYXJzZXJIYW5kbGVyKFxuICAgICAgICB0aGlzLnNjb3BlLFxuICAgICAgICB0aGlzLm93bmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBzdHlsZSxcbiAgICAgICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnZhbGlkYXRvclNldCxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Vmlld3BvcnRSdWxlKCk6IHZvaWQge1xuICAgIGNvbnN0IHZpZXdwb3J0UHJvcHMgPSB7fSBhcyBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgICB0aGlzLm1hc3RlckhhbmRsZXIudmlld3BvcnRQcm9wcy5wdXNoKHZpZXdwb3J0UHJvcHMpO1xuICAgIHRoaXMubWFzdGVySGFuZGxlci5wdXNoSGFuZGxlcihcbiAgICAgIG5ldyBDc3NDYXNjYWRlLlByb3BTZXRQYXJzZXJIYW5kbGVyKFxuICAgICAgICB0aGlzLnNjb3BlLFxuICAgICAgICB0aGlzLm93bmVyLFxuICAgICAgICB0aGlzLmNvbmRpdGlvbixcbiAgICAgICAgdmlld3BvcnRQcm9wcyxcbiAgICAgICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnZhbGlkYXRvclNldCxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Rm9vdG5vdGVSdWxlKHBzZXVkb2VsZW06IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICBsZXQgc3R5bGUgPSB0aGlzLm1hc3RlckhhbmRsZXIuZm9vdG5vdGVQcm9wcztcbiAgICBpZiAocHNldWRvZWxlbSkge1xuICAgICAgY29uc3QgcHNldWRvcyA9IENzc0Nhc2NhZGUuZ2V0TXV0YWJsZVN0eWxlTWFwKHN0eWxlLCBcIl9wc2V1ZG9zXCIpO1xuICAgICAgc3R5bGUgPSBwc2V1ZG9zW3BzZXVkb2VsZW1dO1xuICAgICAgaWYgKCFzdHlsZSkge1xuICAgICAgICBzdHlsZSA9IHt9IGFzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuICAgICAgICBwc2V1ZG9zW3BzZXVkb2VsZW1dID0gc3R5bGU7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubWFzdGVySGFuZGxlci5wdXNoSGFuZGxlcihcbiAgICAgIG5ldyBDc3NDYXNjYWRlLlByb3BTZXRQYXJzZXJIYW5kbGVyKFxuICAgICAgICB0aGlzLnNjb3BlLFxuICAgICAgICB0aGlzLm93bmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBzdHlsZSxcbiAgICAgICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnZhbGlkYXRvclNldCxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UmVnaW9uUnVsZSgpOiB2b2lkIHtcbiAgICB0aGlzLmluc2lkZVJlZ2lvbiA9IHRydWU7XG4gICAgdGhpcy5zdGFydFNlbGVjdG9yUnVsZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYWdlUnVsZSgpOiB2b2lkIHtcbiAgICBjb25zdCBwYWdlSGFuZGxlciA9IG5ldyBDc3NQYWdlLlBhZ2VQYXJzZXJIYW5kbGVyKFxuICAgICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnBhZ2VTY29wZSxcbiAgICAgIHRoaXMubWFzdGVySGFuZGxlcixcbiAgICAgIHRoaXMsXG4gICAgICB0aGlzLnZhbGlkYXRvclNldCxcbiAgICAgIHRoaXMubWFzdGVySGFuZGxlci5wYWdlUHJvcHMsXG4gICAgKTtcbiAgICB0aGlzLm1hc3RlckhhbmRsZXIucHVzaEhhbmRsZXIocGFnZUhhbmRsZXIpO1xuICAgIHBhZ2VIYW5kbGVyLnN0YXJ0UGFnZVJ1bGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UnVsZUJvZHkoKTogdm9pZCB7XG4gICAgQ3NzQ2FzY2FkZS5DYXNjYWRlUGFyc2VySGFuZGxlci5wcm90b3R5cGUuc3RhcnRSdWxlQm9keS5jYWxsKHRoaXMpO1xuICAgIGlmICh0aGlzLmluc2lkZVJlZ2lvbikge1xuICAgICAgdGhpcy5pbnNpZGVSZWdpb24gPSBmYWxzZTtcbiAgICAgIGNvbnN0IHJlZ2lvbklkID0gYFIke3RoaXMubWFzdGVySGFuZGxlci5yZWdpb25Db3VudCsrfWA7XG4gICAgICB0aGlzLnNwZWNpYWwoXCJyZWdpb24taWRcIiwgQ3NzLmdldE5hbWUocmVnaW9uSWQpKTtcbiAgICAgIHRoaXMuZW5kUnVsZSgpO1xuICAgICAgY29uc3QgcmVnaW9uSGFuZGxlciA9IG5ldyBCYXNlUGFyc2VySGFuZGxlcihcbiAgICAgICAgdGhpcy5tYXN0ZXJIYW5kbGVyLFxuICAgICAgICB0aGlzLmNvbmRpdGlvbixcbiAgICAgICAgdGhpcyxcbiAgICAgICAgcmVnaW9uSWQsXG4gICAgICApO1xuICAgICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnB1c2hIYW5kbGVyKHJlZ2lvbkhhbmRsZXIpO1xuICAgICAgcmVnaW9uSGFuZGxlci5zdGFydFJ1bGVCb2R5KCk7XG4gICAgfVxuICB9XG59XG5cbi8vIG92ZXJyaWRlLCBzbyB3ZSBkb24ndCByZWdpc3RlciBhbiBlcnJvclxuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NWaWV3cG9ydE1ldGEobWV0YTogRWxlbWVudCk6IHN0cmluZyB7XG4gIGxldCBjb250ZW50ID0gbWV0YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpO1xuICBpZiAoIWNvbnRlbnQpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICBjb25zdCB2YWxzID0ge307XG4gIGxldCByOiBSZWdFeHBNYXRjaEFycmF5O1xuICB3aGlsZSAoXG4gICAgKHIgPSBjb250ZW50Lm1hdGNoKFxuICAgICAgL14sP1xccyooWy1BLVphLXpfLl1bLUEtWmEtel8wLTkuXSopXFxzKj1cXHMqKFstK0EtWmEtel8wLTkuXSopXFxzKi8sXG4gICAgKSkgIT0gbnVsbFxuICApIHtcbiAgICBjb250ZW50ID0gY29udGVudC5zdWJzdHIoclswXS5sZW5ndGgpO1xuICAgIHZhbHNbclsxXV0gPSByWzJdO1xuICB9XG4gIGNvbnN0IHdpZHRoID0gdmFsc1tcIndpZHRoXCJdIC0gMDtcbiAgY29uc3QgaGVpZ2h0ID0gdmFsc1tcImhlaWdodFwiXSAtIDA7XG4gIGlmICh3aWR0aCAmJiBoZWlnaHQpIHtcbiAgICByZXR1cm4gYEAtZXB1Yngtdmlld3BvcnR7d2lkdGg6JHt3aWR0aH1weDtoZWlnaHQ6JHtoZWlnaHR9cHg7fWA7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59XG5cbmV4cG9ydCBjbGFzcyBTdHlsZVBhcnNlckhhbmRsZXIgZXh0ZW5kcyBDc3NQYXJzZXIuRGlzcGF0Y2hQYXJzZXJIYW5kbGVyIHtcbiAgcm9vdFNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGU7XG4gIHBhZ2VTY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlO1xuICByb290Qm94OiBQYWdlTWFzdGVyLlJvb3RQYWdlQm94O1xuICBjYXNjYWRlUGFyc2VySGFuZGxlcjogQmFzZVBhcnNlckhhbmRsZXI7XG4gIHJlZ2lvbkNvdW50OiBudW1iZXIgPSAwO1xuICBmb250RmFjZXMgPSBbXSBhcyBGb250RmFjZVtdO1xuICBmb290bm90ZVByb3BzID0ge30gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGU7XG4gIGZsb3dQcm9wcyA9IHt9IGFzIHsgW2tleTogc3RyaW5nXTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUgfTtcbiAgdmlld3BvcnRQcm9wcyA9IFtdIGFzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlW107XG4gIHBhZ2VQcm9wcyA9IHt9IGFzIHsgW2tleTogc3RyaW5nXTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUgfTtcbiAgc2xhdmU6IEJhc2VQYXJzZXJIYW5kbGVyO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSB2YWxpZGF0b3JTZXQ6IENzc1ZhbGlkYXRvci5WYWxpZGF0b3JTZXQpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMucm9vdFNjb3BlID0gbmV3IEV4cHJzLkxleGljYWxTY29wZShudWxsKTtcbiAgICB0aGlzLnBhZ2VTY29wZSA9IG5ldyBFeHBycy5MZXhpY2FsU2NvcGUodGhpcy5yb290U2NvcGUpO1xuICAgIHRoaXMucm9vdEJveCA9IG5ldyBQYWdlTWFzdGVyLlJvb3RQYWdlQm94KHRoaXMucm9vdFNjb3BlKTtcbiAgICB0aGlzLmNhc2NhZGVQYXJzZXJIYW5kbGVyID0gbmV3IEJhc2VQYXJzZXJIYW5kbGVyKHRoaXMsIG51bGwsIG51bGwsIG51bGwpO1xuICAgIHRoaXMuc2xhdmUgPSB0aGlzLmNhc2NhZGVQYXJzZXJIYW5kbGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXJyb3IobW5lbW9uaWNzOiBzdHJpbmcsIHRva2VuOiBDc3NUb2tlbml6ZXIuVG9rZW4pOiB2b2lkIHtcbiAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiQ1NTIHBhcnNlcjpcIiwgbW5lbW9uaWNzKTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBTdHlsZVNvdXJjZSA9IHtcbiAgdXJsOiBzdHJpbmc7XG4gIHRleHQ6IHN0cmluZyB8IG51bGw7XG4gIGZsYXZvcjogQ3NzUGFyc2VyLlN0eWxlc2hlZXRGbGF2b3I7XG4gIGNsYXNzZXM6IHN0cmluZyB8IG51bGw7XG4gIG1lZGlhOiBzdHJpbmcgfCBudWxsO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlT1BTUmVzb3VyY2UoXG4gIHJlc3BvbnNlOiBOZXQuUmVzcG9uc2UsXG4gIHN0b3JlOiBYbWxEb2MuWE1MRG9jU3RvcmUsXG4pOiBUYXNrLlJlc3VsdDxYbWxEb2MuWE1MRG9jSG9sZGVyPiB7XG4gIHJldHVybiAoc3RvcmUgYXMgT1BTRG9jU3RvcmUpLnBhcnNlT1BTUmVzb3VyY2UocmVzcG9uc2UpO1xufVxuXG5leHBvcnQgY2xhc3MgT1BTRG9jU3RvcmUgZXh0ZW5kcyBOZXQuUmVzb3VyY2VTdG9yZTxYbWxEb2MuWE1MRG9jSG9sZGVyPiB7XG4gIHN0eWxlQnlLZXk6IHsgW2tleTogc3RyaW5nXTogU3R5bGUgfSA9IHt9O1xuICBzdHlsZUZldGNoZXJCeUtleTogeyBba2V5OiBzdHJpbmddOiBUYXNrVXRpbC5GZXRjaGVyPFN0eWxlPiB9ID0ge307XG4gIHN0eWxlQnlEb2NVUkw6IHsgW2tleTogc3RyaW5nXTogU3R5bGUgfSA9IHt9O1xuICB0cmlnZ2Vyc0J5RG9jVVJMOiB7IFtrZXk6IHN0cmluZ106IFZ0cmVlLlRyaWdnZXJbXSB9ID0ge307XG4gIHZhbGlkYXRvclNldDogQ3NzVmFsaWRhdG9yLlZhbGlkYXRvclNldCA9IG51bGw7XG4gIHByaXZhdGUgc3R5bGVTaGVldHM6IFN0eWxlU291cmNlW10gPSBbXTtcbiAgcHJpdmF0ZSB0cmlnZ2VyU2luZ2xlRG9jdW1lbnRQcmVwcm9jZXNzaW5nOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIGZvbnREZW9iZnVzY2F0b3I6XG4gICAgICB8ICgocDE6IHN0cmluZykgPT4gKChwMTogQmxvYikgPT4gVGFzay5SZXN1bHQ8QmxvYj4pIHwgbnVsbClcbiAgICAgIHwgbnVsbCxcbiAgKSB7XG4gICAgc3VwZXIocGFyc2VPUFNSZXNvdXJjZSwgTmV0LlhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlLkRPQ1VNRU5UKTtcbiAgfVxuXG4gIGluaXQoXG4gICAgYXV0aG9yU3R5bGVTaGVldHM6IHsgdXJsOiBzdHJpbmcgfCBudWxsOyB0ZXh0OiBzdHJpbmcgfCBudWxsIH1bXSB8IG51bGwsXG4gICAgdXNlclN0eWxlU2hlZXRzOiB7IHVybDogc3RyaW5nIHwgbnVsbDsgdGV4dDogc3RyaW5nIHwgbnVsbCB9W10gfCBudWxsLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgdGhpcy5zZXRTdHlsZVNoZWV0cyhhdXRob3JTdHlsZVNoZWV0cyBhcyBhbnksIHVzZXJTdHlsZVNoZWV0cyBhcyBhbnkpO1xuICAgIGNvbnN0IHVzZXJBZ2VudFhNTCA9IEJhc2UucmVzb2x2ZVVSTChcbiAgICAgIFwidXNlci1hZ2VudC54bWxcIixcbiAgICAgIEJhc2UucmVzb3VyY2VCYXNlVVJMLFxuICAgICk7XG4gICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lPGJvb2xlYW4+KFwiT1BTRG9jU3RvcmUuaW5pdFwiKTtcbiAgICB0aGlzLnZhbGlkYXRvclNldCA9IENzc1ZhbGlkYXRvci5iYXNlVmFsaWRhdG9yU2V0KCk7XG4gICAgbG9hZFVBQmFzZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5sb2FkKHVzZXJBZ2VudFhNTCkudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMudHJpZ2dlclNpbmdsZURvY3VtZW50UHJlcHJvY2Vzc2luZyA9IHRydWU7XG4gICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGdldFN0eWxlRm9yRG9jKHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcik6IFN0eWxlIHtcbiAgICByZXR1cm4gdGhpcy5zdHlsZUJ5RG9jVVJMW3htbGRvYy51cmxdO1xuICB9XG5cbiAgZ2V0VHJpZ2dlcnNGb3JEb2MoeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKTogVnRyZWUuVHJpZ2dlcltdIHtcbiAgICByZXR1cm4gdGhpcy50cmlnZ2Vyc0J5RG9jVVJMW3htbGRvYy51cmxdO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhdXRob3Igc3R5bGVzaGVldHMgYW5kIHVzZXIgc3R5bGVzaGVldHMuIEV4aXN0aW5nIHN0eWxlIHNoZWV0cyBhcmVcbiAgICogcmVtb3ZlZC5cbiAgICovXG4gIHByaXZhdGUgc2V0U3R5bGVTaGVldHMoXG4gICAgYXV0aG9yU3R5bGVTaGVldHM6IFN0eWxlU291cmNlW10gfCBudWxsLFxuICAgIHVzZXJTdHlsZVNoZWV0czogU3R5bGVTb3VyY2VbXSB8IG51bGwsXG4gICkge1xuICAgIHRoaXMuY2xlYXJTdHlsZVNoZWV0cygpO1xuICAgIGlmIChhdXRob3JTdHlsZVNoZWV0cykge1xuICAgICAgYXV0aG9yU3R5bGVTaGVldHMuZm9yRWFjaCh0aGlzLmFkZEF1dGhvclN0eWxlU2hlZXQsIHRoaXMpO1xuICAgIH1cbiAgICBpZiAodXNlclN0eWxlU2hlZXRzKSB7XG4gICAgICB1c2VyU3R5bGVTaGVldHMuZm9yRWFjaCh0aGlzLmFkZFVzZXJTdHlsZVNoZWV0LCB0aGlzKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNsZWFyU3R5bGVTaGVldHMoKSB7XG4gICAgdGhpcy5zdHlsZVNoZWV0cy5zcGxpY2UoMCk7XG4gIH1cblxuICBwcml2YXRlIGFkZEF1dGhvclN0eWxlU2hlZXQoc3R5bGVzaGVldDogU3R5bGVTb3VyY2UpIHtcbiAgICBsZXQgdXJsID0gc3R5bGVzaGVldC51cmw7XG4gICAgaWYgKHVybCkge1xuICAgICAgdXJsID0gQmFzZS5yZXNvbHZlVVJMKEJhc2UuY29udmVydFNwZWNpYWxVUkwodXJsKSwgQmFzZS5iYXNlVVJMKTtcbiAgICB9XG4gICAgdGhpcy5zdHlsZVNoZWV0cy5wdXNoKHtcbiAgICAgIHVybCxcbiAgICAgIHRleHQ6IHN0eWxlc2hlZXQudGV4dCxcbiAgICAgIGZsYXZvcjogQ3NzUGFyc2VyLlN0eWxlc2hlZXRGbGF2b3IuQVVUSE9SLFxuICAgICAgY2xhc3NlczogbnVsbCxcbiAgICAgIG1lZGlhOiBudWxsLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRVc2VyU3R5bGVTaGVldChzdHlsZXNoZWV0OiBTdHlsZVNvdXJjZSkge1xuICAgIGxldCB1cmwgPSBzdHlsZXNoZWV0LnVybDtcbiAgICBpZiAodXJsKSB7XG4gICAgICB1cmwgPSBCYXNlLnJlc29sdmVVUkwoQmFzZS5jb252ZXJ0U3BlY2lhbFVSTCh1cmwpLCBCYXNlLmJhc2VVUkwpO1xuICAgIH1cbiAgICB0aGlzLnN0eWxlU2hlZXRzLnB1c2goe1xuICAgICAgdXJsLFxuICAgICAgdGV4dDogc3R5bGVzaGVldC50ZXh0LFxuICAgICAgZmxhdm9yOiBDc3NQYXJzZXIuU3R5bGVzaGVldEZsYXZvci5VU0VSLFxuICAgICAgY2xhc3NlczogbnVsbCxcbiAgICAgIG1lZGlhOiBudWxsLFxuICAgIH0pO1xuICB9XG5cbiAgcGFyc2VPUFNSZXNvdXJjZShyZXNwb25zZTogTmV0LlJlc3BvbnNlKTogVGFzay5SZXN1bHQ8WG1sRG9jLlhNTERvY0hvbGRlcj4ge1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFhtbERvYy5YTUxEb2NIb2xkZXI+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwiT1BTRG9jU3RvcmUubG9hZFwiLFxuICAgICk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgdXJsID0gcmVzcG9uc2UudXJsO1xuXG4gICAgLy8gSGFjayBmb3IgVE9DVmlldy5zaG93VE9DKClcbiAgICBjb25zdCBpc1RvY0JveCA9IHVybC5lbmRzV2l0aChcIj92aXYtdG9jLWJveFwiKTtcblxuICAgIFhtbERvYy5wYXJzZVhNTFJlc291cmNlKHJlc3BvbnNlLCBzZWxmKS50aGVuKFxuICAgICAgKHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcikgPT4ge1xuICAgICAgICBpZiAoIXhtbGRvYykge1xuICAgICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGYudHJpZ2dlclNpbmdsZURvY3VtZW50UHJlcHJvY2Vzc2luZykge1xuICAgICAgICAgIGNvbnN0IGhvb2tzOiBQbHVnaW4uUHJlUHJvY2Vzc1NpbmdsZURvY3VtZW50SG9va1tdID0gUGx1Z2luLmdldEhvb2tzRm9yTmFtZShcbiAgICAgICAgICAgIFBsdWdpbi5IT09LUy5QUkVQUk9DRVNTX1NJTkdMRV9ET0NVTUVOVCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9va3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGhvb2tzW2ldKHhtbGRvYy5kb2N1bWVudCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXG4gICAgICAgICAgICAgICAgXCJFcnJvciBkdXJpbmcgc2luZ2xlIGRvY3VtZW50IHByZXByb2Nlc3Npbmc6XCIsXG4gICAgICAgICAgICAgICAgZSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJpZ2dlcnMgPSBbXTtcbiAgICAgICAgY29uc3QgdHJpZ2dlckxpc3QgPSB4bWxkb2MuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhcbiAgICAgICAgICBCYXNlLk5TLmVwdWIsXG4gICAgICAgICAgXCJ0cmlnZ2VyXCIsXG4gICAgICAgICk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpZ2dlckxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCB0cmlnZ2VyRWxlbSA9IHRyaWdnZXJMaXN0W2ldO1xuICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gdHJpZ2dlckVsZW0uZ2V0QXR0cmlidXRlTlMoQmFzZS5OUy5FViwgXCJvYnNlcnZlclwiKTtcbiAgICAgICAgICBjb25zdCBldmVudCA9IHRyaWdnZXJFbGVtLmdldEF0dHJpYnV0ZU5TKEJhc2UuTlMuRVYsIFwiZXZlbnRcIik7XG4gICAgICAgICAgY29uc3QgYWN0aW9uID0gdHJpZ2dlckVsZW0uZ2V0QXR0cmlidXRlKFwiYWN0aW9uXCIpO1xuICAgICAgICAgIGNvbnN0IHJlZiA9IHRyaWdnZXJFbGVtLmdldEF0dHJpYnV0ZShcInJlZlwiKTtcbiAgICAgICAgICBpZiAob2JzZXJ2ZXIgJiYgZXZlbnQgJiYgYWN0aW9uICYmIHJlZikge1xuICAgICAgICAgICAgdHJpZ2dlcnMucHVzaCh7IG9ic2VydmVyLCBldmVudCwgYWN0aW9uLCByZWYgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNlbGYudHJpZ2dlcnNCeURvY1VSTFt1cmxdID0gdHJpZ2dlcnM7XG4gICAgICAgIGNvbnN0IHNvdXJjZXMgPSBbXSBhcyBTdHlsZVNvdXJjZVtdO1xuICAgICAgICBjb25zdCB1c2VyQWdlbnRVUkwgPSBCYXNlLnJlc29sdmVVUkwoXG4gICAgICAgICAgXCJ1c2VyLWFnZW50LXBhZ2UuY3NzXCIsXG4gICAgICAgICAgQmFzZS5yZXNvdXJjZUJhc2VVUkwsXG4gICAgICAgICk7XG4gICAgICAgIHNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgdXJsOiB1c2VyQWdlbnRVUkwsXG4gICAgICAgICAgdGV4dDogVXNlckFnZW50UGFnZUNzcyxcbiAgICAgICAgICBmbGF2b3I6IENzc1BhcnNlci5TdHlsZXNoZWV0Rmxhdm9yLlVTRVJfQUdFTlQsXG4gICAgICAgICAgY2xhc3NlczogbnVsbCxcbiAgICAgICAgICBtZWRpYTogbnVsbCxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGhlYWQgPSB4bWxkb2MuaGVhZDtcbiAgICAgICAgaWYgKCFpc1RvY0JveCAmJiBoZWFkKSB7XG4gICAgICAgICAgZm9yIChsZXQgYzogTm9kZSA9IGhlYWQuZmlyc3RDaGlsZDsgYzsgYyA9IGMubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgIGlmIChjLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IGMgYXMgRWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IG5zID0gY2hpbGQubmFtZXNwYWNlVVJJO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxOYW1lID0gY2hpbGQubG9jYWxOYW1lO1xuICAgICAgICAgICAgaWYgKG5zID09IEJhc2UuTlMuWEhUTUwpIHtcbiAgICAgICAgICAgICAgaWYgKGxvY2FsTmFtZSA9PSBcInN0eWxlXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGFzc2VzID0gY2hpbGQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVkaWEgPSBjaGlsZC5nZXRBdHRyaWJ1dGUoXCJtZWRpYVwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZSA9IGNoaWxkLmdldEF0dHJpYnV0ZShcInRpdGxlXCIpO1xuICAgICAgICAgICAgICAgIHNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgICAgICB0ZXh0OiBjaGlsZC50ZXh0Q29udGVudCxcbiAgICAgICAgICAgICAgICAgIGZsYXZvcjogQ3NzUGFyc2VyLlN0eWxlc2hlZXRGbGF2b3IuQVVUSE9SLFxuICAgICAgICAgICAgICAgICAgY2xhc3NlczogdGl0bGUgPyBjbGFzc2VzIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgIG1lZGlhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2FsTmFtZSA9PSBcImxpbmtcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbCA9IGNoaWxkLmdldEF0dHJpYnV0ZShcInJlbFwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGFzc2VzID0gY2hpbGQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVkaWEgPSBjaGlsZC5nZXRBdHRyaWJ1dGUoXCJtZWRpYVwiKTtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICByZWwgPT0gXCJzdHlsZXNoZWV0XCIgfHxcbiAgICAgICAgICAgICAgICAgIChyZWwgPT0gXCJhbHRlcm5hdGUgc3R5bGVzaGVldFwiICYmIGNsYXNzZXMpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBsZXQgc3JjID0gY2hpbGQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcbiAgICAgICAgICAgICAgICAgIHNyYyA9IEJhc2UucmVzb2x2ZVVSTChzcmMsIHVybCk7XG4gICAgICAgICAgICAgICAgICBjb25zdCB0aXRsZSA9IGNoaWxkLmdldEF0dHJpYnV0ZShcInRpdGxlXCIpO1xuICAgICAgICAgICAgICAgICAgc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBzcmMsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHRpdGxlID8gY2xhc3NlcyA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhLFxuICAgICAgICAgICAgICAgICAgICBmbGF2b3I6IENzc1BhcnNlci5TdHlsZXNoZWV0Rmxhdm9yLkFVVEhPUixcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBsb2NhbE5hbWUgPT0gXCJtZXRhXCIgJiZcbiAgICAgICAgICAgICAgICBjaGlsZC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpID09IFwidmlld3BvcnRcIlxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgICAgICAgdGV4dDogcHJvY2Vzc1ZpZXdwb3J0TWV0YShjaGlsZCksXG4gICAgICAgICAgICAgICAgICBmbGF2b3I6IENzc1BhcnNlci5TdHlsZXNoZWV0Rmxhdm9yLkFVVEhPUixcbiAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IG51bGwsXG4gICAgICAgICAgICAgICAgICBtZWRpYTogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChucyA9PSBCYXNlLk5TLkZCMikge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgbG9jYWxOYW1lID09IFwic3R5bGVzaGVldFwiICYmXG4gICAgICAgICAgICAgICAgY2hpbGQuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSA9PSBcInRleHQvY3NzXCJcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgICAgICAgIHRleHQ6IGNoaWxkLnRleHRDb250ZW50LFxuICAgICAgICAgICAgICAgICAgZmxhdm9yOiBDc3NQYXJzZXIuU3R5bGVzaGVldEZsYXZvci5BVVRIT1IsXG4gICAgICAgICAgICAgICAgICBjbGFzc2VzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgbWVkaWE6IG51bGwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobnMgPT0gQmFzZS5OUy5TU0UgJiYgbG9jYWxOYW1lID09PSBcInByb3BlcnR5XCIpIHtcbiAgICAgICAgICAgICAgLy8gbG9vayBmb3Igc3R5bGVzaGVldCBzcGVjaWZpY2F0aW9uIGxpa2U6XG4gICAgICAgICAgICAgIC8vIDxwcm9wZXJ0eT48bmFtZT5zdHlsZXNoZWV0PC9uYW1lPjx2YWx1ZT5zdHlsZS5jc3M8L3ZhbHVlPjwvcHJvcGVydHk+XG4gICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBjaGlsZC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIm5hbWVcIilbMF07XG4gICAgICAgICAgICAgIGlmIChuYW1lICYmIG5hbWUudGV4dENvbnRlbnQgPT09IFwic3R5bGVzaGVldFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjaGlsZC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInZhbHVlXCIpWzBdO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgY29uc3Qgc3JjID0gQmFzZS5yZXNvbHZlVVJMKHZhbHVlLnRleHRDb250ZW50LCB1cmwpO1xuICAgICAgICAgICAgICAgICAgc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBzcmMsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBmbGF2b3I6IENzc1BhcnNlci5TdHlsZXNoZWV0Rmxhdm9yLkFVVEhPUixcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVG9jQm94KSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxmLnN0eWxlU2hlZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzb3VyY2VzLnB1c2goc2VsZi5zdHlsZVNoZWV0c1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBrZXkgPSBcIlwiO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBrZXkgKz0gc291cmNlc1tpXS51cmw7XG4gICAgICAgICAga2V5ICs9IFwiXlwiO1xuICAgICAgICAgIGlmIChzb3VyY2VzW2ldLnRleHQpIHtcbiAgICAgICAgICAgIGtleSArPSBzb3VyY2VzW2ldLnRleHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGtleSArPSBcIl5cIjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3R5bGUgPSBzZWxmLnN0eWxlQnlLZXlba2V5XTtcbiAgICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgICAgc2VsZi5zdHlsZUJ5RG9jVVJMW3VybF0gPSBzdHlsZTtcbiAgICAgICAgICBmcmFtZS5maW5pc2goeG1sZG9jKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGZldGNoZXIgPSBzZWxmLnN0eWxlRmV0Y2hlckJ5S2V5W2tleV07XG4gICAgICAgIGlmICghZmV0Y2hlcikge1xuICAgICAgICAgIGZldGNoZXIgPSBuZXcgVGFza1V0aWwuRmV0Y2hlcigoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbm5lckZyYW1lOiBUYXNrLkZyYW1lPFN0eWxlPiA9IFRhc2submV3RnJhbWUoXG4gICAgICAgICAgICAgIFwiZmV0Y2hTdHlsZXNoZWV0XCIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgICAgIGNvbnN0IHNwaCA9IG5ldyBTdHlsZVBhcnNlckhhbmRsZXIoc2VsZi52YWxpZGF0b3JTZXQpO1xuICAgICAgICAgICAgaW5uZXJGcmFtZVxuICAgICAgICAgICAgICAubG9vcCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgc291cmNlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZXNbaW5kZXgrK107XG4gICAgICAgICAgICAgICAgICBzcGguc3RhcnRTdHlsZXNoZWV0KHNvdXJjZS5mbGF2b3IpO1xuICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZS50ZXh0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBDc3NQYXJzZXIucGFyc2VTdHlsZXNoZWV0RnJvbVRleHQoXG4gICAgICAgICAgICAgICAgICAgICAgc291cmNlLnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgc3BoLFxuICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgc291cmNlLmNsYXNzZXMsXG4gICAgICAgICAgICAgICAgICAgICAgc291cmNlLm1lZGlhLFxuICAgICAgICAgICAgICAgICAgICApLnRoZW5SZXR1cm4odHJ1ZSk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ3NzUGFyc2VyLnBhcnNlU3R5bGVzaGVldEZyb21VUkwoXG4gICAgICAgICAgICAgICAgICAgICAgc291cmNlLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICBzcGgsXG4gICAgICAgICAgICAgICAgICAgICAgc291cmNlLmNsYXNzZXMsXG4gICAgICAgICAgICAgICAgICAgICAgc291cmNlLm1lZGlhLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmFsc2UpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FzY2FkZSA9IHNwaC5jYXNjYWRlUGFyc2VySGFuZGxlci5maW5pc2goKTtcbiAgICAgICAgICAgICAgICBzdHlsZSA9IG5ldyBTdHlsZShcbiAgICAgICAgICAgICAgICAgIHNlbGYsXG4gICAgICAgICAgICAgICAgICBzcGgucm9vdFNjb3BlLFxuICAgICAgICAgICAgICAgICAgc3BoLnBhZ2VTY29wZSxcbiAgICAgICAgICAgICAgICAgIGNhc2NhZGUsXG4gICAgICAgICAgICAgICAgICBzcGgucm9vdEJveCxcbiAgICAgICAgICAgICAgICAgIHNwaC5mb250RmFjZXMsXG4gICAgICAgICAgICAgICAgICBzcGguZm9vdG5vdGVQcm9wcyxcbiAgICAgICAgICAgICAgICAgIHNwaC5mbG93UHJvcHMsXG4gICAgICAgICAgICAgICAgICBzcGgudmlld3BvcnRQcm9wcyxcbiAgICAgICAgICAgICAgICAgIHNwaC5wYWdlUHJvcHMsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBzZWxmLnN0eWxlQnlLZXlba2V5XSA9IHN0eWxlO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLnN0eWxlRmV0Y2hlckJ5S2V5W2tleV07XG4gICAgICAgICAgICAgICAgaW5uZXJGcmFtZS5maW5pc2goc3R5bGUpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBpbm5lckZyYW1lLnJlc3VsdCgpO1xuICAgICAgICAgIH0sIGBGZXRjaFN0eWxlc2hlZXQgJHt1cmx9YCk7XG4gICAgICAgICAgc2VsZi5zdHlsZUZldGNoZXJCeUtleVtrZXldID0gZmV0Y2hlcjtcbiAgICAgICAgICBmZXRjaGVyLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZmV0Y2hlci5nZXQoKS50aGVuKChzdHlsZSkgPT4ge1xuICAgICAgICAgIHNlbGYuc3R5bGVCeURvY1VSTFt1cmxdID0gc3R5bGU7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKHhtbGRvYyk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICApO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE3IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBTaGExIC0gQ2FsY3VsYXRlIFNIQTEgaGFzaCBvZiB0aGUgZ2l2ZW4gY29udGVudC5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5cbi8qKlxuICogQHJldHVybiBiaWctZW5kaWFuIGJ5dGUgc2VxdWVuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZTMyKG46IG51bWJlcik6IHN0cmluZyB7XG4gIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKFxuICAgIChuID4+PiAyNCkgJiAyNTUsXG4gICAgKG4gPj4+IDE2KSAmIDI1NSxcbiAgICAobiA+Pj4gOCkgJiAyNTUsXG4gICAgbiAmIDI1NSxcbiAgKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gYnl0ZXMgYmlnLWVuZGlhbiBieXRlIHNlcXVlbmNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGUzMihieXRlczogc3RyaW5nKTogbnVtYmVyIHtcbiAgLy8gSW1wb3J0YW50IGZhY3RzOiBcIlwiLmNoYXJDb2RlQXQoMCkgPT0gTmFOLCBOYU4gJiAweEZGID09IDBcbiAgY29uc3QgYjAgPSBieXRlcy5jaGFyQ29kZUF0KDApICYgMjU1O1xuICBjb25zdCBiMSA9IGJ5dGVzLmNoYXJDb2RlQXQoMSkgJiAyNTU7XG4gIGNvbnN0IGIyID0gYnl0ZXMuY2hhckNvZGVBdCgyKSAmIDI1NTtcbiAgY29uc3QgYjMgPSBieXRlcy5jaGFyQ29kZUF0KDMpICYgMjU1O1xuICByZXR1cm4gKGIwIDw8IDI0KSB8IChiMSA8PCAxNikgfCAoYjIgPDwgOCkgfCBiMztcbn1cblxuLyoqXG4gKiBAcGFyYW0gYnl0ZXMgY2hhcnMgd2l0aCBjb2RlcyAwIC0gMjU1IHRoYXQgcmVwcmVzZW50IG1lc3NhZ2UgYnl0ZSB2YWx1ZXNcbiAqIEByZXR1cm4gYmlnLWVuZGlhbiB1aW50MzIgbnVtYmVycyByZXByZXNlbnRpbmcgc2hhMSBoYXNoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBieXRlc1RvU0hBMUludDMyKGJ5dGVzOiBzdHJpbmcpOiBudW1iZXJbXSB7XG4gIGNvbnN0IHNiID0gbmV3IEJhc2UuU3RyaW5nQnVmZmVyKCk7XG4gIHNiLmFwcGVuZChieXRlcyk7XG4gIGxldCBhcHBlbmRDb3VudCA9ICg1NSAtIGJ5dGVzLmxlbmd0aCkgJiA2MztcbiAgc2IuYXBwZW5kKFwiXFx1MDA4MFwiKTtcbiAgd2hpbGUgKGFwcGVuZENvdW50ID4gMCkge1xuICAgIGFwcGVuZENvdW50LS07XG4gICAgc2IuYXBwZW5kKFwiXFx4MDBcIik7XG4gIH1cbiAgc2IuYXBwZW5kKFwiXFx4MDBcXHgwMFxceDAwXFx4MDBcIik7XG4gIHNiLmFwcGVuZChlbmNvZGUzMihieXRlcy5sZW5ndGggKiA4KSk7XG4gIGJ5dGVzID0gc2IudG9TdHJpbmcoKTtcbiAgY29uc3QgaCA9IFsxNzMyNTg0MTkzLCA0MDIzMjMzNDE3LCAyNTYyMzgzMTAyLCAyNzE3MzM4NzgsIDMyODUzNzc1MjBdO1xuICBjb25zdCB3ID1cbiAgICAvKiogQHR5cGUgQXJyYXkuPG51bWJlcj4gKi9cbiAgICBbXSBhcyBudW1iZXJbXTtcbiAgbGV0IGk6IG51bWJlcjtcbiAgZm9yIChsZXQgYmkgPSAwOyBiaSA8IGJ5dGVzLmxlbmd0aDsgYmkgKz0gNjQpIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgd1tpXSA9IGRlY29kZTMyKGJ5dGVzLnN1YnN0cihiaSArIDQgKiBpLCA0KSk7XG4gICAgfVxuICAgIGZvciAoOyBpIDwgODA7IGkrKykge1xuICAgICAgY29uc3QgcSA9IHdbaSAtIDNdIF4gd1tpIC0gOF0gXiB3W2kgLSAxNF0gXiB3W2kgLSAxNl07XG4gICAgICB3W2ldID0gKHEgPDwgMSkgfCAocSA+Pj4gMzEpO1xuICAgIH1cbiAgICBsZXQgYSA9IGhbMF07XG4gICAgbGV0IGIgPSBoWzFdO1xuICAgIGxldCBjID0gaFsyXTtcbiAgICBsZXQgZCA9IGhbM107XG4gICAgbGV0IGUgPSBoWzRdO1xuICAgIGxldCBmOiBudW1iZXI7XG4gICAgZm9yIChpID0gMDsgaSA8IDgwOyBpKyspIHtcbiAgICAgIGlmIChpIDwgMjApIHtcbiAgICAgICAgZiA9ICgoYiAmIGMpIHwgKH5iICYgZCkpICsgMTUxODUwMDI0OTtcbiAgICAgIH0gZWxzZSBpZiAoaSA8IDQwKSB7XG4gICAgICAgIGYgPSAoYiBeIGMgXiBkKSArIDE4NTk3NzUzOTM7XG4gICAgICB9IGVsc2UgaWYgKGkgPCA2MCkge1xuICAgICAgICBmID0gKChiICYgYykgfCAoYiAmIGQpIHwgKGMgJiBkKSkgKyAyNDAwOTU5NzA4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZiA9IChiIF4gYyBeIGQpICsgMzM5NTQ2OTc4MjtcbiAgICAgIH1cbiAgICAgIGYgKz0gKChhIDw8IDUpIHwgKGEgPj4+IDI3KSkgKyBlICsgd1tpXTtcbiAgICAgIGUgPSBkO1xuICAgICAgZCA9IGM7XG4gICAgICBjID0gKGIgPDwgMzApIHwgKGIgPj4+IDIpO1xuICAgICAgYiA9IGE7XG4gICAgICBhID0gZjtcbiAgICB9XG4gICAgaFswXSA9IChoWzBdICsgYSkgfCAwO1xuICAgIGhbMV0gPSAoaFsxXSArIGIpIHwgMDtcbiAgICBoWzJdID0gKGhbMl0gKyBjKSB8IDA7XG4gICAgaFszXSA9IChoWzNdICsgZCkgfCAwO1xuICAgIGhbNF0gPSAoaFs0XSArIGUpIHwgMDtcbiAgfVxuICByZXR1cm4gaDtcbn1cblxuLyoqXG4gKiBAcGFyYW0gYnl0ZXMgY2hhcnMgd2l0aCBjb2RlcyAwIC0gMjU1IHRoYXQgcmVwcmVzZW50IG1lc3NhZ2UgYnl0ZSB2YWx1ZXNcbiAqIEByZXR1cm4gdWludDggbnVtYmVycyByZXByZXNlbnRpbmcgc2hhMSBoYXNoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBieXRlc1RvU0hBMUludDgoYnl0ZXM6IHN0cmluZyk6IG51bWJlcltdIHtcbiAgY29uc3QgaCA9IGJ5dGVzVG9TSEExSW50MzIoYnl0ZXMpO1xuICBjb25zdCByZXMgPSBbXTtcbiAgZm9yIChjb25zdCBuIG9mIGgpIHtcbiAgICByZXMucHVzaCgobiA+Pj4gMjQpICYgMjU1LCAobiA+Pj4gMTYpICYgMjU1LCAobiA+Pj4gOCkgJiAyNTUsIG4gJiAyNTUpO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5cbi8qKlxuICogQHBhcmFtIGJ5dGVzIGNoYXJzIHdpdGggY29kZXMgMCAtIDI1NSB0aGF0IHJlcHJlc2VudCBtZXNzYWdlIGJ5dGUgdmFsdWVzXG4gKiBAcmV0dXJuIGNoYXJzIHdpdGggY29kZXMgMCAtIDI1NSBlcXVhbCB0byBTSEExIGhhc2ggb2YgdGhlIGlucHV0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBieXRlc1RvU0hBMUJ5dGVzKGJ5dGVzOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBoID0gYnl0ZXNUb1NIQTFJbnQzMihieXRlcyk7XG4gIGNvbnN0IHNiID0gbmV3IEJhc2UuU3RyaW5nQnVmZmVyKCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaC5sZW5ndGg7IGkrKykge1xuICAgIHNiLmFwcGVuZChlbmNvZGUzMihoW2ldKSk7XG4gIH1cbiAgcmV0dXJuIHNiLnRvU3RyaW5nKCk7XG59XG5cbi8qKlxuICogQHBhcmFtIGJ5dGVzIGNoYXJzIHdpdGggY29kZXMgMCAtIDI1NSB0aGF0IHJlcHJlc2VudCBtZXNzYWdlIGJ5dGUgdmFsdWVzXG4gKiBAcmV0dXJuIGhleC1lbmNvZGVkIFNIQTEgaGFzaFxuICovXG5leHBvcnQgZnVuY3Rpb24gYnl0ZXNUb1NIQTFIZXgoYnl0ZXM6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHNoYTEgPSBieXRlc1RvU0hBMUJ5dGVzKGJ5dGVzKTtcbiAgY29uc3Qgc2IgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGExLmxlbmd0aDsgaSsrKSB7XG4gICAgc2IuYXBwZW5kKChzaGExLmNoYXJDb2RlQXQoaSkgfCAyNTYpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSkpO1xuICB9XG4gIHJldHVybiBzYi50b1N0cmluZygpO1xufVxuXG4vKipcbiAqIEBwYXJhbSBieXRlcyBjaGFycyB3aXRoIGNvZGVzIDAgLSAyNTUgdGhhdCByZXByZXNlbnQgbWVzc2FnZSBieXRlIHZhbHVlc1xuICogQHJldHVybiBiYXNlNjQtZW5jb2RlZCBTSEExIGhhc2ggb2YgdGhlIGlucHV0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBieXRlc1RvU0hBMUJhc2U2NChieXRlczogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3Qgc2hhMSA9IGJ5dGVzVG9TSEExQnl0ZXMoYnl0ZXMpO1xuICBjb25zdCBzYiA9IG5ldyBCYXNlLlN0cmluZ0J1ZmZlcigpO1xuICBCYXNlLmFwcGVuZEJhc2U2NChzYiwgc2hhMSk7XG4gIHJldHVybiBzYi50b1N0cmluZygpO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBUb2MgLSBUYWJsZSBvZiBDb250ZW50cyB2aWV3LlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIENvdW50ZXJzIGZyb20gXCIuL2NvdW50ZXJzXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgRm9udCBmcm9tIFwiLi9mb250XCI7XG5pbXBvcnQgKiBhcyBPUFMgZnJvbSBcIi4vb3BzXCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFZnZW4gZnJvbSBcIi4vdmdlblwiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCAqIGFzIFhtbERvYyBmcm9tIFwiLi94bWwtZG9jXCI7XG5cbi8vIGNsb3NlZDogMjVCOFxuLy8gb3BlbjogMjVCRVxuLy8gZW1wdHk6IDI1QjlcbmV4cG9ydCBjb25zdCBidWxsZXRDbG9zZWQgPSBcIlxcdTI1YjhcIjtcblxuZXhwb3J0IGNvbnN0IGJ1bGxldE9wZW4gPSBcIlxcdTI1YmVcIjtcblxuZXhwb3J0IGNvbnN0IGJ1bGxldEVtcHR5ID0gXCJcXHUyNWI5XCI7XG5cbmV4cG9ydCBjbGFzcyBUT0NWaWV3IGltcGxlbWVudHMgVmdlbi5DdXN0b21SZW5kZXJlckZhY3Rvcnkge1xuICBwcmVmOiBFeHBycy5QcmVmZXJlbmNlcztcbiAgcGFnZTogVnRyZWUuUGFnZSA9IG51bGw7XG4gIGluc3RhbmNlOiBPUFMuU3R5bGVJbnN0YW5jZSA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHN0b3JlOiBPUFMuT1BTRG9jU3RvcmUsXG4gICAgcHVibGljIHJlYWRvbmx5IHVybDogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSBsYW5nOiBzdHJpbmcgfCBudWxsLFxuICAgIHB1YmxpYyByZWFkb25seSBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9udE1hcHBlcjogRm9udC5NYXBwZXIsXG4gICAgcHJlZjogRXhwcnMuUHJlZmVyZW5jZXMsXG4gICAgcHVibGljIHJlYWRvbmx5IHJlbmRlcmVyRmFjdG9yeTogVmdlbi5DdXN0b21SZW5kZXJlckZhY3RvcnksXG4gICAgcHVibGljIHJlYWRvbmx5IGZhbGxiYWNrTWFwOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9LFxuICAgIHB1YmxpYyByZWFkb25seSBkb2N1bWVudFVSTFRyYW5zZm9ybWVyOiBCYXNlLkRvY3VtZW50VVJMVHJhbnNmb3JtZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvdW50ZXJTdG9yZTogQ291bnRlcnMuQ291bnRlclN0b3JlLFxuICApIHtcbiAgICB0aGlzLnByZWYgPSBFeHBycy5jbG9uZVByZWZlcmVuY2VzKHByZWYpO1xuICAgIHRoaXMucHJlZi5zcHJlYWRWaWV3ID0gZmFsc2U7IC8vIE5vIHNwcmVkIHZpZXcgZm9yIFRPQyBib3hcbiAgfVxuXG4gIHNldEF1dG9IZWlnaHQoZWxlbTogRWxlbWVudCwgZGVwdGg6IG51bWJlcik6IHZvaWQge1xuICAgIGlmIChkZXB0aC0tID09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChsZXQgYzogTm9kZSA9IGVsZW0uZmlyc3RDaGlsZDsgYzsgYyA9IGMubmV4dFNpYmxpbmcpIHtcbiAgICAgIGlmIChjLm5vZGVUeXBlID09IDEpIHtcbiAgICAgICAgY29uc3QgZSA9IGMgYXMgRWxlbWVudDtcbiAgICAgICAgaWYgKEJhc2UuZ2V0Q1NTUHJvcGVydHkoZSwgXCJoZWlnaHRcIiwgXCJhdXRvXCIpICE9IFwiYXV0b1wiKSB7XG4gICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlLCBcImhlaWdodFwiLCBcImF1dG9cIik7XG4gICAgICAgICAgdGhpcy5zZXRBdXRvSGVpZ2h0KGUsIGRlcHRoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQmFzZS5nZXRDU1NQcm9wZXJ0eShlLCBcInBvc2l0aW9uXCIsIFwic3RhdGljXCIpID09IFwiYWJzb2x1dGVcIikge1xuICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZSwgXCJwb3NpdGlvblwiLCBcInJlbGF0aXZlXCIpO1xuICAgICAgICAgIHRoaXMuc2V0QXV0b0hlaWdodChlLCBkZXB0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBtYWtlQ3VzdG9tUmVuZGVyZXIoeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKTogVmdlbi5DdXN0b21SZW5kZXJlciB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyRmFjdG9yeS5tYWtlQ3VzdG9tUmVuZGVyZXIoeG1sZG9jKTtcbiAgICByZXR1cm4gKFxuICAgICAgc3JjRWxlbTogRWxlbWVudCxcbiAgICAgIHZpZXdQYXJlbnQ6IEVsZW1lbnQsXG4gICAgICBjb21wdXRlZFN0eWxlOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSxcbiAgICApOiBUYXNrLlJlc3VsdDxFbGVtZW50PiA9PiB7XG4gICAgICBjb25zdCBiZWhhdmlvciA9IGNvbXB1dGVkU3R5bGVbXCJiZWhhdmlvclwiXTtcbiAgICAgIGlmIChiZWhhdmlvcikge1xuICAgICAgICBzd2l0Y2ggKGJlaGF2aW9yLnRvU3RyaW5nKCkpIHtcbiAgICAgICAgICBjYXNlIFwiYm9keS1jaGlsZFwiOlxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzcmNFbGVtLnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAgIFwiZGF0YS12aXZsaW9zdHlsZS1wcmltYXJ5LWVudHJ5XCIsXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIXNyY0VsZW0ucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgICAgIFwiW3JvbGU9ZG9jLXRvY10sIFtyb2xlPWRpcmVjdG9yeV0sIG5hdiBsaSBhLCAudG9jLCAjdG9jXCIsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBUT0MgZWxlbWVudCBpcyBhIHBhcnQgb2YgdGhlIHByaW1hdHkgZW50cnkgKFgpSFRNTCxcbiAgICAgICAgICAgICAgICAvLyBoaWRlIGVsZW1lbnRzIG5vdCBjb250YWluaW5nIFRPQy5cbiAgICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSA9IENzcy5pZGVudC5ub25lO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwidG9jLW5vZGUtYW5jaG9yXCI6XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiY29sb3JcIl0gPSBDc3MuaWRlbnQuaW5oZXJpdDtcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJ0ZXh0LWRlY29yYXRpb25cIl0gPSBDc3MuaWRlbnQubm9uZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ0b2Mtbm9kZVwiOlxuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImRpc3BsYXlcIl0gPSBDc3MuaWRlbnQuYmxvY2s7XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wibWFyZ2luXCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcInBhZGRpbmdcIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wicGFkZGluZy1pbmxpbmUtc3RhcnRcIl0gPSBuZXcgQ3NzLk51bWVyaWMoMS4yNSwgXCJlbVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ0b2Mtbm9kZS1maXJzdC1jaGlsZFwiOlxuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImRpc3BsYXlcIl0gPSBDc3MuaWRlbnQuaW5saW5lX2Jsb2NrO1xuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcIm1hcmdpblwiXSA9IG5ldyBDc3MuTnVtZXJpYygwLjIsIFwiZW1cIik7XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1widmVydGljYWwtYWxpZ25cIl0gPSBDc3MuaWRlbnQudG9wO1xuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImNvbG9yXCJdID0gQ3NzLmlkZW50LmluaGVyaXQ7XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1widGV4dC1kZWNvcmF0aW9uXCJdID0gQ3NzLmlkZW50Lm5vbmU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICAhYmVoYXZpb3IgfHxcbiAgICAgICAgKGJlaGF2aW9yLnRvU3RyaW5nKCkgIT0gXCJ0b2Mtbm9kZVwiICYmXG4gICAgICAgICAgYmVoYXZpb3IudG9TdHJpbmcoKSAhPSBcInRvYy1jb250YWluZXJcIilcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gcmVuZGVyZXIoc3JjRWxlbSwgdmlld1BhcmVudCwgY29tcHV0ZWRTdHlsZSk7XG4gICAgICB9XG4gICAgICAvLyBSZW1vdmUgd2hpdGUtc3BhY2UgdGV4dG5vZGUgdGhhdCBiZWNvbWVzIHVud2FudGVkIHNwYWNlIGJldHdlZW4gYnV0dG9uIGFuZCBhbmNob3IgZWxlbWVudC5cbiAgICAgIGNvbnN0IGZpcnN0Q2hpbGQgPSBzcmNFbGVtLmZpcnN0Q2hpbGQ7XG4gICAgICBpZiAoXG4gICAgICAgIGZpcnN0Q2hpbGQgJiZcbiAgICAgICAgZmlyc3RDaGlsZC5ub2RlVHlwZSAhPT0gMSAmJlxuICAgICAgICBmaXJzdENoaWxkLnRleHRDb250ZW50LnRyaW0oKSA9PT0gXCJcIlxuICAgICAgKSB7XG4gICAgICAgIC8vIFRvIGF2b2lkIFwiSW5jb25zaXN0ZW50IG9mZnNldFwiIGVycm9yLCBjcmVhdGUgYSBjb21tZW50IG5vZGUgd2l0aCBzYW1lIHdoaXRlLXNwYWNlIHRleHQuXG4gICAgICAgIHNyY0VsZW0ucmVwbGFjZUNoaWxkKFxuICAgICAgICAgIHNyY0VsZW0ub3duZXJEb2N1bWVudC5jcmVhdGVDb21tZW50KGZpcnN0Q2hpbGQudGV4dENvbnRlbnQpLFxuICAgICAgICAgIGZpcnN0Q2hpbGQsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBhZGFwdFBhcmVudENsYXNzID0gdmlld1BhcmVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWFkYXB0LWNsYXNzXCIpO1xuICAgICAgaWYgKGFkYXB0UGFyZW50Q2xhc3MgPT0gXCJ0b2Mtbm9kZVwiKSB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IHZpZXdQYXJlbnQuZmlyc3RDaGlsZCBhcyBFbGVtZW50O1xuICAgICAgICBpZiAoYnV0dG9uLnRleHRDb250ZW50ICE9IGJ1bGxldENsb3NlZCkge1xuICAgICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IGJ1bGxldENsb3NlZDtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGJ1dHRvbiwgXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpO1xuICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlTm9kZUV4cGFuc2lvbiwgZmFsc2UpO1xuXG4gICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJidXR0b25cIik7XG4gICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgICB2aWV3UGFyZW50LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJmYWxzZVwiKTtcblxuICAgICAgICAgIC8vIEVuYWJsZSB0YWIgbW92ZSB0byB0aGUgYnV0dG9uIHVubGVzcyBoaWRkZW4uXG4gICAgICAgICAgaWYgKCh2aWV3UGFyZW50IGFzIEhUTUxFbGVtZW50KS5zdHlsZS5oZWlnaHQgIT09IFwiMHB4XCIpIHtcbiAgICAgICAgICAgIChidXR0b24gYXMgSFRNTEVsZW1lbnQpLnRhYkluZGV4ID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGVsZW1lbnQgPSB2aWV3UGFyZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1hZGFwdC1wcm9jZXNzLWNoaWxkcmVuXCIsIFwidHJ1ZVwiKTtcbiAgICAgIGlmIChiZWhhdmlvci50b1N0cmluZygpID09IFwidG9jLW5vZGVcIikge1xuICAgICAgICBjb25zdCBidXR0b24gPSB2aWV3UGFyZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gYnVsbGV0RW1wdHk7XG5cbiAgICAgICAgLy8gVE9ETzogZGVmaW5lIHBzZXVkby1lbGVtZW50IGZvciB0aGUgYnV0dG9uP1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGJ1dHRvbiwgXCJtYXJnaW5cIiwgXCIwLjJlbSAwIDAgLTFlbVwiKTtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShidXR0b24sIFwibWFyZ2luLWlubGluZS1zdGFydFwiLCBcIi0xZW1cIik7XG4gICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoYnV0dG9uLCBcIm1hcmdpbi1pbmxpbmUtZW5kXCIsIFwiMFwiKTtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShidXR0b24sIFwiZGlzcGxheVwiLCBcImlubGluZS1ibG9ja1wiKTtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShidXR0b24sIFwid2lkdGhcIiwgXCIxZW1cIik7XG4gICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoYnV0dG9uLCBcInRleHQtYWxpZ25cIiwgXCJjZW50ZXJcIik7XG4gICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoYnV0dG9uLCBcInZlcnRpY2FsLWFsaWduXCIsIFwidG9wXCIpO1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGJ1dHRvbiwgXCJjdXJzb3JcIiwgXCJkZWZhdWx0XCIpO1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGJ1dHRvbiwgXCJmb250LWZhbWlseVwiLCBcIk1lbmxvLHNhbnMtc2VyaWZcIik7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcIm92ZXJmbG93XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtYWRhcHQtY2xhc3NcIiwgXCJ0b2Mtbm9kZVwiKTtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwidHJlZWl0ZW1cIik7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGFkYXB0UGFyZW50Q2xhc3MgPT0gXCJ0b2Mtbm9kZVwiIHx8XG4gICAgICAgICAgYWRhcHRQYXJlbnRDbGFzcyA9PSBcInRvYy1jb250YWluZXJcIlxuICAgICAgICApIHtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwiaGVpZ2h0XCIsIFwiMHB4XCIpO1xuXG4gICAgICAgICAgLy8gUHJldmVudCB0YWIgbW92ZSB0byBoaWRkZW4gYW5jaG9yLlxuICAgICAgICAgIGNvbnN0IGFuY2hvckVsZW0gPSBzcmNFbGVtLmZpcnN0RWxlbWVudENoaWxkO1xuICAgICAgICAgIGlmIChhbmNob3JFbGVtICYmIGFuY2hvckVsZW0ubG9jYWxOYW1lID09PSBcImFcIikge1xuICAgICAgICAgICAgKGFuY2hvckVsZW0gYXMgSFRNTEVsZW1lbnQpLnRhYkluZGV4ID0gLTE7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZpZXdQYXJlbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInRyZWVcIik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChhZGFwdFBhcmVudENsYXNzID09IFwidG9jLW5vZGVcIikge1xuICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1hZGFwdC1jbGFzc1wiLCBcInRvYy1jb250YWluZXJcIik7XG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwiZ3JvdXBcIik7XG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChlbGVtZW50IGFzIEVsZW1lbnQpO1xuICAgIH07XG4gIH1cblxuICBzaG93VE9DKFxuICAgIGVsZW06IEhUTUxFbGVtZW50LFxuICAgIHZpZXdwb3J0OiBWZ2VuLlZpZXdwb3J0LFxuICAgIHdpZHRoOiBudW1iZXIsXG4gICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgZm9udFNpemU6IG51bWJlcixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuUGFnZT4ge1xuICAgIGlmICh0aGlzLnBhZ2UpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0aGlzLnBhZ2UgYXMgVnRyZWUuUGFnZSk7XG4gICAgfVxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLlBhZ2U+ID0gVGFzay5uZXdGcmFtZShcInNob3dUT0NcIik7XG4gICAgY29uc3QgcGFnZSA9IG5ldyBWdHJlZS5QYWdlKGVsZW0sIGVsZW0pO1xuICAgIHRoaXMucGFnZSA9IHBhZ2U7XG5cbiAgICAvLyBUaGUgKFgpSFRNTCBkb2MgZm9yIHRoZSBUT0MgYm94IG1heSBiZSByZXVzZWQgZm9yIHRoZSBUT0MgcGFnZSBpbiB0aGUgYm9vayxcbiAgICAvLyBidXQgdGhleSBuZWVkIGRpZmZlcmVudCBzdHlsZXMuIFNvLCBhZGQgXCI/dml2LXRvYy1ib3hcIiB0byBkaXN0aW5ndWlzaCB3aXRoIFRPQyBwYWdlIFVSTC5cbiAgICBjb25zdCB0b2NCb3hVcmwgPSB0aGlzLnVybCArIFwiP3Zpdi10b2MtYm94XCI7XG5cbiAgICB0aGlzLnN0b3JlLmxvYWQodG9jQm94VXJsKS50aGVuKCh4bWxkb2MpID0+IHtcbiAgICAgIC8vIE1hcmsgaWYgdGhpcyBkb2MgaXMgdGhlIHByaW1hcnkgZW50cnkgcGFnZS5cbiAgICAgIGNvbnN0IG5vblRvY0JveERvYyA9IHRoaXMuc3RvcmUucmVzb3VyY2VzW3RoaXMudXJsXTtcbiAgICAgIGlmIChcbiAgICAgICAgbm9uVG9jQm94RG9jICYmXG4gICAgICAgIG5vblRvY0JveERvYy5ib2R5ICYmXG4gICAgICAgIG5vblRvY0JveERvYy5ib2R5LmdldEF0dHJpYnV0ZShcImRhdGEtdml2bGlvc3R5bGUtcHJpbWFyeS1lbnRyeVwiKVxuICAgICAgKSB7XG4gICAgICAgIHhtbGRvYy5ib2R5LnNldEF0dHJpYnV0ZShcImRhdGEtdml2bGlvc3R5bGUtcHJpbWFyeS1lbnRyeVwiLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3R5bGUgPSBzZWxmLnN0b3JlLmdldFN0eWxlRm9yRG9jKHhtbGRvYyk7XG4gICAgICBjb25zdCB2aWV3cG9ydFNpemUgPSBzdHlsZS5zaXplVmlld3BvcnQod2lkdGgsIDEwMDAwMCwgZm9udFNpemUpO1xuICAgICAgdmlld3BvcnQgPSBuZXcgVmdlbi5WaWV3cG9ydChcbiAgICAgICAgdmlld3BvcnQud2luZG93LFxuICAgICAgICB2aWV3cG9ydFNpemUuZm9udFNpemUsXG4gICAgICAgIHZpZXdwb3J0LnJvb3QsXG4gICAgICAgIHZpZXdwb3J0U2l6ZS53aWR0aCxcbiAgICAgICAgdmlld3BvcnRTaXplLmhlaWdodCxcbiAgICAgICk7XG4gICAgICBjb25zdCBjdXN0b21SZW5kZXJlciA9IHNlbGYubWFrZUN1c3RvbVJlbmRlcmVyKHhtbGRvYyk7XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBPUFMuU3R5bGVJbnN0YW5jZShcbiAgICAgICAgc3R5bGUsXG4gICAgICAgIHhtbGRvYyxcbiAgICAgICAgc2VsZi5sYW5nLFxuICAgICAgICB2aWV3cG9ydCxcbiAgICAgICAgc2VsZi5jbGllbnRMYXlvdXQsXG4gICAgICAgIHNlbGYuZm9udE1hcHBlcixcbiAgICAgICAgY3VzdG9tUmVuZGVyZXIsXG4gICAgICAgIHNlbGYuZmFsbGJhY2tNYXAsXG4gICAgICAgIDAsXG4gICAgICAgIHNlbGYuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcixcbiAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUsXG4gICAgICApO1xuICAgICAgc2VsZi5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgaW5zdGFuY2UucHJlZiA9IHNlbGYucHJlZjtcbiAgICAgIGluc3RhbmNlLmluaXQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgaW5zdGFuY2UubGF5b3V0TmV4dFBhZ2UocGFnZSwgbnVsbCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgQXJyYXkuZnJvbShcbiAgICAgICAgICAgIHBhZ2UuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAgICAgICAgIFwiW2RhdGEtdml2bGlvc3R5bGUtdG9jLWJveF0+Kj4qPio+Kj4qW3N0eWxlKj0nZGlzcGxheTogbm9uZSddXCIsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICkuZm9yRWFjaCgoYm9keUNoaWxkRWxlbSkgPT4ge1xuICAgICAgICAgICAgYm9keUNoaWxkRWxlbS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gICAgICAgICAgICBib2R5Q2hpbGRFbGVtLnNldEF0dHJpYnV0ZShcImhpZGRlblwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZWxmLnNldEF1dG9IZWlnaHQoZWxlbSwgMik7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKHBhZ2UpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGhpZGVUT0MoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucGFnZSkge1xuICAgICAgdGhpcy5wYWdlLmNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgIHRoaXMucGFnZS5jb250YWluZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xuICAgIH1cbiAgfVxuXG4gIGlzVE9DVmlzaWJsZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLnBhZ2UgJiYgdGhpcy5wYWdlLmNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID09PSBcInZpc2libGVcIjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlTm9kZUV4cGFuc2lvbihldnQ6IEV2ZW50KTogdm9pZCB7XG4gIGNvbnN0IGVsZW0gPSBldnQudGFyZ2V0IGFzIEVsZW1lbnQ7XG4gIGNvbnN0IG9wZW4gPSBlbGVtLnRleHRDb250ZW50ID09IGJ1bGxldENsb3NlZDtcbiAgZWxlbS50ZXh0Q29udGVudCA9IG9wZW4gPyBidWxsZXRPcGVuIDogYnVsbGV0Q2xvc2VkO1xuICBjb25zdCB0b2NOb2RlRWxlbSA9IGVsZW0ucGFyZW50Tm9kZSBhcyBFbGVtZW50O1xuICBlbGVtLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgb3BlbiA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiKTtcbiAgdG9jTm9kZUVsZW0uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBvcGVuID8gXCJ0cnVlXCIgOiBcImZhbHNlXCIpO1xuICBsZXQgYzogTm9kZSA9IHRvY05vZGVFbGVtLmZpcnN0Q2hpbGQ7XG4gIHdoaWxlIChjKSB7XG4gICAgaWYgKGMubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgIGNvbnN0IGNlID0gYyBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGNvbnN0IGFkYXB0Q2xhc3MgPSBjZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWFkYXB0LWNsYXNzXCIpO1xuICAgICAgaWYgKGFkYXB0Q2xhc3MgPT09IFwidG9jLWNvbnRhaW5lclwiKSB7XG4gICAgICAgIGNlLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsICFvcGVuID8gXCJ0cnVlXCIgOiBcImZhbHNlXCIpO1xuICAgICAgICBpZiAoY2UuZmlyc3RDaGlsZCkge1xuICAgICAgICAgIGMgPSBjZS5maXJzdENoaWxkO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFkYXB0Q2xhc3MgPT09IFwidG9jLW5vZGVcIikge1xuICAgICAgICBjZS5zdHlsZS5oZWlnaHQgPSBvcGVuID8gXCJhdXRvXCIgOiBcIjBweFwiO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBlbmFibGUvZGlzYWJsZSB0YWIgbW92ZSB0byB0aGUgYnV0dG9uIGFuZCBhbmNob3IuXG4gICAgICAgIGlmIChjZS5jaGlsZHJlbi5sZW5ndGggPj0gMikge1xuICAgICAgICAgIChjZS5jaGlsZHJlblsxXSBhcyBIVE1MRWxlbWVudCkudGFiSW5kZXggPSBvcGVuID8gMCA6IC0xO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjZS5jaGlsZHJlbi5sZW5ndGggPj0gMykge1xuICAgICAgICAgIChjZS5jaGlsZHJlblswXSBhcyBIVE1MRWxlbWVudCkudGFiSW5kZXggPSBvcGVuID8gMCA6IC0xO1xuICAgICAgICAgIGlmICghb3Blbikge1xuICAgICAgICAgICAgY29uc3QgZWxlbTEgPSBjZS5jaGlsZHJlblswXTtcbiAgICAgICAgICAgIGlmIChlbGVtMS50ZXh0Q29udGVudCA9PSBidWxsZXRPcGVuKSB7XG4gICAgICAgICAgICAgIGVsZW0xLnRleHRDb250ZW50ID0gYnVsbGV0Q2xvc2VkO1xuICAgICAgICAgICAgICBlbGVtMS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIFwiZmFsc2VcIik7XG4gICAgICAgICAgICAgIGNlLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgICAgICAgYyA9IGNlLmNoaWxkcmVuWzJdO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgd2hpbGUgKCFjLm5leHRTaWJsaW5nICYmIGMucGFyZW50Tm9kZSAhPT0gdG9jTm9kZUVsZW0pIHtcbiAgICAgIGMgPSBjLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIGMgPSBjLm5leHRTaWJsaW5nO1xuICB9XG4gIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE4IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgRXB1YiAtIERlYWwgd2l0aCBNRVRBLUlORi8gYW5kIC5vcGYgZmlsZXMgaW4gRVBVQiBjb250YWluZXIuXG4gKi9cbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDRkkgZnJvbSBcIi4vY2ZpXCI7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgKiBhcyBDb3VudGVycyBmcm9tIFwiLi9jb3VudGVyc1wiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgQ3NzQ2FzY2FkZSBmcm9tIFwiLi9jc3MtY2FzY2FkZVwiO1xuaW1wb3J0ICogYXMgQ3NzUGFyc2VyIGZyb20gXCIuL2Nzcy1wYXJzZXJcIjtcbmltcG9ydCAqIGFzIENzc1Rva2VuaXplciBmcm9tIFwiLi9jc3MtdG9rZW5pemVyXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgRm9udCBmcm9tIFwiLi9mb250XCI7XG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuL2xvZ2dpbmdcIjtcbmltcG9ydCAqIGFzIE5ldCBmcm9tIFwiLi9uZXRcIjtcbmltcG9ydCAqIGFzIE9QUyBmcm9tIFwiLi9vcHNcIjtcbmltcG9ydCAqIGFzIFNIQTEgZnJvbSBcIi4vc2hhMVwiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgKiBhcyBUb2MgZnJvbSBcIi4vdG9jXCI7XG5pbXBvcnQgKiBhcyBWZ2VuIGZyb20gXCIuL3ZnZW5cIjtcbmltcG9ydCAqIGFzIFZ0cmVlIGZyb20gXCIuL3Z0cmVlXCI7XG5pbXBvcnQgKiBhcyBYbWxEb2MgZnJvbSBcIi4veG1sLWRvY1wiO1xuXG5leHBvcnQgdHlwZSBQb3NpdGlvbiA9IHtcbiAgc3BpbmVJbmRleDogbnVtYmVyO1xuICBwYWdlSW5kZXg6IG51bWJlcjtcbiAgb2Zmc2V0SW5JdGVtOiBudW1iZXI7XG59O1xuXG5leHBvcnQgY2xhc3MgRVBVQkRvY1N0b3JlIGV4dGVuZHMgT1BTLk9QU0RvY1N0b3JlIHtcbiAgcGxhaW5YTUxTdG9yZTogWG1sRG9jLlhNTERvY1N0b3JlO1xuICBqc29uU3RvcmU6IE5ldC5KU09OU3RvcmU7XG4gIG9wZkJ5VVJMOiB7IFtrZXk6IHN0cmluZ106IE9QRkRvYyB9ID0ge307XG4gIHByaW1hcnlPUEZCeUVQdWJVUkw6IHsgW2tleTogc3RyaW5nXTogT1BGRG9jIH0gPSB7fTtcbiAgZGVvYmZ1c2NhdG9yczogeyBba2V5OiBzdHJpbmddOiAocDE6IEJsb2IpID0+IFRhc2suUmVzdWx0PEJsb2I+IH0gPSB7fTtcbiAgZG9jdW1lbnRzOiB7IFtrZXk6IHN0cmluZ106IFRhc2suUmVzdWx0PFhtbERvYy5YTUxEb2NIb2xkZXI+IH0gPSB7fTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihudWxsKTtcbiAgICB0aGlzLmZvbnREZW9iZnVzY2F0b3IgPSB0aGlzLm1ha2VEZW9iZnVzY2F0b3JGYWN0b3J5KCk7XG4gICAgdGhpcy5wbGFpblhNTFN0b3JlID0gWG1sRG9jLm5ld1hNTERvY1N0b3JlKCk7XG4gICAgdGhpcy5qc29uU3RvcmUgPSBOZXQubmV3SlNPTlN0b3JlKCk7XG4gIH1cblxuICBtYWtlRGVvYmZ1c2NhdG9yRmFjdG9yeSgpOlxuICAgIHwgKChwMTogc3RyaW5nKSA9PiAoKHAxOiBCbG9iKSA9PiBUYXNrLlJlc3VsdDxCbG9iPikgfCBudWxsKVxuICAgIHwgbnVsbCB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuICh1cmw6IHN0cmluZyk6ICgocDE6IEJsb2IpID0+IFRhc2suUmVzdWx0PEJsb2I+KSB8IG51bGwgPT4ge1xuICAgICAgcmV0dXJuIHNlbGYuZGVvYmZ1c2NhdG9yc1t1cmxdO1xuICAgIH07XG4gIH1cblxuICBsb2FkQXNQbGFpblhNTChcbiAgICB1cmw6IHN0cmluZyxcbiAgICBvcHRfcmVxdWlyZWQ/OiBib29sZWFuLFxuICAgIG9wdF9tZXNzYWdlPzogc3RyaW5nLFxuICApOiBUYXNrLlJlc3VsdDxYbWxEb2MuWE1MRG9jSG9sZGVyPiB7XG4gICAgcmV0dXJuIHRoaXMucGxhaW5YTUxTdG9yZS5sb2FkKFxuICAgICAgdXJsLFxuICAgICAgb3B0X3JlcXVpcmVkLFxuICAgICAgb3B0X21lc3NhZ2UsXG4gICAgKSBhcyBUYXNrLlJlc3VsdDxYbWxEb2MuWE1MRG9jSG9sZGVyPjtcbiAgfVxuXG4gIHN0YXJ0TG9hZGluZ0FzUGxhaW5YTUwodXJsOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnBsYWluWE1MU3RvcmUuZmV0Y2godXJsKTtcbiAgfVxuXG4gIGxvYWRBc0pTT04oXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgb3B0X3JlcXVpcmVkPzogYm9vbGVhbixcbiAgICBvcHRfbWVzc2FnZT86IHN0cmluZyxcbiAgKTogVGFzay5SZXN1bHQ8QmFzZS5KU09OPiB7XG4gICAgcmV0dXJuIHRoaXMuanNvblN0b3JlLmxvYWQodXJsLCBvcHRfcmVxdWlyZWQsIG9wdF9tZXNzYWdlKTtcbiAgfVxuXG4gIHN0YXJ0TG9hZGluZ0FzSlNPTih1cmw6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuanNvblN0b3JlLmZldGNoKHVybCk7XG4gIH1cblxuICBsb2FkUHViRG9jKHVybDogc3RyaW5nLCBoYXZlWmlwTWV0YWRhdGE6IGJvb2xlYW4pOiBUYXNrLlJlc3VsdDxPUEZEb2M+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxPUEZEb2M+ID0gVGFzay5uZXdGcmFtZShcImxvYWRQdWJEb2NcIik7XG5cbiAgICBOZXQuYWpheCh1cmwsIG51bGwsIFwiSEVBRFwiKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSA0MDApIHtcbiAgICAgICAgLy8gVGhpcyB1cmwgY2FuIGJlIHRoZSByb290IG9mIGFuIHVuemlwcGVkIEVQVUIuXG4gICAgICAgIHRoaXMubG9hZEVQVUJEb2ModXJsLCBoYXZlWmlwTWV0YWRhdGEpLnRoZW4oKG9wZikgPT4ge1xuICAgICAgICAgIGlmIChvcGYpIHtcbiAgICAgICAgICAgIGZyYW1lLmZpbmlzaChvcGYpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBMb2dnaW5nLmxvZ2dlci5lcnJvcihcbiAgICAgICAgICAgIGBGYWlsZWQgdG8gZmV0Y2ggYSBzb3VyY2UgZG9jdW1lbnQgZnJvbSAke3VybH0gKCR7cmVzcG9uc2Uuc3RhdHVzfSR7XG4gICAgICAgICAgICAgIHJlc3BvbnNlLnN0YXR1c1RleHQgPyBcIiBcIiArIHJlc3BvbnNlLnN0YXR1c1RleHQgOiBcIlwiXG4gICAgICAgICAgICB9KWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFyZXNwb25zZS5zdGF0dXMgJiZcbiAgICAgICAgICAhcmVzcG9uc2UucmVzcG9uc2VYTUwgJiZcbiAgICAgICAgICAhcmVzcG9uc2UucmVzcG9uc2VUZXh0ICYmXG4gICAgICAgICAgIXJlc3BvbnNlLnJlc3BvbnNlQmxvYiAmJlxuICAgICAgICAgICFyZXNwb25zZS5jb250ZW50VHlwZVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBFbXB0eSByZXNwb25zZVxuICAgICAgICAgIGlmICgvXFwvW14vLl0rKD86WyM/XXwkKS8udGVzdCh1cmwpKSB7XG4gICAgICAgICAgICAvLyBBZGRpbmcgdHJhaWxpbmcgXCIvXCIgbWF5IHNvbHZlIHRoZSBwcm9ibGVtLlxuICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoLyhbIz9dfCQpLywgXCIvJDFcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBlbXB0eSByZXNwb25zZSBvZiBIRUFEIHJlcXVlc3QsIGl0IG1heSBiZWNvbWUgT0sgd2l0aCBHRVQgcmVxdWVzdC5cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHJlc3BvbnNlLmNvbnRlbnRUeXBlID09IFwiYXBwbGljYXRpb24vb2VicHMtcGFja2FnZSt4bWxcIiB8fFxuICAgICAgICAgIC9cXC5vcGYoPzpbIz9dfCQpLy50ZXN0KHVybClcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gRVBVQiBPUEZcbiAgICAgICAgICBjb25zdCBbLCBwdWJVUkwsIHJvb3RdID0gdXJsLm1hdGNoKC9eKCg/Oi4qXFwvKT8pKFteL10qKSQvKTtcbiAgICAgICAgICB0aGlzLmxvYWRPUEYocHViVVJMLCByb290LCBoYXZlWmlwTWV0YWRhdGEpLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIHJlc3BvbnNlLmNvbnRlbnRUeXBlID09IFwiYXBwbGljYXRpb24vbGQranNvblwiIHx8XG4gICAgICAgICAgcmVzcG9uc2UuY29udGVudFR5cGUgPT0gXCJhcHBsaWNhdGlvbi93ZWJwdWIranNvblwiIHx8XG4gICAgICAgICAgcmVzcG9uc2UuY29udGVudFR5cGUgPT0gXCJhcHBsaWNhdGlvbi9hdWRpb2Jvb2sranNvblwiIHx8XG4gICAgICAgICAgcmVzcG9uc2UuY29udGVudFR5cGUgPT0gXCJhcHBsaWNhdGlvbi9qc29uXCIgfHxcbiAgICAgICAgICAvXFwuanNvbig/OmxkKT8oPzpbIz9dfCQpLy50ZXN0KHVybClcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gV2ViIFB1YmxpY2F0aW9uIE1hbmlmZXN0XG4gICAgICAgICAgdGhpcy5sb2FkQXNKU09OKHVybCwgdHJ1ZSkudGhlbigobWFuaWZlc3RPYmopID0+IHtcbiAgICAgICAgICAgIGlmICghbWFuaWZlc3RPYmopIHtcbiAgICAgICAgICAgICAgTG9nZ2luZy5sb2dnZXIuZXJyb3IoXG4gICAgICAgICAgICAgICAgYFJlY2VpdmVkIGFuIGVtcHR5IHJlc3BvbnNlIGZvciAke3VybH0uIFRoaXMgbWF5IGJlIGNhdXNlZCBieSB0aGUgc2VydmVyIG5vdCBhbGxvd2luZyBjcm9zcy1vcmlnaW4gcmVzb3VyY2Ugc2hhcmluZyAoQ09SUykuYCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvcGYgPSBuZXcgT1BGRG9jKHRoaXMsIHVybCk7XG4gICAgICAgICAgICBvcGYuaW5pdFdpdGhXZWJQdWJNYW5pZmVzdChtYW5pZmVzdE9iaikudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChvcGYpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gV2ViIFB1YmxpY2F0aW9uIHByaW1hcnkgZW50cnkgKFgpSFRNTFxuICAgICAgICAgIHRoaXMubG9hZFdlYlB1Yih1cmwpLnRoZW4oKG9wZikgPT4ge1xuICAgICAgICAgICAgaWYgKG9wZikge1xuICAgICAgICAgICAgICBmcmFtZS5maW5pc2gob3BmKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhpcyB1cmwgY2FuIGJlIHRoZSByb290IG9mIGFuIHVuemlwcGVkIEVQVUIuXG4gICAgICAgICAgICB0aGlzLmxvYWRFUFVCRG9jKHVybCwgaGF2ZVppcE1ldGFkYXRhKS50aGVuKChvcGYpID0+IHtcbiAgICAgICAgICAgICAgaWYgKG9wZikge1xuICAgICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChvcGYpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBMb2dnaW5nLmxvZ2dlci5lcnJvcihgRmFpbGVkIHRvIGxvYWQgJHt1cmx9LmApO1xuICAgICAgICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGxvYWRFUFVCRG9jKHVybDogc3RyaW5nLCBoYXZlWmlwTWV0YWRhdGE6IGJvb2xlYW4pOiBUYXNrLlJlc3VsdDxPUEZEb2M+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxPUEZEb2M+ID0gVGFzay5uZXdGcmFtZShcImxvYWRFUFVCRG9jXCIpO1xuICAgIGlmICghdXJsLmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgdXJsID0gdXJsICsgXCIvXCI7XG4gICAgfVxuICAgIGlmIChoYXZlWmlwTWV0YWRhdGEpIHtcbiAgICAgIHRoaXMuc3RhcnRMb2FkaW5nQXNKU09OKHVybCArIFwiP3I9bGlzdFwiKTtcbiAgICB9XG4gICAgdGhpcy5zdGFydExvYWRpbmdBc1BsYWluWE1MKHVybCArIFwiTUVUQS1JTkYvZW5jcnlwdGlvbi54bWxcIik7XG4gICAgY29uc3QgY29udGFpbmVyVVJMID0gdXJsICsgXCJNRVRBLUlORi9jb250YWluZXIueG1sXCI7XG4gICAgdGhpcy5sb2FkQXNQbGFpblhNTChjb250YWluZXJVUkwpLnRoZW4oKGNvbnRhaW5lclhNTCkgPT4ge1xuICAgICAgaWYgKGNvbnRhaW5lclhNTCkge1xuICAgICAgICBjb25zdCByb290cyA9IGNvbnRhaW5lclhNTFxuICAgICAgICAgIC5kb2MoKVxuICAgICAgICAgIC5jaGlsZChcImNvbnRhaW5lclwiKVxuICAgICAgICAgIC5jaGlsZChcInJvb3RmaWxlc1wiKVxuICAgICAgICAgIC5jaGlsZChcInJvb3RmaWxlXCIpXG4gICAgICAgICAgLmF0dHJpYnV0ZShcImZ1bGwtcGF0aFwiKTtcbiAgICAgICAgZm9yIChjb25zdCByb290IG9mIHJvb3RzKSB7XG4gICAgICAgICAgaWYgKHJvb3QpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZE9QRih1cmwsIHJvb3QsIGhhdmVaaXBNZXRhZGF0YSkudGhlbkZpbmlzaChmcmFtZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBsb2FkT1BGKFxuICAgIHB1YlVSTDogc3RyaW5nLFxuICAgIHJvb3Q6IHN0cmluZyxcbiAgICBoYXZlWmlwTWV0YWRhdGE6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PE9QRkRvYz4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IHVybCA9IHB1YlVSTCArIHJvb3Q7XG4gICAgbGV0IG9wZiA9IHNlbGYub3BmQnlVUkxbdXJsXTtcbiAgICBpZiAob3BmKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQob3BmKTtcbiAgICB9XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8T1BGRG9jPiA9IFRhc2submV3RnJhbWUoXCJsb2FkT1BGXCIpO1xuICAgIHNlbGZcbiAgICAgIC5sb2FkQXNQbGFpblhNTCh1cmwsIHRydWUsIGBGYWlsZWQgdG8gZmV0Y2ggRVBVQiBPUEYgJHt1cmx9YClcbiAgICAgIC50aGVuKChvcGZYTUwpID0+IHtcbiAgICAgICAgaWYgKCFvcGZYTUwpIHtcbiAgICAgICAgICBMb2dnaW5nLmxvZ2dlci5lcnJvcihcbiAgICAgICAgICAgIGBSZWNlaXZlZCBhbiBlbXB0eSByZXNwb25zZSBmb3IgRVBVQiBPUEYgJHt1cmx9LiBUaGlzIG1heSBiZSBjYXVzZWQgYnkgdGhlIHNlcnZlciBub3QgYWxsb3dpbmcgY3Jvc3Mtb3JpZ2luIHJlc291cmNlIHNoYXJpbmcgKENPUlMpLmAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmXG4gICAgICAgICAgICAubG9hZEFzUGxhaW5YTUwoYCR7cHViVVJMfU1FVEEtSU5GL2VuY3J5cHRpb24ueG1sYClcbiAgICAgICAgICAgIC50aGVuKChlbmNYTUwpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgemlwTWV0YWRhdGFSZXN1bHQgPSBoYXZlWmlwTWV0YWRhdGFcbiAgICAgICAgICAgICAgICA/IHNlbGYubG9hZEFzSlNPTihgJHtwdWJVUkx9P3I9bGlzdGApXG4gICAgICAgICAgICAgICAgOiBUYXNrLm5ld1Jlc3VsdChudWxsKTtcbiAgICAgICAgICAgICAgemlwTWV0YWRhdGFSZXN1bHQudGhlbigoemlwTWV0YWRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBvcGYgPSBuZXcgT1BGRG9jKHNlbGYsIHB1YlVSTCk7XG4gICAgICAgICAgICAgICAgb3BmXG4gICAgICAgICAgICAgICAgICAuaW5pdFdpdGhYTUxEb2MoXG4gICAgICAgICAgICAgICAgICAgIG9wZlhNTCxcbiAgICAgICAgICAgICAgICAgICAgZW5jWE1MLFxuICAgICAgICAgICAgICAgICAgICB6aXBNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgYCR7cHViVVJMfT9yPW1hbmlmZXN0YCxcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5vcGZCeVVSTFt1cmxdID0gb3BmO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnByaW1hcnlPUEZCeUVQdWJVUkxbcHViVVJMXSA9IG9wZjtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKG9wZik7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgbG9hZFdlYlB1Yih1cmw6IHN0cmluZyk6IFRhc2suUmVzdWx0PE9QRkRvYz4ge1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPE9QRkRvYz4gPSBUYXNrLm5ld0ZyYW1lKFwibG9hZFdlYlB1YlwiKTtcblxuICAgIC8vIExvYWQgdGhlIHByaW1hcnkgZW50cnkgcGFnZSAoWClIVE1MXG4gICAgdGhpcy5sb2FkKHVybCkudGhlbigoeG1sZG9jKSA9PiB7XG4gICAgICBpZiAoIXhtbGRvYykge1xuICAgICAgICBMb2dnaW5nLmxvZ2dlci5lcnJvcihcbiAgICAgICAgICBgUmVjZWl2ZWQgYW4gZW1wdHkgcmVzcG9uc2UgZm9yICR7dXJsfS4gVGhpcyBtYXkgYmUgY2F1c2VkIGJ5IHRoZSBzZXJ2ZXIgbm90IGFsbG93aW5nIGNyb3NzLW9yaWdpbiByZXNvdXJjZSBzaGFyaW5nIChDT1JTKS5gLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgeG1sZG9jLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgXCJhW2hyZWY9J01FVEEtSU5GLyddLGFbaHJlZiQ9Jy9NRVRBLUlORi8nXVwiLFxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgLy8gVGhpcyBpcyBsaWtlbHkgdGhlIGRpcmVjdG9yeSBsaXN0aW5nIG9mIHVuemlwcGVkIEVQVUIgdG9wIGRpcmVjdG9yeVxuICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBkb2MgPSB4bWxkb2MuZG9jdW1lbnQ7XG4gICAgICAgIGNvbnN0IG9wZiA9IG5ldyBPUEZEb2ModGhpcywgdXJsKTtcblxuICAgICAgICBpZiAoZG9jLmJvZHkpIHtcbiAgICAgICAgICBkb2MuYm9keS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZpdmxpb3N0eWxlLXByaW1hcnktZW50cnlcIiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmluZCBtYW5pZmVzdCwgVzNDIFdlYlB1YmxpY2F0aW9uIG9yIFJlYWRpdW0gV2ViIFB1YmxpY2F0aW9uIE1hbmlmZXN0XG4gICAgICAgIGNvbnN0IG1hbmlmZXN0TGluayA9IGRvYy5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgIFwibGlua1tyZWw9J3B1YmxpY2F0aW9uJ10sbGlua1tyZWw9J21hbmlmZXN0J11bdHlwZT0nYXBwbGljYXRpb24vd2VicHViK2pzb24nXVwiLFxuICAgICAgICApO1xuICAgICAgICBpZiAobWFuaWZlc3RMaW5rKSB7XG4gICAgICAgICAgY29uc3QgaHJlZiA9IG1hbmlmZXN0TGluay5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgICAgIGlmICgvXiMvLnRlc3QoaHJlZikpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hbmlmZXN0T2JqID0gQmFzZS5zdHJpbmdUb0pTT04oXG4gICAgICAgICAgICAgIGRvYy5nZXRFbGVtZW50QnlJZChocmVmLnN1YnN0cigxKSkudGV4dENvbnRlbnQsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgb3BmLmluaXRXaXRoV2ViUHViTWFuaWZlc3QobWFuaWZlc3RPYmosIGRvYykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChvcGYpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9hZEFzSlNPTihcbiAgICAgICAgICAgICAgQmFzZS5yZXNvbHZlVVJMKG1hbmlmZXN0TGluay5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLCB1cmwpLFxuICAgICAgICAgICAgKS50aGVuKChtYW5pZmVzdE9iaikgPT4ge1xuICAgICAgICAgICAgICBvcGYuaW5pdFdpdGhXZWJQdWJNYW5pZmVzdChtYW5pZmVzdE9iaiwgZG9jKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBmcmFtZS5maW5pc2gob3BmKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTm8gbWFuaWZlc3RcbiAgICAgICAgICBvcGYuaW5pdFdpdGhXZWJQdWJNYW5pZmVzdCh7fSwgZG9jKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChvcGYueGh0bWxUb2MgJiYgb3BmLnhodG1sVG9jLnNyYyA9PT0geG1sZG9jLnVybCkge1xuICAgICAgICAgICAgICAvLyB4aHRtbFRvYyBpcyB0aGUgcHJpbWFyaSBlbnRyeSAoWClIVE1MXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhZG9jLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgICBcIltyb2xlPWRvYy10b2NdLCBbcm9sZT1kaXJlY3RvcnldLCBuYXYsIC50b2MsICN0b2NcIixcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIFRPQyBpcyBub3QgZm91bmQgaW4gdGhlIHByaW1hcmkgZW50cnkgKFgpSFRNTFxuICAgICAgICAgICAgICAgIG9wZi54aHRtbFRvYyA9IG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyYW1lLmZpbmlzaChvcGYpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgYWRkRG9jdW1lbnQodXJsOiBzdHJpbmcsIGRvYzogRG9jdW1lbnQpIHtcbiAgICBjb25zdCBmcmFtZSA9IFRhc2submV3RnJhbWU8WG1sRG9jLlhNTERvY0hvbGRlcj4oXCJFUFVCRG9jU3RvcmUubG9hZFwiKTtcbiAgICBjb25zdCBkb2NVUkwgPSBCYXNlLnN0cmlwRnJhZ21lbnQodXJsKTtcbiAgICBjb25zdCByID0gKHRoaXMuZG9jdW1lbnRzW2RvY1VSTF0gPSB0aGlzLnBhcnNlT1BTUmVzb3VyY2Uoe1xuICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICBzdGF0dXNUZXh0OiBcIlwiLFxuICAgICAgdXJsOiBkb2NVUkwsXG4gICAgICBjb250ZW50VHlwZTogKGRvYyBhcyBhbnkpLmNvbnRlbnRUeXBlLFxuICAgICAgcmVzcG9uc2VUZXh0OiBudWxsLFxuICAgICAgcmVzcG9uc2VYTUw6IGRvYyxcbiAgICAgIHJlc3BvbnNlQmxvYjogbnVsbCxcbiAgICB9KSk7XG4gICAgci50aGVuRmluaXNoKGZyYW1lKTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBsb2FkKHVybDogc3RyaW5nKTogVGFzay5SZXN1bHQ8WG1sRG9jLlhNTERvY0hvbGRlcj4ge1xuICAgIGNvbnN0IGRvY1VSTCA9IEJhc2Uuc3RyaXBGcmFnbWVudCh1cmwpO1xuICAgIGxldCByID0gdGhpcy5kb2N1bWVudHNbZG9jVVJMXTtcbiAgICBpZiAocikge1xuICAgICAgcmV0dXJuIHIuaXNQZW5kaW5nKCkgPyByIDogVGFzay5uZXdSZXN1bHQoci5nZXQoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxYbWxEb2MuWE1MRG9jSG9sZGVyPihcIkVQVUJEb2NTdG9yZS5sb2FkXCIpO1xuICAgICAgciA9IHN1cGVyLmxvYWQoXG4gICAgICAgIGRvY1VSTCxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgYEZhaWxlZCB0byBmZXRjaCBhIHNvdXJjZSBkb2N1bWVudCBmcm9tICR7ZG9jVVJMfWAsXG4gICAgICApO1xuICAgICAgci50aGVuKCh4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIpID0+IHtcbiAgICAgICAgaWYgKCF4bWxkb2MpIHtcbiAgICAgICAgICBpZiAoZG9jVVJMLnN0YXJ0c1dpdGgoXCJkYXRhOlwiKSkge1xuICAgICAgICAgICAgTG9nZ2luZy5sb2dnZXIuZXJyb3IoYEZhaWxlZCB0byBsb2FkICR7ZG9jVVJMfS4gSW52YWxpZCBkYXRhLmApO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBkb2NVUkwuc3RhcnRzV2l0aChcImh0dHA6XCIpICYmXG4gICAgICAgICAgICBCYXNlLmJhc2VVUkwuc3RhcnRzV2l0aChcImh0dHBzOlwiKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgTG9nZ2luZy5sb2dnZXIuZXJyb3IoXG4gICAgICAgICAgICAgIGBGYWlsZWQgdG8gbG9hZCAke2RvY1VSTH0uIE1peGVkIENvbnRlbnQgKFwiaHR0cDpcIiBjb250ZW50IG9uIFwiaHR0cHM6XCIgY29udGV4dCkgaXMgbm90IGFsbG93ZWQuYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLmVycm9yKFxuICAgICAgICAgICAgICBgUmVjZWl2ZWQgYW4gZW1wdHkgcmVzcG9uc2UgZm9yICR7ZG9jVVJMfS4gVGhpcyBtYXkgYmUgY2F1c2VkIGJ5IHRoZSBzZXJ2ZXIgbm90IGFsbG93aW5nIGNyb3NzLW9yaWdpbiByZXNvdXJjZSBzaGFyaW5nIChDT1JTKS5gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKHhtbGRvYyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgdHlwZSBPUEZJdGVtUGFyYW0gPSB7XG4gIHVybDogc3RyaW5nO1xuICBpbmRleDogbnVtYmVyO1xuICBzdGFydFBhZ2U6IG51bWJlciB8IG51bGw7XG4gIHNraXBQYWdlc0JlZm9yZTogbnVtYmVyIHwgbnVsbDtcbn07XG5cbmV4cG9ydCBjbGFzcyBPUEZJdGVtIHtcbiAgaWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBzcmM6IHN0cmluZyA9IFwiXCI7XG4gIG1lZGlhVHlwZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHRpdGxlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgaXRlbVJlZkVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgc3BpbmVJbmRleDogbnVtYmVyID0gLTE7XG4gIGNvbXByZXNzZWRTaXplOiBudW1iZXIgPSAwO1xuICBjb21wcmVzc2VkOiBib29sZWFuIHwgbnVsbCA9IG51bGw7XG4gIGVwYWdlOiBudW1iZXIgPSAwO1xuICBlcGFnZUNvdW50OiBudW1iZXIgPSAwO1xuICBzdGFydFBhZ2U6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBza2lwUGFnZXNCZWZvcmU6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBpdGVtUHJvcGVydGllczogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH07XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pdGVtUHJvcGVydGllcyA9IEJhc2UuZW1wdHlPYmo7XG4gIH1cblxuICBpbml0V2l0aEVsZW1lbnQoaXRlbUVsZW06IEVsZW1lbnQsIG9wZlVSTDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5pZCA9IGl0ZW1FbGVtLmdldEF0dHJpYnV0ZShcImlkXCIpO1xuICAgIHRoaXMuc3JjID0gQmFzZS5yZXNvbHZlVVJMKGl0ZW1FbGVtLmdldEF0dHJpYnV0ZShcImhyZWZcIiksIG9wZlVSTCk7XG4gICAgdGhpcy5tZWRpYVR5cGUgPSBpdGVtRWxlbS5nZXRBdHRyaWJ1dGUoXCJtZWRpYS10eXBlXCIpO1xuICAgIGNvbnN0IHByb3BTdHIgPSBpdGVtRWxlbS5nZXRBdHRyaWJ1dGUoXCJwcm9wZXJ0aWVzXCIpO1xuICAgIGlmIChwcm9wU3RyKSB7XG4gICAgICB0aGlzLml0ZW1Qcm9wZXJ0aWVzID0gQmFzZS5hcnJheVRvU2V0KHByb3BTdHIuc3BsaXQoL1xccysvKSk7XG4gICAgfVxuICB9XG5cbiAgaW5pdFdpdGhQYXJhbShwYXJhbTogT1BGSXRlbVBhcmFtKSB7XG4gICAgdGhpcy5zcGluZUluZGV4ID0gcGFyYW0uaW5kZXg7XG4gICAgdGhpcy5pZCA9IGBpdGVtJHtwYXJhbS5pbmRleCArIDF9YDtcbiAgICB0aGlzLnNyYyA9IHBhcmFtLnVybDtcbiAgICB0aGlzLnN0YXJ0UGFnZSA9IHBhcmFtLnN0YXJ0UGFnZTtcbiAgICB0aGlzLnNraXBQYWdlc0JlZm9yZSA9IHBhcmFtLnNraXBQYWdlc0JlZm9yZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0T1BGSXRlbUlkKGl0ZW06IE9QRkl0ZW0pOiBzdHJpbmcgfCBudWxsIHtcbiAgcmV0dXJuIGl0ZW0uaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlRGVvYmZ1c2NhdG9yKHVpZDogc3RyaW5nKTogKHAxOiBCbG9iKSA9PiBUYXNrLlJlc3VsdDxCbG9iPiB7XG4gIC8vIFRPRE86IHVzZSBVVEY4IG9mIHVpZFxuICBjb25zdCBzaGExU3VtID0gU0hBMS5ieXRlc1RvU0hBMUludDgodWlkKTtcbiAgcmV0dXJuIChibG9iKSA9PiB7XG4gICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lKFwiZGVvYmZ1c2NhdG9yXCIpIGFzIFRhc2suRnJhbWU8QmxvYj47XG4gICAgbGV0IGhlYWQ6IEJsb2I7XG4gICAgbGV0IHRhaWw6IEJsb2I7XG4gICAgaWYgKGJsb2Iuc2xpY2UpIHtcbiAgICAgIGhlYWQgPSBibG9iLnNsaWNlKDAsIDEwNDApO1xuICAgICAgdGFpbCA9IGJsb2Iuc2xpY2UoMTA0MCwgYmxvYi5zaXplKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZCA9IGJsb2JbXCJ3ZWJraXRTbGljZVwiXSgwLCAxMDQwKTtcbiAgICAgIHRhaWwgPSBibG9iW1wid2Via2l0U2xpY2VcIl0oMTA0MCwgYmxvYi5zaXplIC0gMTA0MCk7XG4gICAgfVxuICAgIE5ldC5yZWFkQmxvYihoZWFkKS50aGVuKChidWYpID0+IHtcbiAgICAgIGNvbnN0IGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KGJ1Zik7XG4gICAgICBmb3IgKGxldCBrID0gMDsgayA8IGRhdGFWaWV3LmJ5dGVMZW5ndGg7IGsrKykge1xuICAgICAgICBsZXQgYiA9IGRhdGFWaWV3LmdldFVpbnQ4KGspO1xuICAgICAgICBiIF49IHNoYTFTdW1bayAlIDIwXTtcbiAgICAgICAgZGF0YVZpZXcuc2V0VWludDgoaywgYik7XG4gICAgICB9XG4gICAgICBmcmFtZS5maW5pc2goTmV0Lm1ha2VCbG9iKFtkYXRhVmlldywgdGFpbF0pKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlT2JmdXNjYXRpb25LZXkodWlkOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gYDEwNDA6JHtTSEExLmJ5dGVzVG9TSEExSGV4KHVpZCl9YDtcbn1cblxuZXhwb3J0IHR5cGUgUmF3TWV0YUl0ZW0gPSB7XG4gIG5hbWU6IHN0cmluZztcbiAgdmFsdWU6IHN0cmluZztcbiAgaWQ6IHN0cmluZyB8IG51bGw7XG4gIHJlZmluZXM6IHN0cmluZyB8IG51bGw7XG4gIHNjaGVtZTogc3RyaW5nIHwgbnVsbDtcbiAgbGFuZzogc3RyaW5nIHwgbnVsbDtcbiAgb3JkZXI6IG51bWJlcjtcbn07XG5cbmV4cG9ydCBjb25zdCBwcmVkZWZpbmVkUHJlZml4ZXMgPSB7XG4gIGRjdGVybXM6IFwiaHR0cDovL3B1cmwub3JnL2RjL3Rlcm1zL1wiLFxuICBtYXJjOiBcImh0dHA6Ly9pZC5sb2MuZ292L3ZvY2FidWxhcnkvXCIsXG4gIG1lZGlhOiBcImh0dHA6Ly93d3cuaWRwZi5vcmcvZXB1Yi92b2NhYi9vdmVybGF5cy8jXCIsXG4gIHJlbmRpdGlvbjogXCJodHRwOi8vd3d3LmlkcGYub3JnL3ZvY2FiL3JlbmRpdGlvbi8jXCIsXG4gIG9uaXg6IFwiaHR0cDovL3d3dy5lZGl0ZXVyLm9yZy9PTklYL2Jvb2svY29kZWxpc3RzL2N1cnJlbnQuaHRtbCNcIixcbiAgeHNkOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI1wiLFxufTtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRJUkkgPSBcImh0dHA6Ly9pZHBmLm9yZy9lcHViL3ZvY2FiL3BhY2thZ2UvI1wiO1xuXG5leHBvcnQgY29uc3QgbWV0YVRlcm1zID0ge1xuICBsYW5ndWFnZTogYCR7cHJlZGVmaW5lZFByZWZpeGVzW1wiZGN0ZXJtc1wiXX1sYW5ndWFnZWAsXG4gIHRpdGxlOiBgJHtwcmVkZWZpbmVkUHJlZml4ZXNbXCJkY3Rlcm1zXCJdfXRpdGxlYCxcbiAgY3JlYXRvcjogYCR7cHJlZGVmaW5lZFByZWZpeGVzW1wiZGN0ZXJtc1wiXX1jcmVhdG9yYCxcbiAgbGF5b3V0OiBgJHtwcmVkZWZpbmVkUHJlZml4ZXNbXCJyZW5kaXRpb25cIl19bGF5b3V0YCxcbiAgdGl0bGVUeXBlOiBgJHtkZWZhdWx0SVJJfXRpdGxlLXR5cGVgLFxuICBkaXNwbGF5U2VxOiBgJHtkZWZhdWx0SVJJfWRpc3BsYXktc2VxYCxcbiAgYWx0ZXJuYXRlU2NyaXB0OiBgJHtkZWZhdWx0SVJJfWFsdGVybmF0ZS1zY3JpcHRgLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1ldGFkYXRhQ29tcGFyYXRvcihcbiAgdGVybTogc3RyaW5nLFxuICBsYW5nOiBzdHJpbmcsXG4pOiAocDE6IEJhc2UuSlNPTiwgcDI6IEJhc2UuSlNPTikgPT4gbnVtYmVyIHtcbiAgY29uc3QgZW1wdHkgPSB7fTtcbiAgcmV0dXJuIChpdGVtMSwgaXRlbTIpID0+IHtcbiAgICBsZXQgbTE6IGJvb2xlYW47XG4gICAgbGV0IG0yOiBib29sZWFuO1xuICAgIGNvbnN0IHIxID0gaXRlbTFbXCJyXCJdIHx8IGVtcHR5O1xuICAgIGNvbnN0IHIyID0gaXRlbTJbXCJyXCJdIHx8IGVtcHR5O1xuICAgIGlmICh0ZXJtID09IG1ldGFUZXJtcy50aXRsZSkge1xuICAgICAgbTEgPSByMVttZXRhVGVybXMudGl0bGVUeXBlXSA9PSBcIm1haW5cIjtcbiAgICAgIG0yID0gcjJbbWV0YVRlcm1zLnRpdGxlVHlwZV0gPT0gXCJtYWluXCI7XG4gICAgICBpZiAobTEgIT0gbTIpIHtcbiAgICAgICAgcmV0dXJuIG0xID8gLTEgOiAxO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgaTEgPSBwYXJzZUludChyMVttZXRhVGVybXMuZGlzcGxheVNlcV0sIDEwKTtcbiAgICBpZiAoaXNOYU4oaTEpKSB7XG4gICAgICBpMSA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgfVxuICAgIGxldCBpMiA9IHBhcnNlSW50KHIyW21ldGFUZXJtcy5kaXNwbGF5U2VxXSwgMTApO1xuICAgIGlmIChpc05hTihpMikpIHtcbiAgICAgIGkyID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICB9XG4gICAgaWYgKGkxICE9IGkyKSB7XG4gICAgICByZXR1cm4gaTEgLSBpMjtcbiAgICB9XG4gICAgaWYgKHRlcm0gIT0gbWV0YVRlcm1zLmxhbmd1YWdlICYmIGxhbmcpIHtcbiAgICAgIG0xID0gKHIxW21ldGFUZXJtcy5sYW5ndWFnZV0gfHwgcjFbbWV0YVRlcm1zLmFsdGVybmF0ZVNjcmlwdF0pID09IGxhbmc7XG4gICAgICBtMiA9IChyMlttZXRhVGVybXMubGFuZ3VhZ2VdIHx8IHIyW21ldGFUZXJtcy5hbHRlcm5hdGVTY3JpcHRdKSA9PSBsYW5nO1xuICAgICAgaWYgKG0xICE9IG0yKSB7XG4gICAgICAgIHJldHVybiBtMSA/IC0xIDogMTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGl0ZW0xW1wib1wiXSAtIGl0ZW0yW1wib1wiXTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRNZXRhZGF0YShcbiAgbXJvb3Q6IFhtbERvYy5Ob2RlTGlzdCxcbiAgcHJlZml4ZXM6IHN0cmluZyB8IG51bGwsXG4pOiBCYXNlLkpTT04ge1xuICAvLyBQYXJzZSBwcmVmaXggbWFwIChpZiBhbnkpXG4gIGxldCBwcmVmaXhNYXA7XG4gIGlmICghcHJlZml4ZXMpIHtcbiAgICBwcmVmaXhNYXAgPSBwcmVkZWZpbmVkUHJlZml4ZXM7XG4gIH0gZWxzZSB7XG4gICAgcHJlZml4TWFwID0ge307XG4gICAgZm9yIChjb25zdCBwbiBpbiBwcmVkZWZpbmVkUHJlZml4ZXMpIHtcbiAgICAgIHByZWZpeE1hcFtwbl0gPSBwcmVkZWZpbmVkUHJlZml4ZXNbcG5dO1xuICAgIH1cbiAgICBsZXQgcjogUmVnRXhwTWF0Y2hBcnJheTtcblxuICAgIC8vIFRoaXMgY29kZSBwZXJtaXRzIGFueSBub24tQVNDSUkgY2hhcmFjdGVycyBpbiB0aGUgbmFtZSB0byBhdm9pZCBibG9hdGluZ1xuICAgIC8vIHRoZSBwYXR0ZXJuLlxuICAgIHdoaWxlIChcbiAgICAgIChyID0gcHJlZml4ZXMubWF0Y2goXG4gICAgICAgIC9eXFxzKihbQS1aX2EtelxcdTAwN0YtXFx1RkZGRl1bLS5BLVpfYS16MC05XFx1MDA3Ri1cXHVGRkZGXSopOlxccyooXFxTKykvLFxuICAgICAgKSkgIT0gbnVsbFxuICAgICkge1xuICAgICAgcHJlZml4ZXMgPSBwcmVmaXhlcy5zdWJzdHIoclswXS5sZW5ndGgpO1xuICAgICAgcHJlZml4TWFwW3JbMV1dID0gclsyXTtcbiAgICB9XG4gIH1cbiAgY29uc3QgcmVzb2x2ZVByb3BlcnR5ID0gKHZhbDogc3RyaW5nIHwgbnVsbCk6IHN0cmluZyB8IG51bGwgPT4ge1xuICAgIGlmICh2YWwpIHtcbiAgICAgIGNvbnN0IHIgPSB2YWwubWF0Y2goL15cXHMqKChbXjpdKik6KT8oXFxTKylcXHMqJC8pO1xuICAgICAgaWYgKHIpIHtcbiAgICAgICAgY29uc3QgaXJpID0gclsyXSA/IHByZWZpeE1hcFtyWzJdXSA6IGRlZmF1bHRJUkk7XG4gICAgICAgIGlmIChpcmkpIHtcbiAgICAgICAgICByZXR1cm4gaXJpICsgclszXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgbGV0IG9yZGVyID0gMTtcblxuICAvLyBMaXN0IG9mIG1ldGFkYXRhIGl0ZW1zLlxuICBjb25zdCByYXdJdGVtcyA9IG1yb290LmNoaWxkRWxlbWVudHMoKS5mb3JFYWNoTm9uTnVsbCgobm9kZTogRWxlbWVudCkgPT4ge1xuICAgIGlmIChub2RlLmxvY2FsTmFtZSA9PSBcIm1ldGFcIikge1xuICAgICAgY29uc3QgcCA9IHJlc29sdmVQcm9wZXJ0eSgobm9kZSBhcyBFbGVtZW50KS5nZXRBdHRyaWJ1dGUoXCJwcm9wZXJ0eVwiKSk7XG4gICAgICBpZiAocCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWU6IHAsXG4gICAgICAgICAgdmFsdWU6IG5vZGUudGV4dENvbnRlbnQsXG4gICAgICAgICAgaWQ6IChub2RlIGFzIEVsZW1lbnQpLmdldEF0dHJpYnV0ZShcImlkXCIpLFxuICAgICAgICAgIG9yZGVyOiBvcmRlcisrLFxuICAgICAgICAgIHJlZmluZXM6IChub2RlIGFzIEVsZW1lbnQpLmdldEF0dHJpYnV0ZShcInJlZmluZXNcIiksXG4gICAgICAgICAgbGFuZzogbnVsbCxcbiAgICAgICAgICBzY2hlbWU6IHJlc29sdmVQcm9wZXJ0eSgobm9kZSBhcyBFbGVtZW50KS5nZXRBdHRyaWJ1dGUoXCJzY2hlbWVcIikpLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobm9kZS5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5EQykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogcHJlZGVmaW5lZFByZWZpeGVzW1wiZGN0ZXJtc1wiXSArIG5vZGUubG9jYWxOYW1lLFxuICAgICAgICBvcmRlcjogb3JkZXIrKyxcbiAgICAgICAgbGFuZzogKG5vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKFwieG1sOmxhbmdcIiksXG4gICAgICAgIHZhbHVlOiBub2RlLnRleHRDb250ZW50LFxuICAgICAgICBpZDogKG5vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKFwiaWRcIiksXG4gICAgICAgIHJlZmluZXM6IG51bGwsXG4gICAgICAgIHNjaGVtZTogbnVsbCxcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9KTtcblxuICAvLyBJdGVtcyBncm91cGVkIGJ5IHRoZWlyIHRhcmdldCBpZC5cbiAgY29uc3QgcmF3SXRlbXNCeVRhcmdldCA9IEJhc2UubXVsdGlJbmRleEFycmF5KFxuICAgIHJhd0l0ZW1zLFxuICAgIChyYXdJdGVtKSA9PiByYXdJdGVtLnJlZmluZXMsXG4gICk7XG4gIGNvbnN0IG1ha2VNZXRhZGF0YSA9IChtYXA6IHtcbiAgICBba2V5OiBzdHJpbmddOiBhbnlbXTtcbiAgfSk6IHsgW2tleTogc3RyaW5nXTogYW55W10gfSA9PlxuICAgIEJhc2UubWFwT2JqKG1hcCwgKHJhd0l0ZW1BcnIsIGl0ZW1OYW1lKSA9PlxuICAgICAgcmF3SXRlbUFyci5tYXAoKHJhd0l0ZW0pID0+IHtcbiAgICAgICAgY29uc3QgZW50cnkgPSB7IHY6IHJhd0l0ZW0udmFsdWUsIG86IHJhd0l0ZW0ub3JkZXIgfTtcbiAgICAgICAgaWYgKHJhd0l0ZW0uc2NoZW1hKSB7XG4gICAgICAgICAgZW50cnlbXCJzXCJdID0gcmF3SXRlbS5zY2hlbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJhd0l0ZW0uaWQgfHwgcmF3SXRlbS5sYW5nKSB7XG4gICAgICAgICAgbGV0IHJlZnMgPSByYXdJdGVtc0J5VGFyZ2V0W3Jhd0l0ZW0uaWRdO1xuICAgICAgICAgIGlmIChyZWZzIHx8IHJhd0l0ZW0ubGFuZykge1xuICAgICAgICAgICAgaWYgKHJhd0l0ZW0ubGFuZykge1xuICAgICAgICAgICAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciB4bWw6bGFuZ1xuICAgICAgICAgICAgICBjb25zdCBsYW5nSXRlbSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBtZXRhVGVybXMubGFuZ3VhZ2UsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHJhd0l0ZW0ubGFuZyxcbiAgICAgICAgICAgICAgICBsYW5nOiBudWxsLFxuICAgICAgICAgICAgICAgIGlkOiBudWxsLFxuICAgICAgICAgICAgICAgIHJlZmluZXM6IHJhd0l0ZW0uaWQsXG4gICAgICAgICAgICAgICAgc2NoZW1lOiBudWxsLFxuICAgICAgICAgICAgICAgIG9yZGVyOiByYXdJdGVtLm9yZGVyLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBpZiAocmVmcykge1xuICAgICAgICAgICAgICAgIHJlZnMucHVzaChsYW5nSXRlbSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVmcyA9IFtsYW5nSXRlbV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVudHJ5TWFwID0gQmFzZS5tdWx0aUluZGV4QXJyYXkoXG4gICAgICAgICAgICAgIHJlZnMsXG4gICAgICAgICAgICAgIChyYXdJdGVtKSA9PiByYXdJdGVtLm5hbWUsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZW50cnlbXCJyXCJdID0gbWFrZU1ldGFkYXRhKGVudHJ5TWFwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgfSksXG4gICAgKTtcbiAgY29uc3QgbWV0YWRhdGEgPSBtYWtlTWV0YWRhdGEoXG4gICAgQmFzZS5tdWx0aUluZGV4QXJyYXkocmF3SXRlbXMsIChyYXdJdGVtKSA9PlxuICAgICAgcmF3SXRlbS5yZWZpbmVzID8gbnVsbCA6IHJhd0l0ZW0ubmFtZSxcbiAgICApLFxuICApO1xuICBsZXQgbGFuZzogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGlmIChtZXRhZGF0YVttZXRhVGVybXMubGFuZ3VhZ2VdKSB7XG4gICAgbGFuZyA9IG1ldGFkYXRhW21ldGFUZXJtcy5sYW5ndWFnZV1bMF1bXCJ2XCJdO1xuICB9XG4gIGNvbnN0IHNvcnRNZXRhZGF0YSA9IChtZXRhZGF0YTogeyBba2V5OiBzdHJpbmddOiBhbnlbXSB9KSA9PiB7XG4gICAgZm9yIChjb25zdCB0ZXJtIGluIG1ldGFkYXRhKSB7XG4gICAgICBjb25zdCBhcnIgPSBtZXRhZGF0YVt0ZXJtXTtcbiAgICAgIGFyci5zb3J0KGdldE1ldGFkYXRhQ29tcGFyYXRvcih0ZXJtLCBsYW5nKSk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCByID0gYXJyW2ldW1wiclwiXTtcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICBzb3J0TWV0YWRhdGEocik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHNvcnRNZXRhZGF0YShtZXRhZGF0YSk7XG4gIHJldHVybiBtZXRhZGF0YTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1hdGhKYXhIdWIoKTogb2JqZWN0IHtcbiAgY29uc3QgbWF0aCA9IHdpbmRvd1tcIk1hdGhKYXhcIl07XG4gIGlmIChtYXRoKSB7XG4gICAgcmV0dXJuIG1hdGhbXCJIdWJcIl07XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja01hdGhKYXgoKTogdm9pZCB7XG4gIGlmIChnZXRNYXRoSmF4SHViKCkpIHtcbiAgICBDc3NDYXNjYWRlLnN1cHBvcnRlZE5hbWVzcGFjZXNbQmFzZS5OUy5NQVRITUxdID0gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3Qgc3VwcG9ydGVkTWVkaWFUeXBlcyA9IHtcbiAgXCJhcHBsaWNhdGlvbi94aHRtbCt4bWxcIjogdHJ1ZSxcbiAgXCJpbWFnZS9qcGVnXCI6IHRydWUsXG4gIFwiaW1hZ2UvcG5nXCI6IHRydWUsXG4gIFwiaW1hZ2Uvc3ZnK3htbFwiOiB0cnVlLFxuICBcImltYWdlL2dpZlwiOiB0cnVlLFxuICBcImF1ZGlvL21wM1wiOiB0cnVlLFxufTtcblxuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybWVkSWRQcmVmaXggPSBcInZpdi1pZC1cIjtcblxuZXhwb3J0IGNsYXNzIE9QRkRvYyB7XG4gIG9wZlhNTDogWG1sRG9jLlhNTERvY0hvbGRlciA9IG51bGw7XG4gIGVuY1hNTDogWG1sRG9jLlhNTERvY0hvbGRlciA9IG51bGw7XG4gIGl0ZW1zOiBPUEZJdGVtW10gPSBudWxsO1xuICBzcGluZTogT1BGSXRlbVtdID0gbnVsbDtcbiAgaXRlbU1hcDogeyBba2V5OiBzdHJpbmddOiBPUEZJdGVtIH0gPSBudWxsO1xuICBpdGVtTWFwQnlQYXRoOiB7IFtrZXk6IHN0cmluZ106IE9QRkl0ZW0gfSA9IG51bGw7XG4gIHVpZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGJpbmRpbmdzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XG4gIGxhbmc6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBlcGFnZUNvdW50OiBudW1iZXIgPSAwO1xuICBwcmVQYWdpbmF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgZXBhZ2VJc1JlbmRlcmVkUGFnZTogYm9vbGVhbiA9IHRydWU7XG4gIGVwYWdlQ291bnRDYWxsYmFjazogKHAxOiBudW1iZXIpID0+IHZvaWQgfCBudWxsID0gbnVsbDtcbiAgbWV0YWRhdGE6IEJhc2UuSlNPTiA9IHt9O1xuICBuY3hUb2M6IE9QRkl0ZW0gPSBudWxsO1xuICB4aHRtbFRvYzogT1BGSXRlbSA9IG51bGw7XG4gIGNvdmVyOiBPUEZJdGVtID0gbnVsbDtcbiAgZmFsbGJhY2tNYXA6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcbiAgcGFnZVByb2dyZXNzaW9uOiBDb25zdGFudHMuUGFnZVByb2dyZXNzaW9uIHwgbnVsbCA9IG51bGw7XG4gIGRvY3VtZW50VVJMVHJhbnNmb3JtZXI6IEJhc2UuRG9jdW1lbnRVUkxUcmFuc2Zvcm1lcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RvcmU6IEVQVUJEb2NTdG9yZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHViVVJMOiBzdHJpbmcsXG4gICkge1xuICAgIHRoaXMuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lciA9IHRoaXMuY3JlYXRlRG9jdW1lbnRVUkxUcmFuc2Zvcm1lcigpO1xuICAgIGNoZWNrTWF0aEpheCgpO1xuICB9XG5cbiAgLy8gRklYTUU6IFRTNDA1NVxuICBjcmVhdGVEb2N1bWVudFVSTFRyYW5zZm9ybWVyKCk6IEJhc2UuRG9jdW1lbnRVUkxUcmFuc2Zvcm1lciB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY2xhc3MgT1BGRG9jdW1lbnRVUkxUcmFuc2Zvcm1lciBpbXBsZW1lbnRzIEJhc2UuRG9jdW1lbnRVUkxUcmFuc2Zvcm1lciB7XG4gICAgICAvKipcbiAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICovXG4gICAgICB0cmFuc2Zvcm1GcmFnbWVudChmcmFnbWVudDogc3RyaW5nLCBiYXNlVVJMOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCB1cmwgPSBiYXNlVVJMICsgKGZyYWdtZW50ID8gYCMke2ZyYWdtZW50fWAgOiBcIlwiKTtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVkSWRQcmVmaXggKyBCYXNlLmVzY2FwZU5hbWVTdHJUb0hleCh1cmwsIFwiOlwiKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAqL1xuICAgICAgdHJhbnNmb3JtVVJMKHVybDogc3RyaW5nLCBiYXNlVVJMOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCByID0gdXJsLm1hdGNoKC9eKFteI10qKSM/KC4qKSQvKTtcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICBjb25zdCBwYXRoID0gclsxXSB8fCBiYXNlVVJMO1xuICAgICAgICAgIGNvbnN0IGZyYWdtZW50ID0gclsyXTtcbiAgICAgICAgICBpZiAocGF0aCkge1xuICAgICAgICAgICAgaWYgKHNlbGYuaXRlbXMuc29tZSgoaXRlbSkgPT4gaXRlbS5zcmMgPT09IHBhdGgpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBgIyR7dGhpcy50cmFuc2Zvcm1GcmFnbWVudChmcmFnbWVudCwgcGF0aCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAqL1xuICAgICAgcmVzdG9yZVVSTChlbmNvZGVkOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgICAgIGlmIChlbmNvZGVkLmNoYXJBdCgwKSA9PT0gXCIjXCIpIHtcbiAgICAgICAgICBlbmNvZGVkID0gZW5jb2RlZC5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuY29kZWQuaW5kZXhPZih0cmFuc2Zvcm1lZElkUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgIGVuY29kZWQgPSBlbmNvZGVkLnN1YnN0cmluZyh0cmFuc2Zvcm1lZElkUHJlZml4Lmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVjb2RlZCA9IEJhc2UudW5lc2NhcGVTdHJGcm9tSGV4KGVuY29kZWQsIFwiOlwiKTtcbiAgICAgICAgY29uc3QgciA9IGRlY29kZWQubWF0Y2goL14oW14jXSopIz8oLiopJC8pO1xuICAgICAgICByZXR1cm4gciA/IFtyWzFdLCByWzJdXSA6IFtdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IE9QRkRvY3VtZW50VVJMVHJhbnNmb3JtZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNZXRhZGF0YSBpcyBvcmdhbml6ZWQgaW4gdGhlIGZvbGxvd2luZyB3YXk6IGZ1bGx5LWV4cGFuZGVkIHByb3BlcnR5IG5hbWVzXG4gICAqICh3aXRoIElSSSBwcmVmaXhlcyBwcmVwZW5kZWQpIHBvaW50IHRvIGFuIGFycmF5IG9mIHZhbHVlcy4gQXJyYXkgY29udGFpbnNcbiAgICogYXQgbGVhc3Qgb25lIGVsZW1lbnQuIEZpcnN0IGVsZW1lbnQgaXMgcHJpbWFyeSBhbmQgc2hvdWxkIGJlIHVzZWQgYnlcbiAgICogZGVmYXVsdC4gRWxlbWVudCB2YWx1ZXMgYXJlIG9iamVjdHMgaGF2ZSB0aGUgZm9sbG93aW5nIGtleXM6XG4gICAqIC0gXCJ2XCIgLSBpdGVtIHZhbHVlIGFzIHN0cmluZyxcbiAgICogLSBcInNcIiAtIHNjaGVtZSxcbiAgICogLSBcIm9cIiAtIGluZGV4IGluIHRoZSBvcmRlciBvZiBhcHBlYXJpbmcgaW4gdGhlIHNvdXJjZSxcbiAgICogLSBcInJcIiAtIHJlZmluZW1lbnQgc3VibWV0YWRhdGEgKG9yZ2FuaXplZCBqdXN0IGxpa2UgdGhlIHRvcC1sZXZlbFxuICAgKiBtZXRhZGF0YSkuXG4gICAqL1xuICBnZXRNZXRhZGF0YSgpOiBCYXNlLkpTT04ge1xuICAgIHJldHVybiB0aGlzLm1ldGFkYXRhO1xuICB9XG5cbiAgZ2V0UGF0aEZyb21VUkwodXJsOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAodXJsLnN0YXJ0c1dpdGgoXCJkYXRhOlwiKSkge1xuICAgICAgcmV0dXJuIHVybCA9PT0gdGhpcy5wdWJVUkwgPyBcIlwiIDogdXJsO1xuICAgIH1cbiAgICBpZiAodGhpcy5wdWJVUkwpIHtcbiAgICAgIGxldCBlcHViQmFzZVVSTCA9IEJhc2UucmVzb2x2ZVVSTChcIlwiLCB0aGlzLnB1YlVSTCk7XG4gICAgICBpZiAodXJsID09PSBlcHViQmFzZVVSTCB8fCB1cmwgKyBcIi9cIiA9PT0gZXB1YkJhc2VVUkwpIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICB9XG4gICAgICBpZiAoZXB1YkJhc2VVUkwuY2hhckF0KGVwdWJCYXNlVVJMLmxlbmd0aCAtIDEpICE9IFwiL1wiKSB7XG4gICAgICAgIGVwdWJCYXNlVVJMICs9IFwiL1wiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVybC5zdWJzdHIoMCwgZXB1YkJhc2VVUkwubGVuZ3RoKSA9PSBlcHViQmFzZVVSTFxuICAgICAgICA/IGRlY29kZVVSSSh1cmwuc3Vic3RyKGVwdWJCYXNlVVJMLmxlbmd0aCkpXG4gICAgICAgIDogbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG4gIH1cblxuICBpbml0V2l0aFhNTERvYyhcbiAgICBvcGZYTUw6IFhtbERvYy5YTUxEb2NIb2xkZXIsXG4gICAgZW5jWE1MOiBYbWxEb2MuWE1MRG9jSG9sZGVyLFxuICAgIHppcE1ldGFkYXRhOiBCYXNlLkpTT04sXG4gICAgbWFuaWZlc3RVUkw6IHN0cmluZyxcbiAgKTogVGFzay5SZXN1bHQ8YW55PiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5vcGZYTUwgPSBvcGZYTUw7XG4gICAgdGhpcy5lbmNYTUwgPSBlbmNYTUw7XG4gICAgY29uc3QgcGtnID0gb3BmWE1MLmRvYygpLmNoaWxkKFwicGFja2FnZVwiKTtcbiAgICBjb25zdCB1aWRyZWYgPSBwa2cuYXR0cmlidXRlKFwidW5pcXVlLWlkZW50aWZpZXJcIilbMF07XG4gICAgaWYgKHVpZHJlZikge1xuICAgICAgY29uc3QgdWlkRWxlbSA9IG9wZlhNTC5nZXRFbGVtZW50KGAke29wZlhNTC51cmx9IyR7dWlkcmVmfWApO1xuICAgICAgaWYgKHVpZEVsZW0pIHtcbiAgICAgICAgdGhpcy51aWQgPSB1aWRFbGVtLnRleHRDb250ZW50LnJlcGxhY2UoL1sgXFxuXFxyXFx0XS9nLCBcIlwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc3JjVG9GYWxsYmFja0lkID0ge307XG4gICAgdGhpcy5pdGVtcyA9IHBrZ1xuICAgICAgLmNoaWxkKFwibWFuaWZlc3RcIilcbiAgICAgIC5jaGlsZChcIml0ZW1cIilcbiAgICAgIC5hc0FycmF5KClcbiAgICAgIC5tYXAoKG5vZGUpID0+IHtcbiAgICAgICAgY29uc3QgaXRlbSA9IG5ldyBPUEZJdGVtKCk7XG4gICAgICAgIGNvbnN0IGVsZW0gPSBub2RlIGFzIEVsZW1lbnQ7XG4gICAgICAgIGl0ZW0uaW5pdFdpdGhFbGVtZW50KGVsZW0sIG9wZlhNTC51cmwpO1xuICAgICAgICBjb25zdCBmYWxsYmFjayA9IGVsZW0uZ2V0QXR0cmlidXRlKFwiZmFsbGJhY2tcIik7XG4gICAgICAgIGlmIChmYWxsYmFjayAmJiAhc3VwcG9ydGVkTWVkaWFUeXBlc1tpdGVtLm1lZGlhVHlwZV0pIHtcbiAgICAgICAgICBzcmNUb0ZhbGxiYWNrSWRbaXRlbS5zcmNdID0gZmFsbGJhY2s7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzZWxmLnhodG1sVG9jICYmIGl0ZW0uaXRlbVByb3BlcnRpZXNbXCJuYXZcIl0pIHtcbiAgICAgICAgICBzZWxmLnhodG1sVG9jID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNlbGYuY292ZXIgJiYgaXRlbS5pdGVtUHJvcGVydGllc1tcImNvdmVyLWltYWdlXCJdKSB7XG4gICAgICAgICAgc2VsZi5jb3ZlciA9IGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcbiAgICB0aGlzLml0ZW1NYXAgPSBCYXNlLmluZGV4QXJyYXkoXG4gICAgICB0aGlzLml0ZW1zLFxuICAgICAgZ2V0T1BGSXRlbUlkIGFzIChwMTogT1BGSXRlbSkgPT4gc3RyaW5nIHwgbnVsbCxcbiAgICApO1xuICAgIHRoaXMuaXRlbU1hcEJ5UGF0aCA9IEJhc2UuaW5kZXhBcnJheSh0aGlzLml0ZW1zLCAoaXRlbSkgPT5cbiAgICAgIHNlbGYuZ2V0UGF0aEZyb21VUkwoaXRlbS5zcmMpLFxuICAgICk7XG4gICAgZm9yIChjb25zdCBzcmMgaW4gc3JjVG9GYWxsYmFja0lkKSB7XG4gICAgICBsZXQgZmFsbGJhY2tTcmMgPSBzcmM7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5pdGVtTWFwW3NyY1RvRmFsbGJhY2tJZFtmYWxsYmFja1NyY11dO1xuICAgICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3VwcG9ydGVkTWVkaWFUeXBlc1tpdGVtLm1lZGlhVHlwZV0pIHtcbiAgICAgICAgICB0aGlzLmZhbGxiYWNrTWFwW3NyY10gPSBpdGVtLnNyYztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBmYWxsYmFja1NyYyA9IGl0ZW0uc3JjO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnNwaW5lID0gcGtnXG4gICAgICAuY2hpbGQoXCJzcGluZVwiKVxuICAgICAgLmNoaWxkKFwiaXRlbXJlZlwiKVxuICAgICAgLmFzQXJyYXkoKVxuICAgICAgLm1hcCgobm9kZSwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgZWxlbSA9IG5vZGUgYXMgRWxlbWVudDtcbiAgICAgICAgY29uc3QgaWQgPSBlbGVtLmdldEF0dHJpYnV0ZShcImlkcmVmXCIpO1xuICAgICAgICBjb25zdCBpdGVtID0gc2VsZi5pdGVtTWFwW2lkIGFzIHN0cmluZ107XG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgaXRlbS5pdGVtUmVmRWxlbWVudCA9IGVsZW07XG4gICAgICAgICAgaXRlbS5zcGluZUluZGV4ID0gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcbiAgICBjb25zdCB0b2NBdHRyID0gcGtnLmNoaWxkKFwic3BpbmVcIikuYXR0cmlidXRlKFwidG9jXCIpWzBdO1xuICAgIGlmICh0b2NBdHRyKSB7XG4gICAgICB0aGlzLm5jeFRvYyA9IHRoaXMuaXRlbU1hcFt0b2NBdHRyXTtcbiAgICB9XG4gICAgY29uc3QgcGFnZVByb2dyZXNzaW9uQXR0ciA9IHBrZ1xuICAgICAgLmNoaWxkKFwic3BpbmVcIilcbiAgICAgIC5hdHRyaWJ1dGUoXCJwYWdlLXByb2dyZXNzaW9uLWRpcmVjdGlvblwiKVswXTtcbiAgICBpZiAocGFnZVByb2dyZXNzaW9uQXR0cikge1xuICAgICAgdGhpcy5wYWdlUHJvZ3Jlc3Npb24gPSBDb25zdGFudHMucGFnZVByb2dyZXNzaW9uT2YocGFnZVByb2dyZXNzaW9uQXR0cik7XG4gICAgfVxuICAgIGNvbnN0IGlkcGZPYmZVUkxzID0gIWVuY1hNTFxuICAgICAgPyBbXVxuICAgICAgOiBlbmNYTUxcbiAgICAgICAgICAuZG9jKClcbiAgICAgICAgICAuY2hpbGQoXCJlbmNyeXB0aW9uXCIpXG4gICAgICAgICAgLmNoaWxkKFwiRW5jcnlwdGVkRGF0YVwiKVxuICAgICAgICAgIC5wcmVkaWNhdGUoXG4gICAgICAgICAgICBYbWxEb2MucHJlZGljYXRlLndpdGhDaGlsZChcbiAgICAgICAgICAgICAgXCJFbmNyeXB0aW9uTWV0aG9kXCIsXG4gICAgICAgICAgICAgIFhtbERvYy5wcmVkaWNhdGUud2l0aEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICBcIkFsZ29yaXRobVwiLFxuICAgICAgICAgICAgICAgIFwiaHR0cDovL3d3dy5pZHBmLm9yZy8yMDA4L2VtYmVkZGluZ1wiLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApXG4gICAgICAgICAgLmNoaWxkKFwiQ2lwaGVyRGF0YVwiKVxuICAgICAgICAgIC5jaGlsZChcIkNpcGhlclJlZmVyZW5jZVwiKVxuICAgICAgICAgIC5hdHRyaWJ1dGUoXCJVUklcIik7XG4gICAgY29uc3QgbWVkaWFUeXBlRWxlbXMgPSBwa2dcbiAgICAgIC5jaGlsZChcImJpbmRpbmdzXCIpXG4gICAgICAuY2hpbGQoXCJtZWRpYVR5cGVcIilcbiAgICAgIC5hc0FycmF5KCkgYXMgRWxlbWVudFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVkaWFUeXBlRWxlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGhhbmRsZXJJZCA9IG1lZGlhVHlwZUVsZW1zW2ldLmdldEF0dHJpYnV0ZShcImhhbmRsZXJcIik7XG4gICAgICBjb25zdCBtZWRpYVR5cGUgPSBtZWRpYVR5cGVFbGVtc1tpXS5nZXRBdHRyaWJ1dGUoXCJtZWRpYS10eXBlXCIpO1xuICAgICAgaWYgKG1lZGlhVHlwZSAmJiBoYW5kbGVySWQgJiYgdGhpcy5pdGVtTWFwW2hhbmRsZXJJZF0pIHtcbiAgICAgICAgdGhpcy5iaW5kaW5nc1ttZWRpYVR5cGVdID0gdGhpcy5pdGVtTWFwW2hhbmRsZXJJZF0uc3JjO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLm1ldGFkYXRhID0gcmVhZE1ldGFkYXRhKFxuICAgICAgcGtnLmNoaWxkKFwibWV0YWRhdGFcIiksXG4gICAgICBwa2cuYXR0cmlidXRlKFwicHJlZml4XCIpWzBdLFxuICAgICk7XG4gICAgaWYgKHRoaXMubWV0YWRhdGFbbWV0YVRlcm1zLmxhbmd1YWdlXSkge1xuICAgICAgdGhpcy5sYW5nID0gdGhpcy5tZXRhZGF0YVttZXRhVGVybXMubGFuZ3VhZ2VdWzBdW1widlwiXTtcbiAgICB9XG4gICAgaWYgKHRoaXMubWV0YWRhdGFbbWV0YVRlcm1zLmxheW91dF0pIHtcbiAgICAgIHRoaXMucHJlUGFnaW5hdGVkID1cbiAgICAgICAgdGhpcy5tZXRhZGF0YVttZXRhVGVybXMubGF5b3V0XVswXVtcInZcIl0gPT09IFwicHJlLXBhZ2luYXRlZFwiO1xuICAgIH1cblxuICAgIGlmICghemlwTWV0YWRhdGEpIHtcbiAgICAgIGlmIChpZHBmT2JmVVJMcy5sZW5ndGggPiAwICYmIHRoaXMudWlkKSB7XG4gICAgICAgIC8vIEhhdmUgdG8gZGVvYmZ1c2NhdGUgaW4gSmF2YVNjcmlwdFxuICAgICAgICBjb25zdCBkZW9iZnVzY2F0b3IgPSBtYWtlRGVvYmZ1c2NhdG9yKHRoaXMudWlkKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpZHBmT2JmVVJMcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRoaXMuc3RvcmUuZGVvYmZ1c2NhdG9yc1t0aGlzLnB1YlVSTCArIGlkcGZPYmZVUkxzW2ldXSA9IGRlb2JmdXNjYXRvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMucHJlUGFnaW5hdGVkKSB7XG4gICAgICAgIHRoaXMuYXNzaWduQXV0b1BhZ2VzKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IG1hbmlmZXN0VGV4dCA9IG5ldyBCYXNlLlN0cmluZ0J1ZmZlcigpO1xuICAgIGNvbnN0IG9iZnVzY2F0aW9ucyA9IHt9O1xuICAgIGlmIChpZHBmT2JmVVJMcy5sZW5ndGggPiAwICYmIHRoaXMudWlkKSB7XG4gICAgICAvLyBEZW9iZnVzY2F0ZSBpbiB0aGUgc2VydmVyLlxuICAgICAgY29uc3Qgb2JmdXNjYXRpb25LZXkgPSBtYWtlT2JmdXNjYXRpb25LZXkodGhpcy51aWQpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpZHBmT2JmVVJMcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBvYmZ1c2NhdGlvbnNbaWRwZk9iZlVSTHNbaV1dID0gb2JmdXNjYXRpb25LZXk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgemlwTWV0YWRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGVudHJ5ID0gemlwTWV0YWRhdGFbaV07XG4gICAgICBjb25zdCBlbmNvZGVkUGF0aCA9IGVudHJ5W1wiblwiXTtcbiAgICAgIGlmIChlbmNvZGVkUGF0aCkge1xuICAgICAgICBjb25zdCBwYXRoID0gZGVjb2RlVVJJKGVuY29kZWRQYXRoKTtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuaXRlbU1hcEJ5UGF0aFtwYXRoXTtcbiAgICAgICAgbGV0IG1lZGlhVHlwZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgaXRlbS5jb21wcmVzc2VkID0gZW50cnlbXCJtXCJdICE9IDA7XG4gICAgICAgICAgaXRlbS5jb21wcmVzc2VkU2l6ZSA9IGVudHJ5W1wiY1wiXTtcbiAgICAgICAgICBpZiAoaXRlbS5tZWRpYVR5cGUpIHtcbiAgICAgICAgICAgIG1lZGlhVHlwZSA9IGl0ZW0ubWVkaWFUeXBlLnJlcGxhY2UoL1xccysvZywgXCJcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9iZnVzY2F0aW9uID0gb2JmdXNjYXRpb25zW3BhdGhdO1xuICAgICAgICBpZiAobWVkaWFUeXBlIHx8IG9iZnVzY2F0aW9uKSB7XG4gICAgICAgICAgbWFuaWZlc3RUZXh0LmFwcGVuZChlbmNvZGVkUGF0aCk7XG4gICAgICAgICAgbWFuaWZlc3RUZXh0LmFwcGVuZChcIiBcIik7XG4gICAgICAgICAgbWFuaWZlc3RUZXh0LmFwcGVuZChtZWRpYVR5cGUgfHwgXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIik7XG4gICAgICAgICAgaWYgKG9iZnVzY2F0aW9uKSB7XG4gICAgICAgICAgICBtYW5pZmVzdFRleHQuYXBwZW5kKFwiIFwiKTtcbiAgICAgICAgICAgIG1hbmlmZXN0VGV4dC5hcHBlbmQob2JmdXNjYXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtYW5pZmVzdFRleHQuYXBwZW5kKFwiXFxuXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHNlbGYuYXNzaWduQXV0b1BhZ2VzKCk7XG4gICAgcmV0dXJuIE5ldC5hamF4KFxuICAgICAgbWFuaWZlc3RVUkwsXG4gICAgICBOZXQuWE1MSHR0cFJlcXVlc3RSZXNwb25zZVR5cGUuREVGQVVMVCxcbiAgICAgIFwiUE9TVFwiLFxuICAgICAgbWFuaWZlc3RUZXh0LnRvU3RyaW5nKCksXG4gICAgICBcInRleHQvcGxhaW5cIixcbiAgICApO1xuICB9XG5cbiAgYXNzaWduQXV0b1BhZ2VzKCk6IHZvaWQge1xuICAgIGxldCBlcGFnZSA9IDA7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMuc3BpbmUpIHtcbiAgICAgIGNvbnN0IGVwYWdlQ291bnQgPSB0aGlzLnByZVBhZ2luYXRlZFxuICAgICAgICA/IDFcbiAgICAgICAgOiBNYXRoLmNlaWwoaXRlbS5jb21wcmVzc2VkU2l6ZSAvIDEwMjQpO1xuICAgICAgaXRlbS5lcGFnZSA9IGVwYWdlO1xuICAgICAgaXRlbS5lcGFnZUNvdW50ID0gZXBhZ2VDb3VudDtcbiAgICAgIGVwYWdlICs9IGVwYWdlQ291bnQ7XG4gICAgfVxuICAgIHRoaXMuZXBhZ2VDb3VudCA9IGVwYWdlO1xuXG4gICAgaWYgKHRoaXMuZXBhZ2VDb3VudENhbGxiYWNrKSB7XG4gICAgICB0aGlzLmVwYWdlQ291bnRDYWxsYmFjayh0aGlzLmVwYWdlQ291bnQpO1xuICAgIH1cbiAgfVxuXG4gIHNldEVQYWdlQ291bnRNb2RlKGVwYWdlSXNSZW5kZXJlZFBhZ2U6IGJvb2xlYW4pIHtcbiAgICB0aGlzLmVwYWdlSXNSZW5kZXJlZFBhZ2UgPSBlcGFnZUlzUmVuZGVyZWRQYWdlIHx8IHRoaXMucHJlUGFnaW5hdGVkO1xuICB9XG5cbiAgY291bnRFUGFnZXMoXG4gICAgZXBhZ2VDb3VudENhbGxiYWNrOiAoKHAxOiBudW1iZXIpID0+IHZvaWQpIHwgbnVsbCxcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIHRoaXMuZXBhZ2VDb3VudENhbGxiYWNrID0gZXBhZ2VDb3VudENhbGxiYWNrO1xuXG4gICAgaWYgKHRoaXMuZXBhZ2VJc1JlbmRlcmVkUGFnZSkge1xuICAgICAgaWYgKHRoaXMucHJlUGFnaW5hdGVkICYmIHRoaXMuZXBhZ2VDb3VudCA9PSAwKSB7XG4gICAgICAgIHRoaXMuYXNzaWduQXV0b1BhZ2VzKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuXG4gICAgbGV0IGVwYWdlID0gMDtcbiAgICBsZXQgaSA9IDA7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwiY291bnRFUGFnZXNcIik7XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgaWYgKGkgPT09IHRoaXMuc3BpbmUubGVuZ3RoKSB7XG4gICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5zcGluZVtpKytdO1xuICAgICAgICBpdGVtLmVwYWdlID0gZXBhZ2U7XG4gICAgICAgIHRoaXMuc3RvcmUubG9hZChpdGVtLnNyYykudGhlbigoeG1sZG9jKSA9PiB7XG4gICAgICAgICAgLy8gQWNjb3JkaW5nIHRvIHRoZSBvbGQgY29tbWVudCxcbiAgICAgICAgICAvLyBcIkVzdGltYXRlIHRoYXQgb2Zmc2V0PTI3MDAgcm91Z2hseSBjb3JyZXNwb25kcyB0byAxMDI0IGJ5dGVzIG9mIGNvbXByZXNzZWQgc2l6ZS5cIlxuICAgICAgICAgIC8vIEhvd2V2ZXIsIGl0IHNob3VsZCBkZXBlbmQgb24gdGhlIGxhbmd1YWdlLlxuICAgICAgICAgIC8vIEZ1cnRoZXIgYWRqdXN0bWVudCBuZWVkZWQuXG5cbiAgICAgICAgICAvL2xldCBvZmZzZXRQZXJFUGFnZSA9IDI3MDA7XG4gICAgICAgICAgbGV0IG9mZnNldFBlckVQYWdlID0gMTgwMDtcbiAgICAgICAgICBjb25zdCBsYW5nID0geG1sZG9jLmxhbmcgfHwgdGhpcy5sYW5nO1xuICAgICAgICAgIGlmIChsYW5nICYmIGxhbmcubWF0Y2goL14oamF8a298emgpLykpIHtcbiAgICAgICAgICAgIG9mZnNldFBlckVQYWdlIC89IDM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGl0ZW0uZXBhZ2VDb3VudCA9IE1hdGguY2VpbCh4bWxkb2MuZ2V0VG90YWxPZmZzZXQoKSAvIG9mZnNldFBlckVQYWdlKTtcbiAgICAgICAgICBlcGFnZSArPSBpdGVtLmVwYWdlQ291bnQ7XG4gICAgICAgICAgdGhpcy5lcGFnZUNvdW50ID0gZXBhZ2U7XG4gICAgICAgICAgaWYgKHRoaXMuZXBhZ2VDb3VudENhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmVwYWdlQ291bnRDYWxsYmFjayh0aGlzLmVwYWdlQ291bnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuRmluaXNoKGZyYW1lKTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGZha2UgT1BGIFwiZG9jdW1lbnRcIiB0aGF0IGNvbnRhaW5zIE9QUyBjaGFwdGVycy5cbiAgICovXG4gIGluaXRXaXRoQ2hhcHRlcnMocGFyYW1zOiBPUEZJdGVtUGFyYW1bXSwgZG9jPzogRG9jdW1lbnQgfCBudWxsKSB7XG4gICAgdGhpcy5pdGVtTWFwID0ge307XG4gICAgdGhpcy5pdGVtTWFwQnlQYXRoID0ge307XG4gICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgIHRoaXMuc3BpbmUgPSB0aGlzLml0ZW1zO1xuXG4gICAgLy8gY3JlYXRlIGEgbWluaW11bSBmYWtlIE9QRiBYTUwgZm9yIG5hdmlnYXRpb24gd2l0aCBFUFVCIENGSVxuICAgIGNvbnN0IG9wZlhNTCA9ICh0aGlzLm9wZlhNTCA9IG5ldyBYbWxEb2MuWE1MRG9jSG9sZGVyKFxuICAgICAgbnVsbCxcbiAgICAgIFwiXCIsXG4gICAgICBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKFwiPHNwaW5lPjwvc3BpbmU+XCIsIFwidGV4dC94bWxcIiksXG4gICAgKSk7XG4gICAgcGFyYW1zLmZvckVhY2goKHBhcmFtKSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gbmV3IE9QRkl0ZW0oKTtcbiAgICAgIGl0ZW0uaW5pdFdpdGhQYXJhbShwYXJhbSk7XG4gICAgICBBc3NlcnRzLmFzc2VydChpdGVtLmlkKTtcbiAgICAgIGNvbnN0IGl0ZW1yZWYgPSBvcGZYTUwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIml0ZW1yZWZcIik7XG4gICAgICBpdGVtcmVmLnNldEF0dHJpYnV0ZShcImlkcmVmXCIsIGl0ZW0uaWQpO1xuICAgICAgb3BmWE1MLnJvb3QuYXBwZW5kQ2hpbGQoaXRlbXJlZik7XG4gICAgICBpdGVtLml0ZW1SZWZFbGVtZW50ID0gaXRlbXJlZjtcbiAgICAgIHRoaXMuaXRlbU1hcFtpdGVtLmlkXSA9IGl0ZW07XG4gICAgICBsZXQgcGF0aCA9IHRoaXMuZ2V0UGF0aEZyb21VUkwocGFyYW0udXJsKTtcbiAgICAgIGlmIChwYXRoID09IG51bGwpIHtcbiAgICAgICAgcGF0aCA9IHBhcmFtLnVybDtcbiAgICAgIH1cbiAgICAgIHRoaXMuaXRlbU1hcEJ5UGF0aFtwYXRoXSA9IGl0ZW07XG4gICAgICB0aGlzLml0ZW1zLnB1c2goaXRlbSk7XG4gICAgfSk7XG4gICAgaWYgKGRvYykge1xuICAgICAgcmV0dXJuIHRoaXMuc3RvcmUuYWRkRG9jdW1lbnQocGFyYW1zWzBdLnVybCwgZG9jKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIGluaXRXaXRoV2ViUHViTWFuaWZlc3QoXG4gICAgbWFuaWZlc3RPYmo6IEJhc2UuSlNPTixcbiAgICBkb2M/OiBEb2N1bWVudCxcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGlmIChtYW5pZmVzdE9ialtcInJlYWRpbmdQcm9ncmVzc2lvblwiXSkge1xuICAgICAgdGhpcy5wYWdlUHJvZ3Jlc3Npb24gPSBtYW5pZmVzdE9ialtcInJlYWRpbmdQcm9ncmVzc2lvblwiXTtcbiAgICB9XG4gICAgaWYgKHRoaXMubWV0YWRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5tZXRhZGF0YSA9IHt9O1xuICAgIH1cbiAgICBjb25zdCB0aXRsZSA9XG4gICAgICAoZG9jICYmIGRvYy50aXRsZSkgfHxcbiAgICAgIG1hbmlmZXN0T2JqW1wibmFtZVwiXSB8fFxuICAgICAgKG1hbmlmZXN0T2JqW1wibWV0YWRhdGFcIl0gJiYgbWFuaWZlc3RPYmpbXCJtZXRhZGF0YVwiXVtcInRpdGxlXCJdKTtcbiAgICBpZiAodGl0bGUpIHtcbiAgICAgIHRoaXMubWV0YWRhdGFbbWV0YVRlcm1zLnRpdGxlXSA9IFt7IHY6IHRpdGxlIH1dO1xuICAgIH1cbiAgICAvLyBUT0RPOiBvdGhlciBtZXRhZGF0YS4uLlxuXG4gICAgY29uc3QgcHJpbWFyeUVudHJ5UGF0aCA9IHRoaXMuZ2V0UGF0aEZyb21VUkwodGhpcy5wdWJVUkwpO1xuICAgIGlmICghbWFuaWZlc3RPYmpbXCJyZWFkaW5nT3JkZXJcIl0gJiYgZG9jICYmIHByaW1hcnlFbnRyeVBhdGggIT09IG51bGwpIHtcbiAgICAgIG1hbmlmZXN0T2JqW1wicmVhZGluZ09yZGVyXCJdID0gW2VuY29kZVVSSShwcmltYXJ5RW50cnlQYXRoKV07XG5cbiAgICAgIC8vIEZpbmQgVE9DIGluIHRoZSBwcmltYXJ5IGVudHJ5IChYKUhUTUxcbiAgICAgIGNvbnN0IHNlbGVjdG9yID1cbiAgICAgICAgXCJbcm9sZT1kb2MtdG9jXSBhW2hyZWZdLFwiICtcbiAgICAgICAgXCJbcm9sZT1kaXJlY3RvcnldIGFbaHJlZl0sXCIgK1xuICAgICAgICBcIm5hdiBsaSBhW2hyZWZdLFwiICtcbiAgICAgICAgXCIudG9jIGFbaHJlZl0sXCIgK1xuICAgICAgICBcIiN0b2MgYVtocmVmXVwiO1xuICAgICAgQXJyYXkuZnJvbShkb2MucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpLmZvckVhY2goKGFuY2hvckVsZW0pID0+IHtcbiAgICAgICAgY29uc3QgaHJlZk5vRnJhZ21lbnQgPSBCYXNlLnN0cmlwRnJhZ21lbnQoXG4gICAgICAgICAgQmFzZS5yZXNvbHZlVVJMKGFuY2hvckVsZW0uZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSwgdGhpcy5wdWJVUkwpLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5nZXRQYXRoRnJvbVVSTChocmVmTm9GcmFnbWVudCk7XG4gICAgICAgIGNvbnN0IHVybCA9IHBhdGggIT09IG51bGwgPyBlbmNvZGVVUkkocGF0aCkgOiBocmVmTm9GcmFnbWVudDtcbiAgICAgICAgaWYgKG1hbmlmZXN0T2JqW1wicmVhZGluZ09yZGVyXCJdLmluZGV4T2YodXJsKSA9PSAtMSkge1xuICAgICAgICAgIG1hbmlmZXN0T2JqW1wicmVhZGluZ09yZGVyXCJdLnB1c2godXJsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgcGFyYW1zID0gW107XG4gICAgbGV0IGl0ZW1Db3VudCA9IDA7XG4gICAgbGV0IHRvY0ZvdW5kID0gLTE7XG4gICAgW21hbmlmZXN0T2JqW1wicmVhZGluZ09yZGVyXCJdLCBtYW5pZmVzdE9ialtcInJlc291cmNlc1wiXV0uZm9yRWFjaChcbiAgICAgIChyZWFkaW5nT3JkZXJPclJlc291cmNlcykgPT4ge1xuICAgICAgICBpZiAocmVhZGluZ09yZGVyT3JSZXNvdXJjZXMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgIHJlYWRpbmdPcmRlck9yUmVzb3VyY2VzLmZvckVhY2goKGl0ZW1PYmopID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzSW5SZWFkaW5nT3JkZXIgPSBtYW5pZmVzdE9ialtcInJlYWRpbmdPcmRlclwiXS5pbmNsdWRlcyhcbiAgICAgICAgICAgICAgaXRlbU9iaixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCB1cmwgPVxuICAgICAgICAgICAgICB0eXBlb2YgaXRlbU9iaiA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgID8gaXRlbU9ialxuICAgICAgICAgICAgICAgIDogaXRlbU9iai51cmwgfHwgaXRlbU9iai5ocmVmO1xuICAgICAgICAgICAgY29uc3QgZW5jb2RpbmdGb3JtYXQgPVxuICAgICAgICAgICAgICB0eXBlb2YgaXRlbU9iaiA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgID8gXCJcIlxuICAgICAgICAgICAgICAgIDogaXRlbU9iai5lbmNvZGluZ0Zvcm1hdCB8fFxuICAgICAgICAgICAgICAgICAgKGl0ZW1PYmouaHJlZiAmJiBpdGVtT2JqLnR5cGUpIHx8XG4gICAgICAgICAgICAgICAgICBcIlwiO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBpc0luUmVhZGluZ09yZGVyIHx8XG4gICAgICAgICAgICAgIGVuY29kaW5nRm9ybWF0ID09PSBcInRleHQvaHRtbFwiIHx8XG4gICAgICAgICAgICAgIGVuY29kaW5nRm9ybWF0ID09PSBcImFwcGxpY2F0aW9uL3hodG1sK3htbFwiIHx8XG4gICAgICAgICAgICAgIC8oXnxcXC8pKFteL10rXFwuKHg/aHRtbHxodG18eGh0KXxbXi8uXSopKFsjP118JCkvLnRlc3QodXJsKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHBhcmFtID0ge1xuICAgICAgICAgICAgICAgIHVybDogQmFzZS5yZXNvbHZlVVJMKEJhc2UuY29udmVydFNwZWNpYWxVUkwodXJsKSwgdGhpcy5wdWJVUkwpLFxuICAgICAgICAgICAgICAgIGluZGV4OiBpdGVtQ291bnQrKyxcbiAgICAgICAgICAgICAgICBzdGFydFBhZ2U6IG51bGwsXG4gICAgICAgICAgICAgICAgc2tpcFBhZ2VzQmVmb3JlOiBudWxsLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBpZiAoaXRlbU9iai5yZWwgPT09IFwiY29udGVudHNcIiAmJiB0b2NGb3VuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0b2NGb3VuZCA9IHBhcmFtLmluZGV4O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHBhcmFtcy5wdXNoKHBhcmFtKTtcblxuICAgICAgICAgICAgICAvL1RPRE86IGl0ZW1zIG5vdCBpbiByZWFkaW5nT3JkZXIgc2hvdWxkIGJlIGV4Y2x1ZGVkIGZyb20gbGluZWFyIHJlYWRpbmcgYnV0IGF2YWlsYWJsZSB3aXRoIGludGVybmFsIGxpbmsgbmF2aWdhdGlvbi5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICApO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcImluaXRXaXRoV2ViUHViTWFuaWZlc3RcIik7XG4gICAgdGhpcy5pbml0V2l0aENoYXB0ZXJzKHBhcmFtcykudGhlbigoKSA9PiB7XG4gICAgICBpZiAodG9jRm91bmQgIT09IC0xKSB7XG4gICAgICAgIHRoaXMueGh0bWxUb2MgPSB0aGlzLml0ZW1zW3RvY0ZvdW5kXTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLnhodG1sVG9jKSB7XG4gICAgICAgIHRoaXMueGh0bWxUb2MgPSB0aGlzLml0ZW1NYXBCeVBhdGhbcHJpbWFyeUVudHJ5UGF0aF07XG4gICAgICB9XG5cbiAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBjZmlcbiAgICovXG4gIGdldENGSShzcGluZUluZGV4OiBudW1iZXIsIG9mZnNldEluSXRlbTogbnVtYmVyKTogVGFzay5SZXN1bHQ8c3RyaW5nIHwgbnVsbD4ge1xuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnNwaW5lW3NwaW5lSW5kZXhdO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPHN0cmluZyB8IG51bGw+ID0gVGFzay5uZXdGcmFtZShcImdldENGSVwiKTtcbiAgICB0aGlzLnN0b3JlLmxvYWQoaXRlbS5zcmMpLnRoZW4oKHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcikgPT4ge1xuICAgICAgY29uc3Qgbm9kZSA9IHhtbGRvYy5nZXROb2RlQnlPZmZzZXQob2Zmc2V0SW5JdGVtKTtcbiAgICAgIGxldCBjZmk6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRPZmZzZXQgPSB4bWxkb2MuZ2V0Tm9kZU9mZnNldChub2RlLCAwLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IG9mZnNldEluTm9kZSA9IG9mZnNldEluSXRlbSAtIHN0YXJ0T2Zmc2V0O1xuICAgICAgICBjb25zdCBmcmFnbWVudCA9IG5ldyBDRkkuRnJhZ21lbnQoKTtcbiAgICAgICAgZnJhZ21lbnQucHJlcGVuZFBhdGhGcm9tTm9kZShub2RlLCBvZmZzZXRJbk5vZGUsIGZhbHNlLCBudWxsKTtcbiAgICAgICAgaWYgKGl0ZW0uaXRlbVJlZkVsZW1lbnQpIHtcbiAgICAgICAgICBmcmFnbWVudC5wcmVwZW5kUGF0aEZyb21Ob2RlKGl0ZW0uaXRlbVJlZkVsZW1lbnQsIDAsIGZhbHNlLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBjZmkgPSBmcmFnbWVudC50b1N0cmluZygpO1xuICAgICAgfVxuICAgICAgZnJhbWUuZmluaXNoKGNmaSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgcmVzb2x2ZUZyYWdtZW50KGZyYWdzdHI6IHN0cmluZyB8IG51bGwpOiBUYXNrLlJlc3VsdDxQb3NpdGlvbiB8IG51bGw+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gVGFzay5oYW5kbGUoXG4gICAgICBcInJlc29sdmVGcmFnbWVudFwiLFxuICAgICAgKGZyYW1lOiBUYXNrLkZyYW1lPFBvc2l0aW9uIHwgbnVsbD4pOiB2b2lkID0+IHtcbiAgICAgICAgaWYgKCFmcmFnc3RyKSB7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZnJhZ21lbnQgPSBuZXcgQ0ZJLkZyYWdtZW50KCk7XG4gICAgICAgIGZyYWdtZW50LmZyb21TdHJpbmcoZnJhZ3N0cik7XG4gICAgICAgIGxldCBpdGVtOiBPUEZJdGVtO1xuICAgICAgICBpZiAoc2VsZi5vcGZYTUwpIHtcbiAgICAgICAgICBjb25zdCBvcGZOYXYgPSBmcmFnbWVudC5uYXZpZ2F0ZShzZWxmLm9wZlhNTC5kb2N1bWVudCk7XG4gICAgICAgICAgaWYgKG9wZk5hdi5ub2RlLm5vZGVUeXBlICE9IDEgfHwgb3BmTmF2LmFmdGVyIHx8ICFvcGZOYXYucmVmKSB7XG4gICAgICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGVsZW0gPSBvcGZOYXYubm9kZSBhcyBFbGVtZW50O1xuICAgICAgICAgIGNvbnN0IGlkcmVmID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJpZHJlZlwiKTtcbiAgICAgICAgICBpZiAoZWxlbS5sb2NhbE5hbWUgIT0gXCJpdGVtcmVmXCIgfHwgIWlkcmVmIHx8ICFzZWxmLml0ZW1NYXBbaWRyZWZdKSB7XG4gICAgICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGl0ZW0gPSBzZWxmLml0ZW1NYXBbaWRyZWZdO1xuICAgICAgICAgIGZyYWdtZW50ID0gb3BmTmF2LnJlZjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtID0gc2VsZi5zcGluZVswXTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLnN0b3JlLmxvYWQoaXRlbS5zcmMpLnRoZW4oKHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcikgPT4ge1xuICAgICAgICAgIGNvbnN0IG5vZGVOYXYgPSBmcmFnbWVudC5uYXZpZ2F0ZSh4bWxkb2MuZG9jdW1lbnQpO1xuICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHhtbGRvYy5nZXROb2RlT2Zmc2V0KFxuICAgICAgICAgICAgbm9kZU5hdi5ub2RlLFxuICAgICAgICAgICAgbm9kZU5hdi5vZmZzZXQsXG4gICAgICAgICAgICBub2RlTmF2LmFmdGVyLFxuICAgICAgICAgICk7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKHtcbiAgICAgICAgICAgIHNwaW5lSW5kZXg6IGl0ZW0uc3BpbmVJbmRleCxcbiAgICAgICAgICAgIG9mZnNldEluSXRlbTogb2Zmc2V0LFxuICAgICAgICAgICAgcGFnZUluZGV4OiAtMSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgKGZyYW1lOiBUYXNrLkZyYW1lPFBvc2l0aW9uIHwgbnVsbD4sIGVycjogRXJyb3IpOiB2b2lkID0+IHtcbiAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIsIFwiQ2Fubm90IHJlc29sdmUgZnJhZ21lbnQ6XCIsIGZyYWdzdHIpO1xuICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICB9LFxuICAgICk7XG4gIH1cblxuICByZXNvbHZlRVBhZ2UoZXBhZ2U6IG51bWJlcik6IFRhc2suUmVzdWx0PFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBUYXNrLmhhbmRsZShcbiAgICAgIFwicmVzb2x2ZUVQYWdlXCIsXG4gICAgICAoZnJhbWU6IFRhc2suRnJhbWU8UG9zaXRpb24gfCBudWxsPik6IHZvaWQgPT4ge1xuICAgICAgICBpZiAoZXBhZ2UgPD0gMCkge1xuICAgICAgICAgIGZyYW1lLmZpbmlzaCh7IHNwaW5lSW5kZXg6IDAsIG9mZnNldEluSXRlbTogMCwgcGFnZUluZGV4OiAtMSB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGYuZXBhZ2VJc1JlbmRlcmVkUGFnZSkge1xuICAgICAgICAgIGxldCBzcGluZUluZGV4ID0gc2VsZi5zcGluZS5maW5kSW5kZXgoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChpdGVtLmVwYWdlID09IDAgJiYgaXRlbS5lcGFnZUNvdW50ID09IDApIHx8XG4gICAgICAgICAgICAgIChpdGVtLmVwYWdlIDw9IGVwYWdlICYmIGl0ZW0uZXBhZ2UgKyBpdGVtLmVwYWdlQ291bnQgPiBlcGFnZSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKHNwaW5lSW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgIHNwaW5lSW5kZXggPSBzZWxmLnNwaW5lLmxlbmd0aCAtIDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBpdGVtID0gc2VsZi5zcGluZVtzcGluZUluZGV4XTtcbiAgICAgICAgICBpZiAoIWl0ZW0gfHwgaXRlbS5lcGFnZUNvdW50ID09IDApIHtcbiAgICAgICAgICAgIGl0ZW0gPSBzZWxmLnNwaW5lWy0tc3BpbmVJbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHBhZ2VJbmRleCA9IE1hdGguZmxvb3IoZXBhZ2UgLSBpdGVtLmVwYWdlKTtcbiAgICAgICAgICBmcmFtZS5maW5pc2goeyBzcGluZUluZGV4LCBvZmZzZXRJbkl0ZW06IC0xLCBwYWdlSW5kZXg6IHBhZ2VJbmRleCB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNwaW5lSW5kZXggPSBCYXNlLmJpbmFyeVNlYXJjaChzZWxmLnNwaW5lLmxlbmd0aCwgKGluZGV4KSA9PiB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IHNlbGYuc3BpbmVbaW5kZXhdO1xuICAgICAgICAgIHJldHVybiBpdGVtLmVwYWdlICsgaXRlbS5lcGFnZUNvdW50ID4gZXBhZ2U7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoc3BpbmVJbmRleCA9PSBzZWxmLnNwaW5lLmxlbmd0aCkge1xuICAgICAgICAgIHNwaW5lSW5kZXgtLTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVtID0gc2VsZi5zcGluZVtzcGluZUluZGV4XTtcbiAgICAgICAgc2VsZi5zdG9yZS5sb2FkKGl0ZW0uc3JjKS50aGVuKCh4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIpID0+IHtcbiAgICAgICAgICBlcGFnZSAtPSBpdGVtLmVwYWdlO1xuICAgICAgICAgIGlmIChlcGFnZSA+IGl0ZW0uZXBhZ2VDb3VudCkge1xuICAgICAgICAgICAgZXBhZ2UgPSBpdGVtLmVwYWdlQ291bnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgICAgIGlmIChlcGFnZSA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsT2Zmc2V0ID0geG1sZG9jLmdldFRvdGFsT2Zmc2V0KCk7XG4gICAgICAgICAgICBvZmZzZXQgPSBNYXRoLnJvdW5kKCh0b3RhbE9mZnNldCAqIGVwYWdlKSAvIGl0ZW0uZXBhZ2VDb3VudCk7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ID09IHRvdGFsT2Zmc2V0KSB7XG4gICAgICAgICAgICAgIG9mZnNldC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmcmFtZS5maW5pc2goeyBzcGluZUluZGV4LCBvZmZzZXRJbkl0ZW06IG9mZnNldCwgcGFnZUluZGV4OiAtMSB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgKGZyYW1lOiBUYXNrLkZyYW1lPFBvc2l0aW9uIHwgbnVsbD4sIGVycjogRXJyb3IpOiB2b2lkID0+IHtcbiAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIsIFwiQ2Fubm90IHJlc29sdmUgZXBhZ2U6XCIsIGVwYWdlKTtcbiAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgZ2V0RVBhZ2VGcm9tUG9zaXRpb24ocG9zaXRpb246IFBvc2l0aW9uKTogVGFzay5SZXN1bHQ8bnVtYmVyPiB7XG4gICAgY29uc3QgaXRlbSA9IHRoaXMuc3BpbmVbcG9zaXRpb24uc3BpbmVJbmRleF07XG4gICAgaWYgKHRoaXMuZXBhZ2VJc1JlbmRlcmVkUGFnZSkge1xuICAgICAgY29uc3QgZXBhZ2UgPSBpdGVtLmVwYWdlICsgcG9zaXRpb24ucGFnZUluZGV4O1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGVwYWdlKTtcbiAgICB9XG4gICAgaWYgKHBvc2l0aW9uLm9mZnNldEluSXRlbSA8PSAwKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoaXRlbS5lcGFnZSk7XG4gICAgfVxuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPG51bWJlcj4gPSBUYXNrLm5ld0ZyYW1lKFwiZ2V0RVBhZ2VcIik7XG4gICAgdGhpcy5zdG9yZS5sb2FkKGl0ZW0uc3JjKS50aGVuKCh4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIpID0+IHtcbiAgICAgIGNvbnN0IHRvdGFsT2Zmc2V0ID0geG1sZG9jLmdldFRvdGFsT2Zmc2V0KCk7XG4gICAgICBjb25zdCBvZmZzZXQgPSBNYXRoLm1pbih0b3RhbE9mZnNldCwgcG9zaXRpb24ub2Zmc2V0SW5JdGVtKTtcbiAgICAgIGZyYW1lLmZpbmlzaChpdGVtLmVwYWdlICsgKG9mZnNldCAqIGl0ZW0uZXBhZ2VDb3VudCkgLyB0b3RhbE9mZnNldCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIFBhZ2VBbmRQb3NpdGlvbiA9IHtcbiAgcGFnZTogVnRyZWUuUGFnZTtcbiAgcG9zaXRpb246IFBvc2l0aW9uO1xufTtcblxuZXhwb3J0IGNvbnN0IG1ha2VQYWdlQW5kUG9zaXRpb24gPSAoXG4gIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gIHBhZ2VJbmRleDogbnVtYmVyLFxuKTogUGFnZUFuZFBvc2l0aW9uID0+ICh7XG4gIHBhZ2UsXG4gIHBvc2l0aW9uOiB7XG4gICAgc3BpbmVJbmRleDogcGFnZS5zcGluZUluZGV4LFxuICAgIHBhZ2VJbmRleCxcbiAgICBvZmZzZXRJbkl0ZW06IHBhZ2Uub2Zmc2V0LFxuICB9LFxufSk7XG5cbmV4cG9ydCB0eXBlIE9QRlZpZXdJdGVtID0ge1xuICBpdGVtOiBPUEZJdGVtO1xuICB4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXI7XG4gIGluc3RhbmNlOiBPUFMuU3R5bGVJbnN0YW5jZTtcbiAgbGF5b3V0UG9zaXRpb25zOiBWdHJlZS5MYXlvdXRQb3NpdGlvbltdO1xuICBwYWdlczogVnRyZWUuUGFnZVtdO1xuICBjb21wbGV0ZTogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCBjbGFzcyBPUEZWaWV3IGltcGxlbWVudHMgVmdlbi5DdXN0b21SZW5kZXJlckZhY3Rvcnkge1xuICBzcGluZUl0ZW1zOiBPUEZWaWV3SXRlbVtdID0gW107XG4gIHNwaW5lSXRlbUxvYWRpbmdDb250aW51YXRpb25zOiBUYXNrLkNvbnRpbnVhdGlvbjxhbnk+W11bXSA9IFtdO1xuICBwcmVmOiBFeHBycy5QcmVmZXJlbmNlcztcbiAgY2xpZW50TGF5b3V0OiBWZ2VuLkRlZmF1bHRDbGllbnRMYXlvdXQ7XG4gIGNvdW50ZXJTdG9yZTogQ291bnRlcnMuQ291bnRlclN0b3JlO1xuICB0b2NBdXRvaGlkZTogYm9vbGVhbiA9IGZhbHNlO1xuICB0b2NWaWV3PzogVG9jLlRPQ1ZpZXc7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IG9wZjogT1BGRG9jLFxuICAgIHB1YmxpYyByZWFkb25seSB2aWV3cG9ydDogVmdlbi5WaWV3cG9ydCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9udE1hcHBlcjogRm9udC5NYXBwZXIsXG4gICAgcHJlZjogRXhwcnMuUHJlZmVyZW5jZXMsXG4gICAgcHVibGljIHJlYWRvbmx5IHBhZ2VTaGVldFNpemVSZXBvcnRlcjogKFxuICAgICAgcDE6IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfSxcbiAgICAgIHAyOiB7IFtrZXk6IHN0cmluZ106IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfSB9LFxuICAgICAgcDM6IG51bWJlcixcbiAgICAgIHA0OiBudW1iZXIsXG4gICAgKSA9PiBhbnksXG4gICkge1xuICAgIHRoaXMucHJlZiA9IEV4cHJzLmNsb25lUHJlZmVyZW5jZXMocHJlZik7XG4gICAgdGhpcy5jbGllbnRMYXlvdXQgPSBuZXcgVmdlbi5EZWZhdWx0Q2xpZW50TGF5b3V0KHZpZXdwb3J0KTtcbiAgICB0aGlzLmNvdW50ZXJTdG9yZSA9IG5ldyBDb3VudGVycy5Db3VudGVyU3RvcmUob3BmLmRvY3VtZW50VVJMVHJhbnNmb3JtZXIpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRQYWdlKHBvc2l0aW9uOiBQb3NpdGlvbik6IFZ0cmVlLlBhZ2Uge1xuICAgIGNvbnN0IHZpZXdJdGVtID0gdGhpcy5zcGluZUl0ZW1zW3Bvc2l0aW9uLnNwaW5lSW5kZXhdO1xuICAgIHJldHVybiB2aWV3SXRlbSA/IHZpZXdJdGVtLnBhZ2VzW3Bvc2l0aW9uLnBhZ2VJbmRleF0gOiBudWxsO1xuICB9XG5cbiAgZ2V0Q3VycmVudFBhZ2VQcm9ncmVzc2lvbihcbiAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICk6IENvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb24gfCBudWxsIHtcbiAgICBpZiAodGhpcy5vcGYucGFnZVByb2dyZXNzaW9uKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcGYucGFnZVByb2dyZXNzaW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB2aWV3SXRlbSA9IHRoaXMuc3BpbmVJdGVtc1twb3NpdGlvbiA/IHBvc2l0aW9uLnNwaW5lSW5kZXggOiAwXTtcbiAgICAgIHJldHVybiB2aWV3SXRlbSA/IHZpZXdJdGVtLmluc3RhbmNlLnBhZ2VQcm9ncmVzc2lvbiA6IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBmaW5pc2hQYWdlQ29udGFpbmVyKFxuICAgIHZpZXdJdGVtOiBPUEZWaWV3SXRlbSxcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIHBhZ2VJbmRleDogbnVtYmVyLFxuICApIHtcbiAgICBwYWdlLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgcGFnZS5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuICAgIHBhZ2UuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gXCJcIjtcbiAgICBwYWdlLmNvbnRhaW5lci5zdHlsZS50b3AgPSBcIlwiO1xuICAgIHBhZ2UuY29udGFpbmVyLnN0eWxlLmxlZnQgPSBcIlwiO1xuICAgIHBhZ2UuY29udGFpbmVyLnNldEF0dHJpYnV0ZShcbiAgICAgIFwiZGF0YS12aXZsaW9zdHlsZS1wYWdlLXNpZGVcIixcbiAgICAgIHBhZ2Uuc2lkZSBhcyBzdHJpbmcsXG4gICAgKTtcbiAgICBjb25zdCBvbGRQYWdlID0gdmlld0l0ZW0ucGFnZXNbcGFnZUluZGV4XTtcbiAgICBwYWdlLmlzRmlyc3RQYWdlID0gdmlld0l0ZW0uaXRlbS5zcGluZUluZGV4ID09IDAgJiYgcGFnZUluZGV4ID09IDA7XG4gICAgdmlld0l0ZW0ucGFnZXNbcGFnZUluZGV4XSA9IHBhZ2U7XG5cbiAgICBpZiAodGhpcy5vcGYuZXBhZ2VJc1JlbmRlcmVkUGFnZSkge1xuICAgICAgaWYgKHBhZ2VJbmRleCA9PSAwICYmIHZpZXdJdGVtLml0ZW0uc3BpbmVJbmRleCA+IDApIHtcbiAgICAgICAgY29uc3QgcHJldkl0ZW0gPSB0aGlzLm9wZi5zcGluZVt2aWV3SXRlbS5pdGVtLnNwaW5lSW5kZXggLSAxXTtcbiAgICAgICAgdmlld0l0ZW0uaXRlbS5lcGFnZSA9IHByZXZJdGVtLmVwYWdlICsgcHJldkl0ZW0uZXBhZ2VDb3VudDtcbiAgICAgIH1cbiAgICAgIHZpZXdJdGVtLml0ZW0uZXBhZ2VDb3VudCA9IHZpZXdJdGVtLnBhZ2VzLmxlbmd0aDtcbiAgICAgIHRoaXMub3BmLmVwYWdlQ291bnQgPSB0aGlzLm9wZi5zcGluZS5yZWR1Y2UoXG4gICAgICAgIChjb3VudCwgaXRlbSkgPT4gY291bnQgKyBpdGVtLmVwYWdlQ291bnQsXG4gICAgICAgIDAsXG4gICAgICApO1xuXG4gICAgICBpZiAodGhpcy5vcGYuZXBhZ2VDb3VudENhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMub3BmLmVwYWdlQ291bnRDYWxsYmFjayh0aGlzLm9wZi5lcGFnZUNvdW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob2xkUGFnZSkge1xuICAgICAgdmlld0l0ZW0uaW5zdGFuY2Uudmlld3BvcnQuY29udGVudENvbnRhaW5lci5yZXBsYWNlQ2hpbGQoXG4gICAgICAgIHBhZ2UuY29udGFpbmVyLFxuICAgICAgICBvbGRQYWdlLmNvbnRhaW5lcixcbiAgICAgICk7XG4gICAgICBvbGRQYWdlLmRpc3BhdGNoRXZlbnQoe1xuICAgICAgICB0eXBlOiBcInJlcGxhY2VkXCIsXG4gICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgY3VycmVudFRhcmdldDogbnVsbCxcbiAgICAgICAgcHJldmVudERlZmF1bHQ6IG51bGwsXG4gICAgICAgIG5ld1BhZ2U6IHBhZ2UsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRmluZCBpbnNlcnQgcG9zaXRpb24gaW4gY29udGVudENvbnRhaW5lci5cbiAgICAgIGxldCBpbnNlcnRQb3M6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgICAgIGlmIChwYWdlSW5kZXggPiAwKSB7XG4gICAgICAgIGluc2VydFBvcyA9IHZpZXdJdGVtLnBhZ2VzW3BhZ2VJbmRleCAtIDFdLmNvbnRhaW5lci5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIGxldCBpID0gdmlld0l0ZW0uaXRlbS5zcGluZUluZGV4ICsgMTtcbiAgICAgICAgICBpIDwgdGhpcy5zcGluZUl0ZW1zLmxlbmd0aDtcbiAgICAgICAgICBpKytcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuc3BpbmVJdGVtc1tpXTtcbiAgICAgICAgICBpZiAoaXRlbSAmJiBpdGVtLnBhZ2VzWzBdKSB7XG4gICAgICAgICAgICBpbnNlcnRQb3MgPSBpdGVtLnBhZ2VzWzBdLmNvbnRhaW5lcjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmlld0l0ZW0uaW5zdGFuY2Uudmlld3BvcnQuY29udGVudENvbnRhaW5lci5pbnNlcnRCZWZvcmUoXG4gICAgICAgIHBhZ2UuY29udGFpbmVyLFxuICAgICAgICBpbnNlcnRQb3MsXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLnBhZ2VTaGVldFNpemVSZXBvcnRlcihcbiAgICAgIHtcbiAgICAgICAgd2lkdGg6IHZpZXdJdGVtLmluc3RhbmNlLnBhZ2VTaGVldFdpZHRoLFxuICAgICAgICBoZWlnaHQ6IHZpZXdJdGVtLmluc3RhbmNlLnBhZ2VTaGVldEhlaWdodCxcbiAgICAgIH0sXG4gICAgICB2aWV3SXRlbS5pbnN0YW5jZS5wYWdlU2hlZXRTaXplLFxuICAgICAgdmlld0l0ZW0uaXRlbS5zcGluZUluZGV4LFxuICAgICAgdmlld0l0ZW0uaW5zdGFuY2UucGFnZU51bWJlck9mZnNldCArIHBhZ2VJbmRleCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIHNpbmdsZSBwYWdlLiBJZiB0aGUgbmV3IHBhZ2UgY29udGFpbnMgZWxlbWVudHMgd2l0aCBpZHMgdGhhdCBhcmVcbiAgICogcmVmZXJlbmNlZCBmcm9tIG90aGVyIHBhZ2VzIGJ5ICd0YXJnZXQtY291bnRlcigpJywgdGhvc2UgcGFnZXMgYXJlIHJlbmRlcmVkXG4gICAqIHRvbyAoY2FsbGluZyBgcmVuZGVyU2luZ2xlUGFnZWAgcmVjdXJzaXZlbHkpLlxuICAgKi9cbiAgcHJpdmF0ZSByZW5kZXJTaW5nbGVQYWdlKFxuICAgIHZpZXdJdGVtOiBPUEZWaWV3SXRlbSxcbiAgICBwb3M6IFZ0cmVlLkxheW91dFBvc2l0aW9uLFxuICApOiBUYXNrLlJlc3VsdDxSZW5kZXJTaW5nbGVQYWdlUmVzdWx0PiB7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8UmVuZGVyU2luZ2xlUGFnZVJlc3VsdD4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJyZW5kZXJTaW5nbGVQYWdlXCIsXG4gICAgKTtcbiAgICBsZXQgcGFnZSA9IHRoaXMubWFrZVBhZ2Uodmlld0l0ZW0sIHBvcyk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdmlld0l0ZW0uaW5zdGFuY2UubGF5b3V0TmV4dFBhZ2UocGFnZSwgcG9zKS50aGVuKChwb3NQYXJhbSkgPT4ge1xuICAgICAgcG9zID0gcG9zUGFyYW0gYXMgVnRyZWUuTGF5b3V0UG9zaXRpb247XG4gICAgICBjb25zdCBwYWdlSW5kZXggPSBwb3NcbiAgICAgICAgPyBwb3MucGFnZSAtIDFcbiAgICAgICAgOiB2aWV3SXRlbS5sYXlvdXRQb3NpdGlvbnMubGVuZ3RoIC0gMTtcbiAgICAgIHNlbGYuZmluaXNoUGFnZUNvbnRhaW5lcih2aWV3SXRlbSwgcGFnZSwgcGFnZUluZGV4KTtcbiAgICAgIHNlbGYuY291bnRlclN0b3JlLmZpbmlzaFBhZ2UocGFnZS5zcGluZUluZGV4LCBwYWdlSW5kZXgpO1xuXG4gICAgICAvLyBJZiB0aGUgcG9zaXRpb24gb2YgdGhlIHBhZ2UgYnJlYWsgY2hhbmdlLCB3ZSBzaG91bGQgcmUtbGF5b3V0IHRoZSBuZXh0XG4gICAgICAvLyBwYWdlIHRvby5cbiAgICAgIGxldCBjb250OiBUYXNrLlJlc3VsdDxhbnk+ID0gbnVsbDtcbiAgICAgIGlmIChwb3MpIHtcbiAgICAgICAgY29uc3QgcHJldlBvcyA9IHZpZXdJdGVtLmxheW91dFBvc2l0aW9uc1twb3MucGFnZV07XG4gICAgICAgIHZpZXdJdGVtLmxheW91dFBvc2l0aW9uc1twb3MucGFnZV0gPSBwb3M7XG4gICAgICAgIGlmIChwcmV2UG9zICYmIHZpZXdJdGVtLnBhZ2VzW3Bvcy5wYWdlXSkge1xuICAgICAgICAgIGlmICghcG9zLmlzU2FtZVBvc2l0aW9uKHByZXZQb3MpKSB7XG4gICAgICAgICAgICBjb250ID0gc2VsZi5yZW5kZXJTaW5nbGVQYWdlKHZpZXdJdGVtLCBwb3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFjb250KSB7XG4gICAgICAgIGNvbnQgPSBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIH1cbiAgICAgIGNvbnQudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVucmVzb2x2ZWRSZWZzID0gc2VsZi5jb3VudGVyU3RvcmUuZ2V0VW5yZXNvbHZlZFJlZnNUb1BhZ2UocGFnZSk7XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGZyYW1lXG4gICAgICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIGlmIChpbmRleCA+IHVucmVzb2x2ZWRSZWZzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlZnMgPSB1bnJlc29sdmVkUmVmc1tpbmRleCAtIDFdO1xuICAgICAgICAgICAgcmVmcy5yZWZzID0gcmVmcy5yZWZzLmZpbHRlcigocmVmKSA9PiAhcmVmLmlzUmVzb2x2ZWQoKSk7XG4gICAgICAgICAgICBpZiAocmVmcy5yZWZzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYuZ2V0UGFnZVZpZXdJdGVtKHJlZnMuc3BpbmVJbmRleCkudGhlbigodmlld0l0ZW0pID0+IHtcbiAgICAgICAgICAgICAgaWYgKCF2aWV3SXRlbSkge1xuICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUucHVzaFBhZ2VDb3VudGVycyhyZWZzLnBhZ2VDb3VudGVycyk7XG4gICAgICAgICAgICAgIHNlbGYuY291bnRlclN0b3JlLnB1c2hSZWZlcmVuY2VzVG9Tb2x2ZShyZWZzLnJlZnMpO1xuICAgICAgICAgICAgICBjb25zdCBwb3MgPSB2aWV3SXRlbS5sYXlvdXRQb3NpdGlvbnNbcmVmcy5wYWdlSW5kZXhdO1xuICAgICAgICAgICAgICBzZWxmLnJlbmRlclNpbmdsZVBhZ2Uodmlld0l0ZW0sIHBvcykudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUucG9wUGFnZUNvdW50ZXJzKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUucG9wUmVmZXJlbmNlc1RvU29sdmUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRQb3NpdGlvbiA9IHJlc3VsdC5wYWdlQW5kUG9zaXRpb24ucG9zaXRpb247XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgcmVzdWx0UG9zaXRpb24uc3BpbmVJbmRleCA9PT0gcGFnZS5zcGluZUluZGV4ICYmXG4gICAgICAgICAgICAgICAgICByZXN1bHRQb3NpdGlvbi5wYWdlSW5kZXggPT09IHBhZ2VJbmRleFxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgcGFnZSA9IHJlc3VsdC5wYWdlQW5kUG9zaXRpb24ucGFnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFwYWdlLmNvbnRhaW5lci5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgIC8vIHBhZ2UgaXMgcmVwbGFjZWRcbiAgICAgICAgICAgICAgcGFnZSA9IHZpZXdJdGVtLnBhZ2VzW3BhZ2VJbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWdlLmlzTGFzdFBhZ2UgPVxuICAgICAgICAgICAgICAhcG9zICYmIHZpZXdJdGVtLml0ZW0uc3BpbmVJbmRleCA9PT0gc2VsZi5vcGYuc3BpbmUubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGlmIChwYWdlLmlzTGFzdFBhZ2UpIHtcbiAgICAgICAgICAgICAgQXNzZXJ0cy5hc3NlcnQoc2VsZi52aWV3cG9ydCk7XG4gICAgICAgICAgICAgIHNlbGYuY291bnRlclN0b3JlLmZpbmlzaExhc3RQYWdlKHNlbGYudmlld3BvcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhbWUuZmluaXNoKHtcbiAgICAgICAgICAgICAgcGFnZUFuZFBvc2l0aW9uOiBtYWtlUGFnZUFuZFBvc2l0aW9uKHBhZ2UsIHBhZ2VJbmRleCksXG4gICAgICAgICAgICAgIG5leHRMYXlvdXRQb3NpdGlvbjogcG9zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBwcml2YXRlIG5vcm1hbGl6ZVNlZWtQb3NpdGlvbihcbiAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICAgdmlld0l0ZW06IE9QRlZpZXdJdGVtLFxuICApOiBQb3NpdGlvbiB8IG51bGwge1xuICAgIGxldCBwYWdlSW5kZXggPSBwb3NpdGlvbi5wYWdlSW5kZXg7XG4gICAgbGV0IHNlZWtPZmZzZXQgPSAtMTtcbiAgICBpZiAocGFnZUluZGV4IDwgMCkge1xuICAgICAgc2Vla09mZnNldCA9IHBvc2l0aW9uLm9mZnNldEluSXRlbTtcblxuICAgICAgLy8gcGFnZSB3aXRoIG9mZnNldCBoaWdoZXIgdGhhbiBzZWVrT2Zmc2V0XG4gICAgICBjb25zdCBzZWVrT2Zmc2V0UGFnZUluZGV4ID0gQmFzZS5iaW5hcnlTZWFyY2goXG4gICAgICAgIHZpZXdJdGVtLmxheW91dFBvc2l0aW9ucy5sZW5ndGgsXG4gICAgICAgIChwYWdlSW5kZXgpID0+IHtcbiAgICAgICAgICAvLyAnbm9Mb29rQWhlYWQnIGFyZ3VtZW50IG9mIGdldFBvc2l0aW9uIG11c3QgYmUgdHJ1ZSwgc2luY2VcbiAgICAgICAgICAvLyBvdGhlcndpc2UgU3R5bGVJbnN0YW5jZS5jdXJyZW50TGF5b3V0UG9zaXRpb24gaXMgbW9kaWZpZWRcbiAgICAgICAgICAvLyB1bmludGVudGlvbmFsbHkuXG4gICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdmlld0l0ZW0uaW5zdGFuY2UuZ2V0UG9zaXRpb24oXG4gICAgICAgICAgICB2aWV3SXRlbS5sYXlvdXRQb3NpdGlvbnNbcGFnZUluZGV4XSxcbiAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gb2Zmc2V0ID4gc2Vla09mZnNldDtcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICBpZiAoc2Vla09mZnNldFBhZ2VJbmRleCA9PT0gdmlld0l0ZW0ubGF5b3V0UG9zaXRpb25zLmxlbmd0aCkge1xuICAgICAgICBpZiAodmlld0l0ZW0uY29tcGxldGUpIHtcbiAgICAgICAgICBwYWdlSW5kZXggPSB2aWV3SXRlbS5sYXlvdXRQb3NpdGlvbnMubGVuZ3RoIC0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBuZWVkIHRvIHNlYXJjaCB0aHJvdWdoIHBhZ2VzIHRoYXQgYXJlIG5vdCB5ZXQgcHJvZHVjZWRcbiAgICAgICAgICBwYWdlSW5kZXggPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHBhZ2UgdGhhdCBjb250YWlucyBzZWVrT2Zmc2V0XG4gICAgICAgIHBhZ2VJbmRleCA9IHNlZWtPZmZzZXRQYWdlSW5kZXggLSAxO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoXG4gICAgICBwYWdlSW5kZXggPT09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSAmJlxuICAgICAgcG9zaXRpb24ub2Zmc2V0SW5JdGVtICE9PSAtMVxuICAgICkge1xuICAgICAgc2Vla09mZnNldCA9IHBvc2l0aW9uLm9mZnNldEluSXRlbTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHNwaW5lSW5kZXg6IHBvc2l0aW9uLnNwaW5lSW5kZXgsXG4gICAgICBwYWdlSW5kZXgsXG4gICAgICBvZmZzZXRJbkl0ZW06IHNlZWtPZmZzZXQsXG4gICAgfSBhcyBQb3NpdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kIGEgcGFnZSBjb3JyZXNwb25kaW5nIHRvIGEgc3BlY2lmaWVkIHBvc2l0aW9uIGFtb25nIGFscmVhZHkgbGFpZCBvdXRcbiAgICogcGFnZXMuXG4gICAqIEBwYXJhbSBzeW5jIElmIHRydWUsIGZpbmQgdGhlIHBhZ2Ugc3luY2hyb25vdXNseSAobm90IHdhaXRpbmcgYW5vdGhlclxuICAgKiAgICAgcmVuZGVyaW5nIHRhc2spXG4gICAqL1xuICBwcml2YXRlIGZpbmRQYWdlKFxuICAgIHBvc2l0aW9uOiBQb3NpdGlvbixcbiAgICBzeW5jOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4gPSBUYXNrLm5ld0ZyYW1lKFwiZmluZFBhZ2VcIik7XG4gICAgc2VsZi5nZXRQYWdlVmlld0l0ZW0ocG9zaXRpb24uc3BpbmVJbmRleCkudGhlbigodmlld0l0ZW0pID0+IHtcbiAgICAgIGlmICghdmlld0l0ZW0pIHtcbiAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgcmVzdWx0UGFnZTogVnRyZWUuUGFnZSA9IG51bGw7XG4gICAgICBsZXQgcGFnZUluZGV4OiBudW1iZXI7XG4gICAgICBmcmFtZVxuICAgICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFBvc2l0aW9uID0gc2VsZi5ub3JtYWxpemVTZWVrUG9zaXRpb24oXG4gICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgIHZpZXdJdGVtLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcGFnZUluZGV4ID0gbm9ybWFsaXplZFBvc2l0aW9uLnBhZ2VJbmRleDtcbiAgICAgICAgICByZXN1bHRQYWdlID0gdmlld0l0ZW0ucGFnZXNbcGFnZUluZGV4XTtcbiAgICAgICAgICBpZiAocmVzdWx0UGFnZSkge1xuICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodmlld0l0ZW0uY29tcGxldGUpIHtcbiAgICAgICAgICAgIHBhZ2VJbmRleCA9IHZpZXdJdGVtLmxheW91dFBvc2l0aW9ucy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgcmVzdWx0UGFnZSA9IHZpZXdJdGVtLnBhZ2VzW3BhZ2VJbmRleF07XG4gICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzeW5jKSB7XG4gICAgICAgICAgICBzZWxmLnJlbmRlclBhZ2Uobm9ybWFsaXplZFBvc2l0aW9uKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFBhZ2UgPSByZXN1bHQucGFnZTtcbiAgICAgICAgICAgICAgICBwYWdlSW5kZXggPSByZXN1bHQucG9zaXRpb24ucGFnZUluZGV4O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgbGF5b3V0IHRhc2sgYW5kIHJldHJ5XG4gICAgICAgICAgICBmcmFtZS5zbGVlcCgxMDApLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBBc3NlcnRzLmFzc2VydChyZXN1bHRQYWdlKTtcbiAgICAgICAgICBmcmFtZS5maW5pc2gobWFrZVBhZ2VBbmRQb3NpdGlvbihyZXN1bHRQYWdlLCBwYWdlSW5kZXgpKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlcnMgYSBwYWdlIGF0IHRoZSBzcGVjaWZpZWQgcG9zaXRpb24uXG4gICAqL1xuICByZW5kZXJQYWdlKHBvc2l0aW9uOiBQb3NpdGlvbik6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcInJlbmRlclBhZ2VcIixcbiAgICApO1xuICAgIHNlbGYuZ2V0UGFnZVZpZXdJdGVtKHBvc2l0aW9uLnNwaW5lSW5kZXgpLnRoZW4oKHZpZXdJdGVtKSA9PiB7XG4gICAgICBpZiAoIXZpZXdJdGVtKSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZFBvc2l0aW9uID0gc2VsZi5ub3JtYWxpemVTZWVrUG9zaXRpb24ocG9zaXRpb24sIHZpZXdJdGVtKTtcbiAgICAgIGxldCBwYWdlSW5kZXggPSBub3JtYWxpemVkUG9zaXRpb24ucGFnZUluZGV4O1xuICAgICAgY29uc3Qgc2Vla09mZnNldCA9IG5vcm1hbGl6ZWRQb3NpdGlvbi5vZmZzZXRJbkl0ZW07XG4gICAgICBsZXQgcmVzdWx0UGFnZSA9IHZpZXdJdGVtLnBhZ2VzW3BhZ2VJbmRleF07XG4gICAgICBpZiAocmVzdWx0UGFnZSkge1xuICAgICAgICBmcmFtZS5maW5pc2gobWFrZVBhZ2VBbmRQb3NpdGlvbihyZXN1bHRQYWdlLCBwYWdlSW5kZXgpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZnJhbWVcbiAgICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICAgIGlmIChwYWdlSW5kZXggPCB2aWV3SXRlbS5sYXlvdXRQb3NpdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh2aWV3SXRlbS5jb21wbGV0ZSkge1xuICAgICAgICAgICAgcGFnZUluZGV4ID0gdmlld0l0ZW0ubGF5b3V0UG9zaXRpb25zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBwb3MgPVxuICAgICAgICAgICAgdmlld0l0ZW0ubGF5b3V0UG9zaXRpb25zW3ZpZXdJdGVtLmxheW91dFBvc2l0aW9ucy5sZW5ndGggLSAxXTtcbiAgICAgICAgICBzZWxmLnJlbmRlclNpbmdsZVBhZ2Uodmlld0l0ZW0sIHBvcykudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYWdlID0gcmVzdWx0LnBhZ2VBbmRQb3NpdGlvbi5wYWdlO1xuICAgICAgICAgICAgcG9zID0gcmVzdWx0Lm5leHRMYXlvdXRQb3NpdGlvbjtcbiAgICAgICAgICAgIGlmIChwb3MpIHtcbiAgICAgICAgICAgICAgaWYgKHNlZWtPZmZzZXQgPj0gMCkge1xuICAgICAgICAgICAgICAgIC8vIFNlYXJjaGluZyBmb3Igb2Zmc2V0LCBkb24ndCBrbm93IHRoZSBwYWdlIG51bWJlci5cbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSB2aWV3SXRlbS5pbnN0YW5jZS5nZXRQb3NpdGlvbihwb3MpO1xuICAgICAgICAgICAgICAgIGlmIChvZmZzZXQgPiBzZWVrT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICByZXN1bHRQYWdlID0gcGFnZTtcbiAgICAgICAgICAgICAgICAgIHBhZ2VJbmRleCA9IHZpZXdJdGVtLmxheW91dFBvc2l0aW9ucy5sZW5ndGggLSAyO1xuICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXN1bHRQYWdlID0gcGFnZTtcbiAgICAgICAgICAgICAgcGFnZUluZGV4ID0gcmVzdWx0LnBhZ2VBbmRQb3NpdGlvbi5wb3NpdGlvbi5wYWdlSW5kZXg7XG4gICAgICAgICAgICAgIHZpZXdJdGVtLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmVzdWx0UGFnZSA9IHJlc3VsdFBhZ2UgfHwgdmlld0l0ZW0ucGFnZXNbcGFnZUluZGV4XTtcbiAgICAgICAgICBjb25zdCBwb3MgPSB2aWV3SXRlbS5sYXlvdXRQb3NpdGlvbnNbcGFnZUluZGV4XTtcbiAgICAgICAgICBpZiAocmVzdWx0UGFnZSkge1xuICAgICAgICAgICAgZnJhbWUuZmluaXNoKG1ha2VQYWdlQW5kUG9zaXRpb24ocmVzdWx0UGFnZSwgcGFnZUluZGV4KSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlbGYucmVuZGVyU2luZ2xlUGFnZSh2aWV3SXRlbSwgcG9zKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGlmICghcmVzdWx0Lm5leHRMYXlvdXRQb3NpdGlvbikge1xuICAgICAgICAgICAgICB2aWV3SXRlbS5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFtZS5maW5pc2gocmVzdWx0LnBhZ2VBbmRQb3NpdGlvbik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHJlbmRlckFsbFBhZ2VzKCk6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJQYWdlc1VwdG8oXG4gICAgICB7XG4gICAgICAgIHNwaW5lSW5kZXg6IHRoaXMub3BmLnNwaW5lLmxlbmd0aCAtIDEsXG4gICAgICAgIHBhZ2VJbmRleDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgICAgICBvZmZzZXRJbkl0ZW06IC0xLFxuICAgICAgfSxcbiAgICAgIGZhbHNlLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIHBhZ2VzIGZyb20gKHNwaW5lSW5kZXg9MCwgcGFnZUluZGV4PTApIHRvIHRoZSBzcGVjaWZpZWQgKHNwaW5lSW5kZXgsXG4gICAqIHBhZ2VJbmRleCkuXG4gICAqIEBwYXJhbSBub3RBbGxQYWdlcyBJZiB0cnVlLCByZW5kZXIgZnJvbSBiaWdpbm5pbmcgb2Ygc3BlY2lmaWVkIHNwaW5lIGl0ZW0uXG4gICAqL1xuICByZW5kZXJQYWdlc1VwdG8oXG4gICAgcG9zaXRpb246IFBvc2l0aW9uLFxuICAgIG5vdEFsbFBhZ2VzOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJyZW5kZXJQYWdlc1VwdG9cIixcbiAgICApO1xuICAgIGlmICghcG9zaXRpb24pIHtcbiAgICAgIHBvc2l0aW9uID0geyBzcGluZUluZGV4OiAwLCBwYWdlSW5kZXg6IDAsIG9mZnNldEluSXRlbTogMCB9O1xuICAgIH1cbiAgICBjb25zdCBzcGluZUluZGV4ID0gcG9zaXRpb24uc3BpbmVJbmRleDtcbiAgICBjb25zdCBwYWdlSW5kZXggPSBwb3NpdGlvbi5wYWdlSW5kZXg7XG4gICAgbGV0IHMgPSAwO1xuXG4gICAgaWYgKG5vdEFsbFBhZ2VzKSB7XG4gICAgICAvLyBSZW5kZXIgcGFnZXMgZnJvbSBiaWdpbm5pbmcgb2Ygc3BlY2lmaWVkIHNwaW5lIGl0ZW0uXG4gICAgICBzID0gc3BpbmVJbmRleDtcbiAgICB9XG5cbiAgICBsZXQgbGFzdFJlc3VsdDogUGFnZUFuZFBvc2l0aW9uO1xuICAgIGZyYW1lXG4gICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IHBvcyA9IHtcbiAgICAgICAgICBzcGluZUluZGV4OiBzLFxuICAgICAgICAgIHBhZ2VJbmRleDogcyA9PT0gc3BpbmVJbmRleCA/IHBhZ2VJbmRleCA6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgICBvZmZzZXRJbkl0ZW06IHMgPT09IHNwaW5lSW5kZXggPyBwb3NpdGlvbi5vZmZzZXRJbkl0ZW0gOiAtMSxcbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5yZW5kZXJQYWdlKHBvcykudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgbGFzdFJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgICBpZiAoKytzID4gc3BpbmVJbmRleCkge1xuICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChsYXN0UmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIHRoZSBmaXJzdCBwYWdlIGFuZCByZW5kZXIgaXQuXG4gICAqL1xuICBmaXJzdFBhZ2UoXG4gICAgcG9zaXRpb246IFBvc2l0aW9uLFxuICAgIHN5bmM6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICByZXR1cm4gdGhpcy5maW5kUGFnZShcbiAgICAgIHsgc3BpbmVJbmRleDogMCwgcGFnZUluZGV4OiAwLCBvZmZzZXRJbkl0ZW06IC0xIH0sXG4gICAgICBzeW5jLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0byB0aGUgbGFzdCBwYWdlIGFuZCByZW5kZXIgaXQuXG4gICAqL1xuICBsYXN0UGFnZShcbiAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICAgc3luYzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIHJldHVybiB0aGlzLmZpbmRQYWdlKFxuICAgICAge1xuICAgICAgICBzcGluZUluZGV4OiB0aGlzLm9wZi5zcGluZS5sZW5ndGggLSAxLFxuICAgICAgICBwYWdlSW5kZXg6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgb2Zmc2V0SW5JdGVtOiAtMSxcbiAgICAgIH0sXG4gICAgICBzeW5jLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0byB0aGUgbmV4dCBwYWdlIHBvc2l0aW9uIGFuZCByZW5kZXIgcGFnZS5cbiAgICogQHBhcmFtIHN5bmMgSWYgdHJ1ZSwgZ2V0IHRoZSBwYWdlIHN5bmNocm9ub3VzbHkgKG5vdCB3YWl0aW5nIGFub3RoZXJcbiAgICogICAgIHJlbmRlcmluZyB0YXNrKVxuICAgKi9cbiAgbmV4dFBhZ2UoXG4gICAgcG9zaXRpb246IFBvc2l0aW9uLFxuICAgIHN5bmM6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBsZXQgc3BpbmVJbmRleCA9IHBvc2l0aW9uLnNwaW5lSW5kZXg7XG4gICAgbGV0IHBhZ2VJbmRleCA9IHBvc2l0aW9uLnBhZ2VJbmRleDtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiA9IFRhc2submV3RnJhbWUoXCJuZXh0UGFnZVwiKTtcbiAgICBzZWxmLmdldFBhZ2VWaWV3SXRlbShzcGluZUluZGV4KS50aGVuKCh2aWV3SXRlbSkgPT4ge1xuICAgICAgaWYgKCF2aWV3SXRlbSkge1xuICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgdmlld0l0ZW0uY29tcGxldGUgJiZcbiAgICAgICAgcGFnZUluZGV4ID09IHZpZXdJdGVtLmxheW91dFBvc2l0aW9ucy5sZW5ndGggLSAxXG4gICAgICApIHtcbiAgICAgICAgaWYgKHNwaW5lSW5kZXggPj0gc2VsZi5vcGYuc3BpbmUubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3BpbmVJbmRleCsrO1xuICAgICAgICBwYWdlSW5kZXggPSAwO1xuXG4gICAgICAgIC8vIFJlbW92ZSBuZXh0IHZpZXdJdGVtIGlmIGl0cyBmaXJzdCBwYWdlIGhhcyBzYW1lIHNpZGUgYXMgdGhlIGN1cnJlbnQgcGFnZVxuICAgICAgICAvLyB0byBhdm9pZCB1bnBhaXJlZCBwYWdlLlxuICAgICAgICBjb25zdCBuZXh0Vmlld0l0ZW0gPSB0aGlzLnNwaW5lSXRlbXNbc3BpbmVJbmRleF07XG4gICAgICAgIGNvbnN0IG5leHRQYWdlID0gbmV4dFZpZXdJdGVtICYmIG5leHRWaWV3SXRlbS5wYWdlc1swXTtcbiAgICAgICAgY29uc3QgY3VycmVudFBhZ2UgPSB2aWV3SXRlbS5wYWdlc1t2aWV3SXRlbS5wYWdlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKG5leHRQYWdlICYmIGN1cnJlbnRQYWdlICYmIG5leHRQYWdlLnNpZGUgPT0gY3VycmVudFBhZ2Uuc2lkZSkge1xuICAgICAgICAgIG5leHRWaWV3SXRlbS5wYWdlcy5mb3JFYWNoKChwYWdlKSA9PiB7XG4gICAgICAgICAgICBpZiAocGFnZS5jb250YWluZXIpIHBhZ2UuY29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuc3BpbmVJdGVtc1tzcGluZUluZGV4XSA9IG51bGw7XG4gICAgICAgICAgdGhpcy5zcGluZUl0ZW1Mb2FkaW5nQ29udGludWF0aW9uc1tzcGluZUluZGV4XSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhZ2VJbmRleCsrO1xuICAgICAgfVxuICAgICAgc2VsZlxuICAgICAgICAuZmluZFBhZ2UoeyBzcGluZUluZGV4LCBwYWdlSW5kZXgsIG9mZnNldEluSXRlbTogLTEgfSwgc3luYylcbiAgICAgICAgLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIHRoZSBwcmV2aW91cyBwYWdlIGFuZCByZW5kZXIgaXQuXG4gICAqL1xuICBwcmV2aW91c1BhZ2UoXG4gICAgcG9zaXRpb246IFBvc2l0aW9uLFxuICAgIHN5bmM6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICBsZXQgc3BpbmVJbmRleCA9IHBvc2l0aW9uLnNwaW5lSW5kZXg7XG4gICAgbGV0IHBhZ2VJbmRleCA9IHBvc2l0aW9uLnBhZ2VJbmRleDtcbiAgICBpZiAocGFnZUluZGV4ID09IDApIHtcbiAgICAgIGlmIChzcGluZUluZGV4ID09IDApIHtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwgYXMgUGFnZUFuZFBvc2l0aW9uIHwgbnVsbCk7XG4gICAgICB9XG4gICAgICBzcGluZUluZGV4LS07XG4gICAgICBwYWdlSW5kZXggPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhZ2VJbmRleC0tO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5maW5kUGFnZSh7IHNwaW5lSW5kZXgsIHBhZ2VJbmRleCwgb2Zmc2V0SW5JdGVtOiAtMSB9LCBzeW5jKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gcGFnZSBUaGlzIHBhZ2Ugc2hvdWxkIGJlIGEgY3VycmVudGx5IGRpc3BsYXllZCBwYWdlLlxuICAgKi9cbiAgcHJpdmF0ZSBpc1JlY3RvUGFnZShwYWdlOiBWdHJlZS5QYWdlLCBwb3NpdGlvbjogUG9zaXRpb24pOiBib29sZWFuIHtcbiAgICBjb25zdCBpc0xlZnQgPSBwYWdlLnNpZGUgPT09IENvbnN0YW50cy5QYWdlU2lkZS5MRUZUO1xuICAgIGNvbnN0IGlzTFRSID1cbiAgICAgIHRoaXMuZ2V0Q3VycmVudFBhZ2VQcm9ncmVzc2lvbihwb3NpdGlvbikgPT09XG4gICAgICBDb25zdGFudHMuUGFnZVByb2dyZXNzaW9uLkxUUjtcbiAgICByZXR1cm4gKCFpc0xlZnQgJiYgaXNMVFIpIHx8IChpc0xlZnQgJiYgIWlzTFRSKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBzcHJlYWQgY29udGFpbmluZyB0aGUgY3VycmVudGx5IGRpc3BsYXllZCBwYWdlLlxuICAgKiBAcGFyYW0gc3luYyBJZiB0cnVlLCBnZXQgdGhlIHNwcmVhZCBzeW5jaHJvbm91c2x5IChub3Qgd2FpdGluZyBhbm90aGVyXG4gICAqICAgICByZW5kZXJpbmcgdGFzaylcbiAgICovXG4gIGdldFNwcmVhZChwb3NpdGlvbjogUG9zaXRpb24sIHN5bmM6IGJvb2xlYW4pOiBUYXNrLlJlc3VsdDxWdHJlZS5TcHJlYWQ+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5TcHJlYWQ+ID0gVGFzay5uZXdGcmFtZShcImdldEN1cnJlbnRTcHJlYWRcIik7XG4gICAgY29uc3QgcGFnZSA9IHRoaXMuZ2V0UGFnZShwb3NpdGlvbik7XG4gICAgaWYgKCFwYWdlKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoXG4gICAgICAgIC8qKiBAdHlwZSBWdHJlZS5TcHJlYWQgKi9cbiAgICAgICAgeyBsZWZ0OiBudWxsLCByaWdodDogbnVsbCB9IGFzIFZ0cmVlLlNwcmVhZCxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGlzTGVmdCA9IHBhZ2Uuc2lkZSA9PT0gQ29uc3RhbnRzLlBhZ2VTaWRlLkxFRlQ7XG4gICAgbGV0IG90aGVyOiBUYXNrLlJlc3VsdDxQYWdlQW5kUG9zaXRpb24+O1xuICAgIGlmICh0aGlzLmlzUmVjdG9QYWdlKHBhZ2UsIHBvc2l0aW9uKSkge1xuICAgICAgb3RoZXIgPSB0aGlzLnByZXZpb3VzUGFnZShwb3NpdGlvbiwgc3luYyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG90aGVyID0gdGhpcy5uZXh0UGFnZShwb3NpdGlvbiwgc3luYyk7XG4gICAgfVxuICAgIG90aGVyLnRoZW4oKG90aGVyUGFnZUFuZFBvc2l0aW9uKSA9PiB7XG4gICAgICAvLyB0aGlzIHBhZ2UgbWF5IGJlIHJlcGxhY2VkIGR1cmluZyBuZXh0UGFnZSgpLCBzbyBnZXQgdGhpc1BhZ2UgYWdhaW4uXG4gICAgICBjb25zdCB0aGlzUGFnZSA9IHRoaXMuZ2V0UGFnZShwb3NpdGlvbik7XG5cbiAgICAgIGxldCBvdGhlclBhZ2UgPSBvdGhlclBhZ2VBbmRQb3NpdGlvbiAmJiBvdGhlclBhZ2VBbmRQb3NpdGlvbi5wYWdlO1xuICAgICAgaWYgKG90aGVyUGFnZSAmJiBvdGhlclBhZ2Uuc2lkZSA9PT0gdGhpc1BhZ2Uuc2lkZSkge1xuICAgICAgICAvLyBvdGhlclBhZ2UgbXVzdCBub3QgYmUgc2FtZSBzaWRlXG4gICAgICAgIG90aGVyUGFnZSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0xlZnQpIHtcbiAgICAgICAgZnJhbWUuZmluaXNoKHsgbGVmdDogdGhpc1BhZ2UsIHJpZ2h0OiBvdGhlclBhZ2UgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmcmFtZS5maW5pc2goeyBsZWZ0OiBvdGhlclBhZ2UsIHJpZ2h0OiB0aGlzUGFnZSB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0byB0aGUgbmV4dCBzcHJlYWQgYW5kIHJlbmRlciBwYWdlcy5cbiAgICogQHBhcmFtIHN5bmMgSWYgdHJ1ZSwgZ2V0IHRoZSBzcHJlYWQgc3luY2hyb25vdXNseSAobm90IHdhaXRpbmcgYW5vdGhlclxuICAgKiAgICAgcmVuZGVyaW5nIHRhc2spXG4gICAqIEByZXR1cm5zIFRoZSAndmVyc28nIHBhZ2Ugb2YgdGhlIG5leHQgc3ByZWFkLlxuICAgKi9cbiAgbmV4dFNwcmVhZChcbiAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICAgc3luYzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIGNvbnN0IHBhZ2UgPSB0aGlzLmdldFBhZ2UocG9zaXRpb24pO1xuICAgIGlmICghcGFnZSkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwgYXMgUGFnZUFuZFBvc2l0aW9uIHwgbnVsbCk7XG4gICAgfVxuICAgIGNvbnN0IGlzUmVjdG8gPSB0aGlzLmlzUmVjdG9QYWdlKHBhZ2UsIHBvc2l0aW9uKTtcbiAgICBjb25zdCBuZXh0ID0gdGhpcy5uZXh0UGFnZShwb3NpdGlvbiwgc3luYyk7XG4gICAgaWYgKGlzUmVjdG8pIHtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgIHJldHVybiBuZXh0LnRoZW5Bc3luYygocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBpZiAocmVzdWx0LnBhZ2Uuc2lkZSA9PT0gcGFnZS5zaWRlKSB7XG4gICAgICAgICAgICAvLyBJZiBzYW1lIHNpZGUsIHRoaXMgaXMgdGhlIG5leHQgc3ByZWFkLlxuICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IG5leHQyID0gc2VsZi5uZXh0UGFnZShyZXN1bHQucG9zaXRpb24sIHN5bmMpO1xuICAgICAgICAgIHJldHVybiBuZXh0Mi50aGVuQXN5bmMoKHJlc3VsdDIpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQyKSB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXh0MjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgdGhhIGxhc3Qgc3ByZWFkLCBtb3ZlIHRvIG5leHQgcGFnZSBpbiB0aGUgc2FtZSBzcHJlYWQuXG4gICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsIGFzIFBhZ2VBbmRQb3NpdGlvbiB8IG51bGwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0byB0aGUgcHJldmlvdXMgc3ByZWFkIGFuZCByZW5kZXIgcGFnZXMuXG4gICAqIEByZXR1cm5zIFRoZSAncmVjdG8nIHBhZ2Ugb2YgdGhlIHByZXZpb3VzIHNwcmVhZC5cbiAgICovXG4gIHByZXZpb3VzU3ByZWFkKFxuICAgIHBvc2l0aW9uOiBQb3NpdGlvbixcbiAgICBzeW5jOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiB7XG4gICAgY29uc3QgcGFnZSA9IHRoaXMuZ2V0UGFnZShwb3NpdGlvbik7XG4gICAgaWYgKCFwYWdlKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCBhcyBQYWdlQW5kUG9zaXRpb24gfCBudWxsKTtcbiAgICB9XG4gICAgY29uc3QgaXNSZWN0byA9IHRoaXMuaXNSZWN0b1BhZ2UocGFnZSwgcG9zaXRpb24pO1xuICAgIGNvbnN0IHByZXYgPSB0aGlzLnByZXZpb3VzUGFnZShwb3NpdGlvbiwgc3luYyk7XG4gICAgY29uc3Qgb2xkUHJldlBhZ2VDb250ID0gcGFnZS5jb250YWluZXIucHJldmlvdXNFbGVtZW50U2libGluZztcbiAgICBpZiAoaXNSZWN0bykge1xuICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICByZXR1cm4gcHJldi50aGVuQXN5bmMoKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgaWYgKHJlc3VsdC5wYWdlLnNpZGUgPT09IHBhZ2Uuc2lkZSkge1xuICAgICAgICAgICAgLy8gSWYgc2FtZSBzaWRlLCB0aGlzIGlzIHRoZSBwcmV2aW91cyBzcHJlYWQuXG4gICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJlc3VsdC5wYWdlLmNvbnRhaW5lciAhPT0gb2xkUHJldlBhZ2VDb250KSB7XG4gICAgICAgICAgICAvLyBJZiBwcmV2aW91cyBwYWdlIGlzIGNoYW5nZWQsIHJldHVybiBpdC5cbiAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gc2VsZi5wcmV2aW91c1BhZ2UocmVzdWx0LnBvc2l0aW9uLCBzeW5jKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCBhcyBQYWdlQW5kUG9zaXRpb24gfCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBwcmV2O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIHRoZSBlcGFnZSBzcGVjaWZpZWQgYnkgdGhlIGdpdmVuIG51bWJlciAoemVyby1iYXNlZCkgYW5kIHJlbmRlciBpdC5cbiAgICovXG4gIG5hdmlnYXRlVG9FUGFnZShcbiAgICBlcGFnZTogbnVtYmVyLFxuICAgIHBvc2l0aW9uOiBQb3NpdGlvbixcbiAgICBzeW5jOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiB7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJuYXZpZ2F0ZVRvRVBhZ2VcIixcbiAgICApO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHRoaXMub3BmLnJlc29sdmVFUGFnZShlcGFnZSkudGhlbigocG9zaXRpb24pID0+IHtcbiAgICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgICBzZWxmLmZpbmRQYWdlKHBvc2l0aW9uLCBzeW5jKS50aGVuRmluaXNoKGZyYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0byB0aGUgcGFnZSBzcGVjaWZpZWQgYnkgdGhlIGdpdmVuIENGSSBhbmQgcmVuZGVyIGl0LlxuICAgKi9cbiAgbmF2aWdhdGVUb0ZyYWdtZW50KFxuICAgIGZyYWdtZW50OiBzdHJpbmcsXG4gICAgcG9zaXRpb246IFBvc2l0aW9uLFxuICAgIHN5bmM6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcIm5hdmlnYXRlVG9DRklcIixcbiAgICApO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHNlbGYub3BmLnJlc29sdmVGcmFnbWVudChmcmFnbWVudCkudGhlbigocG9zaXRpb24pID0+IHtcbiAgICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgICBzZWxmLmZpbmRQYWdlKHBvc2l0aW9uLCBzeW5jKS50aGVuRmluaXNoKGZyYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0byB0aGUgcGFnZSBzcGVjaWZpZWQgYnkgdGhlIGdpdmVuIFVSTCBhbmQgcmVuZGVyIGl0LlxuICAgKi9cbiAgbmF2aWdhdGVUbyhcbiAgICBocmVmOiBzdHJpbmcsXG4gICAgcG9zaXRpb246IFBvc2l0aW9uLFxuICAgIHN5bmM6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICBMb2dnaW5nLmxvZ2dlci5kZWJ1ZyhcIk5hdmlnYXRlIHRvXCIsIGhyZWYpO1xuICAgIGxldCBwYXRoID0gdGhpcy5vcGYuZ2V0UGF0aEZyb21VUkwoQmFzZS5zdHJpcEZyYWdtZW50KGhyZWYpKTtcbiAgICBpZiAoIXBhdGgpIHtcbiAgICAgIGlmICh0aGlzLm9wZi5vcGZYTUwgJiYgaHJlZi5tYXRjaCgvXiNlcHViY2ZpXFwoLykpIHtcbiAgICAgICAgLy8gQ0ZJIGZyYWdtZW50IGlzIFwicmVsYXRpdmVcIiB0byBPUEYuXG4gICAgICAgIHBhdGggPSB0aGlzLm9wZi5nZXRQYXRoRnJvbVVSTCh0aGlzLm9wZi5vcGZYTUwudXJsKTtcbiAgICAgIH0gZWxzZSBpZiAoaHJlZi5jaGFyQXQoMCkgPT09IFwiI1wiKSB7XG4gICAgICAgIGNvbnN0IHJlc3RvcmVkID0gdGhpcy5vcGYuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lci5yZXN0b3JlVVJMKGhyZWYpO1xuICAgICAgICBpZiAodGhpcy5vcGYub3BmWE1MKSB7XG4gICAgICAgICAgcGF0aCA9IHRoaXMub3BmLmdldFBhdGhGcm9tVVJMKHJlc3RvcmVkWzBdKTtcbiAgICAgICAgICBpZiAocGF0aCA9PSBudWxsKSB7XG4gICAgICAgICAgICBwYXRoID0gcmVzdG9yZWRbMF07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhdGggPSByZXN0b3JlZFswXTtcbiAgICAgICAgfVxuICAgICAgICBocmVmID0gcmVzdG9yZWRbMF0gKyAocmVzdG9yZWRbMV0gPyBgIyR7cmVzdG9yZWRbMV19YCA6IFwiXCIpO1xuICAgICAgfVxuICAgICAgaWYgKHBhdGggPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCBhcyBQYWdlQW5kUG9zaXRpb24gfCBudWxsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaXRlbSA9IHRoaXMub3BmLml0ZW1NYXBCeVBhdGhbcGF0aF07XG4gICAgaWYgKCFpdGVtKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMub3BmLm9wZlhNTCAmJlxuICAgICAgICBwYXRoID09IHRoaXMub3BmLmdldFBhdGhGcm9tVVJMKHRoaXMub3BmLm9wZlhNTC51cmwpXG4gICAgICApIHtcbiAgICAgICAgLy8gQ0ZJIGxpbms/XG4gICAgICAgIGNvbnN0IGZyYWdtZW50SW5kZXggPSBocmVmLmluZGV4T2YoXCIjXCIpO1xuICAgICAgICBpZiAoZnJhZ21lbnRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubmF2aWdhdGVUb0ZyYWdtZW50KFxuICAgICAgICAgICAgaHJlZi5zdWJzdHIoZnJhZ21lbnRJbmRleCArIDEpLFxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICBzeW5jLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsIGFzIFBhZ2VBbmRQb3NpdGlvbiB8IG51bGwpO1xuICAgIH1cbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcIm5hdmlnYXRlVG9cIixcbiAgICApO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHNlbGYuZ2V0UGFnZVZpZXdJdGVtKGl0ZW0uc3BpbmVJbmRleCkudGhlbigodmlld0l0ZW0pID0+IHtcbiAgICAgIGlmICghdmlld0l0ZW0pIHtcbiAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB0YXJnZXQgPSB2aWV3SXRlbS54bWxkb2MuZ2V0RWxlbWVudChocmVmKTtcbiAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgc2VsZlxuICAgICAgICAgIC5maW5kUGFnZShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3BpbmVJbmRleDogaXRlbS5zcGluZUluZGV4LFxuICAgICAgICAgICAgICBwYWdlSW5kZXg6IC0xLFxuICAgICAgICAgICAgICBvZmZzZXRJbkl0ZW06IHZpZXdJdGVtLnhtbGRvYy5nZXRFbGVtZW50T2Zmc2V0KHRhcmdldCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3luYyxcbiAgICAgICAgICApXG4gICAgICAgICAgLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbi5zcGluZUluZGV4ICE9PSBpdGVtLnNwaW5lSW5kZXgpIHtcbiAgICAgICAgLy8gbm8gZnJhZ21lbnQsIGRpZmZlcmVudCBzcGluZSBpdGVtXG4gICAgICAgIHNlbGZcbiAgICAgICAgICAuZmluZFBhZ2UoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNwaW5lSW5kZXg6IGl0ZW0uc3BpbmVJbmRleCxcbiAgICAgICAgICAgICAgcGFnZUluZGV4OiAwLFxuICAgICAgICAgICAgICBvZmZzZXRJbkl0ZW06IC0xLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN5bmMsXG4gICAgICAgICAgKVxuICAgICAgICAgIC50aGVuRmluaXNoKGZyYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBtYWtlUGFnZSh2aWV3SXRlbTogT1BGVmlld0l0ZW0sIHBvczogVnRyZWUuTGF5b3V0UG9zaXRpb24pOiBWdHJlZS5QYWdlIHtcbiAgICBjb25zdCB2aWV3cG9ydCA9IHZpZXdJdGVtLmluc3RhbmNlLnZpZXdwb3J0O1xuICAgIGNvbnN0IHBhZ2VDb250ID0gdmlld3BvcnQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSBhcyBIVE1MRWxlbWVudDtcbiAgICBwYWdlQ29udC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZpdmxpb3N0eWxlLXBhZ2UtY29udGFpbmVyXCIsIFwidHJ1ZVwiKTtcbiAgICBwYWdlQ29udC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwicmVnaW9uXCIpO1xuICAgIHBhZ2VDb250LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIHBhZ2VDb250LnN0eWxlLnRvcCA9IFwiMFwiO1xuICAgIHBhZ2VDb250LnN0eWxlLmxlZnQgPSBcIjBcIjtcbiAgICBpZiAoIUNvbnN0YW50cy5pc0RlYnVnKSB7XG4gICAgICBwYWdlQ29udC5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgIHBhZ2VDb250LnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgICB9XG4gICAgdmlld3BvcnQubGF5b3V0Qm94LmFwcGVuZENoaWxkKHBhZ2VDb250KTtcbiAgICBjb25zdCBibGVlZEJveCA9IHZpZXdwb3J0LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgYmxlZWRCb3guc2V0QXR0cmlidXRlKFwiZGF0YS12aXZsaW9zdHlsZS1ibGVlZC1ib3hcIiwgXCJ0cnVlXCIpO1xuICAgIHBhZ2VDb250LmFwcGVuZENoaWxkKGJsZWVkQm94KTtcbiAgICBjb25zdCBwYWdlID0gbmV3IFZ0cmVlLlBhZ2UocGFnZUNvbnQsIGJsZWVkQm94KTtcbiAgICBwYWdlLnNwaW5lSW5kZXggPSB2aWV3SXRlbS5pdGVtLnNwaW5lSW5kZXg7XG4gICAgcGFnZS5wb3NpdGlvbiA9IHBvcztcbiAgICBwYWdlLm9mZnNldCA9IHZpZXdJdGVtLmluc3RhbmNlLmdldFBvc2l0aW9uKHBvcyk7XG4gICAgaWYgKHBhZ2Uub2Zmc2V0ID09PSAwKSB7XG4gICAgICBjb25zdCBpZCA9IHRoaXMub3BmLmRvY3VtZW50VVJMVHJhbnNmb3JtZXIudHJhbnNmb3JtRnJhZ21lbnQoXG4gICAgICAgIFwiXCIsXG4gICAgICAgIHZpZXdJdGVtLml0ZW0uc3JjLFxuICAgICAgKTtcbiAgICAgIGJsZWVkQm94LnNldEF0dHJpYnV0ZShcImlkXCIsIGlkKTtcbiAgICAgIHBhZ2UucmVnaXN0ZXJFbGVtZW50V2l0aElkKGJsZWVkQm94LCBpZCk7XG4gICAgfVxuICAgIGlmICh2aWV3cG9ydCAhPT0gdGhpcy52aWV3cG9ydCkge1xuICAgICAgY29uc3QgbWF0cml4ID0gRXhwcnMubGV0dGVyYm94KFxuICAgICAgICB0aGlzLnZpZXdwb3J0LndpZHRoLFxuICAgICAgICB0aGlzLnZpZXdwb3J0LmhlaWdodCxcbiAgICAgICAgdmlld3BvcnQud2lkdGgsXG4gICAgICAgIHZpZXdwb3J0LmhlaWdodCxcbiAgICAgICk7XG4gICAgICBjb25zdCBjc3NNYXRyaXggPSBDc3NQYXJzZXIucGFyc2VWYWx1ZShcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbmV3IENzc1Rva2VuaXplci5Ub2tlbml6ZXIobWF0cml4LCBudWxsKSxcbiAgICAgICAgXCJcIixcbiAgICAgICk7XG4gICAgICBwYWdlLmRlbGF5ZWRJdGVtcy5wdXNoKFxuICAgICAgICBuZXcgVnRyZWUuRGVsYXllZEl0ZW0ocGFnZUNvbnQsIFwidHJhbnNmb3JtXCIsIGNzc01hdHJpeCksXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gcGFnZTtcbiAgfVxuXG4gIG1ha2VPYmplY3RWaWV3KFxuICAgIHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcixcbiAgICBzcmNFbGVtOiBFbGVtZW50LFxuICAgIHZpZXdQYXJlbnQ6IEVsZW1lbnQsXG4gICAgY29tcHV0ZWRTdHlsZTogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0sXG4gICk6IFRhc2suUmVzdWx0PEVsZW1lbnQ+IHtcbiAgICBsZXQgZGF0YSA9IHNyY0VsZW0uZ2V0QXR0cmlidXRlKFwiZGF0YVwiKTtcbiAgICBsZXQgcmVzdWx0OiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIGRhdGEgPSBCYXNlLnJlc29sdmVVUkwoZGF0YSwgeG1sZG9jLnVybCk7XG4gICAgICBsZXQgbWVkaWFUeXBlID0gc3JjRWxlbS5nZXRBdHRyaWJ1dGUoXCJtZWRpYS10eXBlXCIpO1xuICAgICAgaWYgKCFtZWRpYVR5cGUpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMub3BmLmdldFBhdGhGcm9tVVJMKGRhdGEpO1xuICAgICAgICBpZiAocGF0aCkge1xuICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLm9wZi5pdGVtTWFwQnlQYXRoW3BhdGhdO1xuICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICBtZWRpYVR5cGUgPSBpdGVtLm1lZGlhVHlwZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtZWRpYVR5cGUpIHtcbiAgICAgICAgY29uc3QgaGFuZGxlclNyYyA9IHRoaXMub3BmLmJpbmRpbmdzW21lZGlhVHlwZV07XG4gICAgICAgIGlmIChoYW5kbGVyU3JjKSB7XG4gICAgICAgICAgcmVzdWx0ID0gdGhpcy52aWV3cG9ydC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xuICAgICAgICAgIChyZXN1bHQgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmJvcmRlciA9IFwibm9uZVwiO1xuICAgICAgICAgIGNvbnN0IHNyY1BhcmFtID0gQmFzZS5saWdodFVSTEVuY29kZShkYXRhKTtcbiAgICAgICAgICBjb25zdCB0eXBlUGFyYW0gPSBCYXNlLmxpZ2h0VVJMRW5jb2RlKG1lZGlhVHlwZSk7XG4gICAgICAgICAgY29uc3Qgc2IgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgICBzYi5hcHBlbmQoaGFuZGxlclNyYyk7XG4gICAgICAgICAgc2IuYXBwZW5kKFwiP3NyYz1cIik7XG4gICAgICAgICAgc2IuYXBwZW5kKHNyY1BhcmFtKTtcbiAgICAgICAgICBzYi5hcHBlbmQoXCImdHlwZT1cIik7XG4gICAgICAgICAgc2IuYXBwZW5kKHR5cGVQYXJhbSk7XG4gICAgICAgICAgZm9yIChsZXQgYzogTm9kZSA9IHNyY0VsZW0uZmlyc3RDaGlsZDsgYzsgYyA9IGMubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgIGlmIChjLm5vZGVUeXBlID09IDEpIHtcbiAgICAgICAgICAgICAgY29uc3QgY2UgPSBjIGFzIEVsZW1lbnQ7XG4gICAgICAgICAgICAgIGlmIChjZS5sb2NhbE5hbWUgPT0gXCJwYXJhbVwiICYmIGNlLm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLlhIVE1MKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG5hbWUgPSBjZS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHB2YWx1ZSA9IGNlLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpO1xuICAgICAgICAgICAgICAgIGlmIChwbmFtZSAmJiBwdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHNiLmFwcGVuZChcIiZcIik7XG4gICAgICAgICAgICAgICAgICBzYi5hcHBlbmQoZW5jb2RlVVJJQ29tcG9uZW50KHBuYW1lKSk7XG4gICAgICAgICAgICAgICAgICBzYi5hcHBlbmQoXCI9XCIpO1xuICAgICAgICAgICAgICAgICAgc2IuYXBwZW5kKGVuY29kZVVSSUNvbXBvbmVudChwdmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnNldEF0dHJpYnV0ZShcInNyY1wiLCBzYi50b1N0cmluZygpKTtcbiAgICAgICAgICBjb25zdCB3aWR0aCA9IHNyY0VsZW0uZ2V0QXR0cmlidXRlKFwid2lkdGhcIik7XG4gICAgICAgICAgaWYgKHdpZHRoKSB7XG4gICAgICAgICAgICByZXN1bHQuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgd2lkdGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBoZWlnaHQgPSBzcmNFbGVtLmdldEF0dHJpYnV0ZShcImhlaWdodFwiKTtcbiAgICAgICAgICBpZiAoaGVpZ2h0KSB7XG4gICAgICAgICAgICByZXN1bHQuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIGhlaWdodCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICByZXN1bHQgPSB0aGlzLnZpZXdwb3J0LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgcmVzdWx0LnNldEF0dHJpYnV0ZShcImRhdGEtYWRhcHQtcHJvY2Vzcy1jaGlsZHJlblwiLCBcInRydWVcIik7XG4gICAgfVxuXG4gICAgLy8gTmVlZCB0byBjYXN0IGJlY2F1c2Ugd2UgbmVlZCB7RWxlbWVudH0sIG5vdCB7IUVsZW1lbnR9XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHJlc3VsdCBhcyBFbGVtZW50KTtcbiAgfVxuXG4gIG1ha2VNYXRoSmF4VmlldyhcbiAgICB4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIsXG4gICAgc3JjRWxlbTogRWxlbWVudCxcbiAgICB2aWV3UGFyZW50OiBFbGVtZW50LFxuICAgIGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9LFxuICApOiBUYXNrLlJlc3VsdDxFbGVtZW50PiB7XG4gICAgLy8gU2VlIGlmIE1hdGhKYXggaW5zdGFsbGVkLCB1c2UgaXQgaWYgaXQgaXMuXG4gICAgY29uc3QgaHViID0gZ2V0TWF0aEpheEh1YigpO1xuICAgIGlmIChodWIpIHtcbiAgICAgIGNvbnN0IGRvYyA9IHZpZXdQYXJlbnQub3duZXJEb2N1bWVudDtcbiAgICAgIGNvbnN0IHNwYW4gPSBkb2MuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICB2aWV3UGFyZW50LmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgY29uc3QgY2xvbmVkTWF0aCA9IGRvYy5pbXBvcnROb2RlKHNyY0VsZW0sIHRydWUpO1xuICAgICAgdGhpcy5yZXNvbHZlVVJMc0luTWF0aE1MKGNsb25lZE1hdGgsIHhtbGRvYyk7XG4gICAgICBzcGFuLmFwcGVuZENoaWxkKGNsb25lZE1hdGgpO1xuICAgICAgY29uc3QgcXVldWUgPSBodWJbXCJxdWV1ZVwiXTtcbiAgICAgIHF1ZXVlW1wiUHVzaFwiXShbXCJUeXBlc2V0XCIsIGh1Yiwgc3Bhbl0pO1xuICAgICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8RWxlbWVudD4gPSBUYXNrLm5ld0ZyYW1lKFwibWFrZU1hdGhKYXhWaWV3XCIpO1xuICAgICAgY29uc3QgY29udGludWF0aW9uID0gZnJhbWUuc3VzcGVuZCgpO1xuICAgICAgcXVldWVbXCJQdXNoXCJdKCgpID0+IHtcbiAgICAgICAgY29udGludWF0aW9uLnNjaGVkdWxlKHNwYW4pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gICAgfVxuICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsIGFzIEVsZW1lbnQpO1xuICB9XG5cbiAgcHJpdmF0ZSByZXNvbHZlVVJMc0luTWF0aE1MKG5vZGU6IE5vZGUsIHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcikge1xuICAgIGlmIChub2RlID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEgJiYgKG5vZGUgYXMgRWxlbWVudCkudGFnTmFtZSA9PT0gXCJtZ2x5cGhcIikge1xuICAgICAgY29uc3QgYXR0cnMgPSBBcnJheS5mcm9tKChub2RlIGFzIEVsZW1lbnQpLmF0dHJpYnV0ZXMpO1xuICAgICAgZm9yIChjb25zdCBhdHRyIG9mIGF0dHJzKSB7XG4gICAgICAgIGlmIChhdHRyLm5hbWUgIT09IFwic3JjXCIpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdVcmwgPSBCYXNlLnJlc29sdmVVUkwoYXR0ci5ub2RlVmFsdWUsIHhtbGRvYy51cmwpO1xuICAgICAgICBpZiAoYXR0ci5uYW1lc3BhY2VVUkkpIHtcbiAgICAgICAgICAobm9kZSBhcyBFbGVtZW50KS5zZXRBdHRyaWJ1dGVOUyhcbiAgICAgICAgICAgIGF0dHIubmFtZXNwYWNlVVJJLFxuICAgICAgICAgICAgYXR0ci5uYW1lLFxuICAgICAgICAgICAgbmV3VXJsLFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkuc2V0QXR0cmlidXRlKGF0dHIubmFtZSwgbmV3VXJsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAobm9kZS5maXJzdENoaWxkKSB7XG4gICAgICB0aGlzLnJlc29sdmVVUkxzSW5NYXRoTUwobm9kZS5maXJzdENoaWxkLCB4bWxkb2MpO1xuICAgIH1cbiAgICBpZiAobm9kZS5uZXh0U2libGluZykge1xuICAgICAgdGhpcy5yZXNvbHZlVVJMc0luTWF0aE1MKG5vZGUubmV4dFNpYmxpbmcsIHhtbGRvYyk7XG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETyBtb3ZlIG1ha2VTU0VWaWV3IHRvIGEgbW9yZSBhcHByb3ByaWF0ZSBjbGFzcyAoU1NFIFhNTCBjb250ZW50IGlzIG5vdFxuICAvLyBhbGxvd2VkIGluIEVQVUIpXG4gIC8qKlxuICAgKiBAcGFyYW0gY29tcHV0ZWRTdHlsZVxuICAgKi9cbiAgbWFrZVNTRVZpZXcoXG4gICAgeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyLFxuICAgIHNyY0VsZW06IEVsZW1lbnQsXG4gICAgdmlld1BhcmVudDogRWxlbWVudCxcbiAgICBjb21wdXRlZFN0eWxlOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSxcbiAgKTogVGFzay5SZXN1bHQ8RWxlbWVudD4ge1xuICAgIGNvbnN0IGRvYyA9IHZpZXdQYXJlbnQgPyB2aWV3UGFyZW50Lm93bmVyRG9jdW1lbnQgOiB0aGlzLnZpZXdwb3J0LmRvY3VtZW50O1xuICAgIGNvbnN0IHNyY1RhZ05hbWUgPSBzcmNFbGVtLmxvY2FsTmFtZTtcbiAgICBsZXQgdGFnTmFtZTogc3RyaW5nO1xuICAgIHN3aXRjaCAoc3JjVGFnTmFtZSkge1xuICAgICAgY2FzZSBcInRcIjpcbiAgICAgIGNhc2UgXCJ0YWJcIjpcbiAgICAgIGNhc2UgXCJlY1wiOlxuICAgICAgY2FzZSBcIm50XCI6XG4gICAgICBjYXNlIFwiZnJhY3Rpb25cIjpcbiAgICAgIGNhc2UgXCJjb21tZW50XCI6XG4gICAgICBjYXNlIFwibWFya1wiOlxuICAgICAgICB0YWdOYW1lID0gXCJzcGFuXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJ1YnlcIjpcbiAgICAgIGNhc2UgXCJycFwiOlxuICAgICAgY2FzZSBcInJ0XCI6XG4gICAgICAgIHRhZ05hbWUgPSBzcmNUYWdOYW1lO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRhZ05hbWUgPSBcImRpdlwiO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBkb2MuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgICByZXN1bHQuc2V0QXR0cmlidXRlKFwiZGF0YS1hZGFwdC1wcm9jZXNzLWNoaWxkcmVuXCIsIFwidHJ1ZVwiKTtcblxuICAgIC8vIE5lZWQgdG8gY2FzdCBiZWNhdXNlIHdlIG5lZWQge0VsZW1lbnR9LCBub3QgeyFFbGVtZW50fVxuICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChyZXN1bHQgYXMgRWxlbWVudCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBtYWtlQ3VzdG9tUmVuZGVyZXIoeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKTogVmdlbi5DdXN0b21SZW5kZXJlciB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIChcbiAgICAgIHNyY0VsZW06IEVsZW1lbnQsXG4gICAgICB2aWV3UGFyZW50OiBFbGVtZW50LFxuICAgICAgY29tcHV0ZWRTdHlsZTogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0sXG4gICAgKTogVGFzay5SZXN1bHQ8RWxlbWVudD4gPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBzcmNFbGVtLmxvY2FsTmFtZSA9PSBcIm9iamVjdFwiICYmXG4gICAgICAgIHNyY0VsZW0ubmFtZXNwYWNlVVJJID09IEJhc2UuTlMuWEhUTUxcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gc2VsZi5tYWtlT2JqZWN0Vmlldyh4bWxkb2MsIHNyY0VsZW0sIHZpZXdQYXJlbnQsIGNvbXB1dGVkU3R5bGUpO1xuICAgICAgfSBlbHNlIGlmIChzcmNFbGVtLm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLk1BVEhNTCkge1xuICAgICAgICByZXR1cm4gc2VsZi5tYWtlTWF0aEpheFZpZXcoeG1sZG9jLCBzcmNFbGVtLCB2aWV3UGFyZW50LCBjb21wdXRlZFN0eWxlKTtcbiAgICAgIH0gZWxzZSBpZiAoc3JjRWxlbS5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5TU0UpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYubWFrZVNTRVZpZXcoeG1sZG9jLCBzcmNFbGVtLCB2aWV3UGFyZW50LCBjb21wdXRlZFN0eWxlKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIChzcmNFbGVtIGFzIEhUTUxFbGVtZW50KS5kYXRhc2V0ICYmXG4gICAgICAgIChzcmNFbGVtIGFzIEhUTUxFbGVtZW50KS5kYXRhc2V0W1wibWF0aFR5cGVzZXRcIl0gPT0gXCJ0cnVlXCJcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gc2VsZi5tYWtlTWF0aEpheFZpZXcoeG1sZG9jLCBzcmNFbGVtLCB2aWV3UGFyZW50LCBjb21wdXRlZFN0eWxlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsIGFzIEVsZW1lbnQpO1xuICAgIH07XG4gIH1cblxuICBnZXRQYWdlVmlld0l0ZW0oc3BpbmVJbmRleDogbnVtYmVyKTogVGFzay5SZXN1bHQ8T1BGVmlld0l0ZW0+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoc3BpbmVJbmRleCA9PT0gLTEgfHwgc3BpbmVJbmRleCA+PSBzZWxmLm9wZi5zcGluZS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsIGFzIE9QRlZpZXdJdGVtKTtcbiAgICB9XG4gICAgbGV0IHZpZXdJdGVtID0gc2VsZi5zcGluZUl0ZW1zW3NwaW5lSW5kZXhdO1xuICAgIGlmICh2aWV3SXRlbSkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHZpZXdJdGVtKTtcbiAgICB9XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8T1BGVmlld0l0ZW0+ID0gVGFzay5uZXdGcmFtZShcImdldFBhZ2VWaWV3SXRlbVwiKTtcblxuICAgIC8vIElmIGxvYWRpbmcgZm9yIHRoZSBpdGVtIGhhcyBhbHJlYWR5IGJlZW4gc3RhcnRlZCwgc3VzcGVuZCBhbmQgd2FpdCBmb3JcbiAgICAvLyB0aGUgcmVzdWx0LlxuICAgIGxldCBsb2FkaW5nQ29udGludWF0aW9ucyA9IHRoaXMuc3BpbmVJdGVtTG9hZGluZ0NvbnRpbnVhdGlvbnNbc3BpbmVJbmRleF07XG4gICAgaWYgKGxvYWRpbmdDb250aW51YXRpb25zKSB7XG4gICAgICBjb25zdCBjb250ID0gZnJhbWUuc3VzcGVuZCgpO1xuICAgICAgbG9hZGluZ0NvbnRpbnVhdGlvbnMucHVzaChjb250KTtcbiAgICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9hZGluZ0NvbnRpbnVhdGlvbnMgPSB0aGlzLnNwaW5lSXRlbUxvYWRpbmdDb250aW51YXRpb25zW1xuICAgICAgICBzcGluZUluZGV4XG4gICAgICBdID0gW107XG4gICAgfVxuICAgIGNvbnN0IGl0ZW0gPSBzZWxmLm9wZi5zcGluZVtzcGluZUluZGV4XTtcbiAgICBjb25zdCBzdG9yZSA9IHNlbGYub3BmLnN0b3JlO1xuICAgIHN0b3JlLmxvYWQoaXRlbS5zcmMpLnRoZW4oKHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcikgPT4ge1xuICAgICAgaXRlbS50aXRsZSA9IHhtbGRvYy5kb2N1bWVudC50aXRsZTtcbiAgICAgIGNvbnN0IHN0eWxlID0gc3RvcmUuZ2V0U3R5bGVGb3JEb2MoeG1sZG9jKTtcbiAgICAgIGNvbnN0IGN1c3RvbVJlbmRlcmVyID0gc2VsZi5tYWtlQ3VzdG9tUmVuZGVyZXIoeG1sZG9jKTtcbiAgICAgIGxldCB2aWV3cG9ydCA9IHNlbGYudmlld3BvcnQ7XG4gICAgICBjb25zdCB2aWV3cG9ydFNpemUgPSBzdHlsZS5zaXplVmlld3BvcnQoXG4gICAgICAgIHZpZXdwb3J0LndpZHRoLFxuICAgICAgICB2aWV3cG9ydC5oZWlnaHQsXG4gICAgICAgIHZpZXdwb3J0LmZvbnRTaXplLFxuICAgICAgICBzZWxmLnByZWYsXG4gICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICB2aWV3cG9ydFNpemUud2lkdGggIT0gdmlld3BvcnQud2lkdGggfHxcbiAgICAgICAgdmlld3BvcnRTaXplLmhlaWdodCAhPSB2aWV3cG9ydC5oZWlnaHQgfHxcbiAgICAgICAgdmlld3BvcnRTaXplLmZvbnRTaXplICE9IHZpZXdwb3J0LmZvbnRTaXplXG4gICAgICApIHtcbiAgICAgICAgdmlld3BvcnQgPSBuZXcgVmdlbi5WaWV3cG9ydChcbiAgICAgICAgICB2aWV3cG9ydC53aW5kb3csXG4gICAgICAgICAgdmlld3BvcnRTaXplLmZvbnRTaXplLFxuICAgICAgICAgIHZpZXdwb3J0LnJvb3QsXG4gICAgICAgICAgdmlld3BvcnRTaXplLndpZHRoLFxuICAgICAgICAgIHZpZXdwb3J0U2l6ZS5oZWlnaHQsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBwcmV2aW91c1ZpZXdJdGVtID0gc2VsZi5zcGluZUl0ZW1zW3NwaW5lSW5kZXggLSAxXTtcbiAgICAgIGxldCBwYWdlTnVtYmVyT2Zmc2V0OiBudW1iZXI7XG4gICAgICBpZiAoaXRlbS5zdGFydFBhZ2UgIT09IG51bGwpIHtcbiAgICAgICAgcGFnZU51bWJlck9mZnNldCA9IGl0ZW0uc3RhcnRQYWdlIC0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBzcGluZUluZGV4ID4gMCAmJlxuICAgICAgICAgICghcHJldmlvdXNWaWV3SXRlbSB8fCAhcHJldmlvdXNWaWV3SXRlbS5jb21wbGV0ZSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gV2hlbiBuYXZpZ2F0ZSB0byBhIG5ldyBzcGluZSBpdGVtIHNraXBwaW5nIHRoZSBwcmV2aW91cyBpdGVtcyxcbiAgICAgICAgICAvLyBnaXZlIHVwIGNhbGN1bGF0ZSBwYWdlTnVtYmVyT2Zmc2V0IGFuZCB1c2UgZXBhZ2UgKG9yIHNwaW5lSW5kZXggaWYgZXBhZ2UgaXMgdW5zZXQpLlxuICAgICAgICAgIHBhZ2VOdW1iZXJPZmZzZXQgPSBpdGVtLmVwYWdlIHx8IHNwaW5lSW5kZXg7XG4gICAgICAgICAgaWYgKCFzZWxmLm9wZi5wcmVQYWdpbmF0ZWQgJiYgcGFnZU51bWJlck9mZnNldCAlIDIgPT0gMCkge1xuICAgICAgICAgICAgLy8gRm9yY2UgdG8gb2RkIG51bWJlciB0byBhdm9pZCB1bnBhaXJlZCBwYWdlLiAoVGhpcyBpcyAwIGJhc2VkIGFuZCBldmVuIG51bWJlciBpcyByZWN0bylcbiAgICAgICAgICAgIHBhZ2VOdW1iZXJPZmZzZXQrKztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFnZU51bWJlck9mZnNldCA9IHByZXZpb3VzVmlld0l0ZW1cbiAgICAgICAgICAgID8gcHJldmlvdXNWaWV3SXRlbS5pbnN0YW5jZS5wYWdlTnVtYmVyT2Zmc2V0ICtcbiAgICAgICAgICAgICAgcHJldmlvdXNWaWV3SXRlbS5wYWdlcy5sZW5ndGhcbiAgICAgICAgICAgIDogMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXRlbS5za2lwUGFnZXNCZWZvcmUgIT09IG51bGwpIHtcbiAgICAgICAgICBwYWdlTnVtYmVyT2Zmc2V0ICs9IGl0ZW0uc2tpcFBhZ2VzQmVmb3JlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZWxmLmNvdW50ZXJTdG9yZS5mb3JjZVNldFBhZ2VDb3VudGVyKHBhZ2VOdW1iZXJPZmZzZXQpO1xuICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgT1BTLlN0eWxlSW5zdGFuY2UoXG4gICAgICAgIHN0eWxlLFxuICAgICAgICB4bWxkb2MsXG4gICAgICAgIHNlbGYub3BmLmxhbmcsXG4gICAgICAgIHZpZXdwb3J0LFxuICAgICAgICBzZWxmLmNsaWVudExheW91dCxcbiAgICAgICAgc2VsZi5mb250TWFwcGVyLFxuICAgICAgICBjdXN0b21SZW5kZXJlcixcbiAgICAgICAgc2VsZi5vcGYuZmFsbGJhY2tNYXAsXG4gICAgICAgIHBhZ2VOdW1iZXJPZmZzZXQsXG4gICAgICAgIHNlbGYub3BmLmRvY3VtZW50VVJMVHJhbnNmb3JtZXIsXG4gICAgICAgIHNlbGYuY291bnRlclN0b3JlLFxuICAgICAgICBzZWxmLm9wZi5wYWdlUHJvZ3Jlc3Npb24sXG4gICAgICApO1xuICAgICAgaW5zdGFuY2UucHJlZiA9IHNlbGYucHJlZjtcblxuICAgICAgLy8gRm9yIGVudihwdWItdGl0bGUpIGFuZCBlbnYoZG9jLXRpdGxlKVxuICAgICAgY29uc3QgcHViVGl0bGVzID0gc2VsZi5vcGYubWV0YWRhdGEgJiYgc2VsZi5vcGYubWV0YWRhdGFbbWV0YVRlcm1zLnRpdGxlXTtcbiAgICAgIGluc3RhbmNlLnB1YlRpdGxlID1cbiAgICAgICAgKHB1YlRpdGxlcyAmJiBwdWJUaXRsZXNbMF0gJiYgcHViVGl0bGVzWzBdW1widlwiXSkgfHwgXCJcIjtcbiAgICAgIGluc3RhbmNlLmRvY1RpdGxlID0gaXRlbS50aXRsZSB8fCBcIlwiO1xuXG4gICAgICBpbnN0YW5jZS5pbml0KCkudGhlbigoKSA9PiB7XG4gICAgICAgIHZpZXdJdGVtID0ge1xuICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgeG1sZG9jLFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIGxheW91dFBvc2l0aW9uczogW251bGxdLFxuICAgICAgICAgIHBhZ2VzOiBbXSxcbiAgICAgICAgICBjb21wbGV0ZTogZmFsc2UsXG4gICAgICAgIH07XG4gICAgICAgIHNlbGYuc3BpbmVJdGVtc1tzcGluZUluZGV4XSA9IHZpZXdJdGVtO1xuICAgICAgICBmcmFtZS5maW5pc2godmlld0l0ZW0pO1xuICAgICAgICBsb2FkaW5nQ29udGludWF0aW9ucy5mb3JFYWNoKChjKSA9PiB7XG4gICAgICAgICAgYy5zY2hlZHVsZSh2aWV3SXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgcmVtb3ZlUmVuZGVyZWRQYWdlcygpIHtcbiAgICBjb25zdCBpdGVtcyA9IHRoaXMuc3BpbmVJdGVtcztcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgIGl0ZW0ucGFnZXMuc3BsaWNlKDApO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnZpZXdwb3J0LmNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBpZiBhdCBsZWFzdCBvbmUgcGFnZSBoYXMgJ2F1dG8nIHNpemVcbiAgICovXG4gIGhhc0F1dG9TaXplZFBhZ2VzKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5zcGluZUl0ZW1zO1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgY29uc3QgcGFnZXMgPSBpdGVtLnBhZ2VzO1xuICAgICAgICBmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZXMpIHtcbiAgICAgICAgICBpZiAocGFnZS5pc0F1dG9QYWdlV2lkdGggJiYgcGFnZS5pc0F1dG9QYWdlSGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaGFzUGFnZXMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc3BpbmVJdGVtcy5zb21lKChpdGVtKSA9PiBpdGVtICYmIGl0ZW0ucGFnZXMubGVuZ3RoID4gMCk7XG4gIH1cblxuICBzaG93VE9DKGF1dG9oaWRlOiBib29sZWFuKTogVGFzay5SZXN1bHQ8VnRyZWUuUGFnZT4ge1xuICAgIGNvbnN0IG9wZiA9IHRoaXMub3BmO1xuICAgIGNvbnN0IHRvYyA9IG9wZi54aHRtbFRvYyB8fCBvcGYubmN4VG9jO1xuICAgIHRoaXMudG9jQXV0b2hpZGUgPSBhdXRvaGlkZTtcbiAgICBpZiAoIXRvYykge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwgYXMgVnRyZWUuUGFnZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRvY1ZpZXcgJiYgdGhpcy50b2NWaWV3LnBhZ2UpIHtcbiAgICAgIHRoaXMudG9jVmlldy5wYWdlLmNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICB0aGlzLnRvY1ZpZXcucGFnZS5jb250YWluZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJmYWxzZVwiKTtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0aGlzLnRvY1ZpZXcucGFnZSk7XG4gICAgfVxuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLlBhZ2U+ID0gVGFzay5uZXdGcmFtZShcInNob3dUT0NcIik7XG4gICAgaWYgKCF0aGlzLnRvY1ZpZXcpIHtcbiAgICAgIHRoaXMudG9jVmlldyA9IG5ldyBUb2MuVE9DVmlldyhcbiAgICAgICAgb3BmLnN0b3JlLFxuICAgICAgICB0b2Muc3JjLFxuICAgICAgICBvcGYubGFuZyxcbiAgICAgICAgdGhpcy5jbGllbnRMYXlvdXQsXG4gICAgICAgIHRoaXMuZm9udE1hcHBlcixcbiAgICAgICAgdGhpcy5wcmVmLFxuICAgICAgICB0aGlzLFxuICAgICAgICBvcGYuZmFsbGJhY2tNYXAsXG4gICAgICAgIG9wZi5kb2N1bWVudFVSTFRyYW5zZm9ybWVyLFxuICAgICAgICB0aGlzLmNvdW50ZXJTdG9yZSxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHZpZXdwb3J0ID0gdGhpcy52aWV3cG9ydDtcbiAgICBjb25zdCB0b2NXaWR0aCA9IE1hdGgubWluKDM1MCwgTWF0aC5yb3VuZCgwLjY3ICogdmlld3BvcnQud2lkdGgpIC0gMTYpO1xuICAgIGNvbnN0IHRvY0hlaWdodCA9IHZpZXdwb3J0LmhlaWdodCAtIDY7XG4gICAgY29uc3QgcGFnZUNvbnQgPSB2aWV3cG9ydC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIHZpZXdwb3J0LnJvb3QuYXBwZW5kQ2hpbGQocGFnZUNvbnQpO1xuICAgIC8vIHBhZ2VDb250LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIHBhZ2VDb250LnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgIC8vIHBhZ2VDb250LnN0eWxlLmxlZnQgPSBcIjNweFwiO1xuICAgIC8vIHBhZ2VDb250LnN0eWxlLnRvcCA9IFwiM3B4XCI7XG4gICAgcGFnZUNvbnQuc3R5bGUud2lkdGggPSBgJHt0b2NXaWR0aCArIDEwfXB4YDtcbiAgICBwYWdlQ29udC5zdHlsZS5tYXhIZWlnaHQgPSBgJHt0b2NIZWlnaHR9cHhgO1xuICAgIC8vIHBhZ2VDb250LnN0eWxlLm92ZXJmbG93ID0gXCJzY3JvbGxcIjtcbiAgICAvLyBwYWdlQ29udC5zdHlsZS5vdmVyZmxvd1ggPSBcImhpZGRlblwiO1xuICAgIC8vIHBhZ2VDb250LnN0eWxlLmJhY2tncm91bmQgPSBcInJnYmEoMjQ4LDI0OCwyNDgsMC45KVwiO1xuICAgIC8vIHBhZ2VDb250LnN0eWxlW1wiYm9yZGVyUmFkaXVzXCJdID0gXCIycHhcIjtcbiAgICAvLyBwYWdlQ29udC5zdHlsZVtcImJveFNoYWRvd1wiXSA9IFwiMXB4IDFweCAycHggcmdiYSgwLDAsMCwwLjQpXCI7XG5cbiAgICBwYWdlQ29udC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZpdmxpb3N0eWxlLXRvYy1ib3hcIiwgXCJ0cnVlXCIpO1xuICAgIHBhZ2VDb250LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJuYXZpZ2F0aW9uXCIpO1xuXG4gICAgdGhpcy50b2NWaWV3XG4gICAgICAuc2hvd1RPQyhwYWdlQ29udCwgdmlld3BvcnQsIHRvY1dpZHRoLCB0b2NIZWlnaHQsIHRoaXMudmlld3BvcnQuZm9udFNpemUpXG4gICAgICAudGhlbigocGFnZSkgPT4ge1xuICAgICAgICBwYWdlQ29udC5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICAgIHBhZ2VDb250LnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwiZmFsc2VcIik7XG4gICAgICAgIGZyYW1lLmZpbmlzaChwYWdlKTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGhpZGVUT0MoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudG9jVmlldykge1xuICAgICAgdGhpcy50b2NWaWV3LmhpZGVUT0MoKTtcbiAgICB9XG4gIH1cblxuICBpc1RPQ1Zpc2libGUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhdGhpcy50b2NWaWV3ICYmIHRoaXMudG9jVmlldy5pc1RPQ1Zpc2libGUoKTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlclNpbmdsZVBhZ2VSZXN1bHQge1xuICBwYWdlQW5kUG9zaXRpb246IFBhZ2VBbmRQb3NpdGlvbjtcbiAgbmV4dExheW91dFBvc2l0aW9uOiBWdHJlZS5MYXlvdXRQb3NpdGlvbjtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE4IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgQWRhcHRpdmVWaWV3ZXIgLSBWaWV3ZXIgaW1wbGVtZW50YXRpb24uXG4gKi9cbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgKiBhcyBFcHViIGZyb20gXCIuL2VwdWJcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBGb250IGZyb20gXCIuL2ZvbnRcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuaW1wb3J0ICogYXMgUGx1Z2luIGZyb20gXCIuL3BsdWdpblwiO1xuaW1wb3J0ICogYXMgUHJvZmlsZSBmcm9tIFwiLi9wcm9maWxlXCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFRhc2tVdGlsIGZyb20gXCIuL3Rhc2stdXRpbFwiO1xuaW1wb3J0ICogYXMgVmdlbiBmcm9tIFwiLi92Z2VuXCI7XG5pbXBvcnQgKiBhcyBWdHJlZSBmcm9tIFwiLi92dHJlZVwiO1xuXG5leHBvcnQgdHlwZSBBY3Rpb24gPSAocDE6IEJhc2UuSlNPTikgPT4gVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG5cbmV4cG9ydCB0eXBlIFZpZXdwb3J0U2l6ZSA9IHtcbiAgbWFyZ2luTGVmdDogbnVtYmVyO1xuICBtYXJnaW5SaWdodDogbnVtYmVyO1xuICBtYXJnaW5Ub3A6IG51bWJlcjtcbiAgbWFyZ2luQm90dG9tOiBudW1iZXI7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xufTtcblxuZXhwb3J0IGNvbnN0IFZJRVdQT1JUX1NUQVRVU19BVFRSSUJVVEUgPSBcImRhdGEtdml2bGlvc3R5bGUtdmlld2VyLXN0YXR1c1wiO1xuXG5leHBvcnQgY29uc3QgVklFV1BPUlRfU1BSRUFEX1ZJRVdfQVRUUklCVVRFID0gXCJkYXRhLXZpdmxpb3N0eWxlLXNwcmVhZC12aWV3XCI7XG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGVudW0gUGFnZVZpZXdNb2RlIHtcbiAgU0lOR0xFX1BBR0UgPSBcInNpbmdsZVBhZ2VcIixcbiAgU1BSRUFEID0gXCJzcHJlYWRcIixcbiAgQVVUT19TUFJFQUQgPSBcImF1dG9TcHJlYWRcIixcbn1cblxuZXhwb3J0IHR5cGUgU2luZ2xlRG9jdW1lbnRQYXJhbSA9IHtcbiAgdXJsOiBzdHJpbmc7XG4gIHN0YXJ0UGFnZTogbnVtYmVyIHwgbnVsbDtcbiAgc2tpcFBhZ2VzQmVmb3JlOiBudW1iZXIgfCBudWxsO1xufTtcblxuZXhwb3J0IGNsYXNzIEFkYXB0aXZlVmlld2VyIHtcbiAgZm9udE1hcHBlcjogRm9udC5NYXBwZXI7XG4gIGtpY2s6ICgpID0+IHZvaWQ7XG4gIHNlbmRDb21tYW5kOiAocDE6IEJhc2UuSlNPTiB8IHN0cmluZykgPT4gdm9pZDtcbiAgcmVzaXplTGlzdGVuZXI6ICgpID0+IHZvaWQ7XG4gIGh5cGVybGlua0xpc3RlbmVyOiBCYXNlLkV2ZW50TGlzdGVuZXI7XG4gIHBhZ2VSdWxlU3R5bGVFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgcGFnZVNoZWV0U2l6ZUFscmVhZHlTZXQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcmVuZGVyVGFzazogVGFzay5UYXNrIHwgbnVsbCA9IG51bGw7XG4gIGFjdGlvbnM6IHsgW2tleTogc3RyaW5nXTogQWN0aW9uIH07XG4gIHJlYWR5U3RhdGU6IENvbnN0YW50cy5SZWFkeVN0YXRlO1xuICBwYWNrYWdlVVJMOiBzdHJpbmdbXTtcbiAgb3BmOiBFcHViLk9QRkRvYztcbiAgaGF2ZVppcE1ldGFkYXRhOiBib29sZWFuO1xuICB0b3VjaEFjdGl2ZTogYm9vbGVhbjtcbiAgdG91Y2hYOiBudW1iZXI7XG4gIHRvdWNoWTogbnVtYmVyO1xuICBuZWVkUmVzaXplOiBib29sZWFuO1xuICBuZWVkUmVmcmVzaDogYm9vbGVhbjtcbiAgdmlld3BvcnRTaXplOiBWaWV3cG9ydFNpemUgfCBudWxsO1xuICBjdXJyZW50UGFnZTogVnRyZWUuUGFnZTtcbiAgY3VycmVudFNwcmVhZDogVnRyZWUuU3ByZWFkIHwgbnVsbDtcbiAgcGFnZVBvc2l0aW9uOiBFcHViLlBvc2l0aW9uIHwgbnVsbDtcbiAgZm9udFNpemU6IG51bWJlcjtcbiAgem9vbTogbnVtYmVyO1xuICBmaXRUb1NjcmVlbjogYm9vbGVhbjtcbiAgcGFnZVZpZXdNb2RlOiBQYWdlVmlld01vZGU7XG4gIHdhaXRGb3JMb2FkaW5nOiBib29sZWFuO1xuICByZW5kZXJBbGxQYWdlczogYm9vbGVhbjtcbiAgcHJlZjogRXhwcnMuUHJlZmVyZW5jZXM7XG4gIHBhZ2VTaXplczogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9W107XG5cbiAgLy8gZm9yY2UgcmVsYXlvdXRcbiAgdmlld3BvcnQ6IFZnZW4uVmlld3BvcnQgfCBudWxsO1xuICBvcGZWaWV3OiBFcHViLk9QRlZpZXc7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHdpbmRvdzogV2luZG93LFxuICAgIHB1YmxpYyByZWFkb25seSB2aWV3cG9ydEVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICAgIHB1YmxpYyByZWFkb25seSBpbnN0YW5jZUlkOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IGNhbGxiYWNrRm46IChwMTogQmFzZS5KU09OKSA9PiB2b2lkLFxuICApIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB2aWV3cG9ydEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS12aXZsaW9zdHlsZS12aWV3ZXItdmlld3BvcnRcIiwgdHJ1ZSk7XG4gICAgaWYgKENvbnN0YW50cy5pc0RlYnVnKSB7XG4gICAgICB2aWV3cG9ydEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS12aXZsaW9zdHlsZS1kZWJ1Z1wiLCB0cnVlKTtcbiAgICB9XG4gICAgdmlld3BvcnRFbGVtZW50LnNldEF0dHJpYnV0ZShWSUVXUE9SVF9TVEFUVVNfQVRUUklCVVRFLCBcImxvYWRpbmdcIik7XG4gICAgY29uc3QgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7XG4gICAgdGhpcy5mb250TWFwcGVyID0gbmV3IEZvbnQuTWFwcGVyKGRvY3VtZW50LmhlYWQsIHZpZXdwb3J0RWxlbWVudCk7XG4gICAgdGhpcy5pbml0KCk7XG4gICAgdGhpcy5raWNrID0gKCkgPT4ge307XG4gICAgdGhpcy5zZW5kQ29tbWFuZCA9ICgpID0+IHt9O1xuICAgIHRoaXMucmVzaXplTGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICBzZWxmLm5lZWRSZXNpemUgPSB0cnVlO1xuICAgICAgc2VsZi5raWNrKCk7XG4gICAgfTtcbiAgICB0aGlzLnBhZ2VSZXBsYWNlZExpc3RlbmVyID0gdGhpcy5wYWdlUmVwbGFjZWRMaXN0ZW5lci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaHlwZXJsaW5rTGlzdGVuZXIgPSAoZXZ0KSA9PiB7fTtcbiAgICB0aGlzLnBhZ2VSdWxlU3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICBcInZpdmxpb3N0eWxlLXBhZ2UtcnVsZXNcIixcbiAgICApO1xuICAgIHRoaXMuYWN0aW9ucyA9IHtcbiAgICAgIGxvYWRQdWJsaWNhdGlvbjogdGhpcy5sb2FkUHVibGljYXRpb24sXG4gICAgICBsb2FkWE1MOiB0aGlzLmxvYWRYTUwsXG4gICAgICBjb25maWd1cmU6IHRoaXMuY29uZmlndXJlLFxuICAgICAgbW92ZVRvOiB0aGlzLm1vdmVUbyxcbiAgICAgIHRvYzogdGhpcy5zaG93VE9DLFxuICAgIH07XG4gICAgdGhpcy5hZGRMb2dMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLnJlYWR5U3RhdGUgPSBDb25zdGFudHMuUmVhZHlTdGF0ZS5MT0FESU5HO1xuICAgIHRoaXMucGFja2FnZVVSTCA9IFtdO1xuICAgIHRoaXMub3BmID0gbnVsbDtcbiAgICB0aGlzLmhhdmVaaXBNZXRhZGF0YSA9IGZhbHNlO1xuICAgIHRoaXMudG91Y2hBY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLnRvdWNoWCA9IDA7XG4gICAgdGhpcy50b3VjaFkgPSAwO1xuICAgIHRoaXMubmVlZFJlc2l6ZSA9IGZhbHNlO1xuICAgIHRoaXMubmVlZFJlZnJlc2ggPSBmYWxzZTtcbiAgICB0aGlzLnZpZXdwb3J0U2l6ZSA9IG51bGw7XG4gICAgdGhpcy5jdXJyZW50UGFnZSA9IG51bGw7XG4gICAgdGhpcy5jdXJyZW50U3ByZWFkID0gbnVsbDtcbiAgICB0aGlzLnBhZ2VQb3NpdGlvbiA9IG51bGw7XG4gICAgdGhpcy5mb250U2l6ZSA9IDE2O1xuICAgIHRoaXMuem9vbSA9IDE7XG4gICAgdGhpcy5maXRUb1NjcmVlbiA9IGZhbHNlO1xuICAgIHRoaXMucGFnZVZpZXdNb2RlID0gUGFnZVZpZXdNb2RlLlNJTkdMRV9QQUdFO1xuICAgIHRoaXMud2FpdEZvckxvYWRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnJlbmRlckFsbFBhZ2VzID0gdHJ1ZTtcbiAgICB0aGlzLnByZWYgPSBFeHBycy5kZWZhdWx0UHJlZmVyZW5jZXMoKTtcbiAgICB0aGlzLnBhZ2VTaXplcyA9IFtdO1xuICB9XG5cbiAgYWRkTG9nTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGxvZ0xldmVsID0gTG9nZ2luZy5Mb2dMZXZlbDtcbiAgICBMb2dnaW5nLmxvZ2dlci5hZGRMaXN0ZW5lcihsb2dMZXZlbC5ERUJVRywgKGluZm8pID0+IHtcbiAgICAgIHRoaXMuY2FsbGJhY2soeyB0OiBcImRlYnVnXCIsIGNvbnRlbnQ6IGluZm8gfSk7XG4gICAgfSk7XG4gICAgTG9nZ2luZy5sb2dnZXIuYWRkTGlzdGVuZXIobG9nTGV2ZWwuSU5GTywgKGluZm8pID0+IHtcbiAgICAgIHRoaXMuY2FsbGJhY2soeyB0OiBcImluZm9cIiwgY29udGVudDogaW5mbyB9KTtcbiAgICB9KTtcbiAgICBMb2dnaW5nLmxvZ2dlci5hZGRMaXN0ZW5lcihsb2dMZXZlbC5XQVJOLCAoaW5mbykgPT4ge1xuICAgICAgdGhpcy5jYWxsYmFjayh7IHQ6IFwid2FyblwiLCBjb250ZW50OiBpbmZvIH0pO1xuICAgIH0pO1xuICAgIExvZ2dpbmcubG9nZ2VyLmFkZExpc3RlbmVyKGxvZ0xldmVsLkVSUk9SLCAoaW5mbykgPT4ge1xuICAgICAgdGhpcy5jYWxsYmFjayh7IHQ6IFwiZXJyb3JcIiwgY29udGVudDogaW5mbyB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY2FsbGJhY2sobWVzc2FnZTogQmFzZS5KU09OKTogdm9pZCB7XG4gICAgbWVzc2FnZVtcImlcIl0gPSB0aGlzLmluc3RhbmNlSWQ7XG4gICAgdGhpcy5jYWxsYmFja0ZuKG1lc3NhZ2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCByZWFkeVN0YXRlIGFuZCBub3RpZnkgdG8gbGlzdGVuZXJzXG4gICAqL1xuICBzZXRSZWFkeVN0YXRlKHJlYWR5U3RhdGU6IENvbnN0YW50cy5SZWFkeVN0YXRlKSB7XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSAhPT0gcmVhZHlTdGF0ZSkge1xuICAgICAgdGhpcy5yZWFkeVN0YXRlID0gcmVhZHlTdGF0ZTtcbiAgICAgIHRoaXMudmlld3BvcnRFbGVtZW50LnNldEF0dHJpYnV0ZShWSUVXUE9SVF9TVEFUVVNfQVRUUklCVVRFLCByZWFkeVN0YXRlKTtcbiAgICAgIHRoaXMuY2FsbGJhY2soeyB0OiBcInJlYWR5c3RhdGVjaGFuZ2VcIiB9KTtcbiAgICB9XG4gIH1cblxuICBsb2FkUHVibGljYXRpb24oY29tbWFuZDogQmFzZS5KU09OKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIFByb2ZpbGUucHJvZmlsZXIucmVnaXN0ZXJTdGFydFRpbWluZyhcImJlZm9yZVJlbmRlclwiKTtcbiAgICB0aGlzLnNldFJlYWR5U3RhdGUoQ29uc3RhbnRzLlJlYWR5U3RhdGUuTE9BRElORyk7XG4gICAgY29uc3QgdXJsID0gY29tbWFuZFtcInVybFwiXSBhcyBzdHJpbmc7XG4gICAgY29uc3QgZnJhZ21lbnQgPSBjb21tYW5kW1wiZnJhZ21lbnRcIl0gYXMgc3RyaW5nIHwgbnVsbDtcbiAgICBjb25zdCBoYXZlWmlwTWV0YWRhdGEgPSAhIWNvbW1hbmRbXCJ6aXBtZXRhXCJdO1xuICAgIGNvbnN0IGF1dGhvclN0eWxlU2hlZXQgPSBjb21tYW5kW1wiYXV0aG9yU3R5bGVTaGVldFwiXSBhcyB7XG4gICAgICB1cmw6IHN0cmluZyB8IG51bGw7XG4gICAgICB0ZXh0OiBzdHJpbmcgfCBudWxsO1xuICAgIH1bXTtcbiAgICBjb25zdCB1c2VyU3R5bGVTaGVldCA9IGNvbW1hbmRbXCJ1c2VyU3R5bGVTaGVldFwiXSBhcyB7XG4gICAgICB1cmw6IHN0cmluZyB8IG51bGw7XG4gICAgICB0ZXh0OiBzdHJpbmcgfCBudWxsO1xuICAgIH1bXTtcbiAgICB0aGlzLnZpZXdwb3J0ID0gbnVsbDtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJsb2FkUHVibGljYXRpb25cIik7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5jb25maWd1cmUoY29tbWFuZCkudGhlbigoKSA9PiB7XG4gICAgICBjb25zdCBzdG9yZSA9IG5ldyBFcHViLkVQVUJEb2NTdG9yZSgpO1xuICAgICAgc3RvcmUuaW5pdChhdXRob3JTdHlsZVNoZWV0LCB1c2VyU3R5bGVTaGVldCkudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHB1YlVSTCA9IEJhc2UucmVzb2x2ZVVSTChcbiAgICAgICAgICBCYXNlLmNvbnZlcnRTcGVjaWFsVVJMKHVybCksXG4gICAgICAgICAgc2VsZi53aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgICAgKTtcbiAgICAgICAgc2VsZi5wYWNrYWdlVVJMID0gW3B1YlVSTF07XG4gICAgICAgIHN0b3JlLmxvYWRQdWJEb2MocHViVVJMLCBoYXZlWmlwTWV0YWRhdGEpLnRoZW4oKG9wZikgPT4ge1xuICAgICAgICAgIGlmIChvcGYpIHtcbiAgICAgICAgICAgIHNlbGYub3BmID0gb3BmO1xuICAgICAgICAgICAgc2VsZi5yZW5kZXIoZnJhZ21lbnQpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJhbWUuZmluaXNoKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgbG9hZFhNTChjb21tYW5kOiBCYXNlLkpTT04pOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgUHJvZmlsZS5wcm9maWxlci5yZWdpc3RlclN0YXJ0VGltaW5nKFwiYmVmb3JlUmVuZGVyXCIpO1xuICAgIHRoaXMuc2V0UmVhZHlTdGF0ZShDb25zdGFudHMuUmVhZHlTdGF0ZS5MT0FESU5HKTtcbiAgICBjb25zdCBwYXJhbXM6IFNpbmdsZURvY3VtZW50UGFyYW1bXSA9IGNvbW1hbmRbXCJ1cmxcIl07XG4gICAgY29uc3QgZG9jID0gY29tbWFuZFtcImRvY3VtZW50XCJdIGFzIERvY3VtZW50O1xuICAgIGNvbnN0IGZyYWdtZW50ID0gY29tbWFuZFtcImZyYWdtZW50XCJdIGFzIHN0cmluZyB8IG51bGw7XG4gICAgY29uc3QgYXV0aG9yU3R5bGVTaGVldCA9IGNvbW1hbmRbXCJhdXRob3JTdHlsZVNoZWV0XCJdIGFzIHtcbiAgICAgIHVybDogc3RyaW5nIHwgbnVsbDtcbiAgICAgIHRleHQ6IHN0cmluZyB8IG51bGw7XG4gICAgfVtdO1xuICAgIGNvbnN0IHVzZXJTdHlsZVNoZWV0ID0gY29tbWFuZFtcInVzZXJTdHlsZVNoZWV0XCJdIGFzIHtcbiAgICAgIHVybDogc3RyaW5nIHwgbnVsbDtcbiAgICAgIHRleHQ6IHN0cmluZyB8IG51bGw7XG4gICAgfVtdO1xuXG4gICAgLy8gZm9yY2UgcmVsYXlvdXRcbiAgICB0aGlzLnZpZXdwb3J0ID0gbnVsbDtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJsb2FkWE1MXCIpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHNlbGYuY29uZmlndXJlKGNvbW1hbmQpLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3Qgc3RvcmUgPSBuZXcgRXB1Yi5FUFVCRG9jU3RvcmUoKTtcbiAgICAgIHN0b3JlLmluaXQoYXV0aG9yU3R5bGVTaGVldCwgdXNlclN0eWxlU2hlZXQpLnRoZW4oKCkgPT4ge1xuICAgICAgICBjb25zdCByZXNvbHZlZFBhcmFtczogRXB1Yi5PUEZJdGVtUGFyYW1bXSA9IHBhcmFtcy5tYXAoKHAsIGluZGV4KSA9PiAoe1xuICAgICAgICAgIHVybDogQmFzZS5yZXNvbHZlVVJMKFxuICAgICAgICAgICAgQmFzZS5jb252ZXJ0U3BlY2lhbFVSTChwLnVybCksXG4gICAgICAgICAgICBzZWxmLndpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAgICAgICAgICksXG4gICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgc3RhcnRQYWdlOiBwLnN0YXJ0UGFnZSxcbiAgICAgICAgICBza2lwUGFnZXNCZWZvcmU6IHAuc2tpcFBhZ2VzQmVmb3JlLFxuICAgICAgICB9KSk7XG4gICAgICAgIHNlbGYucGFja2FnZVVSTCA9IHJlc29sdmVkUGFyYW1zLm1hcCgocCkgPT4gcC51cmwpO1xuICAgICAgICBzZWxmLm9wZiA9IG5ldyBFcHViLk9QRkRvYyhzdG9yZSwgXCJcIik7XG4gICAgICAgIHNlbGYub3BmLmluaXRXaXRoQ2hhcHRlcnMocmVzb2x2ZWRQYXJhbXMsIGRvYykudGhlbigoKSA9PiB7XG4gICAgICAgICAgc2VsZi5yZW5kZXIoZnJhZ21lbnQpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyKGZyYWdtZW50Pzogc3RyaW5nIHwgbnVsbCk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICB0aGlzLmNhbmNlbFJlbmRlcmluZ1Rhc2soKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBsZXQgY29udDogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgaWYgKGZyYWdtZW50KSB7XG4gICAgICBjb250ID0gdGhpcy5vcGYucmVzb2x2ZUZyYWdtZW50KGZyYWdtZW50KS50aGVuQXN5bmMoKHBvc2l0aW9uKSA9PiB7XG4gICAgICAgIHNlbGYucGFnZVBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ID0gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBjb250LnRoZW5Bc3luYygoKSA9PiB7XG4gICAgICBQcm9maWxlLnByb2ZpbGVyLnJlZ2lzdGVyRW5kVGltaW5nKFwiYmVmb3JlUmVuZGVyXCIpO1xuICAgICAgcmV0dXJuIHNlbGYucmVzaXplKCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlc29sdmVMZW5ndGgoc3BlY2lmaWVkOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGNvbnN0IHZhbHVlID0gcGFyc2VGbG9hdChzcGVjaWZpZWQpO1xuICAgIGNvbnN0IHVuaXRQYXR0ZXJuID0gL1thLXpdKyQvO1xuICAgIGxldCBtYXRjaGVkOiBSZWdFeHBNYXRjaEFycmF5O1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiBzcGVjaWZpZWQgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgIChtYXRjaGVkID0gc3BlY2lmaWVkLm1hdGNoKHVuaXRQYXR0ZXJuKSlcbiAgICApIHtcbiAgICAgIGNvbnN0IHVuaXQgPSBtYXRjaGVkWzBdO1xuICAgICAgaWYgKHVuaXQgPT09IFwiZW1cIiB8fCB1bml0ID09PSBcInJlbVwiKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAqIHRoaXMuZm9udFNpemU7XG4gICAgICB9XG4gICAgICBpZiAodW5pdCA9PT0gXCJleFwiKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgKHZhbHVlICogRXhwcnMuZGVmYXVsdFVuaXRTaXplc1tcImV4XCJdICogdGhpcy5mb250U2l6ZSkgL1xuICAgICAgICAgIEV4cHJzLmRlZmF1bHRVbml0U2l6ZXNbXCJlbVwiXVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29uc3QgdW5pdFNpemUgPSBFeHBycy5kZWZhdWx0VW5pdFNpemVzW3VuaXRdO1xuICAgICAgaWYgKHVuaXRTaXplKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAqIHVuaXRTaXplO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBjb25maWd1cmUoY29tbWFuZDogQmFzZS5KU09OKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcImF1dG9yZXNpemVcIl0gPT0gXCJib29sZWFuXCIpIHtcbiAgICAgIGlmIChjb21tYW5kW1wiYXV0b3Jlc2l6ZVwiXSkge1xuICAgICAgICB0aGlzLnZpZXdwb3J0U2l6ZSA9IG51bGw7XG4gICAgICAgIHRoaXMud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5yZXNpemVMaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICB0aGlzLm5lZWRSZXNpemUgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLnJlc2l6ZUxpc3RlbmVyLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcImZvbnRTaXplXCJdID09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbnN0IGZvbnRTaXplID0gY29tbWFuZFtcImZvbnRTaXplXCJdIGFzIG51bWJlcjtcbiAgICAgIGlmIChmb250U2l6ZSA+PSA1ICYmIGZvbnRTaXplIDw9IDcyICYmIHRoaXMuZm9udFNpemUgIT0gZm9udFNpemUpIHtcbiAgICAgICAgdGhpcy5mb250U2l6ZSA9IGZvbnRTaXplO1xuICAgICAgICB0aGlzLm5lZWRSZXNpemUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbW1hbmRbXCJ2aWV3cG9ydFwiXSA9PSBcIm9iamVjdFwiICYmIGNvbW1hbmRbXCJ2aWV3cG9ydFwiXSkge1xuICAgICAgY29uc3QgdnAgPSBjb21tYW5kW1widmlld3BvcnRcIl07XG4gICAgICBjb25zdCB2aWV3cG9ydFNpemUgPSB7XG4gICAgICAgIG1hcmdpbkxlZnQ6IHRoaXMucmVzb2x2ZUxlbmd0aCh2cFtcIm1hcmdpbi1sZWZ0XCJdKSB8fCAwLFxuICAgICAgICBtYXJnaW5SaWdodDogdGhpcy5yZXNvbHZlTGVuZ3RoKHZwW1wibWFyZ2luLXJpZ2h0XCJdKSB8fCAwLFxuICAgICAgICBtYXJnaW5Ub3A6IHRoaXMucmVzb2x2ZUxlbmd0aCh2cFtcIm1hcmdpbi10b3BcIl0pIHx8IDAsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogdGhpcy5yZXNvbHZlTGVuZ3RoKHZwW1wibWFyZ2luLWJvdHRvbVwiXSkgfHwgMCxcbiAgICAgICAgd2lkdGg6IHRoaXMucmVzb2x2ZUxlbmd0aCh2cFtcIndpZHRoXCJdKSB8fCAwLFxuICAgICAgICBoZWlnaHQ6IHRoaXMucmVzb2x2ZUxlbmd0aCh2cFtcImhlaWdodFwiXSkgfHwgMCxcbiAgICAgIH07XG4gICAgICBpZiAodmlld3BvcnRTaXplLndpZHRoID49IDIwMCB8fCB2aWV3cG9ydFNpemUuaGVpZ2h0ID49IDIwMCkge1xuICAgICAgICB0aGlzLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMucmVzaXplTGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgdGhpcy52aWV3cG9ydFNpemUgPSB2aWV3cG9ydFNpemU7XG4gICAgICAgIHRoaXMubmVlZFJlc2l6ZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcImh5cGhlbmF0ZVwiXSA9PSBcImJvb2xlYW5cIikge1xuICAgICAgdGhpcy5wcmVmLmh5cGhlbmF0ZSA9IGNvbW1hbmRbXCJoeXBoZW5hdGVcIl07XG4gICAgICB0aGlzLm5lZWRSZXNpemUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbW1hbmRbXCJob3Jpem9udGFsXCJdID09IFwiYm9vbGVhblwiKSB7XG4gICAgICB0aGlzLnByZWYuaG9yaXpvbnRhbCA9IGNvbW1hbmRbXCJob3Jpem9udGFsXCJdO1xuICAgICAgdGhpcy5uZWVkUmVzaXplID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kW1wibmlnaHRNb2RlXCJdID09IFwiYm9vbGVhblwiKSB7XG4gICAgICB0aGlzLnByZWYubmlnaHRNb2RlID0gY29tbWFuZFtcIm5pZ2h0TW9kZVwiXTtcbiAgICAgIHRoaXMubmVlZFJlc2l6ZSA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcImxpbmVIZWlnaHRcIl0gPT0gXCJudW1iZXJcIikge1xuICAgICAgdGhpcy5wcmVmLmxpbmVIZWlnaHQgPSBjb21tYW5kW1wibGluZUhlaWdodFwiXTtcbiAgICAgIHRoaXMubmVlZFJlc2l6ZSA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcImNvbHVtbldpZHRoXCJdID09IFwibnVtYmVyXCIpIHtcbiAgICAgIHRoaXMucHJlZi5jb2x1bW5XaWR0aCA9IGNvbW1hbmRbXCJjb2x1bW5XaWR0aFwiXTtcbiAgICAgIHRoaXMubmVlZFJlc2l6ZSA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcImZvbnRGYW1pbHlcIl0gPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhpcy5wcmVmLmZvbnRGYW1pbHkgPSBjb21tYW5kW1wiZm9udEZhbWlseVwiXTtcbiAgICAgIHRoaXMubmVlZFJlc2l6ZSA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcImxvYWRcIl0gPT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHRoaXMud2FpdEZvckxvYWRpbmcgPSBjb21tYW5kW1wibG9hZFwiXTsgLy8gTG9hZCBpbWFnZXMgKGFuZCBvdGhlciByZXNvdXJjZXMpIG9uIHRoZSBwYWdlLlxuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbW1hbmRbXCJyZW5kZXJBbGxQYWdlc1wiXSA9PSBcImJvb2xlYW5cIikge1xuICAgICAgdGhpcy5yZW5kZXJBbGxQYWdlcyA9IGNvbW1hbmRbXCJyZW5kZXJBbGxQYWdlc1wiXTtcbiAgICB9XG4gICAgLy8gZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICBpZiAodHlwZW9mIGNvbW1hbmRbXCJ1c2VyQWdlbnRSb290VVJMXCJdID09IFwic3RyaW5nXCIpIHtcbiAgICAgIEJhc2Uuc2V0QmFzZVVSTChjb21tYW5kW1widXNlckFnZW50Um9vdFVSTFwiXS5yZXBsYWNlKC9yZXNvdXJjZXNcXC8/JC8sIFwiXCIpKTtcbiAgICAgIEJhc2Uuc2V0UmVzb3VyY2VCYXNlVVJMKGNvbW1hbmRbXCJ1c2VyQWdlbnRSb290VVJMXCJdKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kW1wicm9vdFVSTFwiXSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICBCYXNlLnNldEJhc2VVUkwoY29tbWFuZFtcInJvb3RVUkxcIl0pO1xuICAgICAgQmFzZS5zZXRSZXNvdXJjZUJhc2VVUkwoYCR7QmFzZS5iYXNlVVJMfXJlc291cmNlcy9gKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIGNvbW1hbmRbXCJwYWdlVmlld01vZGVcIl0gPT0gXCJzdHJpbmdcIiAmJlxuICAgICAgY29tbWFuZFtcInBhZ2VWaWV3TW9kZVwiXSAhPT0gdGhpcy5wYWdlVmlld01vZGVcbiAgICApIHtcbiAgICAgIHRoaXMucGFnZVZpZXdNb2RlID0gY29tbWFuZFtcInBhZ2VWaWV3TW9kZVwiXSBhcyBQYWdlVmlld01vZGU7XG4gICAgICB0aGlzLm5lZWRSZXNpemUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0eXBlb2YgY29tbWFuZFtcInBhZ2VCb3JkZXJcIl0gPT0gXCJudW1iZXJcIiAmJlxuICAgICAgY29tbWFuZFtcInBhZ2VCb3JkZXJcIl0gIT09IHRoaXMucHJlZi5wYWdlQm9yZGVyXG4gICAgKSB7XG4gICAgICAvLyBGb3JjZSByZWxheW91dFxuICAgICAgdGhpcy52aWV3cG9ydCA9IG51bGw7XG4gICAgICB0aGlzLnByZWYucGFnZUJvcmRlciA9IGNvbW1hbmRbXCJwYWdlQm9yZGVyXCJdO1xuICAgICAgdGhpcy5uZWVkUmVzaXplID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kW1wiem9vbVwiXSA9PSBcIm51bWJlclwiICYmIGNvbW1hbmRbXCJ6b29tXCJdICE9PSB0aGlzLnpvb20pIHtcbiAgICAgIHRoaXMuem9vbSA9IGNvbW1hbmRbXCJ6b29tXCJdO1xuICAgICAgdGhpcy5uZWVkUmVmcmVzaCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBjb21tYW5kW1wiZml0VG9TY3JlZW5cIl0gPT0gXCJib29sZWFuXCIgJiZcbiAgICAgIGNvbW1hbmRbXCJmaXRUb1NjcmVlblwiXSAhPT0gdGhpcy5maXRUb1NjcmVlblxuICAgICkge1xuICAgICAgdGhpcy5maXRUb1NjcmVlbiA9IGNvbW1hbmRbXCJmaXRUb1NjcmVlblwiXTtcbiAgICAgIHRoaXMubmVlZFJlZnJlc2ggPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0eXBlb2YgY29tbWFuZFtcImRlZmF1bHRQYXBlclNpemVcIl0gPT0gXCJvYmplY3RcIiAmJlxuICAgICAgdHlwZW9mIGNvbW1hbmRbXCJkZWZhdWx0UGFwZXJTaXplXCJdLndpZHRoID09IFwibnVtYmVyXCIgJiZcbiAgICAgIHR5cGVvZiBjb21tYW5kW1wiZGVmYXVsdFBhcGVyU2l6ZVwiXS5oZWlnaHQgPT0gXCJudW1iZXJcIlxuICAgICkge1xuICAgICAgdGhpcy52aWV3cG9ydCA9IG51bGw7XG4gICAgICB0aGlzLnByZWYuZGVmYXVsdFBhcGVyU2l6ZSA9IGNvbW1hbmRbXCJkZWZhdWx0UGFwZXJTaXplXCJdO1xuICAgICAgdGhpcy5uZWVkUmVzaXplID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5jb25maWd1cmVQbHVnaW5zKGNvbW1hbmQpO1xuICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZVBsdWdpbnMoY29tbWFuZDogQmFzZS5KU09OKSB7XG4gICAgY29uc3QgaG9va3M6IFBsdWdpbi5Db25maWd1cmF0aW9uSG9va1tdID0gUGx1Z2luLmdldEhvb2tzRm9yTmFtZShcbiAgICAgIFBsdWdpbi5IT09LUy5DT05GSUdVUkFUSU9OLFxuICAgICk7XG4gICAgaG9va3MuZm9yRWFjaCgoaG9vaykgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gaG9vayhjb21tYW5kKTtcbiAgICAgIHRoaXMubmVlZFJlc2l6ZSA9IHJlc3VsdC5uZWVkUmVzaXplIHx8IHRoaXMubmVlZFJlc2l6ZTtcbiAgICAgIHRoaXMubmVlZFJlZnJlc2ggPSByZXN1bHQubmVlZFJlZnJlc2ggfHwgdGhpcy5uZWVkUmVmcmVzaDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWZyZXNoIHZpZXcgd2hlbiBhIGN1cnJlbnRseSBkaXNwbGF5ZWQgcGFnZSBpcyByZXBsYWNlZCAoYnkgcmUtbGF5b3V0XG4gICAqIGNhdXNlZCBieSBjcm9zcyByZWZlcmVuY2UgcmVzb2x1dGlvbnMpXG4gICAqL1xuICBwYWdlUmVwbGFjZWRMaXN0ZW5lcihldnQ6IEJhc2UuRXZlbnQpIHtcbiAgICBjb25zdCBjdXJyZW50UGFnZSA9IHRoaXMuY3VycmVudFBhZ2U7XG4gICAgY29uc3Qgc3ByZWFkID0gdGhpcy5jdXJyZW50U3ByZWFkO1xuICAgIGNvbnN0IHRhcmdldCA9IGV2dC50YXJnZXQ7XG4gICAgaWYgKHNwcmVhZCkge1xuICAgICAgaWYgKHNwcmVhZC5sZWZ0ID09PSB0YXJnZXQgfHwgc3ByZWFkLnJpZ2h0ID09PSB0YXJnZXQpIHtcbiAgICAgICAgdGhpcy5zaG93Q3VycmVudChldnQubmV3UGFnZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjdXJyZW50UGFnZSA9PT0gZXZ0LnRhcmdldCkge1xuICAgICAgdGhpcy5zaG93Q3VycmVudChldnQubmV3UGFnZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGUgdGhyb3VnaCBjdXJyZW50bHkgZGlzcGxheWVkIHBhZ2VzIGFuZCBkbyBzb21ldGhpbmdcbiAgICovXG4gIHByaXZhdGUgZm9yQ3VycmVudFBhZ2VzKGZuOiAocDE6IFZ0cmVlLlBhZ2UpID0+IGFueSkge1xuICAgIGNvbnN0IHBhZ2VzID0gW107XG4gICAgaWYgKHRoaXMuY3VycmVudFBhZ2UpIHtcbiAgICAgIHBhZ2VzLnB1c2godGhpcy5jdXJyZW50UGFnZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmN1cnJlbnRTcHJlYWQpIHtcbiAgICAgIHBhZ2VzLnB1c2godGhpcy5jdXJyZW50U3ByZWFkLmxlZnQpO1xuICAgICAgcGFnZXMucHVzaCh0aGlzLmN1cnJlbnRTcHJlYWQucmlnaHQpO1xuICAgIH1cbiAgICBwYWdlcy5mb3JFYWNoKChwYWdlKSA9PiB7XG4gICAgICBpZiAocGFnZSkge1xuICAgICAgICBmbihwYWdlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVtb3ZlUGFnZUxpc3RlbmVycygpIHtcbiAgICB0aGlzLmZvckN1cnJlbnRQYWdlcygocGFnZSkgPT4ge1xuICAgICAgcGFnZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiaHlwZXJsaW5rXCIsIHRoaXMuaHlwZXJsaW5rTGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgIHBhZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlcGxhY2VkXCIsIHRoaXMucGFnZVJlcGxhY2VkTGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIaWRlIGN1cnJlbnQgcGFnZXMgKHRoaXMuY3VycmVudFBhZ2UsIHRoaXMuY3VycmVudFNwcmVhZClcbiAgICovXG4gIHByaXZhdGUgaGlkZVBhZ2VzKCkge1xuICAgIHRoaXMucmVtb3ZlUGFnZUxpc3RlbmVycygpO1xuICAgIHRoaXMuZm9yQ3VycmVudFBhZ2VzKChwYWdlKSA9PiB7XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHBhZ2UuY29udGFpbmVyLCBcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgcGFnZS5jb250YWluZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xuICAgIH0pO1xuICAgIHRoaXMuY3VycmVudFBhZ2UgPSBudWxsO1xuICAgIHRoaXMuY3VycmVudFNwcmVhZCA9IG51bGw7XG4gIH1cblxuICBwcml2YXRlIHNob3dTaW5nbGVQYWdlKHBhZ2U6IFZ0cmVlLlBhZ2UpIHtcbiAgICBwYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJoeXBlcmxpbmtcIiwgdGhpcy5oeXBlcmxpbmtMaXN0ZW5lciwgZmFsc2UpO1xuICAgIHBhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJlcGxhY2VkXCIsIHRoaXMucGFnZVJlcGxhY2VkTGlzdGVuZXIsIGZhbHNlKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHBhZ2UuY29udGFpbmVyLCBcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkocGFnZS5jb250YWluZXIsIFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xuICAgIHBhZ2UuY29udGFpbmVyLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwiZmFsc2VcIik7XG4gIH1cblxuICBwcml2YXRlIHNob3dQYWdlKHBhZ2U6IFZ0cmVlLlBhZ2UpOiB2b2lkIHtcbiAgICB0aGlzLmhpZGVQYWdlcygpO1xuICAgIHRoaXMuY3VycmVudFBhZ2UgPSBwYWdlO1xuICAgIHBhZ2UuY29udGFpbmVyLnN0eWxlLm1hcmdpbkxlZnQgPSBcIlwiO1xuICAgIHBhZ2UuY29udGFpbmVyLnN0eWxlLm1hcmdpblJpZ2h0ID0gXCJcIjtcbiAgICB0aGlzLnNob3dTaW5nbGVQYWdlKHBhZ2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBzaG93U3ByZWFkKHNwcmVhZDogVnRyZWUuU3ByZWFkKSB7XG4gICAgdGhpcy5oaWRlUGFnZXMoKTtcbiAgICB0aGlzLmN1cnJlbnRTcHJlYWQgPSBzcHJlYWQ7XG4gICAgaWYgKHNwcmVhZC5sZWZ0ICYmIHNwcmVhZC5yaWdodCkge1xuICAgICAgLy8gQWRqdXN0IHNwcmVhZCBob3Jpem9udGFsIGFsaWdubWVudCB3aGVuIGxlZnQvcmlnaHQgcGFnZSB3aWR0aHMgZGlmZmVyXG4gICAgICBsZXQgbGVmdFdpZHRoID0gcGFyc2VGbG9hdChzcHJlYWQubGVmdC5jb250YWluZXIuc3R5bGUud2lkdGgpO1xuICAgICAgbGV0IHJpZ2h0V2lkdGggPSBwYXJzZUZsb2F0KHNwcmVhZC5yaWdodC5jb250YWluZXIuc3R5bGUud2lkdGgpO1xuICAgICAgaWYgKGxlZnRXaWR0aCAmJiByaWdodFdpZHRoICYmIGxlZnRXaWR0aCAhPT0gcmlnaHRXaWR0aCkge1xuICAgICAgICBpZiAobGVmdFdpZHRoIDwgcmlnaHRXaWR0aCkge1xuICAgICAgICAgIHNwcmVhZC5sZWZ0LmNvbnRhaW5lci5zdHlsZS5tYXJnaW5MZWZ0ID0gYCR7cmlnaHRXaWR0aCAtXG4gICAgICAgICAgICBsZWZ0V2lkdGh9cHhgO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNwcmVhZC5yaWdodC5jb250YWluZXIuc3R5bGUubWFyZ2luUmlnaHQgPSBgJHtsZWZ0V2lkdGggLVxuICAgICAgICAgICAgcmlnaHRXaWR0aH1weGA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNwcmVhZC5sZWZ0KSB7XG4gICAgICB0aGlzLnNob3dTaW5nbGVQYWdlKHNwcmVhZC5sZWZ0KTtcbiAgICAgIGlmICghc3ByZWFkLnJpZ2h0KSB7XG4gICAgICAgIHNwcmVhZC5sZWZ0LmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgXCJkYXRhLXZpdmxpb3N0eWxlLXVucGFpcmVkLXBhZ2VcIixcbiAgICAgICAgICB0cnVlLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3ByZWFkLmxlZnQuY29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtdml2bGlvc3R5bGUtdW5wYWlyZWQtcGFnZVwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNwcmVhZC5yaWdodCkge1xuICAgICAgdGhpcy5zaG93U2luZ2xlUGFnZShzcHJlYWQucmlnaHQpO1xuICAgICAgaWYgKCFzcHJlYWQubGVmdCkge1xuICAgICAgICBzcHJlYWQucmlnaHQuY29udGFpbmVyLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICBcImRhdGEtdml2bGlvc3R5bGUtdW5wYWlyZWQtcGFnZVwiLFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcHJlYWQucmlnaHQuY29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZShcbiAgICAgICAgICBcImRhdGEtdml2bGlvc3R5bGUtdW5wYWlyZWQtcGFnZVwiLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVwb3J0UG9zaXRpb24oKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcInJlcG9ydFBvc2l0aW9uXCIpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIEFzc2VydHMuYXNzZXJ0KHNlbGYucGFnZVBvc2l0aW9uKTtcbiAgICBzZWxmLm9wZlxuICAgICAgLmdldENGSSh0aGlzLnBhZ2VQb3NpdGlvbi5zcGluZUluZGV4LCB0aGlzLnBhZ2VQb3NpdGlvbi5vZmZzZXRJbkl0ZW0pXG4gICAgICAudGhlbigoY2ZpKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhZ2UgPSBzZWxmLmN1cnJlbnRQYWdlO1xuICAgICAgICBjb25zdCByID1cbiAgICAgICAgICBzZWxmLndhaXRGb3JMb2FkaW5nICYmIHBhZ2UuZmV0Y2hlcnMubGVuZ3RoID4gMFxuICAgICAgICAgICAgPyBUYXNrVXRpbC53YWl0Rm9yRmV0Y2hlcnMocGFnZS5mZXRjaGVycylcbiAgICAgICAgICAgIDogVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICAgIHIudGhlbigoKSA9PiB7XG4gICAgICAgICAgc2VsZi5zZW5kTG9jYXRpb25Ob3RpZmljYXRpb24ocGFnZSwgY2ZpKS50aGVuRmluaXNoKGZyYW1lKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVZpZXdwb3J0KCk6IFZnZW4uVmlld3BvcnQge1xuICAgIGNvbnN0IHZpZXdwb3J0RWxlbWVudCA9IHRoaXMudmlld3BvcnRFbGVtZW50O1xuICAgIGlmICh0aGlzLnZpZXdwb3J0U2l6ZSkge1xuICAgICAgY29uc3QgdnMgPSB0aGlzLnZpZXdwb3J0U2l6ZTtcbiAgICAgIHZpZXdwb3J0RWxlbWVudC5zdHlsZS5tYXJnaW5MZWZ0ID0gYCR7dnMubWFyZ2luTGVmdH1weGA7XG4gICAgICB2aWV3cG9ydEVsZW1lbnQuc3R5bGUubWFyZ2luUmlnaHQgPSBgJHt2cy5tYXJnaW5SaWdodH1weGA7XG4gICAgICB2aWV3cG9ydEVsZW1lbnQuc3R5bGUubWFyZ2luVG9wID0gYCR7dnMubWFyZ2luVG9wfXB4YDtcbiAgICAgIHZpZXdwb3J0RWxlbWVudC5zdHlsZS5tYXJnaW5Cb3R0b20gPSBgJHt2cy5tYXJnaW5Cb3R0b219cHhgO1xuICAgICAgcmV0dXJuIG5ldyBWZ2VuLlZpZXdwb3J0KFxuICAgICAgICB0aGlzLndpbmRvdyxcbiAgICAgICAgdGhpcy5mb250U2l6ZSxcbiAgICAgICAgdmlld3BvcnRFbGVtZW50LFxuICAgICAgICB2cy53aWR0aCxcbiAgICAgICAgdnMuaGVpZ2h0LFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBWZ2VuLlZpZXdwb3J0KHRoaXMud2luZG93LCB0aGlzLmZvbnRTaXplLCB2aWV3cG9ydEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVzb2x2ZVNwcmVhZFZpZXcodmlld3BvcnQ6IFZnZW4uVmlld3BvcnQpOiBib29sZWFuIHtcbiAgICBzd2l0Y2ggKHRoaXMucGFnZVZpZXdNb2RlKSB7XG4gICAgICBjYXNlIFBhZ2VWaWV3TW9kZS5TSU5HTEVfUEFHRTpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgY2FzZSBQYWdlVmlld01vZGUuU1BSRUFEOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgUGFnZVZpZXdNb2RlLkFVVE9fU1BSRUFEOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gd2lkZSBlbm91Z2ggZm9yIGEgcGFpciBvZiBwYWdlcyBvZiBBL0IgcGFwZXIgc2l6ZXMsIGJ1dCBub3QgdG9vXG4gICAgICAgIC8vIG5hcnJvd1xuICAgICAgICByZXR1cm4gdmlld3BvcnQud2lkdGggLyB2aWV3cG9ydC5oZWlnaHQgPj0gMS40NSAmJiB2aWV3cG9ydC53aWR0aCA+IDgwMDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVNwcmVhZFZpZXcoc3ByZWFkVmlldzogYm9vbGVhbikge1xuICAgIHRoaXMucHJlZi5zcHJlYWRWaWV3ID0gc3ByZWFkVmlldztcbiAgICB0aGlzLnZpZXdwb3J0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXG4gICAgICBWSUVXUE9SVF9TUFJFQURfVklFV19BVFRSSUJVVEUsXG4gICAgICBzcHJlYWRWaWV3LnRvU3RyaW5nKCksXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgc2l6ZUlzR29vZCgpOiBib29sZWFuIHtcbiAgICBjb25zdCB2aWV3cG9ydCA9IHRoaXMuY3JlYXRlVmlld3BvcnQoKTtcbiAgICBjb25zdCBzcHJlYWRWaWV3ID0gdGhpcy5yZXNvbHZlU3ByZWFkVmlldyh2aWV3cG9ydCk7XG4gICAgY29uc3Qgc3ByZWFkVmlld0NoYW5nZWQgPSB0aGlzLnByZWYuc3ByZWFkVmlldyAhPT0gc3ByZWFkVmlldztcbiAgICB0aGlzLnVwZGF0ZVNwcmVhZFZpZXcoc3ByZWFkVmlldyk7XG4gICAgaWYgKFxuICAgICAgdGhpcy52aWV3cG9ydFNpemUgfHxcbiAgICAgICF0aGlzLnZpZXdwb3J0IHx8XG4gICAgICB0aGlzLnZpZXdwb3J0LmZvbnRTaXplICE9IHRoaXMuZm9udFNpemVcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgIXNwcmVhZFZpZXdDaGFuZ2VkICYmXG4gICAgICB2aWV3cG9ydC53aWR0aCA9PSB0aGlzLnZpZXdwb3J0LndpZHRoICYmXG4gICAgICB2aWV3cG9ydC5oZWlnaHQgPT0gdGhpcy52aWV3cG9ydC5oZWlnaHRcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgICFzcHJlYWRWaWV3Q2hhbmdlZCAmJlxuICAgICAgdmlld3BvcnQud2lkdGggPT0gdGhpcy52aWV3cG9ydC53aWR0aCAmJlxuICAgICAgdmlld3BvcnQuaGVpZ2h0ICE9IHRoaXMudmlld3BvcnQuaGVpZ2h0ICYmXG4gICAgICAvQW5kcm9pZHxpUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG4gICAgKSB7XG4gICAgICAvLyBPbiBtb2JpbGUgYnJvd3NlcnMsIHRoZSB2aWV3cG9ydCBoZWlnaHQgbWF5IGNoYW5nZSB1bmV4cGVjdGVkbHlcbiAgICAgIC8vIHdoZW4gc29mdCBrZXlib2FyZCBhcHBlYXJzIG9yIHRhYi9hZGRyZXNzIGJhciBhdXRvLWhpZGUgb2NjdXJzLFxuICAgICAgLy8gc28gaWdub3JlIHJlc2l6aW5nIGluIHRoaXMgY29uZGl0aW9uLlxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgdGhpcy5vcGZWaWV3ICYmXG4gICAgICB0aGlzLm9wZlZpZXcuaGFzUGFnZXMoKSAmJlxuICAgICAgIXRoaXMub3BmVmlldy5oYXNBdXRvU2l6ZWRQYWdlcygpXG4gICAgKSB7XG4gICAgICB0aGlzLnZpZXdwb3J0LndpZHRoID0gdmlld3BvcnQud2lkdGg7XG4gICAgICB0aGlzLnZpZXdwb3J0LmhlaWdodCA9IHZpZXdwb3J0LmhlaWdodDtcbiAgICAgIHRoaXMubmVlZFJlZnJlc2ggPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0UGFnZVNpemUoXG4gICAgcGFnZVNpemU6IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfSxcbiAgICBwYWdlU2hlZXRTaXplOiB7IFtrZXk6IHN0cmluZ106IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfSB9LFxuICAgIHNwaW5lSW5kZXg6IG51bWJlcixcbiAgICBwYWdlSW5kZXg6IG51bWJlcixcbiAgKSB7XG4gICAgdGhpcy5wYWdlU2l6ZXNbcGFnZUluZGV4XSA9IHBhZ2VTaXplO1xuICAgIHRoaXMuc2V0UGFnZVNpemVQYWdlUnVsZXMocGFnZVNoZWV0U2l6ZSwgc3BpbmVJbmRleCwgcGFnZUluZGV4KTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0UGFnZVNpemVQYWdlUnVsZXMoXG4gICAgcGFnZVNoZWV0U2l6ZTogeyBba2V5OiBzdHJpbmddOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH0gfSxcbiAgICBzcGluZUluZGV4OiBudW1iZXIsXG4gICAgcGFnZUluZGV4OiBudW1iZXIsXG4gICkge1xuICAgIGlmICghdGhpcy5wYWdlU2hlZXRTaXplQWxyZWFkeVNldCAmJiB0aGlzLnBhZ2VSdWxlU3R5bGVFbGVtZW50KSB7XG4gICAgICBsZXQgc3R5bGVUZXh0ID0gXCJcIjtcbiAgICAgIE9iamVjdC5rZXlzKHBhZ2VTaGVldFNpemUpLmZvckVhY2goKHNlbGVjdG9yKSA9PiB7XG4gICAgICAgIHN0eWxlVGV4dCArPSBgQHBhZ2UgJHtzZWxlY3Rvcn17bWFyZ2luOjA7c2l6ZTpgO1xuICAgICAgICBjb25zdCBzaXplID0gcGFnZVNoZWV0U2l6ZVtzZWxlY3Rvcl07XG4gICAgICAgIHN0eWxlVGV4dCArPSBgJHtzaXplLndpZHRofXB4ICR7c2l6ZS5oZWlnaHR9cHg7fWA7XG4gICAgICB9KTtcbiAgICAgIHRoaXMucGFnZVJ1bGVTdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBzdHlsZVRleHQ7XG4gICAgICB0aGlzLnBhZ2VTaGVldFNpemVBbHJlYWR5U2V0ID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZW1vdmVQYWdlU2l6ZVBhZ2VSdWxlcygpIHtcbiAgICBpZiAodGhpcy5wYWdlUnVsZVN0eWxlRWxlbWVudCkge1xuICAgICAgdGhpcy5wYWdlUnVsZVN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICB0aGlzLnBhZ2VTaGVldFNpemVBbHJlYWR5U2V0ID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZXNldCgpOiB2b2lkIHtcbiAgICBsZXQgdG9jVmlzaWJsZSA9IGZhbHNlO1xuICAgIGxldCB0b2NBdXRvaGlkZSA9IGZhbHNlO1xuICAgIGlmICh0aGlzLm9wZlZpZXcpIHtcbiAgICAgIHRvY1Zpc2libGUgPSB0aGlzLm9wZlZpZXcuaXNUT0NWaXNpYmxlKCk7XG4gICAgICB0b2NBdXRvaGlkZSA9IHRoaXMub3BmVmlldy50b2NBdXRvaGlkZTtcbiAgICAgIHRoaXMub3BmVmlldy5oaWRlVE9DKCk7XG4gICAgICB0aGlzLm9wZlZpZXcucmVtb3ZlUmVuZGVyZWRQYWdlcygpO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZVBhZ2VTaXplUGFnZVJ1bGVzKCk7XG4gICAgdGhpcy52aWV3cG9ydCA9IHRoaXMuY3JlYXRlVmlld3BvcnQoKTtcbiAgICB0aGlzLnZpZXdwb3J0LnJlc2V0Wm9vbSgpO1xuICAgIHRoaXMub3BmVmlldyA9IG5ldyBFcHViLk9QRlZpZXcoXG4gICAgICB0aGlzLm9wZixcbiAgICAgIHRoaXMudmlld3BvcnQsXG4gICAgICB0aGlzLmZvbnRNYXBwZXIsXG4gICAgICB0aGlzLnByZWYsXG4gICAgICB0aGlzLnNldFBhZ2VTaXplLmJpbmQodGhpcyksXG4gICAgKTtcbiAgICBpZiAodG9jVmlzaWJsZSkge1xuICAgICAgdGhpcy5zZW5kQ29tbWFuZCh7IGE6IFwidG9jXCIsIHY6IFwic2hvd1wiLCBhdXRvaGlkZTogdG9jQXV0b2hpZGUgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgY3VycmVudCBwYWdlIG9yIHNwcmVhZCBkZXBlbmRpbmcgb24gdGhlIHNldHRpbmdcbiAgICogKHRoaXMucHJlZi5zcHJlYWRWaWV3KS5cbiAgICogQHBhcmFtIHN5bmMgSWYgdHJ1ZSwgZ2V0IHRoZSBuZWNlc3NhcnkgcGFnZSBzeW5jaHJvbm91c2x5IChub3Qgd2FpdGluZ1xuICAgKiAgICAgYW5vdGhlciByZW5kZXJpbmcgdGFzaylcbiAgICovXG4gIHByaXZhdGUgc2hvd0N1cnJlbnQocGFnZTogVnRyZWUuUGFnZSwgc3luYz86IGJvb2xlYW4pOiBUYXNrLlJlc3VsdDxudWxsPiB7XG4gICAgdGhpcy5uZWVkUmVmcmVzaCA9IGZhbHNlO1xuICAgIHRoaXMucmVtb3ZlUGFnZUxpc3RlbmVycygpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGlmICh0aGlzLnByZWYuc3ByZWFkVmlldykge1xuICAgICAgcmV0dXJuIHRoaXMub3BmVmlld1xuICAgICAgICAuZ2V0U3ByZWFkKHRoaXMucGFnZVBvc2l0aW9uLCBzeW5jKVxuICAgICAgICAudGhlbkFzeW5jKChzcHJlYWQpID0+IHtcbiAgICAgICAgICBzZWxmLnNob3dTcHJlYWQoc3ByZWFkKTtcbiAgICAgICAgICBzZWxmLnNldFNwcmVhZFpvb20oc3ByZWFkKTtcbiAgICAgICAgICBzZWxmLmN1cnJlbnRQYWdlID0gcGFnZTtcbiAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNob3dQYWdlKHBhZ2UpO1xuICAgICAgdGhpcy5zZXRQYWdlWm9vbShwYWdlKTtcbiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBwYWdlO1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIHNldFBhZ2Vab29tKHBhZ2U6IFZ0cmVlLlBhZ2UpIHtcbiAgICBjb25zdCB6b29tID0gdGhpcy5nZXRBZGp1c3RlZFpvb21GYWN0b3IocGFnZS5kaW1lbnNpb25zKTtcbiAgICB0aGlzLnZpZXdwb3J0Lnpvb20ocGFnZS5kaW1lbnNpb25zLndpZHRoLCBwYWdlLmRpbWVuc2lvbnMuaGVpZ2h0LCB6b29tKTtcbiAgfVxuXG4gIHNldFNwcmVhZFpvb20oc3ByZWFkOiBWdHJlZS5TcHJlYWQpIHtcbiAgICBjb25zdCBkaW0gPSB0aGlzLmdldFNwcmVhZERpbWVuc2lvbnMoc3ByZWFkKTtcbiAgICB0aGlzLnZpZXdwb3J0Lnpvb20oZGltLndpZHRoLCBkaW0uaGVpZ2h0LCB0aGlzLmdldEFkanVzdGVkWm9vbUZhY3RvcihkaW0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBhZGp1c3RlZCB6b29tIGZhY3RvclxuICAgKi9cbiAgZ2V0QWRqdXN0ZWRab29tRmFjdG9yKHBhZ2VEaW1lbnNpb246IHtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICB9KTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5maXRUb1NjcmVlblxuICAgICAgPyB0aGlzLmNhbGN1bGF0ZVpvb21GYWN0b3JUb0ZpdEluc2lkZVZpZXdQb3J0KHBhZ2VEaW1lbnNpb24pXG4gICAgICA6IHRoaXMuem9vbTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHNwcmVhZCwgaW5jbHVkaW5nIHRoZSBtYXJnaW4gYmV0d2VlbiBwYWdlcy5cbiAgICovXG4gIGdldFNwcmVhZERpbWVuc2lvbnMoc3ByZWFkOiBWdHJlZS5TcHJlYWQpOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH0ge1xuICAgIGxldCB3aWR0aCA9IDA7XG4gICAgbGV0IGhlaWdodCA9IDA7XG4gICAgaWYgKHNwcmVhZC5sZWZ0KSB7XG4gICAgICB3aWR0aCArPSBzcHJlYWQubGVmdC5kaW1lbnNpb25zLndpZHRoO1xuICAgICAgaGVpZ2h0ID0gc3ByZWFkLmxlZnQuZGltZW5zaW9ucy5oZWlnaHQ7XG4gICAgfVxuICAgIGlmIChzcHJlYWQucmlnaHQpIHtcbiAgICAgIHdpZHRoICs9IHNwcmVhZC5yaWdodC5kaW1lbnNpb25zLndpZHRoO1xuICAgICAgaGVpZ2h0ID0gTWF0aC5tYXgoaGVpZ2h0LCBzcHJlYWQucmlnaHQuZGltZW5zaW9ucy5oZWlnaHQpO1xuICAgIH1cbiAgICBpZiAoc3ByZWFkLmxlZnQgJiYgc3ByZWFkLnJpZ2h0KSB7XG4gICAgICB3aWR0aCArPSB0aGlzLnByZWYucGFnZUJvcmRlciAqIDI7XG4gICAgICAvLyBBZGp1c3Qgc3ByZWFkIGhvcml6b250YWwgYWxpZ25tZW50IHdoZW4gbGVmdC9yaWdodCBwYWdlIHdpZHRocyBkaWZmZXJcbiAgICAgIHdpZHRoICs9IE1hdGguYWJzKFxuICAgICAgICBzcHJlYWQubGVmdC5kaW1lbnNpb25zLndpZHRoIC0gc3ByZWFkLnJpZ2h0LmRpbWVuc2lvbnMud2lkdGgsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4geyB3aWR0aCwgaGVpZ2h0IH07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB6b29tIGZhY3RvciBjb3JyZXNwb25kaW5nIHRvIHRoZSBzcGVjaWZpZWQgem9vbSB0eXBlLlxuICAgKi9cbiAgcXVlcnlab29tRmFjdG9yKHR5cGU6IFpvb21UeXBlKTogbnVtYmVyIHtcbiAgICBpZiAoIXRoaXMuY3VycmVudFBhZ2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vIHBhZ2UgZXhpc3RzLlwiKTtcbiAgICB9XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFpvb21UeXBlLkZJVF9JTlNJREVfVklFV1BPUlQ6IHtcbiAgICAgICAgbGV0IHBhZ2VEaW06IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfTtcbiAgICAgICAgaWYgKHRoaXMucHJlZi5zcHJlYWRWaWV3KSB7XG4gICAgICAgICAgQXNzZXJ0cy5hc3NlcnQodGhpcy5jdXJyZW50U3ByZWFkKTtcbiAgICAgICAgICBwYWdlRGltID0gdGhpcy5nZXRTcHJlYWREaW1lbnNpb25zKHRoaXMuY3VycmVudFNwcmVhZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFnZURpbSA9IHRoaXMuY3VycmVudFBhZ2UuZGltZW5zaW9ucztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jYWxjdWxhdGVab29tRmFjdG9yVG9GaXRJbnNpZGVWaWV3UG9ydChwYWdlRGltKTtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgdW5rbm93biB6b29tIHR5cGU6ICR7dHlwZX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgem9vbSBmYWN0b3IgdG8gZml0IGluc2lkZSB2aWV3cG9ydFxuICAgKi9cbiAgY2FsY3VsYXRlWm9vbUZhY3RvclRvRml0SW5zaWRlVmlld1BvcnQocGFnZURpbWVuc2lvbjoge1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gIH0pOiBudW1iZXIge1xuICAgIGNvbnN0IHdpZHRoWm9vbSA9IHRoaXMudmlld3BvcnQud2lkdGggLyBwYWdlRGltZW5zaW9uLndpZHRoO1xuICAgIGNvbnN0IGhlaWdodFpvb20gPSB0aGlzLnZpZXdwb3J0LmhlaWdodCAvIHBhZ2VEaW1lbnNpb24uaGVpZ2h0O1xuICAgIHJldHVybiBNYXRoLm1pbih3aWR0aFpvb20sIGhlaWdodFpvb20pO1xuICB9XG5cbiAgcHJpdmF0ZSBjYW5jZWxSZW5kZXJpbmdUYXNrKCkge1xuICAgIGlmICh0aGlzLnJlbmRlclRhc2spIHtcbiAgICAgIHRoaXMucmVuZGVyVGFzay5pbnRlcnJ1cHQobmV3IFJlbmRlcmluZ0NhbmNlbGVkRXJyb3IoKSk7XG4gICAgfVxuICAgIHRoaXMucmVuZGVyVGFzayA9IG51bGw7XG4gIH1cblxuICByZXNpemUoKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIHRoaXMubmVlZFJlc2l6ZSA9IGZhbHNlO1xuICAgIHRoaXMubmVlZFJlZnJlc2ggPSBmYWxzZTtcbiAgICBpZiAodGhpcy5zaXplSXNHb29kKCkpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5zZXRSZWFkeVN0YXRlKENvbnN0YW50cy5SZWFkeVN0YXRlLkxPQURJTkcpO1xuICAgIHRoaXMuY2FuY2VsUmVuZGVyaW5nVGFzaygpO1xuICAgIGNvbnN0IHJlc2l6ZVRhc2sgPSBUYXNrLmN1cnJlbnRUYXNrKClcbiAgICAgIC5nZXRTY2hlZHVsZXIoKVxuICAgICAgLnJ1bigoKSA9PlxuICAgICAgICBUYXNrLmhhbmRsZShcbiAgICAgICAgICBcInJlc2l6ZVwiLFxuICAgICAgICAgIChmcmFtZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFzZWxmLm9wZikge1xuICAgICAgICAgICAgICBmcmFtZS5maW5pc2goZmFsc2UpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLnJlbmRlclRhc2sgPSByZXNpemVUYXNrO1xuICAgICAgICAgICAgUHJvZmlsZS5wcm9maWxlci5yZWdpc3RlclN0YXJ0VGltaW5nKFwicmVuZGVyIChyZXNpemUpXCIpO1xuICAgICAgICAgICAgc2VsZi5yZXNldCgpO1xuICAgICAgICAgICAgaWYgKHNlbGYucGFnZVBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgIC8vIFdoZW4gcmVzaXppbmcsIGRvIG5vdCB1c2UgdGhlIGN1cnJlbnQgcGFnZSBpbmRleCwgZm9yIGEgcGFnZVxuICAgICAgICAgICAgICAvLyBpbmRleCBjb3JyZXNwb25kaW5nIHRvIHRoZSBjdXJyZW50IHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudFxuICAgICAgICAgICAgICAvLyAob2Zmc2V0SW5JdGVtKSBjYW4gY2hhbmdlIGR1ZSB0byBkaWZmZXJlbnQgbGF5b3V0IGNhdXNlZCBieVxuICAgICAgICAgICAgICAvLyBkaWZmZXJlbnQgdmlld3BvcnQgc2l6ZS5cblxuICAgICAgICAgICAgICAvLyBVcGRhdGUoMjAxOS0wMyk6IHRvIGF2b2lkIHVuZXhwZWN0ZWQgcGFnZSBtb3ZlIChmaXJzdCBwYWdlIHRvIG5leHQpLFxuICAgICAgICAgICAgICAvLyBrZWVwIHBhZ2VJbmRleCA9PSAwIHdoZW4gb2Zmc2V0SW5JdGVtID09IDBcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICEoXG4gICAgICAgICAgICAgICAgICBzZWxmLnBhZ2VQb3NpdGlvbi5wYWdlSW5kZXggPT0gMCAmJlxuICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlUG9zaXRpb24ub2Zmc2V0SW5JdGVtID09IDBcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHNlbGYucGFnZVBvc2l0aW9uLnBhZ2VJbmRleCA9IC0xO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGVwYWdlQ291bnQgY291bnRpbmcgZGVwZW5kcyByZW5kZXJBbGxQYWdlcyBtb2RlXG4gICAgICAgICAgICBzZWxmLm9wZi5zZXRFUGFnZUNvdW50TW9kZShzZWxmLnJlbmRlckFsbFBhZ2VzKTtcblxuICAgICAgICAgICAgLy8gV2l0aCByZW5kZXJBbGxQYWdlcyBvcHRpb24gc3BlY2lmaWVkLCB0aGUgcmVuZGVyaW5nIGlzXG4gICAgICAgICAgICAvLyBwZXJmb3JtZWQgYWZ0ZXIgdGhlIGluaXRpYWwgcGFnZSBkaXNwbGF5LCBvdGhlcndpc2UgdXNlcnMgYXJlXG4gICAgICAgICAgICAvLyBmb3JjZWQgdG8gd2FpdCB0aGUgcmVuZGVyaW5nIGZpbmlzaCBpbiBmcm9udCBvZiBhIGJsYW5rIHBhZ2UuXG4gICAgICAgICAgICBzZWxmLm9wZlZpZXdcbiAgICAgICAgICAgICAgLnJlbmRlclBhZ2VzVXB0byhzZWxmLnBhZ2VQb3NpdGlvbiwgIXNlbGYucmVuZGVyQWxsUGFnZXMpXG4gICAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VsZi5wYWdlUG9zaXRpb24gPSByZXN1bHQucG9zaXRpb247XG4gICAgICAgICAgICAgICAgc2VsZi5zaG93Q3VycmVudChyZXN1bHQucGFnZSwgdHJ1ZSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZWxmLnNldFJlYWR5U3RhdGUoQ29uc3RhbnRzLlJlYWR5U3RhdGUuSU5URVJBQ1RJVkUpO1xuXG4gICAgICAgICAgICAgICAgICBzZWxmLm9wZlxuICAgICAgICAgICAgICAgICAgICAuY291bnRFUGFnZXMoKGVwYWdlQ291bnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub3RpZmljYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0OiBcIm5hdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXBhZ2VDb3VudDogZXBhZ2VDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0OiBzZWxmLmN1cnJlbnRQYWdlLmlzRmlyc3RQYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdDogc2VsZi5jdXJyZW50UGFnZS5pc0xhc3RQYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IHNlbGYub3BmLm1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jVGl0bGU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYub3BmLnNwaW5lW3NlbGYucGFnZVBvc2l0aW9uLnNwaW5lSW5kZXhdLnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJyZW50UGFnZS5pc0ZpcnN0UGFnZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKHNlbGYucGFnZVBvc2l0aW9uLnBhZ2VJbmRleCA9PSAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYub3BmLnNwaW5lW3NlbGYucGFnZVBvc2l0aW9uLnNwaW5lSW5kZXhdLmVwYWdlKVxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXBhZ2VcIl0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm9wZi5zcGluZVtzZWxmLnBhZ2VQb3NpdGlvbi5zcGluZUluZGV4XS5lcGFnZTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYWxsYmFjayhub3RpZmljYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZXBvcnRQb3NpdGlvbigpLnRoZW4oKHApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBzZWxmLnJlbmRlckFsbFBhZ2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gc2VsZi5vcGZWaWV3LnJlbmRlckFsbFBhZ2VzKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBUYXNrLm5ld1Jlc3VsdChudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnJlbmRlclRhc2sgPT09IHJlc2l6ZVRhc2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbmRlclRhc2sgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFByb2ZpbGUucHJvZmlsZXIucmVnaXN0ZXJFbmRUaW1pbmcoXCJyZW5kZXIgKHJlc2l6ZSlcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnJlbmRlckFsbFBhZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXRSZWFkeVN0YXRlKENvbnN0YW50cy5SZWFkeVN0YXRlLkNPTVBMRVRFKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbGxiYWNrKHsgdDogXCJsb2FkZWRcIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKHApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIChmcmFtZSwgZXJyKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgUmVuZGVyaW5nQ2FuY2VsZWRFcnJvcikge1xuICAgICAgICAgICAgICBQcm9maWxlLnByb2ZpbGVyLnJlZ2lzdGVyRW5kVGltaW5nKFwicmVuZGVyIChyZXNpemUpXCIpO1xuICAgICAgICAgICAgICBMb2dnaW5nLmxvZ2dlci5kZWJ1ZyhlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZW5kTG9jYXRpb25Ob3RpZmljYXRpb24oXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBjZmk6IHN0cmluZyB8IG51bGwsXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcInNlbmRMb2NhdGlvbk5vdGlmaWNhdGlvblwiLFxuICAgICk7XG4gICAgY29uc3Qgbm90aWZpY2F0aW9uID0ge1xuICAgICAgdDogXCJuYXZcIixcbiAgICAgIGZpcnN0OiBwYWdlLmlzRmlyc3RQYWdlLFxuICAgICAgbGFzdDogcGFnZS5pc0xhc3RQYWdlLFxuICAgICAgbWV0YWRhdGE6IHRoaXMub3BmLm1ldGFkYXRhLFxuICAgICAgZG9jVGl0bGU6IHRoaXMub3BmLnNwaW5lW3BhZ2Uuc3BpbmVJbmRleF0udGl0bGUsXG4gICAgfTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB0aGlzLm9wZlxuICAgICAgLmdldEVQYWdlRnJvbVBvc2l0aW9uKHNlbGYucGFnZVBvc2l0aW9uIGFzIEVwdWIuUG9zaXRpb24pXG4gICAgICAudGhlbigoZXBhZ2UpID0+IHtcbiAgICAgICAgbm90aWZpY2F0aW9uW1wiZXBhZ2VcIl0gPSBlcGFnZTtcbiAgICAgICAgbm90aWZpY2F0aW9uW1wiZXBhZ2VDb3VudFwiXSA9IHNlbGYub3BmLmVwYWdlQ291bnQ7XG4gICAgICAgIGlmIChjZmkpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJjZmlcIl0gPSBjZmk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5jYWxsYmFjayhub3RpZmljYXRpb24pO1xuICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBnZXRDdXJyZW50UGFnZVByb2dyZXNzaW9uKCk6IENvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb24gfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5vcGZWaWV3XG4gICAgICA/IHRoaXMub3BmVmlldy5nZXRDdXJyZW50UGFnZVByb2dyZXNzaW9uKHRoaXMucGFnZVBvc2l0aW9uKVxuICAgICAgOiBudWxsO1xuICB9XG5cbiAgbW92ZVRvKGNvbW1hbmQ6IEJhc2UuSlNPTik6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBsZXQgbWV0aG9kOiAoKSA9PiBUYXNrLlJlc3VsdDxFcHViLlBhZ2VBbmRQb3NpdGlvbj47XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKFxuICAgICAgdGhpcy5yZWFkeVN0YXRlICE9PSBDb25zdGFudHMuUmVhZHlTdGF0ZS5DT01QTEVURSAmJlxuICAgICAgY29tbWFuZFtcIndoZXJlXCJdICE9PSBcIm5leHRcIlxuICAgICkge1xuICAgICAgdGhpcy5zZXRSZWFkeVN0YXRlKENvbnN0YW50cy5SZWFkeVN0YXRlLkxPQURJTkcpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbW1hbmRbXCJ3aGVyZVwiXSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICBsZXQgbTogKFxuICAgICAgICBwb3NpdGlvbjogRXB1Yi5Qb3NpdGlvbixcbiAgICAgICAgc3luYzogYm9vbGVhbixcbiAgICAgICkgPT4gVGFzay5SZXN1bHQ8RXB1Yi5QYWdlQW5kUG9zaXRpb24+O1xuICAgICAgc3dpdGNoIChjb21tYW5kW1wid2hlcmVcIl0pIHtcbiAgICAgICAgY2FzZSBcIm5leHRcIjpcbiAgICAgICAgICBtID0gdGhpcy5wcmVmLnNwcmVhZFZpZXdcbiAgICAgICAgICAgID8gdGhpcy5vcGZWaWV3Lm5leHRTcHJlYWRcbiAgICAgICAgICAgIDogdGhpcy5vcGZWaWV3Lm5leHRQYWdlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicHJldmlvdXNcIjpcbiAgICAgICAgICBtID0gdGhpcy5wcmVmLnNwcmVhZFZpZXdcbiAgICAgICAgICAgID8gdGhpcy5vcGZWaWV3LnByZXZpb3VzU3ByZWFkXG4gICAgICAgICAgICA6IHRoaXMub3BmVmlldy5wcmV2aW91c1BhZ2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJsYXN0XCI6XG4gICAgICAgICAgbSA9IHRoaXMub3BmVmlldy5sYXN0UGFnZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImZpcnN0XCI6XG4gICAgICAgICAgbSA9IHRoaXMub3BmVmlldy5maXJzdFBhZ2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgfVxuICAgICAgaWYgKG0pIHtcbiAgICAgICAgbWV0aG9kID0gKCkgPT5cbiAgICAgICAgICBtLmNhbGwoc2VsZi5vcGZWaWV3LCBzZWxmLnBhZ2VQb3NpdGlvbiwgIXNlbGYucmVuZGVyQWxsUGFnZXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbW1hbmRbXCJlcGFnZVwiXSA9PSBcIm51bWJlclwiKSB7XG4gICAgICBjb25zdCBlcGFnZSA9IGNvbW1hbmRbXCJlcGFnZVwiXSBhcyBudW1iZXI7XG4gICAgICBtZXRob2QgPSAoKSA9PlxuICAgICAgICBzZWxmLm9wZlZpZXcubmF2aWdhdGVUb0VQYWdlKFxuICAgICAgICAgIGVwYWdlLFxuICAgICAgICAgIHNlbGYucGFnZVBvc2l0aW9uLFxuICAgICAgICAgICFzZWxmLnJlbmRlckFsbFBhZ2VzLFxuICAgICAgICApO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbW1hbmRbXCJ1cmxcIl0gPT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3QgdXJsID0gY29tbWFuZFtcInVybFwiXSBhcyBzdHJpbmc7XG4gICAgICBtZXRob2QgPSAoKSA9PlxuICAgICAgICBzZWxmLm9wZlZpZXcubmF2aWdhdGVUbyh1cmwsIHNlbGYucGFnZVBvc2l0aW9uLCAhc2VsZi5yZW5kZXJBbGxQYWdlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwibW92ZVRvXCIpO1xuICAgIG1ldGhvZC5jYWxsKHNlbGYub3BmVmlldykudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBsZXQgY29udDogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHNlbGYucGFnZVBvc2l0aW9uID0gcmVzdWx0LnBvc2l0aW9uO1xuICAgICAgICBjb25zdCBpbm5lckZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgICAgICBcIm1vdmVUby5zaG93Q3VycmVudFwiLFxuICAgICAgICApO1xuICAgICAgICBjb250ID0gaW5uZXJGcmFtZS5yZXN1bHQoKTtcbiAgICAgICAgc2VsZi5zaG93Q3VycmVudChyZXN1bHQucGFnZSwgIXNlbGYucmVuZGVyQWxsUGFnZXMpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHNlbGYucmVwb3J0UG9zaXRpb24oKS50aGVuRmluaXNoKGlubmVyRnJhbWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnQgPSBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIH1cbiAgICAgIGNvbnQudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChzZWxmLnJlYWR5U3RhdGUgPT09IENvbnN0YW50cy5SZWFkeVN0YXRlLkxPQURJTkcpIHtcbiAgICAgICAgICBzZWxmLnNldFJlYWR5U3RhdGUoQ29uc3RhbnRzLlJlYWR5U3RhdGUuSU5URVJBQ1RJVkUpO1xuICAgICAgICB9XG4gICAgICAgIGZyYW1lLmZpbmlzaChyZXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgc2hvd1RPQyhjb21tYW5kOiBCYXNlLkpTT04pOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgYXV0b2hpZGUgPSAhIWNvbW1hbmRbXCJhdXRvaGlkZVwiXTtcbiAgICBjb25zdCB2aXNpYmlsaXR5ID0gY29tbWFuZFtcInZcIl07XG4gICAgY29uc3QgY3VycmVudFZpc2liaWxpdHkgPSB0aGlzLm9wZlZpZXcuaXNUT0NWaXNpYmxlKCk7XG4gICAgY29uc3QgY2hhbmdlQXV0b2hpZGUgPVxuICAgICAgYXV0b2hpZGUgIT0gdGhpcy5vcGZWaWV3LnRvY0F1dG9oaWRlICYmIHZpc2liaWxpdHkgIT0gXCJoaWRlXCI7XG4gICAgaWYgKGN1cnJlbnRWaXNpYmlsaXR5KSB7XG4gICAgICBpZiAodmlzaWJpbGl0eSA9PSBcInNob3dcIiAmJiAhY2hhbmdlQXV0b2hpZGUpIHtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodmlzaWJpbGl0eSA9PSBcImhpZGVcIikge1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjdXJyZW50VmlzaWJpbGl0eSAmJiB2aXNpYmlsaXR5ICE9IFwic2hvd1wiKSB7XG4gICAgICB0aGlzLm9wZlZpZXcuaGlkZVRPQygpO1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcInNob3dUT0NcIik7XG4gICAgICB0aGlzLm9wZlZpZXcuc2hvd1RPQyhhdXRvaGlkZSkudGhlbigocGFnZSkgPT4ge1xuICAgICAgICBpZiAocGFnZSkge1xuICAgICAgICAgIGlmIChjaGFuZ2VBdXRvaGlkZSkge1xuICAgICAgICAgICAgcGFnZS5saXN0ZW5lcnMgPSB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGF1dG9oaWRlKSB7XG4gICAgICAgICAgICBjb25zdCBoaWRlVE9DID0gKCkgPT4ge1xuICAgICAgICAgICAgICBzZWxmLm9wZlZpZXcuaGlkZVRPQygpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImh5cGVybGlua1wiLCBoaWRlVE9DLCBmYWxzZSk7XG4gICAgICAgICAgICAvLyBwYWdlLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGlkZVRPQywgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJoeXBlcmxpbmtcIiwgc2VsZi5oeXBlcmxpbmtMaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICAgIH1cbiAgfVxuXG4gIHJ1bkNvbW1hbmQoY29tbWFuZDogQmFzZS5KU09OKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGFjdGlvbk5hbWUgPSBjb21tYW5kW1wiYVwiXSB8fCBcIlwiO1xuICAgIHJldHVybiBUYXNrLmhhbmRsZShcbiAgICAgIFwicnVuQ29tbWFuZFwiLFxuICAgICAgKGZyYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IHNlbGYuYWN0aW9uc1thY3Rpb25OYW1lXTtcbiAgICAgICAgaWYgKGFjdGlvbikge1xuICAgICAgICAgIGFjdGlvbi5jYWxsKHNlbGYsIGNvbW1hbmQpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgc2VsZi5jYWxsYmFjayh7IHQ6IFwiZG9uZVwiLCBhOiBhY3Rpb25OYW1lIH0pO1xuICAgICAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLmVycm9yKFwiTm8gc3VjaCBhY3Rpb246XCIsIGFjdGlvbk5hbWUpO1xuICAgICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIChmcmFtZSwgZXJyKSA9PiB7XG4gICAgICAgIExvZ2dpbmcubG9nZ2VyLmVycm9yKGVyciwgXCJFcnJvciBkdXJpbmcgYWN0aW9uOlwiLCBhY3Rpb25OYW1lKTtcbiAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgaW5pdEVtYmVkKGNtZDogQmFzZS5KU09OIHwgc3RyaW5nKTogdm9pZCB7XG4gICAgbGV0IGNvbW1hbmQgPSBtYXliZVBhcnNlKGNtZCk7XG4gICAgbGV0IGNvbnRpbnVhdGlvbjogVGFzay5Db250aW51YXRpb248Ym9vbGVhbj4gfCBudWxsID0gbnVsbDtcbiAgICBjb25zdCB2aWV3ZXIgPSB0aGlzO1xuICAgIFRhc2suc3RhcnQoKCkgPT4ge1xuICAgICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwiY29tbWFuZExvb3BcIik7XG4gICAgICBjb25zdCBzY2hlZHVsZXIgPSBUYXNrLmN1cnJlbnRUYXNrKCkuZ2V0U2NoZWR1bGVyKCk7XG4gICAgICB2aWV3ZXIuaHlwZXJsaW5rTGlzdGVuZXIgPSAoZXZ0KSA9PiB7XG4gICAgICAgIGNvbnN0IGhyZWZFdmVudCA9IGV2dCBhcyBWdHJlZS5QYWdlSHlwZXJsaW5rRXZlbnQ7XG4gICAgICAgIGNvbnN0IGludGVybmFsID1cbiAgICAgICAgICBocmVmRXZlbnQuaHJlZi5jaGFyQXQoMCkgPT09IFwiI1wiIHx8XG4gICAgICAgICAgdmlld2VyLnBhY2thZ2VVUkwuc29tZShcbiAgICAgICAgICAgICh1cmwpID0+IGhyZWZFdmVudC5ocmVmLnN1YnN0cigwLCB1cmwubGVuZ3RoKSA9PSB1cmwsXG4gICAgICAgICAgKTtcbiAgICAgICAgaWYgKGludGVybmFsKSB7XG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgY29uc3QgbXNnID0ge1xuICAgICAgICAgICAgdDogXCJoeXBlcmxpbmtcIixcbiAgICAgICAgICAgIGhyZWY6IGhyZWZFdmVudC5ocmVmLFxuICAgICAgICAgICAgaW50ZXJuYWw6IGludGVybmFsLFxuICAgICAgICAgIH07XG4gICAgICAgICAgc2NoZWR1bGVyLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICB2aWV3ZXIuY2FsbGJhY2sobXNnKTtcbiAgICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGZyYW1lXG4gICAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgICBpZiAodmlld2VyLm5lZWRSZXNpemUpIHtcbiAgICAgICAgICAgIHZpZXdlci5yZXNpemUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmICh2aWV3ZXIubmVlZFJlZnJlc2gpIHtcbiAgICAgICAgICAgIGlmICh2aWV3ZXIuY3VycmVudFBhZ2UpIHtcbiAgICAgICAgICAgICAgdmlld2VyLnNob3dDdXJyZW50KHZpZXdlci5jdXJyZW50UGFnZSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGNvbW1hbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNtZCA9IGNvbW1hbmQ7XG4gICAgICAgICAgICBjb21tYW5kID0gbnVsbDtcbiAgICAgICAgICAgIHZpZXdlci5ydW5Db21tYW5kKGNtZCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBmcmFtZUludGVybmFsOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgICAgICAgICAgXCJ3YWl0Rm9yQ29tbWFuZFwiLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnRpbnVhdGlvbiA9IGZyYW1lSW50ZXJuYWwuc3VzcGVuZChzZWxmKTtcbiAgICAgICAgICAgIGZyYW1lSW50ZXJuYWwucmVzdWx0KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICAgIH0pO1xuICAgIHZpZXdlci5raWNrID0gKCkgPT4ge1xuICAgICAgY29uc3QgY29udCA9IGNvbnRpbnVhdGlvbjtcbiAgICAgIGlmIChjb250KSB7XG4gICAgICAgIGNvbnRpbnVhdGlvbiA9IG51bGw7XG4gICAgICAgIGNvbnQuc2NoZWR1bGUodHJ1ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2aWV3ZXIuc2VuZENvbW1hbmQgPSAoY21kKSA9PiB7XG4gICAgICBpZiAoY29tbWFuZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb21tYW5kID0gbWF5YmVQYXJzZShjbWQpO1xuICAgICAgdmlld2VyLmtpY2soKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgdGhpcy53aW5kb3dbXCJhZGFwdF9jb21tYW5kXCJdID0gdmlld2VyLnNlbmRDb21tYW5kO1xuICB9XG59XG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGVudW0gWm9vbVR5cGUge1xuICBGSVRfSU5TSURFX1ZJRVdQT1JUID0gXCJmaXQgaW5zaWRlIHZpZXdwb3J0XCIsXG59XG5cbi8qKlxuICogRXJyb3IgcmVwcmVzZW50aW5nIHRoYXQgdGhlIHJlbmRlcmluZyBoYXMgYmVlbiBjYW5jZWxlZC5cbiAqL1xuY2xhc3MgUmVuZGVyaW5nQ2FuY2VsZWRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgbmFtZTogc3RyaW5nID0gXCJSZW5kZXJpbmdDYW5jZWxlZEVycm9yXCI7XG4gIG1lc3NhZ2U6IHN0cmluZyA9IFwiUGFnZSByZW5kZXJpbmcgaGFzIGJlZW4gY2FuY2VsZWRcIjtcbiAgc3RhY2s6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIC8vIFNldCB0aGUgcHJvdG90eXBlIGV4cGxpY2l0bHkuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L3dpa2kvQnJlYWtpbmctQ2hhbmdlcyNleHRlbmRpbmctYnVpbHQtaW5zLWxpa2UtZXJyb3ItYXJyYXktYW5kLW1hcC1tYXktbm8tbG9uZ2VyLXdvcmtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgUmVuZGVyaW5nQ2FuY2VsZWRFcnJvci5wcm90b3R5cGUpO1xuICAgIHRoaXMuc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWF5YmVQYXJzZShjbWQ6IGFueSk6IEJhc2UuSlNPTiB7XG4gIGlmICh0eXBlb2YgY21kID09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gQmFzZS5zdHJpbmdUb0pTT04oY21kKTtcbiAgfVxuICByZXR1cm4gY21kO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE4IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgQ29yZVZpZXdlciAtIFZpdmxpb3N0eWxlIENvcmVWaWV3ZXIgY2xhc3NcbiAqL1xuaW1wb3J0ICogYXMgQWRhcHRpdmVWaWV3ZXIgZnJvbSBcIi4vYWRhcHRpdmUtdmlld2VyXCI7XG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCAqIGFzIFByb2ZpbGUgZnJvbSBcIi4vcHJvZmlsZVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBheWxvYWQge1xuICB0eXBlOiBzdHJpbmc7XG4gIGludGVybmFsOiBib29sZWFuO1xuICBocmVmOiBzdHJpbmc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgY2ZpOiBzdHJpbmc7XG4gIGZpcnN0OiBib29sZWFuO1xuICBsYXN0OiBib29sZWFuO1xuICBlcGFnZTogdW5rbm93bjtcbiAgZXBhZ2VDb3VudDogbnVtYmVyO1xuICBtZXRhZGF0YTogdW5rbm93bjtcbiAgZG9jVGl0bGU6IHN0cmluZztcbn1cblxuY29uc3QgUGFnZVByb2dyZXNzaW9uID0gQ29uc3RhbnRzLlBhZ2VQcm9ncmVzc2lvbjtcblxuLyoqXG4gKiBWaWV3ZXIgc2V0dGluZ3MgdGhhdCBtdXN0IGJlIHBhc3NlZCB0byBWaWV3ZXIncyBjb25zdHJ1Y3Rvci5cbiAqIC0gdXNlckFnZW50Um9vdFVSTDogVVJMIG9mIGEgZGlyZWN0b3J5IGZyb20gd2hpY2ggdmlld2VyIHJlc291cmNlIGZpbGVzXG4gKiAgICh1bmRlciByZXNvdXJjZXMvIGRpcmVjdG9yeSBpbiB0aGUgc291cmNlIHJlcG9zaXRvcnkpIGFyZSBzZXJ2ZWQuXG4gKiAtIHZpZXdwb3J0RWxlbWVudDogQW4gZWxlbWVudCB1c2VkIGFzIHRoZSB2aWV3cG9ydCBvZiB0aGUgZGlzcGxheWVkIGNvbnRlbnRzLlxuICogLSB3aW5kb3c6IFdpbmRvdyBvYmplY3QuIElmIG9taXR0ZWQsIGN1cnJlbnQgYHdpbmRvd2AgaXMgdXNlZC5cbiAqIC0gZGVidWc6IERlYnVnIGZsYWcuXG4gKi9cbmV4cG9ydCB0eXBlIENvcmVWaWV3ZXJTZXR0aW5ncyA9IHtcbiAgdXNlckFnZW50Um9vdFVSTD86IHN0cmluZztcbiAgdmlld3BvcnRFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgd2luZG93PzogV2luZG93O1xuICBkZWJ1Zz86IGJvb2xlYW47XG59O1xuXG4vKipcbiAqIFZpZXdlciBvcHRpb25zIHRoYXQgY2FuIGJlIHNldCBhZnRlciB0aGUgVmlld2VyIG9iamVjdCBpcyBjb25zdHJ1Y3RlZC5cbiAqIC0gYXV0b1Jlc2l6ZTogUnVuIGxheW91dCBhZ2FpbiB3aGVuIHRoZSB3aW5kb3cgaXMgcmVzaXplZC4gZGVmYXVsdDogdHJ1ZVxuICogLSBmb250U2l6ZTogRGVmYXVsdCBmb250IHNpemUgKHB4KS4gZGVmYXVsdDogMTZcbiAqIC0gcGFnZUJvcmRlcldpZHRoOiBXaWR0aCBvZiBhIGJvcmRlciBiZXR3ZWVuIHR3byBwYWdlcyBpbiBhIHNpbmdsZVxuICogICBzcHJlYWQgKHB4KS4gRWZmZWN0aXZlIG9ubHkgaW4gc3ByZWFkIHZpZXcgbW9kZS4gZGVmYXVsdDogMVxuICogLSByZW5kZXJBbGxQYWdlczogUmVuZGVyIGFsbCBwYWdlcyBhdCB0aGUgZG9jdW1lbnQgbG9hZCB0aW1lLiBkZWZhdWx0OiB0cnVlXG4gKiAtIHBhZ2VWaWV3TW9kZTogUGFnZSB2aWV3IG1vZGUgKHNpbmdsZVBhZ2UgLyBzcHJlYWQgLyBhdXRvU3ByZWFkKS5cbiAqICAgZGVmYXVsdDogc2luZ2xlUGFnZVxuICogLSB6b29tOiBab29tIGZhY3RvciB3aXRoIHdoaWNoIHBhZ2VzIGFyZSBkaXNwbGF5ZWQuIGRlZmF1bHQ6IDFcbiAqIC0gZml0VG9TY3JlZW46IEF1dG8gYWRqdXN0IHpvb20gZmFjdG9yIHRvIGZpdCB0aGUgc2NyZWVuLiBkZWZhdWx0OiBmYWxzZVxuICogLSBkZWZhdWx0UGFwZXJTaXplOiBEZWZhdWx0IHBhcGVyIHNpemUgaW4gcHguIEVmZmVjdGl2ZSB3aGVuIGBAcGFnZWAgc2l6ZVxuICogICBpcyBzZXQgdG8gYXV0by4gZGVmYXVsdDogdW5kZWZpbmVkIChtZWFucyB0aGUgd2luZG93cyBzaXplIGlzIHVzZWQgYXNcbiAqICAgcGFwZXIgc2l6ZSkuXG4gKi9cbmV4cG9ydCB0eXBlIENvcmVWaWV3ZXJPcHRpb25zID0ge1xuICBhdXRvUmVzaXplPzogYm9vbGVhbjtcbiAgZm9udFNpemU/OiBudW1iZXI7XG4gIHBhZ2VCb3JkZXJXaWR0aD86IG51bWJlcjtcbiAgcmVuZGVyQWxsUGFnZXM/OiBib29sZWFuO1xuICBwYWdlVmlld01vZGU/OiBBZGFwdGl2ZVZpZXdlci5QYWdlVmlld01vZGU7XG4gIHpvb20/OiBudW1iZXI7XG4gIGZpdFRvU2NyZWVuPzogYm9vbGVhbjtcbiAgZGVmYXVsdFBhcGVyU2l6ZT86IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfTtcbn07XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRWaWV3ZXJPcHRpb25zKCk6IENvcmVWaWV3ZXJPcHRpb25zIHtcbiAgcmV0dXJuIHtcbiAgICBhdXRvUmVzaXplOiB0cnVlLFxuICAgIGZvbnRTaXplOiAxNixcbiAgICBwYWdlQm9yZGVyV2lkdGg6IDEsXG4gICAgcmVuZGVyQWxsUGFnZXM6IHRydWUsXG4gICAgcGFnZVZpZXdNb2RlOiBBZGFwdGl2ZVZpZXdlci5QYWdlVmlld01vZGUuQVVUT19TUFJFQUQsXG4gICAgem9vbTogMSxcbiAgICBmaXRUb1NjcmVlbjogZmFsc2UsXG4gICAgZGVmYXVsdFBhcGVyU2l6ZTogdW5kZWZpbmVkLFxuICB9O1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0Vmlld2VyT3B0aW9ucyhvcHRpb25zOiBDb3JlVmlld2VyT3B0aW9ucyk6IG9iamVjdCB7XG4gIGNvbnN0IGNvbnZlcnRlZCA9IHt9O1xuICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBjb25zdCB2ID0gb3B0aW9uc1trZXldO1xuICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICBjYXNlIFwiYXV0b1Jlc2l6ZVwiOlxuICAgICAgICBjb252ZXJ0ZWRbXCJhdXRvcmVzaXplXCJdID0gdjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicGFnZUJvcmRlcldpZHRoXCI6XG4gICAgICAgIGNvbnZlcnRlZFtcInBhZ2VCb3JkZXJcIl0gPSB2O1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnZlcnRlZFtrZXldID0gdjtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gY29udmVydGVkO1xufVxuXG4vKipcbiAqIE9wdGlvbnMgZm9yIHRoZSBkaXNwbGF5ZWQgZG9jdW1lbnQuXG4gKiAtIGRvY3VtZW50T2JqZWN0OiBEb2N1bWVudCBvYmplY3QgZm9yIHRoZSBkb2N1bWVudC4gSWYgcHJvdmlkZWQsIGl0IGlzIHVzZWRcbiAqICAgZGlyZWN0bHkgd2l0aG91dCBwYXJzaW5nIHRoZSBzb3VyY2UgYWdhaW4uXG4gKiAtIGZyYWdtZW50OiBGcmFnbWVudGF0aW9uIGlkZW50aWZpZXIgKEVQVUIgQ0ZJKSBvZiB0aGUgbG9jYXRpb24gaW4gdGhlXG4gKiAgIGRvY3VtZW50IHdoaWNoIGlzIHRvIGJlIGRpc3BsYXllZC5cbiAqIC0gYXV0aG9yU3R5bGVTaGVldDogQW4gYXJyYXkgb2YgYXV0aG9yIHN0eWxlIHNoZWV0cyB0byBiZSBpbmplY3RlZCBhZnRlciBhbGxcbiAqICAgYXV0aG9yIHN0eWxlIHNoZWV0cyByZWZlcmVuY2VkIGZyb20gdGhlIGRvY3VtZW50LiBBIHNpbmdsZSBzdHlsZXNoZWV0IG1heVxuICogICBiZSBhIFVSTCBvZiB0aGUgc3R5bGUgc2hlZXQgb3IgYSB0ZXh0IGNvbnRlbnQgb2YgdGhlIHN0eWxlIHNoZWV0LlxuICogLSB1c2VyU3R5bGVTaGVldDogQW4gYXJyYXkgb2YgdXNlciBzdHlsZSBzaGVldHMgdG8gYmUgaW5qZWN0ZWQuXG4gKiAgIEEgc2luZ2xlIHN0eWxlc2hlZXQgbWF5IGJlIGEgVVJMIG9mIHRoZSBzdHlsZSBzaGVldCBvciBhIHRleHQgY29udGVudCBvZlxuICogICB0aGUgc3R5bGUgc2hlZXQuXG4gKi9cbmV4cG9ydCB0eXBlIERvY3VtZW50T3B0aW9ucyA9IHtcbiAgZG9jdW1lbnRPYmplY3Q/OiBEb2N1bWVudDtcbiAgZnJhZ21lbnQ/OiBzdHJpbmc7XG4gIGF1dGhvclN0eWxlU2hlZXQ/OiB7IHVybD86IHN0cmluZzsgdGV4dD86IHN0cmluZyB9W107XG4gIHVzZXJTdHlsZVNoZWV0PzogeyB1cmw/OiBzdHJpbmc7IHRleHQ/OiBzdHJpbmcgfVtdO1xufTtcblxuLyoqXG4gKiBPcHRpb25zIGZvciBhIHNpbmdsZSBzb3VyY2UgZG9jdW1lbnQuXG4gKiAtIHVybDogVVJMIG9mIHRoZSBkb2N1bWVudC5cbiAqIC0gc3RhcnRQYWdlOiBJZiBzcGVjaWZpZWQsIHRoZSBgcGFnZWAgcGFnZS1iYXNlZCBjb3VudGVyIGlzIHNldCB0byB0aGVcbiAqICAgc3BlY2lmaWVkIHZhbHVlIG9uIHRoZSBmaXJzdCBwYWdlIG9mIHRoZSBkb2N1bWVudC4gSXQgaXMgZXF1aXZhbGVudCB0b1xuICogICBzcGVjaWZ5aW5nIGBjb3VudGVyLXJlc2V0OiBwYWdlIFtzcGVjaWZpZWQgdmFsdWUgLSAxXWAgb24gdGhhdCBwYWdlLlxuICogLSBza2lwUGFnZXNCZWZvcmU6IElmIHNwZWNpZmllZCwgdGhlIGBwYWdlYCBwYWdlLWJhc2VkIGNvdW50ZXIgaXNcbiAqICAgaW5jcmVtZW50ZWQgYnkgdGhlIHNwZWNpZmllZCB2YWx1ZSAqYmVmb3JlKiB1cGRhdGluZyBwYWdlLWJhc2VkIGNvdW50ZXJzXG4gKiAgIG9uIHRoZSBmaXJzdCBwYWdlIG9mIHRoZSBkb2N1bWVudC5cbiAqICAgVGhpcyBvcHRpb24gaXMgaWdub3JlZCBpZiBgc3RhcnRQYWdlTnVtYmVyYCBvcHRpb24gaXMgYWxzbyBzcGVjaWZpZWQuXG4gKi9cbmV4cG9ydCB0eXBlIFNpbmdsZURvY3VtZW50T3B0aW9ucyA9XG4gIHwgc3RyaW5nXG4gIHwge1xuICAgICAgdXJsOiBzdHJpbmc7XG4gICAgICBzdGFydFBhZ2U/OiBudW1iZXI7XG4gICAgICBza2lwUGFnZXNCZWZvcmU/OiBudW1iZXI7XG4gICAgfTtcblxuLyoqXG4gKiBWaXZsaW9zdHlsZSBWaWV3ZXIgY2xhc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb3JlVmlld2VyIHtcbiAgcHJpdmF0ZSBpbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIGFkYXB0Vmlld2VyXzogQWRhcHRpdmVWaWV3ZXIuQWRhcHRpdmVWaWV3ZXI7XG4gIHByaXZhdGUgb3B0aW9uczogQ29yZVZpZXdlck9wdGlvbnM7XG4gIHByaXZhdGUgZXZlbnRUYXJnZXQ6IEJhc2UuU2ltcGxlRXZlbnRUYXJnZXQ7XG4gIHJlYWR5U3RhdGU6IENvbnN0YW50cy5SZWFkeVN0YXRlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgc2V0dGluZ3M6IENvcmVWaWV3ZXJTZXR0aW5ncyxcbiAgICBvcHRfb3B0aW9ucz86IENvcmVWaWV3ZXJPcHRpb25zLFxuICApIHtcbiAgICBDb25zdGFudHMuc2V0RGVidWcoc2V0dGluZ3MuZGVidWcpO1xuICAgIHRoaXMuYWRhcHRWaWV3ZXJfID0gbmV3IEFkYXB0aXZlVmlld2VyLkFkYXB0aXZlVmlld2VyKFxuICAgICAgc2V0dGluZ3NbXCJ3aW5kb3dcIl0gfHwgd2luZG93LFxuICAgICAgc2V0dGluZ3NbXCJ2aWV3cG9ydEVsZW1lbnRcIl0sXG4gICAgICBcIm1haW5cIixcbiAgICAgIHRoaXMuZGlzcGF0Y2hlci5iaW5kKHRoaXMpLFxuICAgICk7XG4gICAgdGhpcy5vcHRpb25zID0gZ2V0RGVmYXVsdFZpZXdlck9wdGlvbnMoKTtcbiAgICBpZiAob3B0X29wdGlvbnMpIHtcbiAgICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRfb3B0aW9ucyk7XG4gICAgfVxuICAgIHRoaXMuZXZlbnRUYXJnZXQgPSBuZXcgQmFzZS5TaW1wbGVFdmVudFRhcmdldCgpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlYWR5U3RhdGVcIiwge1xuICAgICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGFwdFZpZXdlcl8ucmVhZHlTdGF0ZTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IFZpZXdlck9wdGlvbnMgdG8gdGhlIHZpZXdlci5cbiAgICovXG4gIHNldE9wdGlvbnMob3B0aW9uczogQ29yZVZpZXdlck9wdGlvbnMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHsgYTogXCJjb25maWd1cmVcIiB9LFxuICAgICAgY29udmVydFZpZXdlck9wdGlvbnMob3B0aW9ucyksXG4gICAgKTtcbiAgICB0aGlzLmFkYXB0Vmlld2VyXy5zZW5kQ29tbWFuZChjb21tYW5kKTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gIH1cblxuICBwcml2YXRlIGRpc3BhdGNoZXIobXNnOiBCYXNlLkpTT04pIHtcbiAgICAvKiogQGRpY3QgKi9cbiAgICBjb25zdCBldmVudCA9IHsgdHlwZTogbXNnW1widFwiXSB9O1xuICAgIGNvbnN0IG8gPSBtc2cgYXMgb2JqZWN0O1xuICAgIE9iamVjdC5rZXlzKG8pLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgaWYgKGtleSAhPT0gXCJ0XCIpIHtcbiAgICAgICAgZXZlbnRba2V5XSA9IG9ba2V5XTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmV2ZW50VGFyZ2V0LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIGxpc3RlbmVyIGZ1bmN0aW9uLCB3aGljaCBpcyBpbnZva2VkIHdoZW4gdGhlIHNwZWNpZmllZCB0eXBlIG9mIGV2ZW50XG4gICAqIGlzIGRpc3BhdGNoZWQuXG4gICAqIEBwYXJhbSB0eXBlIEV2ZW50IHR5cGUuXG4gICAqIEBwYXJhbSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAgICovXG4gIGFkZExpc3RlbmVyKHR5cGU6IHN0cmluZywgbGlzdGVuZXI6IChwYXlsb2FkOiBQYXlsb2FkKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5ldmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgdHlwZSxcbiAgICAgIGxpc3RlbmVyIGFzIEJhc2UuRXZlbnRMaXN0ZW5lcixcbiAgICAgIGZhbHNlLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFuIGV2ZW50IGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gdHlwZSBFdmVudCB0eXBlLlxuICAgKiBAcGFyYW0gbGlzdGVuZXIgTGlzdGVuZXIgZnVuY3Rpb24uXG4gICAqL1xuICByZW1vdmVMaXN0ZW5lcih0eXBlOiBzdHJpbmcsIGxpc3RlbmVyOiAocGF5bG9hZDogUGF5bG9hZCkgPT4gdm9pZCkge1xuICAgIHRoaXMuZXZlbnRUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgIHR5cGUsXG4gICAgICBsaXN0ZW5lciBhcyBCYXNlLkV2ZW50TGlzdGVuZXIsXG4gICAgICBmYWxzZSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgYW4gSFRNTCBvciBYTUwgZG9jdW1lbnQocykuXG4gICAqL1xuICBsb2FkRG9jdW1lbnQoXG4gICAgc2luZ2xlRG9jdW1lbnRPcHRpb25zOiBTaW5nbGVEb2N1bWVudE9wdGlvbnMgfCBTaW5nbGVEb2N1bWVudE9wdGlvbnNbXSxcbiAgICBvcHRfZG9jdW1lbnRPcHRpb25zPzogRG9jdW1lbnRPcHRpb25zLFxuICAgIG9wdF92aWV3ZXJPcHRpb25zPzogQ29yZVZpZXdlck9wdGlvbnMsXG4gICkge1xuICAgIGlmICghc2luZ2xlRG9jdW1lbnRPcHRpb25zKSB7XG4gICAgICB0aGlzLmV2ZW50VGFyZ2V0LmRpc3BhdGNoRXZlbnQoe1xuICAgICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICAgIGNvbnRlbnQ6IFwiTm8gVVJMIHNwZWNpZmllZFwiLFxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMubG9hZERvY3VtZW50T3JQdWJsaWNhdGlvbihcbiAgICAgIHNpbmdsZURvY3VtZW50T3B0aW9ucyxcbiAgICAgIG51bGwsXG4gICAgICBvcHRfZG9jdW1lbnRPcHRpb25zLFxuICAgICAgb3B0X3ZpZXdlck9wdGlvbnMsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGFuIEVQVUIvV2ViUHViIHB1YmxpY2F0aW9uLlxuICAgKi9cbiAgbG9hZFB1YmxpY2F0aW9uKFxuICAgIHB1YlVybDogc3RyaW5nLFxuICAgIG9wdF9kb2N1bWVudE9wdGlvbnM/OiBEb2N1bWVudE9wdGlvbnMsXG4gICAgb3B0X3ZpZXdlck9wdGlvbnM/OiBDb3JlVmlld2VyT3B0aW9ucyxcbiAgKSB7XG4gICAgaWYgKCFwdWJVcmwpIHtcbiAgICAgIHRoaXMuZXZlbnRUYXJnZXQuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgIHR5cGU6IFwiZXJyb3JcIixcbiAgICAgICAgY29udGVudDogXCJObyBVUkwgc3BlY2lmaWVkXCIsXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5sb2FkRG9jdW1lbnRPclB1YmxpY2F0aW9uKFxuICAgICAgbnVsbCxcbiAgICAgIHB1YlVybCxcbiAgICAgIG9wdF9kb2N1bWVudE9wdGlvbnMsXG4gICAgICBvcHRfdmlld2VyT3B0aW9ucyxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgYW4gSFRNTCBvciBYTUwgZG9jdW1lbnQsIG9yIGFuIEVQVUIvV2ViUHViIHB1YmxpY2F0aW9uLlxuICAgKi9cbiAgcHJpdmF0ZSBsb2FkRG9jdW1lbnRPclB1YmxpY2F0aW9uKFxuICAgIHNpbmdsZURvY3VtZW50T3B0aW9uczpcbiAgICAgIHwgU2luZ2xlRG9jdW1lbnRPcHRpb25zXG4gICAgICB8IFNpbmdsZURvY3VtZW50T3B0aW9uc1tdXG4gICAgICB8IG51bGwsXG4gICAgcHViVXJsOiBzdHJpbmcgfCBudWxsLFxuICAgIG9wdF9kb2N1bWVudE9wdGlvbnM/OiBEb2N1bWVudE9wdGlvbnMsXG4gICAgb3B0X3ZpZXdlck9wdGlvbnM/OiBDb3JlVmlld2VyT3B0aW9ucyxcbiAgKSB7XG4gICAgY29uc3QgZG9jdW1lbnRPcHRpb25zID0gb3B0X2RvY3VtZW50T3B0aW9ucyB8fCB7fTtcblxuICAgIGZ1bmN0aW9uIGNvbnZlcnRTdHlsZVNoZWV0QXJyYXkoYXJyKSB7XG4gICAgICBpZiAoYXJyKSB7XG4gICAgICAgIHJldHVybiBhcnIubWFwKChzKSA9PiAoeyB1cmw6IHMudXJsIHx8IG51bGwsIHRleHQ6IHMudGV4dCB8fCBudWxsIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGF1dGhvclN0eWxlU2hlZXQgPSBjb252ZXJ0U3R5bGVTaGVldEFycmF5KFxuICAgICAgZG9jdW1lbnRPcHRpb25zW1wiYXV0aG9yU3R5bGVTaGVldFwiXSxcbiAgICApO1xuICAgIGNvbnN0IHVzZXJTdHlsZVNoZWV0ID0gY29udmVydFN0eWxlU2hlZXRBcnJheShcbiAgICAgIGRvY3VtZW50T3B0aW9uc1tcInVzZXJTdHlsZVNoZWV0XCJdLFxuICAgICk7XG4gICAgaWYgKG9wdF92aWV3ZXJPcHRpb25zKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMub3B0aW9ucywgb3B0X3ZpZXdlck9wdGlvbnMpO1xuICAgIH1cbiAgICBjb25zdCBjb21tYW5kID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHtcbiAgICAgICAgYTogc2luZ2xlRG9jdW1lbnRPcHRpb25zID8gXCJsb2FkWE1MXCIgOiBcImxvYWRQdWJsaWNhdGlvblwiLFxuICAgICAgICB1c2VyQWdlbnRSb290VVJMOiB0aGlzLnNldHRpbmdzW1widXNlckFnZW50Um9vdFVSTFwiXSxcbiAgICAgICAgdXJsOiBjb252ZXJ0U2luZ2xlRG9jdW1lbnRPcHRpb25zKHNpbmdsZURvY3VtZW50T3B0aW9ucykgfHwgcHViVXJsLFxuICAgICAgICBkb2N1bWVudDogZG9jdW1lbnRPcHRpb25zW1wiZG9jdW1lbnRPYmplY3RcIl0sXG4gICAgICAgIGZyYWdtZW50OiBkb2N1bWVudE9wdGlvbnNbXCJmcmFnbWVudFwiXSxcbiAgICAgICAgYXV0aG9yU3R5bGVTaGVldDogYXV0aG9yU3R5bGVTaGVldCxcbiAgICAgICAgdXNlclN0eWxlU2hlZXQ6IHVzZXJTdHlsZVNoZWV0LFxuICAgICAgfSxcbiAgICAgIGNvbnZlcnRWaWV3ZXJPcHRpb25zKHRoaXMub3B0aW9ucyksXG4gICAgKTtcbiAgICBpZiAodGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgdGhpcy5hZGFwdFZpZXdlcl8uc2VuZENvbW1hbmQoY29tbWFuZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5hZGFwdFZpZXdlcl8uaW5pdEVtYmVkKGNvbW1hbmQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHBhZ2UgcHJvZ3Jlc3Npb24gb2YgdGhlIHZpZXdlci4gSWYgbm8gZG9jdW1lbnQgaXNcbiAgICogbG9hZGVkLCByZXR1cm5zIG51bGwuXG4gICAqL1xuICBnZXRDdXJyZW50UGFnZVByb2dyZXNzaW9uKCk6IENvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb24gfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5hZGFwdFZpZXdlcl8uZ2V0Q3VycmVudFBhZ2VQcm9ncmVzc2lvbigpO1xuICB9XG5cbiAgcHJpdmF0ZSByZXNvbHZlTmF2aWdhdGlvbihuYXY6IE5hdmlnYXRpb24pOiBOYXZpZ2F0aW9uIHtcbiAgICBzd2l0Y2ggKG5hdikge1xuICAgICAgY2FzZSBOYXZpZ2F0aW9uLkxFRlQ6XG4gICAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRQYWdlUHJvZ3Jlc3Npb24oKSA9PT0gUGFnZVByb2dyZXNzaW9uLkxUUlxuICAgICAgICAgID8gTmF2aWdhdGlvbi5QUkVWSU9VU1xuICAgICAgICAgIDogTmF2aWdhdGlvbi5ORVhUO1xuICAgICAgY2FzZSBOYXZpZ2F0aW9uLlJJR0hUOlxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50UGFnZVByb2dyZXNzaW9uKCkgPT09IFBhZ2VQcm9ncmVzc2lvbi5MVFJcbiAgICAgICAgICA/IE5hdmlnYXRpb24uTkVYVFxuICAgICAgICAgIDogTmF2aWdhdGlvbi5QUkVWSU9VUztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBuYXY7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE5hdmlnYXRlIHRvIHRoZSBzcGVjaWZpZWQgcGFnZS5cbiAgICovXG4gIG5hdmlnYXRlVG9QYWdlKG5hdjogTmF2aWdhdGlvbiwgb3B0X2VwYWdlPzogbnVtYmVyKSB7XG4gICAgaWYgKG5hdiA9PT0gTmF2aWdhdGlvbi5FUEFHRSkge1xuICAgICAgdGhpcy5hZGFwdFZpZXdlcl8uc2VuZENvbW1hbmQoe1xuICAgICAgICBhOiBcIm1vdmVUb1wiLFxuICAgICAgICBlcGFnZTogb3B0X2VwYWdlLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRhcHRWaWV3ZXJfLnNlbmRDb21tYW5kKHtcbiAgICAgICAgYTogXCJtb3ZlVG9cIixcbiAgICAgICAgd2hlcmU6IHRoaXMucmVzb2x2ZU5hdmlnYXRpb24obmF2KSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBOYXZpZ2F0ZSB0byB0aGUgc3BlY2lmaWVkIGludGVybmFsIFVSTC5cbiAgICovXG4gIG5hdmlnYXRlVG9JbnRlcm5hbFVybCh1cmw6IHN0cmluZykge1xuICAgIHRoaXMuYWRhcHRWaWV3ZXJfLnNlbmRDb21tYW5kKHsgYTogXCJtb3ZlVG9cIiwgdXJsOiB1cmwgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgVHJ1ZSBpZiBUT0MgaXMgdmlzaWJsZSwgZmFsc2UgaWYgaGlkZGVuLCBudWxsIGlmIFRPQyBpcyB1bmF2YWlsYWJsZVxuICAgKi9cbiAgaXNUT0NWaXNpYmxlKCk6IGJvb2xlYW4gfCBudWxsIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmFkYXB0Vmlld2VyXy5vcGZWaWV3ICYmXG4gICAgICB0aGlzLmFkYXB0Vmlld2VyXy5vcGZWaWV3Lm9wZiAmJlxuICAgICAgKHRoaXMuYWRhcHRWaWV3ZXJfLm9wZlZpZXcub3BmLnhodG1sVG9jIHx8XG4gICAgICAgIHRoaXMuYWRhcHRWaWV3ZXJfLm9wZlZpZXcub3BmLm5jeFRvYylcbiAgICApIHtcbiAgICAgIHJldHVybiAhIXRoaXMuYWRhcHRWaWV3ZXJfLm9wZlZpZXcuaXNUT0NWaXNpYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IG9yIGhpZGUgVE9DIGJveFxuICAgKiBAcGFyYW0gb3B0X2F1dG9oaWRlIElmIHRydWUsIGF1dG9tYXRpY2FsbHkgaGlkZSB3aGVuIGNsaWNrIFRPQyBpdGVtXG4gICAqIEBwYXJhbSBvcHRfc2hvdyBJZiB0cnVlIHNob3cgVE9DLCBmYWxzZSBoaWRlIFRPQy4gSWYgbnVsbCBvciB1bmRlZmluZWQgdG9nZ2xlIFRPQy5cbiAgICovXG4gIHNob3dUT0Mob3B0X3Nob3c/OiBib29sZWFuIHwgbnVsbCwgb3B0X2F1dG9oaWRlPzogYm9vbGVhbikge1xuICAgIGNvbnN0IHZpc2liaWxpdHkgPSBvcHRfc2hvdyA9PSBudWxsID8gXCJ0b2dnbGVcIiA6IG9wdF9zaG93ID8gXCJzaG93XCIgOiBcImhpZGVcIjtcbiAgICB0aGlzLmFkYXB0Vmlld2VyXy5zZW5kQ29tbWFuZCh7XG4gICAgICBhOiBcInRvY1wiLFxuICAgICAgdjogdmlzaWJpbGl0eSxcbiAgICAgIGF1dG9oaWRlOiBvcHRfYXV0b2hpZGUsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB6b29tIGZhY3RvciBjb3JyZXNwb25kaW5nIHRvIHRoZSBzcGVjaWZpZWQgem9vbSB0eXBlLlxuICAgKi9cbiAgcXVlcnlab29tRmFjdG9yKHR5cGU6IEFkYXB0aXZlVmlld2VyLlpvb21UeXBlKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5hZGFwdFZpZXdlcl8ucXVlcnlab29tRmFjdG9yKHR5cGUpO1xuICB9XG5cbiAgZ2V0UGFnZVNpemVzKCk6IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfVtdIHtcbiAgICByZXR1cm4gdGhpcy5hZGFwdFZpZXdlcl8ucGFnZVNpemVzO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRTaW5nbGVEb2N1bWVudE9wdGlvbnMoXG4gIHNpbmdsZURvY3VtZW50T3B0aW9uczogU2luZ2xlRG9jdW1lbnRPcHRpb25zIHwgU2luZ2xlRG9jdW1lbnRPcHRpb25zW10sXG4pOiBBZGFwdGl2ZVZpZXdlci5TaW5nbGVEb2N1bWVudFBhcmFtW10gfCBudWxsIHtcbiAgZnVuY3Rpb24gdG9OdW1iZXJPck51bGwobnVtOiBhbnkpOiBudW1iZXIgfCBudWxsIHtcbiAgICByZXR1cm4gdHlwZW9mIG51bSA9PT0gXCJudW1iZXJcIiA/IG51bSA6IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBjb252ZXJ0KG9wdCkge1xuICAgIGlmICh0eXBlb2Ygb3B0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1cmw6IG9wdCxcbiAgICAgICAgc3RhcnRQYWdlOiBudWxsLFxuICAgICAgICBza2lwUGFnZXNCZWZvcmU6IG51bGwsXG4gICAgICB9IGFzIEFkYXB0aXZlVmlld2VyLlNpbmdsZURvY3VtZW50UGFyYW07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVybDogb3B0W1widXJsXCJdLFxuICAgICAgICBzdGFydFBhZ2U6IHRvTnVtYmVyT3JOdWxsKG9wdFtcInN0YXJ0UGFnZVwiXSksXG4gICAgICAgIHNraXBQYWdlc0JlZm9yZTogdG9OdW1iZXJPck51bGwob3B0W1wic2tpcFBhZ2VzQmVmb3JlXCJdKSxcbiAgICAgIH0gYXMgQWRhcHRpdmVWaWV3ZXIuU2luZ2xlRG9jdW1lbnRQYXJhbTtcbiAgICB9XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoc2luZ2xlRG9jdW1lbnRPcHRpb25zKSkge1xuICAgIHJldHVybiBzaW5nbGVEb2N1bWVudE9wdGlvbnMubWFwKGNvbnZlcnQpO1xuICB9IGVsc2UgaWYgKHNpbmdsZURvY3VtZW50T3B0aW9ucykge1xuICAgIHJldHVybiBbY29udmVydChzaW5nbGVEb2N1bWVudE9wdGlvbnMpXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIE5hdmlnYXRpb24ge1xuICBQUkVWSU9VUyA9IFwicHJldmlvdXNcIixcbiAgTkVYVCA9IFwibmV4dFwiLFxuICBMRUZUID0gXCJsZWZ0XCIsXG4gIFJJR0hUID0gXCJyaWdodFwiLFxuICBGSVJTVCA9IFwiZmlyc3RcIixcbiAgTEFTVCA9IFwibGFzdFwiLFxuICBFUEFHRSA9IFwiZXBhZ2VcIixcbn1cblxuZXhwb3J0IHR5cGUgWm9vbVR5cGUgPSBBZGFwdGl2ZVZpZXdlci5ab29tVHlwZTtcbmV4cG9ydCBjb25zdCBab29tVHlwZSA9IEFkYXB0aXZlVmlld2VyLlpvb21UeXBlO1xuXG5leHBvcnQgdHlwZSBQYWdlVmlld01vZGUgPSBBZGFwdGl2ZVZpZXdlci5QYWdlVmlld01vZGU7XG5leHBvcnQgY29uc3QgUGFnZVZpZXdNb2RlID0gQWRhcHRpdmVWaWV3ZXIuUGFnZVZpZXdNb2RlO1xuXG5leHBvcnQgY29uc3Qgdmlld2VyID0ge1xuICBDb3JlVmlld2VyLFxuICBQYWdlVmlld01vZGUsXG4gIFpvb21UeXBlLFxufTtcblxuUHJvZmlsZS5wcm9maWxlci5mb3JjZVJlZ2lzdGVyRW5kVGltaW5nKFwibG9hZF92aXZsaW9zdHlsZVwiKTtcbiIsIi8vIEpvaGFubmVzIFdpbG1cbi8vIFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cblxuaW1wb3J0IHsgQ29yZVZpZXdlciB9IGZyb20gXCIuL2NvcmUtdmlld2VyXCI7XG5pbXBvcnQgdmlld3BvcnRDc3MgZnJvbSBcIi4uLy4uL3Jlc291cmNlcy92aXZsaW9zdHlsZS12aWV3cG9ydC5jc3NcIjtcbmltcG9ydCB2aWV3cG9ydFNjcmVlbkNzcyBmcm9tIFwiLi4vLi4vcmVzb3VyY2VzL3Zpdmxpb3N0eWxlLXZpZXdwb3J0LXNjcmVlbi5jc3NcIjtcblxuaW50ZXJmYWNlIElGcmFtZVdpbmRvd0ZvclByaW50IHtcbiAgcHJpbnRJbnN0YW5jZT86IFZpdmxpb3N0eWxlUHJpbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJpbnRDb25maWcge1xuICB0aXRsZTogc3RyaW5nO1xuICBwcmludENhbGxiYWNrOiAoaWZyYW1lV2luOiBXaW5kb3cpID0+IHZvaWQ7XG4gIGhpZGVJZnJhbWU6IGJvb2xlYW47XG4gIHJlbW92ZUlmcmFtZTogYm9vbGVhbjtcbn1cblxuY2xhc3MgVml2bGlvc3R5bGVQcmludCB7XG4gIGh0bWxEb2M6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgcHJpbnRDYWxsYmFjazogKGlmcmFtZVdpbjogV2luZG93KSA9PiB2b2lkO1xuICBoaWRlSWZyYW1lOiBib29sZWFuO1xuICByZW1vdmVJZnJhbWU6IGJvb2xlYW47XG4gIGlmcmFtZTogSFRNTElGcmFtZUVsZW1lbnQ7XG4gIGlmcmFtZVdpbjogV2luZG93O1xuICB3aW5kb3c6IFdpbmRvdyAmIHR5cGVvZiBnbG9iYWxUaGlzICYgSUZyYW1lV2luZG93Rm9yUHJpbnQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgaHRtbERvYzogc3RyaW5nLFxuICAgIHtcbiAgICAgIHRpdGxlID0gXCJcIixcbiAgICAgIHByaW50Q2FsbGJhY2sgPSAoaWZyYW1lV2luOiBXaW5kb3cpID0+IGlmcmFtZVdpbi5wcmludCgpLFxuICAgICAgaGlkZUlmcmFtZSA9IHRydWUsXG4gICAgICByZW1vdmVJZnJhbWUgPSB0cnVlLFxuICAgIH06IFByaW50Q29uZmlnLFxuICApIHtcbiAgICB0aGlzLmh0bWxEb2MgPSBodG1sRG9jO1xuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICB0aGlzLnByaW50Q2FsbGJhY2sgPSBwcmludENhbGxiYWNrO1xuICAgIHRoaXMuaGlkZUlmcmFtZSA9IGhpZGVJZnJhbWU7XG4gICAgdGhpcy5yZW1vdmVJZnJhbWUgPSByZW1vdmVJZnJhbWU7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtcblxuICAgIGlmICh0aGlzLmhpZGVJZnJhbWUpIHtcbiAgICAgIHRoaXMuaWZyYW1lLnN0eWxlLndpZHRoID0gXCIwXCI7IC8vIFdlIGRvbid0IHdhbnQgdGhlIGlmcmFtZSB0byBiZSBzZWVuLCBzbyB3ZSBtYWtlIGl0IHplcm8gc2l6ZSB3aXRoIHplcm8gYm9yZGVyLlxuICAgICAgdGhpcy5pZnJhbWUuc3R5bGUuaGVpZ2h0ID0gXCIwXCI7XG4gICAgICB0aGlzLmlmcmFtZS5zdHlsZS5ib3JkZXJXaWR0aCA9IFwiMFwiO1xuICAgIH1cblxuICAgIHRoaXMud2luZG93ID0gd2luZG93O1xuICAgIHRoaXMud2luZG93LnByaW50SW5zdGFuY2UgPSB0aGlzO1xuICAgIHRoaXMuaWZyYW1lLnNyY2RvYyA9IGBcbiAgICAgIDwhRE9DVFlQRSBodG1sPlxuICAgICAgPGh0bWwgZGF0YS12aXZsaW9zdHlsZS1wYWdpbmF0ZWQ9XCJ0cnVlXCI+XG4gICAgICAgIDxoZWFkPlxuICAgICAgICAgIDxtZXRhIGNoYXJzZXQ9J3V0Zi04Jy8+XG4gICAgICAgICAgPG1ldGEgbmFtZT0ndmlld3BvcnQnIGNvbnRlbnQ9J3dpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAnLz5cbiAgICAgICAgICA8dGl0bGU+JHt0aGlzLnRpdGxlfTwvdGl0bGU+XG4gICAgICAgICAgPHN0eWxlPiR7dmlld3BvcnRDc3N9PC9zdHlsZT5cbiAgICAgICAgICA8c3R5bGU+JHt2aWV3cG9ydFNjcmVlbkNzc308L3N0eWxlPlxuICAgICAgICAgIDxzdHlsZT5cbiAgICAgICAgICAgIGh0bWxbZGF0YS12aXZsaW9zdHlsZS1wYWdpbmF0ZWRdIHtcbiAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGh0bWxbZGF0YS12aXZsaW9zdHlsZS1wYWdpbmF0ZWRdIGJvZHksXG4gICAgICAgICAgICBodG1sW2RhdGEtdml2bGlvc3R5bGUtcGFnaW5hdGVkXSBbZGF0YS12aXZsaW9zdHlsZS12aWV3ZXItdmlld3BvcnRdIHtcbiAgICAgICAgICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBodG1sW2RhdGEtdml2bGlvc3R5bGUtcGFnaW5hdGVkXSxcbiAgICAgICAgICAgIGh0bWxbZGF0YS12aXZsaW9zdHlsZS1wYWdpbmF0ZWRdIGJvZHkge1xuICAgICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICA8c3R5bGUgaWQ9J3Zpdmxpb3N0eWxlLXBhZ2UtcnVsZXMnPjwvc3R5bGU+XG4gICAgICAgIDwvaGVhZD5cbiAgICAgICAgPGJvZHkgb25sb2FkPSdwYXJlbnQucHJpbnRJbnN0YW5jZS5ydW5JbklmcmFtZSh3aW5kb3cpJz5cbiAgICAgICAgICA8ZGl2IGlkPVwidml2bGlvc3R5bGUtdmlld2VyLXZpZXdwb3J0XCI+PC9kaXY+XG4gICAgICAgIDwvYm9keT5cbiAgICAgIDwvaHRtbD5gO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmlmcmFtZSk7XG4gIH1cblxuICBydW5JbklmcmFtZShpZnJhbWVXaW46IFdpbmRvdykge1xuICAgIHRoaXMuaWZyYW1lV2luID0gaWZyYW1lV2luO1xuICAgIHJldHVybiB0aGlzLnByZXBhcmVQcmludCgpXG4gICAgICAudGhlbigoKSA9PiB0aGlzLmJyb3dzZXJQcmludCgpKVxuICAgICAgLnRoZW4oKCkgPT4gdGhpcy5jbGVhblVwKCkpO1xuICB9XG5cbiAgcHJlcGFyZVByaW50KCkge1xuICAgIHRoaXMuaWZyYW1lV2luLmRvY3VtZW50LnRpdGxlID0gdGhpcy50aXRsZTtcbiAgICBjb25zdCBkb2NCbG9iID0gbmV3IEJsb2IoW3RoaXMuaHRtbERvY10sIHtcbiAgICAgICAgdHlwZTogXCJ0ZXh0L2h0bWxcIixcbiAgICAgIH0pLFxuICAgICAgZG9jVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChkb2NCbG9iKSxcbiAgICAgIFZpZXdlciA9IG5ldyBDb3JlVmlld2VyKFxuICAgICAgICB7XG4gICAgICAgICAgdmlld3BvcnRFbGVtZW50OiB0aGlzLmlmcmFtZVdpbi5kb2N1bWVudC5ib2R5XG4gICAgICAgICAgICAuZmlyc3RFbGVtZW50Q2hpbGQgYXMgSFRNTEVsZW1lbnQsXG4gICAgICAgICAgd2luZG93OiB0aGlzLmlmcmFtZVdpbixcbiAgICAgICAgICBkZWJ1ZzogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGRlZmF1bHRQYXBlclNpemU6IHtcbiAgICAgICAgICAgIHdpZHRoOiA3OTQsIC8vIFRoZXNlIG51bWJlcnMgZ2l2ZSB3ZWlyZCBvdXRwdXQsIGJ1dCBub3Qgc2V0dGluZyB0aGVtIGNyYXNoZXMgdGhlIGJyb3dzZXIgd2hlbiB0aGVyZSBpcyBubyBDU1MuXG4gICAgICAgICAgICBoZWlnaHQ6IDExMjIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBWaWV3ZXIuYWRkTGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsICgpID0+IHtcbiAgICAgICAgaWYgKFZpZXdlci5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIpIHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBWaWV3ZXIubG9hZERvY3VtZW50KHtcbiAgICAgICAgdXJsOiBkb2NVUkwsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGJyb3dzZXJQcmludCgpIHtcbiAgICB0aGlzLnByaW50Q2FsbGJhY2sodGhpcy5pZnJhbWVXaW4pO1xuICB9XG5cbiAgY2xlYW5VcCgpIHtcbiAgICBkZWxldGUgdGhpcy53aW5kb3cucHJpbnRJbnN0YW5jZTtcbiAgICBpZiAodGhpcy5yZW1vdmVJZnJhbWUpIHtcbiAgICAgIHRoaXMuaWZyYW1lLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5pZnJhbWUpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJpbnRIVE1MKGh0bWxEb2M6IHN0cmluZywgY29uZmlnOiBQcmludENvbmZpZykge1xuICBjb25zdCBpbnN0YW5jZSA9IG5ldyBWaXZsaW9zdHlsZVByaW50KGh0bWxEb2MsIGNvbmZpZyk7XG4gIGluc3RhbmNlLmluaXQoKTtcbn1cbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZXNjYXBlVW5pY29kZUNoYXIoY2gpOiBzdHJpbmcge1xuICAgIHJldHVybiBgXFxcXHUkeygweDEwMDAwIHwgY2guY2hhckNvZGVBdCgwKSkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKX1gO1xuICB9LFxuICBlc2NhcGVVbmljb2RlU3RyaW5nKHN0cik6IHN0cmluZyB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bXi1hLXpBLVowLTlfXS9nLCB0aGlzLmVzY2FwZVVuaWNvZGVDaGFyKTtcbiAgfSxcbiAgcGVyY2VudEVuY29kZUFtcGVyc2FuZEFuZFVuZW5jb2RlZFBlcmNlbnQoc3RyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyUoPyFbMC05QS1GYS1mXXsyfSkvZywgXCIlMjVcIikucmVwbGFjZSgvJi9nLCBcIiUyNlwiKTtcbiAgfSxcbiAgcGVyY2VudEVuY29kZUFtcGVyc2FuZEFuZFBlcmNlbnQoc3RyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyUvZywgXCIlMjVcIikucmVwbGFjZSgvJi9nLCBcIiUyNlwiKTtcbiAgfSxcbiAgcGVyY2VudERlY29kZUFtcGVyc2FuZEFuZFBlcmNlbnQoc3RyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyUyNi9nLCBcIiZcIikucmVwbGFjZSgvJTI1L2csIFwiJVwiKTtcbiAgfSxcbiAgcGVyY2VudEVuY29kZUZvckRhdGFVUkkoc3RyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJKHN0cilcbiAgICAgIC5yZXBsYWNlKC8jL2csIFwiJTIzXCIpXG4gICAgICAucmVwbGFjZSgvJi9nLCBcIiUyNlwiKTtcbiAgfSxcbn07XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQgc3RyaW5nVXRpbCBmcm9tIFwiLi4vdXRpbHMvc3RyaW5nLXV0aWxcIjtcblxuZnVuY3Rpb24gZ2V0UmVnRXhwRm9yUGFyYW1ldGVyKG5hbWU6IHN0cmluZyk6IFJlZ0V4cCB7XG4gIHJldHVybiBuZXcgUmVnRXhwKGBbIyZdJHtzdHJpbmdVdGlsLmVzY2FwZVVuaWNvZGVTdHJpbmcobmFtZSl9PShbXiZdKilgLCBcImdcIik7XG59XG5cbmNsYXNzIFVSTFBhcmFtZXRlclN0b3JlIHtcbiAgaGlzdG9yeTogSGlzdG9yeSB8IG51bGw7XG4gIGxvY2F0aW9uOiBMb2NhdGlvbiB8IHsgaHJlZjogXCJcIiB9O1xuICBzdG9yZWRVcmw6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmhpc3RvcnkgPSB3aW5kb3cgPyB3aW5kb3cuaGlzdG9yeSA6IG51bGw7XG4gICAgdGhpcy5sb2NhdGlvbiA9IHdpbmRvdyA/IHdpbmRvdy5sb2NhdGlvbiA6IHsgaHJlZjogXCJcIiB9O1xuICAgIHRoaXMuc3RvcmVkVXJsID0gdGhpcy5sb2NhdGlvbi5ocmVmO1xuICB9XG5cbiAgZ2V0QmFzZVVSTCgpOiBzdHJpbmcge1xuICAgIGxldCB1cmwgPSB0aGlzLmxvY2F0aW9uLmhyZWY7XG4gICAgdXJsID0gdXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKTtcbiAgICByZXR1cm4gdXJsLnJlcGxhY2UoL1xcL1teL10qJC8sIFwiL1wiKTtcbiAgfVxuXG4gIGhhc1BhcmFtZXRlcihuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCB1cmwgPSB0aGlzLmxvY2F0aW9uLmhyZWY7XG4gICAgY29uc3QgcmVnZXhwID0gZ2V0UmVnRXhwRm9yUGFyYW1ldGVyKG5hbWUpO1xuICAgIHJldHVybiByZWdleHAudGVzdCh1cmwpO1xuICB9XG5cbiAgZ2V0UGFyYW1ldGVyKG5hbWU6IHN0cmluZyk6IEFycmF5PHN0cmluZz4ge1xuICAgIGNvbnN0IHVybCA9IHRoaXMubG9jYXRpb24uaHJlZjtcbiAgICBjb25zdCByZWdleHAgPSBnZXRSZWdFeHBGb3JQYXJhbWV0ZXIobmFtZSk7XG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgIGxldCByO1xuICAgIHdoaWxlICgociA9IHJlZ2V4cC5leGVjKHVybCkpKSB7XG4gICAgICByZXN1bHRzLnB1c2goclsxXSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKiBAcGFyYW0ge251bWJlcj19IGluZGV4IHNwZWNpZmllcyBpbmRleCBpbiBtdWx0aXBsZSBwYXJhbWV0ZXJzIHdpdGggc2FtZSBuYW1lLlxuICAgKi9cbiAgc2V0UGFyYW1ldGVyKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgaW5kZXg/OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCB1cmwgPSB0aGlzLmxvY2F0aW9uLmhyZWY7XG4gICAgbGV0IHVwZGF0ZWQ7XG4gICAgY29uc3QgcmVnZXhwID0gZ2V0UmVnRXhwRm9yUGFyYW1ldGVyKG5hbWUpO1xuICAgIGxldCByID0gcmVnZXhwLmV4ZWModXJsKTtcbiAgICBpZiAociAmJiBpbmRleCkge1xuICAgICAgd2hpbGUgKGluZGV4LS0gPj0gMSkge1xuICAgICAgICByID0gcmVnZXhwLmV4ZWModXJsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHIpIHtcbiAgICAgIGNvbnN0IGwgPSByWzFdLmxlbmd0aDtcbiAgICAgIGNvbnN0IHN0YXJ0ID0gci5pbmRleCArIHJbMF0ubGVuZ3RoIC0gbDtcbiAgICAgIHVwZGF0ZWQgPSB1cmwuc3Vic3RyaW5nKDAsIHN0YXJ0KSArIHZhbHVlICsgdXJsLnN1YnN0cmluZyhzdGFydCArIGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVkID0gYCR7dXJsICtcbiAgICAgICAgKHVybC5tYXRjaCgvWyMmXSQvKSA/IFwiXCIgOiB1cmwubWF0Y2goLyMvKSA/IFwiJlwiIDogXCIjXCIpICtcbiAgICAgICAgbmFtZX09JHt2YWx1ZX1gO1xuICAgIH1cbiAgICBpZiAodGhpcy5oaXN0b3J5ICE9PSBudWxsICYmIHRoaXMuaGlzdG9yeS5yZXBsYWNlU3RhdGUpIHtcbiAgICAgIHRoaXMuaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgXCJcIiwgdXBkYXRlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubG9jYXRpb24uaHJlZiA9IHVwZGF0ZWQ7XG4gICAgfVxuICAgIHRoaXMuc3RvcmVkVXJsID0gdXBkYXRlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBrZWVwRmlyc3QgSWYgdHJ1ZSwgbm90IHJlbW92ZSB0aGUgZmlyc3Qgb25lIGluIG11bHRpcGxlIHBhcmFtZXRlcnMgd2l0aCBzYW1lIG5hbWUuXG4gICAqL1xuICByZW1vdmVQYXJhbWV0ZXIobmFtZTogc3RyaW5nLCBrZWVwRmlyc3Q/OiBib29sZWFuKTogdm9pZCB7XG4gICAgY29uc3QgdXJsID0gdGhpcy5sb2NhdGlvbi5ocmVmO1xuICAgIGxldCB1cGRhdGVkO1xuICAgIGNvbnN0IHJlZ2V4cCA9IGdldFJlZ0V4cEZvclBhcmFtZXRlcihuYW1lKTtcbiAgICBsZXQgciA9IHJlZ2V4cC5leGVjKHVybCk7XG4gICAgaWYgKHIgJiYga2VlcEZpcnN0KSB7XG4gICAgICByID0gcmVnZXhwLmV4ZWModXJsKTtcbiAgICB9XG4gICAgaWYgKHIpIHtcbiAgICAgIHVwZGF0ZWQgPSB1cmw7XG4gICAgICBmb3IgKDsgcjsgciA9IHJlZ2V4cC5leGVjKHVwZGF0ZWQpKSB7XG4gICAgICAgIGNvbnN0IGVuZCA9IHIuaW5kZXggKyByWzBdLmxlbmd0aDtcbiAgICAgICAgaWYgKHJbMF0uY2hhckF0KDApID09IFwiI1wiKSB7XG4gICAgICAgICAgdXBkYXRlZCA9XG4gICAgICAgICAgICB1cGRhdGVkLnN1YnN0cmluZygwLCByLmluZGV4ICsgMSkgKyB1cGRhdGVkLnN1YnN0cmluZyhlbmQgKyAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cGRhdGVkID0gdXBkYXRlZC5zdWJzdHJpbmcoMCwgci5pbmRleCkgKyB1cGRhdGVkLnN1YnN0cmluZyhlbmQpO1xuICAgICAgICB9XG4gICAgICAgIHJlZ2V4cC5sYXN0SW5kZXggLT0gclswXS5sZW5ndGg7XG4gICAgICB9XG4gICAgICB1cGRhdGVkID0gdXBkYXRlZC5yZXBsYWNlKC9eKC4qPylbIyZdJC8sIFwiJDFcIik7XG4gICAgICBpZiAodGhpcy5oaXN0b3J5ICE9PSBudWxsICYmIHRoaXMuaGlzdG9yeS5yZXBsYWNlU3RhdGUpIHtcbiAgICAgICAgdGhpcy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBcIlwiLCB1cGRhdGVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubG9jYXRpb24uaHJlZiA9IHVwZGF0ZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc3RvcmVkVXJsID0gdXBkYXRlZDtcbiAgfVxufVxuXG5jb25zdCBpbnN0YW5jZSA9IG5ldyBVUkxQYXJhbWV0ZXJTdG9yZSgpO1xuZXhwb3J0IGRlZmF1bHQgaW5zdGFuY2U7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQga28sIHsgT2JzZXJ2YWJsZSB9IGZyb20gXCJrbm9ja291dFwiO1xuXG5pbXBvcnQgUGFnZVN0eWxlIGZyb20gXCIuL3BhZ2Utc3R5bGVcIjtcbmltcG9ydCB1cmxQYXJhbWV0ZXJzIGZyb20gXCIuLi9zdG9yZXMvdXJsLXBhcmFtZXRlcnNcIjtcbmltcG9ydCBzdHJpbmdVdGlsIGZyb20gXCIuLi91dGlscy9zdHJpbmctdXRpbFwiO1xuXG5mdW5jdGlvbiBnZXREb2N1bWVudE9wdGlvbnNGcm9tVVJMKCk6IERvY3VtZW50T3B0aW9uc1R5cGUge1xuICBjb25zdCBib29rVXJsID0gdXJsUGFyYW1ldGVycy5nZXRQYXJhbWV0ZXIoXCJiXCIpO1xuICBjb25zdCB4VXJsID0gdXJsUGFyYW1ldGVycy5nZXRQYXJhbWV0ZXIoXCJ4XCIpO1xuICBjb25zdCBmcmFnbWVudCA9IHVybFBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyKFwiZlwiKTtcbiAgY29uc3Qgc3R5bGUgPSB1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcInN0eWxlXCIpO1xuICBjb25zdCB1c2VyU3R5bGUgPSB1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcInVzZXJTdHlsZVwiKTtcbiAgcmV0dXJuIHtcbiAgICBib29rVXJsOiBib29rVXJsWzBdIHx8IG51bGwsIC8vIGJvb2tVcmwgYW5kIHhVcmwgYXJlIGV4Y2x1c2l2ZVxuICAgIHhVcmw6ICFib29rVXJsWzBdICYmIHhVcmwubGVuZ3RoICYmIHhVcmxbMF0gPyB4VXJsIDogbnVsbCxcbiAgICBmcmFnbWVudDogZnJhZ21lbnRbMF0gfHwgbnVsbCxcbiAgICBhdXRob3JTdHlsZVNoZWV0OiBzdHlsZS5sZW5ndGggPyBzdHlsZSA6IFtdLFxuICAgIHVzZXJTdHlsZVNoZWV0OiB1c2VyU3R5bGUubGVuZ3RoID8gdXNlclN0eWxlIDogW10sXG4gIH07XG59XG5cbmludGVyZmFjZSBEb2N1bWVudE9wdGlvbnNUeXBlIHtcbiAgcGFnZVN0eWxlPzogUGFnZVN0eWxlO1xuICBkYXRhVXNlclN0eWxlSW5kZXg/OiBudW1iZXI7XG4gIGJvb2tVcmw/OiBzdHJpbmc7XG4gIHhVcmw/OiBBcnJheTxzdHJpbmc+IHwgbnVsbDtcbiAgZnJhZ21lbnQ/OiBzdHJpbmc7XG4gIGF1dGhvclN0eWxlU2hlZXQ/OiBBcnJheTx1bmtub3duPjtcbiAgdXNlclN0eWxlU2hlZXQ/OiBBcnJheTx1bmtub3duPjtcbn1cblxuY2xhc3MgRG9jdW1lbnRPcHRpb25zIHtcbiAgcGFnZVN0eWxlOiBQYWdlU3R5bGU7XG4gIGRhdGFVc2VyU3R5bGVJbmRleDogbnVtYmVyO1xuICBib29rVXJsPzogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICB4VXJsPzogT2JzZXJ2YWJsZTxBcnJheTxzdHJpbmc+IHwgbnVsbD47XG4gIGZyYWdtZW50PzogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICBhdXRob3JTdHlsZVNoZWV0PzogT2JzZXJ2YWJsZTxBcnJheTx1bmtub3duPj47XG4gIHVzZXJTdHlsZVNoZWV0PzogT2JzZXJ2YWJsZTxBcnJheTx1bmtub3duPj47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc3QgdXJsT3B0aW9ucyA9IGdldERvY3VtZW50T3B0aW9uc0Zyb21VUkwoKTtcbiAgICB0aGlzLmJvb2tVcmwgPSBrby5vYnNlcnZhYmxlKHVybE9wdGlvbnMuYm9va1VybCB8fCBcIlwiKTtcbiAgICB0aGlzLnhVcmwgPSBrby5vYnNlcnZhYmxlKHVybE9wdGlvbnMueFVybCB8fCBudWxsKTtcbiAgICB0aGlzLmZyYWdtZW50ID0ga28ub2JzZXJ2YWJsZSh1cmxPcHRpb25zLmZyYWdtZW50IHx8IFwiXCIpO1xuICAgIHRoaXMuYXV0aG9yU3R5bGVTaGVldCA9IGtvLm9ic2VydmFibGUodXJsT3B0aW9ucy5hdXRob3JTdHlsZVNoZWV0KTtcbiAgICB0aGlzLnVzZXJTdHlsZVNoZWV0ID0ga28ub2JzZXJ2YWJsZSh1cmxPcHRpb25zLnVzZXJTdHlsZVNoZWV0KTtcbiAgICB0aGlzLnBhZ2VTdHlsZSA9IG5ldyBQYWdlU3R5bGUoKTtcbiAgICB0aGlzLmRhdGFVc2VyU3R5bGVJbmRleCA9IC0xO1xuXG4gICAgLy8gd3JpdGUgZnJhZ21lbnQgYmFjayB0byBVUkwgd2hlbiB1cGRhdGVkXG4gICAgdGhpcy5mcmFnbWVudC5zdWJzY3JpYmUoKGZyYWdtZW50KSA9PiB7XG4gICAgICBpZiAoL15lcHViY2ZpXFwoXFwvKFsyNDZdXFwvKT8yIVxcKS8udGVzdChmcmFnbWVudCkpIHtcbiAgICAgICAgdXJsUGFyYW1ldGVycy5yZW1vdmVQYXJhbWV0ZXIoXCJmXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZW5jb2RlZCA9IGZyYWdtZW50LnJlcGxhY2UoXG4gICAgICAgICAgL1tcXHMrJj89I1xcdTAwN0YtXFx1RkZGRl0rL2csXG4gICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50LFxuICAgICAgICApO1xuICAgICAgICB1cmxQYXJhbWV0ZXJzLnNldFBhcmFtZXRlcihcImZcIiwgZW5jb2RlZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyByZWFkIHVzZXJTdHlsZT1kYXRhOi48Y3NzVGV4dD4gVVJMIHBhcmFtZXRlclxuICAgIHVybE9wdGlvbnMudXNlclN0eWxlU2hlZXQuZmluZCgodXNlclN0eWxlOiBzdHJpbmcsIGluZGV4KSA9PiB7XG4gICAgICAvLyBGaW5kIHVzZXJTdHlsZSBwYXJhbWV0ZXIgdGhhdCBzdGFydHMgd2l0aCBcImRhdGE6XCIgYW5kIGNvbnRhaW5zIFwiLyo8dmlld2VyPiovXCIuXG4gICAgICBpZiAoL15kYXRhOiwuKj9cXC9cXCooPzo8fCUzQyl2aWV3ZXIoPzo+fCUzRSlcXCpcXC8vLnRlc3QodXNlclN0eWxlKSkge1xuICAgICAgICB0aGlzLmRhdGFVc2VyU3R5bGVJbmRleCA9IGluZGV4O1xuICAgICAgICBjb25zdCBkYXRhID0gdXNlclN0eWxlXG4gICAgICAgICAgLnJlcGxhY2UoL15kYXRhOiwvLCBcIlwiKVxuICAgICAgICAgIC8vIEVzY2FwZSB1bmVzY2FwZWQgXCIlXCIgdGhhdCBjYXVzZXMgZXJyb3IgaW4gZGVjb2RlVVJJQ29tcG9uZW50KClcbiAgICAgICAgICAucmVwbGFjZSgvJSg/IVswLTlBLUZhLWZdezJ9KS9nLCBcIiUyNVwiKTtcbiAgICAgICAgY29uc3QgY3NzVGV4dCA9IGRlY29kZVVSSUNvbXBvbmVudChkYXRhKTtcbiAgICAgICAgdGhpcy5wYWdlU3R5bGUuY3NzVGV4dChjc3NUZXh0KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyB3cml0ZSBjc3NUZXh0IGJhY2sgdG8gVVJMIHBhcmFtZXRlciB1c2VyU3R5bGU9IHdoZW4gdXBkYXRlZFxuICAgIHRoaXMucGFnZVN0eWxlLmNzc1RleHQuc3Vic2NyaWJlKChjc3NUZXh0KSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZVVzZXJTdHlsZVNoZWV0RnJvbUNTU1RleHQoY3NzVGV4dCk7XG4gICAgfSk7XG4gIH1cblxuICB0b09iamVjdCgpOiBEb2N1bWVudE9wdGlvbnNUeXBlIHtcbiAgICBmdW5jdGlvbiBjb252ZXJ0U3R5bGVTaGVldEFycmF5KGFycik6IHsgdXJsPzogc3RyaW5nOyB0ZXh0OiBzdHJpbmcgfVtdIHtcbiAgICAgIHJldHVybiBhcnIubWFwKCh1cmwpID0+ICh7XG4gICAgICAgIHVybCxcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgY29uc3QgdXNlclN0eWxlU2hlZXRBcnJheSA9IGNvbnZlcnRTdHlsZVNoZWV0QXJyYXkodGhpcy51c2VyU3R5bGVTaGVldCgpKTtcbiAgICBpZiAodGhpcy5wYWdlU3R5bGUucGFnZVNpemVNb2RlKCkgPT0gUGFnZVN0eWxlLk1vZGUuRGVmYXVsdCkge1xuICAgICAgLy8gUHV0IGRlZmF1bHQgcGFnZSBzaXplIGF1dG8uIFRoaXMgaXMgbmVlZGVkIHRvIG91dHB1dCBhdXRvIHNpemUgUERGLlxuICAgICAgdXNlclN0eWxlU2hlZXRBcnJheS51bnNoaWZ0KHsgdGV4dDogXCJAcGFnZXtzaXplOmF1dG99XCIgfSk7XG4gICAgfVxuICAgIC8vIERvIG5vdCBpbmNsdWRlIHVybFxuICAgIC8vICh1cmwgaXMgYSByZXF1aXJlZCBhcmd1bWVudCB0byBWaWV3ZXIubG9hZERvY3VtZW50LCBzZXBhcmF0ZWQgZnJvbSBvdGhlciBvcHRpb25zKVxuICAgIHJldHVybiB7XG4gICAgICBmcmFnbWVudDogdGhpcy5mcmFnbWVudCgpLFxuICAgICAgYXV0aG9yU3R5bGVTaGVldDogY29udmVydFN0eWxlU2hlZXRBcnJheSh0aGlzLmF1dGhvclN0eWxlU2hlZXQoKSksXG4gICAgICB1c2VyU3R5bGVTaGVldDogdXNlclN0eWxlU2hlZXRBcnJheSxcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlVXNlclN0eWxlU2hlZXRGcm9tQ1NTVGV4dChjc3NUZXh0Pzogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKGNzc1RleHQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjc3NUZXh0ID0gdGhpcy5wYWdlU3R5bGUudG9DU1NUZXh0KCk7XG4gICAgfVxuICAgIGNvbnN0IHVzZXJTdHlsZVNoZWV0ID0gdGhpcy51c2VyU3R5bGVTaGVldCgpO1xuICAgIGlmICghY3NzVGV4dCB8fCAvXlxccyooXFwvXFwqLio/XFwqXFwvXFxzKikqJC8udGVzdChjc3NUZXh0KSkge1xuICAgICAgaWYgKHVzZXJTdHlsZVNoZWV0Lmxlbmd0aCA8PSAodGhpcy5kYXRhVXNlclN0eWxlSW5kZXggPT0gLTEgPyAwIDogMSkpIHtcbiAgICAgICAgdXNlclN0eWxlU2hlZXQucG9wKCk7XG4gICAgICAgIHRoaXMuZGF0YVVzZXJTdHlsZUluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMudXNlclN0eWxlU2hlZXQodXNlclN0eWxlU2hlZXQpO1xuICAgICAgICB1cmxQYXJhbWV0ZXJzLnJlbW92ZVBhcmFtZXRlcihcInVzZXJTdHlsZVwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBkYXRhVXNlclN0eWxlID1cbiAgICAgIFwiZGF0YTosXCIgKyBzdHJpbmdVdGlsLnBlcmNlbnRFbmNvZGVGb3JEYXRhVVJJKGNzc1RleHQudHJpbSgpKTtcbiAgICBpZiAodGhpcy5kYXRhVXNlclN0eWxlSW5kZXggPT0gLTEpIHtcbiAgICAgIHVzZXJTdHlsZVNoZWV0LnB1c2goZGF0YVVzZXJTdHlsZSk7XG4gICAgICB0aGlzLmRhdGFVc2VyU3R5bGVJbmRleCA9IHVzZXJTdHlsZVNoZWV0Lmxlbmd0aCAtIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZXJTdHlsZVNoZWV0W3RoaXMuZGF0YVVzZXJTdHlsZUluZGV4XSA9IGRhdGFVc2VyU3R5bGU7XG4gICAgfVxuICAgIHRoaXMudXNlclN0eWxlU2hlZXQodXNlclN0eWxlU2hlZXQpO1xuICAgIHVybFBhcmFtZXRlcnMuc2V0UGFyYW1ldGVyKFxuICAgICAgXCJ1c2VyU3R5bGVcIixcbiAgICAgIGRhdGFVc2VyU3R5bGUsXG4gICAgICB0aGlzLmRhdGFVc2VyU3R5bGVJbmRleCxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERvY3VtZW50T3B0aW9ucztcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNiBUcmltLW1hcmtzIEluYy5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCB7IFBhZ2VWaWV3TW9kZSBhcyBDb3JlUGFnZVZpZXdNb2RlIH0gZnJvbSBcIkB2aXZsaW9zdHlsZS9jb3JlXCI7XG5cbmV4cG9ydCBjbGFzcyBQYWdlVmlld01vZGVJbnN0YW5jZSB7XG4gIHRvU3ByZWFkVmlld1N0cmluZygpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodGhpcykge1xuICAgICAgLy8gRklYTUU6IFdlIHdhbnQgdG8gc3RvcCBkaXNhYmxpbmcgdGhpcyBydWxlIHRvIGZ1dHVyZVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgY2FzZSBQYWdlVmlld01vZGUuU1BSRUFEOlxuICAgICAgICByZXR1cm4gXCJ0cnVlXCI7XG4gICAgICAvLyBGSVhNRTogV2Ugd2FudCB0byBzdG9wIGRpc2FibGluZyB0aGlzIHJ1bGUgdG8gZnV0dXJlXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICBjYXNlIFBhZ2VWaWV3TW9kZS5TSU5HTEVfUEFHRTpcbiAgICAgICAgcmV0dXJuIFwiZmFsc2VcIjtcbiAgICAgIC8vIEZJWE1FOiBXZSB3YW50IHRvIHN0b3AgZGlzYWJsaW5nIHRoaXMgcnVsZSB0byBmdXR1cmVcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIGNhc2UgUGFnZVZpZXdNb2RlLkFVVE9fU1BSRUFEOlxuICAgICAgICByZXR1cm4gXCJhdXRvXCI7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFBhZ2VWaWV3TW9kZVwiKTtcbiAgICB9XG4gIH1cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHRoaXMpIHtcbiAgICAgIC8vIEZJWE1FOiBXZSB3YW50IHRvIHN0b3AgZGlzYWJsaW5nIHRoaXMgcnVsZSB0byBmdXR1cmVcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIGNhc2UgUGFnZVZpZXdNb2RlLlNQUkVBRDpcbiAgICAgICAgcmV0dXJuIFwic3ByZWFkXCI7IC8vIHZpdmxpb3N0eWxlLnZpZXdlci5QYWdlVmlld01vZGUuU1BSRUFEO1xuICAgICAgLy8gRklYTUU6IFdlIHdhbnQgdG8gc3RvcCBkaXNhYmxpbmcgdGhpcyBydWxlIHRvIGZ1dHVyZVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgY2FzZSBQYWdlVmlld01vZGUuU0lOR0xFX1BBR0U6XG4gICAgICAgIHJldHVybiBcInNpbmdsZVBhZ2VcIjsgLy8gdml2bGlvc3R5bGUudmlld2VyLlBhZ2VWaWV3TW9kZS5TSU5HTEVfUEFHRTtcbiAgICAgIC8vIEZJWE1FOiBXZSB3YW50IHRvIHN0b3AgZGlzYWJsaW5nIHRoaXMgcnVsZSB0byBmdXR1cmVcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIGNhc2UgUGFnZVZpZXdNb2RlLkFVVE9fU1BSRUFEOlxuICAgICAgICByZXR1cm4gXCJhdXRvU3ByZWFkXCI7IC8vIHZpdmxpb3N0eWxlLnZpZXdlci5QYWdlVmlld01vZGUuQVVUT19TUFJFQUQ7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFBhZ2VWaWV3TW9kZVwiKTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgUGFnZVZpZXdNb2RlID0ge1xuICBBVVRPX1NQUkVBRDogbmV3IFBhZ2VWaWV3TW9kZUluc3RhbmNlKCksXG4gIFNJTkdMRV9QQUdFOiBuZXcgUGFnZVZpZXdNb2RlSW5zdGFuY2UoKSxcbiAgU1BSRUFEOiBuZXcgUGFnZVZpZXdNb2RlSW5zdGFuY2UoKSxcbiAgZGVmYXVsdE1vZGUoKTogQ29yZVBhZ2VWaWV3TW9kZSB7XG4gICAgcmV0dXJuIHRoaXMuQVVUT19TUFJFQUQ7XG4gIH0sXG4gIGZyb21TcHJlYWRWaWV3U3RyaW5nKHN0cjogc3RyaW5nKTogQ29yZVBhZ2VWaWV3TW9kZSB7XG4gICAgc3dpdGNoIChzdHIpIHtcbiAgICAgIGNhc2UgXCJ0cnVlXCI6XG4gICAgICAgIHJldHVybiB0aGlzLlNQUkVBRDtcbiAgICAgIGNhc2UgXCJmYWxzZVwiOlxuICAgICAgICByZXR1cm4gdGhpcy5TSU5HTEVfUEFHRTtcbiAgICAgIGNhc2UgXCJhdXRvXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdGhpcy5BVVRPX1NQUkVBRDtcbiAgICB9XG4gIH0sXG4gIG9mKG5hbWU6IHN0cmluZyk6IENvcmVQYWdlVmlld01vZGUge1xuICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgY2FzZSBDb3JlUGFnZVZpZXdNb2RlLlNQUkVBRDpcbiAgICAgICAgcmV0dXJuIHRoaXMuU1BSRUFEO1xuICAgICAgY2FzZSBDb3JlUGFnZVZpZXdNb2RlLlNJTkdMRV9QQUdFOlxuICAgICAgICByZXR1cm4gdGhpcy5TSU5HTEVfUEFHRTtcbiAgICAgIGNhc2UgQ29yZVBhZ2VWaWV3TW9kZS5BVVRPX1NQUkVBRDpcbiAgICAgICAgcmV0dXJuIHRoaXMuQVVUT19TUFJFQUQ7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgUGFnZVZpZXdNb2RlIG5hbWU6ICR7bmFtZX1gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBQYWdlVmlld01vZGU7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTYgVHJpbS1tYXJrcyBJbmMuXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQgeyBDb3JlVmlld2VyLCBab29tVHlwZSB9IGZyb20gXCJAdml2bGlvc3R5bGUvY29yZVwiO1xuXG5jbGFzcyBab29tT3B0aW9ucyB7XG4gIHpvb206IG51bWJlcjtcblxuICBjb25zdHJ1Y3Rvcih6b29tKSB7XG4gICAgdGhpcy56b29tID0gem9vbTtcbiAgfVxuICBnZXQgZml0VG9TY3JlZW4oKTogbnVsbCB8IGJvb2xlYW4ge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgZ2V0Q3VycmVudFpvb21GYWN0b3IoX3ZpZXdlcj86IENvcmVWaWV3ZXIpOiBudW1iZXIge1xuICAgIHJldHVybiAxO1xuICB9XG4gIHRvZ2dsZUZpdFRvU2NyZWVuKCk6IFpvb21PcHRpb25zIHtcbiAgICByZXR1cm4gbmV3IFpvb21PcHRpb25zKDEpO1xuICB9XG4gIHpvb21Jbih2aWV3ZXI6IENvcmVWaWV3ZXIpOiBGaXhlZFpvb21GYWN0b3Ige1xuICAgIC8vIEZJWE1FOiBXZSB3YW50IHRvIHN0b3AgZGlzYWJsaW5nIHRoaXMgcnVsZSB0byBmdXR1cmVcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgcmV0dXJuIG5ldyBGaXhlZFpvb21GYWN0b3IodGhpcy5nZXRDdXJyZW50Wm9vbUZhY3Rvcih2aWV3ZXIpICogMS4yNSk7XG4gIH1cbiAgem9vbU91dCh2aWV3ZXI6IENvcmVWaWV3ZXIpOiBGaXhlZFpvb21GYWN0b3Ige1xuICAgIC8vIEZJWE1FOiBXZSB3YW50IHRvIHN0b3AgZGlzYWJsaW5nIHRoaXMgcnVsZSB0byBmdXR1cmVcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgcmV0dXJuIG5ldyBGaXhlZFpvb21GYWN0b3IodGhpcy5nZXRDdXJyZW50Wm9vbUZhY3Rvcih2aWV3ZXIpICogMC44KTtcbiAgfVxuICB6b29tVG9BY3R1YWxTaXplKCk6IEZpeGVkWm9vbUZhY3RvciB7XG4gICAgLy8gRklYTUU6IFdlIHdhbnQgdG8gc3RvcCBkaXNhYmxpbmcgdGhpcyBydWxlIHRvIGZ1dHVyZVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICByZXR1cm4gbmV3IEZpeGVkWm9vbUZhY3RvcigxKTtcbiAgfVxuICBzdGF0aWMgY3JlYXRlRGVmYXVsdE9wdGlvbnMoKTogRml0VG9TY3JlZW4ge1xuICAgIC8vIEZJWE1FOiBXZSB3YW50IHRvIHN0b3AgZGlzYWJsaW5nIHRoaXMgcnVsZSB0byBmdXR1cmVcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgcmV0dXJuIG5ldyBGaXRUb1NjcmVlbigpO1xuICB9XG4gIHN0YXRpYyBjcmVhdGVGcm9tWm9vbUZhY3Rvcih6b29tKTogRml4ZWRab29tRmFjdG9yIHtcbiAgICAvLyBGSVhNRTogV2Ugd2FudCB0byBzdG9wIGRpc2FibGluZyB0aGlzIHJ1bGUgdG8gZnV0dXJlXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgIHJldHVybiBuZXcgRml4ZWRab29tRmFjdG9yKHpvb20pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaXRUb1NjcmVlbiBleHRlbmRzIFpvb21PcHRpb25zIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoMSk7XG4gIH1cbiAgZ2V0IGZpdFRvU2NyZWVuKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHRvZ2dsZUZpdFRvU2NyZWVuKCk6IEZpeGVkWm9vbUZhY3RvciB7XG4gICAgLy8gRklYTUU6IFdlIHdhbnQgdG8gc3RvcCBkaXNhYmxpbmcgdGhpcyBydWxlIHRvIGZ1dHVyZVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICByZXR1cm4gbmV3IEZpeGVkWm9vbUZhY3RvcigxKTtcbiAgfVxuICBnZXRDdXJyZW50Wm9vbUZhY3Rvcih2aWV3ZXI6IENvcmVWaWV3ZXIpOiBudW1iZXIge1xuICAgIHJldHVybiB2aWV3ZXIucXVlcnlab29tRmFjdG9yKFpvb21UeXBlLkZJVF9JTlNJREVfVklFV1BPUlQpO1xuICB9XG59XG5jbGFzcyBGaXhlZFpvb21GYWN0b3IgZXh0ZW5kcyBab29tT3B0aW9ucyB7XG4gIGdldCBmaXRUb1NjcmVlbigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdG9nZ2xlRml0VG9TY3JlZW4oKTogRml0VG9TY3JlZW4ge1xuICAgIHJldHVybiBuZXcgRml0VG9TY3JlZW4oKTtcbiAgfVxuICBnZXRDdXJyZW50Wm9vbUZhY3RvcigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnpvb207XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgWm9vbU9wdGlvbnM7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQge1xuICBDb3JlVmlld2VyT3B0aW9ucyxcbiAgUGFnZVZpZXdNb2RlIGFzIENvcmVQYWdlVmlld01vZGUsXG59IGZyb20gXCJAdml2bGlvc3R5bGUvY29yZVwiO1xuaW1wb3J0IGtvLCB7IE9ic2VydmFibGUgfSBmcm9tIFwia25vY2tvdXRcIjtcblxuaW1wb3J0IHVybFBhcmFtZXRlcnMgZnJvbSBcIi4uL3N0b3Jlcy91cmwtcGFyYW1ldGVyc1wiO1xuaW1wb3J0IFBhZ2VWaWV3TW9kZSwgeyBQYWdlVmlld01vZGVJbnN0YW5jZSB9IGZyb20gXCIuL3BhZ2Utdmlldy1tb2RlXCI7XG5pbXBvcnQgWm9vbU9wdGlvbnMsIHsgRml0VG9TY3JlZW4gfSBmcm9tIFwiLi96b29tLW9wdGlvbnNcIjtcblxudHlwZSBPcHRpb25zID0ge1xuICByZW5kZXJBbGxQYWdlczogT2JzZXJ2YWJsZTx1bmtub3duPjtcbiAgZm9udFNpemU6IE9ic2VydmFibGU8bnVtYmVyIHwgc3RyaW5nPjtcbiAgcHJvZmlsZTogT2JzZXJ2YWJsZTx1bmtub3duPjtcbiAgcGFnZVZpZXdNb2RlOiBPYnNlcnZhYmxlPFBhZ2VWaWV3TW9kZUluc3RhbmNlPjtcbiAgem9vbTogT2JzZXJ2YWJsZTxab29tT3B0aW9ucz47XG59O1xuXG5pbnRlcmZhY2UgVmlld2VyT3B0aW9uc1R5cGUge1xuICByZW5kZXJBbGxQYWdlczogYm9vbGVhbjtcbiAgZm9udFNpemU6IG51bWJlcjtcbiAgcHJvZmlsZTogYm9vbGVhbjtcbiAgcGFnZVZpZXdNb2RlOiBQYWdlVmlld01vZGVJbnN0YW5jZTtcbiAgem9vbTogRml0VG9TY3JlZW4gfCB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGdldFZpZXdlck9wdGlvbnNGcm9tVVJMKCk6IFZpZXdlck9wdGlvbnNUeXBlIHtcbiAgY29uc3QgcmVuZGVyQWxsUGFnZXMgPSB1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcInJlbmRlckFsbFBhZ2VzXCIpWzBdO1xuICBjb25zdCBmb250U2l6ZVN0ciA9IHVybFBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyKFwiZm9udFNpemVcIilbMF07XG4gIGNvbnN0IHIgPSAvXihbXFxkLl0rKSg/OiglMjV8JSl8XFwvKFtcXGQuXSspKT8kLy5leGVjKGZvbnRTaXplU3RyKTtcbiAgbGV0IGZvbnRTaXplOiBudWxsIHwgbnVtYmVyID0gbnVsbDtcbiAgaWYgKHIpIHtcbiAgICBjb25zdCBbLCBudW0sIHBlcmNlbnQsIGRlbm9tXSA9IHI7XG4gICAgZm9udFNpemUgPSBwYXJzZUZsb2F0KG51bSk7XG4gICAgaWYgKHBlcmNlbnQgfHwgZGVub20pIHtcbiAgICAgIGZvbnRTaXplID0gKDE2ICogZm9udFNpemUpIC8gKHBlcmNlbnQgPyAxMDAgOiBwYXJzZUZsb2F0KGRlbm9tKSk7XG4gICAgfVxuICAgIGlmIChmb250U2l6ZSA8IDUpIGZvbnRTaXplID0gNTtcbiAgICBpZiAoZm9udFNpemUgPiA3MikgZm9udFNpemUgPSA3MjtcbiAgfVxuICByZXR1cm4ge1xuICAgIHJlbmRlckFsbFBhZ2VzOlxuICAgICAgcmVuZGVyQWxsUGFnZXMgPT09IFwidHJ1ZVwiXG4gICAgICAgID8gdHJ1ZVxuICAgICAgICA6IHJlbmRlckFsbFBhZ2VzID09PSBcImZhbHNlXCJcbiAgICAgICAgPyBmYWxzZVxuICAgICAgICA6IG51bGwsXG4gICAgZm9udFNpemUsXG4gICAgcHJvZmlsZTogdXJsUGFyYW1ldGVycy5nZXRQYXJhbWV0ZXIoXCJwcm9maWxlXCIpWzBdID09PSBcInRydWVcIixcbiAgICBwYWdlVmlld01vZGU6IFBhZ2VWaWV3TW9kZS5mcm9tU3ByZWFkVmlld1N0cmluZyhcbiAgICAgIHVybFBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyKFwic3ByZWFkXCIpWzBdLFxuICAgICksXG4gICAgem9vbTogdW5kZWZpbmVkLFxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0VmFsdWVzKCk6IFZpZXdlck9wdGlvbnNUeXBlIHtcbiAgY29uc3QgaXNOb3RCb29rID0gdXJsUGFyYW1ldGVycy5oYXNQYXJhbWV0ZXIoXCJ4XCIpO1xuICByZXR1cm4ge1xuICAgIHJlbmRlckFsbFBhZ2VzOiBpc05vdEJvb2ssXG4gICAgZm9udFNpemU6IDE2LFxuICAgIHByb2ZpbGU6IGZhbHNlLFxuICAgIHBhZ2VWaWV3TW9kZTogUGFnZVZpZXdNb2RlLmRlZmF1bHRNb2RlKCksXG4gICAgem9vbTogWm9vbU9wdGlvbnMuY3JlYXRlRGVmYXVsdE9wdGlvbnMoKSxcbiAgfTtcbn1cblxuY2xhc3MgVmlld2VyT3B0aW9ucyB7XG4gIHJlbmRlckFsbFBhZ2VzOiBPYnNlcnZhYmxlPHVua25vd24+O1xuICBmb250U2l6ZTogT2JzZXJ2YWJsZTxudW1iZXIgfCBzdHJpbmc+O1xuICBwcm9maWxlOiBPYnNlcnZhYmxlPHVua25vd24+O1xuICBwYWdlVmlld01vZGU6IE9ic2VydmFibGU8UGFnZVZpZXdNb2RlSW5zdGFuY2U+O1xuICB6b29tOiBPYnNlcnZhYmxlPFpvb21PcHRpb25zPjtcblxuICBzdGF0aWMgZ2V0RGVmYXVsdFZhbHVlczogKCkgPT4ge1xuICAgIHJlbmRlckFsbFBhZ2VzOiBib29sZWFuO1xuICAgIGZvbnRTaXplOiBudW1iZXI7XG4gICAgcHJvZmlsZTogYm9vbGVhbjtcbiAgICBwYWdlVmlld01vZGU6IHVua25vd247XG4gICAgem9vbTogRml0VG9TY3JlZW47XG4gIH07XG5cbiAgY29uc3RydWN0b3Iob3B0aW9ucz86IE9wdGlvbnMpIHtcbiAgICB0aGlzLnJlbmRlckFsbFBhZ2VzID0ga28ub2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuZm9udFNpemUgPSBrby5vYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5wcm9maWxlID0ga28ub2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMucGFnZVZpZXdNb2RlID0ga28ub2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuem9vbSA9IGtvLm9ic2VydmFibGUoKTtcblxuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICB0aGlzLmNvcHlGcm9tKG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkZWZhdWx0VmFsdWVzID0gZ2V0RGVmYXVsdFZhbHVlcygpO1xuICAgICAgY29uc3QgdXJsT3B0aW9ucyA9IGdldFZpZXdlck9wdGlvbnNGcm9tVVJMKCk7XG4gICAgICB0aGlzLnJlbmRlckFsbFBhZ2VzKFxuICAgICAgICB1cmxPcHRpb25zLnJlbmRlckFsbFBhZ2VzICE9PSBudWxsXG4gICAgICAgICAgPyB1cmxPcHRpb25zLnJlbmRlckFsbFBhZ2VzXG4gICAgICAgICAgOiBkZWZhdWx0VmFsdWVzLnJlbmRlckFsbFBhZ2VzLFxuICAgICAgKTtcbiAgICAgIHRoaXMuZm9udFNpemUodXJsT3B0aW9ucy5mb250U2l6ZSB8fCBkZWZhdWx0VmFsdWVzLmZvbnRTaXplKTtcbiAgICAgIHRoaXMucHJvZmlsZSh1cmxPcHRpb25zLnByb2ZpbGUgfHwgZGVmYXVsdFZhbHVlcy5wcm9maWxlKTtcbiAgICAgIHRoaXMucGFnZVZpZXdNb2RlKHVybE9wdGlvbnMucGFnZVZpZXdNb2RlIHx8IGRlZmF1bHRWYWx1ZXMucGFnZVZpZXdNb2RlKTtcbiAgICAgIHRoaXMuem9vbShkZWZhdWx0VmFsdWVzLnpvb20pO1xuXG4gICAgICAvLyB3cml0ZSBzcHJlYWQgcGFyYW1ldGVyIGJhY2sgdG8gVVJMIHdoZW4gdXBkYXRlZFxuICAgICAgdGhpcy5wYWdlVmlld01vZGUuc3Vic2NyaWJlKChwYWdlVmlld01vZGUpID0+IHtcbiAgICAgICAgaWYgKHBhZ2VWaWV3TW9kZSA9PT0gZGVmYXVsdFZhbHVlcy5wYWdlVmlld01vZGUpIHtcbiAgICAgICAgICB1cmxQYXJhbWV0ZXJzLnJlbW92ZVBhcmFtZXRlcihcInNwcmVhZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cmxQYXJhbWV0ZXJzLnNldFBhcmFtZXRlcihcbiAgICAgICAgICAgIFwic3ByZWFkXCIsXG4gICAgICAgICAgICBwYWdlVmlld01vZGUudG9TcHJlYWRWaWV3U3RyaW5nKCksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLnJlbmRlckFsbFBhZ2VzLnN1YnNjcmliZSgocmVuZGVyQWxsUGFnZXMpID0+IHtcbiAgICAgICAgaWYgKHJlbmRlckFsbFBhZ2VzID09PSBkZWZhdWx0VmFsdWVzLnJlbmRlckFsbFBhZ2VzKSB7XG4gICAgICAgICAgdXJsUGFyYW1ldGVycy5yZW1vdmVQYXJhbWV0ZXIoXCJyZW5kZXJBbGxQYWdlc1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cmxQYXJhbWV0ZXJzLnNldFBhcmFtZXRlcihcbiAgICAgICAgICAgIFwicmVuZGVyQWxsUGFnZXNcIixcbiAgICAgICAgICAgIHJlbmRlckFsbFBhZ2VzLnRvU3RyaW5nKCksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLmZvbnRTaXplLnN1YnNjcmliZSgoZm9udFNpemUpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBmb250U2l6ZSA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgZm9udFNpemUgPSBmb250U2l6ZVxuICAgICAgICAgICAgLnRvUHJlY2lzaW9uKDEwKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyg/OlxcLjAqfChcXC5cXGQqPykwKykkLywgXCIkMVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTnVtYmVyKGZvbnRTaXplKSA9PSBkZWZhdWx0VmFsdWVzLmZvbnRTaXplKSB7XG4gICAgICAgICAgdXJsUGFyYW1ldGVycy5yZW1vdmVQYXJhbWV0ZXIoXCJmb250U2l6ZVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cmxQYXJhbWV0ZXJzLnNldFBhcmFtZXRlcihcbiAgICAgICAgICAgIFwiZm9udFNpemVcIixcbiAgICAgICAgICAgIGAke2ZvbnRTaXplfS8ke2RlZmF1bHRWYWx1ZXMuZm9udFNpemV9YCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjb3B5RnJvbShvdGhlcjogT3B0aW9ucyk6IHZvaWQge1xuICAgIHRoaXMucmVuZGVyQWxsUGFnZXMob3RoZXIucmVuZGVyQWxsUGFnZXMoKSk7XG4gICAgdGhpcy5mb250U2l6ZShvdGhlci5mb250U2l6ZSgpKTtcbiAgICB0aGlzLnByb2ZpbGUob3RoZXIucHJvZmlsZSgpKTtcbiAgICB0aGlzLnBhZ2VWaWV3TW9kZShvdGhlci5wYWdlVmlld01vZGUoKSk7XG4gICAgdGhpcy56b29tKG90aGVyLnpvb20oKSk7XG4gIH1cblxuICB0b09iamVjdCgpOiBDb3JlVmlld2VyT3B0aW9ucyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlbmRlckFsbFBhZ2VzOiB0aGlzLnJlbmRlckFsbFBhZ2VzKCkgYXMgYm9vbGVhbixcbiAgICAgIGZvbnRTaXplOiBOdW1iZXIodGhpcy5mb250U2l6ZSgpKSxcbiAgICAgIHBhZ2VWaWV3TW9kZTogdGhpcy5wYWdlVmlld01vZGUoKS50b1N0cmluZygpIGFzIENvcmVQYWdlVmlld01vZGUsXG4gICAgICBmaXRUb1NjcmVlbjogdGhpcy56b29tKCkuZml0VG9TY3JlZW4sXG4gICAgICB6b29tOiB0aGlzLnpvb20oKS56b29tLFxuICAgIH07XG4gIH1cbn1cblxuVmlld2VyT3B0aW9ucy5nZXREZWZhdWx0VmFsdWVzID0gZ2V0RGVmYXVsdFZhbHVlcztcblxuZXhwb3J0IGRlZmF1bHQgVmlld2VyT3B0aW9ucztcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBtZXNzYWdlUXVldWUgZnJvbSBcIi4uL21vZGVscy9tZXNzYWdlLXF1ZXVlXCI7XG5cbmVudW0gTG9nTGV2ZWwge1xuICBEZWJ1ZyA9IFwiZGVidWdcIixcbiAgSW5mbyA9IFwiaW5mb1wiLFxuICBXYXJuID0gXCJ3YXJuXCIsXG4gIEVycm9yID0gXCJlcnJvclwiLFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2dnZXIge1xuICBsb2dMZXZlbDogTG9nTGV2ZWw7XG5cbiAgc3RhdGljIGdldExvZ2dlcigpOiBMb2dnZXIge1xuICAgIHJldHVybiBuZXcgTG9nZ2VyKCk7XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmxvZ0xldmVsID0gTG9nTGV2ZWwuRXJyb3I7XG4gIH1cblxuICBzZXRMb2dMZXZlbChsb2dMZXZlbCk6IHZvaWQge1xuICAgIHRoaXMubG9nTGV2ZWwgPSBsb2dMZXZlbDtcbiAgfVxuXG4gIGRlYnVnKGNvbnRlbnQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5sb2dMZXZlbCA9PT0gTG9nTGV2ZWwuRGVidWcpIHtcbiAgICAgIG1lc3NhZ2VRdWV1ZS5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJkZWJ1Z1wiLFxuICAgICAgICBjb250ZW50LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaW5mbyhjb250ZW50KTogdm9pZCB7XG4gICAgaWYgKHRoaXMubG9nTGV2ZWwgPT09IExvZ0xldmVsLkRlYnVnIHx8IHRoaXMubG9nTGV2ZWwgPT09IExvZ0xldmVsLkluZm8pIHtcbiAgICAgIG1lc3NhZ2VRdWV1ZS5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJpbmZvXCIsXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB3YXJuKGNvbnRlbnQpOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmxvZ0xldmVsID09PSBMb2dMZXZlbC5EZWJ1ZyB8fFxuICAgICAgdGhpcy5sb2dMZXZlbCA9PT0gTG9nTGV2ZWwuSW5mbyB8fFxuICAgICAgdGhpcy5sb2dMZXZlbCA9PT0gTG9nTGV2ZWwuV2FyblxuICAgICkge1xuICAgICAgbWVzc2FnZVF1ZXVlLnB1c2goe1xuICAgICAgICB0eXBlOiBcIndhcm5cIixcbiAgICAgICAgY29udGVudCxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGVycm9yKGNvbnRlbnQpOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmxvZ0xldmVsID09PSBMb2dMZXZlbC5EZWJ1ZyB8fFxuICAgICAgdGhpcy5sb2dMZXZlbCA9PT0gTG9nTGV2ZWwuSW5mbyB8fFxuICAgICAgdGhpcy5sb2dMZXZlbCA9PT0gTG9nTGV2ZWwuV2FybiB8fFxuICAgICAgdGhpcy5sb2dMZXZlbCA9PT0gTG9nTGV2ZWwuRXJyb3JcbiAgICApIHtcbiAgICAgIG1lc3NhZ2VRdWV1ZS5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICBjb250ZW50LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQga28sIHsgT2JzZXJ2YWJsZUFycmF5IH0gZnJvbSBcImtub2Nrb3V0XCI7XG5cbmV4cG9ydCB0eXBlIE1lc3NhZ2VRdWV1ZSA9IE9ic2VydmFibGVBcnJheTx1bmtub3duPjtcblxuZnVuY3Rpb24gbWVzc2FnZVF1ZXVlKCk6IE1lc3NhZ2VRdWV1ZSB7XG4gIHJldHVybiBrby5vYnNlcnZhYmxlQXJyYXkoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWVzc2FnZVF1ZXVlKCk7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQga28sIHsgUHVyZUNvbXB1dGVkLCBPYnNlcnZhYmxlIH0gZnJvbSBcImtub2Nrb3V0XCI7XG5cbmV4cG9ydCB0eXBlIFJlYWRvbmx5T2JzZXJ2YWJsZTxUPiA9IHtcbiAgZ2V0dGVyOiBQdXJlQ29tcHV0ZWQ8VD47XG4gIHZhbHVlOiBPYnNlcnZhYmxlPFQ+O1xufTtcblxuY29uc3QgdXRpbCA9IHtcbiAgcmVhZG9ubHlPYnNlcnZhYmxlPFQ+KHZhbHVlOiBUKTogUmVhZG9ubHlPYnNlcnZhYmxlPFQ+IHtcbiAgICBjb25zdCBvYnMgPSBrby5vYnNlcnZhYmxlKHZhbHVlKTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0dGVyOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT4gb2JzKCkpLFxuICAgICAgdmFsdWU6IG9icyxcbiAgICB9O1xuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgdXRpbDtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE4IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCB7XG4gIENvcmVWaWV3ZXIsXG4gIE5hdmlnYXRpb24sXG4gIFJlYWR5U3RhdGUsXG4gIFBhZ2VQcm9ncmVzc2lvbixcbiAgcHJvZmlsZXIsXG59IGZyb20gXCJAdml2bGlvc3R5bGUvY29yZVwiO1xuaW1wb3J0IGtvLCB7IE9ic2VydmFibGUsIFB1cmVDb21wdXRlZCB9IGZyb20gXCJrbm9ja291dFwiO1xuXG5pbXBvcnQgRG9jdW1lbnRPcHRpb25zIGZyb20gXCIuLi9tb2RlbHMvZG9jdW1lbnQtb3B0aW9uc1wiO1xuaW1wb3J0IFZpZXdlck9wdGlvbnMgZnJvbSBcIi4uL21vZGVscy92aWV3ZXItb3B0aW9uc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2luZy9sb2dnZXJcIjtcbmltcG9ydCBvYnMsIHsgUmVhZG9ubHlPYnNlcnZhYmxlIH0gZnJvbSBcIi4uL3V0aWxzL29ic2VydmFibGUtdXRpbFwiO1xuXG50eXBlIFN0YXRlID0ge1xuICBzdGF0dXM6IFB1cmVDb21wdXRlZDx1bmtub3duPjtcbiAgcGFnZVByb2dyZXNzaW9uOiBQdXJlQ29tcHV0ZWQ8dW5rbm93bj47XG4gIG5hdmlnYXRhYmxlPzogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xufTtcblxudHlwZSBQcml2YXRlU3RhdGUgPSB7XG4gIHN0YXR1czogUmVhZG9ubHlPYnNlcnZhYmxlPHVua25vd24+O1xuICBwYWdlUHJvZ3Jlc3Npb246IFJlYWRvbmx5T2JzZXJ2YWJsZTx1bmtub3duPjtcbn07XG5cbmV4cG9ydCB0eXBlIFZpZXdlclNldHRpbmdzID0ge1xuICB1c2VyQWdlbnRSb290VVJMOiBzdHJpbmc7XG4gIHZpZXdwb3J0RWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gIGRlYnVnOiBib29sZWFuO1xufTtcblxuY2xhc3MgVmlld2VyIHtcbiAgcHJpdmF0ZSB2aWV3ZXJPcHRpb25zXzogVmlld2VyT3B0aW9ucztcbiAgcHJpdmF0ZSBjb3JlVmlld2VyXzogQ29yZVZpZXdlcjtcbiAgcHJpdmF0ZSBzdGF0ZV86IFByaXZhdGVTdGF0ZTtcblxuICAvLyBGSVhNRTogSW4gdXNlZCBpbiB2aWV3bW9kZWxzL25hdmlnYXRpb24uIFRoaXMgcHJvcGVydHkgaXMgZGVzaXJhYmxlIHByaXZhdGUgYWNjZXNzLlxuICBkb2N1bWVudE9wdGlvbnNfOiBudWxsIHwgRG9jdW1lbnRPcHRpb25zO1xuXG4gIGVwYWdlOiBPYnNlcnZhYmxlPHVua25vd24+O1xuICBlcGFnZUNvdW50OiBPYnNlcnZhYmxlPG51bWJlcj47XG4gIGZpcnN0UGFnZTogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgaW5wdXRVcmw6IE9ic2VydmFibGU8c3RyaW5nPjtcbiAgc3RhdGU6IFN0YXRlO1xuICBsYXN0UGFnZTogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgdG9jVmlzaWJsZTogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgdG9jUGlubmVkOiBPYnNlcnZhYmxlPHVua25vd24+O1xuXG4gIGNvbnN0cnVjdG9yKHZpZXdlclNldHRpbmdzPzogVmlld2VyU2V0dGluZ3MsIHZpZXdlck9wdGlvbnM/OiBWaWV3ZXJPcHRpb25zKSB7XG4gICAgdGhpcy52aWV3ZXJPcHRpb25zXyA9IHZpZXdlck9wdGlvbnM7XG4gICAgdGhpcy5kb2N1bWVudE9wdGlvbnNfID0gbnVsbDtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfID0gbmV3IENvcmVWaWV3ZXIodmlld2VyU2V0dGluZ3MsIHZpZXdlck9wdGlvbnMudG9PYmplY3QoKSk7XG4gICAgY29uc3Qgc3RhdGVfID0gKHRoaXMuc3RhdGVfID0ge1xuICAgICAgc3RhdHVzOiBvYnMucmVhZG9ubHlPYnNlcnZhYmxlKFJlYWR5U3RhdGUuTE9BRElORyksXG4gICAgICBwYWdlUHJvZ3Jlc3Npb246IG9icy5yZWFkb25seU9ic2VydmFibGUoUGFnZVByb2dyZXNzaW9uLkxUUiksXG4gICAgfSk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHN0YXR1czogc3RhdGVfLnN0YXR1cy5nZXR0ZXIuZXh0ZW5kKHtcbiAgICAgICAgcmF0ZUxpbWl0OiB7IHRpbWVvdXQ6IDEwMCwgbWV0aG9kOiBcIm5vdGlmeVdoZW5DaGFuZ2VzU3RvcFwiIH0sXG4gICAgICAgIG5vdGlmeTogXCJhbHdheXNcIixcbiAgICAgIH0pLFxuICAgICAgbmF2aWdhdGFibGU6IGtvLnB1cmVDb21wdXRlZChcbiAgICAgICAgKCkgPT5cbiAgICAgICAgICBzdGF0ZV8uc3RhdHVzLnZhbHVlKCkgJiYgc3RhdGVfLnN0YXR1cy52YWx1ZSgpICE9PSBSZWFkeVN0YXRlLkxPQURJTkcsXG4gICAgICApLFxuICAgICAgcGFnZVByb2dyZXNzaW9uOiBzdGF0ZV8ucGFnZVByb2dyZXNzaW9uLmdldHRlcixcbiAgICB9O1xuXG4gICAgdGhpcy5lcGFnZSA9IGtvLm9ic2VydmFibGUoKTtcbiAgICB0aGlzLmVwYWdlQ291bnQgPSBrby5vYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5maXJzdFBhZ2UgPSBrby5vYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5sYXN0UGFnZSA9IGtvLm9ic2VydmFibGUoKTtcbiAgICB0aGlzLnRvY1Zpc2libGUgPSBrby5vYnNlcnZhYmxlKCk7XG4gICAgdGhpcy50b2NQaW5uZWQgPSBrby5vYnNlcnZhYmxlKCk7XG5cbiAgICB0aGlzLmlucHV0VXJsID0ga28ub2JzZXJ2YWJsZShcIlwiKTtcblxuICAgIHRoaXMuc2V0dXBWaWV3ZXJFdmVudEhhbmRsZXIoKTtcbiAgICB0aGlzLnNldHVwVmlld2VyT3B0aW9uU3Vic2NyaXB0aW9ucygpO1xuICB9XG5cbiAgc2V0dXBWaWV3ZXJFdmVudEhhbmRsZXIoKTogdm9pZCB7XG4gICAgY29uc3QgbG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcigpO1xuICAgIHRoaXMuY29yZVZpZXdlcl8uYWRkTGlzdGVuZXIoXCJkZWJ1Z1wiLCAocGF5bG9hZCkgPT4ge1xuICAgICAgbG9nZ2VyLmRlYnVnKHBheWxvYWQuY29udGVudCk7XG4gICAgfSk7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5hZGRMaXN0ZW5lcihcImluZm9cIiwgKHBheWxvYWQpID0+IHtcbiAgICAgIGxvZ2dlci5pbmZvKHBheWxvYWQuY29udGVudCk7XG4gICAgfSk7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5hZGRMaXN0ZW5lcihcIndhcm5cIiwgKHBheWxvYWQpID0+IHtcbiAgICAgIGxvZ2dlci53YXJuKHBheWxvYWQuY29udGVudCk7XG4gICAgfSk7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5hZGRMaXN0ZW5lcihcImVycm9yXCIsIChwYXlsb2FkKSA9PiB7XG4gICAgICBsb2dnZXIuZXJyb3IocGF5bG9hZC5jb250ZW50KTtcbiAgICB9KTtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLmFkZExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCByZWFkeVN0YXRlID0gdGhpcy5jb3JlVmlld2VyXy5yZWFkeVN0YXRlO1xuICAgICAgaWYgKFxuICAgICAgICByZWFkeVN0YXRlID09PSBSZWFkeVN0YXRlLklOVEVSQUNUSVZFIHx8XG4gICAgICAgIHJlYWR5U3RhdGUgPT09IFJlYWR5U3RhdGUuQ09NUExFVEVcbiAgICAgICkge1xuICAgICAgICB0aGlzLnN0YXRlXy5wYWdlUHJvZ3Jlc3Npb24udmFsdWUoXG4gICAgICAgICAgdGhpcy5jb3JlVmlld2VyXy5nZXRDdXJyZW50UGFnZVByb2dyZXNzaW9uKCksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aGlzLnN0YXRlXy5zdGF0dXMudmFsdWUocmVhZHlTdGF0ZSk7XG4gICAgfSk7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5hZGRMaXN0ZW5lcihcImxvYWRlZFwiLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy52aWV3ZXJPcHRpb25zXy5wcm9maWxlKCkpIHtcbiAgICAgICAgcHJvZmlsZXIucHJpbnRUaW1pbmdzKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5hZGRMaXN0ZW5lcihcIm5hdlwiLCAocGF5bG9hZCkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBjZmksXG4gICAgICAgIGZpcnN0LFxuICAgICAgICBsYXN0LFxuICAgICAgICBlcGFnZSxcbiAgICAgICAgZXBhZ2VDb3VudCxcbiAgICAgICAgbWV0YWRhdGEsXG4gICAgICAgIGRvY1RpdGxlLFxuICAgICAgfSA9IHBheWxvYWQ7XG5cbiAgICAgIGlmIChjZmkpIHtcbiAgICAgICAgdGhpcy5kb2N1bWVudE9wdGlvbnNfLmZyYWdtZW50KGNmaSk7XG4gICAgICB9XG4gICAgICBpZiAoZmlyc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmZpcnN0UGFnZShmaXJzdCk7XG4gICAgICB9XG4gICAgICBpZiAobGFzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMubGFzdFBhZ2UobGFzdCk7XG4gICAgICB9XG4gICAgICBpZiAoZXBhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmVwYWdlKGVwYWdlKTtcbiAgICAgIH1cbiAgICAgIGlmIChlcGFnZUNvdW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5lcGFnZUNvdW50KGVwYWdlQ291bnQpO1xuICAgICAgfVxuICAgICAgaWYgKG1ldGFkYXRhIHx8IGRvY1RpdGxlKSB7XG4gICAgICAgIGNvbnN0IHB1YlRpdGxlcyA9XG4gICAgICAgICAgbWV0YWRhdGEgJiYgbWV0YWRhdGFbXCJodHRwOi8vcHVybC5vcmcvZGMvdGVybXMvdGl0bGVcIl07XG4gICAgICAgIGNvbnN0IHB1YlRpdGxlID0gcHViVGl0bGVzICYmIHB1YlRpdGxlc1swXSAmJiBwdWJUaXRsZXNbMF1bXCJ2XCJdO1xuICAgICAgICBpZiAoIXB1YlRpdGxlKSB7XG4gICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBkb2NUaXRsZSA/IGRvY1RpdGxlIDogXCJWaXZsaW9zdHlsZSBWaWV3ZXJcIjtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAhZG9jVGl0bGUgfHxcbiAgICAgICAgICBkb2NUaXRsZSA9PT0gcHViVGl0bGUgfHxcbiAgICAgICAgICB0aGlzLmZpcnN0UGFnZSgpIHx8XG4gICAgICAgICAgL1xcLnhodG1sJC8udGVzdChkb2NUaXRsZSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gaWdub3JlIHVnbHkgdGl0bGVzIGNvcGllZCBmcm9tICoueGh0bWwgZmlsZSBuYW1lXG4gICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBwdWJUaXRsZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IGAke2RvY1RpdGxlfSB8ICR7cHViVGl0bGV9YDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCB0b2NWaXNpYmxlT2xkID0gdGhpcy50b2NWaXNpYmxlKCk7XG4gICAgICBjb25zdCB0b2NWaXNpYmxlTmV3ID0gdGhpcy5jb3JlVmlld2VyXy5pc1RPQ1Zpc2libGUoKTtcbiAgICAgIGlmICh0b2NWaXNpYmxlT2xkICYmICF0b2NWaXNpYmxlTmV3KSB7XG4gICAgICAgIC8vIFdoZW4gcmVzaXplLCBUT0MgYm94IHdpbGwgYmUgcmVnZW5lcmF0ZWQgYW5kIGhpZGRlbiB0ZW1wb3JhcmlseS5cbiAgICAgICAgLy8gU28ga2VlcCBUT0MgdG9nZ2xlIGJ1dHRvbiBzdGF0dXMgb24uXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRvY1Zpc2libGUodG9jVmlzaWJsZU5ldyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5hZGRMaXN0ZW5lcihcImh5cGVybGlua1wiLCAocGF5bG9hZCkgPT4ge1xuICAgICAgaWYgKHBheWxvYWQuaW50ZXJuYWwpIHtcbiAgICAgICAgdGhpcy5uYXZpZ2F0ZVRvSW50ZXJuYWxVcmwocGF5bG9hZC5ocmVmKTtcblxuICAgICAgICAvLyBXaGVuIG5hdmlnYXRlIGZyb20gVE9DLCBUT0MgYm94IG1heSBvciBtYXkgbm90IGJlY29tZSBoaWRkZW4gYnkgYXV0b2hpZGUuXG4gICAgICAgIC8vIEhlcmUgc2V0IHRvY1Zpc2libGUgZmFsc2UgYW5kIGl0IG1heSBiZWNvbWUgdHJ1ZSBhZ2FpbiBpbiBcIm5hdlwiIGV2ZW50LlxuICAgICAgICBpZiAodGhpcy50b2NWaXNpYmxlKCkpIHtcbiAgICAgICAgICB0aGlzLnRvY1Zpc2libGUoZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aXZsaW9zdHlsZS12aWV3ZXItdmlld3BvcnRcIikuZm9jdXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcGF5bG9hZC5ocmVmO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc2V0dXBWaWV3ZXJPcHRpb25TdWJzY3JpcHRpb25zKCk6IHZvaWQge1xuICAgIGtvLmNvbXB1dGVkKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3Qgdmlld2VyT3B0aW9ucyA9IHRoaXMudmlld2VyT3B0aW9uc18udG9PYmplY3QoKTtcbiAgICAgIHRoaXMuY29yZVZpZXdlcl8uc2V0T3B0aW9ucyh2aWV3ZXJPcHRpb25zKTtcbiAgICB9LCB0aGlzKS5leHRlbmQoeyByYXRlTGltaXQ6IDAgfSk7XG4gIH1cblxuICBsb2FkRG9jdW1lbnQoXG4gICAgZG9jdW1lbnRPcHRpb25zOiBEb2N1bWVudE9wdGlvbnMsXG4gICAgdmlld2VyT3B0aW9uczogVmlld2VyT3B0aW9ucyxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5zdGF0ZV8uc3RhdHVzLnZhbHVlKFJlYWR5U3RhdGUuTE9BRElORyk7XG4gICAgaWYgKHZpZXdlck9wdGlvbnMpIHtcbiAgICAgIHRoaXMudmlld2VyT3B0aW9uc18uY29weUZyb20odmlld2VyT3B0aW9ucyk7XG4gICAgfVxuICAgIHRoaXMuZG9jdW1lbnRPcHRpb25zXyA9IGRvY3VtZW50T3B0aW9ucztcblxuICAgIGlmIChkb2N1bWVudE9wdGlvbnMueFVybCgpKSB7XG4gICAgICB0aGlzLmNvcmVWaWV3ZXJfLmxvYWREb2N1bWVudChcbiAgICAgICAgZG9jdW1lbnRPcHRpb25zLnhVcmwoKSxcbiAgICAgICAgZG9jdW1lbnRPcHRpb25zLnRvT2JqZWN0KCksXG4gICAgICAgIHRoaXMudmlld2VyT3B0aW9uc18udG9PYmplY3QoKSxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudE9wdGlvbnMuYm9va1VybCgpKSB7XG4gICAgICB0aGlzLmNvcmVWaWV3ZXJfLmxvYWRQdWJsaWNhdGlvbihcbiAgICAgICAgZG9jdW1lbnRPcHRpb25zLmJvb2tVcmwoKSxcbiAgICAgICAgZG9jdW1lbnRPcHRpb25zLnRvT2JqZWN0KCksXG4gICAgICAgIHRoaXMudmlld2VyT3B0aW9uc18udG9PYmplY3QoKSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vIGRvY3VtZW50IHNwZWNpZmllZCwgc2hvdyB3ZWxjb21lIHBhZ2VcbiAgICAgIHRoaXMuc3RhdGVfLnN0YXR1cy52YWx1ZShcIlwiKTtcbiAgICB9XG4gIH1cblxuICBuYXZpZ2F0ZVRvUHJldmlvdXMoKTogdm9pZCB7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5uYXZpZ2F0ZVRvUGFnZShOYXZpZ2F0aW9uLlBSRVZJT1VTKTtcbiAgfVxuXG4gIG5hdmlnYXRlVG9OZXh0KCk6IHZvaWQge1xuICAgIHRoaXMuY29yZVZpZXdlcl8ubmF2aWdhdGVUb1BhZ2UoTmF2aWdhdGlvbi5ORVhUKTtcbiAgfVxuXG4gIG5hdmlnYXRlVG9MZWZ0KCk6IHZvaWQge1xuICAgIHRoaXMuY29yZVZpZXdlcl8ubmF2aWdhdGVUb1BhZ2UoTmF2aWdhdGlvbi5MRUZUKTtcbiAgfVxuXG4gIG5hdmlnYXRlVG9SaWdodCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLm5hdmlnYXRlVG9QYWdlKE5hdmlnYXRpb24uUklHSFQpO1xuICB9XG5cbiAgbmF2aWdhdGVUb0ZpcnN0KCk6IHZvaWQge1xuICAgIHRoaXMuY29yZVZpZXdlcl8ubmF2aWdhdGVUb1BhZ2UoTmF2aWdhdGlvbi5GSVJTVCk7XG4gIH1cblxuICBuYXZpZ2F0ZVRvTGFzdCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLm5hdmlnYXRlVG9QYWdlKE5hdmlnYXRpb24uTEFTVCk7XG4gIH1cblxuICBuYXZpZ2F0ZVRvRVBhZ2UoZXBhZ2UpOiB2b2lkIHtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLm5hdmlnYXRlVG9QYWdlKE5hdmlnYXRpb24uRVBBR0UsIGVwYWdlKTtcbiAgfVxuXG4gIG5hdmlnYXRlVG9JbnRlcm5hbFVybChocmVmKTogdm9pZCB7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5uYXZpZ2F0ZVRvSW50ZXJuYWxVcmwoaHJlZik7XG4gIH1cblxuICBxdWVyeVpvb21GYWN0b3IodHlwZSk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuY29yZVZpZXdlcl8ucXVlcnlab29tRmFjdG9yKHR5cGUpO1xuICB9XG5cbiAgZXBhZ2VUb1BhZ2VOdW1iZXIoZXBhZ2UpOiBudW1iZXIge1xuICAgIGlmICghZXBhZ2UgJiYgZXBhZ2UgIT0gMCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgcGFnZU51bWJlciA9IE1hdGgucm91bmQoZXBhZ2UgKyAxKTtcbiAgICByZXR1cm4gcGFnZU51bWJlcjtcbiAgfVxuICBlcGFnZUZyb21QYWdlTnVtYmVyKHBhZ2VOdW1iZXIpOiBudW1iZXIge1xuICAgIGlmICghcGFnZU51bWJlciAmJiBwYWdlTnVtYmVyICE9IDApIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IGVwYWdlID0gcGFnZU51bWJlciAtIDE7XG4gICAgcmV0dXJuIGVwYWdlO1xuICB9XG5cbiAgc2hvd1RPQyhzaG93bj86IGJvb2xlYW4sIGF1dG9IaWRlPzogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmICh0aGlzLmNvcmVWaWV3ZXJfLmlzVE9DVmlzaWJsZSgpID09IG51bGwpIHtcbiAgICAgIC8vIFRPQyBpcyB1bmF2YWlsYWJsZVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzaG93ID0gc2hvd24gPT0gbnVsbCA/ICF0aGlzLnRvY1Zpc2libGUoKSA6IHNob3duO1xuICAgIHRoaXMudG9jVmlzaWJsZShzaG93KTtcbiAgICB0aGlzLnRvY1Bpbm5lZChzaG93ID8gIWF1dG9IaWRlIDogZmFsc2UpO1xuICAgIHRoaXMuY29yZVZpZXdlcl8uc2hvd1RPQyhzaG93LCBhdXRvSGlkZSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlld2VyO1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuLy8gY2YuIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy1rZXkvXG5jb25zdCBLZXlzID0ge1xuICBVbmlkZW50aWZpZWQ6IFwiVW5pZGVudGlmaWVkXCIsXG4gIEFycm93RG93bjogXCJBcnJvd0Rvd25cIixcbiAgQXJyb3dMZWZ0OiBcIkFycm93TGVmdFwiLFxuICBBcnJvd1JpZ2h0OiBcIkFycm93UmlnaHRcIixcbiAgQXJyb3dVcDogXCJBcnJvd1VwXCIsXG4gIEhvbWU6IFwiSG9tZVwiLFxuICBFbmQ6IFwiRW5kXCIsXG4gIFBhZ2VEb3duOiBcIlBhZ2VEb3duXCIsXG4gIFBhZ2VVcDogXCJQYWdlVXBcIixcbiAgRXNjYXBlOiBcIkVzY2FwZVwiLFxuICBFbnRlcjogXCJFbnRlclwiLFxuICBTcGFjZTogXCIgXCIsXG59O1xuXG4vLyBDQVVUSU9OOiBUaGlzIGZ1bmN0aW9uIGNvdmVycyBvbmx5IHBhcnQgb2YgY29tbW9uIGtleXMgb24gYSBrZXlib2FyZC4gS2V5cyBub3QgY292ZXJlZCBieSB0aGUgaW1wbGVtZW50YXRpb24gYXJlIGlkZW50aWZpZWQgYXMgS2V5Ym9hcmRFdmVudC5rZXksIEtleWJvYXJkRXZlbnQua2V5SWRlbnRpZmllciwgb3IgXCJVbmlkZW50aWZpZWRcIi5cbmZ1bmN0aW9uIGlkZW50aWZ5S2V5RnJvbUV2ZW50KGV2ZW50KTogdHlwZW9mIEtleXNba2V5b2YgdHlwZW9mIEtleXNdIHtcbiAgY29uc3Qga2V5ID0gZXZlbnQua2V5O1xuICBjb25zdCBrZXlJZGVudGlmaWVyID0gZXZlbnQua2V5SWRlbnRpZmllcjtcbiAgY29uc3QgbG9jYXRpb24gPSBldmVudC5sb2NhdGlvbjtcbiAgaWYgKGtleSA9PT0gS2V5cy5BcnJvd0Rvd24gfHwga2V5ID09PSBcIkRvd25cIiB8fCBrZXlJZGVudGlmaWVyID09PSBcIkRvd25cIikge1xuICAgIGlmIChldmVudC5tZXRhS2V5KSB7XG4gICAgICAvLyBNYWMgQ21kK0Rvd24gLT4gRW5kXG4gICAgICByZXR1cm4gS2V5cy5FbmQ7XG4gICAgfVxuICAgIHJldHVybiBLZXlzLkFycm93RG93bjtcbiAgfSBlbHNlIGlmIChcbiAgICBrZXkgPT09IEtleXMuQXJyb3dMZWZ0IHx8XG4gICAga2V5ID09PSBcIkxlZnRcIiB8fFxuICAgIGtleUlkZW50aWZpZXIgPT09IFwiTGVmdFwiXG4gICkge1xuICAgIHJldHVybiBLZXlzLkFycm93TGVmdDtcbiAgfSBlbHNlIGlmIChcbiAgICBrZXkgPT09IEtleXMuQXJyb3dSaWdodCB8fFxuICAgIGtleSA9PT0gXCJSaWdodFwiIHx8XG4gICAga2V5SWRlbnRpZmllciA9PT0gXCJSaWdodFwiXG4gICkge1xuICAgIHJldHVybiBLZXlzLkFycm93UmlnaHQ7XG4gIH0gZWxzZSBpZiAoa2V5ID09PSBLZXlzLkFycm93VXAgfHwga2V5ID09PSBcIlVwXCIgfHwga2V5SWRlbnRpZmllciA9PT0gXCJVcFwiKSB7XG4gICAgaWYgKGV2ZW50Lm1ldGFLZXkpIHtcbiAgICAgIC8vIE1hYyBDbWQrVXAgLT4gSG9tZVxuICAgICAgcmV0dXJuIEtleXMuSG9tZTtcbiAgICB9XG4gICAgcmV0dXJuIEtleXMuQXJyb3dVcDtcbiAgfSBlbHNlIGlmIChcbiAgICBrZXkgPT09IEtleXMuRXNjYXBlIHx8XG4gICAga2V5ID09PSBcIkVzY1wiIHx8XG4gICAga2V5SWRlbnRpZmllciA9PT0gXCJVKzAwMUJcIlxuICApIHtcbiAgICByZXR1cm4gS2V5cy5Fc2NhcGU7XG4gIH0gZWxzZSBpZiAoa2V5ID09PSBLZXlzLkVudGVyIHx8IGtleUlkZW50aWZpZXIgPT09IFwiRW50ZXJcIikge1xuICAgIHJldHVybiBLZXlzLkVudGVyO1xuICB9IGVsc2UgaWYgKGtleSA9PT0gS2V5cy5TcGFjZSB8fCBrZXlJZGVudGlmaWVyID09PSBcIlUrMDAyMFwiKSB7XG4gICAgcmV0dXJuIEtleXMuU3BhY2U7XG4gIH0gZWxzZSBpZiAoa2V5ID09PSBcIjBcIiB8fCBrZXlJZGVudGlmaWVyID09PSBcIlUrMDAzMFwiKSB7XG4gICAgcmV0dXJuIFwiMFwiO1xuICB9IGVsc2UgaWYgKFxuICAgIGtleSA9PT0gXCIrXCIgfHxcbiAgICBrZXkgPT09IFwiQWRkXCIgfHxcbiAgICBrZXlJZGVudGlmaWVyID09PSBcIlUrMDAyQlwiIHx8XG4gICAga2V5SWRlbnRpZmllciA9PT0gXCJVKzAwQkJcIiB8fFxuICAgIChrZXlJZGVudGlmaWVyID09PSBcIlUrMDA0QlwiICYmXG4gICAgICBsb2NhdGlvbiA9PT1cbiAgICAgICAgS2V5Ym9hcmRFdmVudC5ET01fS0VZX0xPQ0FUSU9OX05VTVBBRCkgLyogd29ya2Fyb3VuZCBmb3IgQ2hyb21lIGZvciBXaW5kb3dzICovXG4gICkge1xuICAgIHJldHVybiBcIitcIjtcbiAgfSBlbHNlIGlmIChcbiAgICBrZXkgPT09IFwiLVwiIHx8XG4gICAga2V5ID09PSBcIlN1YnRyYWN0XCIgfHxcbiAgICBrZXlJZGVudGlmaWVyID09PSBcIlUrMDAyRFwiIHx8XG4gICAga2V5SWRlbnRpZmllciA9PT0gXCJVKzAwQkRcIiB8fFxuICAgIChrZXlJZGVudGlmaWVyID09PSBcIlUrMDA0RFwiICYmXG4gICAgICBsb2NhdGlvbiA9PT1cbiAgICAgICAgS2V5Ym9hcmRFdmVudC5ET01fS0VZX0xPQ0FUSU9OX05VTVBBRCkgLyogd29ya2Fyb3VuZCBmb3IgQ2hyb21lIGZvciBXaW5kb3dzICovXG4gICkge1xuICAgIHJldHVybiBcIi1cIjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ga2V5IHx8IGtleUlkZW50aWZpZXIgfHwgS2V5cy5VbmlkZW50aWZpZWQ7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBLZXlzLFxuICBpZGVudGlmeUtleUZyb21FdmVudCxcbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMgKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE4IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIHVua25vd24gbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQgeyBDb3JlVmlld2VyLCBSZWFkeVN0YXRlLCBQYWdlUHJvZ3Jlc3Npb24gfSBmcm9tIFwiQHZpdmxpb3N0eWxlL2NvcmVcIjtcbmltcG9ydCBrbywgeyBQdXJlQ29tcHV0ZWQgfSBmcm9tIFwia25vY2tvdXRcIjtcblxuaW1wb3J0IFZpZXdlck9wdGlvbnMgZnJvbSBcIi4uL21vZGVscy92aWV3ZXItb3B0aW9uc1wiO1xuaW1wb3J0IGtleVV0aWwgZnJvbSBcIi4uL3V0aWxzL2tleS11dGlsXCI7XG5pbXBvcnQgU2V0dGluZ3NQYW5lbCBmcm9tIFwiLi9zZXR0aW5ncy1wYW5lbFwiO1xuaW1wb3J0IFZpZXdlciBmcm9tIFwiLi92aWV3ZXJcIjtcblxuY29uc3QgeyBLZXlzIH0gPSBrZXlVdGlsO1xuXG5leHBvcnQgdHlwZSBOYXZpZ2F0aW9uT3B0aW9ucyA9IHtcbiAgZGlzYWJsZVRPQ05hdmlnYXRpb246IGJvb2xlYW47XG4gIGRpc2FibGVQYWdlTmF2aWdhdGlvbjogYm9vbGVhbjtcbiAgZGlzYWJsZVpvb206IGJvb2xlYW47XG4gIGRpc2FibGVGb250U2l6ZUNoYW5nZTogYm9vbGVhbjtcbn07XG5cbmNsYXNzIE5hdmlnYXRpb24ge1xuICBzdGF0aWMgUFJFVklPVVMoUFJFVklPVVM6IHVua25vd24pOiB2b2lkIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICBzdGF0aWMgTkVYVChORVhUOiB1bmtub3duKTogdm9pZCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbiAgc3RhdGljIExFRlQoTEVGVDogdW5rbm93bik6IHZvaWQge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG4gIHN0YXRpYyBSSUdIVChSSUdIVDogdW5rbm93bik6IHZvaWQge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG4gIHN0YXRpYyBGSVJTVChGSVJTVDogdW5rbm93bik6IHZvaWQge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG4gIHN0YXRpYyBMQVNUKExBU1Q6IHVua25vd24pOiB2b2lkIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICBzdGF0aWMgRVBBR0UoRVBBR0U6IHVua25vd24sIGVwYWdlOiB1bmtub3duKTogdm9pZCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbiAgcHJpdmF0ZSB2aWV3ZXJPcHRpb25zXzogVmlld2VyT3B0aW9ucztcbiAgcHJpdmF0ZSB2aWV3ZXJfOiBWaWV3ZXI7XG4gIHByaXZhdGUgc2V0dGluZ3NQYW5lbF86IFNldHRpbmdzUGFuZWw7XG5cbiAgZml0VG9TY3JlZW46IFB1cmVDb21wdXRlZDx1bmtub3duPjtcbiAgaXNEZWNyZWFzZUZvbnRTaXplRGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNEZWZhdWx0Rm9udFNpemVEaXNhYmxlZDogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuICBpc0Rpc2FibGVkOiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG4gIGlzSW5jcmVhc2VGb250U2l6ZURpc2FibGVkOiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG4gIGlzTmF2aWdhdGVUb05leHREaXNhYmxlZDogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuICBpc05hdmlnYXRlVG9QcmV2aW91c0Rpc2FibGVkOiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG4gIGlzTmF2aWdhdGVUb0xlZnREaXNhYmxlZDogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuICBpc05hdmlnYXRlVG9SaWdodERpc2FibGVkOiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG4gIGlzTmF2aWdhdGVUb0ZpcnN0RGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNOYXZpZ2F0ZVRvTGFzdERpc2FibGVkOiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG4gIGlzUGFnZU51bWJlckRpc2FibGVkOiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG4gIGlzVE9DVG9nZ2xlRGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNUb2dnbGVGaXRUb1NjcmVlbkRpc2FibGVkOiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG4gIGlzWm9vbU91dERpc2FibGVkOiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG4gIGlzWm9vbUluRGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNab29tVG9BY3R1YWxTaXplRGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgcGFnZU51bWJlcjogUHVyZUNvbXB1dGVkPG51bWJlciB8IHN0cmluZz47XG4gIHRvdGFsUGFnZXM6IFB1cmVDb21wdXRlZDx1bmtub3duPjtcbiAgaGlkZUZvbnRTaXplQ2hhbmdlOiBib29sZWFuO1xuICBoaWRlUGFnZU5hdmlnYXRpb246IGJvb2xlYW47XG4gIGhpZGVUT0NOYXZpZ2F0aW9uOiBib29sZWFuO1xuICBoaWRlWm9vbTogYm9vbGVhbjtcbiAganVzdENsaWNrZWQ6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IoXG4gICAgdmlld2VyT3B0aW9uczogVmlld2VyT3B0aW9ucyxcbiAgICB2aWV3ZXI6IFZpZXdlcixcbiAgICBzZXR0aW5nc1BhbmVsOiBTZXR0aW5nc1BhbmVsLFxuICAgIG5hdmlnYXRpb25PcHRpb25zOiBOYXZpZ2F0aW9uT3B0aW9ucyxcbiAgKSB7XG4gICAgdGhpcy52aWV3ZXJPcHRpb25zXyA9IHZpZXdlck9wdGlvbnM7XG4gICAgdGhpcy52aWV3ZXJfID0gdmlld2VyO1xuICAgIHRoaXMuc2V0dGluZ3NQYW5lbF8gPSBzZXR0aW5nc1BhbmVsO1xuICAgIHRoaXMuanVzdENsaWNrZWQgPSBmYWxzZTsgLy8gZG91YmxlIGNsaWNrIGNoZWNrXG5cbiAgICB0aGlzLmlzRGlzYWJsZWQgPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgKHRoaXMuc2V0dGluZ3NQYW5lbF8ub3BlbmVkKCkgJiYgIXRoaXMuc2V0dGluZ3NQYW5lbF8ucGlubmVkKCkpIHx8XG4gICAgICAgICF0aGlzLnZpZXdlcl8uc3RhdGUubmF2aWdhdGFibGUoKVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IG5hdmlnYXRpb25EaXNhYmxlZCA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICByZXR1cm4gbmF2aWdhdGlvbk9wdGlvbnMuZGlzYWJsZVBhZ2VOYXZpZ2F0aW9uIHx8IHRoaXMuaXNEaXNhYmxlZCgpO1xuICAgIH0pO1xuXG4gICAgbmF2aWdhdGlvbkRpc2FibGVkLnN1YnNjcmliZSgoZGlzYWJsZWQpID0+IHtcbiAgICAgIGNvbnN0IHBhZ2VOdW1iZXJFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgIFwidml2bGlvc3R5bGUtcGFnZS1udW1iZXJcIixcbiAgICAgICkgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgIGlmIChwYWdlTnVtYmVyRWxlbSkge1xuICAgICAgICBwYWdlTnVtYmVyRWxlbS5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5pc1BhZ2VOdW1iZXJEaXNhYmxlZCA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICByZXR1cm4gbmF2aWdhdGlvbkRpc2FibGVkKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmlzTmF2aWdhdGVUb1ByZXZpb3VzRGlzYWJsZWQgPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgaWYgKG5hdmlnYXRpb25EaXNhYmxlZCgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudmlld2VyXy5zdGF0ZS5zdGF0dXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG5lZWRlZCBmb3IgdGVzdC9zcGVjL3ZpZXdtb2RlbHMvbmF2aWdhdGlvbi1zcGVjLmpzXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy52aWV3ZXJfLmZpcnN0UGFnZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5pc05hdmlnYXRlVG9OZXh0RGlzYWJsZWQgPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgaWYgKG5hdmlnYXRpb25EaXNhYmxlZCgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudmlld2VyXy5zdGF0ZS5zdGF0dXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG5lZWRlZCBmb3IgdGVzdC9zcGVjL3ZpZXdtb2RlbHMvbmF2aWdhdGlvbi1zcGVjLmpzXG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMudmlld2VyT3B0aW9uc18ucmVuZGVyQWxsUGFnZXMoKSAmJlxuICAgICAgICB0aGlzLnZpZXdlcl8uc3RhdGUuc3RhdHVzKCkgIT0gUmVhZHlTdGF0ZS5DT01QTEVURVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnZpZXdlcl8ubGFzdFBhZ2UoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuaXNOYXZpZ2F0ZVRvTGVmdERpc2FibGVkID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGlmIChuYXZpZ2F0aW9uRGlzYWJsZWQoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnZpZXdlcl8uc3RhdGUucGFnZVByb2dyZXNzaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBuZWVkZWQgZm9yIHRlc3Qvc3BlYy92aWV3bW9kZWxzL25hdmlnYXRpb24tc3BlYy5qc1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudmlld2VyXy5zdGF0ZS5wYWdlUHJvZ3Jlc3Npb24oKSA9PT0gUGFnZVByb2dyZXNzaW9uLkxUUikge1xuICAgICAgICByZXR1cm4gdGhpcy5pc05hdmlnYXRlVG9QcmV2aW91c0Rpc2FibGVkKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5pc05hdmlnYXRlVG9OZXh0RGlzYWJsZWQoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuaXNOYXZpZ2F0ZVRvUmlnaHREaXNhYmxlZCA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICBpZiAobmF2aWdhdGlvbkRpc2FibGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy52aWV3ZXJfLnN0YXRlLnBhZ2VQcm9ncmVzc2lvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gbmVlZGVkIGZvciB0ZXN0L3NwZWMvdmlld21vZGVscy9uYXZpZ2F0aW9uLXNwZWMuanNcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnZpZXdlcl8uc3RhdGUucGFnZVByb2dyZXNzaW9uKCkgPT09IFBhZ2VQcm9ncmVzc2lvbi5MVFIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNOYXZpZ2F0ZVRvTmV4dERpc2FibGVkKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5pc05hdmlnYXRlVG9QcmV2aW91c0Rpc2FibGVkKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmlzTmF2aWdhdGVUb0ZpcnN0RGlzYWJsZWQgPSB0aGlzLmlzTmF2aWdhdGVUb1ByZXZpb3VzRGlzYWJsZWQ7XG5cbiAgICB0aGlzLmlzTmF2aWdhdGVUb0xhc3REaXNhYmxlZCA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICBpZiAobmF2aWdhdGlvbkRpc2FibGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy52aWV3ZXJfLnN0YXRlLnN0YXR1cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gbmVlZGVkIGZvciB0ZXN0L3NwZWMvdmlld21vZGVscy9uYXZpZ2F0aW9uLXNwZWMuanNcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy52aWV3ZXJPcHRpb25zXy5yZW5kZXJBbGxQYWdlcygpICYmXG4gICAgICAgIHRoaXMudmlld2VyXy5zdGF0ZS5zdGF0dXMoKSAhPSBSZWFkeVN0YXRlLkNPTVBMRVRFXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy52aWV3ZXJfLmxhc3RQYWdlKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmhpZGVQYWdlTmF2aWdhdGlvbiA9ICEhbmF2aWdhdGlvbk9wdGlvbnMuZGlzYWJsZVBhZ2VOYXZpZ2F0aW9uO1xuXG4gICAgY29uc3Qgem9vbURpc2FibGVkID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgIHJldHVybiBuYXZpZ2F0aW9uT3B0aW9ucy5kaXNhYmxlWm9vbSB8fCB0aGlzLmlzRGlzYWJsZWQoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuaXNab29tT3V0RGlzYWJsZWQgPSB6b29tRGlzYWJsZWQ7XG4gICAgdGhpcy5pc1pvb21JbkRpc2FibGVkID0gem9vbURpc2FibGVkO1xuICAgIHRoaXMuaXNab29tVG9BY3R1YWxTaXplRGlzYWJsZWQgPSB6b29tRGlzYWJsZWQ7XG4gICAgdGhpcy5pc1RvZ2dsZUZpdFRvU2NyZWVuRGlzYWJsZWQgPSB6b29tRGlzYWJsZWQ7XG4gICAgdGhpcy5oaWRlWm9vbSA9ICEhbmF2aWdhdGlvbk9wdGlvbnMuZGlzYWJsZVpvb207XG5cbiAgICB0aGlzLmZpdFRvU2NyZWVuID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHZpZXdlck9wdGlvbnMuem9vbSgpLmZpdFRvU2NyZWVuKTtcblxuICAgIGNvbnN0IGZvbnRTaXplQ2hhbmdlRGlzYWJsZWQgPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgcmV0dXJuIG5hdmlnYXRpb25PcHRpb25zLmRpc2FibGVGb250U2l6ZUNoYW5nZSB8fCB0aGlzLmlzRGlzYWJsZWQoKTtcbiAgICB9KTtcblxuICAgIC8vIEZvbnQgc2l6ZSBsaW1pdCAobWF4OjcyLCBtaW46NSkgaXMgaGFyZCBjb2RlZCBpbiB2aXZsaW9zdHlsZS5qcy9zcmMvYWRhcHQvdmlld2VyLmpzLlxuICAgIHRoaXMuaXNJbmNyZWFzZUZvbnRTaXplRGlzYWJsZWQgPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgaWYgKGZvbnRTaXplQ2hhbmdlRGlzYWJsZWQoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnZpZXdlck9wdGlvbnNfLmZvbnRTaXplKCkgPj0gNzIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gICAgdGhpcy5pc0RlY3JlYXNlRm9udFNpemVEaXNhYmxlZCA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICBpZiAoZm9udFNpemVDaGFuZ2VEaXNhYmxlZCgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudmlld2VyT3B0aW9uc18uZm9udFNpemUoKSA8PSA1KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuICAgIHRoaXMuaXNEZWZhdWx0Rm9udFNpemVEaXNhYmxlZCA9IGZvbnRTaXplQ2hhbmdlRGlzYWJsZWQ7XG4gICAgdGhpcy5oaWRlRm9udFNpemVDaGFuZ2UgPSAhIW5hdmlnYXRpb25PcHRpb25zLmRpc2FibGVGb250U2l6ZUNoYW5nZTtcblxuICAgIHRoaXMuaXNUT0NUb2dnbGVEaXNhYmxlZCA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBuYXZpZ2F0aW9uT3B0aW9ucy5kaXNhYmxlVE9DTmF2aWdhdGlvbiB8fFxuICAgICAgICB0aGlzLmlzRGlzYWJsZWQoKSB8fFxuICAgICAgICB0aGlzLnZpZXdlcl8udG9jVmlzaWJsZSgpID09IG51bGxcbiAgICAgICk7XG4gICAgfSk7XG4gICAgdGhpcy5oaWRlVE9DTmF2aWdhdGlvbiA9ICEhbmF2aWdhdGlvbk9wdGlvbnMuZGlzYWJsZVRPQ05hdmlnYXRpb247XG5cbiAgICB0aGlzLnBhZ2VOdW1iZXIgPSBrby5wdXJlQ29tcHV0ZWQoe1xuICAgICAgcmVhZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld2VyXy5lcGFnZVRvUGFnZU51bWJlcih0aGlzLnZpZXdlcl8uZXBhZ2UoKSk7XG4gICAgICB9LFxuICAgICAgd3JpdGUocGFnZU51bWJlclRleHQ6IG51bWJlciB8IHN0cmluZykge1xuICAgICAgICBjb25zdCBlcGFnZU9sZCA9IHRoaXMudmlld2VyXy5lcGFnZSgpO1xuICAgICAgICBjb25zdCBwYWdlTnVtYmVyT2xkID0gdGhpcy52aWV3ZXJfLmVwYWdlVG9QYWdlTnVtYmVyKGVwYWdlT2xkKTtcblxuICAgICAgICAvLyBBY2NlcHQgbm9uLWludGVnZXIsIGNvbnZlcnQgZnVsbHdpZHRoIHRvIGFzY2lpXG4gICAgICAgIGxldCBwYWdlTnVtYmVyID1cbiAgICAgICAgICBwYXJzZUZsb2F0KFxuICAgICAgICAgICAgcGFnZU51bWJlclRleHRcbiAgICAgICAgICAgICAgLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgLnJlcGxhY2UoL1vvvJAt77yZXS9nLCAocykgPT5cbiAgICAgICAgICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKHMuY2hhckNvZGVBdCgwKSAtIDB4ZmVlMCksXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgKSB8fCAwO1xuICAgICAgICBpZiAoL15bLStdLy50ZXN0KHBhZ2VOdW1iZXJUZXh0LnRvU3RyaW5nKCkpKSB7XG4gICAgICAgICAgLy8gXCIrbnVtYmVyXCIgYW5kIFwiLW51bWJlclwiIHRvIHJlbGF0aXZlIG1vdmUuXG4gICAgICAgICAgcGFnZU51bWJlciA9IHBhZ2VOdW1iZXJPbGQgKyBwYWdlTnVtYmVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYWdlTnVtYmVyIDwgMSkge1xuICAgICAgICAgIHBhZ2VOdW1iZXIgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGVwYWdlQ291bnQgPSB0aGlzLnZpZXdlcl8uZXBhZ2VDb3VudCgpO1xuICAgICAgICAgIGlmICh0aGlzLnZpZXdlck9wdGlvbnNfLnJlbmRlckFsbFBhZ2VzKCkpIHtcbiAgICAgICAgICAgIGlmIChwYWdlTnVtYmVyID4gZXBhZ2VDb3VudCkge1xuICAgICAgICAgICAgICBwYWdlTnVtYmVyID0gZXBhZ2VDb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHBhZ2VOdW1iZXIgPiBlcGFnZUNvdW50ICsgMSkge1xuICAgICAgICAgICAgLy8gQWNjZXB0IFwiZXBhZ2VDb3VudCArIDFcIiBiZWNhdXNlIHRoZSBsYXN0IGVwYWdlIG1heSBlcXVhbCBlcGFnZUNvdW50LlxuICAgICAgICAgICAgcGFnZU51bWJlciA9IGVwYWdlQ291bnQgKyAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlcGFnZU5hdiA9IHRoaXMudmlld2VyXy5lcGFnZUZyb21QYWdlTnVtYmVyKHBhZ2VOdW1iZXIpO1xuICAgICAgICBjb25zdCBwYWdlTnVtYmVyRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgIFwidml2bGlvc3R5bGUtcGFnZS1udW1iZXJcIixcbiAgICAgICAgKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICBwYWdlTnVtYmVyRWxlbS52YWx1ZSA9IHBhZ2VOdW1iZXIudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy52aWV3ZXJfLm5hdmlnYXRlVG9FUGFnZShlcGFnZU5hdik7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy52aWV3ZXJfLnN0YXRlLnN0YXR1cygpICE9IFJlYWR5U3RhdGUuTE9BRElORyAmJlxuICAgICAgICAgICAgdGhpcy52aWV3ZXJfLmVwYWdlKCkgPT09IGVwYWdlT2xkXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBwYWdlTnVtYmVyRWxlbS52YWx1ZSA9IHBhZ2VOdW1iZXJPbGQudG9TdHJpbmcoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aXZsaW9zdHlsZS12aWV3ZXItdmlld3BvcnRcIikuZm9jdXMoKTtcbiAgICAgICAgfSwgMTApO1xuICAgICAgfSxcbiAgICAgIG93bmVyOiB0aGlzLFxuICAgIH0pO1xuXG4gICAgdGhpcy50b3RhbFBhZ2VzID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGxldCB0b3RhbFBhZ2VzID0gdGhpcy52aWV3ZXJfLmVwYWdlQ291bnQoKTtcbiAgICAgIGlmICghdG90YWxQYWdlcykge1xuICAgICAgICByZXR1cm4gdG90YWxQYWdlcztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhZ2VOdW1iZXIgPSBOdW1iZXIodGhpcy5wYWdlTnVtYmVyKCkpO1xuICAgICAgaWYgKHRoaXMudmlld2VyXy5sYXN0UGFnZSgpKSB7XG4gICAgICAgIHRvdGFsUGFnZXMgPSBwYWdlTnVtYmVyO1xuICAgICAgfSBlbHNlIGlmIChwYWdlTnVtYmVyID49IHRvdGFsUGFnZXMpIHtcbiAgICAgICAgdG90YWxQYWdlcysrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRvdGFsUGFnZXM7XG4gICAgfSk7XG5cbiAgICBbXG4gICAgICBcIm5hdmlnYXRlVG9QcmV2aW91c1wiLFxuICAgICAgXCJuYXZpZ2F0ZVRvTmV4dFwiLFxuICAgICAgXCJuYXZpZ2F0ZVRvTGVmdFwiLFxuICAgICAgXCJuYXZpZ2F0ZVRvUmlnaHRcIixcbiAgICAgIFwibmF2aWdhdGVUb0ZpcnN0XCIsXG4gICAgICBcIm5hdmlnYXRlVG9MYXN0XCIsXG4gICAgICBcInpvb21JblwiLFxuICAgICAgXCJ6b29tT3V0XCIsXG4gICAgICBcInpvb21Ub0FjdHVhbFNpemVcIixcbiAgICAgIFwidG9nZ2xlRml0VG9TY3JlZW5cIixcbiAgICAgIFwiaW5jcmVhc2VGb250U2l6ZVwiLFxuICAgICAgXCJkZWNyZWFzZUZvbnRTaXplXCIsXG4gICAgICBcImRlZmF1bHRGb250U2l6ZVwiLFxuICAgICAgXCJvbmNsaWNrVmlld3BvcnRcIixcbiAgICAgIFwidG9nZ2xlVE9DXCIsXG4gICAgXS5mb3JFYWNoKChtZXRob2ROYW1lKSA9PiB7XG4gICAgICB0aGlzW21ldGhvZE5hbWVdID0gdGhpc1ttZXRob2ROYW1lXS5iaW5kKHRoaXMpO1xuICAgIH0pO1xuICB9XG5cbiAgbmF2aWdhdGVUb1ByZXZpb3VzKCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5pc05hdmlnYXRlVG9QcmV2aW91c0Rpc2FibGVkKCkpIHtcbiAgICAgIHRoaXMudmlld2VyXy5uYXZpZ2F0ZVRvUHJldmlvdXMoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgbmF2aWdhdGVUb05leHQoKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmlzTmF2aWdhdGVUb05leHREaXNhYmxlZCgpKSB7XG4gICAgICB0aGlzLnZpZXdlcl8ubmF2aWdhdGVUb05leHQoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgbmF2aWdhdGVUb0xlZnQoKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmlzTmF2aWdhdGVUb0xlZnREaXNhYmxlZCgpKSB7XG4gICAgICB0aGlzLnZpZXdlcl8ubmF2aWdhdGVUb0xlZnQoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgbmF2aWdhdGVUb1JpZ2h0KCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5pc05hdmlnYXRlVG9SaWdodERpc2FibGVkKCkpIHtcbiAgICAgIHRoaXMudmlld2VyXy5uYXZpZ2F0ZVRvUmlnaHQoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgbmF2aWdhdGVUb0ZpcnN0KCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5pc05hdmlnYXRlVG9GaXJzdERpc2FibGVkKCkpIHtcbiAgICAgIHRoaXMudmlld2VyXy5uYXZpZ2F0ZVRvRmlyc3QoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgbmF2aWdhdGVUb0xhc3QoKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmlzTmF2aWdhdGVUb0xhc3REaXNhYmxlZCgpKSB7XG4gICAgICB0aGlzLnZpZXdlcl8ubmF2aWdhdGVUb0xhc3QoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgem9vbUluKCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5pc1pvb21JbkRpc2FibGVkKCkpIHtcbiAgICAgIGNvbnN0IHpvb20gPSB0aGlzLnZpZXdlck9wdGlvbnNfLnpvb20oKTtcbiAgICAgIHRoaXMudmlld2VyT3B0aW9uc18uem9vbShcbiAgICAgICAgem9vbS56b29tSW4oKHRoaXMudmlld2VyXyBhcyB1bmtub3duKSBhcyBDb3JlVmlld2VyKSxcbiAgICAgICk7IC8vIFRPRE86IHRlc3QgaWYgaXQncyBvayB0byB0cmVhdCB2aWV3ZXJfIGFzIENvcmVWaWV3ZXJcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgem9vbU91dCgpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaXNab29tT3V0RGlzYWJsZWQoKSkge1xuICAgICAgY29uc3Qgem9vbSA9IHRoaXMudmlld2VyT3B0aW9uc18uem9vbSgpO1xuICAgICAgdGhpcy52aWV3ZXJPcHRpb25zXy56b29tKFxuICAgICAgICB6b29tLnpvb21PdXQoKHRoaXMudmlld2VyXyBhcyB1bmtub3duKSBhcyBDb3JlVmlld2VyKSxcbiAgICAgICk7IC8vIFRPRE86IHRlc3QgaWYgaXQncyBvayB0byB0cmVhdCB2aWV3ZXJfIGFzIENvcmVWaWV3ZXJcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgem9vbVRvQWN0dWFsU2l6ZSgpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaXNab29tVG9BY3R1YWxTaXplRGlzYWJsZWQoKSkge1xuICAgICAgY29uc3Qgem9vbSA9IHRoaXMudmlld2VyT3B0aW9uc18uem9vbSgpO1xuICAgICAgdGhpcy52aWV3ZXJPcHRpb25zXy56b29tKHpvb20uem9vbVRvQWN0dWFsU2l6ZSgpKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlRml0VG9TY3JlZW4oKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmlzVG9nZ2xlRml0VG9TY3JlZW5EaXNhYmxlZCgpKSB7XG4gICAgICBjb25zdCB6b29tID0gdGhpcy52aWV3ZXJPcHRpb25zXy56b29tKCk7XG4gICAgICB0aGlzLnZpZXdlck9wdGlvbnNfLnpvb20oem9vbS50b2dnbGVGaXRUb1NjcmVlbigpKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaW5jcmVhc2VGb250U2l6ZSgpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaXNJbmNyZWFzZUZvbnRTaXplRGlzYWJsZWQoKSkge1xuICAgICAgbGV0IGZvbnRTaXplID0gTnVtYmVyKHRoaXMudmlld2VyT3B0aW9uc18uZm9udFNpemUoKSk7XG4gICAgICAvLyBmb250U2l6ZSAqPSAxLjI1O1xuICAgICAgaWYgKGZvbnRTaXplIDwgMTApIHtcbiAgICAgICAgZm9udFNpemUgPSBNYXRoLmZsb29yKGZvbnRTaXplKSArIDE7XG4gICAgICB9IGVsc2UgaWYgKGZvbnRTaXplIDwgMjApIHtcbiAgICAgICAgZm9udFNpemUgPSAoTWF0aC5mbG9vcihmb250U2l6ZSAvIDIpICsgMSkgKiAyO1xuICAgICAgfSBlbHNlIGlmIChmb250U2l6ZSA8IDQwKSB7XG4gICAgICAgIGZvbnRTaXplID0gKE1hdGguZmxvb3IoZm9udFNpemUgLyA0KSArIDEpICogNDtcbiAgICAgIH0gZWxzZSBpZiAoZm9udFNpemUgPCA3Mikge1xuICAgICAgICBmb250U2l6ZSA9IChNYXRoLmZsb29yKGZvbnRTaXplIC8gOCkgKyAxKSAqIDg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb250U2l6ZSA9IDcyO1xuICAgICAgfVxuICAgICAgdGhpcy52aWV3ZXJPcHRpb25zXy5mb250U2l6ZShmb250U2l6ZSk7XG4gICAgICB0aGlzLnVwZGF0ZUZvbnRTaXplU2V0dGluZ3MoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZGVjcmVhc2VGb250U2l6ZSgpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaXNEZWNyZWFzZUZvbnRTaXplRGlzYWJsZWQoKSkge1xuICAgICAgbGV0IGZvbnRTaXplID0gTnVtYmVyKHRoaXMudmlld2VyT3B0aW9uc18uZm9udFNpemUoKSk7XG4gICAgICAvLyBmb250U2l6ZSAqPSAwLjg7XG4gICAgICBpZiAoZm9udFNpemUgPiA0MCkge1xuICAgICAgICBmb250U2l6ZSA9IChNYXRoLmNlaWwoZm9udFNpemUgLyA4KSAtIDEpICogODtcbiAgICAgIH0gZWxzZSBpZiAoZm9udFNpemUgPiAyMCkge1xuICAgICAgICBmb250U2l6ZSA9IChNYXRoLmNlaWwoZm9udFNpemUgLyA0KSAtIDEpICogNDtcbiAgICAgIH0gZWxzZSBpZiAoZm9udFNpemUgPiAxMCkge1xuICAgICAgICBmb250U2l6ZSA9IChNYXRoLmNlaWwoZm9udFNpemUgLyAyKSAtIDEpICogMjtcbiAgICAgIH0gZWxzZSBpZiAoZm9udFNpemUgPiA1KSB7XG4gICAgICAgIGZvbnRTaXplID0gTWF0aC5jZWlsKGZvbnRTaXplKSAtIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb250U2l6ZSA9IDU7XG4gICAgICB9XG4gICAgICB0aGlzLnZpZXdlck9wdGlvbnNfLmZvbnRTaXplKGZvbnRTaXplKTtcbiAgICAgIHRoaXMudXBkYXRlRm9udFNpemVTZXR0aW5ncygpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBkZWZhdWx0Rm9udFNpemUoKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmlzRGVmYXVsdEZvbnRTaXplRGlzYWJsZWQoKSkge1xuICAgICAgY29uc3QgZm9udFNpemUgPSBWaWV3ZXJPcHRpb25zLmdldERlZmF1bHRWYWx1ZXMoKS5mb250U2l6ZTtcbiAgICAgIHRoaXMudmlld2VyT3B0aW9uc18uZm9udFNpemUoZm9udFNpemUpO1xuICAgICAgdGhpcy51cGRhdGVGb250U2l6ZVNldHRpbmdzKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZUZvbnRTaXplU2V0dGluZ3MoKTogdm9pZCB7XG4gICAgLy8gVXBkYXRlIHNldHRpbmcgcGFuZWwgXCJGb250IFNpemVcIi5cbiAgICB0aGlzLnNldHRpbmdzUGFuZWxfLnN0YXRlLnZpZXdlck9wdGlvbnMuZm9udFNpemUoXG4gICAgICB0aGlzLnZpZXdlck9wdGlvbnNfLmZvbnRTaXplKCksXG4gICAgKTtcblxuICAgIGlmICh0aGlzLnZpZXdlcl8uZG9jdW1lbnRPcHRpb25zXy5wYWdlU3R5bGUuYmFzZUZvbnRTaXplU3BlY2lmaWVkKCkpIHtcbiAgICAgIC8vIFVwZGF0ZSB1c2VyU3R5bGVzaGVldCB3aGVuIGJhc2UgZm9udC1zaXplIGlzIHNwZWNpZmllZFxuICAgICAgdGhpcy52aWV3ZXJfLmRvY3VtZW50T3B0aW9uc18udXBkYXRlVXNlclN0eWxlU2hlZXRGcm9tQ1NTVGV4dCgpO1xuICAgICAgdGhpcy52aWV3ZXJfLmxvYWREb2N1bWVudChcbiAgICAgICAgdGhpcy52aWV3ZXJfLmRvY3VtZW50T3B0aW9uc18sXG4gICAgICAgIHRoaXMudmlld2VyT3B0aW9uc18sXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIG9uY2xpY2tWaWV3cG9ydCgpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5zZXR0aW5nc1BhbmVsXy5qdXN0Q2xpY2tlZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICh0aGlzLnZpZXdlcl8udG9jVmlzaWJsZSgpICYmICF0aGlzLnZpZXdlcl8udG9jUGlubmVkKCkpIHtcbiAgICAgIGNvbnN0IHRvY0JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS12aXZsaW9zdHlsZS10b2MtYm94XVwiKTtcbiAgICAgIGlmICh0b2NCb3ggJiYgIXRvY0JveC5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkge1xuICAgICAgICB0aGlzLnRvZ2dsZVRPQygpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5zZXR0aW5nc1BhbmVsXy5vcGVuZWQoKSAmJiAhdGhpcy5zZXR0aW5nc1BhbmVsXy5waW5uZWQoKSkge1xuICAgICAgdGhpcy5zZXR0aW5nc1BhbmVsXy5jbG9zZSgpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHRvZ2dsZVRPQygpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaXNUT0NUb2dnbGVEaXNhYmxlZCgpKSB7XG4gICAgICBsZXQgaW50ZXJ2YWxJRDogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcblxuICAgICAgaWYgKCF0aGlzLnZpZXdlcl8udG9jVmlzaWJsZSgpKSB7XG4gICAgICAgIGlmICh0aGlzLmp1c3RDbGlja2VkKSB7XG4gICAgICAgICAgdGhpcy52aWV3ZXJfLnNob3dUT0ModHJ1ZSwgZmFsc2UpOyAvLyBhdXRvaGlkZT1mYWxzZVxuICAgICAgICAgIHRoaXMuanVzdENsaWNrZWQgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnZpZXdlcl8uc2hvd1RPQyh0cnVlLCB0cnVlKTsgLy8gYXV0b2hpZGU9dHJ1ZVxuICAgICAgICAgIHRoaXMuanVzdENsaWNrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhlcmUgdXNlIHRpbWVyIGZvciB0d28gcHVycG9zZXM6XG4gICAgICAgIC8vIC0gQ2hlY2sgZG91YmxlIGNsaWNrIHRvIG1ha2UgVE9DIGJveCBwaW5uZWQuXG4gICAgICAgIC8vIC0gTW92ZSBmb2N1cyB0byBUT0MgYm94IHdoZW4gVE9DIGJveCBiZWNvbWVzIHZpc2libGUuXG4gICAgICAgIGludGVydmFsSUQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgY29uc3QgdG9jQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgIFwiW2RhdGEtdml2bGlvc3R5bGUtdG9jLWJveF1cIixcbiAgICAgICAgICApIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgIGlmICh0b2NCb3ggJiYgdG9jQm94LnN0eWxlLnZpc2liaWxpdHkgPT09IFwidmlzaWJsZVwiKSB7XG4gICAgICAgICAgICB0b2NCb3gudGFiSW5kZXggPSAwO1xuICAgICAgICAgICAgdG9jQm94LmZvY3VzKCk7XG5cbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJRCk7XG4gICAgICAgICAgICBpbnRlcnZhbElEID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5qdXN0Q2xpY2tlZCA9IGZhbHNlO1xuICAgICAgICB9LCAzMDApO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmp1c3RDbGlja2VkKSB7XG4gICAgICAgIC8vIERvdWJsZSBjbGljayB0byBrZWVwIFRPQyBib3ggdmlzaWJsZSBkdXJpbmcgVE9DIG5hdmlnYXRpb25cbiAgICAgICAgdGhpcy52aWV3ZXJfLnNob3dUT0ModHJ1ZSwgZmFsc2UpOyAvLyBhdXRvaGlkZT1mYWxzZVxuICAgICAgICB0aGlzLmp1c3RDbGlja2VkID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaW50ZXJ2YWxJRCAhPT0gbnVsbCkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJRCk7XG4gICAgICAgICAgaW50ZXJ2YWxJRCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3ZXJfLnNob3dUT0MoZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuanVzdENsaWNrZWQgPSB0cnVlO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5qdXN0Q2xpY2tlZCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aXZsaW9zdHlsZS12aWV3ZXItdmlld3BvcnRcIikuZm9jdXMoKTtcbiAgICAgICAgICAgIHRoaXMuanVzdENsaWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDMwMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIG5hdmlnYXRlVE9DKGtleSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHNlbGVjdGVyID1cbiAgICAgIFwiW2RhdGEtdml2bGlvc3R5bGUtdG9jLWJveF0+Kj4qPio+Kj4qOm5vdChbaGlkZGVuXSkgW3RhYmluZGV4PScwJ10sXCIgK1xuICAgICAgXCJbZGF0YS12aXZsaW9zdHlsZS10b2MtYm94XT4qPio+Kj4qPio6bm90KFtoaWRkZW5dKSBhW2hyZWZdOm5vdChbdGFiaW5kZXg9Jy0xJ10pXCI7XG4gICAgY29uc3Qgbm9kZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0ZXIpKTtcbiAgICBsZXQgaW5kZXggPSBub2Rlcy5pbmRleE9mKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuXG4gICAgY29uc3QgaXNCdXR0b24gPSAoaW5kZXgpOiBib29sZWFuID0+IHtcbiAgICAgIHJldHVybiBub2Rlc1tpbmRleF0gJiYgbm9kZXNbaW5kZXhdLmdldEF0dHJpYnV0ZShcInJvbGVcIikgPT09IFwiYnV0dG9uXCI7XG4gICAgfTtcbiAgICBjb25zdCBpc0V4cGFuZGVkID0gKGluZGV4KTogYm9vbGVhbiA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBub2Rlc1tpbmRleF0gJiYgbm9kZXNbaW5kZXhdLmdldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIikgPT09IFwidHJ1ZVwiXG4gICAgICApO1xuICAgIH07XG5cbiAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgY2FzZSBLZXlzLkFycm93TGVmdDpcbiAgICAgICAgaWYgKGluZGV4ID09IC0xKSB7XG4gICAgICAgICAgaW5kZXggPSBub2Rlcy5sZW5ndGggLSAxO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNCdXR0b24oaW5kZXgpICYmIGlzQnV0dG9uKGluZGV4IC0gMSkpIHtcbiAgICAgICAgICBpbmRleC0tO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0J1dHRvbihpbmRleCkgJiYgaXNFeHBhbmRlZChpbmRleCkpIHtcbiAgICAgICAgICAobm9kZXNbaW5kZXhdIGFzIEhUTUxFbGVtZW50KS5jbGljaygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvciAobGV0IGkgPSBpbmRleCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBpZiAoaXNCdXR0b24oaSkgJiYgbm9kZXNbaV0ucGFyZW50RWxlbWVudC5jb250YWlucyhub2Rlc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBLZXlzLkFycm93UmlnaHQ6XG4gICAgICAgIGlmIChpbmRleCA9PSAtMSkge1xuICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQnV0dG9uKGluZGV4KSAmJiBpc0J1dHRvbihpbmRleCAtIDEpKSB7XG4gICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNCdXR0b24oaW5kZXgpKSB7XG4gICAgICAgICAgaWYgKGlzRXhwYW5kZWQoaW5kZXgpKSB7XG4gICAgICAgICAgICBpbmRleCArPSAyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAobm9kZXNbaW5kZXhdIGFzIEhUTUxFbGVtZW50KS5jbGljaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgS2V5cy5BcnJvd0Rvd246XG4gICAgICAgIGluZGV4Kys7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBLZXlzLkFycm93VXA6XG4gICAgICAgIGlmIChpbmRleCA9PSAtMSkge1xuICAgICAgICAgIGluZGV4ID0gbm9kZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgaWYgKGlzQnV0dG9uKC0taW5kZXgpKSB7XG4gICAgICAgICAgICBpbmRleC0tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgS2V5cy5Ib21lOlxuICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBLZXlzLkVuZDpcbiAgICAgICAgaW5kZXggPSBub2Rlcy5sZW5ndGggLSAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgS2V5cy5TcGFjZTpcbiAgICAgICAgaWYgKCFpc0J1dHRvbihpbmRleCkgJiYgaXNCdXR0b24oaW5kZXggLSAxKSkge1xuICAgICAgICAgIGluZGV4LS07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQnV0dG9uKGluZGV4KSkge1xuICAgICAgICAgIChub2Rlc1tpbmRleF0gYXMgSFRNTEVsZW1lbnQpLmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKGlzQnV0dG9uKGluZGV4KSkge1xuICAgICAgaW5kZXgrKztcbiAgICB9XG5cbiAgICBpZiAobm9kZXNbaW5kZXhdKSB7XG4gICAgICAobm9kZXNbaW5kZXhdIGFzIEhUTUxFbGVtZW50KS5mb2N1cygpO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaGFuZGxlS2V5KGtleSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGlzU2V0dGluZ3NBY3RpdmUgPVxuICAgICAgdGhpcy5zZXR0aW5nc1BhbmVsXy5vcGVuZWQoKSAmJlxuICAgICAgdGhpcy5zZXR0aW5nc1BhbmVsXy5zZXR0aW5nc1RvZ2dsZS5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcblxuICAgIGlmIChpc1NldHRpbmdzQWN0aXZlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb25zdCBwYWdlTnVtYmVyRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidml2bGlvc3R5bGUtcGFnZS1udW1iZXJcIik7XG4gICAgY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICBcInZpdmxpb3N0eWxlLXZpZXdlci12aWV3cG9ydFwiLFxuICAgICk7XG4gICAgY29uc3QgaG9yaXpvbnRhbFNjcm9sbGFibGUgPVxuICAgICAgdmlld3BvcnRFbGVtZW50LnNjcm9sbFdpZHRoID4gdmlld3BvcnRFbGVtZW50LmNsaWVudFdpZHRoO1xuICAgIGNvbnN0IHZlcnRpY2FsU2Nyb2xsYWJsZSA9XG4gICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsSGVpZ2h0ID4gdmlld3BvcnRFbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICBjb25zdCBpc1BhZ2VOdW1iZXJJbnB1dCA9IHBhZ2VOdW1iZXJFbGVtID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgIGNvbnN0IGlzVE9DQWN0aXZlID1cbiAgICAgIHRoaXMudmlld2VyXy50b2NWaXNpYmxlKCkgJiZcbiAgICAgICFpc1BhZ2VOdW1iZXJJbnB1dCAmJlxuICAgICAgdmlld3BvcnRFbGVtZW50ICE9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cbiAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgY2FzZSBcIitcIjpcbiAgICAgICAgcmV0dXJuIGlzUGFnZU51bWJlcklucHV0IHx8ICF0aGlzLmluY3JlYXNlRm9udFNpemUoKTtcbiAgICAgIGNhc2UgXCItXCI6XG4gICAgICAgIHJldHVybiBpc1BhZ2VOdW1iZXJJbnB1dCB8fCAhdGhpcy5kZWNyZWFzZUZvbnRTaXplKCk7XG4gICAgICBjYXNlIFwiMFwiOlxuICAgICAgICByZXR1cm4gaXNQYWdlTnVtYmVySW5wdXQgfHwgIXRoaXMuZGVmYXVsdEZvbnRTaXplKCk7XG4gICAgICBjYXNlIFwiMVwiOlxuICAgICAgICByZXR1cm4gaXNQYWdlTnVtYmVySW5wdXQgfHwgIXRoaXMuem9vbVRvQWN0dWFsU2l6ZSgpO1xuICAgICAgY2FzZSBLZXlzLkFycm93TGVmdDpcbiAgICAgICAgaWYgKGlzVE9DQWN0aXZlKSByZXR1cm4gIXRoaXMubmF2aWdhdGVUT0Moa2V5KTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBpc1BhZ2VOdW1iZXJJbnB1dCB8fCBob3Jpem9udGFsU2Nyb2xsYWJsZSB8fCAhdGhpcy5uYXZpZ2F0ZVRvTGVmdCgpXG4gICAgICAgICk7XG4gICAgICBjYXNlIEtleXMuQXJyb3dSaWdodDpcbiAgICAgICAgaWYgKGlzVE9DQWN0aXZlKSByZXR1cm4gIXRoaXMubmF2aWdhdGVUT0Moa2V5KTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBpc1BhZ2VOdW1iZXJJbnB1dCB8fCBob3Jpem9udGFsU2Nyb2xsYWJsZSB8fCAhdGhpcy5uYXZpZ2F0ZVRvUmlnaHQoKVxuICAgICAgICApO1xuICAgICAgY2FzZSBLZXlzLkFycm93RG93bjpcbiAgICAgICAgaWYgKGlzVE9DQWN0aXZlKSByZXR1cm4gIXRoaXMubmF2aWdhdGVUT0Moa2V5KTtcbiAgICAgICAgdmlld3BvcnRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiB2ZXJ0aWNhbFNjcm9sbGFibGUgfHwgIXRoaXMubmF2aWdhdGVUb05leHQoKTtcbiAgICAgIGNhc2UgS2V5cy5BcnJvd1VwOlxuICAgICAgICBpZiAoaXNUT0NBY3RpdmUpIHJldHVybiAhdGhpcy5uYXZpZ2F0ZVRPQyhrZXkpO1xuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuIHZlcnRpY2FsU2Nyb2xsYWJsZSB8fCAhdGhpcy5uYXZpZ2F0ZVRvUHJldmlvdXMoKTtcbiAgICAgIGNhc2UgS2V5cy5QYWdlRG93bjpcbiAgICAgICAgaWYgKGlzVE9DQWN0aXZlKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgdmlld3BvcnRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiAhdGhpcy5uYXZpZ2F0ZVRvTmV4dCgpO1xuICAgICAgY2FzZSBLZXlzLlBhZ2VVcDpcbiAgICAgICAgaWYgKGlzVE9DQWN0aXZlKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgdmlld3BvcnRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiAhdGhpcy5uYXZpZ2F0ZVRvUHJldmlvdXMoKTtcbiAgICAgIGNhc2UgS2V5cy5Ib21lOlxuICAgICAgICBpZiAoaXNUT0NBY3RpdmUpIHJldHVybiAhdGhpcy5uYXZpZ2F0ZVRPQyhrZXkpO1xuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuICF0aGlzLm5hdmlnYXRlVG9GaXJzdCgpO1xuICAgICAgY2FzZSBLZXlzLkVuZDpcbiAgICAgICAgaWYgKGlzVE9DQWN0aXZlKSByZXR1cm4gIXRoaXMubmF2aWdhdGVUT0Moa2V5KTtcbiAgICAgICAgdmlld3BvcnRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiAhdGhpcy5uYXZpZ2F0ZVRvTGFzdCgpO1xuICAgICAgY2FzZSBcIm9cIjpcbiAgICAgIGNhc2UgXCJPXCI6XG4gICAgICAgIHZpZXdwb3J0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gIXRoaXMuem9vbU91dCgpO1xuICAgICAgY2FzZSBcImlcIjpcbiAgICAgIGNhc2UgXCJJXCI6XG4gICAgICAgIHZpZXdwb3J0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gIXRoaXMuem9vbUluKCk7XG4gICAgICBjYXNlIFwiZlwiOlxuICAgICAgY2FzZSBcIkZcIjpcbiAgICAgICAgdmlld3BvcnRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiAhdGhpcy50b2dnbGVGaXRUb1NjcmVlbigpO1xuICAgICAgY2FzZSBcImdcIjpcbiAgICAgIGNhc2UgXCJHXCI6XG4gICAgICAgIHBhZ2VOdW1iZXJFbGVtLmZvY3VzKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIGNhc2UgXCJ0XCI6XG4gICAgICBjYXNlIFwiVFwiOlxuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuICF0aGlzLnRvZ2dsZVRPQygpO1xuICAgICAgY2FzZSBLZXlzLkVzY2FwZTpcbiAgICAgICAgaWYgKHRoaXMudmlld2VyXy50b2NWaXNpYmxlKCkpIHtcbiAgICAgICAgICByZXR1cm4gIXRoaXMudG9nZ2xlVE9DKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmlld3BvcnRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBLZXlzLlNwYWNlOlxuICAgICAgICBpZiAoaXNUT0NBY3RpdmUpIHJldHVybiAhdGhpcy5uYXZpZ2F0ZVRPQyhrZXkpO1xuICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJyb2xlXCIpID09PSBcImJ1dHRvblwiKSB7XG4gICAgICAgICAgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLmNsaWNrKCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5hdmlnYXRpb247XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQga28sIHsgT2JzZXJ2YWJsZSwgUHVyZUNvbXB1dGVkIH0gZnJvbSBcImtub2Nrb3V0XCI7XG5cbmltcG9ydCBWaWV3ZXIgZnJvbSBcIi4vdmlld2VyXCI7XG5pbXBvcnQgUGFnZVN0eWxlIGZyb20gXCIuLi9tb2RlbHMvcGFnZS1zdHlsZVwiO1xuaW1wb3J0IFBhZ2VWaWV3TW9kZSBmcm9tIFwiLi4vbW9kZWxzL3BhZ2Utdmlldy1tb2RlXCI7XG5pbXBvcnQgVmlld2VyT3B0aW9ucyBmcm9tIFwiLi4vbW9kZWxzL3ZpZXdlci1vcHRpb25zXCI7XG5pbXBvcnQgRG9jdW1lbnRPcHRpb25zIGZyb20gXCIuLi9tb2RlbHMvZG9jdW1lbnQtb3B0aW9uc1wiO1xuaW1wb3J0IGtleVV0aWwgZnJvbSBcIi4uL3V0aWxzL2tleS11dGlsXCI7XG5cbnR5cGUgU3RhdGUgPSB7XG4gIHZpZXdlck9wdGlvbnM6IFZpZXdlck9wdGlvbnM7XG4gIHBhZ2VTdHlsZTogUGFnZVN0eWxlO1xuICBwYWdlVmlld01vZGU6IFB1cmVDb21wdXRlZDxzdHJpbmc+O1xuICByZW5kZXJBbGxQYWdlczogUHVyZUNvbXB1dGVkPHVua25vd24+O1xufTtcblxuY29uc3QgeyBLZXlzIH0gPSBrZXlVdGlsO1xuXG5jbGFzcyBTZXR0aW5nc1BhbmVsIHtcbiAgcHJpdmF0ZSB2aWV3ZXJPcHRpb25zXzogVmlld2VyT3B0aW9ucztcbiAgcHJpdmF0ZSBkb2N1bWVudE9wdGlvbnNfOiBEb2N1bWVudE9wdGlvbnM7XG4gIHByaXZhdGUgdmlld2VyXzogVmlld2VyO1xuXG4gIGlzUGFnZVN0eWxlQ2hhbmdlRGlzYWJsZWQ6IGJvb2xlYW47XG4gIGlzT3ZlcnJpZGVEb2N1bWVudFN0eWxlU2hlZXREaXNhYmxlZDogYm9vbGVhbjtcbiAgaXNQYWdlVmlld01vZGVDaGFuZ2VEaXNhYmxlZDogYm9vbGVhbjtcbiAgaXNSZW5kZXJBbGxQYWdlc0NoYW5nZURpc2FibGVkOiBib29sZWFuO1xuICBqdXN0Q2xpY2tlZDogYm9vbGVhbjsgLy8gZG91YmxlIGNsaWNrIGNoZWNrXG4gIHNldHRpbmdzVG9nZ2xlOiBIVE1MRWxlbWVudDtcbiAgc3RhdGU6IFN0YXRlO1xuICBvcGVuZWQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIHBpbm5lZDogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgZGVmYXVsdFBhZ2VTdHlsZTogUGFnZVN0eWxlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHZpZXdlck9wdGlvbnM6IFZpZXdlck9wdGlvbnMsXG4gICAgZG9jdW1lbnRPcHRpb25zOiBEb2N1bWVudE9wdGlvbnMsXG4gICAgdmlld2VyOiBWaWV3ZXIsXG4gICAgbWVzc2FnZURpYWxvZyxcbiAgICBzZXR0aW5nc1BhbmVsT3B0aW9ucyxcbiAgKSB7XG4gICAgdGhpcy52aWV3ZXJPcHRpb25zXyA9IHZpZXdlck9wdGlvbnM7XG4gICAgdGhpcy5kb2N1bWVudE9wdGlvbnNfID0gZG9jdW1lbnRPcHRpb25zO1xuICAgIHRoaXMudmlld2VyXyA9IHZpZXdlcjtcblxuICAgIHRoaXMuaXNQYWdlU3R5bGVDaGFuZ2VEaXNhYmxlZCA9ICEhc2V0dGluZ3NQYW5lbE9wdGlvbnMuZGlzYWJsZVBhZ2VTdHlsZUNoYW5nZTtcbiAgICB0aGlzLmlzT3ZlcnJpZGVEb2N1bWVudFN0eWxlU2hlZXREaXNhYmxlZCA9IHRoaXMuaXNQYWdlU3R5bGVDaGFuZ2VEaXNhYmxlZDtcbiAgICB0aGlzLmlzUGFnZVZpZXdNb2RlQ2hhbmdlRGlzYWJsZWQgPSAhIXNldHRpbmdzUGFuZWxPcHRpb25zLmRpc2FibGVQYWdlVmlld01vZGVDaGFuZ2U7XG4gICAgdGhpcy5pc1JlbmRlckFsbFBhZ2VzQ2hhbmdlRGlzYWJsZWQgPSAhIXNldHRpbmdzUGFuZWxPcHRpb25zLmRpc2FibGVSZW5kZXJBbGxQYWdlc0NoYW5nZTtcblxuICAgIHRoaXMuanVzdENsaWNrZWQgPSBmYWxzZTtcbiAgICB0aGlzLnNldHRpbmdzVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICBcInZpdmxpb3N0eWxlLW1lbnUtaXRlbV9zZXR0aW5ncy10b2dnbGVcIixcbiAgICApO1xuXG4gICAgdGhpcy5vcGVuZWQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLnBpbm5lZCA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHZpZXdlck9wdGlvbnM6IG5ldyBWaWV3ZXJPcHRpb25zKHZpZXdlck9wdGlvbnMpLFxuICAgICAgcGFnZVN0eWxlOiBuZXcgUGFnZVN0eWxlKGRvY3VtZW50T3B0aW9ucy5wYWdlU3R5bGUpLFxuICAgICAgcGFnZVZpZXdNb2RlOiBrby5wdXJlQ29tcHV0ZWQoe1xuICAgICAgICByZWFkOiAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUudmlld2VyT3B0aW9ucy5wYWdlVmlld01vZGUoKS50b1N0cmluZygpO1xuICAgICAgICB9LFxuICAgICAgICB3cml0ZTogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS52aWV3ZXJPcHRpb25zLnBhZ2VWaWV3TW9kZShQYWdlVmlld01vZGUub2YodmFsdWUpKTtcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICAgcmVuZGVyQWxsUGFnZXM6IGtvLnB1cmVDb21wdXRlZCh7XG4gICAgICAgIHJlYWQ6ICgpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS52aWV3ZXJPcHRpb25zLnJlbmRlckFsbFBhZ2VzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHdyaXRlOiAodmFsdWUpID0+IHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnZpZXdlck9wdGlvbnMucmVuZGVyQWxsUGFnZXModmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgfTtcblxuICAgIHRoaXMuc3RhdGUucGFnZVN0eWxlLnNldFZpZXdlckZvbnRTaXplT2JzZXJ2YWJsZShcbiAgICAgIHRoaXMuc3RhdGUudmlld2VyT3B0aW9ucy5mb250U2l6ZSxcbiAgICApO1xuXG4gICAgdGhpcy5kZWZhdWx0UGFnZVN0eWxlID0gbmV3IFBhZ2VTdHlsZSgpO1xuXG4gICAgW1wiY2xvc2VcIiwgXCJ0b2dnbGVcIiwgXCJhcHBseVwiLCBcImNhbmNlbFwiLCBcInJlc2V0VXNlclN0eWxlXCJdLmZvckVhY2goZnVuY3Rpb24oXG4gICAgICBtZXRob2ROYW1lLFxuICAgICkge1xuICAgICAgdGhpc1ttZXRob2ROYW1lXSA9IHRoaXNbbWV0aG9kTmFtZV0uYmluZCh0aGlzKTtcbiAgICB9LFxuICAgIHRoaXMpO1xuXG4gICAgbWVzc2FnZURpYWxvZy52aXNpYmxlLnN1YnNjcmliZShmdW5jdGlvbih2aXNpYmxlKSB7XG4gICAgICBpZiAodmlzaWJsZSkgdGhpcy5jbG9zZSgpO1xuICAgIH0sIHRoaXMpO1xuICB9XG5cbiAgY2xvc2UoKTogYm9vbGVhbiB7XG4gICAgdGhpcy5vcGVuZWQoZmFsc2UpO1xuICAgIHRoaXMucGlubmVkKGZhbHNlKTtcbiAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgIFwidml2bGlvc3R5bGUtdmlld2VyLXZpZXdwb3J0XCIsXG4gICAgKTtcbiAgICBpZiAodmlld3BvcnRFbGVtZW50KSB2aWV3cG9ydEVsZW1lbnQuZm9jdXMoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHRvZ2dsZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMub3BlbmVkKCkpIHtcbiAgICAgIGlmICghdGhpcy52aWV3ZXJfLnRvY1Bpbm5lZCgpKSB7XG4gICAgICAgIHRoaXMudmlld2VyXy5zaG93VE9DKGZhbHNlKTsgLy8gSGlkZSBUT0MgYm94XG4gICAgICB9XG4gICAgICB0aGlzLm9wZW5lZCh0cnVlKTtcblxuICAgICAgaWYgKHRoaXMuanVzdENsaWNrZWQpIHtcbiAgICAgICAgdGhpcy5qdXN0Q2xpY2tlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBpbm5lZCh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGlubmVkKGZhbHNlKTtcbiAgICAgICAgdGhpcy5qdXN0Q2xpY2tlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbSgpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmp1c3RDbGlja2VkID0gZmFsc2U7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLmp1c3RDbGlja2VkKSB7XG4gICAgICAvLyBEb3VibGUgY2xpY2sgdG8ga2VlcCBTZXR0aW5ncyBwYW5lbCBvcGVuIHdoZW4gQXBwbHkgaXMgY2xpY2tlZC5cbiAgICAgIHRoaXMuanVzdENsaWNrZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMucGlubmVkKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG5cbiAgICAgIHRoaXMuanVzdENsaWNrZWQgPSB0cnVlO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuanVzdENsaWNrZWQgPSBmYWxzZTtcbiAgICAgIH0sIDMwMCk7XG4gICAgfVxuICB9XG5cbiAgYXBwbHkoKTogdm9pZCB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5zdGF0ZS5yZW5kZXJBbGxQYWdlcygpID09PSB0aGlzLnZpZXdlck9wdGlvbnNfLnJlbmRlckFsbFBhZ2VzKCkgJiZcbiAgICAgIHRoaXMuc3RhdGUucGFnZVN0eWxlLmVxdWl2YWxlbnRUbyh0aGlzLmRvY3VtZW50T3B0aW9uc18ucGFnZVN0eWxlKVxuICAgICkge1xuICAgICAgdGhpcy52aWV3ZXJPcHRpb25zXy5jb3B5RnJvbSh0aGlzLnN0YXRlLnZpZXdlck9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRvY3VtZW50T3B0aW9uc18ucGFnZVN0eWxlLmNvcHlGcm9tKHRoaXMuc3RhdGUucGFnZVN0eWxlKTtcbiAgICAgIGlmICh0aGlzLmRvY3VtZW50T3B0aW9uc18ucGFnZVN0eWxlLmJhc2VGb250U2l6ZVNwZWNpZmllZCgpKSB7XG4gICAgICAgIC8vIFVwZGF0ZSB1c2VyU3R5bGVzaGVldCB3aGVuIGJhc2UgZm9udC1zaXplIGlzIHNwZWNpZmllZFxuICAgICAgICB0aGlzLmRvY3VtZW50T3B0aW9uc18udXBkYXRlVXNlclN0eWxlU2hlZXRGcm9tQ1NTVGV4dCgpO1xuICAgICAgfVxuICAgICAgdGhpcy52aWV3ZXJfLmxvYWREb2N1bWVudChcbiAgICAgICAgdGhpcy5kb2N1bWVudE9wdGlvbnNfLFxuICAgICAgICB0aGlzLnN0YXRlLnZpZXdlck9wdGlvbnMsXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5waW5uZWQoKSkge1xuICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBjYW5jZWwoKTogdm9pZCB7XG4gICAgdGhpcy5zdGF0ZS52aWV3ZXJPcHRpb25zLmNvcHlGcm9tKHRoaXMudmlld2VyT3B0aW9uc18pO1xuICAgIHRoaXMuc3RhdGUucGFnZVN0eWxlLmNvcHlGcm9tKHRoaXMuZG9jdW1lbnRPcHRpb25zXy5wYWdlU3R5bGUpO1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIHJlc2V0VXNlclN0eWxlKCk6IGJvb2xlYW4ge1xuICAgIHRoaXMuc3RhdGUucGFnZVN0eWxlLmNvcHlGcm9tKHRoaXMuZGVmYXVsdFBhZ2VTdHlsZSk7XG4gICAgdGhpcy5zdGF0ZS52aWV3ZXJPcHRpb25zLmZvbnRTaXplKFxuICAgICAgVmlld2VyT3B0aW9ucy5nZXREZWZhdWx0VmFsdWVzKCkuZm9udFNpemUsXG4gICAgKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcbiAgICAgICAgXCJ2aXZsaW9zdHlsZS1zZXR0aW5nc19yZXNldC11c2VyLXN0eWxlXCIsXG4gICAgICApWzBdIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICBlbGVtLmNoZWNrZWQgPSBmYWxzZTtcbiAgICB9LCAyMDApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZm9jdXNUb0ZpcnN0SXRlbShvdXRlckVsZW1QYXJhbT86IEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb25zdCBvdXRlckVsZW0gPSBvdXRlckVsZW1QYXJhbSB8fCB0aGlzLnNldHRpbmdzVG9nZ2xlO1xuICAgIGNvbnN0IGlucHV0RWxlbSA9IFtcImlucHV0XCIsIFwidGV4dGFyZWFcIiwgXCJzdW1tYXJ5XCJdLmluY2x1ZGVzKFxuICAgICAgb3V0ZXJFbGVtLmxvY2FsTmFtZSxcbiAgICApXG4gICAgICA/IG91dGVyRWxlbVxuICAgICAgOiBBcnJheS5mcm9tKG91dGVyRWxlbS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlucHV0XCIpKS5maW5kKFxuICAgICAgICAgIChlOiBIVE1MSW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gIWUuZGlzYWJsZWQgJiYgKGUudHlwZSAhPSBcInJhZGlvXCIgfHwgZS5jaGVja2VkKTtcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgIGlmIChpbnB1dEVsZW0pIHtcbiAgICAgIGZvciAoXG4gICAgICAgIGxldCBlID0gaW5wdXRFbGVtLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIGUgJiYgZSAhPSB0aGlzLnNldHRpbmdzVG9nZ2xlO1xuICAgICAgICBlID0gZS5wYXJlbnRFbGVtZW50XG4gICAgICApIHtcbiAgICAgICAgaWYgKGUubG9jYWxOYW1lID09IFwiZGV0YWlsc1wiKSB7XG4gICAgICAgICAgLy8gRklYTUU6IFJlbW92ZSB0cy1pZ25vcmUgY29tbWVudFxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICBlLm9wZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAoaW5wdXRFbGVtIGFzIEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50KS5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUtleShrZXkpOiBib29sZWFuIHtcbiAgICBjb25zdCBpc1NldHRpbmdzQWN0aXZlID1cbiAgICAgIHRoaXMub3BlbmVkKCkgJiYgdGhpcy5zZXR0aW5nc1RvZ2dsZS5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcbiAgICBjb25zdCBpc0luSW5wdXQgPVxuICAgICAgaXNTZXR0aW5nc0FjdGl2ZSAmJlxuICAgICAgKChkb2N1bWVudC5hY3RpdmVFbGVtZW50IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnR5cGUgPT0gXCJ0ZXh0XCIgfHxcbiAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5sb2NhbE5hbWUgPT0gXCJzZWxlY3RcIik7XG4gICAgY29uc3QgaXNJblRleHRBcmVhID1cbiAgICAgIGlzU2V0dGluZ3NBY3RpdmUgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5sb2NhbE5hbWUgPT0gXCJ0ZXh0YXJlYVwiO1xuICAgIGNvbnN0IGlzSG90S2V5RW5hYmxlZCA9IGlzU2V0dGluZ3NBY3RpdmUgJiYgIWlzSW5JbnB1dCAmJiAhaXNJblRleHRBcmVhO1xuXG4gICAgc3dpdGNoIChrZXkpIHtcbiAgICAgIGNhc2UgS2V5cy5Fc2NhcGU6XG4gICAgICAgIGlmICh0aGlzLm9wZW5lZCgpKSB7XG4gICAgICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIFwic1wiOlxuICAgICAgY2FzZSBcIlNcIjpcbiAgICAgICAgaWYgKCF0aGlzLm9wZW5lZCgpIHx8IGlzSG90S2V5RW5hYmxlZCB8fCAhaXNTZXR0aW5nc0FjdGl2ZSkge1xuICAgICAgICAgIHRoaXMudG9nZ2xlKCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBcInBcIjpcbiAgICAgIGNhc2UgXCJQXCI6XG4gICAgICAgIGlmIChpc0hvdEtleUVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmZvY3VzVG9GaXJzdEl0ZW0oXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICAgXCJ2aXZsaW9zdHlsZS1zZXR0aW5nc19wYWdlLXZpZXctYW5kLXJlbmRlcmluZ1wiLFxuICAgICAgICAgICAgKS5maXJzdEVsZW1lbnRDaGlsZCxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgXCJ2XCI6XG4gICAgICBjYXNlIFwiVlwiOlxuICAgICAgICBpZiAoaXNIb3RLZXlFbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aXZsaW9zdHlsZS1zZXR0aW5nc19wYWdlLXZpZXctbW9kZVwiKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgXCJhXCI6XG4gICAgICBjYXNlIFwiQVwiOlxuICAgICAgICBpZiAoaXNIb3RLZXlFbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoXG4gICAgICAgICAgICAgIFwidml2bGlvc3R5bGUtc2V0dGluZ3NfcmVuZGVyLWFsbC1wYWdlc1wiLFxuICAgICAgICAgICAgKVswXSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgXCJ1XCI6XG4gICAgICBjYXNlIFwiVVwiOlxuICAgICAgICBpZiAoaXNIb3RLZXlFbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aXZsaW9zdHlsZS1zZXR0aW5nc191c2VyLXN0eWxlXCIpXG4gICAgICAgICAgICAgIC5maXJzdEVsZW1lbnRDaGlsZCxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgXCJ6XCI6XG4gICAgICBjYXNlIFwiWlwiOlxuICAgICAgICBpZiAoaXNIb3RLZXlFbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aXZsaW9zdHlsZS1zZXR0aW5nc19wYWdlLXNpemVcIiksXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIFwibVwiOlxuICAgICAgY2FzZSBcIk1cIjpcbiAgICAgICAgaWYgKGlzSG90S2V5RW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbShcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidml2bGlvc3R5bGUtc2V0dGluZ3NfcGFnZS1tYXJnaW5cIiksXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIFwiYlwiOlxuICAgICAgY2FzZSBcIkJcIjpcbiAgICAgICAgaWYgKGlzSG90S2V5RW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbShcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidml2bGlvc3R5bGUtc2V0dGluZ3NfcGFnZS1icmVha3NcIiksXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIFwiaVwiOlxuICAgICAgY2FzZSBcIklcIjpcbiAgICAgICAgaWYgKGlzSG90S2V5RW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbShcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidml2bGlvc3R5bGUtc2V0dGluZ3NfaW1hZ2VzXCIpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBcInRcIjpcbiAgICAgIGNhc2UgXCJUXCI6XG4gICAgICAgIGlmIChpc0hvdEtleUVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmZvY3VzVG9GaXJzdEl0ZW0oXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpdmxpb3N0eWxlLXNldHRpbmdzX3RleHRcIiksXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIFwib1wiOlxuICAgICAgY2FzZSBcIk9cIjpcbiAgICAgICAgaWYgKGlzSG90S2V5RW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbShcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFxuICAgICAgICAgICAgICBcInZpdmxpb3N0eWxlLXNldHRpbmdzX292ZXJyaWRlLWRvY3VtZW50LXN0eWxlc2hlZXRzXCIsXG4gICAgICAgICAgICApWzBdLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBcImNcIjpcbiAgICAgIGNhc2UgXCJDXCI6XG4gICAgICAgIGlmIChpc0hvdEtleUVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmZvY3VzVG9GaXJzdEl0ZW0oXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcInZpdmxpb3N0eWxlLXNldHRpbmdzX2Nzcy1kZXRhaWxzXCIpWzBdLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBcInJcIjpcbiAgICAgIGNhc2UgXCJSXCI6XG4gICAgICAgIGlmIChpc0hvdEtleUVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmZvY3VzVG9GaXJzdEl0ZW0oXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcbiAgICAgICAgICAgICAgXCJ2aXZsaW9zdHlsZS1zZXR0aW5nc19yZXNldC11c2VyLXN0eWxlXCIsXG4gICAgICAgICAgICApWzBdLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBLZXlzLkVudGVyOlxuICAgICAgICBpZiAoXG4gICAgICAgICAgaXNJbklucHV0IHx8XG4gICAgICAgICAgKGlzSG90S2V5RW5hYmxlZCAmJlxuICAgICAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5pZCAhPT0gXCJ2aXZsaW9zdHlsZS1tZW51LWJ1dHRvbl9hcHBseVwiICYmXG4gICAgICAgICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmlkICE9PSBcInZpdmxpb3N0eWxlLW1lbnUtYnV0dG9uX3Jlc2V0XCIpXG4gICAgICAgICkge1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidml2bGlvc3R5bGUtbWVudS1idXR0b25fYXBwbHlcIikuZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2V0dGluZ3NQYW5lbDtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBrbywgeyBQdXJlQ29tcHV0ZWQgfSBmcm9tIFwia25vY2tvdXRcIjtcblxuaW1wb3J0IHsgTWVzc2FnZVF1ZXVlIH0gZnJvbSBcIi4uL21vZGVscy9tZXNzYWdlLXF1ZXVlXCI7XG5cbnR5cGUgRXJyb3JJbmZvID0ge1xuICBlcnJvcjoge1xuICAgIGZyYW1lVHJhY2U6IHN0cmluZztcbiAgICBzdGFjazogc3RyaW5nO1xuICB9O1xuICBtZXNzYWdlczogQXJyYXk8c3RyaW5nPjtcbn07XG5cbmNsYXNzIE1lc3NhZ2VEaWFsb2cge1xuICBsaXN0OiBNZXNzYWdlUXVldWU7XG4gIHZpc2libGU6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcblxuICBjb25zdHJ1Y3RvcihxdWV1ZTogTWVzc2FnZVF1ZXVlKSB7XG4gICAgdGhpcy5saXN0ID0gcXVldWU7XG4gICAgdGhpcy52aXNpYmxlID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHF1ZXVlKCkubGVuZ3RoID4gMCk7XG4gIH1cblxuICBnZXREaXNwbGF5TWVzc2FnZShlcnJvckluZm86IEVycm9ySW5mbyk6IHN0cmluZyB7XG4gICAgY29uc3QgZSA9IGVycm9ySW5mby5lcnJvcjtcbiAgICBsZXQgbXNnID0gZSAmJiAoZS50b1N0cmluZygpIHx8IGUuZnJhbWVUcmFjZSB8fCBlLnN0YWNrKTtcbiAgICBpZiAobXNnKSB7XG4gICAgICBtc2cgPSBtc2cuc3BsaXQoXCJcXG5cIiwgMSlbMF07XG4gICAgfVxuICAgIGlmICghbXNnKSB7XG4gICAgICBtc2cgPSBlcnJvckluZm8ubWVzc2FnZXMuam9pbihcIlxcblwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG1zZztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNZXNzYWdlRGlhbG9nO1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IFZpdmxpb3N0eWxlIGZyb20gXCIuLi92aXZsaW9zdHlsZVwiO1xuXG5pbXBvcnQgRG9jdW1lbnRPcHRpb25zIGZyb20gXCIuLi9tb2RlbHMvZG9jdW1lbnQtb3B0aW9uc1wiO1xuaW1wb3J0IFZpZXdlck9wdGlvbnMgZnJvbSBcIi4uL21vZGVscy92aWV3ZXItb3B0aW9uc1wiO1xuaW1wb3J0IG1lc3NhZ2VRdWV1ZSBmcm9tIFwiLi4vbW9kZWxzL21lc3NhZ2UtcXVldWVcIjtcbmltcG9ydCBWaWV3ZXJVSSBmcm9tIFwiLi92aWV3ZXJcIjtcbmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gXCIuL25hdmlnYXRpb25cIjtcbmltcG9ydCBTZXR0aW5nc1BhbmVsIGZyb20gXCIuL3NldHRpbmdzLXBhbmVsXCI7XG5pbXBvcnQgTWVzc2FnZURpYWxvZyBmcm9tIFwiLi9tZXNzYWdlLWRpYWxvZ1wiO1xuaW1wb3J0IHVybFBhcmFtZXRlcnMgZnJvbSBcIi4uL3N0b3Jlcy91cmwtcGFyYW1ldGVyc1wiO1xuaW1wb3J0IGtleVV0aWwgZnJvbSBcIi4uL3V0aWxzL2tleS11dGlsXCI7XG5pbXBvcnQgc3RyaW5nVXRpbCBmcm9tIFwiLi4vdXRpbHMvc3RyaW5nLXV0aWxcIjtcblxuZnVuY3Rpb24gVmlld2VyQXBwKCk6IHZvaWQge1xuICB0aGlzLmRvY3VtZW50T3B0aW9ucyA9IG5ldyBEb2N1bWVudE9wdGlvbnMoKTtcbiAgdGhpcy52aWV3ZXJPcHRpb25zID0gbmV3IFZpZXdlck9wdGlvbnMoKTtcblxuICB0aGlzLmRvY3VtZW50T3B0aW9ucy5wYWdlU3R5bGUuc2V0Vmlld2VyRm9udFNpemVPYnNlcnZhYmxlKFxuICAgIHRoaXMudmlld2VyT3B0aW9ucy5mb250U2l6ZSxcbiAgKTtcblxuICBpZiAodGhpcy52aWV3ZXJPcHRpb25zLnByb2ZpbGUoKSkge1xuICAgIFZpdmxpb3N0eWxlLnByb2ZpbGVyLmVuYWJsZSgpO1xuICB9XG4gIHRoaXMuaXNEZWJ1ZyA9IHVybFBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyKFwiZGVidWdcIilbMF0gPT09IFwidHJ1ZVwiO1xuICB0aGlzLnZpZXdlclNldHRpbmdzID0ge1xuICAgIHVzZXJBZ2VudFJvb3RVUkw6IGAke3VybFBhcmFtZXRlcnMuZ2V0QmFzZVVSTCgpfXJlc291cmNlcy9gLFxuICAgIHZpZXdwb3J0RWxlbWVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aXZsaW9zdHlsZS12aWV3ZXItdmlld3BvcnRcIiksXG4gICAgZGVidWc6IHRoaXMuaXNEZWJ1ZyxcbiAgfTtcblxuICAvLyBSZW1vdmUgcmVkdW5kYW50IG9yIGluZWZmZWN0aXZlIFVSTCBwYXJhbWV0ZXJzXG4gIGlmICh1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcImJcIilbMF0pIHtcbiAgICB1cmxQYXJhbWV0ZXJzLnJlbW92ZVBhcmFtZXRlcihcImJcIiwgdHJ1ZSk7IC8vIG9ubHkgZmlyc3Qgb25lIGlzIGVmZmVjdGl2ZVxuICAgIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwieFwiKTsgLy8geD0gaXMgaW5lZmZlY3RpdmUgd2hlbiBiPSBpcyBnaXZlblxuICB9XG4gIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwiZlwiLCB0cnVlKTsgLy8gb25seSBmaXJzdCBvbmUgaXMgZWZmZWN0aXZlXG4gIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwic3ByZWFkXCIsIHRydWUpO1xuICB1cmxQYXJhbWV0ZXJzLnJlbW92ZVBhcmFtZXRlcihcInJlbmRlckFsbFBhZ2VzXCIsIHRydWUpO1xuICB1cmxQYXJhbWV0ZXJzLnJlbW92ZVBhcmFtZXRlcihcImZvbnRTaXplXCIsIHRydWUpO1xuICB1cmxQYXJhbWV0ZXJzLnJlbW92ZVBhcmFtZXRlcihcInByb2ZpbGVcIiwgdHJ1ZSk7XG4gIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwiZGVidWdcIiwgdHJ1ZSk7XG5cbiAgdGhpcy52aWV3ZXIgPSBuZXcgVmlld2VyVUkodGhpcy52aWV3ZXJTZXR0aW5ncywgdGhpcy52aWV3ZXJPcHRpb25zKTtcblxuICB0aGlzLnZpZXdlci5pbnB1dFVybC5zdWJzY3JpYmUoKGlucHV0VXJsOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoaW5wdXRVcmwgIT0gXCJcIikge1xuICAgICAgaWYgKCF1cmxQYXJhbWV0ZXJzLmhhc1BhcmFtZXRlcihcImJcIikpIHtcbiAgICAgICAgLy8gUHVzaCBjdXJyZW50IFVSTCB0byBicm93c2VyIGhpc3RvcnkgdG8gZW5hYmxlIHRvIGdvIGJhY2sgaGVyZSB3aGVuIGJyb3dzZXIgQmFjayBidXR0b24gaXMgY2xpY2tlZC5cbiAgICAgICAgaWYgKHVybFBhcmFtZXRlcnMuaGlzdG9yeS5wdXNoU3RhdGUpXG4gICAgICAgICAgdXJsUGFyYW1ldGVycy5oaXN0b3J5LnB1c2hTdGF0ZShudWxsLCBcIlwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChpbnB1dFVybC5zdGFydHNXaXRoKFwiPFwiKSkge1xuICAgICAgICAvLyBzZWVtcyBzdGFydCB0YWcsIHNvIGNvbnZlcnQgdG8gZGF0YSB1cmxcbiAgICAgICAgaW5wdXRVcmwgPSBcImRhdGE6LFwiICsgc3RyaW5nVXRpbC5wZXJjZW50RW5jb2RlRm9yRGF0YVVSSShpbnB1dFVybCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnB1dFVybCA9IHN0cmluZ1V0aWwucGVyY2VudEVuY29kZUFtcGVyc2FuZEFuZFVuZW5jb2RlZFBlcmNlbnQoXG4gICAgICAgICAgaW5wdXRVcmwsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB1cmxQYXJhbWV0ZXJzLnNldFBhcmFtZXRlcihcImJcIiwgaW5wdXRVcmwpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cmxQYXJhbWV0ZXJzLnJlbW92ZVBhcmFtZXRlcihcImJcIik7XG4gICAgfVxuICB9KTtcblxuICB0aGlzLm1lc3NhZ2VEaWFsb2cgPSBuZXcgTWVzc2FnZURpYWxvZyhtZXNzYWdlUXVldWUpO1xuXG4gIGNvbnN0IHNldHRpbmdzUGFuZWxPcHRpb25zID0ge1xuICAgIGRpc2FibGVQYWdlU3R5bGVDaGFuZ2U6IGZhbHNlLFxuICAgIGRpc2FibGVQYWdlVmlld01vZGVDaGFuZ2U6IGZhbHNlLFxuICAgIGRpc2FibGVSZW5kZXJBbGxQYWdlc0NoYW5nZTogZmFsc2UsXG4gIH07XG5cbiAgdGhpcy5zZXR0aW5nc1BhbmVsID0gbmV3IFNldHRpbmdzUGFuZWwoXG4gICAgdGhpcy52aWV3ZXJPcHRpb25zLFxuICAgIHRoaXMuZG9jdW1lbnRPcHRpb25zLFxuICAgIHRoaXMudmlld2VyLFxuICAgIHRoaXMubWVzc2FnZURpYWxvZyxcbiAgICBzZXR0aW5nc1BhbmVsT3B0aW9ucyxcbiAgKTtcblxuICBjb25zdCBuYXZpZ2F0aW9uT3B0aW9ucyA9IHtcbiAgICBkaXNhYmxlVE9DTmF2aWdhdGlvbjogZmFsc2UsXG4gICAgZGlzYWJsZVBhZ2VOYXZpZ2F0aW9uOiBmYWxzZSxcbiAgICBkaXNhYmxlWm9vbTogZmFsc2UsXG4gICAgZGlzYWJsZUZvbnRTaXplQ2hhbmdlOiBmYWxzZSxcbiAgfTtcblxuICB0aGlzLm5hdmlnYXRpb24gPSBuZXcgTmF2aWdhdGlvbihcbiAgICB0aGlzLnZpZXdlck9wdGlvbnMsXG4gICAgdGhpcy52aWV3ZXIsXG4gICAgdGhpcy5zZXR0aW5nc1BhbmVsLFxuICAgIG5hdmlnYXRpb25PcHRpb25zLFxuICApO1xuXG4gIHRoaXMuaGFuZGxlS2V5ID0gKGRhdGEsIGV2ZW50KTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3Qga2V5ID0ga2V5VXRpbC5pZGVudGlmeUtleUZyb21FdmVudChldmVudCk7XG4gICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuaWQgPT09IFwidml2bGlvc3R5bGUtaW5wdXQtdXJsXCIpIHtcbiAgICAgIGlmIChrZXkgPT09IFwiRW50ZXJcIiAmJiBldmVudC5rZXlDb2RlID09PSAxMykge1xuICAgICAgICB0aGlzLmRvY3VtZW50T3B0aW9ucy5ib29rVXJsKHVybFBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyKFwiYlwiKVswXSk7XG4gICAgICAgIHRoaXMudmlld2VyLmxvYWREb2N1bWVudCh0aGlzLmRvY3VtZW50T3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAoIShrZXkgPT09IFwiSG9tZVwiIHx8IGtleSA9PT0gXCJFbmRcIikgJiZcbiAgICAgICAgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkpIHx8XG4gICAgICBldmVudC5hbHRLZXkgfHxcbiAgICAgIGV2ZW50LnNoaWZ0S2V5XG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IHJldCA9IHRoaXMuc2V0dGluZ3NQYW5lbC5oYW5kbGVLZXkoa2V5KTtcbiAgICBpZiAocmV0KSB7XG4gICAgICByZXQgPSB0aGlzLm5hdmlnYXRpb24uaGFuZGxlS2V5KGtleSk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH07XG5cbiAgdGhpcy52aWV3ZXIubG9hZERvY3VtZW50KHRoaXMuZG9jdW1lbnRPcHRpb25zKTtcblxuICB3aW5kb3cub25oYXNoY2hhbmdlID0gKCk6IHZvaWQgPT4ge1xuICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZiAhPSB1cmxQYXJhbWV0ZXJzLnN0b3JlZFVybCkge1xuICAgICAgLy8gUmVsb2FkIHdoZW4gYWRkcmVzcyBiYXIgY2hhbmdlIGlzIGRldGVjdGVkXG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBWaWV3ZXJBcHA7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQga28gZnJvbSBcImtub2Nrb3V0XCI7XG5cbmNvbnN0IHN1cHBvcnRUb3VjaEV2ZW50cyA9IFwib250b3VjaHN0YXJ0XCIgaW4gd2luZG93O1xuXG5rby5iaW5kaW5nSGFuZGxlcnMubWVudUJ1dHRvbiA9IHtcbiAgaW5pdChlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKTogdm9pZCB7XG4gICAgaWYgKGtvLnVud3JhcCh2YWx1ZUFjY2Vzc29yKCkpKSB7XG4gICAgICBpZiAoc3VwcG9ydFRvdWNoRXZlbnRzKSB7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgKCkgPT4ge1xuICAgICAgICAgIGtvLnV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzcyhlbGVtZW50LCBcImhvdmVyIGFjdGl2ZVwiLCB0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsICgpID0+IHtcbiAgICAgICAgICBrby51dGlscy50b2dnbGVEb21Ob2RlQ3NzQ2xhc3MoZWxlbWVudCwgXCJob3ZlciBhY3RpdmVcIiwgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCAoKSA9PiB7XG4gICAgICAgICAga28udXRpbHMudG9nZ2xlRG9tTm9kZUNzc0NsYXNzKGVsZW1lbnQsIFwiaG92ZXJcIiwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKCkgPT4ge1xuICAgICAgICAgIGtvLnV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzcyhlbGVtZW50LCBcImFjdGl2ZVwiLCB0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgKCkgPT4ge1xuICAgICAgICAgIGtvLnV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzcyhlbGVtZW50LCBcImFjdGl2ZVwiLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCAoKSA9PiB7XG4gICAgICAgICAga28udXRpbHMudG9nZ2xlRG9tTm9kZUNzc0NsYXNzKGVsZW1lbnQsIFwiaG92ZXJcIiwgZmFsc2UpO1xuICAgICAgICAgIGtvLnV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzcyhlbGVtZW50LCBcImFjdGl2ZVwiLCBmYWxzZSk7XG4gICAgICAgICAgd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpOyAvLyBwcmV2ZW50IHVud2FudGVkIHRleHQgc2VsZWN0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbn07XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTggVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGtvIGZyb20gXCJrbm9ja291dFwiO1xuXG5jb25zdCBzdXBwb3J0VG91Y2hFdmVudHMgPSBcIm9udG91Y2hzdGFydFwiIGluIHdpbmRvdztcblxubGV0IHhTdGFydCA9IG51bGw7XG5sZXQgeVN0YXJ0ID0gbnVsbDtcbmxldCBhcnJvd0J1dHRvbiA9IG51bGw7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgdmlzdWFsVmlld3BvcnQ/OiB7XG4gICAgICBvZmZzZXRMZWZ0OiBSZWFkb25seTxudW1iZXI+O1xuICAgICAgb2Zmc2V0VG9wOiBSZWFkb25seTxudW1iZXI+O1xuICAgICAgcGFnZUxlZnQ6IFJlYWRvbmx5PG51bWJlcj47XG4gICAgICBwYWdlVG9wOiBSZWFkb25seTxudW1iZXI+O1xuICAgICAgd2lkdGg6IFJlYWRvbmx5PG51bWJlcj47XG4gICAgICBoZWlnaHQ6IFJlYWRvbmx5PG51bWJlcj47XG4gICAgICBzY2FsZTogUmVhZG9ubHk8bnVtYmVyPjtcbiAgICB9O1xuICB9XG59XG5cbmtvLmJpbmRpbmdIYW5kbGVycy5zd2lwZVBhZ2VzID0ge1xuICBpbml0KGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IpOiB2b2lkIHtcbiAgICBpZiAoc3VwcG9ydFRvdWNoRXZlbnRzICYmIGtvLnVud3JhcCh2YWx1ZUFjY2Vzc29yKCkpKSB7XG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgcmV0dXJuOyAvLyBtdWx0aS10b3VjaCBpcyBub3QgZm9yIHBhZ2Ugc3dpcGVcbiAgICAgICAgfVxuICAgICAgICBpZiAod2luZG93LnZpc3VhbFZpZXdwb3J0ICYmIHdpbmRvdy52aXN1YWxWaWV3cG9ydC5zY2FsZSA+IDEpIHtcbiAgICAgICAgICByZXR1cm47IC8vIGRpc2FibGUgcGFnZSBzd2lwZSB3aGVuIHBpbmNoLXpvb21lZFxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgIFwidml2bGlvc3R5bGUtdmlld2VyLXZpZXdwb3J0XCIsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQgJiZcbiAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsV2lkdGggPiB2aWV3cG9ydEVsZW1lbnQuY2xpZW50V2lkdGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuOyAvLyBkaXNhYmxlIHBhZ2Ugc3dpcGUgd2hlbiBob3Jpem9udGFsIHNjcm9sbGFibGVcbiAgICAgICAgfVxuICAgICAgICB4U3RhcnQgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICAgIHlTdGFydCA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgIH0pO1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4U3RhcnQgIT09IG51bGwgJiYgeVN0YXJ0ICE9PSBudWxsKSB7XG4gICAgICAgICAgY29uc3QgeERpZmYgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFggLSB4U3RhcnQ7XG4gICAgICAgICAgY29uc3QgeURpZmYgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFkgLSB5U3RhcnQ7XG4gICAgICAgICAgaWYgKE1hdGguYWJzKHhEaWZmKSA+IE1hdGguYWJzKHlEaWZmKSkge1xuICAgICAgICAgICAgaWYgKHhEaWZmIDwgMCkge1xuICAgICAgICAgICAgICAvLyBzd2lwZSB0byBsZWZ0ID0gZ28gdG8gcmlnaHRcbiAgICAgICAgICAgICAgYXJyb3dCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICAgICBcInZpdmxpb3N0eWxlLXBhZ2UtbmF2aWdhdGlvbi1yaWdodFwiLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gc3dpcGUgdG8gcmlnaHQgPSBnbyB0byBsZWZ0XG4gICAgICAgICAgICAgIGFycm93QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAgICAgXCJ2aXZsaW9zdHlsZS1wYWdlLW5hdmlnYXRpb24tbGVmdFwiLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoTWF0aC5hYnMoeERpZmYpICsgTWF0aC5hYnMoeURpZmYpID49IDE2KSB7XG4gICAgICAgICAgICBpZiAoYXJyb3dCdXR0b24pIHtcbiAgICAgICAgICAgICAgYXJyb3dCdXR0b24uY2xpY2soKTtcbiAgICAgICAgICAgICAga28udXRpbHMudG9nZ2xlRG9tTm9kZUNzc0NsYXNzKGFycm93QnV0dG9uLCBcImFjdGl2ZVwiLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHhTdGFydCA9IG51bGw7XG4gICAgICAgICAgICB5U3RhcnQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCAoKSA9PiB7XG4gICAgICAgIGlmIChhcnJvd0J1dHRvbikge1xuICAgICAgICAgIGtvLnV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzcyhhcnJvd0J1dHRvbiwgXCJhY3RpdmVcIiwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGFycm93QnV0dG9uID0gbnVsbDtcbiAgICAgICAgeFN0YXJ0ID0gbnVsbDtcbiAgICAgICAgeVN0YXJ0ID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbn07XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQga28gZnJvbSBcImtub2Nrb3V0XCI7XG5cbmltcG9ydCBWaWV3ZXJBcHAgZnJvbSBcIi4vdmlld21vZGVscy92aWV3ZXItYXBwXCI7XG5cbmltcG9ydCBcIi4vYmluZGluZ3MvbWVudUJ1dHRvblwiO1xuaW1wb3J0IFwiLi9iaW5kaW5ncy9zd2lwZVBhZ2VzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgc3RhcnQoKTogdm9pZCB7XG4gICAgZnVuY3Rpb24gc3RhcnRWaWV3ZXIoKTogdm9pZCB7XG4gICAgICBrby5hcHBseUJpbmRpbmdzKG5ldyBWaWV3ZXJBcHAoKSk7XG4gICAgfVxuXG4gICAgaWYgKHdpbmRvd1tcIl9fbG9hZGVkXCJdKSBzdGFydFZpZXdlcigpO1xuICAgIGVsc2Ugd2luZG93Lm9ubG9hZCA9IHN0YXJ0Vmlld2VyO1xuICB9LFxufTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCB2aXZsaW9zdHlsZVZpZXdlciBmcm9tIFwiLi92aXZsaW9zdHlsZS12aWV3ZXJcIjtcblxudml2bGlvc3R5bGVWaWV3ZXIuc3RhcnQoKTtcbiJdLCJuYW1lcyI6WyJNb2RlIiwibiIsIkEiLCJ0aGlzIiwiZXZhbCIsInciLCJkb2N1bWVudCIsIlIiLCJuYXZpZ2F0b3IiLCJ2IiwialF1ZXJ5IiwiSCIsIkpTT04iLCJtb2R1bGUiLCJleHBvcnRzIiwiUyIsIlQiLCJLIiwiYSIsImMiLCJXIiwiWCIsImIiLCJkIiwic2V0VGltZW91dCIsIlkiLCJjbGVhclRpbWVvdXQiLCJaIiwicGMiLCJnYiIsInFjIiwiYWEiLCJzIiwiYmEiLCJxZCIsImUiLCJyIiwicmEiLCJRYiIsIm1iIiwidWMiLCJJIiwiSiIsImRhIiwiJGMiLCJKYSIsImdkIiwiZiIsImciLCJzcGxpdCIsImxlbmd0aCIsIkwiLCJ2ZXJzaW9uIiwib3B0aW9ucyIsImRlZmVyVXBkYXRlcyIsInVzZU9ubHlOYXRpdmVFdmVudHMiLCJmb3JlYWNoSGlkZXNEZXN0cm95ZWQiLCJjYWxsIiwiX19wcm90b19fIiwibCIsIm1hdGNoIiwicSIsIkQiLCJOYSIsImpvaW4iLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsIkFycmF5IiwiaCIsIlN5bWJvbCIsIm0iLCJrIiwidGVzdCIsInVzZXJBZ2VudCIsIk1vdXNlRXZlbnRzIiwidCIsInByb3BlcnR5Y2hhbmdlIiwicCIsImNyZWF0ZUVsZW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImlubmVySFRNTCIsIkpjIiwiaW5kZXhPZiIsIkxiIiwiUGEiLCJzcGxpY2UiLCJzaGlmdCIsIndjIiwicHVzaCIsIk1iIiwiamIiLCJOYiIsImFwcGx5IiwiYmMiLCJCYSIsImV4dGVuZCIsInNldFByb3RvdHlwZU9mIiwiQWIiLCJQIiwiR2EiLCJUYiIsImZpcnN0Q2hpbGQiLCJyZW1vdmVOb2RlIiwiWWIiLCJsYSIsIm93bmVyRG9jdW1lbnQiLCJhcHBlbmRDaGlsZCIsIm9hIiwiQ2EiLCJjbG9uZU5vZGUiLCJ2YSIsIlhjIiwibm9kZVR5cGUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiVWEiLCJuZXh0U2libGluZyIsIlpjIiwic2V0QXR0cmlidXRlIiwic2VsZWN0ZWQiLCJEYiIsInRyaW0iLCJ0b1N0cmluZyIsInJlcGxhY2UiLCJVZCIsInN1YnN0cmluZyIsInZkIiwiY29udGFpbnMiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsIlNiIiwiZG9jdW1lbnRFbGVtZW50Iiwia2QiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJBYyIsIm9uRXJyb3IiLCJhcmd1bWVudHMiLCJHYyIsIkIiLCJhZGRFdmVudExpc3RlbmVyIiwiYXR0YWNoRXZlbnQiLCJFcnJvciIsInphIiwiZGV0YWNoRXZlbnQiLCJvbiIsIkZiIiwidHlwZSIsImNyZWF0ZUV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsImluaXRFdmVudCIsImNsaWNrIiwiZmlyZUV2ZW50IiwidHJpZ2dlciIsIk8iLCJFYiIsImNsYXNzTGlzdCIsImNsYXNzTmFtZSIsImJhc2VWYWwiLCJCYiIsImNyZWF0ZVRleHROb2RlIiwiZGF0YSIsIkFkIiwiWWMiLCJuYW1lIiwiY2hhckNvZGVBdCIsIm1lcmdlQXR0cmlidXRlcyIsInN0eWxlIiwiem9vbSIsIndkIiwid2lkdGgiLCJQZCIsIkRhIiwiWmQiLCIkZCIsIkxjIiwiY29uY2F0IiwiTmQiLCJwYXJzZSIsIkZ1bmN0aW9uIiwiaGMiLCJzdHJpbmdpZnkiLCJPZCIsInBhcmFtcyIsImluY2x1ZGVGaWVsZHMiLCJhY3Rpb24iLCJ2YWx1ZSIsImRpc3BsYXkiLCJtZXRob2QiLCJib2R5Iiwic3VibWl0dGVyIiwic3VibWl0IiwicmVtb3ZlQ2hpbGQiLCJiaW5kIiwic2xpY2UiLCJEYXRlIiwiZ2V0VGltZSIsImdldCIsInNldCIsIlViIiwiY2xlYXIiLCJjbGVhbkV4dGVybmFsRGF0YSIsImNoaWxkTm9kZXMiLCJ5YiIsInUiLCJHIiwiY2xlYW5EYXRhIiwidGhlYWQiLCJ0Ym9keSIsInRmb290IiwidHIiLCJ0ZCIsInRoIiwib3B0aW9uIiwib3B0Z3JvdXAiLCJ1YSIsInBhcnNlSFRNTCIsImNsZWFuIiwicGFyZW50V2luZG93IiwiZGVmYXVsdFZpZXciLCJpbm5lclNoaXYiLCJsYXN0Q2hpbGQiLCJNZCIsInBhcmVudEVsZW1lbnQiLCJmYyIsImh0bWwiLCJYYiIsIk1hdGgiLCJyYW5kb20iLCJiZCIsImNkIiwiVWMiLCJub2RlVmFsdWUiLCJ1ZCIsIktkIiwibmEiLCJzY2hlZHVsZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwib2JzZXJ2ZSIsImF0dHJpYnV0ZXMiLCJ0b2dnbGUiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJ6YiIsImNhbmNlbCIsInJlc2V0Rm9yVGVzdGluZyIsIlNkIiwiVGEiLCJ0aHJvdHRsZSIsInRocm90dGxlRXZhbHVhdGlvbiIsIiQiLCJyZWFkIiwid3JpdGUiLCJyYXRlTGltaXQiLCJ0aW1lb3V0IiwiSGIiLCJ1YiIsImRlZmVycmVkIiwibm90aWZ5U3Vic2NyaWJlcnMiLCJub3RpZnkiLCJlcXVhbGl0eUNvbXBhcmVyIiwidW5kZWZpbmVkIiwibnVtYmVyIiwic3RyaW5nIiwiaWMiLCJsYyIsIm1jIiwiSWIiLCJmYiIsIkpiIiwicWIiLCJVIiwiY2hhbmdlIiwic2MiLCJzdWJzY3JpYmUiLCJoYiIsIlFhIiwiR2IiLCJXYSIsImVkIiwieGMiLCJlbmQiLCJvYiIsIkRkIiwibmMiLCJzYiIsInJjIiwiQmQiLCJmbiIsIlFjIiwicG9wIiwiY2MiLCJvZCIsInBkIiwiZmQiLCJxYSIsIm8iLCJWYSIsIllhIiwiWWQiLCJ0YSIsInlhIiwieGEiLCJGIiwiTWEiLCJaYSIsIk5jIiwiSGEiLCJ0cmFja0FycmF5Q2hhbmdlcyIsInJlbW92ZSIsInJlbW92ZUFsbCIsImRlc3Ryb3kiLCJfZGVzdHJveSIsImRlc3Ryb3lBbGwiLCJzb3J0ZWQiLCJzb3J0IiwicmV2ZXJzZWQiLCJyZXZlcnNlIiwiemMiLCJQYyIsIlBiIiwiT2IiLCJzcGFyc2UiLCJzdGF0dXMiLCJpbmRleCIsIm1pbiIsIm1heCIsIktjIiwibmIiLCJrYSIsIlhhIiwiaGEiLCJzYSIsInJiIiwiamMiLCJ3YiIsIldjIiwib3duZXIiLCJkaXNwb3NlV2hlbk5vZGVJc1JlbW92ZWQiLCJTYSIsImRpc3Bvc2VXaGVuIiwiUmIiLCJWIiwiSWMiLCJDIiwicHVyZSIsImRlZmVyRXZhbHVhdGlvbiIsImVhIiwiamEiLCJLYSIsIlZiIiwiTGEiLCJJYSIsIkpkIiwiUmQiLCJIYyIsInpkIiwieWQiLCJOIiwiT2MiLCJGZCIsInhiIiwiUmVnRXhwIiwiU3RyaW5nIiwiTnVtYmVyIiwiQm9vbGVhbiIsInNhdmUiLCJ0b0pTT04iLCJrZXlzIiwidmFsdWVzIiwiYWQiLCJjb25zdHJ1Y3RvciIsIldkIiwibWEiLCJQcm9taXNlIiwiTSIsIl9fa29fX2hhc0RvbURhdGFPcHRpb25WYWx1ZV9fIiwiJGIiLCJnZXRBdHRyaWJ1dGVOb2RlIiwic3BlY2lmaWVkIiwidGV4dCIsInNlbGVjdGVkSW5kZXgiLCJjYiIsInNpemUiLCJ4Iiwia2V5IiwidW5rbm93biIsInN1YnN0ciIsIlJhIiwid2EiLCJhYyIsInZiIiwiZ2V0QmluZGluZ0hhbmRsZXIiLCJwcmVwcm9jZXNzIiwidmFsdWVBY2Nlc3NvcnMiLCJiaW5kaW5nUGFyYW1zIiwiSWQiLCJlYiIsImNyZWF0ZUNvbW1lbnQiLCJ1bCIsIm9sIiwiRWEiLCJWYyIsIldiIiwiQ2QiLCJWZCIsIlNjIiwiZ2EiLCJuZCIsIm5vZGVIYXNCaW5kaW5ncyIsImdldEF0dHJpYnV0ZSIsImoiLCJnZXRDb21wb25lbnROYW1lRm9yTm9kZSIsImdldEJpbmRpbmdzIiwiZ2V0QmluZGluZ3NTdHJpbmciLCJwYXJzZUJpbmRpbmdzU3RyaW5nIiwidGMiLCJnZXRCaW5kaW5nQWNjZXNzb3JzIiwibWVzc2FnZSIsImluc3RhbmNlIiwieiIsIlRjIiwibm9kZSIsInljIiwia2IiLCJLYiIsInByZXByb2Nlc3NOb2RlIiwiaSIsImJpbmRpbmdDb250ZXh0Rm9yRGVzY2VuZGFudHMiLCJoZCIsImNvbnRleHQiLCJaYiIsImhhcyIsIkVjIiwicGEiLCJDYiIsImNhIiwiYWZ0ZXIiLCJNYyIsImluaXQiLCJ1cGRhdGUiLCIkZGF0YSIsImNvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzIiwic2hvdWxkQmluZERlc2NlbmRhbnRzIiwiZmEiLCJzY3JpcHQiLCJ0ZXh0YXJlYSIsInRlbXBsYXRlIiwiJHBhcmVudHMiLCIkcm9vdCIsImtvIiwiJHJhd0RhdGEiLCJkYXRhRGVwZW5kZW5jeSIsImV4cG9ydERlcGVuZGVuY2llcyIsImNyZWF0ZUNoaWxkQ29udGV4dCIsImFzIiwibm9DaGlsZENvbnRleHQiLCIkcGFyZW50Q29udGV4dCIsIiRwYXJlbnQiLCJ1bnNoaWZ0Iiwic2QiLCJDYyIsIkZhIiwibm90aWZ5SW1tZWRpYXRlbHkiLCJUZCIsImliIiwibGQiLCJPYSIsInZjIiwiRGMiLCJzeW5jaHJvbm91cyIsImRlZmluaXRpb24iLCJHZCIsImxvYWRlcnMiLCJzdXBwcmVzc0xvYWRlckV4Y2VwdGlvbnMiLCJCYyIsIm9jIiwidmlld01vZGVsIiwiY29udGVudCIsIkRvY3VtZW50RnJhZ21lbnQiLCJyZXF1aXJlIiwiWGQiLCJyZWdpc3RlciIsInRiIiwidW5yZWdpc3RlciIsIkZjIiwiZ2V0Q29uZmlnIiwibG9hZENvbXBvbmVudCIsImxvYWRUZW1wbGF0ZSIsImVsZW1lbnQiLCJIVE1MRWxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwibG9hZFZpZXdNb2RlbCIsImRkIiwiJHJhdyIsImNvbXBvbmVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJkaXNwb3NlIiwiY3JlYXRlVmlld01vZGVsIiwidGVtcGxhdGVOb2RlcyIsIiRjb21wb25lbnQiLCIkY29tcG9uZW50VGVtcGxhdGVOb2RlcyIsImtvRGVzY2VuZGFudHNDb21wbGV0ZSIsImF0dHIiLCJsb29rdXBOYW1lc3BhY2VVUkkiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZU5TIiwiY2hlY2tlZCIsInVuaXF1ZU5hbWUiLCJjaGVja2VkVmFsdWUiLCJfX2tvX19jc3NWYWx1ZSIsImNzcyIsImVuYWJsZSIsImRpc2FibGVkIiwiZGlzYWJsZSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJyZXR1cm5WYWx1ZSIsImNhbmNlbEJ1YmJsZSIsInN0b3BQcm9wYWdhdGlvbiIsImZvcmVhY2giLCJSYyIsImluY2x1ZGVEZXN0cm95ZWQiLCJhZnRlckFkZCIsImJlZm9yZVJlbW92ZSIsImFmdGVyUmVuZGVyIiwiYmVmb3JlTW92ZSIsImFmdGVyTW92ZSIsInRlbXBsYXRlRW5naW5lIiwiaGFzZm9jdXMiLCJfX2tvX2hhc2ZvY3VzVXBkYXRpbmciLCJhY3RpdmVFbGVtZW50IiwiX19rb19oYXNmb2N1c0xhc3RWYWx1ZSIsImZvY3VzIiwiYmx1ciIsImhhc0ZvY3VzIiwibGV0IiwiUSIsIm11bHRpcGxlIiwic2Nyb2xsVG9wIiwiZWMiLCJhYnMiLCJzZWxlY3RlZE9wdGlvbnMiLCJzZXRQcm9wZXJ0eSIsInRvVXBwZXJDYXNlIiwiaXNOYU4iLCJwYXJzZUZsb2F0Iiwib3BlcmEiLCJwYXJzZUludCIsInRleHRJbnB1dCIsInkiLCJwcm9wZXJ0eU5hbWUiLCJ0ZXh0aW5wdXQiLCJyZCIsInVzaW5nIiwiYXV0b2NvbXBsZXRlIiwiZm9ybSIsInZpc2libGUiLCJoaWRkZW4iLCJyZW5kZXJUZW1wbGF0ZVNvdXJjZSIsImNyZWF0ZUphdmFTY3JpcHRFdmFsdWF0b3JCbG9jayIsIm1ha2VUZW1wbGF0ZVNvdXJjZSIsImlhIiwicmVuZGVyVGVtcGxhdGUiLCJpc1RlbXBsYXRlUmV3cml0dGVuIiwiYWxsb3dUZW1wbGF0ZVJld3JpdGluZyIsInJld3JpdGVUZW1wbGF0ZSIsImtjIiwieGQiLCJMZCIsIm1kIiwibm9kZU5hbWUiLCJhYiIsIm5vZGVzIiwibGIiLCJqZCIsImJiIiwicHJldmlvdXNTaWJsaW5nIiwiZ2MiLCJkYyIsIlFkIiwiJGluZGV4IiwiaWZub3QiLCJtb3ZlZCIsImRvbnRMaW1pdE1vdmVzIiwiQWEiLCJwYiIsIl9jb3VudFdhaXRpbmdGb3JSZW1vdmUiLCJFIiwiRWQiLCIkYSIsIkhkIiwidG1wbCIsInRhZyIsIm9wZW4iLCJrb0JpbmRpbmdDb250ZXh0IiwidGVtcGxhdGVPcHRpb25zIiwiYXBwZW5kVG8iLCJmcmFnbWVudHMiLCJhZGRUZW1wbGF0ZSIsImtvX2NvZGUiLCJrb193aXRoIiwiY2xvc2UiLCJzZXREZWJ1ZyIsImlzRGVidWciLCJwYWdlUHJvZ3Jlc3Npb25PZiIsInN0ciIsIlBhZ2VQcm9ncmVzc2lvbiIsIkxUUiIsIlJUTCIsIlBhZ2VTaWRlIiwiUmVhZHlTdGF0ZSIsImNvbnN0YW50cyIsIkxvZ0xldmVsIiwiYXJndW1lbnRzVG9FcnJvckluZm8iLCJhcmdzIiwiZnJvbSIsImVycm9yIiwibWVzc2FnZXMiLCJidWlsZE1lc3NhZ2VBbmRTdGFja1RyYWNlIiwic3RhY2siLCJmcmFtZVRyYWNlIiwibG9nZ2VyIiwiW29iamVjdCBPYmplY3RdIiwib3B0X2NvbnNvbGUiLCJtc2ciLCJkZWJ1ZyIsImxvZyIsImNvbnNvbGUiLCJpbmZvIiwid2FybiIsImxldmVsIiwibGlzdGVuZXJzIiwiZm9yRWFjaCIsImxpc3RlbmVyIiwidmFyX2FyZ3MiLCJjb25zb2xlRGVidWciLCJ0cmlnZ2VyTGlzdGVuZXJzIiwiREVCVUciLCJjb25zb2xlSW5mbyIsIklORk8iLCJjb25zb2xlV2FybiIsIldBUk4iLCJjb25zb2xlRXJyb3IiLCJFUlJPUiIsIkhPT0tTIiwiaG9va3MiLCJyZWdpc3Rlckhvb2siLCJob29rc0Zvck5hbWUiLCJMb2dnaW5nLmxvZ2dlciIsInJlbW92ZUhvb2siLCJnZXRIb29rc0Zvck5hbWUiLCJwbHVnaW4iLCJQcm9maWxlciIsInBlcmZvcm1hbmNlSW5zdGFuY2UiLCJyZWdpc3RlclRpbWluZyIsIm5vb3AiLCJyZWdpc3RlclN0YXJ0VGltaW5nIiwicmVnaXN0ZXJFbmRUaW1pbmciLCJ0aW1lc3RhbXAiLCJ0aW1lc3RhbXBzIiwic3QiLCJzdGFtcHMiLCJzdGFydCIsInN0YXJ0RW5kIiwibm93IiwiZmFsbGJhY2tQZXJmb3JtYW5jZUluc3RhbmNlIiwicHJvZmlsZXIiLCJ3aW5kb3ciLCJwZXJmb3JtYW5jZSIsImZvcmNlUmVnaXN0ZXJTdGFydFRpbWluZyIsInByb2ZpbGUiLCJwcmludFRpbWluZ3MiLCJlbXB0eU9iaiIsInN0cmluZ1RvSlNPTiIsInN0cmlwRnJhZ21lbnQiLCJ1cmwiLCJiYXNlVVJMIiwibG9jYXRpb24iLCJocmVmIiwic2V0QmFzZVVSTCIsInJlc291cmNlQmFzZVVSTCIsInNldFJlc291cmNlQmFzZVVSTCIsInJlc29sdmVVUkwiLCJyZWxVUkwiLCJzdGFydHNXaXRoIiwic3RyaXBGcmFnbWVudEFuZFF1ZXJ5IiwibGFzdEluZGV4T2YiLCJ1cmxPcHRpb24iLCJjb252ZXJ0U3BlY2lhbFVSTCIsImV4ZWMiLCJOUyIsImFzU3RyaW5nIiwiUHJpb3JpdHlRdWV1ZSIsInF1ZXVlIiwiaXRlbSIsInBhcmVudEluZGV4IiwiZmxvb3IiLCJwYXJlbnQiLCJjb21wYXJlIiwicmVzdWx0IiwiY3VyciIsImNoaWxkSW5kZXgiLCJrbm93blByZWZpeGVzIiwicHJvcE5hbWVNYXAiLCJjaGVja0lmUHJvcGVydHlTdXBwb3J0ZWQiLCJwcmVmaXgiLCJwcm9wIiwicHJvYmUiLCJjc3NQcm9wTmFtZSIsInR4dCIsImNzc1RvSlNQcm9wIiwiZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWVzIiwicHJlZml4ZWQiLCJzZXRDU1NQcm9wZXJ0eSIsImVsZW0iLCJwcmVmaXhlZFByb3BlcnR5TmFtZXMiLCJlcnIiLCJnZXRDU1NQcm9wZXJ0eSIsIm9wdF92YWx1ZSIsInByb3BlcnR5TmFtZXMiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiZ2V0TGFuZ0F0dHJpYnV0ZSIsImxhbmciLCJnZXRBdHRyaWJ1dGVOUyIsIlhNTCIsIm5hbWVzcGFjZVVSSSIsIlhIVE1MIiwiU3RyaW5nQnVmZmVyIiwibGlzdCIsImVzY2FwZUNoYXIiLCJlc2NhcGVDU1NJZGVudCIsImVzY2FwZUNTU1N0ciIsImxpZ2h0VVJMRW5jb2RlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaXNMZXR0ZXIiLCJjaCIsImVzY2FwZU5hbWVTdHJUb0hleCIsImVzY2FwZUNoYXJUb0hleCIsImVzY2FwZVJlZ0V4cCIsInVuZXNjYXBlU3RyRnJvbUhleCIsInJlZ2V4cCIsImZyb21DaGFyQ29kZSIsInVuZXNjYXBlQ2hhckZyb21IZXgiLCJiaW5hcnlTZWFyY2giLCJoaWdoIiwiZ29vZCIsIm51bWJlckNvbXBhcmUiLCJpbmRleEFycmF5IiwiYXJyIiwibWFwIiwibXVsdGlJbmRleEFycmF5IiwiU2ltcGxlRXZlbnRUYXJnZXQiLCJldnQiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiY2FwdHVyZSIsImhhc1ZlcnRpY2FsQkJveEJ1ZyIsImhhc0lubGluZUJsb2NrSnVzdGlmaWNhdGlvbkJ1ZyIsImhhc1NvZnRXcmFwT3Bwb3J0dW5pdHlBZnRlckh5cGhlbkJ1ZyIsImhhc1NvZnRXcmFwT3Bwb3J0dW5pdHlCeVdickJ1ZyIsImdldElkIiwiaWR0eHQiLCJlc2NhcGUiLCJ1bmVzY2FwZUNoYXIiLCJ1bmVzY2FwZSIsInBhcnNlRXh0VmFsIiwiZXh0c3RyIiwicGFyc2VFeHQiLCJleHQiLCJSZWZTdGVwIiwiYXBwZW5kIiwicG9zIiwiQ2hpbGRTdGVwIiwiaWQiLCJzaWRlQmlhcyIsImNoaWxkRWxlbWVudHMiLCJjaGlsZHJlbiIsImNoaWxkRWxlbWVudENvdW50IiwiY2hpbGQiLCJuZXh0IiwiT2Zmc2V0U3RlcCIsIm9mZnNldCIsInRleHRCZWZvcmUiLCJ0ZXh0QWZ0ZXIiLCJ0ZXh0TGVuZ3RoIiwidGV4dENvbnRlbnQiLCJGcmFnbWVudCIsImZyYWdzdHIiLCJzdGVwcyIsImNoYXJBdCIsIkJhc2UuYXNTdHJpbmciLCJkb2MiLCJyZWYiLCJhcHBseVRvIiwiQmFzZS5TdHJpbmdCdWZmZXIiLCJjbG9uZVByZWZlcmVuY2VzIiwicHJlZiIsImZvbnRGYW1pbHkiLCJsaW5lSGVpZ2h0IiwibWFyZ2luIiwiaHlwaGVuYXRlIiwiY29sdW1uV2lkdGgiLCJob3Jpem9udGFsIiwibmlnaHRNb2RlIiwic3ByZWFkVmlldyIsInBhZ2VCb3JkZXIiLCJlbmFibGVkTWVkaWFUeXBlcyIsImFzc2lnbiIsImRlZmF1bHRQYXBlclNpemUiLCJkZWZhdWx0UHJlZmVyZW5jZXNJbnN0YW5jZSIsInZpdmxpb3N0eWxlIiwicHJpbnQiLCJTcGVjaWFsIiwiUEVORElORyIsImxldHRlcmJveCIsInZpZXdXIiwidmlld0giLCJvYmpXIiwib2JqSCIsInNjYWxlIiwiY3NzU3RyaW5nIiwiQmFzZS5lc2NhcGVDU1NTdHIiLCJjc3NJZGVudCIsIkJhc2UuZXNjYXBlQ1NTSWRlbnQiLCJtYWtlUXVhbGlmaWVkTmFtZSIsIm9iak5hbWUiLCJtZW1iZXJOYW1lIiwibmV4dEtleUluZGV4IiwiTGV4aWNhbFNjb3BlIiwicmVzb2x2ZXIiLCJzY29wZUtleSIsInplcm8iLCJDb25zdCIsIm9uZSIsIl90cnVlIiwiX2ZhbHNlIiwiYnVpbHRJbnMiLCJjZWlsIiwicm91bmQiLCJzcXJ0IiwidHlwZW9mIiwiZGVmaW5lQnVpbHRJbk5hbWUiLCJwYWdlV2lkdGgiLCJwYWdlSGVpZ2h0IiwiZm9udFNpemUiLCJwdWJUaXRsZSIsImRvY1RpdGxlIiwiTmF0aXZlIiwicXVhbGlmaWVkTmFtZSIsInZhbCIsImZ1bmNzIiwiaXNWaWV3cG9ydFJlbGF0aXZlTGVuZ3RoVW5pdCIsInVuaXQiLCJkZWZhdWx0VW5pdFNpemVzIiwicHgiLCJpbiIsInB0IiwiY20iLCJtbSIsImVtIiwicmVtIiwiZXgiLCJkcHB4IiwiZHBpIiwiZHBjbSIsIm5lZWRVbml0Q29udmVyc2lvbiIsIkNvbnRleHQiLCJyb290U2NvcGUiLCJ2aWV3cG9ydFdpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJhY3R1YWxQYWdlV2lkdGgiLCJhY3R1YWxQYWdlSGVpZ2h0IiwiaW5pdGlhbEZvbnRTaXplIiwicm9vdEZvbnRTaXplIiwic2NvcGUiLCJzY29wZXMiLCJjbGVhclNjb3BlIiwiaXNSb290IiwicHZ3IiwicHZoIiwidnciLCJwYWdlQXJlYVdpZHRoIiwidmgiLCJwYWdlQXJlYUhlaWdodCIsInBhZ2VWZXJ0aWNhbCIsIm5vQnVpbHRJbkV2YWwiLCJldmFsdWF0ZSIsIm5vdCIsImVuYWJsZWQiLCJmZWF0dXJlIiwicmVxIiwiYWN0dWFsIiwic2NyZWVuIiwiYXZhaWxXaWR0aCIsImF2YWlsSGVpZ2h0IiwicGl4ZWxEZXB0aCIsImdldFNjb3BlQ29udGV4dCIsIlZhbCIsImJ1ZiIsInByaW9yaXR5Iiwib3RoZXIiLCJkZXBlbmRlbmN5Q2FjaGUiLCJjYWNoZWQiLCJkZXBlbmRDb3JlIiwiZGVwZW5kT3V0ZXIiLCJxdWVyeVZhbCIsImV2YWx1YXRlQ29yZSIsInN0b3JlVmFsIiwiUHJlZml4Iiwic3VwZXIiLCJldmFsUHJlZml4IiwiZ2V0T3AiLCJleHBhbmQiLCJJbmZpeCIsImxocyIsInJocyIsImV2YWxJbmZpeCIsInRoaXNQcmlvcml0eSIsImdldFByaW9yaXR5IiwiTG9naWNhbCIsIkNvbXBhcmlzb24iLCJBZGRpdGl2ZSIsIk11bHRpcGxpY2F0aXZlIiwiTm90IiwiTmVnYXRlIiwiQW5kIiwiQW5kTWVkaWEiLCJPciIsIk9yTWVkaWEiLCJMdCIsIkxlIiwiR3QiLCJHZSIsIkVxIiwiTmUiLCJBZGQiLCJTdWJ0cmFjdCIsIk11bHRpcGx5IiwiRGl2aWRlIiwiTW9kdWxvIiwiTnVtZXJpYyIsIm51bSIsInF1ZXJ5VW5pdFNpemUiLCJOYW1lZCIsImV2YWxOYW1lIiwiTWVkaWFOYW1lIiwiZXZhbE1lZGlhTmFtZSIsIkNhbGwiLCJhcHBlbmRWYWxBcnJheSIsImV2YWxDYWxsIiwiZXhwYW5kZWRQYXJhbXMiLCJleHBhbmRlZCIsImV4cGFuZFZhbEFycmF5IiwiQ29uZCIsImNvbmQiLCJpZlRydWUiLCJpZkZhbHNlIiwiTWVkaWFUZXN0IiwiZXZhbE1lZGlhVGVzdCIsIlBhcmFtIiwiYW5kIiwidjEiLCJ2MiIsImFkZCIsInN1YiIsIm11bCIsImRpdiIsIlZpc2l0b3IiLCJ2aXNpdCIsImVtcHR5Iiwic2xhc2giLCJpZGVudCIsIm51bWVyaWMiLCJ2aXNpdE51bSIsImNvbG9yIiwiZnVuYyIsImV4cHIiLCJGaWx0ZXJWaXNpdG9yIiwiYmVmb3JlIiwidmlzaXRWYWx1ZXMiLCJTcGFjZUxpc3QiLCJDb21tYUxpc3QiLCJGdW5jIiwidmlzaXRvciIsIkVtcHR5IiwiRXhwcnMuQ29uc3QiLCJ2aXNpdEVtcHR5IiwiU2xhc2giLCJ2aXNpdFNsYXNoIiwiU3RyIiwidmlzaXRTdHIiLCJuYW1lVGFibGUiLCJJZGVudCIsInZpc2l0SWRlbnQiLCJnZXROYW1lIiwiRXhwcnMuTXVsdGlwbHkiLCJFeHBycy5OdW1lcmljIiwidmlzaXROdW1lcmljIiwiTnVtIiwiSW50IiwidmlzaXRJbnQiLCJDb2xvciIsInJnYiIsInZpc2l0Q29sb3IiLCJVUkwiLCJ2aXNpdFVSTCIsImFwcGVuZExpc3QiLCJzZXBhcmF0b3IiLCJ2aXNpdFNwYWNlTGlzdCIsInZpc2l0Q29tbWFMaXN0IiwidmlzaXRGdW5jIiwiRXhwciIsInZpc2l0RXhwciIsInRvTnVtYmVyIiwiaXNOdW1lcmljIiwiaXNOdW0iLCJjb252ZXJ0TnVtZXJpY1RvUHgiLCJhYnNvbHV0ZSIsImFsbCIsImFsd2F5cyIsImF1dG8iLCJhdm9pZCIsImJhbGFuY2UiLCJiYWxhbmNlX2FsbCIsImJsb2NrIiwiYmxvY2tfZW5kIiwiYmxvY2tfc3RhcnQiLCJib3RoIiwiYm90dG9tIiwiYm9yZGVyX2JveCIsImJyZWFrX2FsbCIsImJyZWFrX3dvcmQiLCJjcm9wIiwiY3Jvc3MiLCJjb2x1bW4iLCJleGNsdXNpdmUiLCJmaXhlZCIsImZsZXgiLCJmb290bm90ZSIsImZvb3RlciIsImhlYWRlciIsImhvcml6b250YWxfdGIiLCJpbmhlcml0IiwiaW5saW5lIiwiaW5saW5lX2Jsb2NrIiwiaW5saW5lX2VuZCIsImlubGluZV9zdGFydCIsImxhbmRzY2FwZSIsImxlZnQiLCJsaW5lIiwibGlzdF9pdGVtIiwibHRyIiwibWFudWFsIiwibm9uZSIsIm5vcm1hbCIsIm9lYl9wYWdlX2Zvb3QiLCJvZWJfcGFnZV9oZWFkIiwicGFnZSIsInJlbGF0aXZlIiwicmlnaHQiLCJzYW1lIiwic25hcF9ibG9jayIsInNwcmVhZCIsIl9zdGF0aWMiLCJydGwiLCJ0YWJsZSIsInRhYmxlX2NhcHRpb24iLCJ0YWJsZV9jZWxsIiwidGFibGVfZm9vdGVyX2dyb3VwIiwidGFibGVfaGVhZGVyX2dyb3VwIiwidGFibGVfcm93IiwidG9wIiwidHJhbnNwYXJlbnQiLCJ2ZXJ0aWNhbF9sciIsInZlcnRpY2FsX3JsIiwiaHVuZHJlZFBlcmNlbnQiLCJmdWxsV2lkdGgiLCJmdWxsSGVpZ2h0IiwibnVtZXJpY1plcm8iLCJwcm9jZXNzaW5nT3JkZXIiLCJmb250LXNpemUiLCJwcm9jZXNzaW5nT3JkZXJGbiIsIm5hbWUxIiwibmFtZTIiLCJNQVhfVkFMVUUiLCJSZWN0IiwieDEiLCJ5MSIsIngyIiwieTIiLCJQb2ludCIsIkluc2V0cyIsIlNlZ21lbnQiLCJsb3ciLCJ3aW5kaW5nIiwic2hhcGVJZCIsIkJhbmQiLCJzZWdtZW50Q29tcGFyZSIsInMxIiwiczIiLCJTaGFwZSIsInBvaW50cyIsInByZXYiLCJvZmZzZXRYIiwib2Zmc2V0WSIsInNoYXBlRm9yRWxsaXBzZSIsImN4IiwiY3kiLCJyeCIsInJ5IiwiUEkiLCJzaW4iLCJjb3MiLCJzaGFwZUZvclJlY3QiLCJCYW5kSW50ZXJzZWN0aW9uIiwibG93T3JIaWdoIiwiaW50ZXJzZWN0WSIsImFkZEJhbmRJbnRlcnNlY3Rpb25zIiwiaW50ZXJzZWN0aW9ucyIsIncxIiwidzIiLCJtZXJnZUludGVyc2VjdGlvbnMiLCJpbmNsdWRlQ291bnQiLCJleGNsdWRlQ291bnQiLCJzaGFwZUNvdW50Iiwid2luZGluZ3MxIiwid2luZGluZ3MyIiwieHJhbmdlcyIsImluc2lkZSIsImludGVyc2VjdGlvbkNvdW50IiwiaW50ZXJzZWN0aW9uIiwic3RpbGxJbnNpZGUiLCJyb3RhdGVCb3giLCJib3giLCJ1bnJvdGF0ZUJveCIsInJvdGF0ZVNoYXBlIiwic2hhcGUiLCJwb2ludCIsInJvdGF0ZVBvaW50Iiwibm9ybWFsaXplIiwiYmFuZHMiLCJjdXJyQmFuZCIsInByZXZCYW5kIiwiZmluZEJhbmQiLCJtaWQiLCJmaW5kVXBwZXJtb3N0RnVsbHlPcGVuUmVjdCIsInJlY3QiLCJiYW5kIiwidG9wRWRnZSIsImJvdHRvbUVkZ2UiLCJmaW5kQm90dG9tbW9zdEZ1bGx5T3BlblJlY3QiLCJTZXRWaXNpdG9yIiwiQ3NzLlZpc2l0b3IiLCJwcm9wU2V0IiwiSW50VmlzaXRvciIsInRvSW50IiwiZGVmIiwiU2hhcGVWaXNpdG9yIiwiY29sbGVjdCIsImNvb3JkcyIsIkNzcy5OdW1lcmljIiwiaGVpZ2h0IiwibnVtYmVycyIsImNvb3JkIiwiR2VvbWV0cnlVdGlsLlBvaW50IiwiR2VvbWV0cnlVdGlsLlNoYXBlIiwiR2VvbWV0cnlVdGlsLnNoYXBlRm9yUmVjdCIsIkdlb21ldHJ5VXRpbC5zaGFwZUZvckVsbGlwc2UiLCJ0b1NoYXBlIiwiZ2V0U2hhcGUiLCJDb3VudGVyc1Zpc2l0b3IiLCJyZXNldCIsImNvdW50ZXJzIiwidG9Db3VudGVycyIsIlVybFRyYW5zZm9ybVZpc2l0b3IiLCJDc3MuRmlsdGVyVmlzaXRvciIsImJhc2VVcmwiLCJ0cmFuc2Zvcm1lciIsIkNzcy5VUkwiLCJ0cmFuc2Zvcm1VUkwiLCJjbG9uZUNvdW50ZXJWYWx1ZXMiLCJUYXJnZXRDb3VudGVyUmVmZXJlbmNlIiwidGFyZ2V0SWQiLCJyZXNvbHZlZCIsInNwaW5lSW5kZXgiLCJwYWdlSW5kZXgiLCJDb3VudGVyTGlzdGVuZXIiLCJjb3VudGVyU3RvcmUiLCJkb2N1bWVudFVSTFRyYW5zZm9ybWVyIiwidHJhbnNmb3JtRnJhZ21lbnQiLCJjb3VudGVyc0J5SWQiLCJnZXRFeHByQ29udGVudExpc3RlbmVyIiwiQ291bnRlclJlc29sdmVyIiwicGFnZVNjb3BlIiwic3R5bGVyIiwidHJhbnNmb3JtZWRJZCIsIkJhc2UucmVzb2x2ZVVSTCIsImZvcm1hdCIsInNlbGYiLCJFeHBycy5OYXRpdmUiLCJjdXJyZW50UGFnZUNvdW50ZXJzIiwicmVnaXN0ZXJQYWdlQ291bnRlckV4cHIiLCJsb29rRm9yRWxlbWVudCIsInRhcmdldENvdW50ZXJzIiwic3R5bGVVbnRpbElkSXNSZWFjaGVkIiwiY3VycmVudFBhZ2UiLCJlbGVtZW50c0J5SWQiLCJwYWdlQ291bnRlcnNCeUlkIiwiZ2V0RnJhZ21lbnQiLCJnZXRUcmFuc2Zvcm1lZElkIiwiZ2V0VGFyZ2V0Q291bnRlcnMiLCJjb3VudGVyc09mTmFtZSIsInBhZ2VDb3VudGVycyIsImdldFRhcmdldFBhZ2VDb3VudGVycyIsInJlc29sdmVSZWZlcmVuY2UiLCJwYWdlQ291bnRlcnNPZk5hbWUiLCJzYXZlUmVmZXJlbmNlT2ZDdXJyZW50UGFnZSIsImVsZW1lbnRDb3VudGVyc09mTmFtZSIsIkNvdW50ZXJTdG9yZSIsImNvdW50ZXJOYW1lIiwicGFnZU51bWJlciIsImNhc2NhZGVkUGFnZVN0eWxlIiwicmVzZXRNYXAiLCJwcmV2aW91c1BhZ2VDb3VudGVycyIsInJlc2V0VmFsIiwiQ3NzUHJvcC50b0NvdW50ZXJzIiwicmVzZXRDb3VudGVyTmFtZSIsImRlZmluZVBhZ2VDb3VudGVyIiwiaW5jcmVtZW50TWFwIiwiaW5jcmVtZW50IiwiaW5jcmVtZW50VmFsIiwiaW5jcmVtZW50Q291bnRlck5hbWUiLCJjb3VudGVyVmFsdWVzIiwiY3VycmVudFBhZ2VDb3VudGVyc1N0YWNrIiwidW5yZXNvbHZlZFJlZnMiLCJ1bnJlc29sdmVkUmVmZXJlbmNlcyIsInJlc29sdmVkUmVmcyIsInJlc29sdmVkUmVmZXJlbmNlcyIsInB1c2hlZCIsInJlZmVyZW5jZXNUb1NvbHZlIiwicmVzb2x2ZSIsIm5ld1JlZmVyZW5jZXNPZkN1cnJlbnRQYWdlIiwic29tZSIsImlkcyIsIm9sZFBhZ2VJbmRleCIsInBhZ2VJbmRpY2VzQnlJZCIsInVucmVzb2x2ZSIsInByZXZQYWdlQ291bnRlcnMiLCJpc1Jlc29sdmVkIiwiZXZlcnkiLCJlcXVhbHMiLCJyZWZzIiwiaWRSZWZzIiwicjEiLCJyMiIsInJlZmVyZW5jZXNUb1NvbHZlU3RhY2siLCJwYWdlc0NvdW50ZXJFeHBycyIsImV4cHJDb250ZW50TGlzdGVuZXIiLCJmaW5kSW5kZXgiLCJQQUdFU19DT1VOVEVSX0FUVFIiLCJ2aWV3cG9ydCIsInJvb3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwicGFnZXMiLCJMYXlvdXRDb25zdHJhaW50Iiwibm9kZUNvbnRleHQiLCJ2aWV3Tm9kZSIsImVzY2FwZVBhcnNlU2luZ2xlIiwiY29kZSIsImVzY2FwZVBhcnNlIiwiVG9rZW5UeXBlIiwiQWN0aW9uIiwiVG9rZW4iLCJFT0YiLCJtYWtlQWN0aW9ucyIsInNwZWMiLCJOYU4iLCJFTkQiLCJJTlZBTElEIiwiYWN0aW9uc05vcm1hbCIsIlNQQUNFIiwiQkFORyIsIlNUUjIiLCJIQVNIIiwiRE9MTEFSIiwiUEVSQ0VOVCIsIkFNUCIsIlNUUjEiLCJPX1BBUiIsIkNfUEFSIiwiU1RBUiIsIlBMVVMiLCJDT01NQSIsIk1JTlVTIiwiRE9UIiwiU0xBU0giLCJJTlQiLCJDT0xPTiIsIlNFTUlDT0wiLCJMVCIsIkVRIiwiR1QiLCJRTUFSSyIsIkFUIiwiSURFTlQiLCJPX0JSSyIsIkJTTEFTSCIsIkNfQlJLIiwiSEFUIiwiT19CUkMiLCJCQVIiLCJDX0JSQyIsIlRJTERFIiwiYWN0aW9uc0lkZW50IiwiRU5ESUROVCIsIkZVTkMiLCJDT05UIiwiSUROVEVTQyIsImFjdGlvbnNOdW1PckNsYXNzIiwiVE9DTEFTUyIsIlRPTlVNIiwiVE9JREVTIiwiYWN0aW9uc01pbnVzIiwiTUlOTUlOIiwiVE9JTlQiLCJUT0lERU5UIiwiYWN0aW9uc0lkZW50RXNjIiwiRU5ESURFUyIsIkNIS1BPU1MiLCJGVU5DRVMiLCJhY3Rpb25zSW50IiwiRU5ESU5UIiwiUENVTklUIiwiTlVNQkVSIiwiVU5JVCIsImFjdGlvbnNOdW1iZXIiLCJFTkROVU0iLCJhY3Rpb25zQ2hlY2tFcSIsIkVRVEFJTCIsImFjdGlvbnNDb2xvbiIsIkNPTF9DT0wiLCJhY3Rpb25zQmFyIiwiQkFSX0JBUiIsImFjdGlvbnNBbXAiLCJBTVBfQU1QIiwiYWN0aW9uc1NsYXNoIiwiQ09NTUVOVCIsImFjdGlvbnNDb21tZW50IiwiQ09NTVNUIiwiYWN0aW9uc0NvbW1lbnRTdGFyIiwiRU5ETk9USyIsImFjdGlvbnNNaW51c01pbnVzIiwiS0lMTDEiLCJhY3Rpb25zTHQiLCJMVF9CRyIsImFjdGlvbnNMdEJhbmciLCJMVF9CR19NIiwiYWN0aW9uc0x0QmFuZ01pbnVzIiwiS0lMTDIiLCJhY3Rpb25zSWRlbnRFc2NDaHIiLCJJREVTQ0giLCJhY3Rpb25zU3RyMSIsIkVORFNUUiIsIlNUUjFFU0MiLCJhY3Rpb25zU3RyMiIsIlNUUjJFU0MiLCJhY3Rpb25zU3RyMUVzYyIsIkVOREVTVFIiLCJDSEtQT1NOIiwiYWN0aW9uc1N0cjJFc2MiLCJhY3Rpb25zVVJMIiwiVVJMMiIsIlVSTDEiLCJhY3Rpb25zVVJMSW5zaWRlIiwiRU5EVVJMIiwiQ0hLU1AiLCJVUkxFU0MiLCJhY3Rpb25zVVJMSW5zaWRlMSIsIlRFUk1VUkwiLCJhY3Rpb25zVVJMSW5zaWRlMiIsImFjdGlvbnNVUkxUYWlsIiwiRklOVVJMIiwiSU5JVElBTF9JTkRFWF9NQVNLIiwiVG9rZW5pemVyIiwiaW5wdXQiLCJoYW5kbGVyIiwiaW5kZXhNYXNrIiwiYnVmZmVyIiwidGFpbCIsImZpbGxCdWZmZXIiLCJoZWFkIiwibmV3SW5kZXhNYXNrIiwibmV3QnVmZmVyIiwib2xkSW5kZXgiLCJuZXdJbmRleCIsInBvc2l0aW9uIiwidG9rZW4iLCJtbmVtb25pY3MiLCJyZWFsbG9jYXRlIiwiYWN0aW9ucyIsInRva2VuVHlwZSIsInRva2VuUG9zaXRpb24iLCJ0b2tlblRleHQiLCJ0b2tlbk51bSIsInNlZW5TcGFjZSIsImJhY2tzbGFzaFBvcyIsImNoYXJDb2RlIiwiU1RSIiwiQ0xBU1MiLCJCQU5HX0VRIiwiTlVNIiwiTlVNRVJJQyIsInByZWNlZGVkQnlTcGFjZSIsInByaXZhdGVDdXJyZW50VGFzayIsInByaW1hcnlTY2hlZHVsZXIiLCJjdXJyZW50VGFzayIsIm5ld0ZyYW1lIiwidGFzayIsImZyYW1lIiwiRnJhbWUiLCJzdGF0ZSIsIkZyYW1lU3RhdGUiLCJBQ1RJVkUiLCJuZXdSZXN1bHQiLCJTeW5jUmVzdWx0SW1wbCIsImhhbmRsZSIsIm9uRXJyIiwicmFpc2UiLCJvcHRfbmFtZSIsImdldFNjaGVkdWxlciIsIm9wdF90aW1lciIsIlNjaGVkdWxlciIsIlRpbWVySW1wbCIsIm5ld1NjaGVkdWxlciIsInJ1biIsInZhbHVlT2YiLCJkZWxheSIsInRpbWVyIiwiQmFzZS5Qcmlvcml0eVF1ZXVlIiwiY3VycmVudFRpbWUiLCJzbGljZU92ZXJUaW1lIiwiaW5UaW1lU2xpY2UiLCJuZXdUaW1lIiwicGVlayIsInNjaGVkdWxlZFRpbWUiLCJ0aW1lb3V0VG9rZW4iLCJ3YWtldXBUaW1lIiwiZG9UaW1lU2xpY2UiLCJjb250aW51YXRpb24iLCJvcHRfZGVsYXkiLCJvcmRlciIsImFybSIsImNhbmNlbGVkIiwicmVzdW1lSW50ZXJuYWwiLCJUYXNrIiwidGhlbiIsImRvbmUiLCJydW5uaW5nIiwiY2FsbGJhY2siLCJjYWxsYmFja3MiLCJzYXZlZFRhc2siLCJzY2hlZHVsZSIsInN1c3BlbmQiLCJDb250aW51YXRpb24iLCJvdGhlckNvbXAiLCJmaW5pc2giLCJ3YWl0VGFyZ2V0Iiwid2hlbkRvbmUiLCJleGNlcHRpb24iLCJvcHRfZnJhbWUiLCJmaWxsU3RhY2siLCJ1bndpbmQiLCJvdXQiLCJSZXN1bHRJbXBsIiwiaXNQZW5kaW5nIiwicmVzMSIsInJlczIiLCJyZXMiLCJ0aGVuQXN5bmMiLCJJTklUIiwiY2hlY2tFbnZpcm9ubWVudCIsIkZJTklTSEVEIiwiREVBRCIsImlzVGltZVNsaWNlT3ZlciIsInN0ZXAiLCJtb3JlIiwibG9vcCIsIkxvb3BCb2R5RnJhbWUiLCJvcHRfd2FpdFRhcmdldCIsIkZldGNoZXIiLCJmZXRjaCIsIlRhc2suY3VycmVudFRhc2siLCJUYXNrLm5ld0ZyYW1lIiwicmVzb3VyY2UiLCJwaWdnaWJhY2tzIiwicGlnZ3liYWNrcyIsImFycml2ZWQiLCJUYXNrLm5ld1Jlc3VsdCIsIndhaXRGb3JGZXRjaGVycyIsImZldGNoZXJzIiwidGhlblJldHVybiIsImZldGNoZXIiLCJoYXNBcnJpdmVkIiwibG9hZEVsZW1lbnQiLCJzcmMiLCJsb2NhbE5hbWUiLCJCYXNlLk5TIiwiU1ZHIiwiWExJTksiLCJYTUxIdHRwUmVxdWVzdFJlc3BvbnNlVHlwZSIsImFqYXgiLCJvcHRfdHlwZSIsIm9wdF9tZXRob2QiLCJvcHRfZGF0YSIsIm9wdF9jb250ZW50VHlwZSIsInJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsInJlc3BvbnNlIiwic3RhdHVzVGV4dCIsImNvbnRlbnRUeXBlIiwicmVzcG9uc2VUZXh0IiwicmVzcG9uc2VYTUwiLCJyZXNwb25zZUJsb2IiLCJyZXNwb25zZVR5cGUiLCJyZWFkeVN0YXRlIiwiRE9DVU1FTlQiLCJIVE1MRG9jdW1lbnQiLCJURVhUIiwibWFrZUJsb2IiLCJjb250ZW50VHlwZUhlYWRlciIsImdldFJlc3BvbnNlSGVhZGVyIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJvdmVycmlkZU1pbWVUeXBlIiwicGFydHMiLCJidWlsZGVyQ3RyIiwiV2ViS2l0QmxvYkJ1aWxkZXIiLCJNU0Jsb2JCdWlsZGVyIiwiYnVpbGRlciIsImdldEJsb2IiLCJCbG9iIiwiUmVzb3VyY2VTdG9yZSIsInBhcnNlciIsIm9wdF9yZXF1aXJlZCIsIm9wdF9tZXNzYWdlIiwiQmFzZS5zdHJpcEZyYWdtZW50IiwicmVzb3VyY2VzIiwiaXNUb2NCb3giLCJlbmRzV2l0aCIsInVzZXJBZ2VudFhtbFVybCIsIkJhc2UucmVzb3VyY2VCYXNlVVJMIiwiaXNVc2VyQWdlbnRYbWwiLCJVc2VyQWdlbnRYbWwiLCJUYXNrVXRpbC5GZXRjaGVyIiwiZmV0Y2hJbm5lciIsInBhcnNlSlNPTlJlc291cmNlIiwic3RvcmUiLCJCYXNlLnN0cmluZ1RvSlNPTiIsIlNQRUNJRklDSVRZX1VTRVJfQUdFTlQiLCJTUEVDSUZJQ0lUWV9VU0VSIiwiU1BFQ0lGSUNJVFlfQVVUSE9SIiwiU1BFQ0lGSUNJVFlfU1RZTEUiLCJTUEVDSUZJQ0lUWV9TVFlMRV9JTVBPUlRBTlQiLCJTUEVDSUZJQ0lUWV9BVVRIT1JfSU1QT1JUQU5UIiwiU1BFQ0lGSUNJVFlfVVNFUl9JTVBPUlRBTlQiLCJTdHlsZXNoZWV0Rmxhdm9yIiwiY29sb3JGcm9tSGFzaCIsIkNzcy5Db2xvciIsIlBhcnNlckhhbmRsZXIiLCJmbGF2b3IiLCJBVVRIT1IiLCJucyIsIm9wIiwicHNldWRvZWxlbSIsInN0YXJ0V2hlblJ1bGUiLCJmbG93TmFtZSIsInBzZXVkb05hbWUiLCJjbGFzc2VzIiwiaW1wb3J0YW50IiwiZnVuY05hbWUiLCJVU0VSX0FHRU5UIiwiVVNFUiIsIkRpc3BhdGNoUGFyc2VySGFuZGxlciIsInNsYXZlIiwidG9rZW5pemVyIiwiZ2V0U2NvcGUiLCJzdGFydFN0eWxlc2hlZXQiLCJ0YWdTZWxlY3RvciIsImNsYXNzU2VsZWN0b3IiLCJwc2V1ZG9jbGFzc1NlbGVjdG9yIiwicHNldWRvZWxlbWVudFNlbGVjdG9yIiwiaWRTZWxlY3RvciIsImF0dHJpYnV0ZVNlbGVjdG9yIiwiZGVzY2VuZGFudFNlbGVjdG9yIiwiY2hpbGRTZWxlY3RvciIsImFkamFjZW50U2libGluZ1NlbGVjdG9yIiwiZm9sbG93aW5nU2libGluZ1NlbGVjdG9yIiwibmV4dFNlbGVjdG9yIiwic3RhcnRTZWxlY3RvclJ1bGUiLCJzdGFydEZvbnRGYWNlUnVsZSIsInN0YXJ0Rm9vdG5vdGVSdWxlIiwic3RhcnRWaWV3cG9ydFJ1bGUiLCJzdGFydERlZmluZVJ1bGUiLCJzdGFydFJlZ2lvblJ1bGUiLCJzdGFydFBhZ2VSdWxlIiwic3RhcnRQYWdlTWFyZ2luQm94UnVsZSIsInN0YXJ0Rmxvd1J1bGUiLCJzdGFydFBhZ2VUZW1wbGF0ZVJ1bGUiLCJzdGFydFBhZ2VNYXN0ZXJSdWxlIiwic3RhcnRQYXJ0aXRpb25SdWxlIiwic3RhcnRQYXJ0aXRpb25Hcm91cFJ1bGUiLCJzdGFydFJ1bGVCb2R5IiwicHJvcGVydHkiLCJlbmRSdWxlIiwic3RhcnRGdW5jV2l0aFNlbGVjdG9yIiwiZW5kRnVuY1dpdGhTZWxlY3RvciIsIlNraXBwaW5nUGFyc2VySGFuZGxlciIsInRvcExldmVsIiwiZ2V0Q3VycmVudFRva2VuIiwiZXJyb3JNc2ciLCJkZXB0aCIsInBvcEhhbmRsZXIiLCJTbGF2ZVBhcnNlckhhbmRsZXIiLCJyZXBvcnQiLCJwdXNoSGFuZGxlciIsInJlcG9ydEFuZFNraXAiLCJhY3Rpb25zQmFzZSIsImFjdGlvbnNTdHlsZUF0dHJpYnV0ZSIsImFjdGlvbnNTZWxlY3RvciIsImFjdGlvbnNTZWxlY3RvckluRnVuYyIsImFjdGlvbnNTZWxlY3RvckNvbnQiLCJhY3Rpb25zU2VsZWN0b3JTdGFydCIsImFjdGlvbnNQcm9wVmFsIiwiYWN0aW9uc0V4cHJWYWwiLCJhY3Rpb25zRXhwck9wIiwiYWN0aW9uc0Vycm9yIiwiYWN0aW9uc0Vycm9yRGVjbCIsImFjdGlvbnNFcnJvclNlbGVjdG9yIiwiT1BfTUVESUFfQU5EIiwiQ3NzVG9rZW5pemVyLlRva2VuVHlwZSIsIkxBU1QiLCJFeHByQ29udGV4dCIsIlNFTEVDVE9SX1NUQVJUIiwiUlVMRV9FTkQiLCJET05FIiwiUFJPUCIsIlNFTEVDVE9SX05BTUUiLCJTRUxFQ1RPUl9BTlkiLCJTRUxFQ1RPUl9JRCIsIlNFTEVDVE9SX0NMQVNTIiwiU0VMRUNUT1JfQVRUUiIsIlNFTEVDVE9SX1BTRVVET0NMQVNTIiwiU0VMRUNUT1JfQ0hJTEQiLCJTRUxFQ1RPUl9TSUJMSU5HIiwiU0VMRUNUT1JfRk9MTE9XSU5HX1NJQkxJTkciLCJTRUxFQ1RPUl9OQU1FXzEiLCJTRUxFQ1RPUl9BTllfMSIsIlNFTEVDVE9SX0lEXzEiLCJTRUxFQ1RPUl9DTEFTU18xIiwiU0VMRUNUT1JfQVRUUl8xIiwiU0VMRUNUT1JfQk9EWSIsIlNFTEVDVE9SX1BTRVVET0NMQVNTXzEiLCJTRUxFQ1RPUl9QU0VVRE9FTEVNIiwiU0VMRUNUT1JfTkVYVCIsIlZBTF9JREVOVCIsIlZBTF9IQVNIIiwiVkFMX05VTSIsIlZBTF9JTlQiLCJWQUxfTlVNRVJJQyIsIlZBTF9TVFIiLCJWQUxfVVJMIiwiVkFMX0NPTU1BIiwiVkFMX1NMQVNIIiwiVkFMX0ZVTkMiLCJWQUxfQ19QQVIiLCJWQUxfRU5EIiwiVkFMX0JSQyIsIlZBTF9CQU5HIiwiVkFMX1BMVVMiLCJWQUxfRklOSVNIIiwiRVhQUl9JREVOVCIsIkVYUFJfTlVNIiwiRVhQUl9OVU1FUklDIiwiRVhQUl9TVFIiLCJFWFBSX09fUEFSIiwiRVhQUl9GVU5DIiwiRVhQUl9QUkVGSVgiLCJFWFBSX1BBUkFNIiwiRVhQUl9JTkZJWF9OQU1FIiwiRVhQUl9JTkZJWCIsIkdUX0VRIiwiTFRfRVEiLCJFUV9FUSIsIkVYUFJfQ19QQVIiLCJFWFBSX09fQlJDIiwiRVhQUl9TRU1JQ09MIiwiRVJST1JfUFVTSCIsIkVSUk9SX1BPUCIsIkVSUk9SX1NFTUlDT0wiLCJFUlJPUl9QT1BfREVDTCIsIlBhcnNlciIsImV4cHJDb250ZXh0IiwiTUVESUEiLCJzZXAiLCJ2YWxTdGFjayIsImNvdW50IiwiQ3NzLlNwYWNlTGlzdCIsIkNzcy5GdW5jIiwiZXh0cmFjdFZhbHMiLCJDc3MuQ29tbWFMaXN0IiwicHJvcE5hbWUiLCJ2YWwyIiwidG9rIiwiZTEiLCJlMiIsImVyIiwiRXhwcnMuT3JNZWRpYSIsIkNzcy5FeHByIiwiRXhwcnMuQ2FsbCIsIkV4cHJzLm1ha2VRdWFsaWZpZWROYW1lIiwiaXNNZWRpYU5hbWUiLCJFeHBycy5NZWRpYVRlc3QiLCJFeHBycy5Ob3QiLCJleHByRXJyb3IiLCJFeHBycy5OZWdhdGUiLCJFeHBycy5BbmQiLCJFeHBycy5BbmRNZWRpYSIsIkV4cHJzLk9yIiwiRXhwcnMuTHQiLCJFeHBycy5HdCIsIkV4cHJzLkxlIiwiRXhwcnMuR2UiLCJFeHBycy5FcSIsIkV4cHJzLk5lIiwiRXhwcnMuQWRkIiwiRXhwcnMuU3VidHJhY3QiLCJFeHBycy5EaXZpZGUiLCJFeHBycy5Nb2R1bG8iLCJFeHBycy5Db25kIiwiY29uc3VtZSIsImhhc0xlYWRpbmdQbHVzIiwiaGFzTWludXNTaWduIiwiaGFzU2lnbiIsImNvbmRpdGlvbiIsIkV4cHJzLmFuZCIsIkV4cHJzLk5hbWVkIiwicnVsZVN0YWNrIiwicGFyc2luZ1ZhbHVlIiwicGFyc2luZ1N0eWxlQXR0ciIsInBhcnNpbmdNZWRpYVF1ZXJ5IiwicGFyc2luZ0Z1bmN0aW9uUGFyYW0iLCJ0b2tlbjEiLCJwYXJzZXJMb29wIiwibnRoVG9rZW4iLCJpc0luc2lkZVByb3BlcnR5T25seVJ1bGUiLCJtYXJrIiwicHJvcEltcG9ydGFudCIsIm5hbWVzcGFjZVByZWZpeFRvVVJJIiwiZGVmYXVsdE5hbWVzcGFjZVVSSSIsInBzZXVkb2NsYXNzVHlwZSIsInJ1blBhcnNlciIsIlBPU0lUSVZFX0lORklOSVRZIiwicmVhZE50aFBzZXVkb1BhcmFtcyIsInJlYWRQc2V1ZG9QYXJhbXMiLCJUSUxERV9FUSIsIkJBUl9FUSIsIkhBVF9FUSIsIkRPTExBUl9FUSIsIlNUQVJfRVEiLCJyZWdpb25SdWxlIiwicGFnZVJ1bGUiLCJDc3MuZ2V0TmFtZSIsIkNzcy5OdW0iLCJDc3MuSW50IiwiRXhwcnMuaXNWaWV3cG9ydFJlbGF0aXZlTGVuZ3RoVW5pdCIsIkNzcy5TdHIiLCJ2YWxTdGFja1JlZHVjZSIsIkNzcy5zbGFzaCIsImhhc01hcmsiLCJ1bm1hcmsiLCJJTVBPUlQiLCJFeHBycy5NZWRpYU5hbWUiLCJFeHBycy5QYXJhbSIsImV4cHJTdGFja1JlZHVjZSIsIldIRU4iLCJzdGFydE1lZGlhUnVsZSIsImltcG9ydENvbmRpdGlvbiIsImltcG9ydFJlYWR5IiwiaW1wb3J0VVJMIiwicnVsZU5hbWUiLCJydWxlUHNldWRvTmFtZSIsImVycm9yQnJhY2tldHMiLCJFcnJvckhhbmRsZXIiLCJwYXJzZVN0eWxlc2hlZXQiLCJtZWRpYSIsInBhcnNlTWVkaWFRdWVyeSIsIkNzc1Rva2VuaXplci5Ub2tlbml6ZXIiLCJtYWtlQ29uZGl0aW9uIiwidG9FeHByIiwicmVzb2x2ZWRVUkwiLCJpbm5lckZyYW1lIiwicGFyc2VTdHlsZXNoZWV0RnJvbVVSTCIsInRpbWVTbGljZSIsInBhcnNlU3R5bGVzaGVldEZyb21UZXh0IiwiVGFzay5oYW5kbGUiLCJ0aGVuRmluaXNoIiwiTmV0LmFqYXgiLCJ4aHIiLCJwYXJzZVZhbHVlIiwibnVtUHJvcCIsInotaW5kZXgiLCJjb2x1bW4tY291bnQiLCJmbG93LWxpbmdlciIsIm9wYWNpdHkiLCJmbG93LXByaW9yaXR5IiwidXRpbGl6YXRpb24iLCJldmFsdWF0ZUV4cHJUb0NTUyIsInRha2VzT25seU51bSIsIkNzcy5lbXB0eSIsIkNzcy5pZGVudCIsImV2YWx1YXRlQ1NTVG9DU1MiLCJpc0V4cHIiLCJtYXRjaEFOUGx1c0IiLCJBbnlNYXRjaGVyIiwibWF0Y2hlcnMiLCJtYXRjaGVyIiwibWF0Y2hlcyIsIkFsbE1hdGNoZXIiLCJOdGhGcmFnbWVudE1hdGNoZXIiLCJlbGVtZW50T2Zmc2V0IiwiZnJhZ21lbnRJbmRleCIsImluZGljZXMiLCJmcmFnbWVudEluZGljZXMiLCJlbnRyeSIsIk1hdGNoZXJCdWlsZGVyIiwidmlld0NvbmRpdGlvbiIsInN0cnMiLCJpbmhlcml0ZWRQcm9wcyIsImF6aW11dGgiLCJib3JkZXItY29sbGFwc2UiLCJib3JkZXItc3BhY2luZyIsImNhcHRpb24tc2lkZSIsImNsaXAtcnVsZSIsImNvbG9yLWludGVycG9sYXRpb24iLCJjb2xvci1yZW5kZXJpbmciLCJjdXJzb3IiLCJkaXJlY3Rpb24iLCJlbGV2YXRpb24iLCJlbXB0eS1jZWxscyIsImZpbGwiLCJmaWxsLW9wYWNpdHkiLCJmaWxsLXJ1bGUiLCJmb250LWtlcm5pbmciLCJmb250LXNpemUtYWRqdXN0IiwiZm9udC1mYW1pbHkiLCJmb250LWZlYXR1cmUtc2V0dGluZ3MiLCJmb250LXN0eWxlIiwiZm9udC1zdHJldGNoIiwiZm9udC12YXJpYW50IiwiZm9udC13ZWlnaHQiLCJnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbCIsImh5cGhlbnMiLCJoeXBoZW5hdGUtY2hhcmFjdGVyIiwiaHlwaGVuYXRlLWxpbWl0LWNoYXJzIiwiaHlwaGVuYXRlLWxpbWl0LWxhc3QiLCJpbWFnZS1yZW5kZXJpbmciLCJpbWFnZS1yZXNvbHV0aW9uIiwibGV0dGVyLXNwYWNpbmciLCJsaW5lLWJyZWFrIiwibGluZS1oZWlnaHQiLCJsaXN0LXN0eWxlLWltYWdlIiwibGlzdC1zdHlsZS1wb3NpdGlvbiIsImxpc3Qtc3R5bGUtdHlwZSIsIm1hcmtlciIsIm1hcmtlci1lbmQiLCJtYXJrZXItbWlkIiwibWFya2VyLXN0YXJ0Iiwib3JwaGFucyIsIm92ZXJmbG93LXdyYXAiLCJwYWludC1vcmRlciIsInBvaW50ZXItZXZlbnRzIiwicGl0Y2gtcmFuZ2UiLCJxdW90ZXMiLCJyaWNobmVzcyIsInJ1YnktYWxpZ24iLCJydWJ5LXBvc2l0aW9uIiwic3BlYWstaGVhZGVyIiwic3BlYWstbnVtZXJhbCIsInNwZWFrLXB1bmN0dWF0aW9uIiwic3BlZWNoLXJhdGUiLCJzaGFwZS1yZW5kZXJpbmciLCJzdHJlc3MiLCJzdHJva2UiLCJzdHJva2UtZGFzaGFycmF5Iiwic3Ryb2tlLWRhc2hvZmZzZXQiLCJzdHJva2UtbGluZWNhcCIsInN0cm9rZS1saW5lam9pbiIsInN0cm9rZS1taXRlcmxpbWl0Iiwic3Ryb2tlLW9wYWNpdHkiLCJzdHJva2Utd2lkdGgiLCJ0YWItc2l6ZSIsInRleHQtYWxpZ24iLCJ0ZXh0LWFsaWduLWxhc3QiLCJ0ZXh0LWFuY2hvciIsInRleHQtZGVjb3JhdGlvbi1za2lwIiwidGV4dC1lbXBoYXNpcy1jb2xvciIsInRleHQtZW1waGFzaXMtcG9zaXRpb24iLCJ0ZXh0LWVtcGhhc2lzLXN0eWxlIiwidGV4dC1jb21iaW5lLXVwcmlnaHQiLCJ0ZXh0LWluZGVudCIsInRleHQtanVzdGlmeSIsInRleHQtcmVuZGVyaW5nIiwidGV4dC1zaXplLWFkanVzdCIsInRleHQtdHJhbnNmb3JtIiwidGV4dC11bmRlcmxpbmUtcG9zaXRpb24iLCJ2aXNpYmlsaXR5Iiwidm9pY2UtZmFtaWx5Iiwidm9sdW1lIiwid2hpdGUtc3BhY2UiLCJ3aWRvd3MiLCJ3b3JkLWJyZWFrIiwid29yZC1zcGFjaW5nIiwid29yZC13cmFwIiwid3JpdGluZy1tb2RlIiwicG9seWZpbGxlZEluaGVyaXRlZFByb3BzIiwic3VwcG9ydGVkTmFtZXNwYWNlcyIsImh0dHA6Ly93d3cuaWRwZi5vcmcvMjAwNy9vcHMiLCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCJjb3VwbGVkUGF0dGVybnMiLCJjb3VwbGVkRXh0ZW50UGF0dGVybnMiLCJnZW9tTmFtZXMiLCJzaWRlcyIsIm5hbWVzIiwibWF4LXdpZHRoIiwibWF4LWhlaWdodCIsIm1pbi13aWR0aCIsIm1pbi1oZWlnaHQiLCJidWlsZENvdXBsaW5nTWFwIiwic2lkZU1hcCIsImV4dGVudE1hcCIsInBhdHRlcm4iLCJzaWRlIiwiZXh0ZW50UGF0dGVybiIsImV4dGVudCIsImNvdXBsaW5nTWFwVmVydCIsImJsb2NrLXN0YXJ0IiwiYmxvY2stZW5kIiwiaW5saW5lLXN0YXJ0IiwiaW5saW5lLWVuZCIsImJsb2NrLXNpemUiLCJpbmxpbmUtc2l6ZSIsImNvdXBsaW5nTWFwSG9yIiwiY291cGxpbmdNYXBWZXJ0UnRsIiwiY291cGxpbmdNYXBIb3JSdGwiLCJDYXNjYWRlVmFsdWUiLCJzcGVjaWZpY2l0eSIsIkNzc1BhcnNlci5ldmFsdWF0ZUNTU1RvQ1NTIiwiQ29uZGl0aW9uYWxDYXNjYWRlVmFsdWUiLCJjYXNjYWRlVmFsdWVzIiwidHYiLCJhdiIsImlzRW5hYmxlZCIsImdldEJhc2VWYWx1ZSIsIlNQRUNJQUxTIiwicmVnaW9uLWlkIiwiZnJhZ21lbnQtc2VsZWN0b3ItaWQiLCJpc1NwZWNpYWxOYW1lIiwiaXNNYXBOYW1lIiwiaXNQcm9wTmFtZSIsImlzSW5oZXJpdGVkIiwiZ2V0UHJvcCIsInNldFByb3AiLCJnZXRTdHlsZU1hcCIsImdldE11dGFibGVTdHlsZU1hcCIsImdldFZpZXdDb25kaXRpb25hbFN0eWxlTWFwIiwiX3ZpZXdDb25kaXRpb25hbFN0eWxlcyIsImdldFNwZWNpYWwiLCJnZXRNdXRhYmxlU3BlY2lhbCIsIm1lcmdlSW4iLCJwc2V1ZG9lbGVtZW50IiwicmVnaW9uSWQiLCJ2aWV3Q29uZGl0aW9uTWF0Y2hlciIsInN0eWxlS2V5Iiwic3R5bGVNYXAiLCJzdHlsZXMiLCJ0cyIsImluY3JlYXNlU3BlY2lmaWNpdHkiLCJjaGFpbkFjdGlvbnMiLCJjaGFpbiIsImNoYWluZWQiLCJJbmhlcml0YW5jZVZpc2l0b3IiLCJwcm9wcyIsIkV4cHJzLmlzQWJzb2x1dGVMZW5ndGhVbml0IiwiRXhwcnMuZGVmYXVsdFVuaXRTaXplcyIsInBhcmVudEZvbnRTaXplIiwiY29udmVydEZvbnRSZWxhdGl2ZUxlbmd0aFRvUHgiLCJjb252ZXJ0Rm9udFNpemVUb1B4IiwiZ2V0Rm9udFNpemUiLCJiYXNlRm9udFNpemUiLCJyYXRpbyIsIkNhc2NhZGVBY3Rpb24iLCJjYXNjYWRlSW5zdGFuY2UiLCJDb21wb3VuZEFjdGlvbiIsIkNvbmRpdGlvbkl0ZW1BY3Rpb24iLCJjb25kaXRpb25JdGVtIiwicHVzaENvbmRpdGlvbkl0ZW0iLCJmcmVzaCIsIkFwcGx5UnVsZUFjdGlvbiIsInZpZXdDb25kaXRpb25JZCIsImN1cnJlbnRTdHlsZSIsImJ1aWxkVmlld0NvbmRpdGlvbk1hdGNoZXIiLCJDaGFpbmVkQWN0aW9uIiwiY2FzY2FkZSIsIkNoZWNrQ2xhc3NBY3Rpb24iLCJjdXJyZW50Q2xhc3NOYW1lcyIsImluY2x1ZGVzIiwiaW5zZXJ0SW5UYWJsZSIsIkNoZWNrSWRBY3Rpb24iLCJjdXJyZW50SWQiLCJjdXJyZW50WG1sSWQiLCJDaGVja0xvY2FsTmFtZUFjdGlvbiIsImN1cnJlbnRMb2NhbE5hbWUiLCJ0YWdzIiwiQ2hlY2tOU1RhZ0FjdGlvbiIsImN1cnJlbnROYW1lc3BhY2UiLCJuc1ByZWZpeCIsIm5zQ291bnQiLCJuc1RhZyIsIm5zdGFncyIsIkNoZWNrVGFyZ2V0RXB1YlR5cGVBY3Rpb24iLCJlcHViVHlwZVBhdHQiLCJjdXJyZW50RWxlbWVudCIsImVwdWJUeXBlIiwiZXB1YiIsIkNoZWNrTmFtZXNwYWNlQWN0aW9uIiwiQ2hlY2tBdHRyaWJ1dGVQcmVzZW50QWN0aW9uIiwiaGFzQXR0cmlidXRlTlMiLCJDaGVja0F0dHJpYnV0ZUVxQWN0aW9uIiwiZXB1YnR5cGVzIiwiQ2hlY2tOYW1lc3BhY2VTdXBwb3J0ZWRBY3Rpb24iLCJDaGVja0F0dHJpYnV0ZVJlZ0V4cEFjdGlvbiIsIkNoZWNrTGFuZ0FjdGlvbiIsImxhbmdSZWdFeHAiLCJJc0ZpcnN0QWN0aW9uIiwiaXNGaXJzdCIsIklzUm9vdEFjdGlvbiIsIklzTnRoQWN0aW9uIiwiTWF0Y2hlcnMubWF0Y2hBTlBsdXNCIiwiSXNOdGhTaWJsaW5nT2ZUeXBlQWN0aW9uIiwiY3VycmVudFNpYmxpbmdUeXBlQ291bnRzIiwiSXNOdGhMYXN0U2libGluZ0FjdGlvbiIsImN1cnJlbnRGb2xsb3dpbmdTaWJsaW5nT3JkZXIiLCJjdXJyZW50U2libGluZ09yZGVyIiwiSXNOdGhMYXN0U2libGluZ09mVHlwZUFjdGlvbiIsImNvdW50cyIsImN1cnJlbnRGb2xsb3dpbmdTaWJsaW5nVHlwZUNvdW50cyIsIm5zQ291bnRzIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiSXNFbXB0eUFjdGlvbiIsIk5vZGUiLCJFTEVNRU5UX05PREUiLCJURVhUX05PREUiLCJJc0VuYWJsZWRBY3Rpb24iLCJJc0Rpc2FibGVkQWN0aW9uIiwiSXNDaGVja2VkQWN0aW9uIiwiQ2hlY2tDb25kaXRpb25BY3Rpb24iLCJjb25kaXRpb25zIiwiZGVwZW5kZW50Q29uZGl0aW9ucyIsIkNoZWNrQXBwbGllZEFjdGlvbiIsImFwcGxpZWQiLCJjbG9uZWQiLCJOZWdhdGVBY3Rpb25zU2V0IiwiY2hlY2tBcHBsaWVkQWN0aW9uIiwiZmlyc3RBY3Rpb24iLCJBYnN0cmFjdENvbmRpdGlvbkl0ZW0iLCJkZWNyZW1lbnQiLCJEZXNjZW5kYW50Q29uZGl0aW9uSXRlbSIsIkNoaWxkQ29uZGl0aW9uSXRlbSIsIkFkamFjZW50U2libGluZ0NvbmRpdGlvbkl0ZW0iLCJmaXJlZCIsIkZvbGxvd2luZ1NpYmxpbmdDb25kaXRpb25JdGVtIiwiQWZ0ZXJQc2V1ZG9lbGVtZW50SXRlbSIsImFmdGVycHJvcCIsInByb2Nlc3NQc2V1ZG9lbGVtZW50UHJvcHMiLCJSZXN0b3JlTGFuZ0l0ZW0iLCJRdW90ZXNTY29wZUl0ZW0iLCJvbGRRdW90ZXMiLCJBdHRyVmFsdWVGaWx0ZXJWaXNpdG9yIiwiYXR0cmlidXRlTmFtZSIsImRlZmF1bHRWYWx1ZSIsInN0cmluZ1ZhbHVlIiwiY3JlYXRlVmFsdWVGcm9tU3RyaW5nIiwiaGFzQXR0cmlidXRlIiwiQ29udGVudFByb3BWaXNpdG9yIiwiY291bnRlclJlc29sdmVyIiwibWF4RGVwdGgiLCJxdW90ZURlcHRoIiwidXBwZXIiLCJsb3dlciIsImFkZGl0aXZlTnVtYmVyaW5nIiwiZW50cmllcyIsImFkZGl0aXZlRm9ybWF0IiwiYWxwaGFiZXRpY051bWJlcmluZyIsImFscGhhYmV0U3RyIiwiYWxwaGFiZXQiLCJmaXJzdCIsImxhc3QiLCJleHBhbmRBbHBoYWJldCIsImRpZ2l0IiwiYWxwaGFiZXRpY0Zvcm1hdCIsIm51bWJlcmluZyIsImRpZ2l0cyIsIm5lZ2F0aXZlIiwiZm9ybWFsIiwibWFya2VycyIsInRob3VzYW5kcyIsImh1bmRyZWRzIiwidGVucyIsIm9uZXMiLCJjaGluZXNlQ291bnRlciIsImNoaW5lc2VUcmFkSW5mb3JtYWwiLCJudW12YWwiLCJnZXRQYWdlQ291bnRlclZhbCIsImdldFBhZ2VDb3VudGVyc1ZhbCIsIm51bXZhbHMiLCJlbGVtZW50Q291bnRlcnMiLCJ0YXJnZXRVcmwiLCJ0YXJnZXRVcmxTdHIiLCJnZXRUYXJnZXRDb3VudGVyVmFsIiwiZ2V0VGFyZ2V0Q291bnRlcnNWYWwiLCJ2aXNpdEZ1bmNDb3VudGVyIiwidmlzaXRGdW5jQ291bnRlcnMiLCJ2aXNpdEZ1bmNUYXJnZXRDb3VudGVyIiwidmlzaXRGdW5jVGFyZ2V0Q291bnRlcnMiLCJyb21hbiIsImFybWVuaWFuIiwiZ2VvcmdpYW4iLCJoZWJyZXciLCJsYXRpbiIsImFscGhhIiwiZ3JlZWsiLCJydXNzaWFuIiwic3F1YXJlIiwiZGlzYyIsImNpcmNsZSIsIk9SREVSX0lOQ1JFTUVOVCIsImNvcHlUYWJsZSIsImRzdCIsImNsb25lIiwiQ2FzY2FkZSIsInBhZ2V0eXBlcyIsIm1lcmdlV2l0aCIsImNvdW50ZXJMaXN0ZW5lciIsIkNhc2NhZGVJbnN0YW5jZSIsInNpYmxpbmdUeXBlQ291bnRzU3RhY2siLCJmb2xsb3dpbmdTaWJsaW5nT3JkZXJTdGFjayIsInZpZXdDb25kaXRpb25zIiwiZmlsdGVyIiwiY3VycmVudEVsZW1lbnRPZmZzZXQiLCJNYXRjaGVycy5NYXRjaGVyQnVpbGRlciIsImRlcGVuZGVudENvbmRpdGlvbk1hdGNoZXJzIiwiY29uZGl0aW9uSWQiLCJidWlsZEFueU1hdGNoZXIiLCJidWlsZEFsbE1hdGNoZXIiLCJwYWdlVHlwZSIsImJhc2VTdHlsZSIsImN1cnJlbnROU1RhZyIsImN1cnJlbnRFcHViVHlwZXMiLCJFTVBUWSIsImN1cnJlbnRQYWdlVHlwZSIsImFwcGx5QWN0aW9ucyIsInNjb3BpbmciLCJjb3VudGVyU2NvcGluZyIsImRpc3BsYXlWYWwiLCJzZXRNYXAiLCJzZXRWYWwiLCJkZWZpbmVDb3VudGVyIiwic2V0Q291bnRlck5hbWUiLCJsaXN0SXRlbUNvdW50cyIsImxpc3RJdGVtQ291bnQiLCJwc2V1ZG9wcm9wcyIsInB1c2hDb3VudGVycyIsImZpbHRlclZhbHVlIiwicG9wQ291bnRlcnMiLCJ0eXBlcyIsIkZCMiIsIkJhc2UuZ2V0TGFuZ0F0dHJpYnV0ZSIsInNpYmxpbmdPcmRlclN0YWNrIiwiY3VycmVudE5hbWVzcGFjZVR5cGVDb3VudHMiLCJmb2xsb3dpbmdTaWJsaW5nVHlwZUNvdW50c1N0YWNrIiwiYXBwbHlBdHRyRmlsdGVyIiwicXVvdGVzQ2FzYyIsIml0ZW1Ub1B1c2hMYXN0IiwicXVvdGVzVmFsIiwiY291bnRlcnNPZklkIiwicHNldWRvcyIsInBzZXVkb05hbWVzIiwicHNldWRvUHJvcHMiLCJlbGVtZW50U3R5bGUiLCJwc2V1ZG9NYXAiLCJhcHBseUF0dHJGaWx0ZXJJbm5lciIsImFwcGx5QWN0aW9uIiwiY3VycmVudERvYyIsIlBhcnNlU3RhdGUiLCJ1YUJhc2VDYXNjYWRlIiwiQ2FzY2FkZVBhcnNlckhhbmRsZXIiLCJDc3NQYXJzZXIuU2xhdmVQYXJzZXJIYW5kbGVyIiwidmFsaWRhdG9yU2V0IiwiVE9QIiwibWFrZVByaW1hcnkiLCJpbnNlcnROb25QcmltYXJ5IiwicGF0dCIsIkJhc2UuZXNjYXBlUmVnRXhwIiwiZm9vdG5vdGVDb250ZW50IiwibGFuZ1ZhbHVlIiwiQWN0aW9uQ2xhc3MiLCJudGhTZWxlY3RvckFjdGlvbkNsYXNzZXMiLCJjb25kaXRpb25Db3VudCIsInByb2Nlc3NDaGFpbiIsImZpbmlzaENoYWluIiwiaXNJbnNpZGVTZWxlY3RvclJ1bGUiLCJTRUxFQ1RPUiIsImluc2lkZVNlbGVjdG9yUnVsZSIsIm5leHRPcmRlciIsIm1ha2VBcHBseVJ1bGVBY3Rpb24iLCJ2YWxpZGF0ZVByb3BlcnR5QW5kSGFuZGxlU2hvcnRoYW5kIiwic2ltcGxlUHJvcGVydHkiLCJQbHVnaW4uZ2V0SG9va3NGb3JOYW1lIiwiaG9vayIsImNvbnZlcnRlZCIsImdldEltcG9ydGFudFNwZWNpZmljaXR5IiwiZ2V0QmFzZVNwZWNpZmljaXR5IiwiY2FzY3ZhbCIsIm5vdFBhcnNlckhhbmRsZXIiLCJOb3RQYXJhbWV0ZXJQYXJzZXJIYW5kbGVyIiwibnRoLWNoaWxkIiwibnRoLW9mLXR5cGUiLCJudGgtbGFzdC1jaGlsZCIsIm50aC1sYXN0LW9mLXR5cGUiLCJwYXJlbnRDaGFpbiIsIkRlZmluZVBhcnNlckhhbmRsZXIiLCJkaW0iLCJkZWZpbmVOYW1lIiwiUHJvcFNldFBhcnNlckhhbmRsZXIiLCJQcm9wZXJ0eVBhcnNlckhhbmRsZXIiLCJDc3NQYXJzZXIuRXJyb3JIYW5kbGVyIiwiQ3NzUGFyc2VyLlNQRUNJRklDSVRZX1NUWUxFX0lNUE9SVEFOVCIsIkNzc1BhcnNlci5TUEVDSUZJQ0lUWV9TVFlMRSIsImZvckVhY2hWaWV3Q29uZGl0aW9uYWxTdHlsZXMiLCJ2aWV3Q29uZGl0aW9uYWxTdHlsZXMiLCJtZXJnZVZpZXdDb25kaXRpb25hbFN0eWxlcyIsImNhc2NNYXAiLCJtZXJnZVN0eWxlIiwicGFyc2VTdHlsZUF0dHJpYnV0ZSIsInN0eWxlQXR0clZhbHVlIiwiQ3NzUGFyc2VyLnBhcnNlU3R5bGVBdHRyaWJ1dGUiLCJpc1ZlcnRpY2FsIiwiY2FzY2FkZWQiLCJ2ZXJ0aWNhbCIsIndyaXRpbmdNb2RlQ2FzYyIsIndyaXRpbmdNb2RlIiwiaXNSdGwiLCJkaXJlY3Rpb25DYXNjIiwiZmxhdHRlbkNhc2NhZGVkU3R5bGUiLCJyZWdpb25JZHMiLCJpc0Zvb3Rub3RlIiwiZm9yRWFjaFN0eWxlc0luUmVnaW9uIiwicmVnaW9uU3R5bGUiLCJyZWdpb25zIiwiZm9vdG5vdGVSZWdpb24iLCJ0byIsIm5ld1ZhbCIsIm9sZFZhbCIsImNvbnZlcnRUb1BoeXNpY2FsIiwiZGVzdCIsInRyYW5zZm9ybSIsImNvdXBsaW5nTWFwIiwiY2FzY1ZhbCIsImNvdXBsZWROYW1lIiwidGFyZ2V0TmFtZSIsImNvdXBsZWRDYXNjVmFsIiwiY3JlYXRlUmVnRXhwTWFwIiwidmFsdWVNYXBzIiwidG9QaHlzaWNhbCIsImxvZ2ljYWwiLCJwaHlzaWNhbCIsImNvbnZlcnQiLCJtYXBzIiwibWFwczIiLCJyZXBsYWNlZCIsImhvcml6b250YWwtdGIiLCJ2ZXJ0aWNhbC1ybCIsInZlcnRpY2FsLWxyIiwidG9QaHlzaWNhbE1hcHMiLCJ0b0xvZ2ljYWxNYXBzIiwiU2l6ZSIsImdldFNpemUiLCJjbGllbnRMYXlvdXQiLCJzaXplcyIsIm9yaWdpbmFsIiwibWF4V2lkdGgiLCJtaW5XaWR0aCIsIm1heEhlaWdodCIsIm1pbkhlaWdodCIsImNvbnRhaW5lciIsImdldENvbXB1dGVkVmFsdWUiLCJnZXRFbGVtZW50Q29tcHV0ZWRTdHlsZSIsIkJhc2Uuc2V0Q1NTUHJvcGVydHkiLCJ3cml0aW5nTW9kZVByb3BlcnR5IiwiQmFzZS5nZXRQcmVmaXhlZFByb3BlcnR5TmFtZXMiLCJ3cml0aW5nTW9kZVZhbHVlIiwiaW5saW5lU2l6ZU5hbWUiLCJibG9ja1NpemVOYW1lIiwiZ2V0RmlsbEF2YWlsYWJsZUlubGluZSIsImdldE1heENvbnRlbnRJbmxpbmUiLCJnZXRNaW5Db250ZW50SW5saW5lIiwiZ2V0Rml0Q29udGVudElubGluZSIsImZpbGxBdmFpbGFibGVJbmxpbmUiLCJtaW5Db250ZW50SW5saW5lIiwicGFyc2VkRmlsbEF2YWlsYWJsZSIsIm1heENvbnRlbnRJbmxpbmUiLCJnZXRJZGVhbEJsb2NrIiwiZ2V0RmlsbEF2YWlsYWJsZUJsb2NrIiwiRklMTF9BVkFJTEFCTEVfSU5MSU5FX1NJWkUiLCJNQVhfQ09OVEVOVF9JTkxJTkVfU0laRSIsIk1JTl9DT05URU5UX0lOTElORV9TSVpFIiwiRklUX0NPTlRFTlRfSU5MSU5FX1NJWkUiLCJGSUxMX0FWQUlMQUJMRV9CTE9DS19TSVpFIiwiTUFYX0NPTlRFTlRfQkxPQ0tfU0laRSIsIk1JTl9DT05URU5UX0JMT0NLX1NJWkUiLCJGSVRfQ09OVEVOVF9CTE9DS19TSVpFIiwiRklMTF9BVkFJTEFCTEVfV0lEVEgiLCJGSUxMX0FWQUlMQUJMRV9IRUlHSFQiLCJNQVhfQ09OVEVOVF9XSURUSCIsIk1BWF9DT05URU5UX0hFSUdIVCIsIk1JTl9DT05URU5UX1dJRFRIIiwiTUlOX0NPTlRFTlRfSEVJR0hUIiwiRklUX0NPTlRFTlRfV0lEVEgiLCJGSVRfQ09OVEVOVF9IRUlHSFQiLCJESUZGX0RFTEVURSIsIkRJRkZfSU5TRVJUIiwiRElGRl9FUVVBTCIsImRpZmZfbWFpbiIsInRleHQxIiwidGV4dDIiLCJjdXJzb3JfcG9zIiwiX2ZpeF91bmljb2RlIiwiZWRpdGRpZmYiLCJvbGRUZXh0IiwibmV3VGV4dCIsIm9sZFJhbmdlIiwibmV3UmFuZ2UiLCJvbGRMZW5ndGgiLCJuZXdMZW5ndGgiLCJvbGRDdXJzb3IiLCJvbGRCZWZvcmUiLCJvbGRBZnRlciIsIm1heWJlTmV3Q3Vyc29yIiwibmV3Q3Vyc29yIiwibmV3QmVmb3JlIiwibmV3QWZ0ZXIiLCJwcmVmaXhMZW5ndGgiLCJvbGRQcmVmaXgiLCJuZXdQcmVmaXgiLCJtYWtlX2VkaXRfc3BsaWNlIiwic3VmZml4TGVuZ3RoIiwib2xkU3VmZml4IiwibmV3U3VmZml4IiwiZmluZF9jdXJzb3JfZWRpdF9kaWZmIiwiY29tbW9ubGVuZ3RoIiwiZGlmZl9jb21tb25QcmVmaXgiLCJjb21tb25wcmVmaXgiLCJkaWZmX2NvbW1vblN1ZmZpeCIsImNvbW1vbnN1ZmZpeCIsImRpZmZzIiwibG9uZ3RleHQiLCJzaG9ydHRleHQiLCJobSIsImRpZmZfaGFsZk1hdGNoSV8iLCJiZXN0X2xvbmd0ZXh0X2EiLCJiZXN0X2xvbmd0ZXh0X2IiLCJiZXN0X3Nob3J0dGV4dF9hIiwiYmVzdF9zaG9ydHRleHRfYiIsInNlZWQiLCJiZXN0X2NvbW1vbiIsInRleHQxX2EiLCJ0ZXh0MV9iIiwidGV4dDJfYSIsInRleHQyX2IiLCJobTEiLCJobTIiLCJkaWZmX2hhbGZNYXRjaF8iLCJtaWRfY29tbW9uIiwiZGlmZnNfYSIsImRpZmZzX2IiLCJ0ZXh0MV9sZW5ndGgiLCJ0ZXh0Ml9sZW5ndGgiLCJtYXhfZCIsInZfb2Zmc2V0Iiwidl9sZW5ndGgiLCJkZWx0YSIsImZyb250IiwiazFzdGFydCIsImsxZW5kIiwiazJzdGFydCIsImsyZW5kIiwiazEiLCJrMV9vZmZzZXQiLCJrMl9vZmZzZXQiLCJkaWZmX2Jpc2VjdFNwbGl0XyIsImsyIiwiZGlmZl9iaXNlY3RfIiwiZGlmZl9jb21wdXRlXyIsImRpZmZfY2xlYW51cE1lcmdlIiwiZml4X3VuaWNvZGUiLCJwb2ludGVyIiwiY291bnRfZGVsZXRlIiwiY291bnRfaW5zZXJ0IiwidGV4dF9kZWxldGUiLCJ0ZXh0X2luc2VydCIsInByZXZpb3VzX2VxdWFsaXR5IiwiZW5kc193aXRoX3BhaXJfc3RhcnQiLCJzdHJheSIsInN0YXJ0c193aXRoX3BhaXJfZW5kIiwiY2hhbmdlcyIsInRleHQxYSIsInRleHQyYSIsInRleHQxYiIsInRleHQyYiIsImRpZmZzYiIsInBvaW50ZXJtaW4iLCJwb2ludGVybWF4IiwicG9pbnRlcm1pZCIsInBvaW50ZXJzdGFydCIsImlzX3N1cnJvZ2F0ZV9wYWlyX3N0YXJ0IiwicG9pbnRlcmVuZCIsImlzX3N1cnJvZ2F0ZV9wYWlyX2VuZCIsIm9sZE1pZGRsZSIsIm5ld01pZGRsZSIsInR1cGxlcyIsInJldCIsInJlbW92ZV9lbXB0eV90dXBsZXMiLCJkaWZmIiwiSU5TRVJUIiwiREVMRVRFIiwiRVFVQUwiLCJMYXlvdXRQcm9jZXNzb3IiLCJQYWdlRmxvYXRzIiwiU2VsZWN0b3JzIiwiUmVwZXRpdGl2ZUVsZW1lbnQiLCJUYWJsZSIsIlZ0cmVlIiwicmVzdG9yZU5ld1RleHQiLCJyZWR1Y2UiLCJmYXN0ZGlmZiIsInJlc29sdmVPcmlnaW5hbEluZGV4IiwicmVzb2x2ZUluZGV4IiwiY29lZiIsImN1cnJlbnQiLCJvYmplY3QiLCJmb3JtYXR0aW5nQ29udGV4dFR5cGUiLCJGbG9hdFJlZmVyZW5jZSIsImZsYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUiLCJpc0luc3RhbmNlT2ZUYWJsZUZvcm1hdHRpbmdDb250ZXh0IiwiaXNJbnN0YW5jZU9mVGFibGVSb3dMYXlvdXRDb25zdHJhaW50IiwiV2hpdGVzcGFjZSIsIlNoYWRvd1R5cGUiLCJkZWxheWVkUHJvcHMiLCJ0cmFuc2Zvcm0tb3JpZ2luIiwiZGVsYXllZFByb3BzSWZSZWxhdGl2ZVBvc2l0aW9uZWQiLCJEZWxheWVkSXRlbSIsInNob3ciLCJvYmoiLCJoaWRlIiwicGxheSIsInBhdXNlIiwicmVzdW1lIiwibXV0ZSIsIm11dGVkIiwidW5tdXRlIiwibWFrZUxpc3RlbmVyIiwiYWN0aW9uRm4iLCJQYWdlIiwiQmFzZS5TaW1wbGVFdmVudFRhcmdldCIsImJsZWVkQm94IiwiaHJlZkhhbmRsZXIiLCJhbmNob3JFbGVtZW50IiwiaXNBdXRvIiwiaXNBdXRvUGFnZVdpZHRoIiwiQVVUT19QQUdFX1dJRFRIX0FUVFJJQlVURSIsImlzQXV0b1BhZ2VIZWlnaHQiLCJBVVRPX1BBR0VfSEVJR0hUX0FUVFJJQlVURSIsInRyaWdnZXJzIiwiZWxlbXMiLCJkZWxheWVkSXRlbXMiLCJnZXRFbGVtZW50Q2xpZW50UmVjdCIsImRpbWVuc2lvbnMiLCJvYnNlcnZlcnMiLCJvYnNlcnZlciIsInBhZ2VBcmVhRWxlbWVudCIsIlNQRUNJQUxfQVRUUiIsIndoaXRlc3BhY2VGcm9tUHJvcGVydHlWYWx1ZSIsIndoaXRlc3BhY2UiLCJJR05PUkUiLCJORVdMSU5FIiwiUFJFU0VSVkUiLCJjYW5JZ25vcmUiLCJGbG93IiwicGFyZW50Rmxvd05hbWUiLCJGbG93Q2h1bmsiLCJzdGFydE9mZnNldCIsImxpbmdlciIsInJlcGVhdGVkIiwiYnJlYWtCZWZvcmUiLCJjbGllbnRyZWN0SW5jcmVhc2luZ1RvcCIsImNsaWVudHJlY3REZWNyZWFzaW5nUmlnaHQiLCJpc1NhbWVOb2RlUG9zaXRpb25TdGVwIiwibnBzMSIsIm5wczIiLCJzaGFkb3dUeXBlIiwiaXNTYW1lU2hhZG93Q29udGV4dCIsInNoYWRvd0NvbnRleHQiLCJub2RlU2hhZG93Iiwic2hhZG93U2libGluZyIsImlzU2FtZU5vZGVQb3NpdGlvbiIsIm5wMSIsIm5wMiIsIm9mZnNldEluTm9kZSIsIm5ld05vZGVQb3NpdGlvbkZyb21Ob2RlQ29udGV4dCIsImluaXRpYWxGcmFnbWVudEluZGV4Iiwic291cmNlTm9kZSIsIk5PTkUiLCJmb3JtYXR0aW5nQ29udGV4dCIsInByZXByb2Nlc3NlZFRleHRDb250ZW50IiwibWFrZU5vZGVDb250ZXh0RnJvbU5vZGVQb3NpdGlvblN0ZXAiLCJOb2RlQ29udGV4dCIsImNvcHkiLCJTaGFkb3dDb250ZXh0IiwieG1sZG9jIiwicGFyZW50U2hhZG93Iiwic3VwZXJTaGFkb3ciLCJzdWJTaGFkb3ciLCJzYzEiLCJzYzIiLCJGaXJzdFBzZXVkbyIsIm91dGVyIiwiYm94T2Zmc2V0IiwiYnJlYWtQZW5hbHR5IiwiZmxvYXRSZWZlcmVuY2UiLCJJTkxJTkUiLCJoeXBoZW5hdGVDaGFyYWN0ZXIiLCJicmVha1dvcmQiLCJmaXJzdFBzZXVkbyIsImNsZWFyU3BhY2VyIiwiZmxvYXRTaWRlIiwiY2xlYXJTaWRlIiwiZmxvYXRNaW5XcmFwQmxvY2siLCJjb2x1bW5TcGFuIiwidmVydGljYWxBbGlnbiIsImZsZXhDb250YWluZXIiLCJicmVha0FmdGVyIiwiZXN0YWJsaXNoZXNCRkMiLCJjb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSIsInJlcGVhdE9uQnJlYWsiLCJwbHVnaW5Qcm9wcyIsImFmdGVySWZDb250aW51ZXMiLCJmb290bm90ZVBvbGljeSIsIm5wIiwiY2FwdGlvblNpZGUiLCJpbmxpbmVCb3JkZXJTcGFjaW5nIiwiYmxvY2tCb3JkZXJTcGFjaW5nIiwib3ZlcmZsb3ciLCJjcmVhdGUiLCJzaGFyZWQiLCJjbG9uZUl0ZW0iLCJucHAiLCJucGMiLCJ0b05vZGVQb3NpdGlvblN0ZXAiLCJEaWZmLnJlc29sdmVPcmlnaW5hbEluZGV4IiwiQ2h1bmtQb3NpdGlvbiIsInByaW1hcnkiLCJmbG9hdHMiLCJGbG93Q2h1bmtQb3NpdGlvbiIsImNodW5rUG9zaXRpb24iLCJmbG93Q2h1bmsiLCJpc1NhbWVQb3NpdGlvbiIsIkZsb3dQb3NpdGlvbiIsIm5ld2ZwIiwicG9zaXRpb25zIiwibmV3YXJyIiwic3RhcnRTaWRlIiwiTGF5b3V0UG9zaXRpb24iLCJuZXdjcCIsImhpZ2hlc3RTZWVuTm9kZSIsImhpZ2hlc3RTZWVuT2Zmc2V0IiwibG9va3VwUG9zaXRpb25PZmZzZXQiLCJmbG93cyIsImZsb3dQb3NpdGlvbnMiLCJ0aGlzRmxvd05hbWVzIiwib3RoZXJGbG93TmFtZXMiLCJmbG93UG9zIiwiaGFzQ29udGVudCIsImZsb3dDaHVua1Bvc2l0aW9uIiwiQ29udGFpbmVyIiwibWFyZ2luVG9wIiwiYm9yZGVyVG9wIiwicGFkZGluZ1RvcCIsIm1hcmdpbkJvdHRvbSIsImJvcmRlckJvdHRvbSIsInBhZGRpbmdCb3R0b20iLCJtYXJnaW5MZWZ0IiwiYm9yZGVyTGVmdCIsInBhZGRpbmdMZWZ0IiwibWFyZ2luUmlnaHQiLCJib3JkZXJSaWdodCIsInBhZGRpbmdSaWdodCIsImdldEluc2V0UmlnaHQiLCJnZXRJbnNldFRvcCIsImdldEluc2V0TGVmdCIsImdldEluc2V0Qm90dG9tIiwib3JpZ2luWCIsIm9yaWdpblkiLCJpbm5lclNoYXBlIiwiZXhjbHVzaW9ucyIsImNvbXB1dGVkQmxvY2tTaXplIiwic25hcFdpZHRoIiwic25hcEhlaWdodCIsInNldEhvcml6b250YWxQb3NpdGlvbiIsImdldEJveERpciIsInNldFZlcnRpY2FsUG9zaXRpb24iLCJnZXRJbm5lclJlY3QiLCJ3aXRoT2Zmc2V0IiwiR2VvbWV0cnlVdGlsLlJlY3QiLCJwYWRkaW5nWCIsInBhZGRpbmdZIiwicGFkZGluZ1dpZHRoIiwicGFkZGluZ0hlaWdodCIsIm91dGVyU2hhcGVQcm9wIiwiZ2V0T3V0ZXJSZWN0IiwiQ3NzUHJvcC50b1NoYXBlIiwib3V0ZXJYIiwib3V0ZXJZIiwib3V0ZXJXaWR0aCIsIm91dGVySGVpZ2h0IiwiQ29udGVudFByb3BlcnR5SGFuZGxlciIsInJvb3RDb250ZW50VmFsdWUiLCJ2aXNpdFN0cklubmVyIiwiaW1nIiwiY3JlYXRlRWxlbWVudE5TIiwiQ3NzUGFyc2VyLnBhcnNlVmFsdWUiLCJub25Ucml2aWFsQ29udGVudCIsImlzUGFnZUZsb2F0IiwiQ09MVU1OIiwiUkVHSU9OIiwiUEFHRSIsIlBhZ2VGbG9hdCIsIm5vZGVQb3NpdGlvbiIsInBhZ2VGbG9hdExheW91dENvbnRleHQiLCJpc0FuY2hvckFscmVhZHlBcHBlYXJlZCIsIlBhZ2VGbG9hdFN0b3JlIiwibmV4dFBhZ2VGbG9hdEluZGV4IiwiZmxvYXQiLCJWdHJlZUltcGwuaXNTYW1lTm9kZVBvc2l0aW9uIiwiY3JlYXRlUGFnZUZsb2F0SWQiLCJQYWdlRmxvYXRGcmFnbWVudCIsImNvbnRpbnVhdGlvbnMiLCJhcmVhIiwiY29udGludWVzIiwiaXNBbGxvd2VkT25Db250ZXh0IiwiZ2V0T3V0ZXJTaGFwZSIsImdldE9yZGVyIiwiUGFnZUZsb2F0Q29udGludWF0aW9uIiwiUGFnZUZsb2F0TGF5b3V0Q29udGV4dCIsImdlbmVyYXRpbmdOb2RlUG9zaXRpb24iLCJmbG9hdFN0b3JlIiwiZ2V0UHJldmlvdXNTaWJsaW5nIiwiZmxvYXRzRGVmZXJyZWRGcm9tUHJldmlvdXMiLCJmbG9hdHNEZWZlcnJlZFRvTmV4dCIsImdldFByZXZpb3VzU2libGluZ09mIiwiZ2V0UGFyZW50IiwiZ2V0Q29udGFpbmVyIiwicmVhdHRhY2hGbG9hdEZyYWdtZW50cyIsImFkZFBhZ2VGbG9hdCIsImdldFBhZ2VGbG9hdExheW91dENvbnRleHQiLCJmaW5kUGFnZUZsb2F0QnlOb2RlUG9zaXRpb24iLCJmb3JiaWRkZW5GbG9hdHMiLCJQYWdlRmxvYXRMYXlvdXRTdHJhdGVneVJlc29sdmVyIiwiZmluZEJ5RmxvYXQiLCJmb3JiaWQiLCJpc0ZvcmJpZGRlbiIsImZsb2F0RnJhZ21lbnQiLCJkb250SW52YWxpZGF0ZSIsImFkZFBhZ2VGbG9hdEZyYWdtZW50IiwiZmxvYXRGcmFnbWVudHMiLCJmcjEiLCJmcjIiLCJpbnZhbGlkYXRlIiwicmVtb3ZlUGFnZUZsb2F0RnJhZ21lbnQiLCJmcmFnbWVudCIsImZpbmRQYWdlRmxvYXRGcmFnbWVudCIsImhhc0Zsb2F0IiwiaGFzRmxvYXRGcmFnbWVudHMiLCJnZXRGbG93TmFtZSIsImFuY2hvclZpZXdOb2RlIiwiZmxvYXRBbmNob3JzIiwiYW5jaG9ycyIsImNvbGxlY3RQYWdlRmxvYXRBbmNob3JzIiwiZmxvYXRJZCIsImdldERlZmVycmVkUGFnZUZsb2F0Q29udGludWF0aW9ucyIsImNvbnQiLCJkZWZlclBhZ2VGbG9hdCIsImlnbm9yZVJlZmVyZW5jZSIsImhhc1ByZWNlZGluZ0Zsb2F0c0RlZmVycmVkVG9OZXh0IiwiaXNBbGxvd2VkVG9QcmVjZWRlIiwibGFzdEZvbGxvd2luZyIsImxhc3RGb2xsb3dpbmdPZlBhcmVudCIsImdldExhc3RGb2xsb3dpbmdGbG9hdEluRnJhZ21lbnRzIiwiYzEiLCJjMiIsImdldFBhZ2VGbG9hdENvbnRpbnVhdGlvbnNEZWZlcnJlZFRvTmV4dCIsImdldEZsb2F0c0RlZmVycmVkVG9OZXh0SW5DaGlsZENvbnRleHRzIiwiY2hlY2tBbmRGb3JiaWRGbG9hdEZvbGxvd2luZ0RlZmVycmVkRmxvYXQiLCJub3RBbGxvd2VkRmxvYXQiLCJmaW5kTm90QWxsb3dlZEZsb2F0IiwibG9ja2VkIiwicmVtb3ZlRW5kRmxvYXRGcmFnbWVudHMiLCJjaGVja0FuZEZvcmJpZE5vdEFsbG93ZWRGbG9hdCIsImRlZmVycmVkRmxvYXRzIiwiZmxvYXRzSW5GcmFnbWVudHMiLCJmciIsImYxIiwiZjIiLCJpbnZhbGlkYXRlZCIsImhhc1NhbWVDb250YWluZXJBcyIsImxheW91dENvbnN0cmFpbnRzIiwiaXNJbnZhbGlkYXRlZCIsIkNzc0xvZ2ljYWxVdGlsLnRvTG9naWNhbCIsIkNzc0xvZ2ljYWxVdGlsLnRvUGh5c2ljYWwiLCJsb2dpY2FsRmxvYXRTaWRlIiwidG9Mb2dpY2FsIiwic3Rhc2hFbmRGbG9hdEZyYWdtZW50cyIsImZyYWdtZW50RmxvYXRTaWRlIiwic2hvdWxkQmVTdGFzaGVkQmVmb3JlIiwic3Rhc2hlZEZsb2F0RnJhZ21lbnRzIiwic3Rhc2hlZCIsInJlc3RvcmVTdGFzaGVkRnJhZ21lbnRzIiwiZGlzY2FyZFN0YXNoZWRGcmFnbWVudHMiLCJnZXRTdGFzaGVkRmxvYXRGcmFnbWVudHMiLCJsYXlvdXRDb250ZXh0IiwibG9naWNhbFNpZGUiLCJwaHlzaWNhbFNpZGUiLCJsaW1pdCIsImdldExpbWl0VmFsdWVJbm5lciIsInBhcmVudExpbWl0IiwiZ2V0TGltaXRWYWx1ZSIsImxpbWl0cyIsImdldExpbWl0VmFsdWVzSW5uZXIiLCJwYWRkaW5nUmVjdCIsImdldFBhZGRpbmdSZWN0IiwiZmxvYXRNaW5XcmFwQmxvY2tTdGFydCIsImZsb2F0TWluV3JhcEJsb2NrRW5kIiwicmVzb2x2ZUxlbmd0aFBlcmNlbnRhZ2UiLCJjb250YWluZXJMZW5ndGgiLCJjb252ZXJ0TGVuZ3RoVG9QeCIsInJvb3RWaWV3Tm9kZXMiLCJhbmNob3JFZGdlIiwiZm9yY2UiLCJzZXRGbG9hdEFyZWFEaW1lbnNpb25zIiwiYmxvY2tTdGFydCIsImJsb2NrRW5kIiwiaW5saW5lU3RhcnQiLCJpbmxpbmVFbmQiLCJibG9ja09mZnNldCIsImlubGluZU9mZnNldCIsImxpbWl0QmxvY2tTdGFydEVuZFZhbHVlV2l0aE9wZW5SZWN0IiwiZ2V0UmVjdCIsIm9wZW5SZWN0IiwiR2VvbWV0cnlVdGlsLnVucm90YXRlQm94IiwiYmxvY2tTaXplIiwiaW5saW5lU2l6ZSIsIm91dGVyQmxvY2tTaXplIiwib3V0ZXJJbmxpbmVTaXplIiwiR2VvbWV0cnlVdGlsLnJvdGF0ZUJveCIsIkdlb21ldHJ5VXRpbC5maW5kVXBwZXJtb3N0RnVsbHlPcGVuUmVjdCIsIkdlb21ldHJ5VXRpbC5maW5kQm90dG9tbW9zdEZ1bGx5T3BlblJlY3QiLCJnZXRJbnNldEJlZm9yZSIsImdldEluc2V0QWZ0ZXIiLCJnZXRJbnNldFN0YXJ0IiwiZ2V0SW5zZXRFbmQiLCJhdmFpbGFibGVCbG9ja1NpemUiLCJjb250YWluZXJSZWN0IiwiU2l6aW5nLmdldFNpemUiLCJTaXppbmcuU2l6ZSIsImFkanVzdENvbnRlbnRSZWxhdGl2ZVNpemUiLCJnZXRDb250ZW50SW5saW5lU2l6ZSIsImF2YWlsYWJsZUlubGluZVNpemUiLCJzZXRJbmxpbmVQb3NpdGlvbiIsInNldEJsb2NrUG9zaXRpb24iLCJnZXRGbG9hdEZyYWdtZW50RXhjbHVzaW9ucyIsImVkZ2UiLCJJbmZpbml0eSIsImlzQ29udGludWF0aW9uT2ZBbHJlYWR5QXBwZWFyZWRGbG9hdCIsImlzRnJhZ21lbnRXaXRoQWxyZWFkeUFwcGVhcmVkRmxvYXQiLCJjb2x1bW5SZWN0IiwiY29sdW1uQmxvY2tFbmQiLCJibG9ja1N0YXJ0TGltaXQiLCJnZXRQYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb24iLCJsb2dpY2FsQ2xlYXJTaWRlIiwibG9naWNhbFNpZGVzIiwiZmxvYXRPcmRlciIsImlzUHJlY2VkaW5nRnJhZ21lbnQiLCJoYXNQcmVjZWRpbmdGcmFnbWVudEluQ2hpbGRyZW4iLCJoYXNQcmVjZWRpbmdGcmFnbWVudEluUGFyZW50cyIsImdldExheW91dENvbnN0cmFpbnRzIiwibGF5b3V0Q29uc3RyYWludCIsImFkZExheW91dENvbnN0cmFpbnQiLCJwYWdlRmxvYXRMYXlvdXRTdHJhdGVnaWVzIiwic3RyYXRlZ3kiLCJhcHBsaWVzVG9Ob2RlQ29udGV4dCIsImFwcGxpZXNUb0Zsb2F0IiwidG9Ob2RlUG9zaXRpb24iLCJyZXNvbHZlRmxvYXRSZWZlcmVuY2VGcm9tQ29sdW1uU3BhbiIsImZsb2F0QXJlYSIsImZsb2F0Q29udGFpbmVyIiwiUGFnZUZsb2F0cy5QYWdlRmxvYXRGcmFnbWVudCIsIkZvb3Rub3RlIiwiUGFnZUZsb2F0cy5QYWdlRmxvYXQiLCJGb290bm90ZUZyYWdtZW50IiwiTGluZUZvb3Rub3RlUG9saWN5TGF5b3V0Q29uc3RyYWludCIsIlZ0cmVlLmlzU2FtZU5vZGVQb3NpdGlvbiIsIlBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3lSZXNvbHZlciIsIlBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UiLCJyZWdpb25Db250ZXh0IiwiYXBwbHlGb290bm90ZVN0eWxlIiwiY29udmVydFBlcmNlbnRhZ2VTaXplc1RvUHgiLCJzZXRDb21wdXRlZEluc2V0cyIsInNldENvbXB1dGVkV2lkdGhBbmRIZWlnaHQiLCJjb25zdHJhaW50IiwiZm9yY2VkQnJlYWtWYWx1ZXMiLCJyZWN0byIsInZlcnNvIiwicmVnaW9uIiwiaXNGb3JjZWRCcmVha1ZhbHVlIiwiYXZvaWRCcmVha1ZhbHVlcyIsImF2b2lkLXBhZ2UiLCJhdm9pZC1jb2x1bW4iLCJhdm9pZC1yZWdpb24iLCJpc0F2b2lkQnJlYWtWYWx1ZSIsInJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlIiwic2Vjb25kIiwiZmlyc3RJc0ZvcmNlZEJyZWFrVmFsdWUiLCJzZWNvbmRJc0ZvcmNlZEJyZWFrVmFsdWUiLCJicmVha1ZhbHVlVG9TdGFydFNpZGVWYWx1ZSIsImJyZWFrVmFsdWUiLCJzdGFydFNpZGVWYWx1ZVRvQnJlYWtWYWx1ZSIsInN0YXJ0U2lkZVZhbHVlIiwiY2FsY3VsYXRlRWRnZSIsImV4dHJhT2Zmc2V0IiwiY2JveCIsInJhbmdlIiwiY3JlYXRlUmFuZ2UiLCJzZXRTdGFydCIsInNldEVuZCIsImJveGVzIiwiZ2V0UmFuZ2VDbGllbnRSZWN0cyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIkJhc2UuY2hlY2tWZXJ0aWNhbEJCb3hCdWciLCJmdWxsUmFuZ2UiLCJmdWxsQm94ZXMiLCJmdWxsQm94IiwiZml4Qm94ZXNGb3JOb2RlIiwibWF4U2l6ZSIsImJveFNpemUiLCJnZXRFbGVtZW50SGVpZ2h0IiwiZ2V0Q29tcHV0ZWRNYXJnaW4iLCJpc09ycGhhbiIsInJlbW92ZUZvbGxvd2luZ1NpYmxpbmdzIiwiaXNTcGVjaWFsIiwiVnRyZWVJbXBsLlNQRUNJQUxfQVRUUiIsImlzU3BlY2lhbE5vZGVDb250ZXh0IiwiUGx1Z2luLnJlZ2lzdGVySG9vayIsIkFic3RyYWN0QnJlYWtQb3NpdGlvbiIsImNhbGN1bGF0ZU9mZnNldCIsImdldE5vZGVDb250ZXh0IiwiY29sbGVjdEVsZW1lbnRzT2Zmc2V0IiwiZWxlbWVudHNPZmZzZXRzIiwicmVwZXRpdGl2ZUVsZW1lbnQiLCJtaW5pbXVtIiwiY2FsY3VsYXRlTWluaW11bU9mZnNldCIsIkVkZ2VCcmVha1Bvc2l0aW9uIiwiYnJlYWtPbkVkZ2UiLCJvdmVyZmxvd3MiLCJvdmVyZmxvd0lmUmVwZXRpdGl2ZUVsZW1lbnRzRHJvcHBlZCIsInBlbmFsdHkiLCJ1cGRhdGVPdmVyZmxvd3MiLCJnZXRNaW5CcmVha1BlbmFsdHkiLCJmaW5kRWRnZUJyZWFrUG9zaXRpb24iLCJpc0VkZ2VVcGRhdGVkIiwicHJlZmVyRHJvcHBpbmciLCJpc0ZpcnN0Q29udGVudE9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXIiLCJCcmVhay5pc0F2b2lkQnJlYWtWYWx1ZSIsImNsb25lZFBhZGRpbmdCb3JkZXIiLCJjYWxjdWxhdGVDbG9uZWRQYWRkaW5nQm9yZGVyIiwiTGF5b3V0SGVscGVyLmNhbGN1bGF0ZUVkZ2UiLCJ1cGRhdGVFZGdlIiwib2Zmc2V0cyIsImlzT3ZlcmZsb3duIiwiaXNJbnN0YW5jZU9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCIsInJlcGV0aXRpdmVFbGVtZW50cyIsImdldFJlcGV0aXRpdmVFbGVtZW50cyIsImlzRmlyc3RDb250ZW50Tm9kZSIsIkZMT1dfUk9PVF9BVFRSIiwiYmxvY2tpZnkiLCJkaXNwbGF5U3RyIiwiYmxvY2tpZmllZFN0ciIsImlzQWJzb2x1dGVseVBvc2l0aW9uZWQiLCJnZXRDb21wdXRlZERpc2xheVZhbHVlIiwiaXNCbG9jayIsImlzSW5saW5lTGV2ZWwiLCJMYXlvdXRQcm9jZXNzb3JSZXNvbHZlciIsIlBsdWdpbi5IT09LUyIsIlJFU09MVkVfTEFZT1VUX1BST0NFU1NPUiIsInByb2Nlc3NvciIsIkJsb2NrTGF5b3V0UHJvY2Vzc29yIiwibGVhZGluZ0VkZ2UiLCJpc0Zsb2F0Tm9kZUNvbnRleHQiLCJsYXlvdXRGbG9hdE9yRm9vdG5vdGUiLCJpc0JyZWFrYWJsZSIsImxheW91dEJyZWFrYWJsZUJsb2NrIiwibGF5b3V0VW5icmVha2FibGUiLCJjb2x1bW5CbG9ja1NpemUiLCJCcmVha1Bvc2l0aW9uLkVkZ2VCcmVha1Bvc2l0aW9uIiwic3RvcEF0T3ZlcmZsb3ciLCJwYXJlbnROb2RlQ29udGV4dCIsInJlbW92ZVNlbGYiLCJMYXlvdXRIZWxwZXIucmVtb3ZlRm9sbG93aW5nU2libGluZ3MiLCJmb3JjZVJlbW92ZVNlbGYiLCJlbmRPZkNvbHVtbiIsImNsZWFyT3ZlcmZsb3duVmlld05vZGVzIiwiZml4SnVzdGlmaWNhdGlvbklmTmVlZGVkIiwicHJvY2Vzc0ZyYWdtZW50ZWRCbG9ja0VkZ2UiLCJCbG9ja0Zvcm1hdHRpbmdDb250ZXh0IiwiZmlyc3RUaW1lIiwiYmxvY2tMYXlvdXRQcm9jZXNzb3IiLCJpc0luc3RhbmNlT2ZCbG9ja0Zvcm1hdHRpbmdDb250ZXh0IiwiUkVTT0xWRV9GT1JNQVRUSU5HX0NPTlRFWFQiLCJEaXNwbGF5LmlzQmxvY2siLCJBYnN0cmFjdExheW91dFJldHJ5ZXIiLCJwcmVwYXJlTGF5b3V0IiwidHJ5TGF5b3V0Iiwic2F2ZVN0YXRlIiwibW9kZSIsInJlc29sdmVMYXlvdXRNb2RlIiwiZG9MYXlvdXQiLCJwb3NpdGlvbkFmdGVyIiwiYWNjZXB0ZWQiLCJhY2NlcHQiLCJwb3N0TGF5b3V0IiwiaW5pdGlhbFBvc2l0aW9uIiwiY2xlYXJOb2RlcyIsInJlc3RvcmVTdGF0ZSIsInNpYmxpbmciLCJpbml0aWFsQnJlYWtQb3NpdGlvbnMiLCJicmVha1Bvc2l0aW9ucyIsImluaXRpYWxGcmFnbWVudExheW91dENvbnN0cmFpbnRzIiwiZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyIsImluaXRpYWxTdGF0ZU9mRm9ybWF0dGluZ0NvbnRleHQiLCJMYXlvdXRJdGVyYXRvclN0cmF0ZWd5IiwiaW5pdGlhbE5vZGVDb250ZXh0IiwiYXRVbmZvcmNlZEJyZWFrIiwiYnJlYWsiLCJMYXlvdXRJdGVyYXRvciIsImluaXRpYWxTdGF0ZSIsImxvb3BXaXRoRnJhbWUiLCJsb29wRnJhbWUiLCJWdHJlZUltcGwuY2FuSWdub3JlIiwiYWZ0ZXJJZ25vcmVkVGV4dE5vZGUiLCJzdGFydElnbm9yZWRUZXh0Tm9kZSIsImFmdGVyTm9uRWxlbWVudE5vZGUiLCJzdGFydE5vbkVsZW1lbnROb2RlIiwiYWZ0ZXJJbmxpbmVFbGVtZW50Tm9kZSIsInN0YXJ0SW5saW5lRWxlbWVudE5vZGUiLCJhZnRlck5vbklubGluZUVsZW1lbnROb2RlIiwic3RhcnROb25JbmxpbmVFbGVtZW50Tm9kZSIsImFmdGVyTm9uRGlzcGxheWFibGVOb2RlIiwic3RhcnROb25EaXNwbGF5YWJsZU5vZGUiLCJuZXh0UmVzdWx0IiwibmV4dEluVHJlZSIsIm5leHROb2RlQ29udGV4dCIsImJyZWFrTG9vcCIsImNvbnRpbnVlTG9vcCIsIkVkZ2VTa2lwcGVyIiwiYnJlYWtBdFRoZUVkZ2UiLCJvblN0YXJ0RWRnZXMiLCJsZWFkaW5nRWRnZUNvbnRleHRzIiwibGFzdEFmdGVyTm9kZUNvbnRleHQiLCJuZWVkRm9yY2VkQnJlYWsiLCJCcmVhay5pc0ZvcmNlZEJyZWFrVmFsdWUiLCJwYWdlQnJlYWtUeXBlIiwiY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlQW5kQnJlYWtQb3NpdGlvbiIsIm1vZGlmeSIsInZpb2xhdGVDb25zdHJhaW50IiwiYWxsb3dMYXlvdXQiLCJCcmVhay5yZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZSIsInN0YXJ0Tm9uSW5saW5lQm94IiwiZW5kRW1wdHlOb25JbmxpbmVCb3giLCJlbmROb25JbmxpbmVCb3giLCJyZXBldGl0aXZlRWxlbWVudHNDYWNoZSIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsIlNIQURPVyIsIlBTRVVET19BVFRSIiwiZ2V0UHNldWRvTmFtZSIsInNldFBzZXVkb05hbWUiLCJQc2V1ZG9lbGVtZW50U3R5bGVyIiwiZGVlcCIsImdldFN0eWxlIiwiQ3NzQ2FzY2FkZS5nZXRTdHlsZU1hcCIsIm5lc3QiLCJDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZSIsImNvbnRlbnRQcm9jZXNzZWQiLCJjb250ZW50VmFsIiwiVnRyZWUubm9uVHJpdmlhbENvbnRlbnQiLCJWdHJlZS5Db250ZW50UHJvcGVydHlIYW5kbGVyIiwiaXNJbnN0YW5jZU9mQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQiLCJyZWdpc3RlckZyYWdtZW50SW5kZXgiLCJNYXRjaGVycy5OdGhGcmFnbWVudE1hdGNoZXIiLCJBZnRlcklmQ29udGludWVzIiwidmlld1Jvb3QiLCJwc2V1ZG9Db2x1bW4iLCJQc2V1ZG9Db2x1bW4iLCJpbml0aWFsUGFnZUJyZWFrVHlwZSIsImdldENvbHVtbiIsImxheW91dCIsImNyZWF0ZU5vZGVQb3NpdGlvbkZvclBzZXVkb0VsZW1lbnQiLCJwc2V1ZG9FbGVtZW50IiwiUHNldWRvRWxlbWVudC5kb2N1bWVudCIsIlBzZXVkb0VsZW1lbnQuc2V0UHNldWRvTmFtZSIsImNyZWF0ZVNoYWRvd0NvbnRleHQiLCJWdHJlZUltcGwuQ2h1bmtQb3NpdGlvbiIsIlZ0cmVlSW1wbC5TaGFkb3dDb250ZXh0IiwiUk9PVEVEIiwiQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQiLCJwc2V1ZG9FbGVtZW50SGVpZ2h0Iiwib3ZlcmZsb3duTm9kZUNvbnRleHQiLCJhbGxvd2VkIiwiYWZmZWN0VG8iLCJBZnRlcklmQ29udGludWVzRWxlbWVudHNPZmZzZXQiLCJwcm9jZXNzQWZ0ZXJJZkNvbnRpbnVlc09mTm9kZUNvbnRleHQiLCJMYXlvdXRIZWxwZXIuZ2V0RWxlbWVudEhlaWdodCIsImNhbGN1bGF0ZVBzZXVkb0VsZW1lbnRIZWlnaHQiLCJwcm9jZXNzQWZ0ZXJJZkNvbnRpbnVlcyIsIm1lZGlhVGFncyIsInN2ZyIsImF1ZGlvIiwidmlkZW8iLCJBbGxMYXlvdXRDb25zdHJhaW50IiwiY29uc3RyYWludHMiLCJCb3hCcmVha1Bvc2l0aW9uIiwiQnJlYWtQb3NpdGlvbi5BYnN0cmFjdEJyZWFrUG9zaXRpb24iLCJjaGVja1BvaW50cyIsImFscmVhZHlFdmFsdWF0ZWQiLCJicmVha05vZGVDb250ZXh0IiwiZmluZEJveEJyZWFrUG9zaXRpb24iLCJpc1NwZWNpYWxJbmxpbmVEaXNwbGF5IiwiQ29sdW1uIiwiVnRyZWVJbXBsLkNvbnRhaW5lciIsInZpZXdEb2N1bWVudCIsInNldENvbnRhaW5lciIsInN0YXJ0RWRnZSIsImJlZm9yZUVkZ2UiLCJlbmRFZGdlIiwiYWZ0ZXJFZGdlIiwiaXNGbG9hdCIsImZvb3Rub3RlRWRnZSIsInBhZ2VGbG9hdEV4Y2x1c2lvbnMiLCJzZXRWaWV3Um9vdCIsInN0ZXBJbmRleCIsInByZXZDb250ZXh0IiwiVnRyZWVJbXBsLm1ha2VOb2RlQ29udGV4dEZyb21Ob2RlUG9zaXRpb25TdGVwIiwiZmxvd1Jvb3RGb3JtYXR0aW5nQ29udGV4dCIsImNhbGN1bGF0ZU9mZnNldEluTm9kZUZvck5vZGVDb250ZXh0Iiwic2V0Q3VycmVudCIsIkRpZmYucmVzb2x2ZU5ld0luZGV4IiwiZmlyc3RDaGFyUGF0dGVybiIsInBlZWxPZmYiLCJib2R5RnJhbWUiLCJMYXlvdXRIZWxwZXIuaXNTcGVjaWFsTm9kZUNvbnRleHQiLCJtYXliZVBlZWxPZmYiLCJwb3NpdGlvbjFQYXJhbSIsInBvc2l0aW9uUGFyYW0iLCJwb3N0TGF5b3V0QmxvY2siLCJwb3NpdGlvbjEiLCJjc3NGbG9hdCIsImdldFRvcEVkZ2UiLCJnZXRMZWZ0RWRnZSIsImdldEJvdHRvbUVkZ2UiLCJnZXRSaWdodEVkZ2UiLCJjcmVhdGVGbG9hdCIsIkxheW91dEhlbHBlci5pc09ycGhhbiIsImluc2V0cyIsIkdlb21ldHJ5VXRpbC5JbnNldHMiLCJwYXJzZUNvbXB1dGVkTGVuZ3RoIiwiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyVG9wV2lkdGgiLCJib3JkZXJSaWdodFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJib3hTaXppbmciLCJub2RlQ29udGV4dEluIiwiYnVpbGREZWVwRWxlbWVudFZpZXciLCJub2RlQ29udGV4dEFmdGVyIiwiZmxvYXRCQm94IiwiZmxvYXRCb3giLCJwYXJlbnRCb3giLCJnZXRTdGFydEVkZ2UiLCJnZXRFbmRFZGdlIiwiZmxvYXRCb3hNZWFzdXJlIiwiZmxvYXRIb3JCb3giLCJkaXIiLCJib3R0b21tb3N0RmxvYXRUb3AiLCJib3hFeHRlbnQiLCJmbG9hdFdpZHRoIiwiZmxvYXRIZWlnaHQiLCJmbG9hdEJvdHRvbSIsIkdlb21ldHJ5VXRpbC5wb3NpdGlvbkZsb2F0IiwiZ2V0Q29tcHV0ZWRJbnNldHMiLCJnZXRDb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSIsImZsb2F0Qm94RWRnZSIsImZsb2F0Qm94VG9wIiwia2lsbEZsb2F0cyIsImZsb2F0QmFuZHMiLCJsYXN0WSIsImZsb2F0QmFuZCIsIkdlb21ldHJ5VXRpbC5hZGRGbG9hdFRvQmFuZHMiLCJjcmVhdGVGbG9hdHMiLCJsZWZ0RmxvYXRFZGdlIiwicmlnaHRGbG9hdEVkZ2UiLCJ1cGRhdGVNYXhSZWFjaGVkQWZ0ZXJFZGdlIiwiZmxvYXRMYXlvdXRDb250ZXh0IiwiZm9yY2VOb25maXR0aW5nIiwiY29udGFpbmluZ0Jsb2NrUmVjdCIsImFkanVzdFBhZ2VGbG9hdEFyZWEiLCJmaXRXaXRoaW5Db250YWluZXIiLCJmbG9hdEFyZWFFbGVtZW50IiwicGFyZW50UGFnZUZsb2F0TGF5b3V0Q29udGV4dCIsIlBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCIsInBhcmVudENvbnRhaW5lciIsIlBhZ2VGbG9hdEFyZWEiLCJzZXR1cEZsb2F0QXJlYSIsImFsbG93RnJhZ21lbnRlZCIsInBhZ2VGbG9hdEZyYWdtZW50Iiwib3JpZ2luYWxDb250aW51YXRpb25zIiwiZmlyc3RGbG9hdCIsImNyZWF0ZVBhZ2VGbG9hdEFyZWEiLCJuZXdQb3NpdGlvbiIsImZhaWxlZCIsImZsb2F0Q2h1bmtQb3NpdGlvbiIsIm5ld0ZyYWdtZW50IiwiY3JlYXRlUGFnZUZsb2F0RnJhZ21lbnQiLCJjYW5jZWxMYXlvdXQiLCJsYXlvdXRTaW5nbGVQYWdlRmxvYXRGcmFnbWVudCIsImxheW91dFN0YXNoZWRQYWdlRmxvYXRzIiwic3VjY2VzcyIsIlBhZ2VGbG9hdHMuUGFnZUZsb2F0Q29udGludWF0aW9uIiwiZXhjbHVkZWQiLCJuZXdGbG9hdEFyZWFzIiwibmV3RnJhZ21lbnRzIiwic3Rhc2hlZEZyYWdtZW50IiwiYW5jaG9yIiwiYXBwbHlQc2V1ZG9lbGVtZW50U3R5bGUiLCJjb2x1bW5Db250ZXh0IiwiZmluZEJ5Tm9kZUNvbnRleHQiLCJjcmVhdGVQYWdlRmxvYXQiLCJWdHJlZUltcGwubmV3Tm9kZVBvc2l0aW9uRnJvbU5vZGVDb250ZXh0Iiwic2V0RmxvYXRBbmNob3JWaWV3Tm9kZSIsInJlZ2lzdGVyUGFnZUZsb2F0QW5jaG9yIiwibm9kZUNvbnRleHRPdmVyZmxvd2luZ0R1ZVRvUmVwZXRpdGl2ZUVsZW1lbnRzIiwibGF5b3V0UGFnZUZsb2F0SW5uZXIiLCJpbnNlcnRpb25Qb2ludCIsInNwYW4iLCJpbm5lciIsInRleHRJbmRlbnQiLCJ0ZXh0QWxpZ24iLCJsZWZ0UG9zIiwicmlnaHRQb3MiLCJpbmxpbmVCbG9jayIsIkJhc2UuY2hlY2tJbmxpbmVCbG9ja0p1c3RpZmljYXRpb25CdWciLCJwYWRkaW5nIiwicGFkZGluZ1N0ciIsImluc2VydEFmdGVyIiwiQmFzZS5jaGVja1NvZnRXcmFwT3Bwb3J0dW5pdHlBZnRlckh5cGhlbkJ1ZyIsImh5cGhlbkNoYXIiLCJyZXNvbHZlSHlwaGVuYXRlQ2hhcmFjdGVyIiwicHJldlNpYmxpbmciLCJwcmV2VGV4dCIsIkJhc2UuY2hlY2tTb2Z0V3JhcE9wcG9ydHVuaXR5QnlXYnJCdWciLCJmaXhKdXN0aWZpY2F0aW9uT25IeXBoZW4iLCJjcmVhdGVKdXN0aWZpY2F0aW9uQWRqdXN0bWVudEVsZW1lbnQiLCJiciIsInNwYW5SZWN0IiwiYnJSZWN0IiwiYWRkQW5kQWRqdXN0SnVzdGlmaWNhdGlvbkVsZW1lbnQiLCJjb21wZW5zYXRlSnVzdGlmaWNhdGlvbkxpbmVIZWlnaHQiLCJyZXNOb2RlQ29udGV4dCIsImxhc3RDaGVja1BvaW50cyIsInRvdGFsTGluZUNvdW50IiwibGluZVBvc2l0aW9ucyIsImZpbmRMaW5lUG9zaXRpb25zIiwibGluZUJyZWFrIiwiZmluZEFjY2VwdGFibGVCcmVha0luc2lkZSIsImZpbmlzaEJyZWFrIiwicmVzTm9kZUNvbnRleHRQYXJhbSIsImJ1aWxkVmlld1RvTmV4dEJsb2NrRWRnZSIsInRyYWlsaW5nRWRnZUNvbnRleHRzIiwibWF4UG9zIiwibWluTmVnIiwiY2hlY2tQb2ludEluZGV4IiwibGluZUNvbnQiLCJvdmVyZmxvd24iLCJCcmVha1Bvc2l0aW9uLmNhbGN1bGF0ZU9mZnNldCIsImdldFRyYWlsaW5nTWFyZ2luRWRnZUFkanVzdG1lbnQiLCJwcm9jZXNzTGluZVN0eWxpbmciLCJzYXZlQm94QnJlYWtQb3NpdGlvbiIsImlzTG9uZUltYWdlIiwiUE9TVF9MQVlPVVRfQkxPQ0siLCJsaW5lUG9zaXRpb24iLCJpc1VwZGF0ZU1heFJlYWNoZWRBZnRlckVkZ2UiLCJlZmZlY3RpdmVMaW5lUG9zaXRpb24iLCJsb3dDUCIsImxvdzEiLCJoaWdoQ1AiLCJoaWdoMSIsIm1pZDEiLCJlZGdlUG9zaXRpb24iLCJmaW5kRW5kT2ZMaW5lIiwidGV4dE5vZGUiLCJyZXNvbHZlVGV4dE5vZGVCcmVha2VyIiwiYnJlYWtUZXh0Tm9kZSIsIlJFU09MVkVfVEVYVF9OT0RFX0JSRUFLRVIiLCJUZXh0Tm9kZUJyZWFrZXIiLCJ3ZW50VXAiLCJsYXN0R29vZCIsImhhdmVTdGFydCIsImVuZE5vdFJlYWNoZWQiLCJzZWVrUmFuZ2UiLCJzZXRTdGFydEJlZm9yZSIsIkxheW91dEhlbHBlci5pc1NwZWNpYWwiLCJzZXRFbmRBZnRlciIsImJveExpc3QiLCJnZXRSYW5nZUJveGVzIiwiVnRyZWVJbXBsLmNsaWVudHJlY3REZWNyZWFzaW5nUmlnaHQiLCJWdHJlZUltcGwuY2xpZW50cmVjdEluY3JlYXNpbmdUb3AiLCJsaW5lQmVmb3JlIiwibGluZUFmdGVyIiwibGluZUVuZCIsImxpbmVMZW5ndGgiLCJvdmVybGFwIiwiZ2V0Qm94U2l6ZSIsImdldEJlZm9yZUVkZ2UiLCJnZXRBZnRlckVkZ2UiLCJCYXNlLm51bWJlckNvbXBhcmUiLCJ3YWxrVXBCbG9ja3MiLCJFbGVtZW50IiwicGFkZGluZ0JvcmRlcnMiLCJnZXRDb21wdXRlZFBhZGRpbmdCb3JkZXIiLCJicCIsInJlcGV0aXRpdmVFbGVtZW50c09mZnNldCIsImdldE9mZnNldEJ5UmVwZXRpdGl2ZUVsZW1lbnRzIiwiZmlyc3RPdmVyZmxvd2luZyIsImZpbmRGaXJzdE92ZXJmbG93aW5nRWRnZUFuZENoZWNrUG9pbnQiLCJsaW5lSW5kZXgiLCJCYXNlLmJpbmFyeVNlYXJjaCIsImZvcmNlQ3V0QmVmb3JlT3ZlcmZsb3dpbmciLCJjaGVja1BvaW50IiwiYmxvY2tFZGdlIiwiZ2V0QWZ0ZXJFZGdlT2ZCbG9ja0NvbnRhaW5lciIsImJsb2NrUGFyZW50IiwiY3AiLCJMYXlvdXRQcm9jZXNzb3IuTGF5b3V0UHJvY2Vzc29yUmVzb2x2ZXIiLCJmaW5kIiwiTGF5b3V0UHJvY2Vzc29yLmJsb2NrTGF5b3V0UHJvY2Vzc29yIiwibmV4dFBlbmFsdHkiLCJmaW5kQWNjZXB0YWJsZUJyZWFrIiwibWluUGVuYWx0eSIsImJyZWFrUG9zaXRpb24iLCJpbml0aWFsQ29tcHV0ZWRCbG9ja1NpemUiLCJza2lwVGFpbEVkZ2VzIiwiZmxvd1Bvc2l0aW9uIiwibWFyZ2luRWRnZSIsInNhdmVFdmVuT3ZlcmZsb3duIiwiY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlIiwic2F2ZUVkZ2VCcmVha1Bvc2l0aW9uIiwic3BhY2VyIiwic3BhY2VyQm94IiwiY2xlYXJFZGdlIiwiZ2V0UGFnZUZsb2F0Q2xlYXJFZGdlIiwid0FkaiIsImhBZGoiLCJMYXlvdXRQcm9jZXNzb3IuaXNJbnN0YW5jZU9mQmxvY2tGb3JtYXR0aW5nQ29udGV4dCIsImZvcmNlZEJyZWFrVmFsdWUiLCJpc0JGQyIsInByb2Nlc3NGb3JjZWRCcmVhayIsImxheW91dFByb2Nlc3NvciIsImFwcGx5Q2xlYXJhbmNlIiwiemVyb0luZGVudCIsInZpZXdUYWciLCJub2RlQ29udGV4dFBhcmFtIiwibGFzdEFmdGVyUG9zaXRpb24iLCJyZXN1bHROb2RlQ29udGV4dCIsIlBhZ2VGbG9hdHMuaXNQYWdlRmxvYXQiLCJsYXlvdXRQYWdlRmxvYXQiLCJsYXlvdXRGbG9hdCIsInNraXBFZGdlcyIsInN0b3BCeU92ZXJmbG93IiwiY29sdW1uQkJveCIsImluY2x1ZGUiLCJleGNsdWRlIiwiZ3JhbnVsYXJpdHkiLCJzZWdtZW50cyIsInNlZ21lbnQiLCJhZGRTZWdtZW50cyIsInNlZ21lbnRDb3VudCIsImxvd2VzdEluY2x1ZGVJbmRleCIsInNlZ21lbnRJbmRleCIsImFjdGl2ZVNlZ21lbnRzIiwieTJtaW4iLCJ5biIsImJhbmRJbnRlcnNlY3Rpb25zIiwiYmkxIiwiYmkyIiwicnciLCJHZW9tZXRyeVV0aWwuc2hhcGVzVG9CYW5kcyIsImdldElubmVyU2hhcGUiLCJnZXRFeGNsdXNpb25zIiwiY2h1bmtQb3NpdGlvbnMiLCJpbml0R2VvbSIsImJyZWFrQXRFZGdlIiwiY3JlYXRlRWRnZUJyZWFrUG9zaXRpb24iLCJpc0Z1bGxXaXRoUGFnZUZsb2F0cyIsIm9wZW5BbGxWaWV3cyIsIm5leHRJblRyZWVMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZXRyeWVyIiwiQ29sdW1uTGF5b3V0UmV0cnllciIsImRvRmluaXNoQnJlYWsiLCJwc2V1ZG9QYXJlbnQiLCJkb0ZpbmlzaEJyZWFrT2ZGcmFnbWVudExheW91dENvbnN0cmFpbnRzIiwiaXNDb2x1bW5GdWxsV2l0aFBhZ2VGbG9hdHMiLCJnZXRNYXhCbG9ja1NpemVPZlBhZ2VGbG9hdHMiLCJzb3J0ZWRGcmFnbWVudExheW91dENvbnN0cmFpbnRzIiwiZ2V0UHJpb3JpdHlPZkZpbmlzaEJyZWFrIiwicGVuZGluZyIsImxheW91dE5leHQiLCJmaW5kQWNjZXB0YWJsZUJyZWFrUG9zaXRpb24iLCJicmVha1Bvc2l0aW9uQ2hvc2VuIiwiaXNQc2V1ZG9lbGVtZW50IiwiYmxvY2tTdGFydEVkZ2VPZkJsb2NrRW5kRmxvYXRzIiwiZ2V0QmxvY2tTdGFydEVkZ2VPZkJsb2NrRW5kRmxvYXRzIiwiaXNGaW5pdGUiLCJibG9ja0Rpc3RhbmNlVG9CbG9ja0VuZEZsb2F0cyIsImlzSW5zdGFuY2VPZlJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0Q29uc3RyYWludCIsImdldEVsZW1lbnRzT2Zmc2V0c0ZvclRhYmxlQ2VsbCIsInBhcmVudENsb25lZFBhZGRpbmdCb3JkZXIiLCJzdGFydE5vZGVDb250ZXh0cyIsImFsbG93QnJlYWtBdFN0YXJ0UG9zaXRpb24iLCJzdGFydE5vZGVDb250ZXh0IiwiY2hlY2twb2ludEluZGV4Iiwidmlld0luZGV4IiwiYnJlYWtBZnRlclNvZnRIeXBoZW4iLCJicmVha0FmdGVyT3RoZXJDaGFyYWN0ZXIiLCJ1cGRhdGVOb2RlQ29udGV4dCIsInJlcGxhY2VEYXRhIiwiY2gwIiwiY2gxIiwiQmFzZS5pc0xldHRlciIsIkxheW91dFJldHJ5ZXJzLkFic3RyYWN0TGF5b3V0UmV0cnllciIsIkRlZmF1bHRMYXlvdXRNb2RlIiwiaW5pdGlhbE92ZXJmbG93biIsInByb2Nlc3NBZnRlcklmQ29udGludWVzT2ZBbmNlc3RvcnMiLCJoYXNOZXh0Q2FuZGlkYXRlIiwibmV4dENhbmRpZGF0ZSIsImZpeEZsb2F0U2l6ZUFuZFBvc2l0aW9uIiwicmVmV2lkdGgiLCJyZWZIZWlnaHQiLCJjb252ZXJ0UGVyY2VudGFnZVRvUHgiLCJyZWZWYWx1ZSIsInZhbHVlU3RyaW5nIiwiQmFzZS5nZXRDU1NQcm9wZXJ0eSIsInBlcmNlbnRhZ2VWYWx1ZSIsInJvb3RWaWV3Tm9kZSIsImZsb2F0TWFyZ2lucyIsIlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQiLCJyb290U291cmNlTm9kZSIsImdldFJvb3ROb2RlQ29udGV4dCIsImJlbG9uZ3NUbyIsIlNoYXJlZC5yZXBldGl0aXZlRWxlbWVudHNDYWNoZSIsImVsZW1lbnRzIiwiUmVwZXRpdGl2ZUVsZW1lbnRzIiwib3duZXJTb3VyY2VOb2RlIiwiaGVhZGVyTm9kZVBvc2l0aW9uIiwiaGVhZGVyU291cmNlTm9kZSIsImhlYWRlclZpZXdOb2RlIiwiZm9vdGVyTm9kZVBvc2l0aW9uIiwiZm9vdGVyU291cmNlTm9kZSIsImZvb3RlclZpZXdOb2RlIiwiaGVhZGVySGVpZ2h0IiwiZm9vdGVySGVpZ2h0IiwiaXNTa2lwSGVhZGVyIiwiaXNTa2lwRm9vdGVyIiwiZW5hYmxlU2tpcHBpbmdGb290ZXIiLCJlbmFibGVTa2lwcGluZ0hlYWRlciIsInJvb3ROb2RlQ29udGV4dCIsImFwcGVuZEVsZW1lbnRUb0ZyYWdtZW50IiwiTGF5b3V0LlBzZXVkb0NvbHVtbiIsImFsbG93SW5zZXJ0UmVwZWF0aXRpdmVFbGVtZW50cyIsIm1vdmVDaGlsZHJlbiIsImlzQWZ0ZXJMYXN0Q29udGVudCIsImZpbmRSZXN1bHRGcm9tQ2FjaGUiLCJhZnRlckxhc3RDb250ZW50Tm9kZUNhY2hlIiwiaXNBZnRlck5vZGVDb250ZXh0T2YiLCJsYXN0Q29udGVudFNvdXJjZU5vZGUiLCJhZmZlY3RlZE5vZGVDYWNoZSIsImNhY2hlIiwiY2FsY3VsYXRvciIsImNhY2hlRW50cnkiLCJpbmNsdWRlQ2hpbGRyZW4iLCJwYXJlbnRzT2ZOb2RlIiwiY3VycmVudFBhcmVudCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJmaXJzdENvbnRlbnRTb3VyY2VOb2RlIiwiTGF5b3V0RW50aXJlQmxvY2siLCJkb25lSW5pdGlhbExheW91dCIsInVwZGF0ZUhlaWdodCIsIkxheW91dEZyYWdtZW50ZWRCbG9jayIsIkxheW91dEVudGlyZU93bmVyQmxvY2siLCJkb0luaXRpYWxMYXlvdXQiLCJMYXlvdXRGcmFnbWVudGVkT3duZXJCbG9jayIsIlJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0Q29uc3RyYWludCIsImlzRW5hYmxlVG9VcGRhdGVTdGF0ZSIsInVwZGF0ZVN0YXRlIiwicHJldmVudFNraXBwaW5nRm9vdGVyIiwiYXBwZW5kSGVhZGVyVG9GcmFnbWVudCIsImFwcGVuZEhlYWRlciIsImFwcGVuZEZvb3RlclRvRnJhZ21lbnQiLCJhcHBlbmRGb290ZXIiLCJwcmVwYXJlTGF5b3V0RnJhZ21lbnQiLCJSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dFJldHJ5ZXIiLCJwcmV2ZW50U2tpcHBpbmdIZWFkZXIiLCJFbnRpcmVCbG9ja0xheW91dFN0cmF0ZWd5IiwiTGF5b3V0VXRpbC5FZGdlU2tpcHBlciIsImlzSGVhZGVyUmVnaXN0ZXJlZCIsInNldEhlYWRlck5vZGVDb250ZXh0IiwiaXNGb290ZXJSZWdpc3RlcmVkIiwic2V0Rm9vdGVyTm9kZUNvbnRleHQiLCJhcHBlbmRIZWFkZXJUb0FuY2VzdG9ycyIsImVhY2hBbmNlc3Rvck5vZGVDb250ZXh0IiwicmVwZXRpdGl2ZUxheW91dFByb2Nlc3NvciIsIkxheW91dFByb2Nlc3Nvci5CbG9ja0xheW91dFByb2Nlc3NvciIsImdldFJvb3RWaWV3Tm9kZSIsImdldFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHRPck51bGwiLCJpc0hlYWRlclNvdXJjZU5vZGUiLCJpc0Zvb3RlclNvdXJjZU5vZGUiLCJsYXlvdXRFbnRpcmVCbG9jayIsIkxheW91dFV0aWwuTGF5b3V0SXRlcmF0b3IiLCJpdGVyYXRlIiwiTGF5b3V0LnByb2Nlc3NBZnRlcklmQ29udGludWVzIiwiVGFibGVSb3ciLCJyb3dJbmRleCIsImNlbGwiLCJjZWxscyIsIlRhYmxlQ2VsbCIsImNvbHVtbkluZGV4Iiwidmlld0VsZW1lbnQiLCJjb2xTcGFuIiwicm93U3BhbiIsInNsb3QiLCJhbmNob3JTbG90IiwiVGFibGVTbG90IiwiVGFibGVDZWxsRnJhZ21lbnQiLCJwc2V1ZG9Db2x1bW5Db250YWluZXIiLCJjZWxsTm9kZUNvbnRleHQiLCJUYWJsZUNhcHRpb25WaWV3IiwiQmV0d2VlblRhYmxlUm93QnJlYWtQb3NpdGlvbiIsImdldEFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnMiLCJhY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zIiwiY2VsbEZyYWdtZW50cyIsImdldENlbGxGcmFnbWVudHMiLCJjZWxsRnJhZ21lbnQiLCJmaW5kUm93SW5kZXhCeVNvdXJjZU5vZGUiLCJnZXRSb3dTcGFubmluZ0NlbGxzT3ZlcmZsb3dpbmdUaGVSb3ciLCJnZXRSb3dJbmRleCIsImdldENlbGxGcmFnbWVudE9mQ2VsbCIsIkluc2lkZVRhYmxlUm93QnJlYWtQb3NpdGlvbiIsImJlZm9yZU5vZGVDb250ZXh0IiwiYWxsQ2VsbHNCcmVha2FibGUiLCJpc1N0YXJ0Tm9kZUNvbnRleHQiLCJpc0xhc3RBZnRlck5vZGVDb250ZXh0Iiwicm93IiwiZ2V0Um93QnlJbmRleCIsImlzRnJlZWx5RnJhZ21lbnRhYmxlUm93IiwiZ2V0Q2VsbHNGYWxsaW5nT25Sb3ciLCJUYWJsZUZvcm1hdHRpbmdDb250ZXh0IiwiUmVwZXRpdGl2ZUVsZW1lbnRJbXBsLlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQiLCJ0YWJsZVNvdXJjZU5vZGUiLCJjZWxsQnJlYWtQb3NpdGlvbnMiLCJjZWxsTm9kZVBvc2l0aW9uIiwicm93cyIsInJvd1Nsb3RzIiwic2xvdHMiLCJhZGRSb3ciLCJhZGRDZWxsIiwicm93VXBwZXIiLCJnZXRSb3dTbG90cyIsInN0YXJ0Q29sSW5kZXgiLCJzZXRBbmNob3JTbG90IiwidW5pcXVlQ2VsbHMiLCJnZXRNaW5pbXVtSGVpZ2h0IiwidGFibGVXaWR0aCIsImNvbHVtbkNvdW50Iiwic3VtIiwic2V0SGVpZ2h0IiwidGFibGVDZWxsIiwiY29sIiwiY29sbGVjdGVkIiwiY29sbGVjdEVsZW1lbnRzT2Zmc2V0RnJvbUNvbHVtbiIsImVsZW1lbnRzSW5Db2x1bW4iLCJFbGVtZW50c09mZnNldE9mVGFibGVDZWxsIiwicmVwZWF0aXRpdmVFbGVtZW50c0luQ29sdW1ucyIsImNhbGN1bGF0ZU1heE9mZnNldE9mQ29sdW1uIiwibWF4T2Zmc2V0IiwiaXNWYWxpZFBhcmVudE9mVGFibGVSb3ciLCJpc1RhYmxlUm93R3JvdXBpbmciLCJpc1RhYmxlUm9vdCIsInNraXBOZXN0ZWRUYWJsZSIsInBhcmVudERpc3BsYXkiLCJpc05lc3RlZElubGluZVRhYmxlIiwiRW50aXJlVGFibGVMYXlvdXRTdHJhdGVneSIsInBvc3RMYXlvdXRCbG9ja0NvbnRlbnRzIiwiY2FwdGlvblZpZXciLCJjYXB0aW9ucyIsImluSGVhZGVyT3JGb290ZXIiLCJpblJvdyIsImNvbXB1dGVkU3R5bGUiLCJsYXN0Um93Vmlld05vZGUiLCJyZWdpc3RlckNoZWNrUG9pbnQiLCJUYWJsZUxheW91dFN0cmF0ZWd5Iiwib3JpZ2luYWxTdG9wQXRPdmVyZmxvdyIsImNvbFdpZHRocyIsInN0YXJ0Q2h1bmtQb3NpdGlvbiIsImNlbGxWaWV3Tm9kZSIsImdldENvbFNwYW5uaW5nQ2VsbFdpZHRoIiwiYWRkQ2VsbEZyYWdtZW50Iiwic2xvdEluZGV4IiwiY2VsbEJyZWFrUG9zaXRpb24iLCJyb3dTcGFubmluZ0NlbGxCcmVha1Bvc2l0aW9ucyIsImN1cnJlbnRSb3dJbmRleCIsImV4dHJhY3RSb3dTcGFubmluZ0NlbGxCcmVha1Bvc2l0aW9ucyIsInJvd0NvdW50IiwiY3VycmVudFJvdyIsInNwYW5uaW5nQ2VsbFJvd0luZGV4Iiwib2NjdXBpZWRTbG90SW5kaWNlcyIsInJvd0NlbGxCcmVha1Bvc2l0aW9ucyIsInJvd05vZGVDb250ZXh0IiwiY29udDEiLCJhZGREdW1teUNlbGxVbnRpbCIsInVwcGVyQ29sdW1uSW5kZXgiLCJkdW1teSIsImJyZWFrQ2h1bmtQb3NpdGlvbiIsImxheW91dENlbGwiLCJnZXRDb2x1bW5Db3VudCIsImluSGVhZGVyIiwiaW5Gb290ZXIiLCJjdXJyZW50Q29sdW1uSW5kZXgiLCJsYXlvdXRSb3dTcGFubmluZ0NlbGxzRnJvbVByZXZpb3VzRnJhZ21lbnQiLCJyZWdpc3RlckNlbGxGcmFnbWVudEluZGV4IiwicmVzZXRDb2x1bW4iLCJ0ZE5vZGVTdGVwIiwiZ2V0RWxlbWVudE9mZnNldCIsIkxheW91dC5yZWdpc3RlckZyYWdtZW50SW5kZXgiLCJhZnRlck5vZGVDb250ZXh0IiwiaGFzQnJva2VuQ2VsbEF0U2xvdCIsInN0YXJ0Tm9kZVBvc2l0aW9uIiwic3RhcnRUYWJsZVJvdyIsInN0YXJ0VGFibGVDZWxsIiwiaWdub3JlTGlzdCIsInRhYmxlLWNhcHRpb24iLCJ0YWJsZS1jb2x1bW4tZ3JvdXAiLCJ0YWJsZS1jb2x1bW4iLCJ0YWJsZUxheW91dE9wdGlvbkNhY2hlIiwiVGFibGVMYXlvdXRQcm9jZXNzb3IiLCJsYXN0Um93IiwiZHVtbXlSb3ciLCJkdW1teUNlbGxzIiwidGFibGVFbGVtZW50IiwiY29sR3JvdXBzIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJjb2xzIiwiY29sR3JvdXAiLCJnZXRDb2x1bW5XaWR0aHMiLCJnZXRDb2xHcm91cEVsZW1lbnRzIiwibm9ybWFsaXplQW5kR2V0Q29sRWxlbWVudHMiLCJhZGRNaXNzaW5nQ29sRWxlbWVudHMiLCJpbml0aWFsaXplUmVwZXRpdGl2ZUVsZW1lbnRzIiwidGFibGVMYXlvdXRPcHRpb24iLCJ0YWJsZVJvb3RTb3VyY2VOb2RlIiwicGFpciIsImdldFRhYmxlTGF5b3V0T3B0aW9uIiwiY2xlYXJUYWJsZUxheW91dE9wdGlvbkNhY2hlIiwibGF5b3V0RW50aXJlVGFibGUiLCJ0YWJsZUJCb3giLCJjYWxjdWxhdGVCcmVha1Bvc2l0aW9uc0luc2lkZSIsIkVudGlyZVRhYmxlQnJlYWtQb3NpdGlvbiIsIm5vcm1hbGl6ZUNvbEdyb3VwcyIsInVwZGF0ZUNlbGxTaXplcyIsImNhcHRpb24iLCJhZGRDYXB0aW9ucyIsImFkZENvbEdyb3VwcyIsIml0ZXJhdG9yIiwiUmVwZXRpdGl2ZUVsZW1lbnRJbXBsLmFwcGVuZEhlYWRlclRvQW5jZXN0b3JzIiwiTGF5b3V0UmV0cnllciIsImNlbGxDb250ZW50RWxlbWVudCIsImdldENvbHVtbkVsZW1lbnQiLCJjZWxsRWxlbWVudCIsImNlbGxFbGVtZW50UmVjdCIsImFkanVzdENlbGxIZWlnaHQiLCJmaW5pc2hGcmFnbWVudCIsInRhYmxlRm9ybWF0dGluZ0NvbnRleHQiLCJMYXlvdXRGcmFnbWVudGVkVGFibGUiLCJMYXlvdXRFbnRpcmVUYWJsZSIsInJlbW92ZUNvbEdyb3VwcyIsIlJlcGV0aXRpdmVFbGVtZW50SW1wbC5MYXlvdXRFbnRpcmVCbG9jayIsInRhYmxlTm9kZUNvbnRleHQiLCJFbnRpcmVUYWJsZUxheW91dENvbnN0cmFpbnQiLCJ0YWJsZVJvb3ROb2RlIiwiUmVwZXRpdGl2ZUVsZW1lbnRJbXBsLkxheW91dEZyYWdtZW50ZWRCbG9jayIsIlRhYmxlUm93TGF5b3V0Q29uc3RyYWludCIsImVxdWFsc1RvIiwiUmVwZXRpdGl2ZUVsZW1lbnRJbXBsLlJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0Q29uc3RyYWludCIsImNvbGxlY3RDZWxsRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyIsImNlbGxGcmFnbWVudExheW91dENvbnN0cmFpbnRzIiwicmVtb3ZlRHVtbXlSb3dOb2RlcyIsImFycmF5IiwiZHVtbXlOb2RlIiwiZ2V0Q2VsbEZyYWdlbW50cyIsImZpbmRDZWxsRnJvbUNvbHVtbiIsImNvbGxlY3RFbGVtZW50c09mZnNldE9mVXBwZXJDZWxscyIsImNvbGxlY3RFbGVtZW50c09mZnNldE9mSGlnaGVzdENvbHVtbiIsInRhYmxlTGF5b3V0UHJvY2Vzc29yIiwibWVhbiIsIkNvbHVtbkJhbGFuY2luZ1RyaWFsUmVzdWx0IiwibGF5b3V0UmVzdWx0IiwiZ2V0QmxvY2tTaXplIiwic2V0QmxvY2tTaXplIiwiQ29sdW1uQmFsYW5jZXIiLCJsYXlvdXRDb250YWluZXIiLCJjb2x1bW5HZW5lcmF0b3IiLCJyZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0Iiwib3JpZ2luYWxDb250YWluZXJCbG9ja1NpemUiLCJwcmVCYWxhbmNlIiwic2F2ZVBhZ2VGbG9hdExheW91dENvbnRleHRzIiwiY2FuZGlkYXRlcyIsImNyZWF0ZVRyaWFsUmVzdWx0IiwidXBkYXRlQ29uZGl0aW9uIiwicmVzdG9yZUNvbnRlbnRzIiwicG9zdEJhbGFuY2UiLCJjYWxjdWxhdGVQZW5hbHR5IiwiZGV0YWNoQ2hpbGRyZW4iLCJjb2x1bW5QYWdlRmxvYXRMYXlvdXRDb250ZXh0cyIsIm5ld0xheW91dFJlc3VsdCIsImNvbHVtbnMiLCJhdHRhY2hDaGlsZHJlbiIsIkNPTFVNTl9MRU5HVEhfU1RFUCIsImNhblJlZHVjZUNvbnRhaW5lclNpemUiLCJsYXN0Q2FuZGlkYXRlIiwic2Vjb25kTGFzdENhbmRpZGF0ZSIsInJlZHVjZUNvbnRhaW5lclNpemUiLCJuZXdFZGdlIiwiQmFsYW5jZUxhc3RDb2x1bW5CYWxhbmNlciIsInRvdGFsQmxvY2tTaXplIiwib3JpZ2luYWxQb3NpdGlvbiIsImNoZWNrUG9zaXRpb24iLCJpc0xhc3RDb2x1bW5Mb25nZXJUaGFuQW55T3RoZXJDb2x1bW4iLCJmb3VuZFVwcGVyQm91bmQiLCJsYXN0Q29sdW1uQmxvY2tTaXplIiwiQmFsYW5jZU5vbkxhc3RDb2x1bW5CYWxhbmNlciIsIm1lYW5WYWx1ZSIsIk1hdGhVdGlsLnZhcmlhbmNlIiwiU2xpcFJhbmdlIiwiZW5kU3R1Y2tGaXhlZCIsImVuZEZpeGVkIiwiZW5kU2xpcHBlZCIsIlNsaXBNYXAiLCJzbGlwcGVkIiwiQm94IiwiYXRCbG9ja1N0YXJ0IiwiYXRGbG93U3RhcnQiLCJpc1BhcmVudEJveERpc3BsYXllZCIsImhhc0JveCIsIl9wc2V1ZG9zIiwiYmVmb3JlQm94Iiwic3R5bGVWYWx1ZSIsImdldEJyZWFrVmFsdWUiLCJhZnRlckJveCIsInN0eWxlVmFsdWVzIiwiY3YiLCJpc0Jsb2NrVmFsdWUiLCJkaXNwbGF5VmFsdWUiLCJoYXNCb3hWYWx1ZSIsIkJveFN0YWNrIiwibGFzdEJveCIsIm5ld0Zsb3dDaHVuayIsImF0U3RhcnRTdGFjayIsImlzQXRGbG93U3RhcnQiLCJpc0N1cnJlbnRCb3hEaXNwbGF5ZWQiLCJWdHJlZS5jYW5JZ25vcmUiLCJWdHJlZS53aGl0ZXNwYWNlRnJvbVByb3BlcnR5VmFsdWUiLCJidWlsZEFmdGVyUHNldWRvRWxlbWVudEJveCIsImF0U3RhcnQiLCJTdHlsZXIiLCJwcmltYXJ5Rmxvd3MiLCJjYXNjYWRlSG9sZGVyIiwiY3JlYXRlSW5zdGFuY2UiLCJvZmZzZXRNYXAiLCJyb290T2Zmc2V0IiwibGFzdE9mZnNldCIsImJveFN0YWNrIiwiYWRkU3R1Y2tSYW5nZSIsImdldEF0dHJTdHlsZSIsInB1c2hFbGVtZW50IiwicG9zdHByb2Nlc3NUb3BTdHlsZSIsImJvZHlSZWFjaGVkIiwicHJpbWFyeVN0YWNrIiwicmVwbGF5Rmxvd0VsZW1lbnRzRnJvbU9mZnNldCIsInNyY1N0eWxlIiwicG5hbWUiLCJyb290U3R5bGUiLCJDc3NQYXJzZXIuU1BFQ0lGSUNJVFlfQVVUSE9SIiwiZWxlbVN0eWxlIiwiaXNCb2R5Iiwicm9vdEJhY2tncm91bmRBc3NpZ25lZCIsImJhY2tncm91bmRDb2xvciIsImhhc1Byb3AiLCJiYWNrZ3JvdW5kUHJvcHMiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJ0cmFuc2ZlclByb3BzVG9Sb290Iiwicm9vdExheW91dEFzc2lnbmVkIiwiY29sdW1uUHJvcHMiLCJsYXlvdXRQcm9wcyIsInVuaXRTaXplIiwic3R5bGVVbnRpbCIsIkNTU1N0eWxlRGVjbGFyYXRpb24iLCJDc3NDYXNjYWRlLnBhcnNlU3R5bGVBdHRyaWJ1dGUiLCJDc3NDYXNjYWRlLmdldFByb3AiLCJmbG93TmFtZVN0ciIsImVuY291bnRlcmVkRmxvd0VsZW1lbnQiLCJnZXROb2RlQnlPZmZzZXQiLCJub2RlT2Zmc2V0IiwiZ2V0Tm9kZU9mZnNldCIsImZsb3dMaXN0ZW5lciIsImZsb3dDaHVua3MiLCJlbmNvdW50ZXJlZEZsb3dDaHVuayIsImZsb3dUb1JlYWNoIiwiaWRUb1JlYWNoIiwib3B0aW9uc0NWIiwiQ3NzUHJvcC50b1NldCIsInN0YXRpYyIsImxpbmdlckNWIiwiQ3NzUHJvcC50b0ludCIsInByaW9yaXR5Q1YiLCJicmVha0JlZm9yZVZhbHVlcyIsImZsb3ciLCJsYXN0Rmxvd05hbWUiLCJWdHJlZS5GbG93IiwiVnRyZWUuRmxvd0NodW5rIiwiZm9yY2VkQnJlYWtPZmZzZXRzIiwicHJldmlvdXNWYWx1ZSIsImxvb2t1cCIsInNsaXBwZWRPZmZzZXQiLCJ0YXJnZXRTbGlwcGVkT2Zmc2V0Iiwic2xpcHBlZEJ5Rml4ZWQiLCJnZXRNYXhTbGlwcGVkIiwiZml4ZWRCeVNsaXBwZWQiLCJwb3BFbGVtZW50IiwiYWZ0ZXJQc2V1ZG9CcmVha0JlZm9yZSIsInJlZ2lzdGVyRm9yY2VkQnJlYWtPZmZzZXQiLCJuZWFyZXN0QmxvY2tTdGFydE9mZnNldCIsImVuY291bnRlcmVkVGV4dE5vZGUiLCJhZGRTbGlwcGVkUmFuZ2UiLCJibG9ja1N0YXJ0T2Zmc2V0IiwiYmVmb3JlUHNldWRvQnJlYWtBZnRlciIsInZhbGlkYXRvciIsIkNvbm5lY3Rpb24iLCJ3aGVyZSIsIlZhbGlkYXRpbmdHcm91cCIsIm5vZGVJbmRleCIsImNvbm5lY3Rpb25zIiwid2hhdCIsImdyb3VwIiwiY2xvbmVkTm9kZSIsImNvbm5lY3Rpb24iLCJncm91cENvbm5lY3Rpb24iLCJub21hdGNoIiwiY2xhdXNlIiwiQUxXQVlTX0ZBSUwiLCJtYXJrQXNTdGFydEFsdGVybmF0ZSIsIm1hcmtBc0VuZEFsdGVybmF0ZSIsIm1hcmtBc1N0YXJ0R3JvdXAiLCJtYXJrQXNFbmRHcm91cCIsImNvbm5lY3QiLCJmYWlsdXJlIiwiYXJycyIsImFkZFNwZWNpYWxUb0FyciIsImVtcHR5SGVhZCIsImlzU2ltcGxlIiwiUHJpbWl0aXZlVmFsaWRhdG9yIiwiaG93IiwiQUxURVJOQVRFIiwiaXNQcmltaXRpdmUiLCJjb21iaW5lIiwiY29ubmVjdGlvbkluZGV4IiwiUkVQRUFURUQiLCJPUFRJT05BTCIsInN1Y2Nlc3NUZXJtaW5hbCIsImZhaWxUZXJtaW5hbCIsIkFMTE9XX0VNUFRZIiwiQUxMT1dfU1RSIiwiQUxMT1dfSURFTlQiLCJBTExPV19QT1NfTlVNRVJJQyIsIkFMTE9XX1BPU19OVU0iLCJBTExPV19QT1NfSU5UIiwiQUxMT1dfQ09MT1IiLCJBTExPV19VUkwiLCJBTExPV19ORUdBVElWRSIsIkFMTE9XX1pFUk8iLCJBTExPV19aRVJPX1BFUkNFTlQiLCJBTExPV19TTEFTSCIsIlByb3BlcnR5VmFsaWRhdG9yIiwicnZhbCIsImlkZW50cyIsInVuaXRzIiwiTk9fSURFTlRTIiwiTGlzdFZhbGlkYXRvciIsImZhaWx1cmVUZXJtaW5hbCIsInN0YXJ0SW5kZXgiLCJhbHRlcm5hdGl2ZVN0YWNrIiwiYWx0ZXJuYXRpdmVzIiwiaW52YWwiLCJvdXR2YWwiLCJpc1N0YXJ0R3JvdXAiLCJpc0VuZEdyb3VwIiwiaXNFbmRBbHRlcm5hdGUiLCJnZXRBbHRlcm5hdGUiLCJTcGFjZUxpc3RWYWxpZGF0b3IiLCJDb21tYUxpc3RWYWxpZGF0b3IiLCJ2YWxpZGF0ZVNpbmdsZSIsInZhbGlkYXRlTGlzdCIsImhhc0NvbW1hTGlzdFZhbGlkYXRvciIsInZhbGlkYXRlRm9yU2hvcnRoYW5kIiwiRnVuY1ZhbGlkYXRvciIsIlNob3J0aGFuZFN5bnRheE5vZGUiLCJzaG9ydGhhbmRWYWxpZGF0b3IiLCJTaG9ydGhhbmRTeW50YXhQcm9wZXJ0eSIsInZhbGlkYXRvcnMiLCJydmFscyIsImxlbiIsIlNob3J0aGFuZFN5bnRheFByb3BlcnR5TiIsIlNob3J0aGFuZFN5bnRheENvbXBvdW5kIiwiaW5kZXgwIiwidHJ5UGFyc2UiLCJTaG9ydGhhbmRWYWxpZGF0b3IiLCJzeW50YXgiLCJwcm9wTGlzdCIsInJlY2VpdmVyIiwiZGVmYXVsdFZhbHVlcyIsIlNpbXBsZVNob3J0aGFuZFZhbGlkYXRvciIsIkluc2V0c1Nob3J0aGFuZFZhbGlkYXRvciIsInNob3J0aGFuZFZhbGlkYXRvcnMiLCJTSU1QTEUiLCJJTlNFVFMiLCJJTlNFVFNfU0xBU0giLCJzbGFzaEluZGV4IiwiaW5kZXgxIiwidmFscyIsImFjYyIsIkZPTlQiLCJmYW1pbHlMaXN0IiwiZmFtaWx5Iiwic3lzdGVtRm9udHMiLCJWYWxpZGF0b3JTZXQiLCJjc3N2YWwiLCJDc3NQYXJzZXIuY29sb3JGcm9tSGFzaCIsInN1Ymdyb3VwIiwic3RhcnRDbGF1c2UiLCJhZGRHcm91cCIsIkZPTExPVyIsImVuZENsYXVzZSIsInN0YXJ0U3BlY2lhbEdyb3VwIiwiZW5kU3BlY2lhbEdyb3VwIiwiYWRkUHJpbWl0aXZlIiwicHJpbWl0aXZlIiwibmFtZWRWYWxpZGF0b3JzIiwiSEFTSENPTE9SIiwiUE9TX0lOVCIsIlBPU19OVU0iLCJQT1NfUEVSQ0VOVEFHRSIsIiUiLCJORUdBVElWRSIsIlpFUk8iLCJaRVJPX1BFUkNFTlRBR0UiLCJQT1NfTEVOR1RIIiwidmkiLCJ2bWluIiwidm1heCIsInB2aSIsInB2YiIsInB2bWluIiwicHZtYXgiLCJQT1NfQU5HTEUiLCJkZWciLCJncmFkIiwicmFkIiwidHVybiIsIlBPU19USU1FIiwibXMiLCJGUkVRVUVOQ1kiLCJIeiIsImtIeiIsIlJFU09MVVRJT04iLCJVUkkiLCJTVFJJTkciLCJzdGRmb250IiwiaWNvbiIsIm1lbnUiLCJzZWN0aW9uIiwicnVsZVByZWZpeGVzIiwiaXNCdWlsdEluIiwicHJlZml4ZXMiLCJyZWFkTmFtZUFuZFByZWZpeGVzIiwiZXhwZWN0dmFsIiwibmV3R3JvdXAiLCJzZXRvcCIsImN1cnJvcCIsImJ1aWx0SW4iLCJuZXdGdW5jIiwiYWRkUmVwbGFjZW1lbnQiLCJhZGRDb3VudHMiLCJzZXRPd25lciIsInN5bnRheE5vZGVGb3JQcm9wZXJ0eSIsInNob3J0aGFuZHMiLCJpbnNldFNob3J0aGFuZCIsImNyZWF0ZVN5bnRheE5vZGUiLCJjb21wb3VuZCIsInBhcnNlVmFsaWRhdG9ycyIsInBhcnNlRGVmYXVsdHMiLCJwYXJzZVNob3J0aGFuZHMiLCJtYWtlUHJvcFNldCIsInNob3J0aGFuZCIsInB2YWwiLCJvcmlnTmFtZSIsInVua25vd25Qcm9wZXJ0eSIsInJ2YWx1ZSIsImludmFsaWRQcm9wZXJ0eVZhbHVlIiwicHJvcGFnYXRlSW5oZXJpdCIsImJhc2VWYWxpZGF0b3JTZXQiLCJpbml0QnVpbHRJblZhbGlkYXRvcnMiLCJWYWxpZGF0aW9uVHh0IiwidHJhaXRQcm9wcyIsImJvZ3VzRm9udERhdGEiLCJib2d1c0ZvbnRDb3VudGVyIiwicHJlcGFyZVByb3BlcnRpZXMiLCJwcm9wZXJ0aWVzIiwiZmlsbERlZmF1bHRzIiwiRmFjZSIsImZvbnRUcmFpdEtleSIsIm1ha2VGb250VHJhaXRLZXkiLCJmb250Qnl0ZXMiLCJibG9iVVJMIiwiYmxvYiIsIndlYmtpdFVSTCIsImNyZWF0ZU9iamVjdFVSTCIsIk5ldC5jcmVhdGVPYmplY3RVUkwiLCJibG9iVVJMcyIsImJsb2JzIiwiRG9jdW1lbnRGYWNlcyIsImRlb2JmdXNjYXRvciIsInNyY0ZhY2UiLCJ2aWV3RmFjZSIsInNyY0ZhbWlseSIsInZpZXdGYW1pbHlGcm9tU3JjIiwiZmFtaWx5TWFwIiwidmlld0ZhbWlseUZyb21WaWV3IiwibmV3VmFsdWVzIiwicmYiLCJNYXBwZXIiLCJvcHRfZmFtaWx5UHJlZml4IiwiZmFtaWx5UHJlZml4IiwiZG9jdW1lbnRGYWNlcyIsInZpZXdGYW1pbHkiLCJmYW1pbHlDb3VudGVyIiwiZ2V0Vmlld0ZvbnRGYW1pbHkiLCJ2aWV3Rm9udEZhY2UiLCJraWxsVGltZSIsImJvZ3VzRGF0YSIsIm1ha2VBdFJ1bGUiLCJOZXQubWFrZUJsb2IiLCJpbml0V2lkdGgiLCJpbml0SGVpZ2h0IiwibG9hZGVkIiwiY3VycldpZHRoIiwiY3VyckhlaWdodCIsInNsZWVwIiwic3JjVVJMTWFwIiwicGlnZ3liYWNrIiwidmlld0ZhY2VQYXJhbSIsInRyYWl0c0VxdWFsIiwicmVnaXN0ZXJGYW1pbHkiLCJOZXQuWE1MSHR0cFJlcXVlc3RSZXNwb25zZVR5cGUiLCJCTE9CIiwiaW5pdEZvbnQiLCJzcmNGYWNlcyIsImxvYWRGb250IiwiVGFza1V0aWwud2FpdEZvckZldGNoZXJzIiwia2V5Q291bnQiLCJQYWdlQm94IiwiX3Njb3BlIiwicGFyZW50SW5zdGFuY2UiLCJwYXJhbSIsImRlc3RTcGVjaWZpZWQiLCJSb290UGFnZUJveCIsIkNzcy5mdWxsV2lkdGgiLCJDc3MuZnVsbEhlaWdodCIsIlBhZ2VNYXN0ZXJTY29wZSIsIkV4cHJzLkxleGljYWxTY29wZSIsInBhZ2VNYXN0ZXIiLCJpc0Z1bmMiLCJrZXlNYXAiLCJib3hJbnN0YW5jZSIsImxvb2t1cEluc3RhbmNlIiwicmVzb2x2ZUZ1bmMiLCJyZXNvbHZlTmFtZSIsIlBhZ2VNYXN0ZXIiLCJQYWdlTWFzdGVySW5zdGFuY2UiLCJjb3B5U3BlY2lmaWVkIiwiY2xvbmVDaGlsZHJlbiIsIlBhcnRpdGlvbkdyb3VwIiwiUGFydGl0aW9uR3JvdXBJbnN0YW5jZSIsIlBhcnRpdGlvbiIsIlBhcnRpdGlvbkluc3RhbmNlIiwidG9FeHByQXV0byIsInRvRXhwclplcm8iLCJ0b0V4cHJaZXJvQXV0byIsInRvRXhwclplcm9Cb3JkZXIiLCJzdHlsZVZhbCIsInRvRXhwckJvb2wiLCJQYWdlQm94SW5zdGFuY2UiLCJwYWdlQm94IiwiY2FsY3VsYXRlZFdpZHRoIiwiY2FsY3VsYXRlZEhlaWdodCIsIkV4cHJzLmFkZCIsIm5hbWVkVmFsdWVzIiwiYWRkTmFtZWRWYWx1ZXMiLCJhbHROYW1lIiwiQ3NzQ2FzY2FkZS5jb3VwbGluZ01hcFZlcnQiLCJDc3NDYXNjYWRlLmNvdXBsaW5nTWFwSG9yIiwibmFtZWRGdW5jcyIsImNvbHVtbkdhcCIsIkV4cHJzLnN1YiIsIkV4cHJzLm11bCIsIm1pblBhZ2VXaWR0aCIsIm1pblBhZ2VIZWlnaHQiLCJib3hTcGVjaWZpY0VuYWJsZWQiLCJwYXJlbnRXaWR0aCIsImxlZnRCUCIsInJpZ2h0QlAiLCJleHRyYSIsImF1dG9XaWR0aCIsImlzQXV0b1dpZHRoIiwicmVtYWlucyIsInBhcmVudEhlaWdodCIsInRvcEJQIiwiYm90dG9tQlAiLCJhdXRvSGVpZ2h0IiwiaXNBdXRvSGVpZ2h0IiwidG9FeHByTm9ybWFsIiwiRXhwcnMuZGl2IiwiZGVwZW5kIiwicmVnaXN0ZXJJbnN0YW5jZSIsImdldEFjdGl2ZVJlZ2lvbnMiLCJDc3NDYXNjYWRlLmZsYXR0ZW5DYXNjYWRlZFN0eWxlIiwiQ3NzQ2FzY2FkZS5pc1ZlcnRpY2FsIiwiQ3NzQ2FzY2FkZS5pc1J0bCIsIkNzc0Nhc2NhZGUuY29udmVydFRvUGh5c2ljYWwiLCJpbml0SG9yaXpvbnRhbCIsImluaXRWZXJ0aWNhbCIsImluaXRDb2x1bW5zIiwiaW5pdEVuYWJsZWQiLCJDc3MudG9OdW1iZXIiLCJDc3NDYXNjYWRlLmdldFNwZWNpYWwiLCJkb2NGYWNlcyIsInByb3BhZ2F0ZVByb3BlcnR5VG9FbGVtZW50IiwiRXhwcnMubmVlZFVuaXRDb252ZXJzaW9uIiwiQ3NzLmNvbnZlcnROdW1lcmljVG9QeCIsImZpbHRlckZvbnRGYW1pbHkiLCJWdHJlZS5EZWxheWVkSXRlbSIsImdldFByb3BBc051bWJlciIsInhwb3MiLCJzbmFwT2Zmc2V0WCIsInlwb3MiLCJzbmFwT2Zmc2V0WSIsImFzc2lnblJpZ2h0UG9zaXRpb24iLCJhc3NpZ25Ub3BQb3NpdGlvbiIsImFzc2lnbkxlZnRQb3NpdGlvbiIsImFzc2lnbkJvdHRvbVBvc2l0aW9uIiwiaXNUb3BEZXBlbmRlbnRPbkF1dG9IZWlnaHQiLCJpc1JpZ2h0RGVwZW5kZW50T25BdXRvV2lkdGgiLCJzaXplV2l0aE1heFdpZHRoIiwic2l6ZVdpdGhNYXhIZWlnaHQiLCJhc3NpZ25CZWZvcmVQb3NpdGlvbiIsImFzc2lnbkFmdGVyUG9zaXRpb24iLCJhc3NpZ25TdGFydEVuZFBvc2l0aW9uIiwicGFzc1ByZVByb3BlcnRpZXMiLCJwcm9wYWdhdGVQcm9wZXJ0eSIsInBhc3NDb250ZW50UHJvcGVydGllcyIsInBhc3NTaW5nbGVVcmlDb250ZW50UHJvcGVydGllcyIsInJlYWRIZWlnaHQiLCJyZWFkV2lkdGgiLCJiYm94IiwicnVsZVdpZHRoIiwicnVsZVN0eWxlIiwicnVsZUNvbG9yIiwiY29udGFpbmVyU2l6ZSIsImJvcmRlciIsInJ1bGUiLCJwYXNzUG9zdFByb3BlcnRpZXMiLCJkZWxheWVkUHJvcGVydGllcyIsInByb3BhZ2F0ZURlbGF5ZWRQcm9wZXJ0eSIsImRvY0VsZW1lbnRTdHlsZSIsIkNzc0Nhc2NhZGUuaXNQcm9wTmFtZSIsIkNzc0Nhc2NhZGUuc2V0UHJvcCIsInVzZXJBZ2VudFBhZ2VNYXN0ZXJQc2V1ZG8iLCJwdXNoUnVsZSIsIkNzc0Nhc2NhZGUuQ29udGVudFByb3BWaXNpdG9yIiwiYXBwbHlDYXNjYWRlQW5kSW5pdCIsInBvcFJ1bGUiLCJkZXBlbmRzIiwiY2hpbGRJbnN0YW5jZSIsInJlc29sdmVBdXRvU2l6aW5nIiwiUm9vdFBhZ2VCb3hJbnN0YW5jZSIsInBhZ2VNYXN0ZXJJbnN0YW5jZSIsImxpc3RWYWwiLCJjb25mbGljdGluZyIsIkNzcy5JZGVudCIsInFuYW1lIiwidGVybSIsInJlcXVpcmVkIiwidG9FeHBySWRlbnQiLCJwcm9jZXNzUGFydGl0aW9uTGlzdCIsInBtRW5hYmxlZFZhbCIsInBtRW5hYmxlZCIsInByZXBhcmVDb250YWluZXIiLCJQYWdlQm94UGFyc2VySGFuZGxlciIsIlBhcnRpdGlvblBhcnNlckhhbmRsZXIiLCJQYXJ0aXRpb25Hcm91cFBhcnNlckhhbmRsZXIiLCJDc3MuaHVuZHJlZFBlcmNlbnQiLCJwYXJ0aXRpb24iLCJwYXJ0aXRpb25Hcm91cCIsIlBhZ2VNYXN0ZXJQYXJzZXJIYW5kbGVyIiwicmVzb2x2ZVBhZ2VQcm9ncmVzc2lvbiIsIkNvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb24iLCJwYWdlU2l6ZXMiLCJhNSIsImE0IiwiYTMiLCJiNSIsImI0IiwiamlzLWI1IiwiamlzLWI0IiwibGV0dGVyIiwibGVnYWwiLCJsZWRnZXIiLCJkZWZhdWx0UHJpbnRlck1hcmtMaW5lV2lkdGgiLCJkZWZhdWx0UHJpbnRlck1hcmtPZmZzZXQiLCJkZWZhdWx0UHJpbnRlck1hcmtMaW5lTGVuZ3RoIiwiZGVmYXVsdEJsZWVkT2Zmc2V0IiwicmVzb2x2ZVBhZ2VTaXplQW5kQmxlZWQiLCJwYWdlU2l6ZUFuZEJsZWVkIiwiYmxlZWQiLCJDc3MubnVtZXJpY1plcm8iLCJibGVlZE9mZnNldCIsInZhbDEiLCJpc1NwYWNlTGlzdCIsIm1hcmtzIiwiaGFzQ3JvcCIsImV2YWx1YXRlUGFnZVNpemVBbmRCbGVlZCIsImV2YWx1YXRlZCIsImNyb3BPZmZzZXQiLCJjcmVhdGVQcmludGVyTWFya1N2ZyIsImNyZWF0ZVByaW50ZXJNYXJrRWxlbWVudCIsImxpbmVXaWR0aCIsImVsZW1lbnRUeXBlIiwiQ29ybmVyTWFya1Bvc2l0aW9uIiwiQ3Jvc3NNYXJrUG9zaXRpb24iLCJhZGRQcmludGVyTWFya3MiLCJldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkIiwicHJpbnRlck1hcmtPZmZzZXQiLCJiZ2NvbG9yIiwiY3JvcE1hcmtMaW5lTGVuZ3RoIiwiYmxlZWRNYXJrTGluZUxlbmd0aCIsIm1heExpbmVMZW5ndGgiLCJzdmdXaWR0aCIsInBvaW50czEiLCJwb2ludHMyIiwiVE9QX1JJR0hUIiwiQk9UVE9NX1JJR0hUIiwiQk9UVE9NX0xFRlQiLCJsaW5lMSIsImxpbmUyIiwiY3JlYXRlQ29ybmVyTWFyayIsImxvbmdMaW5lTGVuZ3RoIiwiQk9UVE9NIiwiaG9yaXpvbnRhbExpbmUiLCJ2ZXJ0aWNhbExpbmUiLCJvcHBvc2l0ZSIsIkxFRlQiLCJSSUdIVCIsImNyZWF0ZUNyb3NzTWFyayIsInByb3BlcnRpZXNBcHBsaWVkVG9QYXJ0aXRpb24iLCJvdXRsaW5lIiwib3V0bGluZS13aWR0aCIsIm91dGxpbmUtc3R5bGUiLCJvdXRsaW5lLWNvbG9yIiwiTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uIiwicGFnZU1hcmdpbkJveGVzIiwidG9wLWxlZnQtY29ybmVyIiwiaXNJblRvcFJvdyIsImlzSW5Cb3R0b21Sb3ciLCJpc0luTGVmdENvbHVtbiIsImlzSW5SaWdodENvbHVtbiIsInBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbiIsInRvcC1sZWZ0IiwiU1RBUlQiLCJ0b3AtY2VudGVyIiwiQ0VOVEVSIiwidG9wLXJpZ2h0IiwidG9wLXJpZ2h0LWNvcm5lciIsInJpZ2h0LXRvcCIsInJpZ2h0LW1pZGRsZSIsInJpZ2h0LWJvdHRvbSIsImJvdHRvbS1yaWdodC1jb3JuZXIiLCJib3R0b20tcmlnaHQiLCJib3R0b20tY2VudGVyIiwiYm90dG9tLWxlZnQiLCJib3R0b20tbGVmdC1jb3JuZXIiLCJsZWZ0LWJvdHRvbSIsImxlZnQtbWlkZGxlIiwibGVmdC10b3AiLCJwYWdlTWFyZ2luQm94TmFtZXMiLCJwYWdlUnVsZU1hc3RlclBzZXVkb05hbWUiLCJtYXJnaW5Cb3hlc0tleSIsIlBhZ2VSdWxlTWFzdGVyIiwiUGFnZU1hc3Rlci5QYWdlTWFzdGVyIiwicGFnZVNpemUiLCJQYWdlUnVsZVBhcnRpdGlvbiIsImJvZHlQYXJ0aXRpb25LZXkiLCJjcmVhdGVQYWdlTWFyZ2luQm94ZXMiLCJhcHBseVNwZWNpZmllZCIsIm1hcmdpbkJveGVzTWFwIiwiUGFnZU1hcmdpbkJveFBhcnRpdGlvbiIsIlBhZ2VSdWxlTWFzdGVySW5zdGFuY2UiLCJQYWdlTWFzdGVyLlBhcnRpdGlvbiIsIlBhZ2VSdWxlUGFydGl0aW9uSW5zdGFuY2UiLCJtYXJnaW5Cb3hOYW1lIiwib3duU3R5bGUiLCJvd25WYWwiLCJDc3NDYXNjYWRlLmluaGVyaXRlZFByb3BzIiwiUGFnZU1hcmdpbkJveFBhcnRpdGlvbkluc3RhbmNlIiwiUGFnZU1hc3Rlci5QYWdlTWFzdGVySW5zdGFuY2UiLCJwYWdlUnVsZU1hc3RlciIsInBhZ2VBcmVhRGltZW5zaW9uIiwiYm9yZGVyQm94V2lkdGgiLCJib3JkZXJCb3hIZWlnaHQiLCJtYXJnaW5Cb3hDb250YWluZXJzIiwibWFyZ2luQm94ZXMiLCJob3Jpem9udGFsRGltZW5zaW9ucyIsInZlcnRpY2FsRGltZW5zaW9ucyIsInNpemVNYXJnaW5Cb3hlc0Fsb25nVmFyaWFibGVEaW1lbnNpb24iLCJpc0hvcml6b250YWwiLCJjb250YWluZXJzIiwiYm94SW5zdGFuY2VzIiwiYm94UGFyYW1zIiwiYm94SW5mbyIsInBhZ2VNYXJnaW5Cb3hJbnN0YW5jZXMiLCJib3hQYXJhbSIsIlNpbmdsZUJveE1hcmdpbkJveFNpemluZ1BhcmFtIiwiZXZhbHVhdGVkRGltIiwiZ2V0U2l6ZXNPZk1hcmdpbkJveGVzQWxvbmdWYXJpYWJsZURpbWVuc2lvbiIsIm5lZWRSZWNhbGN1bGF0ZSIsIm1heE91dGVyU2l6ZXMiLCJQYWdlTWFzdGVyLnRvRXhwckF1dG8iLCJldmFsdWF0ZWRNYXhTaXplIiwiRml4ZWRTaXplTWFyZ2luQm94U2l6aW5nUGFyYW0iLCJnZXRPdXRlclNpemUiLCJtaW5PdXRlclNpemVzIiwibWluU2l6ZSIsImV2YWx1YXRlZE1pblNpemUiLCJzdGFydEVuZFN1bSIsIm91dGVyU2l6ZSIsImF2YWlsYWJsZVNpemUiLCJzdGFydEJveFBhcmFtIiwiY2VudGVyQm94UGFyYW0iLCJlbmRCb3hQYXJhbSIsInN0YXJ0RW5kQm94UGFyYW0iLCJNdWx0aXBsZUJveGVzTWFyZ2luQm94U2l6aW5nUGFyYW0iLCJjZW50ZXJTaXplcyIsImRpc3RyaWJ1dGVBdXRvTWFyZ2luQm94U2l6ZXMiLCJ4U2l6ZSIsInN0YXJ0RW5kQXV0b1NpemUiLCJoYXNBdXRvU2l6ZSIsInN0YXJ0RW5kU2l6ZXMiLCJ5U2l6ZSIsInhPdXRlck1heENvbnRlbnRTaXplIiwiZ2V0T3V0ZXJNYXhDb250ZW50U2l6ZSIsInlPdXRlck1heENvbnRlbnRTaXplIiwibWF4Q29udGVudFNpemVTdW0iLCJ4T3V0ZXJNaW5Db250ZW50U2l6ZSIsImdldE91dGVyTWluQ29udGVudFNpemUiLCJtaW5Db250ZW50U2l6ZVN1bSIsImhhc0F1dG9TaXplXyIsImZpeGVkU2l6ZSIsIlBhZ2VNYXN0ZXIuUGFydGl0aW9uSW5zdGFuY2UiLCJwYWdlUnVsZVBhcnRpdGlvbiIsInNldFBhZ2VBcmVhRGltZW5zaW9uIiwicmVzb2x2ZVBhZ2VCb3hEaW1lbnNpb25zIiwiYm9yZGVyQm94RXh0ZW50IiwibWFyZ2luU3RhcnQiLCJtYXJnaW5FbmQiLCJlbmRTaWRlIiwiZXh0ZW50TmFtZSIsInBhZ2VFeHRlbnQiLCJwYWRkaW5nU3RhcnQiLCJQYWdlTWFzdGVyLnRvRXhwclplcm8iLCJwYWRkaW5nRW5kIiwiYm9yZGVyU3RhcnRXaWR0aCIsIlBhZ2VNYXN0ZXIudG9FeHByWmVyb0JvcmRlciIsImJvcmRlckVuZFdpZHRoIiwicGFnZU1hcmdpbkJveFBhcnRpdGlvbiIsImFwcGx5VmVydGljYWxBbGlnbiIsImZsZXhBbGlnbiIsImF2YWlsYWJsZUV4dGVudCIsIm91dGVyRXh0ZW50IiwiaW5zaWRlTmFtZSIsIm91dHNpZGVOYW1lIiwib3V0c2lkZSIsInBhZ2VNYXJnaW4iLCJtYXJnaW5JbnNpZGUiLCJQYWdlTWFzdGVyLnRvRXhwclplcm9BdXRvIiwibWFyZ2luT3V0c2lkZSIsInBhZGRpbmdJbnNpZGUiLCJwYWRkaW5nT3V0c2lkZSIsImJvcmRlckluc2lkZVdpZHRoIiwiYm9yZGVyT3V0c2lkZVdpZHRoIiwiZ2V0Q29tcHV0ZWRWYWx1ZXMiLCJwYWdlTWFyZ2luVmFsdWUiLCJib3JkZXJBbmRQYWRkaW5nIiwicG9zaXRpb25BbmRTaXplQWxvbmdGaXhlZERpbWVuc2lvbiIsImZpbmlzaENvbnRhaW5lciIsIlBhZ2VNYW5hZ2VyIiwicm9vdFBhZ2VCb3hJbnN0YW5jZSIsImRlZmluZVBhZ2VQcm9ncmVzc2lvbiIsImlzRXZlblBhZ2UiLCJwYWdlUHJvZ3Jlc3Npb24iLCJyZXNldFNjb3BlIiwibWFrZUNhY2hlS2V5IiwicGFnZU1hc3RlckNhY2hlIiwiUGFnZU1hc3Rlci51c2VyQWdlbnRQYWdlTWFzdGVyUHNldWRvIiwiZ2VuZXJhdGVQYWdlUnVsZU1hc3RlciIsImdlbmVyYXRlQ2FzY2FkZWRQYWdlTWFzdGVyIiwicHJvcHNTdHIiLCJtYWtlQ2FzY2FkZVZhbHVlT2JqZWN0S2V5IiwibmV3UGFnZU1hc3RlciIsInBhZ2VNYXN0ZXJTdHlsZSIsIkNzc0Nhc2NhZGUuY2FzY2FkZVZhbHVlcyIsIkNoZWNrUGFnZVR5cGVBY3Rpb24iLCJDc3NDYXNjYWRlLkNoYWluZWRBY3Rpb24iLCJJc0ZpcnN0UGFnZUFjdGlvbiIsIklzTGVmdFBhZ2VBY3Rpb24iLCJJc1JpZ2h0UGFnZUFjdGlvbiIsIklzUmVjdG9QYWdlQWN0aW9uIiwiSXNWZXJzb1BhZ2VBY3Rpb24iLCJBcHBseVBhZ2VSdWxlQWN0aW9uIiwiQ3NzQ2FzY2FkZS5BcHBseVJ1bGVBY3Rpb24iLCJDc3NDYXNjYWRlLm1lcmdlSW4iLCJ0YXJnZXRNYXAiLCJDc3NDYXNjYWRlLmdldE11dGFibGVTdHlsZU1hcCIsImJveE5hbWUiLCJ0YXJnZXRCb3giLCJtZXJnZUluUGFnZVJ1bGUiLCJQYWdlUGFyc2VySGFuZGxlciIsIkNzc0Nhc2NhZGUuQ2FzY2FkZVBhcnNlckhhbmRsZXIiLCJwYWdlUHJvcHMiLCJjdXJyZW50TmFtZWRQYWdlU2VsZWN0b3IiLCJjdXJyZW50UHNldWRvUGFnZUNsYXNzU2VsZWN0b3JzIiwic2VsZWN0b3JzIiwiY3VycmVudFBhZ2VTZWxlY3RvcnMiLCJmaW5pc2hTZWxlY3RvciIsInNlbGVjdG9yIiwibm9QYWdlU2VsZWN0b3JQcm9wcyIsInByZXZDYXNjVmFsIiwibWFyZ2luQm94TWFwIiwiYm94U3R5bGUiLCJQYWdlTWFyZ2luQm94UGFyc2VySGFuZGxlciIsInRyYW5zZm9ybVVSSXMiLCJhdHRyaWJ1dGVWYWx1ZSIsIm0xIiwibmFtZXNwYWNlUHJlZml4TWFwIiwiZnJvbnRFZGdlQmxhY2tMaXN0SG9yIiwibWFyZ2luLXRvcCIsInBhZGRpbmctdG9wIiwiYm9yZGVyLXRvcC13aWR0aCIsImJvcmRlci10b3Atc3R5bGUiLCJib3JkZXItdG9wLWNvbG9yIiwiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1cyIsImJvcmRlci10b3AtcmlnaHQtcmFkaXVzIiwiZnJvbnRFZGdlQmxhY2tMaXN0VmVydCIsIm1hcmdpbi1yaWdodCIsInBhZGRpbmctcmlnaHQiLCJib3JkZXItcmlnaHQtd2lkdGgiLCJib3JkZXItcmlnaHQtc3R5bGUiLCJib3JkZXItcmlnaHQtY29sb3IiLCJib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1cyIsImZyb250RWRnZVVuZm9yY2VkQnJlYWtCbGFja0xpc3RIb3IiLCJmcm9udEVkZ2VVbmZvcmNlZEJyZWFrQmxhY2tMaXN0VmVydCIsIlZpZXdGYWN0b3J5IiwiZm9vdG5vdGVTdHlsZSIsInN0eWxlclByb2R1Y2VyIiwiY3VzdG9tUmVuZGVyZXIiLCJmYWxsYmFja01hcCIsImNhc2NTdHlsZSIsImdldFBzZXVkb01hcCIsImFkZGVkTmFtZXMiLCJhdHQiLCJQc2V1ZG9FbGVtZW50LnBzZXVkb05hbWVzIiwic2hhZG93U3R5bGVyIiwiUHNldWRvRWxlbWVudC5Qc2V1ZG9lbGVtZW50U3R5bGVyIiwiVnRyZWUuU2hhZG93Q29udGV4dCIsIlZ0cmVlLlNoYWRvd1R5cGUiLCJST09UTEVTUyIsImNvbXB1dGVkUHNldWRvU3R5bGVNYXAiLCJjb21wdXRlZFBzZXVkb1N0eWxlIiwiQ3NzQ2FzY2FkZS5tZXJnZVN0eWxlIiwiQ3NzQ2FzY2FkZS5tZXJnZVZpZXdDb25kaXRpb25hbFN0eWxlcyIsIkNzc0Nhc2NhZGUuZm9yRWFjaFN0eWxlc0luUmVnaW9uIiwiQ3NzQ2FzY2FkZS5mb3JFYWNoVmlld0NvbmRpdGlvbmFsU3R5bGVzIiwibG9hZCIsInJlZkRvY1BhcmFtIiwicmVmRG9jIiwicmVmRWxlbWVudCIsImdldEVsZW1lbnQiLCJyZWZTdHlsZXIiLCJnZXRTdHlsZXJGb3JEb2MiLCJ0ZW1wbGF0ZVVSTFZhbCIsImNyZWF0ZVJlZlNoYWRvdyIsInNoYWRvdyIsImNvbnQyIiwiY3JlYXRlUHNldWRvZWxlbWVudFNoYWRvdyIsImRpc3BsYXlWYWx1ZXMiLCJEaXNwbGF5LmdldENvbXB1dGVkRGlzbGF5VmFsdWUiLCJzaGFkb3dSb290Iiwibm9kZVN0eWxlIiwiaW5oZXJpdGFuY2VWaXNpdG9yIiwiQ3NzQ2FzY2FkZS5Jbmhlcml0YW5jZVZpc2l0b3IiLCJDc3NDYXNjYWRlLmlzSW5oZXJpdGVkIiwiQ3NzLnByb2Nlc3NpbmdPcmRlckZuIiwic2V0UHJvcE5hbWUiLCJzbmFtZSIsIlBPTFlGSUxMRURfSU5IRVJJVEVEX1BST1BTIiwibnVtZXJpY1ZhbCIsIm5lZWRUb1Byb2Nlc3NDaGlsZHJlbiIsImluaGVyaXRlZFZhbHVlcyIsImluaGVyaXRGcm9tU291cmNlUGFyZW50IiwiUGFnZUZsb2F0cy5mbG9hdFJlZmVyZW5jZU9mIiwiY29tcHV0ZVN0eWxlIiwicHJvY2Vzc0NvbnRlbnQiLCJ0cmFuc2ZlclBvbHlmaWxsZWRJbmhlcml0ZWRQcm9wcyIsImluaGVyaXRMYW5nQXR0cmlidXRlIiwiY3JlYXRlU2hhZG93cyIsInNoYWRvd1BhcmFtIiwicGFyZW50V3JpdGluZ01vZGUiLCJpc0Zsb3dSb290IiwiRGlzcGxheS5pc0Zsb3dSb290IiwiRGlzcGxheS5lc3RhYmxpc2hlc0JGQyIsIkRpc3BsYXkuZXN0YWJsaXNoZXNDQkZvckFic29sdXRlIiwiaXNJbnNpZGVCRkMiLCJmbG9hdGluZyIsImxpc3RJdGVtIiwiRGlzcGxheS5pc0lubGluZUxldmVsIiwiRGlzcGxheS5pc1J1YnlJbnRlcm5hbERpc3BsYXkiLCJib3JkZXJDb2xsYXBzZSIsImJvcmRlclNwYWNpbmciLCJvdXRlclBzZXVkbyIsIlZ0cmVlLkZpcnN0UHNldWRvIiwicHJvY2Vzc0FmdGVySWZjb250aW51ZXMiLCJ3aGl0ZXNwYWNlVmFsdWUiLCJ3b3JkQnJlYWsiLCJvdmVyZmxvd1dyYXAiLCJyZXNvbHZlRm9ybWF0dGluZ0NvbnRleHQiLCJpc0ZpcnN0VGltZSIsInByb2Nlc3NSZXBlYXRPbkJyZWFrIiwiZmluZEFuZFByb2Nlc3NSZXBlYXRpbmdFbGVtZW50cyIsImN1c3RvbSIsImVsZW1SZXN1bHQiLCJQc2V1ZG9FbGVtZW50LlBTRVVET19BVFRSIiwiaW1hZ2VSZWYiLCJpbWFnZUJpbmFyeSIsImlubmVyU3JjIiwiVGFza1V0aWwubG9hZEVsZW1lbnQiLCJmYjJSZW1hcCIsIk5DWCIsIm5hdlBhcmVudCIsImNoaWxkRWxlbWVudCIsImhwIiwiYmVoYXZpb3IiLCJkYXRhc2V0IiwiaWZyYW1lIiwiY29udGVudFdpbmRvdyIsImVwdWJSZWFkaW5nU3lzdGVtIiwibGF5b3V0U3R5bGUiLCJoYXNGZWF0dXJlIiwiaW5pdElGcmFtZSIsImltYWdlUmVzb2x1dGlvbiIsImltYWdlcyIsImNzc1dpZHRoIiwiY3NzSGVpZ2h0IiwiYXR0cldpZHRoIiwiYXR0ckhlaWdodCIsImhhc0F1dG9XaWR0aCIsImhhc0F1dG9IZWlnaHQiLCJhdHRyaWJ1dGVDb3VudCIsImRlbGF5ZWRTcmMiLCJhdHRyaWJ1dGUiLCJhdHRyaWJ1dGVOUyIsInJlZ2lzdGVyRWxlbWVudFdpdGhJZCIsImltYWdlIiwiSW1hZ2UiLCJpc1NWR1VybEF0dHJpYnV0ZSIsIlVybHMudHJhbnNmb3JtVVJJcyIsImF0dHJpYnV0ZVByZWZpeCIsImltYWdlRmV0Y2hlciIsImxpc3RTdHlsZUltYWdlIiwibGlzdFN0eWxlVVJMIiwicHJlcHJvY2Vzc0VsZW1lbnRTdHlsZSIsImFwcGx5Q29tcHV0ZWRTdHlsZXMiLCJibGFja0xpc3QiLCJtb2RpZnlFbGVtRGltZW5zaW9uV2l0aEltYWdlUmVzb2x1dGlvbiIsIkxheW91dC5BZnRlcklmQ29udGludWVzIiwiU1ZHX1VSTF9BVFRSSUJVVEVTIiwic2NhbGVkV2lkdGgiLCJzY2FsZWRIZWlnaHQiLCJudW1lcmljTWF4V2lkdGgiLCJudW1lcmljTWF4SGVpZ2h0IiwibnVtZXJpY01pbldpZHRoIiwibnVtZXJpY01pbkhlaWdodCIsIlBSRVBST0NFU1NfRUxFTUVOVF9TVFlMRSIsIlJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQiLCJwYXJlbnRGb3JtYXR0aW5nQ29udGV4dCIsInByZXByb2Nlc3NUZXh0Q29udGVudCIsIkRpZmYucmVzdG9yZU5ld1RleHQiLCJvcmlnaW5sIiwiUFJFUFJPQ0VTU19URVhUX0NPTlRFTlQiLCJwcm9jZXNzZWRUZXh0Iiwib3JpZ2luYWxUZXh0IiwiRGlmZi5kaWZmQ2hhcnMiLCJjcmVhdGVFbGVtZW50VmlldyIsImNyZWF0ZVRleHROb2RlVmlldyIsInByb2Nlc3NDaGlsZHJlbiIsImNyZWF0ZU5vZGVWaWV3IiwiY29udGVudE5vZGUiLCJjb250ZW50U2hhZG93VHlwZSIsImNvbnRlbnRTaGFkb3ciLCJyZXNldFZpZXciLCJWdHJlZS5Ob2RlQ29udGV4dCIsInByb2Nlc3NTaGFkb3dDb250ZW50Iiwic2hhZG93Tm9kZSIsInNyIiwidHJhbnNjbHVzaW9uVHlwZSIsInByb2MiLCJuZXh0UG9zaXRpb25JblRyZWUiLCJiZyIsImFkZEltYWdlRmV0Y2hlcnMiLCJpc1JlbGF0aXZlUG9zaXRpb25lZCIsInByb3BlcnRpZXNOb3RQYXNzZWRUb0RPTSIsIkNzc1Byb3AuVXJsVHJhbnNmb3JtVmlzaXRvciIsIlZ0cmVlLmRlbGF5ZWRQcm9wcyIsIlZ0cmVlLmRlbGF5ZWRQcm9wc0lmUmVsYXRpdmVQb3NpdGlvbmVkIiwicG4iLCJjaGlsZENvbXB1dGVkU3R5bGUiLCJib3hEZWNvcmF0aW9uQnJlYWsiLCJFeHBycy5pc0ZvbnRSZWxhdGl2ZUxlbmd0aFVuaXQiLCJDc3NDYXNjYWRlLmNvbnZlcnRGb250UmVsYXRpdmVMZW5ndGhUb1B4Iiwic3RlcDEiLCJzdGVwMiIsImVsZW0xIiwiZWxlbTIiLCJQc2V1ZG9FbGVtZW50LmdldFBzZXVkb05hbWUiLCJub2RlUG9zaXRpb24xIiwibm9kZVBvc2l0aW9uMiIsInN1cCIsImRhdGUiLCJlbXBoYXNpcyIsInN0cm9uZyIsInN0cmlrZXRocm91Z2giLCJib3gtZGVjb3JhdGlvbi1icmVhayIsImZsb2F0LW1pbi13cmFwLWJsb2NrIiwiZmxvYXQtcmVmZXJlbmNlIiwiZmxvdy1pbnRvIiwiZmxvdy1vcHRpb25zIiwiZm9vdG5vdGUtcG9saWN5IiwiRGVmYXVsdENsaWVudExheW91dCIsImxheW91dEJveCIsIm9yaWdpblJlY3QiLCJ2aWV3cG9ydExlZnQiLCJ2aWV3cG9ydFRvcCIsInJlY3RzIiwiZ2V0Q2xpZW50UmVjdHMiLCJsYXlvdXRCb3hSZWN0Iiwic3VidHJhY3RPZmZzZXRzIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsIlZpZXdwb3J0Iiwib3B0X3Jvb3QiLCJvcHRfd2lkdGgiLCJvcHRfaGVpZ2h0Iiwib3V0ZXJab29tQm94IiwiY29udGVudENvbnRhaW5lciIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsIkVMRU1FTlRfT0ZGU0VUX0FUVFIiLCJYTUxEb2NIb2xkZXIiLCJsYW5ncyIsIlNTRSIsIk5vZGVMaXN0Iiwib2Zmc2V0U3RyIiwic3JjTm9kZSIsInRvdGFsT2Zmc2V0IiwiaWRNYXAiLCJ4bWxpZCIsImJ1aWxkSWRNYXAiLCJnZXRFbGVtZW50c0J5TmFtZSIsIkRPTVBhcnNlclN1cHBvcnRlZFR5cGUiLCJwYXJzZUFuZFJldHVybk51bGxJZkVycm9yIiwib3B0X3BhcnNlciIsImRvY0VsZW1lbnQiLCJlcnJvclRhZ05hbWUiLCJwYXJzZVhNTFJlc291cmNlIiwic3VwcG9ydGVkS2V5cyIsIkFQUExJQ0FUSU9OX1hNTCIsIlRFWFRfSFRNTCIsIkFQUExJQ0FUSU9OX1hIVE1MX1hNTCIsIklNQUdFX1NWR19YTUwiLCJyZXNvbHZlQ29udGVudFR5cGUiLCJQcmVkaWNhdGUiLCJjaGVjayIsIm9wdF9jaGlsZFByZWRpY2F0ZSIsInByZWRpY2F0ZSIsInByIiwiZm9yRWFjaE5vZGUiLCJmb3JFYWNoTm9uTnVsbCIsInVhU3R5bGVzaGVldEJhc2VGZXRjaGVyIiwiQ3NzVmFsaWRhdG9yLmJhc2VWYWxpZGF0b3JTZXQiLCJDc3NQYXJzZXIuU3R5bGVzaGVldEZsYXZvciIsIkNzc0Nhc2NhZGUuc2V0VUFCYXNlQ2FzY2FkZSIsIkNzc1BhcnNlci5wYXJzZVN0eWxlc2hlZXRGcm9tVGV4dCIsIlN0eWxlIiwicm9vdEJveCIsImZvbnRGYWNlcyIsImZvb3Rub3RlUHJvcHMiLCJmbG93UHJvcHMiLCJ2aWV3cG9ydFByb3BzIiwiZm9udERlb2JmdXNjYXRvciIsImRlZmluZUJ1aWx0SW4iLCJjdXJyZW50TGF5b3V0UG9zaXRpb24iLCJmaXJzdEZsb3dDaHVua09mRmxvdyIsIm1hdGNoUGFnZVNpZGUiLCJzdGFydFNpZGVPZkZsb3ciLCJsb29rdXBPZmZzZXQiLCJmbG93Q2h1bmtJc0FmdGVyUGFyZW50Rmxvd0ZvcmNlZEJyZWFrIiwicGFnZU51bWJlck9mZnNldCIsIkV4cHJzLkNvbnRleHQiLCJDc3NDYXNjYWRlLm1lcmdlQWxsIiwidGV4dFpvb20iLCJzY2FsZUZhY3RvciIsImRlZmF1bHRGb250U2l6ZSIsIndpZHRoVmFsIiwiaGVpZ2h0VmFsIiwiU3R5bGVJbnN0YW5jZSIsImRlZmF1bHRMYW5nIiwiZm9udE1hcHBlciIsImZhY2VzIiwiRm9udC5Eb2N1bWVudEZhY2VzIiwicm9vdFBhZ2VGbG9hdExheW91dENvbnRleHQiLCJjcmVhdGVDb3VudGVyTGlzdGVuZXIiLCJjcmVhdGVDb3VudGVyUmVzb2x2ZXIiLCJDc3NTdHlsZXIuU3R5bGVyIiwic2V0U3R5bGVyIiwicmVzZXRGbG93Q2h1bmtTdHJlYW0iLCJzdHlsZXJNYXAiLCJnZXRUb3BDb250YWluZXJTdHlsZSIsIkNzc1BhZ2UucmVzb2x2ZVBhZ2VQcm9ncmVzc2lvbiIsIlBhZ2VNYXN0ZXIuUm9vdFBhZ2VCb3hJbnN0YW5jZSIsInBhZ2VNYW5hZ2VyIiwiQ3NzUGFnZS5QYWdlTWFuYWdlciIsImZvbnRGYWNlIiwiRm9udC5wcmVwYXJlUHJvcGVydGllcyIsIkZvbnQuRmFjZSIsImZpbmRPckxvYWRGb250cyIsIkNzc1BhZ2UuZXZhbHVhdGVQYWdlU2l6ZUFuZEJsZWVkIiwiQ3NzUGFnZS5yZXNvbHZlUGFnZVNpemVBbmRCbGVlZCIsInBhZ2VTaGVldFNpemUiLCJnZXRTdHlsZUZvckRvYyIsInBhZ2VCb3hJbnN0YW5jZXMiLCJWdHJlZS5GbG93UG9zaXRpb24iLCJWdHJlZS5uZXdOb2RlUG9zaXRpb25Gcm9tTm9kZSIsIlZ0cmVlLkNodW5rUG9zaXRpb24iLCJWdHJlZS5GbG93Q2h1bmtQb3NpdGlvbiIsImNodW5rT2Zmc2V0IiwibGF5b3V0UG9zaXRpb24iLCJub0xvb2tBaGVhZCIsImN1cnJlbnRQb3NpdGlvbiIsInN0eWxlVW50aWxGbG93SXNSZWFjaGVkIiwiY29uc3VtZWRPZmZzZXQiLCJnZXRDb25zdW1lZE9mZnNldCIsImZsb3dDaHVua0JyZWFrQmVmb3JlIiwiZmxvd0JyZWFrQWZ0ZXIiLCJCcmVhay5zdGFydFNpZGVWYWx1ZVRvQnJlYWtWYWx1ZSIsIkJyZWFrLmJyZWFrVmFsdWVUb1N0YXJ0U2lkZVZhbHVlIiwiZ2V0UG9zaXRpb24iLCJwYWdlTWFzdGVycyIsIkNzc1BhZ2UucGFnZVJ1bGVNYXN0ZXJQc2V1ZG9OYW1lIiwiY29lZmYiLCJwYWdlQXJlYSIsInVwZGF0ZVN0YXJ0U2lkZSIsImxheW91dFBvc2l0aW9uQXRQYWdlU3RhcnQiLCJpbml0TGluZ2VyaW5nIiwiZ2V0UGFnZVJ1bGVQYWdlTWFzdGVyIiwiYnJlYWtPZmZzZXRCZWZvcmVTdGFydEluZGV4IiwiYnJlYWtPZmZzZXRCZWZvcmVTdGFydCIsInBhcmVudEZsb3dQb3NpdGlvbiIsInBhcmVudFN0YXJ0T2Zmc2V0IiwiTGF5b3V0UHJvY2Vzc29yLkJsb2NrRm9ybWF0dGluZ0NvbnRleHQiLCJwYXJlbnRJbnZhbGlkYXRlZCIsInZhbGlkYXRlIiwic2V0Rm9ybWF0dGluZ0NvbnRleHRUb0NvbHVtbiIsImxheW91dERlZmVycmVkUGFnZUZsb2F0cyIsInJlcGVhdGVkSW5kaWNlcyIsInJlbW92ZWRJbmRpY2VzIiwiaGFzQ29udGludWluZ0Zsb2F0RnJhZ21lbnRzSW5GbG93IiwiYWx0IiwiaXNCZXR0ZXIiLCJnZXRMYXN0QWZ0ZXJQb3NpdGlvbklmRGVmZXJyZWRGbG9hdHNFeGlzdHMiLCJzYXZlRGlzdGFuY2VUb0Jsb2NrRW5kRmxvYXRzIiwiZ2V0TWF4UmVhY2hlZEFmdGVyRWRnZSIsImNvdW50ZXJDb25zdHJhaW50IiwiY3JlYXRlTGF5b3V0Q29uc3RyYWludCIsIkxheW91dC5BbGxMYXlvdXRDb25zdHJhaW50IiwiZm9yY2VOb25GaXR0aW5nIiwiZG9udEFwcGx5RXhjbHVzaW9ucyIsImJveENvbnRhaW5lciIsImNvbHVtblBhZ2VGbG9hdExheW91dENvbnRleHQiLCJwb3NpdGlvbkF0Q29sdW1uU3RhcnQiLCJjb2x1bW5Db250YWluZXIiLCJMYXlvdXQuQ29sdW1uIiwiY29sdW1uWSIsImNvbHVtblgiLCJjb3B5RnJvbSIsImxheW91dENvbHVtbiIsInBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0IiwiQ3NzUGFnZS5QYWdlUnVsZVBhcnRpdGlvbkluc3RhbmNlIiwiQ3NzUGFnZS5QYWdlUnVsZU1hc3Rlckluc3RhbmNlIiwicG9zaXRpb25BdENvbnRhaW5lclN0YXJ0IiwiZ2V0UmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCIsImxheW91dENvbHVtbnMiLCJsYXlvdXRGbG93Q29sdW1ucyIsImdlbmVyYXRvclJlc3VsdCIsImNvbHVtbkZpbGwiLCJjb2x1bW5CYWxhbmNlciIsIm5vTW9yZUNvbnRlbnQiLCJsYXN0Q29sdW1uIiwiaXNMYXN0Q29sdW1uRm9yY2VCcm9rZW4iLCJDb2x1bW5zLmNyZWF0ZUNvbHVtbkJhbGFuY2VyIiwibG9jayIsImJhbGFuY2VDb2x1bW5zIiwidW5sb2NrIiwiVmdlbi5WaWV3RmFjdG9yeSIsImNyZWF0ZUFuZExheW91dENvbHVtbiIsImlzTG9ja2VkIiwicGFnZUJyZWFrcyIsImRvbnRFeGNsdWRlIiwiVnRyZWUuQ29udGFpbmVyIiwic2V0UGFnZVBhZ2VGbG9hdExheW91dENvbnRleHRDb250YWluZXIiLCJyZW1vdmVkIiwiaXNJZGVudCIsImxheW91dEZsb3dDb2x1bW5zV2l0aEJhbGFuY2luZyIsImlubmVyQ29udGFpbmVyVGFnIiwiaW5uZXJDb250YWluZXIiLCJ0cmFuc2ZlclNpbmdsVXJpQ29udGVudFByb3BzIiwidHJhbnNmZXJDb250ZW50UHJvcHMiLCJzdXBwcmVzc0VtcHR5Qm94R2VuZXJhdGlvbiIsIm91dGVyU2hhcGUiLCJzdGFydFBhZ2UiLCJWdHJlZS5MYXlvdXRQb3NpdGlvbiIsImdldENhc2NhZGVkUGFnZVN0eWxlIiwic2VsZWN0UGFnZU1hc3RlciIsImJsZWVkQm94UGFkZGluZ0VkZ2UiLCJzZXRBdXRvUGFnZVdpZHRoIiwic2V0QXV0b1BhZ2VIZWlnaHQiLCJzZXRDdXJyZW50UGFnZSIsInVwZGF0ZVBhZ2VDb3VudGVycyIsInNldFBhZ2VTaXplQW5kQmxlZWQiLCJDc3NQYWdlLmFkZFByaW50ZXJNYXJrcyIsImFkanVzdFBhZ2VMYXlvdXQiLCJpc0xlZnRQYWdlIiwiQ29uc3RhbnRzLlBhZ2VTaWRlIiwicHJvY2Vzc0xpbmdlciIsImdldFJlYWNoZWRPZmZzZXQiLCJnZXRUcmlnZ2Vyc0ZvckRvYyIsIm5vTW9yZVByaW1hcnlGbG93cyIsInBhZ2VTaGVldFdpZHRoIiwicGFnZVNoZWV0SGVpZ2h0IiwiQmFzZVBhcnNlckhhbmRsZXIiLCJtYXN0ZXJIYW5kbGVyIiwiUGFnZU1hc3Rlci5QYWdlTWFzdGVyUGFyc2VySGFuZGxlciIsIkNzc0Nhc2NhZGUuRGVmaW5lUGFyc2VySGFuZGxlciIsIkNzc0Nhc2NhZGUuUHJvcFNldFBhcnNlckhhbmRsZXIiLCJpbnNpZGVSZWdpb24iLCJwYWdlSGFuZGxlciIsIkNzc1BhZ2UuUGFnZVBhcnNlckhhbmRsZXIiLCJyZWdpb25Db3VudCIsInNwZWNpYWwiLCJyZWdpb25IYW5kbGVyIiwicHJvY2Vzc1ZpZXdwb3J0TWV0YSIsIm1ldGEiLCJTdHlsZVBhcnNlckhhbmRsZXIiLCJDc3NQYXJzZXIuRGlzcGF0Y2hQYXJzZXJIYW5kbGVyIiwiUGFnZU1hc3Rlci5Sb290UGFnZUJveCIsImNhc2NhZGVQYXJzZXJIYW5kbGVyIiwicGFyc2VPUFNSZXNvdXJjZSIsIk9QU0RvY1N0b3JlIiwiTmV0LlJlc291cmNlU3RvcmUiLCJhdXRob3JTdHlsZVNoZWV0cyIsInVzZXJTdHlsZVNoZWV0cyIsInNldFN0eWxlU2hlZXRzIiwidXNlckFnZW50WE1MIiwidHJpZ2dlclNpbmdsZURvY3VtZW50UHJlcHJvY2Vzc2luZyIsInN0eWxlQnlEb2NVUkwiLCJ0cmlnZ2Vyc0J5RG9jVVJMIiwiY2xlYXJTdHlsZVNoZWV0cyIsImFkZEF1dGhvclN0eWxlU2hlZXQiLCJhZGRVc2VyU3R5bGVTaGVldCIsInN0eWxlU2hlZXRzIiwic3R5bGVzaGVldCIsIkJhc2UuY29udmVydFNwZWNpYWxVUkwiLCJCYXNlLmJhc2VVUkwiLCJYbWxEb2MucGFyc2VYTUxSZXNvdXJjZSIsIlBSRVBST0NFU1NfU0lOR0xFX0RPQ1VNRU5UIiwidHJpZ2dlckxpc3QiLCJnZXRFbGVtZW50c0J5VGFnTmFtZU5TIiwidHJpZ2dlckVsZW0iLCJFViIsInNvdXJjZXMiLCJ1c2VyQWdlbnRVUkwiLCJVc2VyQWdlbnRQYWdlQ3NzIiwidGl0bGUiLCJyZWwiLCJzdHlsZUJ5S2V5Iiwic3R5bGVGZXRjaGVyQnlLZXkiLCJzcGgiLCJzb3VyY2UiLCJDc3NQYXJzZXIucGFyc2VTdHlsZXNoZWV0RnJvbVVSTCIsImVuY29kZTMyIiwiZGVjb2RlMzIiLCJieXRlcyIsImJ5dGVzVG9TSEExSW50MzIiLCJhcHBlbmRDb3VudCIsImJpIiwiYnl0ZXNUb1NIQTFIZXgiLCJzaGExIiwiYnl0ZXNUb1NIQTFCeXRlcyIsImJ1bGxldENsb3NlZCIsImJ1bGxldE9wZW4iLCJidWxsZXRFbXB0eSIsIlRPQ1ZpZXciLCJyZW5kZXJlckZhY3RvcnkiLCJFeHBycy5jbG9uZVByZWZlcmVuY2VzIiwic2V0QXV0b0hlaWdodCIsInJlbmRlcmVyIiwibWFrZUN1c3RvbVJlbmRlcmVyIiwic3JjRWxlbSIsInZpZXdQYXJlbnQiLCJxdWVyeVNlbGVjdG9yIiwicmVwbGFjZUNoaWxkIiwiYWRhcHRQYXJlbnRDbGFzcyIsImJ1dHRvbiIsInRvZ2dsZU5vZGVFeHBhbnNpb24iLCJ0YWJJbmRleCIsImFuY2hvckVsZW0iLCJWdHJlZS5QYWdlIiwidG9jQm94VXJsIiwibm9uVG9jQm94RG9jIiwidmlld3BvcnRTaXplIiwic2l6ZVZpZXdwb3J0IiwiVmdlbi5WaWV3cG9ydCIsIk9QUy5TdHlsZUluc3RhbmNlIiwibGF5b3V0TmV4dFBhZ2UiLCJib2R5Q2hpbGRFbGVtIiwidG9jTm9kZUVsZW0iLCJjZSIsImFkYXB0Q2xhc3MiLCJFUFVCRG9jU3RvcmUiLCJPUFMuT1BTRG9jU3RvcmUiLCJtYWtlRGVvYmZ1c2NhdG9yRmFjdG9yeSIsInBsYWluWE1MU3RvcmUiLCJqc29uU3RvcmUiLCJkZW9iZnVzY2F0b3JzIiwiaGF2ZVppcE1ldGFkYXRhIiwibG9hZEVQVUJEb2MiLCJvcGYiLCJwdWJVUkwiLCJsb2FkT1BGIiwibG9hZEFzSlNPTiIsIm1hbmlmZXN0T2JqIiwiT1BGRG9jIiwiaW5pdFdpdGhXZWJQdWJNYW5pZmVzdCIsImxvYWRXZWJQdWIiLCJzdGFydExvYWRpbmdBc0pTT04iLCJzdGFydExvYWRpbmdBc1BsYWluWE1MIiwiY29udGFpbmVyVVJMIiwibG9hZEFzUGxhaW5YTUwiLCJjb250YWluZXJYTUwiLCJyb290cyIsIm9wZkJ5VVJMIiwib3BmWE1MIiwiZW5jWE1MIiwiemlwTWV0YWRhdGEiLCJpbml0V2l0aFhNTERvYyIsInByaW1hcnlPUEZCeUVQdWJVUkwiLCJtYW5pZmVzdExpbmsiLCJ4aHRtbFRvYyIsImRvY1VSTCIsImRvY3VtZW50cyIsIk9QRkl0ZW0iLCJpdGVtUHJvcGVydGllcyIsIkJhc2UuZW1wdHlPYmoiLCJpdGVtRWxlbSIsIm9wZlVSTCIsIm1lZGlhVHlwZSIsInByb3BTdHIiLCJCYXNlLmFycmF5VG9TZXQiLCJza2lwUGFnZXNCZWZvcmUiLCJnZXRPUEZJdGVtSWQiLCJtYWtlRGVvYmZ1c2NhdG9yIiwidWlkIiwic2hhMVN1bSIsIlNIQTEuYnl0ZXNUb1NIQTFJbnQ4Iiwid2Via2l0U2xpY2UiLCJmaWxlUmVhZGVyIiwiRmlsZVJlYWRlciIsInJlYWRBc0FycmF5QnVmZmVyIiwiTmV0LnJlYWRCbG9iIiwiZGF0YVZpZXciLCJEYXRhVmlldyIsImJ5dGVMZW5ndGgiLCJnZXRVaW50OCIsInNldFVpbnQ4IiwicHJlZGVmaW5lZFByZWZpeGVzIiwiZGN0ZXJtcyIsIm1hcmMiLCJyZW5kaXRpb24iLCJvbml4IiwieHNkIiwiZGVmYXVsdElSSSIsIm1ldGFUZXJtcyIsImxhbmd1YWdlIiwiY3JlYXRvciIsInRpdGxlVHlwZSIsImRpc3BsYXlTZXEiLCJhbHRlcm5hdGVTY3JpcHQiLCJnZXRNZXRhZGF0YUNvbXBhcmF0b3IiLCJpdGVtMSIsIml0ZW0yIiwibTIiLCJpMSIsImkyIiwiZ2V0TWF0aEpheEh1YiIsIm1hdGgiLCJNYXRoSmF4IiwiSHViIiwic3VwcG9ydGVkTWVkaWFUeXBlcyIsImFwcGxpY2F0aW9uL3hodG1sK3htbCIsImltYWdlL2pwZWciLCJpbWFnZS9wbmciLCJpbWFnZS9zdmcreG1sIiwiaW1hZ2UvZ2lmIiwiYXVkaW8vbXAzIiwidHJhbnNmb3JtZWRJZFByZWZpeCIsImNyZWF0ZURvY3VtZW50VVJMVHJhbnNmb3JtZXIiLCJDc3NDYXNjYWRlLnN1cHBvcnRlZE5hbWVzcGFjZXMiLCJNQVRITUwiLCJCYXNlLmVzY2FwZU5hbWVTdHJUb0hleCIsInBhdGgiLCJpdGVtcyIsImVuY29kZWQiLCJCYXNlLnVuZXNjYXBlU3RyRnJvbUhleCIsIm1ldGFkYXRhIiwiZXB1YkJhc2VVUkwiLCJkZWNvZGVVUkkiLCJtYW5pZmVzdFVSTCIsInBrZyIsInVpZHJlZiIsInVpZEVsZW0iLCJzcmNUb0ZhbGxiYWNrSWQiLCJhc0FycmF5IiwiaW5pdFdpdGhFbGVtZW50IiwiZmFsbGJhY2siLCJuYXYiLCJjb3ZlciIsIml0ZW1NYXAiLCJCYXNlLmluZGV4QXJyYXkiLCJpdGVtTWFwQnlQYXRoIiwiZ2V0UGF0aEZyb21VUkwiLCJmYWxsYmFja1NyYyIsInNwaW5lIiwiaXRlbVJlZkVsZW1lbnQiLCJ0b2NBdHRyIiwibmN4VG9jIiwicGFnZVByb2dyZXNzaW9uQXR0ciIsIkNvbnN0YW50cy5wYWdlUHJvZ3Jlc3Npb25PZiIsImlkcGZPYmZVUkxzIiwiWG1sRG9jLnByZWRpY2F0ZSIsIndpdGhDaGlsZCIsIndpdGhBdHRyaWJ1dGUiLCJtZWRpYVR5cGVFbGVtcyIsImhhbmRsZXJJZCIsImJpbmRpbmdzIiwibXJvb3QiLCJwcmVmaXhNYXAiLCJyZXNvbHZlUHJvcGVydHkiLCJpcmkiLCJyYXdJdGVtcyIsInJlZmluZXMiLCJzY2hlbWUiLCJEQyIsInJhd0l0ZW1zQnlUYXJnZXQiLCJCYXNlLm11bHRpSW5kZXhBcnJheSIsInJhd0l0ZW0iLCJtYWtlTWV0YWRhdGEiLCJCYXNlLm1hcE9iaiIsInJhd0l0ZW1BcnIiLCJpdGVtTmFtZSIsInNjaGVtYSIsImxhbmdJdGVtIiwiZW50cnlNYXAiLCJzb3J0TWV0YWRhdGEiLCJyZWFkTWV0YWRhdGEiLCJwcmVQYWdpbmF0ZWQiLCJhc3NpZ25BdXRvUGFnZXMiLCJtYW5pZmVzdFRleHQiLCJvYmZ1c2NhdGlvbnMiLCJvYmZ1c2NhdGlvbktleSIsIlNIQTEuYnl0ZXNUb1NIQTFIZXgiLCJtYWtlT2JmdXNjYXRpb25LZXkiLCJlbmNvZGVkUGF0aCIsImNvbXByZXNzZWQiLCJjb21wcmVzc2VkU2l6ZSIsIm9iZnVzY2F0aW9uIiwiREVGQVVMVCIsImVwYWdlIiwiZXBhZ2VDb3VudCIsImVwYWdlQ291bnRDYWxsYmFjayIsImVwYWdlSXNSZW5kZXJlZFBhZ2UiLCJvZmZzZXRQZXJFUGFnZSIsImdldFRvdGFsT2Zmc2V0IiwiWG1sRG9jLlhNTERvY0hvbGRlciIsImluaXRXaXRoUGFyYW0iLCJpdGVtcmVmIiwiYWRkRG9jdW1lbnQiLCJyZWFkaW5nUHJvZ3Jlc3Npb24iLCJwcmltYXJ5RW50cnlQYXRoIiwicmVhZGluZ09yZGVyIiwiZW5jb2RlVVJJIiwiaHJlZk5vRnJhZ21lbnQiLCJpdGVtQ291bnQiLCJ0b2NGb3VuZCIsInJlYWRpbmdPcmRlck9yUmVzb3VyY2VzIiwiaXRlbU9iaiIsImlzSW5SZWFkaW5nT3JkZXIiLCJlbmNvZGluZ0Zvcm1hdCIsImluaXRXaXRoQ2hhcHRlcnMiLCJvZmZzZXRJbkl0ZW0iLCJjZmkiLCJDRkkuRnJhZ21lbnQiLCJwcmVwZW5kUGF0aEZyb21Ob2RlIiwiZnJvbVN0cmluZyIsIm9wZk5hdiIsIm5hdmlnYXRlIiwiaWRyZWYiLCJub2RlTmF2IiwibWFrZVBhZ2VBbmRQb3NpdGlvbiIsIk9QRlZpZXciLCJwYWdlU2hlZXRTaXplUmVwb3J0ZXIiLCJWZ2VuLkRlZmF1bHRDbGllbnRMYXlvdXQiLCJDb3VudGVycy5Db3VudGVyU3RvcmUiLCJ2aWV3SXRlbSIsInNwaW5lSXRlbXMiLCJvbGRQYWdlIiwiaXNGaXJzdFBhZ2UiLCJwcmV2SXRlbSIsIm5ld1BhZ2UiLCJpbnNlcnRQb3MiLCJtYWtlUGFnZSIsInBvc1BhcmFtIiwibGF5b3V0UG9zaXRpb25zIiwiZmluaXNoUGFnZUNvbnRhaW5lciIsImZpbmlzaFBhZ2UiLCJwcmV2UG9zIiwicmVuZGVyU2luZ2xlUGFnZSIsImdldFVucmVzb2x2ZWRSZWZzVG9QYWdlIiwiZ2V0UGFnZVZpZXdJdGVtIiwicHVzaFBhZ2VDb3VudGVycyIsInB1c2hSZWZlcmVuY2VzVG9Tb2x2ZSIsInBvcFBhZ2VDb3VudGVycyIsInBvcFJlZmVyZW5jZXNUb1NvbHZlIiwicmVzdWx0UG9zaXRpb24iLCJwYWdlQW5kUG9zaXRpb24iLCJpc0xhc3RQYWdlIiwiZmluaXNoTGFzdFBhZ2UiLCJuZXh0TGF5b3V0UG9zaXRpb24iLCJzZWVrT2Zmc2V0Iiwic2Vla09mZnNldFBhZ2VJbmRleCIsImNvbXBsZXRlIiwic3luYyIsInJlc3VsdFBhZ2UiLCJub3JtYWxpemVkUG9zaXRpb24iLCJub3JtYWxpemVTZWVrUG9zaXRpb24iLCJyZW5kZXJQYWdlIiwicmVuZGVyUGFnZXNVcHRvIiwibm90QWxsUGFnZXMiLCJsYXN0UmVzdWx0IiwiZmluZFBhZ2UiLCJuZXh0Vmlld0l0ZW0iLCJuZXh0UGFnZSIsInNwaW5lSXRlbUxvYWRpbmdDb250aW51YXRpb25zIiwiaXNMZWZ0IiwiaXNMVFIiLCJnZXRDdXJyZW50UGFnZVByb2dyZXNzaW9uIiwiZ2V0UGFnZSIsImlzUmVjdG9QYWdlIiwicHJldmlvdXNQYWdlIiwib3RoZXJQYWdlQW5kUG9zaXRpb24iLCJ0aGlzUGFnZSIsIm90aGVyUGFnZSIsImlzUmVjdG8iLCJuZXh0MiIsInJlc3VsdDIiLCJvbGRQcmV2UGFnZUNvbnQiLCJyZXNvbHZlRVBhZ2UiLCJyZXNvbHZlRnJhZ21lbnQiLCJyZXN0b3JlZCIsInJlc3RvcmVVUkwiLCJuYXZpZ2F0ZVRvRnJhZ21lbnQiLCJwYWdlQ29udCIsIkNvbnN0YW50cy5pc0RlYnVnIiwibWF0cml4IiwiRXhwcnMubGV0dGVyYm94IiwiY3NzTWF0cml4IiwiaGFuZGxlclNyYyIsInNyY1BhcmFtIiwiQmFzZS5saWdodFVSTEVuY29kZSIsInR5cGVQYXJhbSIsInB2YWx1ZSIsImh1YiIsImNsb25lZE1hdGgiLCJpbXBvcnROb2RlIiwicmVzb2x2ZVVSTHNJbk1hdGhNTCIsIlB1c2giLCJhdHRycyIsIm5ld1VybCIsInNyY1RhZ05hbWUiLCJtYWtlT2JqZWN0VmlldyIsIm1ha2VNYXRoSmF4VmlldyIsIm1ha2VTU0VWaWV3IiwibWF0aFR5cGVzZXQiLCJsb2FkaW5nQ29udGludWF0aW9ucyIsInByZXZpb3VzVmlld0l0ZW0iLCJmb3JjZVNldFBhZ2VDb3VudGVyIiwicHViVGl0bGVzIiwiYXV0b2hpZGUiLCJ0b2MiLCJ0b2NBdXRvaGlkZSIsInRvY1ZpZXciLCJUb2MuVE9DVmlldyIsInRvY1dpZHRoIiwidG9jSGVpZ2h0Iiwic2hvd1RPQyIsImhpZGVUT0MiLCJpc1RPQ1Zpc2libGUiLCJWSUVXUE9SVF9TVEFUVVNfQVRUUklCVVRFIiwiVklFV1BPUlRfU1BSRUFEX1ZJRVdfQVRUUklCVVRFIiwiUGFnZVZpZXdNb2RlIiwiWm9vbVR5cGUiLCJBZGFwdGl2ZVZpZXdlciIsInZpZXdwb3J0RWxlbWVudCIsImluc3RhbmNlSWQiLCJjYWxsYmFja0ZuIiwiRm9udC5NYXBwZXIiLCJraWNrIiwic2VuZENvbW1hbmQiLCJyZXNpemVMaXN0ZW5lciIsIm5lZWRSZXNpemUiLCJwYWdlUmVwbGFjZWRMaXN0ZW5lciIsImh5cGVybGlua0xpc3RlbmVyIiwicGFnZVJ1bGVTdHlsZUVsZW1lbnQiLCJsb2FkUHVibGljYXRpb24iLCJsb2FkWE1MIiwiY29uZmlndXJlIiwibW92ZVRvIiwiYWRkTG9nTGlzdGVuZXJzIiwiQ29uc3RhbnRzLlJlYWR5U3RhdGUiLCJMT0FESU5HIiwicGFja2FnZVVSTCIsInRvdWNoQWN0aXZlIiwidG91Y2hYIiwidG91Y2hZIiwibmVlZFJlZnJlc2giLCJjdXJyZW50U3ByZWFkIiwicGFnZVBvc2l0aW9uIiwiZml0VG9TY3JlZW4iLCJwYWdlVmlld01vZGUiLCJTSU5HTEVfUEFHRSIsIndhaXRGb3JMb2FkaW5nIiwicmVuZGVyQWxsUGFnZXMiLCJsb2dMZXZlbCIsIkxvZ2dpbmcuTG9nTGV2ZWwiLCJhZGRMaXN0ZW5lciIsImNvbW1hbmQiLCJQcm9maWxlLnByb2ZpbGVyIiwic2V0UmVhZHlTdGF0ZSIsInppcG1ldGEiLCJhdXRob3JTdHlsZVNoZWV0IiwidXNlclN0eWxlU2hlZXQiLCJFcHViLkVQVUJEb2NTdG9yZSIsImxvYWRQdWJEb2MiLCJyZW5kZXIiLCJyZXNvbHZlZFBhcmFtcyIsIkVwdWIuT1BGRG9jIiwiY2FuY2VsUmVuZGVyaW5nVGFzayIsInJlc2l6ZSIsIm1hdGNoZWQiLCJhdXRvcmVzaXplIiwidnAiLCJyZXNvbHZlTGVuZ3RoIiwidXNlckFnZW50Um9vdFVSTCIsIkJhc2Uuc2V0QmFzZVVSTCIsIkJhc2Uuc2V0UmVzb3VyY2VCYXNlVVJMIiwicm9vdFVSTCIsImNvbmZpZ3VyZVBsdWdpbnMiLCJDT05GSUdVUkFUSU9OIiwic2hvd0N1cnJlbnQiLCJmb3JDdXJyZW50UGFnZXMiLCJyZW1vdmVQYWdlTGlzdGVuZXJzIiwiaGlkZVBhZ2VzIiwic2hvd1NpbmdsZVBhZ2UiLCJsZWZ0V2lkdGgiLCJyaWdodFdpZHRoIiwiZ2V0Q0ZJIiwic2VuZExvY2F0aW9uTm90aWZpY2F0aW9uIiwidnMiLCJTUFJFQUQiLCJBVVRPX1NQUkVBRCIsImNyZWF0ZVZpZXdwb3J0IiwicmVzb2x2ZVNwcmVhZFZpZXciLCJzcHJlYWRWaWV3Q2hhbmdlZCIsInVwZGF0ZVNwcmVhZFZpZXciLCJvcGZWaWV3IiwiaGFzUGFnZXMiLCJoYXNBdXRvU2l6ZWRQYWdlcyIsInNldFBhZ2VTaXplUGFnZVJ1bGVzIiwicGFnZVNoZWV0U2l6ZUFscmVhZHlTZXQiLCJzdHlsZVRleHQiLCJ0b2NWaXNpYmxlIiwicmVtb3ZlUmVuZGVyZWRQYWdlcyIsInJlbW92ZVBhZ2VTaXplUGFnZVJ1bGVzIiwicmVzZXRab29tIiwiRXB1Yi5PUEZWaWV3Iiwic2V0UGFnZVNpemUiLCJnZXRTcHJlYWQiLCJzaG93U3ByZWFkIiwic2V0U3ByZWFkWm9vbSIsInNob3dQYWdlIiwic2V0UGFnZVpvb20iLCJnZXRBZGp1c3RlZFpvb21GYWN0b3IiLCJnZXRTcHJlYWREaW1lbnNpb25zIiwicGFnZURpbWVuc2lvbiIsImNhbGN1bGF0ZVpvb21GYWN0b3JUb0ZpdEluc2lkZVZpZXdQb3J0IiwiRklUX0lOU0lERV9WSUVXUE9SVCIsInBhZ2VEaW0iLCJ3aWR0aFpvb20iLCJoZWlnaHRab29tIiwicmVuZGVyVGFzayIsImludGVycnVwdCIsIlJlbmRlcmluZ0NhbmNlbGVkRXJyb3IiLCJzaXplSXNHb29kIiwicmVzaXplVGFzayIsInNldEVQYWdlQ291bnRNb2RlIiwiSU5URVJBQ1RJVkUiLCJjb3VudEVQYWdlcyIsIm5vdGlmaWNhdGlvbiIsInJlcG9ydFBvc2l0aW9uIiwiQ09NUExFVEUiLCJnZXRFUGFnZUZyb21Qb3NpdGlvbiIsIm5leHRTcHJlYWQiLCJwcmV2aW91c1NwcmVhZCIsImxhc3RQYWdlIiwiZmlyc3RQYWdlIiwibmF2aWdhdGVUb0VQYWdlIiwibmF2aWdhdGVUbyIsImN1cnJlbnRWaXNpYmlsaXR5IiwiY2hhbmdlQXV0b2hpZGUiLCJhY3Rpb25OYW1lIiwiY21kIiwibWF5YmVQYXJzZSIsInZpZXdlciIsIlRhc2suc3RhcnQiLCJocmVmRXZlbnQiLCJpbnRlcm5hbCIsInJ1bkNvbW1hbmQiLCJmcmFtZUludGVybmFsIiwiYWRhcHRfY29tbWFuZCIsImNvbnZlcnRWaWV3ZXJPcHRpb25zIiwiQ29yZVZpZXdlciIsInNldHRpbmdzIiwib3B0X29wdGlvbnMiLCJDb25zdGFudHMuc2V0RGVidWciLCJhZGFwdFZpZXdlcl8iLCJBZGFwdGl2ZVZpZXdlci5BZGFwdGl2ZVZpZXdlciIsImRpc3BhdGNoZXIiLCJhdXRvUmVzaXplIiwicGFnZUJvcmRlcldpZHRoIiwiQWRhcHRpdmVWaWV3ZXIuUGFnZVZpZXdNb2RlIiwic2V0T3B0aW9ucyIsImV2ZW50VGFyZ2V0IiwiZGVmaW5lUHJvcGVydHkiLCJzaW5nbGVEb2N1bWVudE9wdGlvbnMiLCJvcHRfZG9jdW1lbnRPcHRpb25zIiwib3B0X3ZpZXdlck9wdGlvbnMiLCJsb2FkRG9jdW1lbnRPclB1YmxpY2F0aW9uIiwicHViVXJsIiwiZG9jdW1lbnRPcHRpb25zIiwiY29udmVydFN0eWxlU2hlZXRBcnJheSIsImNvbnZlcnRTaW5nbGVEb2N1bWVudE9wdGlvbnMiLCJkb2N1bWVudE9iamVjdCIsImluaXRpYWxpemVkIiwiaW5pdEVtYmVkIiwiTmF2aWdhdGlvbiIsIlBSRVZJT1VTIiwiTkVYVCIsIm9wdF9lcGFnZSIsIkVQQUdFIiwicmVzb2x2ZU5hdmlnYXRpb24iLCJvcHRfc2hvdyIsIm9wdF9hdXRvaGlkZSIsInF1ZXJ5Wm9vbUZhY3RvciIsInRvTnVtYmVyT3JOdWxsIiwib3B0IiwiaXNBcnJheSIsIkFkYXB0aXZlVmlld2VyLlpvb21UeXBlIiwiZm9yY2VSZWdpc3RlckVuZFRpbWluZyIsIlZpdmxpb3N0eWxlUHJpbnQiLCJodG1sRG9jIiwicHJpbnRDYWxsYmFjayIsImlmcmFtZVdpbiIsImhpZGVJZnJhbWUiLCJyZW1vdmVJZnJhbWUiLCJib3JkZXJXaWR0aCIsInByaW50SW5zdGFuY2UiLCJzcmNkb2MiLCJ2aWV3cG9ydENzcyIsInZpZXdwb3J0U2NyZWVuQ3NzIiwicHJlcGFyZVByaW50IiwiYnJvd3NlclByaW50IiwiY2xlYW5VcCIsImRvY0Jsb2IiLCJWaWV3ZXIiLCJsb2FkRG9jdW1lbnQiLCJjb25maWciLCJQUkVTRVRfU0laRSIsImRlc2NyaXB0aW9uIiwiQ09OU1RBTlRTIiwiY3VzdG9tV2lkdGgiLCJjdXN0b21IZWlnaHQiLCJjdXN0b21NYXJnaW4iLCJiYXNlTGluZUhlaWdodCIsImJhc2VGb250RmFtaWx5Iiwidmlld2VyRm9udFNpemUiLCJQYWdlU3R5bGUiLCJwYWdlU3R5bGUiLCJQcmVzZXRTaXplIiwicGFnZVNpemVNb2RlIiwib2JzZXJ2YWJsZSIsIkRlZmF1bHQiLCJwcmVzZXRTaXplIiwiaXNMYW5kc2NhcGUiLCJwYWdlU2l6ZUltcG9ydGFudCIsInBhZ2VNYXJnaW5Nb2RlIiwicGFnZU1hcmdpbkltcG9ydGFudCIsImZpcnN0UGFnZU1hcmdpblplcm8iLCJmaXJzdFBhZ2VNYXJnaW5aZXJvSW1wb3J0YW50IiwiZm9yY2VIdG1sQm9keU1hcmdpblplcm8iLCJ3aWRvd3NPcnBoYW5zIiwid2lkb3dzT3JwaGFuc0ltcG9ydGFudCIsImltYWdlTWF4U2l6ZVRvRml0UGFnZSIsImltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudCIsImltYWdlS2VlcEFzcGVjdFJhdGlvIiwiaW1hZ2VLZWVwQXNwZWN0UmF0aW9JbXBvcnRhbnQiLCJiYXNlRm9udFNpemVTcGVjaWZpZWQiLCJiYXNlRm9udFNpemVJbXBvcnRhbnQiLCJiYXNlTGluZUhlaWdodFNwZWNpZmllZCIsImJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50IiwiYmFzZUZvbnRGYW1pbHlTcGVjaWZpZWQiLCJiYXNlRm9udEZhbWlseUltcG9ydGFudCIsImFsbEltcG9ydGFudCIsInBhZ2VPdGhlclN0eWxlIiwiZmlyc3RQYWdlT3RoZXJTdHlsZSIsInJvb3RPdGhlclN0eWxlIiwiYmVmb3JlT3RoZXJTdHlsZSIsImFmdGVyT3RoZXJTdHlsZSIsInNldFZpZXdlckZvbnRTaXplT2JzZXJ2YWJsZSIsInZpZXdlckZvbnRTaXplT2JzZXJ2YWJsZSIsImZvbnRTaXplUHhUb1BlcmNlbnQiLCJ2aWV3ZXJGb250U2l6ZVBlcmNlbnQiLCJwdXJlQ29tcHV0ZWQiLCJwZXJjZW50IiwiZm9udFNpemVQZXJjZW50VG9QeCIsImNzc1RleHQiLCJ0b0NTU1RleHQiLCJmcm9tQ1NTVGV4dCIsInBhZ2VTdHlsZVJlZ0V4cCIsImNlbnQiLCJwcmVjaXNpb24iLCJ0b1ByZWNpc2lvbiIsInNpemVXXyIsInNpemVIXyIsInNpemVJbXBvcnRhbnQiLCJwYWdlT3RoZXJTdHlsZV8iLCJmaXJzdFBhZ2VPdGhlclN0eWxlXyIsImJhc2VGb250U2l6ZV8iLCJiYXNlRm9udEZhbWlseV8iLCJyb290T3RoZXJTdHlsZV8iLCJhZnRlck90aGVyU3R5bGVfIiwic2l6ZVciLCJzaXplSCIsImNvdW50SW1wb3J0YW50IiwiY291bnROb3RJbXBvcnRhbnQiLCJBdXRvIiwiUHJlc2V0IiwiQ3VzdG9tIiwiWmVybyIsImltcCIsImVzY2FwZVVuaWNvZGVDaGFyIiwicGVyY2VudEVuY29kZUFtcGVyc2FuZEFuZFVuZW5jb2RlZFBlcmNlbnQiLCJwZXJjZW50RW5jb2RlQW1wZXJzYW5kQW5kUGVyY2VudCIsInBlcmNlbnREZWNvZGVBbXBlcnNhbmRBbmRQZXJjZW50IiwicGVyY2VudEVuY29kZUZvckRhdGFVUkkiLCJnZXRSZWdFeHBGb3JQYXJhbWV0ZXIiLCJzdHJpbmdVdGlsIiwiZXNjYXBlVW5pY29kZVN0cmluZyIsImhpc3RvcnkiLCJzdG9yZWRVcmwiLCJyZXN1bHRzIiwidXBkYXRlZCIsInJlcGxhY2VTdGF0ZSIsImtlZXBGaXJzdCIsImxhc3RJbmRleCIsIkRvY3VtZW50T3B0aW9ucyIsInVybE9wdGlvbnMiLCJib29rVXJsIiwidXJsUGFyYW1ldGVycyIsImdldFBhcmFtZXRlciIsInhVcmwiLCJ1c2VyU3R5bGUiLCJnZXREb2N1bWVudE9wdGlvbnNGcm9tVVJMIiwiZGF0YVVzZXJTdHlsZUluZGV4IiwicmVtb3ZlUGFyYW1ldGVyIiwic2V0UGFyYW1ldGVyIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwidXBkYXRlVXNlclN0eWxlU2hlZXRGcm9tQ1NTVGV4dCIsInVzZXJTdHlsZVNoZWV0QXJyYXkiLCJkYXRhVXNlclN0eWxlIiwiUGFnZVZpZXdNb2RlSW5zdGFuY2UiLCJDb3JlUGFnZVZpZXdNb2RlIiwiWm9vbU9wdGlvbnMiLCJfdmlld2VyIiwiRml4ZWRab29tRmFjdG9yIiwiZ2V0Q3VycmVudFpvb21GYWN0b3IiLCJGaXRUb1NjcmVlbiIsImdldERlZmF1bHRWYWx1ZXMiLCJoYXNQYXJhbWV0ZXIiLCJkZWZhdWx0TW9kZSIsImNyZWF0ZURlZmF1bHRPcHRpb25zIiwiVmlld2VyT3B0aW9ucyIsImZvbnRTaXplU3RyIiwiZGVub20iLCJmcm9tU3ByZWFkVmlld1N0cmluZyIsImdldFZpZXdlck9wdGlvbnNGcm9tVVJMIiwidG9TcHJlYWRWaWV3U3RyaW5nIiwib2JzZXJ2YWJsZUFycmF5IiwiTG9nZ2VyIiwiRGVidWciLCJtZXNzYWdlUXVldWUiLCJJbmZvIiwiV2FybiIsInV0aWwiLCJvYnMiLCJnZXR0ZXIiLCJ2aWV3ZXJTZXR0aW5ncyIsInZpZXdlck9wdGlvbnMiLCJ2aWV3ZXJPcHRpb25zXyIsImRvY3VtZW50T3B0aW9uc18iLCJjb3JlVmlld2VyXyIsInRvT2JqZWN0Iiwic3RhdGVfIiwicmVhZG9ubHlPYnNlcnZhYmxlIiwibmF2aWdhdGFibGUiLCJ0b2NQaW5uZWQiLCJpbnB1dFVybCIsInNldHVwVmlld2VyRXZlbnRIYW5kbGVyIiwic2V0dXBWaWV3ZXJPcHRpb25TdWJzY3JpcHRpb25zIiwiZ2V0TG9nZ2VyIiwicGF5bG9hZCIsInRvY1Zpc2libGVPbGQiLCJ0b2NWaXNpYmxlTmV3IiwibmF2aWdhdGVUb0ludGVybmFsVXJsIiwiY29tcHV0ZWQiLCJuYXZpZ2F0ZVRvUGFnZSIsIkZJUlNUIiwic2hvd24iLCJhdXRvSGlkZSIsIktleXMiLCJVbmlkZW50aWZpZWQiLCJBcnJvd0Rvd24iLCJBcnJvd0xlZnQiLCJBcnJvd1JpZ2h0IiwiQXJyb3dVcCIsIkhvbWUiLCJFbmQiLCJQYWdlRG93biIsIlBhZ2VVcCIsIkVzY2FwZSIsIkVudGVyIiwiU3BhY2UiLCJpZGVudGlmeUtleUZyb21FdmVudCIsImtleUlkZW50aWZpZXIiLCJtZXRhS2V5IiwiS2V5Ym9hcmRFdmVudCIsIkRPTV9LRVlfTE9DQVRJT05fTlVNUEFEIiwia2V5VXRpbCIsInNldHRpbmdzUGFuZWwiLCJuYXZpZ2F0aW9uT3B0aW9ucyIsInZpZXdlcl8iLCJzZXR0aW5nc1BhbmVsXyIsImp1c3RDbGlja2VkIiwiaXNEaXNhYmxlZCIsIm9wZW5lZCIsInBpbm5lZCIsIm5hdmlnYXRpb25EaXNhYmxlZCIsImRpc2FibGVQYWdlTmF2aWdhdGlvbiIsInBhZ2VOdW1iZXJFbGVtIiwiaXNQYWdlTnVtYmVyRGlzYWJsZWQiLCJpc05hdmlnYXRlVG9QcmV2aW91c0Rpc2FibGVkIiwiaXNOYXZpZ2F0ZVRvTmV4dERpc2FibGVkIiwiaXNOYXZpZ2F0ZVRvTGVmdERpc2FibGVkIiwiaXNOYXZpZ2F0ZVRvUmlnaHREaXNhYmxlZCIsImlzTmF2aWdhdGVUb0ZpcnN0RGlzYWJsZWQiLCJpc05hdmlnYXRlVG9MYXN0RGlzYWJsZWQiLCJoaWRlUGFnZU5hdmlnYXRpb24iLCJ6b29tRGlzYWJsZWQiLCJkaXNhYmxlWm9vbSIsImlzWm9vbU91dERpc2FibGVkIiwiaXNab29tSW5EaXNhYmxlZCIsImlzWm9vbVRvQWN0dWFsU2l6ZURpc2FibGVkIiwiaXNUb2dnbGVGaXRUb1NjcmVlbkRpc2FibGVkIiwiaGlkZVpvb20iLCJmb250U2l6ZUNoYW5nZURpc2FibGVkIiwiZGlzYWJsZUZvbnRTaXplQ2hhbmdlIiwiaXNJbmNyZWFzZUZvbnRTaXplRGlzYWJsZWQiLCJpc0RlY3JlYXNlRm9udFNpemVEaXNhYmxlZCIsImlzRGVmYXVsdEZvbnRTaXplRGlzYWJsZWQiLCJoaWRlRm9udFNpemVDaGFuZ2UiLCJpc1RPQ1RvZ2dsZURpc2FibGVkIiwiZGlzYWJsZVRPQ05hdmlnYXRpb24iLCJoaWRlVE9DTmF2aWdhdGlvbiIsImVwYWdlVG9QYWdlTnVtYmVyIiwicGFnZU51bWJlclRleHQiLCJlcGFnZU9sZCIsInBhZ2VOdW1iZXJPbGQiLCJlcGFnZU5hdiIsImVwYWdlRnJvbVBhZ2VOdW1iZXIiLCJ0b3RhbFBhZ2VzIiwibWV0aG9kTmFtZSIsIm5hdmlnYXRlVG9QcmV2aW91cyIsIm5hdmlnYXRlVG9OZXh0IiwibmF2aWdhdGVUb0xlZnQiLCJuYXZpZ2F0ZVRvUmlnaHQiLCJuYXZpZ2F0ZVRvRmlyc3QiLCJuYXZpZ2F0ZVRvTGFzdCIsInpvb21JbiIsInpvb21PdXQiLCJ6b29tVG9BY3R1YWxTaXplIiwidG9nZ2xlRml0VG9TY3JlZW4iLCJ1cGRhdGVGb250U2l6ZVNldHRpbmdzIiwidG9jQm94IiwidG9nZ2xlVE9DIiwiaW50ZXJ2YWxJRCIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImlzQnV0dG9uIiwiaXNFeHBhbmRlZCIsInNldHRpbmdzVG9nZ2xlIiwiaG9yaXpvbnRhbFNjcm9sbGFibGUiLCJzY3JvbGxXaWR0aCIsImNsaWVudFdpZHRoIiwidmVydGljYWxTY3JvbGxhYmxlIiwic2Nyb2xsSGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiaXNQYWdlTnVtYmVySW5wdXQiLCJpc1RPQ0FjdGl2ZSIsImluY3JlYXNlRm9udFNpemUiLCJkZWNyZWFzZUZvbnRTaXplIiwibmF2aWdhdGVUT0MiLCJTZXR0aW5nc1BhbmVsIiwibWVzc2FnZURpYWxvZyIsInNldHRpbmdzUGFuZWxPcHRpb25zIiwiaXNQYWdlU3R5bGVDaGFuZ2VEaXNhYmxlZCIsImRpc2FibGVQYWdlU3R5bGVDaGFuZ2UiLCJpc092ZXJyaWRlRG9jdW1lbnRTdHlsZVNoZWV0RGlzYWJsZWQiLCJpc1BhZ2VWaWV3TW9kZUNoYW5nZURpc2FibGVkIiwiZGlzYWJsZVBhZ2VWaWV3TW9kZUNoYW5nZSIsImlzUmVuZGVyQWxsUGFnZXNDaGFuZ2VEaXNhYmxlZCIsImRpc2FibGVSZW5kZXJBbGxQYWdlc0NoYW5nZSIsIm9mIiwiZGVmYXVsdFBhZ2VTdHlsZSIsImZvY3VzVG9GaXJzdEl0ZW0iLCJlcXVpdmFsZW50VG8iLCJvdXRlckVsZW1QYXJhbSIsIm91dGVyRWxlbSIsImlucHV0RWxlbSIsImlzU2V0dGluZ3NBY3RpdmUiLCJpc0luSW5wdXQiLCJpc0luVGV4dEFyZWEiLCJpc0hvdEtleUVuYWJsZWQiLCJNZXNzYWdlRGlhbG9nIiwiZXJyb3JJbmZvIiwiVmlld2VyQXBwIiwiVml2bGlvc3R5bGUiLCJnZXRCYXNlVVJMIiwiVmlld2VyVUkiLCJwdXNoU3RhdGUiLCJuYXZpZ2F0aW9uIiwiaGFuZGxlS2V5Iiwia2V5Q29kZSIsImN0cmxLZXkiLCJhbHRLZXkiLCJzaGlmdEtleSIsIm9uaGFzaGNoYW5nZSIsInJlbG9hZCIsInN1cHBvcnRUb3VjaEV2ZW50cyIsImJpbmRpbmdIYW5kbGVycyIsIm1lbnVCdXR0b24iLCJ2YWx1ZUFjY2Vzc29yIiwidW53cmFwIiwidXRpbHMiLCJ0b2dnbGVEb21Ob2RlQ3NzQ2xhc3MiLCJnZXRTZWxlY3Rpb24iLCJyZW1vdmVBbGxSYW5nZXMiLCJ4U3RhcnQiLCJ5U3RhcnQiLCJhcnJvd0J1dHRvbiIsInN3aXBlUGFnZXMiLCJ0b3VjaGVzIiwidmlzdWFsVmlld3BvcnQiLCJjbGllbnRYIiwiY2xpZW50WSIsInhEaWZmIiwieURpZmYiLCJzdGFydFZpZXdlciIsImFwcGx5QmluZGluZ3MiLCJvbmxvYWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OzhKQWlDS0E7Ozs7OztVQzNCa0JDLE9BQU9DLEVBQUVDLE9BQU0sRUFBR0MsTUFBTSxRQUFRQyxFQUFFSCxFQUFFSSxTQUFTQyxFQUFFTCxFQUFFTSxVQUFVQyxFQUFFUCxFQUFFUSxPQUFPQyxFQUFFVCxFQUFFVSxLQUFLSCxHQUFHLG9CQUFxQkMsU0FBU0QsRUFBRUMsaUJBQWtCVCxHQUE4SEEsRUFBRVksRUFBT0MsU0FBU0EsS0FBc0IsU0FBU0MsRUFBRUMsWUFBWUMsRUFBRUMsRUFBRUMsVUFBVSxPQUFPRCxVQUFVQSxLQUFLRSxJQUFFRixJQUFJQyxXQUFjRSxFQUFFQyxFQUFFSCxPQUFPSSxTQUFTLFdBQVdBLElBQUlBLEVBQUVMLEVBQUVBLEVBQUVNLFlBQVcsV0FBV0QsRUFBRXRCLEVBQUVxQixNQUFLSCxjQUFjTSxFQUFFSCxFQUFFSCxPQUFPSSxTQUFTLFdBQVdHLGFBQWFILEdBQ2xoQkEsRUFBRUwsRUFBRUEsRUFBRU0sV0FBV0YsRUFBRUgsYUFBYVEsRUFBRVQsRUFBRUMsR0FBR0EsR0FB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UDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU80QyxLQUNQNUMsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPNkMsS0FDUDdDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU8yQyxRQUNQM0MsR0FBTzhDLFFBQ1A5QyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzZDLEtBQ1A3QyxHQUFPMkMsUUFDUDNDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxTQUdURCxHQUFnQnJDLElBQUlMLEdBQU8yQyxRQUszQixNQUFhSSxHQUE4QixDQUN6Qy9DLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9nRCxRQUNQaEQsR0FBT2lELE1BQ1BqRCxHQUFPTyxRQUNQUCxHQUFPaUQsTUFDUGpELEdBQU9pRCxNQUNQakQsR0FBT2lELE1BQ1BqRCxHQUFPaUQsTUFDUGpELEdBQU9pRCxNQUNQakQsR0FBT2lELE1BQ1BqRCxHQUFPaUQsTUFDUGpELEdBQU9pRCxNQUNQakQsR0FBT2lELE1BQ1BqRCxHQUFPaUQsTUFDUGpELEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPTyxRQUNQUCxHQUFPa0QsT0FDUGxELEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9nRCxRQUNQaEQsR0FBT08sUUFDUFAsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFNBR1RtQyxHQUFnQnJDLElBQUlMLEdBQU8yQyxRQUszQixNQUFhUSxHQUF5QixDQUNwQ25ELEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9vRCxPQUNQcEQsR0FBT2lELE1BQ1BqRCxHQUFPTSxJQUNQTixHQUFPcUQsTUFDUHJELEdBQU9xRCxNQUNQckQsR0FBT3FELE1BQ1ByRCxHQUFPcUQsTUFDUHJELEdBQU9xRCxNQUNQckQsR0FBT3FELE1BQ1ByRCxHQUFPcUQsTUFDUHJELEdBQU9xRCxNQUNQckQsR0FBT3FELE1BQ1ByRCxHQUFPcUQsTUFDUHJELEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPTSxJQUNQTixHQUFPa0QsT0FDUGxELEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9zRCxRQUNQdEQsR0FBT00sSUFDUE4sR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLEtBR1Q2QyxHQUFnQjlDLElBQUlMLEdBQU9NLElBSzNCLE1BQWFpRCxHQUE0QixDQUN2Q3ZELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU95RCxRQUNQekQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPeUQsUUFDUHpELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBTzBELE9BQ1AxRCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBT3dELFFBQ1B4RCxHQUFPOEMsUUFDUDlDLEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPNkMsS0FDUDdDLEdBQU93RCxRQUNQeEQsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFNBR1RELEdBQW1CbEQsSUFBSUwsR0FBT3dELFFBSzlCLE1BQWFHLEdBQXVCLENBQ2xDM0QsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNkQsT0FDUDdELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPOEQsT0FDUDlELEdBQU80RCxPQUNQNUQsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU8rRCxLQUNQL0QsR0FBTzRELE9BQ1A1RCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsUUFHVEQsR0FBY3RELElBQUlMLEdBQU80RCxPQUt6QixNQUFhSSxHQUEwQixDQUNyQ2hFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBTzZELE9BQ1A3RCxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPK0QsS0FDUC9ELEdBQU9pRSxPQUNQakUsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9E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
